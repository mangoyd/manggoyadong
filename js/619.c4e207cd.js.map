{"version":3,"file":"js/619.c4e207cd.js","mappings":"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I,SAASs7B,GACjM,OAAOyrF,EAAK/S,KAAK14E,EACnB,KAAK,CAACyrF,EAAKK,KAAKrK,KAEpB,GACC,CACD3zG,IAAK,OACL0I,MAAO,SAAcqO,GACnB,IAAIo5E,EAAYj6F,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,IAC7E+nH,EAAQN,EAAK1U,IAAI0U,EAAKxxB,MAAMwe,KAAM,IAAI7wG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAq2F,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAp5E,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,OAEF,OAAOknG,CACT,GACC,CACDj+G,IAAK,OACL0I,MAAO,SAAcuoF,GACnB,IAAIitB,EAAQP,EAAK1U,IAAI0U,EAAKxxB,MAAMye,KAAM+S,EAAK5S,KAAK9Z,EAAMjuF,GAAIiuF,EAAMyjB,cAAgB,EAAGzjB,EAAM7/E,MAAO6/E,EAAM5/E,QAASssG,EAAK3S,KAAK/Z,IACzH,OAAOitB,CACT,GACC,CACDl+G,IAAK,OACL0I,MAAO,SAAc1F,EAAI+T,GACvB,IAAI3F,EAAQlb,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EACzEmb,EAASnb,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EAC1EioH,EAAQR,EAAK1U,IAAI0U,EAAKxxB,MAAM4e,KAAM,IAAIjxG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAkJ,GAAM,GAAK,IACXA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA+T,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA3F,GAAS,EAAI,IACL,IAARA,EACA,EACA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,KAEF,OAAO8sG,CACT,GACC,CACDn+G,IAAK,OACL0I,MAAO,SAAcuoF,GACnB,IAAImtB,EAAQT,EAAK1U,IAAI0U,EAAKxxB,MAAM6e,KAAM2S,EAAKrS,KAAKra,EAAMl6E,SAAUk6E,EAAMd,WAAYwtB,EAAKpS,KAAKta,EAAMt7F,MAAOgoH,EAAKnS,KAAKva,IACnH,OAAOmtB,CACT,GACC,CACDp+G,IAAK,OACL0I,MAAO,SAAcqO,GACnB,IAAIo5E,EAAYj6F,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,IAC7EmoH,EAAQV,EAAK1U,IAAI0U,EAAKxxB,MAAMmf,KAAM,IAAIxxG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAq2F,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAp5E,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,GACA,IACA,EACA,KAEF,OAAOsnG,CACT,GACC,CACDr+G,IAAK,OACL0I,MAAO,SAAc/S,GACnB,IAAI2oH,EAAQX,EAAK1U,IAAI0U,EAAKxxB,MAAMof,KAAMoS,EAAKY,WAAW5oH,IACtD,OAAO2oH,CACT,GACC,CACDt+G,IAAK,OACL0I,MAAO,SAAcuoF,GACnB,IAAIutB,EAAQb,EAAK1U,IAAI0U,EAAKxxB,MAAMqf,KAAMva,EAAMt7F,OAASq+F,GAAUxL,MAAQm1B,EAAKc,KAAOd,EAAKe,KAAMf,EAAKgB,KAAMhB,EAAK/R,KAAK3a,IACnH,OAAOutB,CACT,GACC,CACDx+G,IAAK,OACL0I,MAAO,SAAcuoF,GACnB,IAAI2tB,EAAS,GACT3tB,GAASA,EAAMz0E,KACjBy0E,EAAMz0E,IAAIswF,MAAQ8R,EAAO3hH,KAAK0gH,EAAK7Q,KAAK7b,EAAMz0E,IAAIswF,KAAK76E,UAEzD,IAAI4sF,EAAQlB,EAAK1U,IAAI0U,EAAKxxB,MAAMyf,KAAM+R,EAAKxR,KAAKlb,GAAQ0sB,EAAKmB,KAAMF,EAAO,GAAIjB,EAAKoB,KAAMpB,EAAKqB,KAAMrB,EAAKsB,MACzG,OAAOJ,CACT,GACC,CACD7+G,IAAK,OACL0I,MAAO,SAAcuoF,GACnB,IAAI8sB,EAGAA,EAFe,UAAf9sB,EAAMt7F,KACJs7F,EAAMskB,QAAUtkB,EAAM6lB,KACd6G,EAAK7G,KAAK7lB,GAEhBA,EAAMz8D,YAAc+/D,GAAeI,KAC3BgpB,EAAKuB,KAAKjuB,GAEV0sB,EAAKrP,KAAKrd,GAGfA,EAAMskB,QAAUtkB,EAAMwkB,KACrBkI,EAAKlI,KAAKxkB,GACXA,EAAM+e,KACL2N,EAAKxP,KAAKld,GAEV0sB,EAAKwB,SAASluB,GAE1B,IAAImuB,EAAQzB,EAAK1U,IAAI0U,EAAKxxB,MAAMggB,KAAM,IAAIryG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACEikH,GACJ,OAAOqB,CACT,GACC,CACDp/G,IAAK,OACL0I,MAAO,SAAcrR,GACnB,IAAIq5F,EAAer5F,EAAKy/G,KAAKpmB,aACzBW,EAAah6F,EAAKy/G,KAAKzlB,WACvB0sB,EAAU,IAAIjkH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA42F,EACA,EACA,GACA,EACA,EACA,EACA,EACAW,GAAc,EAAI,IACL,IAAbA,EACA,EACA,IAEEud,EAAO+O,EAAK/O,KAAKv3G,EAAKgQ,QACtBslG,EAAOgR,EAAKhR,KAAKt1G,EAAKy/G,MAC1B,OAAO6G,EAAK1U,IAAI0U,EAAKxxB,MAAM2qB,KAAMiH,EAASnP,EAAMjC,EAClD,GACC,CACD3sG,IAAK,OACL0I,MAAO,SAAcuoF,GACnB,IAAIouB,EAAgBxuB,EAChByO,EAAMrO,EAAMqO,IAAI5mG,OAAS,EAAIu4F,EAAMqO,IAAI,GAAK,GAC5CsE,EAAM3S,EAAM2S,IAAIlrG,OAAS,EAAIu4F,EAAM2S,IAAI,GAAK,GAC5CxyF,EAAQ6/E,EAAM7/E,MACdC,EAAS4/E,EAAM5/E,OACf6gG,EAAWjhB,EAAM2P,SAAS,GAC1BuR,EAAWlhB,EAAM2P,SAAS,GAC1Bmd,EAAU,IAAIjkH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAsX,GAAS,EAAI,IACL,IAARA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KAEEiuG,EAAO,IAAIxlH,YAAYulH,GAAkBxuB,EAAO,CAClD,EACAyO,EAAI,GACJA,EAAI,GACJA,E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,IAAK,EAAG2mG,EAAIlrG,QACtBkrG,EAAIzhG,QAAQ89G,GAEhB,MACE5oH,EAAO,CACL,EACA,EACA,GACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,GACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,IACA,IACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,IACA,EACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,GACA,IAGJ,OAAOsmH,EAAK1U,IAAI0U,EAAKxxB,MAAMmV,KAAM,IAAIxnG,WAAWzC,GAClD,GACC,CACD2I,IAAK,OACL0I,MAAO,SAAc8qF,GACnB,IAAI0sB,EAAQjjC,GAAeuW,EAAO,GAAI0e,EAAWgO,EAAM,GAAI/N,EAAW+N,EAAM,GAC5E,OAAOvC,EAAK1U,IAAI0U,EAAKxxB,MAAM6iB,KAAM,IAAIl1G,WAAW,CAACo4G,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,EAAgBC,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,IACzL,GACC,CACDnyG,IAAK,OACL0I,MAAO,SAAcuoF,GACnB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMmiB,KAAM,IAAIx0G,WAAW,CAC9C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAm3F,EAAMP,aACN,EA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EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IAEF8hB,MAAO,IAAI9hB,WAAW,CACpB,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,MAGJ66E,GAAgB+M,GAAK,WAAYA,GAAIunB,IAAIvnB,GAAIyK,MAAM2xB,KAAM,IAAIhkH,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,OAEF66E,GAAgB+M,GAAK,WAAYA,GAAIunB,IAAIvnB,GAAIyK,MAAM2xB,KAAM,IAAIhkH,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,OAEF66E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAM23B,KAAMpiC,GAAIunB,IAAIvnB,GAAIyK,MAAM43B,KAAM,IAAIjqH,WAAW,CAC1F,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,GACA,EACA,EACA,EACA,OAEF66E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMuf,KAAM,IAAI5xG,WAAW,CAClE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,MAEF66E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMwf,KAAM,IAAI7xG,WAAW,CAClE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,MAEF66E,GAAgB+M,GAAK,YAAa,IAAI5nF,WAAW,CAC/C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,KAEF66E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,M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","sources":["webpack://new-web/./node_modules/delegate/src/closest.js","webpack://new-web/./node_modules/delegate/src/delegate.js","webpack://new-web/./node_modules/downloadjs/download.js","webpack://new-web/./node_modules/eventemitter3/index.js","webpack://new-web/./src/components/NewPage.vue","webpack://new-web/./src/components/NewPage.vue?ccdf","webpack://new-web/./src/views/info/index.vue","webpack://new-web/./node_modules/xgplayer/es/utils/debug.js","webpack://new-web/./node_modules/xgplayer/es/utils/xgplayerTimeRange.js","webpack://new-web/./node_modules/xgplayer/es/utils/util.js","webpack://new-web/./node_modules/xgplayer/es/utils/sniffer.js","webpack://new-web/./node_modules/xgplayer/es/version.js","webpack://new-web/./node_modules/xgplayer/es/error.js","webpack://new-web/./node_modules/xgplayer/es/events.js","webpack://new-web/./node_modules/xgplayer/es/mediaProxy.js","webpack://new-web/./node_modules/xgplayer/es/utils/database.js","webpack://new-web/./node_modules/xgplayer/es/constant.js","webpack://new-web/./node_modules/xgplayer/es/plugin/hooksDescriptor.js","webpack://new-web/./node_modules/xgplayer/es/plugin/basePlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/plugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/resizeObserver.js","webpack://new-web/./node_modules/xgplayer/es/plugin/pluginsManager.js","webpack://new-web/./node_modules/xgplayer/es/stateClassMap.js","webpack://new-web/./node_modules/xgplayer/es/defaultConfig.js","webpack://new-web/./node_modules/xgplayer/es/plugin/preset.js","webpack://new-web/./node_modules/xgplayer/es/lang/en.js","webpack://new-web/./node_modules/xgplayer/es/lang/i18n.js","webpack://new-web/./node_modules/xgplayer/es/state.js","webpack://new-web/./node_modules/xgplayer/es/instManager.js","webpack://new-web/./node_modules/xgplayer/es/player.js","webpack://new-web/./node_modules/xgplayer/es/plugins/controls/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/logger/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/replay.js","webpack://new-web/./node_modules/xgplayer/es/plugins/replay/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/poster/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/play.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pause.js","webpack://new-web/./node_modules/xgplayer/es/plugins/start/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/enter/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconTools.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","webpack://new-web/./node_modules/xgplayer/es/utils/draggabilly.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pc/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/touch.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/seekicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/keyboard/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/loading.js","webpack://new-web/./node_modules/xgplayer/es/plugins/loading/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/innerList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconPlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugins/play/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/back.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/backicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/timesegments.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeLarge.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeSmall.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeMuted.js","webpack://new-web/./node_modules/xgplayer/es/plugins/volume/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/rotate.js","webpack://new-web/./node_modules/xgplayer/es/plugins/rotate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIconExit.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pip/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/playNext.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playNext/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/download.js","webpack://new-web/./node_modules/xgplayer/es/plugins/download/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/screenShot/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionsIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/definition/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playbackRate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/cssFullScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/error/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/prompt/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/thumbnail.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/miniProgress.js","webpack://new-web/./node_modules/xgplayer/es/plugins/dynamicBg/index.js","webpack://new-web/./node_modules/xgplayer/es/lang/zh-cn.js","webpack://new-web/./node_modules/xgplayer/es/plugins/stats/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/gapJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/testspeed/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fpsDetect/index.js","webpack://new-web/./node_modules/xgplayer/es/presets/default.js","webpack://new-web/./node_modules/xgplayer/es/index.umd.js","webpack://new-web/./node_modules/xgplayer-hls/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/buffer.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/env.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/logger.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/utils.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/mse.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/event.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/streaming-helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/sei.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/gap.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/stats.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/types.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/env.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/aac.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/fixer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/nalu.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/exp-golomb.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/avc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/hevc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/metadata-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/byte-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/bit-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4-parser.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/decrypt/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-demuxer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/buffer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-remuxer.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/constants.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/transmuxer/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/types.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/is.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/fetch.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/xhr.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/task.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/model.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/master.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/media.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/stream.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/index.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/bandwidth.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/segment-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin-extension.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin.js","webpack://new-web/./src/views/info/index.vue?dbd0"],"sourcesContent":["var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","<template>\r\n    <div class=\"pagination\" >\r\n      <!--  -->\r\n      <button\r\n        class=\"pagination-button\"\r\n        :disabled=\"currentPage <= 1\"\r\n        @click=\"goToPreviousTenPages\"\r\n      >\r\n        <van-icon name=\"arrow-left\" />\r\n      </button>\r\n  \r\n      <!--  -->\r\n      <div class=\"page-numbers\" :key=\"componentKey\">\r\n        <span \r\n          v-for=\"page in visiblePages\"\r\n          :key=\"page\"\r\n          :class=\"{ active: activePages[page] }\"\r\n          @click=\"goToPage(page)\"\r\n        >\r\n          {{ page }}\r\n        </span>\r\n      </div>\r\n  \r\n      <!--  -->\r\n      <button\r\n        class=\"pagination-button\"\r\n        :disabled=\"currentPage >= totalPages\"\r\n        @click=\"goToNextTenPages\"\r\n      >\r\n        <van-icon name=\"arrow\" />\r\n      </button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"Pagination\",\r\n    props: {\r\n      totalPages: {\r\n        type: Number,\r\n        required: true,\r\n      },\r\n      currentPage: {\r\n        type: Number,\r\n        required: true,\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        componentKey: 0,\r\n      };\r\n    },\r\n    emits: [\"page-change\"],\r\n    watch: {\r\n      //  currentPage \r\n      // currentPage(newVal) {\r\n      //   console.log('curennn,',newVal)\r\n      //   this.updateActivePages(newVal);\r\n      // },\r\n      //  visiblePages \r\n      visiblePages: {\r\n        handler(newVal) {\r\n          this.updateActivePages(this.currentPage);\r\n        },\r\n        immediate: true,\r\n      },\r\n    },\r\n    computed: {\r\n  //  (1-5, 6-10, 11-15 ...)\r\n  visiblePages() {\r\n      const startPage = Math.floor((this.currentPage - 1) / 5) * 5 + 1;\r\n      const endPage = Math.min(startPage + 4, this.totalPages);\r\n      return Array.from({ length: endPage - startPage + 1 }, (_, i) => startPage + i);\r\n    },\r\n  },\r\n  methods: {\r\n    //  activePages \r\n    updateActivePages(currentPage) {\r\n      this.activePages = {};\r\n      this.visiblePages.forEach((page) => {\r\n        this.activePages[page] = page === currentPage;\r\n      });\r\n    },\r\n\r\n    // \r\n    goToPage(page) {\r\n      if (page >= 1 && page <= this.totalPages) {\r\n        this.$emit(\"page-change\", page);\r\n      }\r\n    },\r\n\r\n    //  5 \r\n    goToPreviousTenPages() {\r\n      const newPage = Math.max(1, this.currentPage - 5);\r\n      this.$emit(\"page-change\", newPage);\r\n    },\r\n\r\n    //  5 \r\n    goToNextTenPages() {\r\n      const newPage = Math.min(this.totalPages, this.currentPage + 5);\r\n      // console.log(newPage,\"son next=?\")\r\n      this.$emit(\"page-change\", newPage);\r\n    }\r\n  }\r\n\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .pagination {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 10px;\r\n    padding: 10px;\r\n    width: 100%;\r\n  }\r\n  \r\n  .pagination-button {\r\n    padding: 10px 20px;\r\n    border: 1px solid #ccc;\r\n    background-color: #f9f9f9;\r\n    cursor: pointer;\r\n    border-radius: 4px;\r\n    transition: background-color 0.3s;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .pagination-button:disabled {\r\n    background-color: #e0e0e0;\r\n    cursor: not-allowed;\r\n  }\r\n  \r\n  .pagination-button:hover:not(:disabled) {\r\n    background-color: #ddd;\r\n  }\r\n  \r\n  .page-numbers {\r\n    display: flex;\r\n    gap: 15px;\r\n  }\r\n  \r\n  .page-numbers span {\r\n    padding: 10px 12px;\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n    color: white;\r\n    border-radius: 4px;\r\n    transition: background-color 0.3s;\r\n  }\r\n  \r\n  .page-numbers span.active {\r\n    background-color: #007bff;\r\n    color: red;\r\n    border-color: #007bff;\r\n  }\r\n  \r\n  .page-numbers span:hover:not(.active) {\r\n    background-color: #f1f1f1;\r\n  }\r\n  \r\n  @media (max-width: 750px) {\r\n    .pagination {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        gap: 15px;\r\n        padding: 1px;\r\n        width: 100%;\r\n        margin-bottom: 12px;\r\n    }\r\n    .pagination-button {\r\n      padding: 5px 8px;\r\n      border-radius: 3px;\r\n    }\r\n    .page-numbers {\r\n      /* flex-wrap: wrap; */\r\n      justify-content: center;\r\n      padding: 10px 12px;\r\n      gap: 12px;\r\n      font-size: medium;\r\n    }\r\n    .page-numbers span {\r\n      padding: 5px 8px; \r\n    }\r\n  }\r\n  </style>\r\n  ","import { render } from \"./NewPage.vue?vue&type=template&id=3f5c49d6&scoped=true\"\nimport script from \"./NewPage.vue?vue&type=script&lang=js\"\nexport * from \"./NewPage.vue?vue&type=script&lang=js\"\n\nimport \"./NewPage.vue?vue&type=style&index=0&id=3f5c49d6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3f5c49d6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"info-container\">\r\n    <div class=\"info-wrapper\">\r\n      <!-- <div class=\"ads pc-hide\" style=\"padding-top: 0;margin-top: 0px;\">\r\n        <div class=\"ads-item\" v-for=\"item in _ads.slice(0, 8)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div> -->\r\n      <div class=\"video-location h5-hide\">\r\n        <div class=\"line\"></div>\r\n        <span class=\"link\" @click=\"goHome\">HOME</span>\r\n        <span class=\"arrow\"></span>\r\n        <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n        <span class=\"arrow\"></span>\r\n        {{data.title}}\r\n      </div>\r\n      <div class=\"video-info\">\r\n        <div class=\"h5-video-location pc-hide\">\r\n          <div class=\"line\"></div>\r\n          <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n          <span class=\"arrow\"></span>\r\n          {{data.title}}\r\n        </div>\r\n        <div id=\"mse\"></div>\r\n        <div class=\"video-wrapper\">\r\n          <div class=\"video-img\" id=\"video-info\"></div>\r\n        </div>\r\n        <div class=\"video-name\">\r\n           <span v-if=\"language == 'ko-KR'\">\r\n            {{data.title}}\r\n          </span>\r\n          <span v-if=\"language == 'en-US'\">\r\n            {{data.titleUs}}\r\n          </span>\r\n          <span v-if=\"language == 'zh-CN'\">\r\n            {{data.titleCn}}\r\n          </span>\r\n        </div>\r\n        <div class=\"info\">\r\n          <div class=\"viewed\">\r\n            <img src=\"@/assets/imgs/view.png\" alt=\"\">\r\n            <span> : {{data.watchTimes}}</span>\r\n          </div>\r\n          <div class=\"time\">\r\n            <img src=\"@/assets/imgs/flag.png\" alt=\"\">\r\n            <span> : {{formatTime(data.createdAt)}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"video-desc\" v-if=\"data.titleChinese\">\r\n          {{}}\r\n          <!-- data.titleChinese -->\r\n        </div>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(0, 8).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(0, 8)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n<!--      <Title class=\"page-title h5-hide\" :name=\"relatedMap[language]\" :more=\"false\"></Title>-->\r\n      <div class=\"list\" v-if=\"videos.slice(0, 8).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(0, 4)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(8, 12).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(8, 12)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\" v-if=\"videos.slice(4, 8).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(4, 8)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(12,16).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(12,16)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\" v-if=\"videos.slice(8,12).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(8,12)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(16,20).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(16,20)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"list\" v-if=\"videos.slice(12,16).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(12,16)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(20,24).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(20,24)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"list\" v-if=\"videos.slice(16,20).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(16,20)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(24,28).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(24,28)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"list\" v-if=\"videos.slice(20,24).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(20,24)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(28,32).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(28,32)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"more\" @click=\"goCategory\">{{moreRelatedMap[language]}}</div> -->\r\n      <Pagination\r\n      :total-pages=\"total\"\r\n      :current-page=\"pageNum\"\r\n      @page-change=\"handlePageChange\"\r\n    />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as api from '@/api'\r\n  import moment from 'moment';\r\n  import Card from \"@/components/Card.vue\";\r\n  import Title from \"@/components/Title.vue\";\r\n  import {mapActions,mapState} from 'vuex';\r\n  import 'video.js/dist/video-js.css';\r\n  import VideoJs from 'video.js';\r\n  import Player from 'xgplayer';\r\n  import 'xgplayer/dist/index.min.css';\r\n  import HlsPlugin from 'xgplayer-hls'\r\n  import MobilePreset from 'xgplayer/es/presets/mobile'\r\n  import Pagination from \"@/components/NewPage.vue\";\r\n\r\n  export default {\r\n    name: \"Info\",\r\n    components: {Title,Card,Pagination},\r\n    data() {\r\n      return {\r\n        id: '',\r\n        data: {},\r\n        _ads: [],\r\n        videos: [],\r\n        player: null,\r\n        relatedMap: {\r\n          'ko-KR': '',\r\n          'en-US': 'Related videos',\r\n          'zh-CN': ''\r\n        },\r\n        moreRelatedMap: {\r\n          'ko-KR': '   ',\r\n          'en-US': 'More related videos',\r\n          'zh-CN': ''\r\n        },\r\n        classifyName: '',\r\n        classifyId: '',\r\n        specialId: '',\r\n        pageNum:1,\r\n        pageSize:20,\r\n        total:10\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ads: state => state.common.ads,\r\n        menus: state => state.common.menus,\r\n        language: state => state.common.language,\r\n      }),\r\n    },\r\n    watch: {\r\n      '$route': {\r\n        handler(nv) {\r\n          if(nv.name == 'info') {\r\n            this.id = this.$route.query.id\r\n            this.initData();\r\n\r\n            this.classifyName = this.$route.query.classifyName\r\n            this.classifyId = this.$route.query.classifyId\r\n            this.specialId = this.$route.query.specialId\r\n          }\r\n        },\r\n        immediate: true\r\n      },\r\n      ads(nv) {\r\n        this._ads = JSON.parse(JSON.stringify(nv));\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions({\r\n        toggleLoading: 'common/toggleLoading',\r\n      }),\r\n\r\n            // \r\n      handlePageChange(newPage) {\r\n        this.pageNum = newPage;\r\n        this.getVideos()\r\n      },\r\n\r\n\r\n      goAd(url) {\r\n        window.open(url)\r\n      },\r\n      formatTime(time) {\r\n        return moment(time).format('YYYY-MM-DD')\r\n      },\r\n      async getVideoInfo() {\r\n        this.toggleLoading(true);\r\n        try {\r\n          let {data, code} = await api.getVideoInfo({id: this.id})\r\n          if (code == 200) {\r\n            this.data = data;\r\n            this.initPlayer()\r\n            this.getMenuInfo()\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getMenuInfo() {\r\n        try {\r\n          let {data, code} = await api.getMenuInfo({id: this.data.classifyId})\r\n          if (code == 200) {\r\n            this.classifyInfo = data;\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getVideos() {\r\n        // console.log('why this plus one?=>',this.data.specialId)\r\n        try {\r\n          let {rows, code,total} = await api.getVideos({\r\n            pageNum: this.pageNum,\r\n            pageSize: this.pageSize,\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId\r\n          })\r\n          if (code == 200) {\r\n            this.videos = rows\r\n            this.total=total\r\n          }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n        }\r\n      },\r\n      async getAds() {\r\n        let {rows, code} = await api.getAds({\r\n              pageNum: 1,\r\n              pageSize: 50,\r\n            })\r\n        this._ads=rows\r\n        // print(rows)\r\n      },\r\n      goHome() {\r\n        this.$router.push('index')\r\n      },\r\n      goCategory() {\r\n        this.$router.push({\r\n          name: 'category',\r\n          query: {\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId,\r\n            classifyName: ''\r\n          }\r\n        })\r\n      },\r\n      initPlayer() {\r\n        const config = {\r\n          \"id\": \"video-info\",\r\n          fluid: true,\r\n          volume: 0.9,\r\n          autoplay: false,\r\n          videoInit: true,\r\n          loop: true,\r\n          // playbackRate: [0.5, 0.75, 1, 1.5, 2],\r\n          defaultPlaybackRate: 1,\r\n          \"url\": this.data.video,\r\n          \"playsinline\": true,\r\n          \"poster\": this.data.videoCover,\r\n          \"plugins\": [HlsPlugin],\r\n          \"isLive\": false,\r\n          \"playbackRate\": [\r\n                    null\r\n          ],\r\n          \"rotate\": {\r\n                    \"clockwise\": true,\r\n                    \"innerRotate\": true\r\n          },\r\n          \"pip\": true,\r\n          rotateFullscreen: true\r\n        }\r\n        let player = new Player(config)\r\n        // setTimeout(() => {\r\n        // let player = new Player(config)},0)\r\n        // document.getElementById('video-info').innerHTML = `<video id=\"video-js\" class=\"video-js\"></video>`\r\n        // setTimeout(() => {\r\n        //   this.player = VideoJs(document.getElementById('video-js'), {\r\n        //     controls: true,\r\n        //     muted: true,\r\n        //     fluid: true,\r\n        //     reload: \"auto\",\r\n        //     poster: this.data.videoCover,\r\n        //     sources: [\r\n        //       {\r\n        //         src: this.data.video,\r\n        //         type: 'application/x-mpegURL',\r\n        //       },\r\n        //     ],\r\n        //   }, function onPlayerReady() {\r\n        //   })\r\n        // }, 0)\r\n      },\r\n      initData() {\r\n        if (this.player) {\r\n          this.player.dispose()\r\n        }\r\n        this.id = this.$route.query.id\r\n        this.getVideoInfo()\r\n        if (this.menus && this.menus.length) {\r\n          let count = (this.menus.length + 1) * 24 + 1;\r\n          let times = Math.ceil(count / this.ads.length);\r\n          let ads = [];\r\n          for (let i = 0;i < times;i++) {\r\n            ads = ads.concat(this.ads);\r\n          }\r\n          ads.shift()\r\n          // this._ads = ads;\r\n          \r\n        }\r\n        this.$nextTick(() => {\r\n          setTimeout(() => {\r\n            this.getVideos(); //  1 \r\n            this.getAds();\r\n          }, 1000); // 1000  = 1 \r\n        });\r\n        \r\n      }\r\n    },\r\n    beforeUnmount() {\r\n      if (this.player) {\r\n        this.player.dispose()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .info-container{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .info-wrapper{\r\n      width: 100%;\r\n      padding-top: 23px;\r\n      .video-location{\r\n        background: #172231;\r\n        height: 48px;\r\n        @include clear();\r\n        box-shadow: 0px 10px 10px rgba(255,255,225,0.1) inset,\r\n        0px -10px 10px rgba(0,0,0,0.3) inset;\r\n        margin-bottom: 60px;\r\n        line-height: 48px;\r\n        font-size: 24px;\r\n        .line{\r\n          width: 8px;\r\n          height: 30px;\r\n          background: $main-color;\r\n          margin-top: 9px;\r\n          float: left;\r\n          margin-left: 23px;\r\n          margin-right: 10px;\r\n        }\r\n        width: 100%;\r\n        color: #fff;\r\n        @include ellipsis;\r\n        .link{\r\n          transition: 0.3s ease;\r\n          &:hover{\r\n            color: $main-color;\r\n          }\r\n          cursor: pointer;\r\n        }\r\n        .arrow{\r\n          margin: 0 20px;\r\n        }\r\n      }\r\n      .video-info{\r\n        width: 100%;\r\n        margin-bottom: 110px;\r\n\r\n        .h5-video-location{\r\n          height: 50px;\r\n          line-height: 50px;\r\n          font-size: 18px;\r\n          color: #fff;\r\n          box-sizing: border-box;\r\n          @include ellipsis;\r\n          box-shadow: 0px 5px 5px rgba(255,255,225,0.1) inset,\r\n          0px -5px 5px rgba(0,0,0,0.3) inset;\r\n          background: #0e141d;\r\n          margin-bottom: 30px;\r\n          @include clear;\r\n          .line{\r\n            width: 5px;\r\n            height: 36px;\r\n            background: $main-color;\r\n            margin-top: 7px;\r\n            float: left;\r\n            margin-left: 7px;\r\n            margin-right: 10px;\r\n          }\r\n          .first{\r\n            color: $main-color;\r\n            margin-right: 10px;\r\n          }\r\n          @include ellipsis;\r\n          .link{\r\n            transition: 0.3s ease;\r\n            &:hover{\r\n              color: $main-color;\r\n            }\r\n            cursor: pointer;\r\n          }\r\n          .arrow{\r\n            margin: 0 10px;\r\n            position: relative;\r\n            top: -1px;\r\n          }\r\n        }\r\n        .video-wrapper{\r\n          box-sizing: border-box;\r\n          max-width: 75%;\r\n          margin: 0 auto;\r\n          background: #172231;\r\n        }\r\n        .video-img{\r\n          width: 100%;\r\n          background: #000;\r\n          .video-js{\r\n            width: 100%;\r\n            /*object-fit: cover;*/\r\n            /*object-position: center;*/\r\n          }\r\n        }\r\n        .info-h5{\r\n          width: 100%;\r\n          font-size: 12px;\r\n          color: #adadad;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          box-sizing: border-box;\r\n          padding: 10px;\r\n          .viewed{\r\n            display: flex;\r\n            align-items: center;\r\n            img{\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n        }\r\n        .info{\r\n          width: 700px;\r\n          margin: 0 auto;\r\n          height: 54px;\r\n          box-sizing: border-box;\r\n          line-height: 54px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          font-size: 30px;\r\n          color: #bababa;\r\n          img{\r\n            margin-right: 10px;\r\n            vertical-align: middle;\r\n          }\r\n          span{\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n        .video-name{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          font-size: 30px;\r\n          color: #d0d0d0;\r\n          height: 48px;\r\n          line-height: 48px;\r\n          margin-top: 30px;\r\n          margin-bottom: 50px;\r\n          @include ellipsis;\r\n          box-sizing: border-box;\r\n          text-align: center;\r\n        }\r\n        .video-desc{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding: 0 150px 0 25px;\r\n          font-size: 24px;\r\n          color: #8b8b8b;\r\n        }\r\n      }\r\n      .list{\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        flex-direction:row;\r\n        box-sizing: border-box;\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n        .video-card{\r\n          margin-bottom: 13px;\r\n        }\r\n      }\r\n      .page-title{\r\n        margin-bottom: 11px;\r\n      }\r\n      .ads{\r\n        width: 100%;\r\n        padding: 23px 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        box-sizing: border-box;\r\n        padding-top: 0px;\r\n        padding-bottom: 11px;\r\n        .ads-item{\r\n          width: calc((100% - 27px) / 4);\r\n          margin-bottom: 7px;\r\n          height: 125px;\r\n          @include border2;\r\n          box-sizing: border-box;\r\n          cursor: pointer;\r\n          border-radius: 2px;\r\n          :deep(.van-image){\r\n            width: 100%;\r\n            height: 100%;\r\n            .van-image__loading{\r\n              background: none;\r\n            }\r\n            .van-image__error{\r\n              background: none;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .more{\r\n        width: 788px;\r\n        height: 74px;\r\n        line-height: 74px;\r\n        font-size: 30px;\r\n        color: #fff;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        background: #343945;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  @media screen and (min-width: 1280px) and (max-width: 1600px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        .video-info{\r\n          .video-img{}\r\n          .video-desc{\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n  @media screen and (min-width: 750px) and (max-width: 1280px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        width: 750px;\r\n        .video-info{\r\n          .video-img{}\r\n          .video-wrapper{\r\n            padding-left: 50px;\r\n            padding-right: 50px;\r\n          }\r\n          .info{\r\n            height: 50px;\r\n            line-height: 50px;\r\n            font-size: 24px;\r\n          }\r\n          .video-name{\r\n            font-size: 24px;\r\n          }\r\n          .video-desc{\r\n            font-size: 21px;\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n        .ads{\r\n          .ads-item{\r\n            height: 100px;\r\n          }\r\n        }\r\n        .more{\r\n          width: 750px;\r\n        }\r\n      }\r\n    }\r\n    .sidebar{\r\n      display: none;\r\n    }\r\n  }\r\n  @media screen and (max-width: 750px) {\r\n    .h5-hide{\r\n      display: none!important;\r\n    }\r\n    .pc-hide{\r\n      display: flex!important;\r\n    }\r\n    .info-container{\r\n      width: 100%;\r\n      .info-wrapper{\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding-left: 2px;\r\n        padding-right: 2px;\r\n        .ads{\r\n          padding-left: 14px;\r\n          padding-right: 14px;\r\n          .ads-item{\r\n            width: 100%;\r\n            height: 130px;\r\n            margin-bottom: 6px;\r\n            border: 1px solid #d7d7d8;\r\n            &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4), {\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        .list{\r\n          margin-bottom: 25px;\r\n          .video-card{\r\n            width: 100%;\r\n            margin-bottom: 18px;\r\n          }\r\n        }\r\n        .more{\r\n          display: none;\r\n        }\r\n        .video-info{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding-bottom: 0px;\r\n          margin-bottom: 70px;\r\n          .pc-hide{\r\n            display: block!important;\r\n          }\r\n          .video-wrapper{\r\n            max-width: 100%;\r\n            padding: 0px;\r\n          }\r\n          .info-h5{\r\n            display: flex!important;\r\n          }\r\n          .info{\r\n            width: 100%;\r\n            font-size: 14px;\r\n            padding-left: 40px;\r\n            padding-right: 40px;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n          .video-img{\r\n            @include border;\r\n          }\r\n          .video-name{\r\n            width: 100%;\r\n            font-size: 16px;\r\n            color: #fff;\r\n            height: auto;\r\n            padding: 0 13px;\r\n            margin-top: 13px;\r\n            line-height: 24px;\r\n            margin-bottom: 20px;\r\n          }\r\n          .video-desc{\r\n            font-size: 14px;\r\n            color: #fff;\r\n            padding: 10px;\r\n            padding-top: 0px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n      .sidebar{\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  @media screen and (max-width: 750px) {\r\n    .xgplayer xg-icon svg{\r\n      width: 16px;\r\n    }\r\n  }\r\n\r\n</style>\r\n","const XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nconst STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nconst XGTAG = \"%c[xgplayer]\";\nconst XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function(message, ...optionalParams) {\n    this.config.debug >= 3 && console.log(XGTAG, STYLE.info, message, ...optionalParams);\n  },\n  logWarn: function(message, ...optionalParams) {\n    this.config.debug >= 1 && console.warn(XGTAG, STYLE.warn, message, ...optionalParams);\n  },\n  logError: function(message, ...optionalParams) {\n    if (this.config.debug < 1) {\n      return;\n    }\n    const _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    console[_fun](XGTAG, STYLE.error, message, ...optionalParams);\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","class XgplayerTimeRange {\n  constructor(bufferedList) {\n    this.bufferedList = bufferedList;\n  }\n  start(index) {\n    return this.bufferedList[index].start;\n  }\n  end(index) {\n    return this.bufferedList[index].end;\n  }\n  get length() {\n    return this.bufferedList.length;\n  }\n}\nexport { XgplayerTimeRange as default };\n","import XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nconst util = {};\nutil.createDom = function(el = \"div\", tpl = \"\", attrs = {}, cname = \"\") {\n  const dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach((item) => {\n    const key = item;\n    const value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html, attrs = {}, classname = \"\") {\n  try {\n    let doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    let dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach((key) => {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, (item) => item === className);\n  } catch (e) {\n    const orgClassName = el.className && typeof el.className === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach((item) => {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && typeof el.className === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach((item) => {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach((item) => {\n        const reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && typeof el.className === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach((item) => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  const classname = [];\n  for (let i = 0; i < arguments.length; i++) {\n    if (util.typeOf(arguments[i]) === \"String\") {\n      classname.push(arguments[i]);\n    } else if (util.typeOf(arguments[i]) === \"Object\") {\n      Object.keys(arguments[i]).map((key) => {\n        if (arguments[i][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function(el = document, sel) {\n  let dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  const charstr = String(pad);\n  const len = length >> 0;\n  let maxlen = Math.ceil(len / charstr.length);\n  const chars = [];\n  const r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  const hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  const minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  const second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    const touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach((key) => {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map((key) => {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        dst[key].push(...src[key]);\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  const url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  const a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    const back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  const id = setTimeout(() => {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  const { _timers } = context;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (let i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  const { _timers } = context;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map((item) => {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  const btn = util.createDom(`xg-${name}`, \"\", {}, `xgplayer-${name}-img`);\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`;\n  if (width && height) {\n    let w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = `${w}${unit}`;\n    btn.style.height = `${h}${unit}`;\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`;\n    if (name === \"start\") {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`;\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  const rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return `rgba(${rgb.join(\",\")}, ${alpha})`;\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && typeof obj === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    const styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map((item) => {\n      if (item) {\n        const arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map((key) => {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (let i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom, list = [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"]) {\n  const _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  const styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  const ret = {};\n  const remain = {};\n  styleArr.map((item) => {\n    if (item) {\n      const arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map((key) => {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  const _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  const styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  const ret = {};\n  styleArr.map((item) => {\n    if (item) {\n      const arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = (url, onload = () => {\n}, onerror = () => {\n}) => {\n  if (!url) {\n    return;\n  }\n  let img = new window.Image();\n  img.onload = (e) => {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = (e) => {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = (e) => {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = (vbuffered, maxHoleDuration = 0.5) => {\n  const buffered = [];\n  for (let i = 0; i < vbuffered.length; i++) {\n    buffered.push({ start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i), end: vbuffered.end(i) });\n  }\n  buffered.sort(function(a, b) {\n    const diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  let buffered2 = [];\n  if (maxHoleDuration) {\n    for (let i = 0; i < buffered.length; i++) {\n      const buf2len = buffered2.length;\n      if (buf2len) {\n        const buf2end = buffered2[buf2len - 1].end;\n        if (buffered[i].start - buf2end < maxHoleDuration) {\n          if (buffered[i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[i].end;\n          }\n        } else {\n          buffered2.push(buffered[i]);\n        }\n      } else {\n        buffered2.push(buffered[i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e, zoom = 1) {\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  const _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  const results = url.split(\"/\");\n  let domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  const _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (video.media) {\n    video = video.media;\n  }\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function(did = 0) {\n  let d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  const uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  let event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  const dom = util.createDom(\n    \"xg-bar\",\n    \"\",\n    { \"data-index\": -1 },\n    className\n  );\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function(pos = { x: 0, y: 0, scale: 1, rotate: 0 }, transformValue = \"\") {\n  const styles = {\n    scale: `${pos.scale || 1}`,\n    translate: `${pos.x || 0}%, ${pos.y || 0}%`,\n    rotate: `${pos.rotate || 0}deg`\n  };\n  const stylesKeys = Object.keys(styles);\n  stylesKeys.forEach((key) => {\n    const reg = new RegExp(`${key}\\\\([^\\\\(]+\\\\)`, \"g\");\n    const fn = `${key}(${styles[key]})`;\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += `${fn} `;\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  const _len = segments.length;\n  let _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (let i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments, index = -1) {\n  let _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  const _len = segments.length;\n  const { start, end, cTime, offset } = segments[_index];\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  let _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (let i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    const { start } = segments[_index];\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  const type = typeof value;\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  let lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  let lastInvokeTime = 0;\n  let leading = false;\n  let maxing = false;\n  let trailing = true;\n  const useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    const args = lastArgs;\n    const thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    const timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    const time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced(...args) {\n    const time = Date.now();\n    const isInvoking = shouldInvoke(time);\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  let leading = true;\n  let trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  let lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  const pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","const VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nconst H264_MIMETYPES = [\n  \"avc1.42E01E, mp4a.40.2\",\n  \"avc1.58A01E, mp4a.40.2\",\n  \"avc1.4D401E, mp4a.40.2\",\n  \"avc1.64001E, mp4a.40.2\",\n  \"avc1.42E01E\",\n  \"mp4v.20.8\",\n  \"avc1.42E01E, mp4a.40.2\",\n  \"avc1.58A01E, mp4a.40.2\",\n  \"avc1.4D401E, mp4a.40.2\",\n  \"avc1.64001E, mp4a.40.2\",\n  \"mp4v.20.8, mp4a.40.2\",\n  \"mp4v.20.240, mp4a.40.2\"\n];\nconst sniffer = {\n  get device() {\n    const r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    const ua = navigator.userAgent.toLowerCase();\n    const reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter((key) => reg[key].test(ua)))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    const ua = navigator.userAgent;\n    const isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    const isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    const isAndroid = /(?:Android)/.test(ua);\n    const isFireFox = /(?:Firefox)/.test(ua);\n    const isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    const isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    const isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    const isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    const ua = navigator.userAgent;\n    let reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    const _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      const version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    const reg = /(micromessenger)\\/([\\d.]+)/;\n    const match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4() {\n    const result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    let a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map((key) => {\n        if (a.canPlayType(`video/mp4; codecs=\"${key}\"`) === \"probably\") {\n          result.isSupport = true;\n          result.mime += `||${key}`;\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport(mime = 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"') {\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported(info) {\n    const defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      const videoConfig = info.video || {};\n      const audioConfig = info.audio || {};\n      try {\n        const videoSupported = MediaSource.isTypeSupported(\n          videoConfig.contentType\n        );\n        const audioSupported = MediaSource.isTypeSupported(\n          audioConfig.contentType\n        );\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.1.0-alpha.9\";\nexport { version as default };\n","import version from \"./version.js\";\nimport util from \"./utils/util.js\";\nconst ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nconst ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nclass Errors {\n  constructor(player, errorInfo = { errorType: \"\", errorCode: 0, errorMessage: \"\", originError: \"\", ext: {}, mediaError: null }) {\n    const ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      const mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      const { duration, currentTime, ended, src, currentSrc } = player;\n      const { readyState, networkState } = player.media;\n      let _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      const r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map((key) => {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        const r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        const arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (let i = 0; i < arguments.length; i++) {\n          r[arr[i]] = arguments[i];\n        }\n        r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return r;\n      }\n    }\n  }\n}\nexport { ERROR_TYPE_MAP, Errors as default };\n","const PLAY = \"play\";\nconst PLAYING = \"playing\";\nconst ENDED = \"ended\";\nconst PAUSE = \"pause\";\nconst ERROR = \"error\";\nconst SEEKING = \"seeking\";\nconst SEEKED = \"seeked\";\nconst TIME_UPDATE = \"timeupdate\";\nconst WAITING = \"waiting\";\nconst CANPLAY = \"canplay\";\nconst CANPLAY_THROUGH = \"canplaythrough\";\nconst DURATION_CHANGE = \"durationchange\";\nconst VOLUME_CHANGE = \"volumechange\";\nconst LOADED_DATA = \"loadeddata\";\nconst LOADED_METADATA = \"loadedmetadata\";\nconst RATE_CHANGE = \"ratechange\";\nconst PROGRESS = \"progress\";\nconst LOAD_START = \"loadstart\";\nconst EMPTIED = \"emptied\";\nconst STALLED = \"stalled\";\nconst SUSPEND = \"suspend\";\nconst ABORT = \"abort\";\nconst BUFFER_CHANGE = \"bufferedChange\";\nconst PLAYER_FOCUS = \"focus\";\nconst PLAYER_BLUR = \"blur\";\nconst READY = \"ready\";\nconst URL_NULL = \"urlNull\";\nconst AUTOPLAY_STARTED = \"autoplay_started\";\nconst AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nconst COMPLETE = \"complete\";\nconst REPLAY = \"replay\";\nconst DESTROY = \"destroy\";\nconst URL_CHANGE = \"urlchange\";\nconst DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nconst LEAVE_PLAYER = \"leaveplayer\";\nconst ENTER_PLAYER = \"enterplayer\";\nconst LOADING = \"loading\";\nconst FULLSCREEN_CHANGE = \"fullscreen_change\";\nconst CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nconst MINI_STATE_CHANGE = \"mini_state_change\";\nconst DEFINITION_CHANGE = \"definition_change\";\nconst BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nconst AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nconst SEI_PARSED = \"SEI_PARSED\";\nconst RETRY = \"retry\";\nconst VIDEO_RESIZE = \"video_resize\";\nconst PIP_CHANGE = \"pip_change\";\nconst ROTATE = \"rotate\";\nconst SCREEN_SHOT = \"screenShot\";\nconst PLAYNEXT = \"playnext\";\nconst SHORTCUT = \"shortcut\";\nconst XGLOG = \"xglog\";\nconst USER_ACTION = \"user_action\";\nconst RESET = \"reset\";\nconst SOURCE_ERROR = \"source_error\";\nconst SOURCE_SUCCESS = \"source_success\";\nconst SWITCH_SUBTITLE = \"switch_subtitle\";\nconst VIDEO_EVENTS = [\n  \"play\",\n  \"playing\",\n  \"ended\",\n  \"pause\",\n  \"error\",\n  \"seeking\",\n  \"seeked\",\n  \"timeupdate\",\n  \"waiting\",\n  \"canplay\",\n  \"canplaythrough\",\n  \"durationchange\",\n  \"volumechange\",\n  \"loadeddata\",\n  \"loadedmetadata\",\n  \"ratechange\",\n  \"progress\",\n  \"loadstart\",\n  \"emptied\",\n  \"stalled\",\n  \"suspend\",\n  \"abort\",\n  \"lowdecode\"\n];\nconst STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nconst FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ENTER_PLAYER, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LEAVE_PLAYER, LOADED_DATA, LOADED_METADATA, LOADING, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return (e, _err) => {\n    const eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      const _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      const callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nclass MediaProxy extends EventEmitter {\n  constructor(options) {\n    super(options);\n    this._hasStart = false;\n    this._currentTime = 0;\n    this._duration = 0;\n    this._internalOp = {};\n    this._lastMuted = false;\n    this.vtype = \"MP4\";\n    this._rate = -1;\n    this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    const playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete this.mediaConfig.playsinline;\n      delete this.mediaConfig[\"webkit-playsinline\"];\n      delete this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(this.mediaConfig, \"muted\")) {\n      this.mediaConfig.muted = true;\n    }\n    this.media = util.createDom(this.mediaConfig.mediaType, \"\", this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      this.media.defaultPlaybackRate = this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      this.media.muted = true;\n      this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      this.media.autoplay = true;\n    }\n    this._interval = {};\n    this.mediaEventMiddleware = {};\n    this.attachVideoEvents();\n  }\n  setEventsMiddleware(middlewares) {\n    Object.keys(middlewares).map((key) => {\n      this.mediaEventMiddleware[key] = middlewares[key];\n    });\n  }\n  removeEventsMiddleware(middlewares) {\n    Object.keys(middlewares).map((key) => {\n      delete this.mediaEventMiddleware[key];\n    });\n  }\n  attachVideoEvents(media = this.media) {\n    if (!this._evHandlers) {\n      this._evHandlers = VIDEO_EVENTS.map((eventKey) => {\n        const funName = `on${eventKey.charAt(0).toUpperCase()}${eventKey.slice(1)}`;\n        if (typeof this[funName] === \"function\") {\n          this.on(eventKey, this[funName]);\n        }\n        return {\n          [eventKey]: getVideoEventHandler(eventKey, this)\n        };\n      });\n    }\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      media.addEventListener(eventKey, item[eventKey], false);\n    });\n  }\n  detachVideoEvents(media = this.media) {\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      media.removeEventListener(eventKey, item[eventKey], false);\n    });\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      const funName = `on${eventKey.charAt(0).toUpperCase()}${eventKey.slice(1)}`;\n      if (typeof this[funName] === \"function\") {\n        this.off(eventKey, this[funName]);\n      }\n    });\n    this._evHandlers = null;\n  }\n  _attachSourceEvents(video, urls) {\n    video.removeAttribute(\"src\");\n    video.load();\n    urls.forEach((item, index) => {\n      this.media.appendChild(util.createDom(\"source\", \"\", {\n        src: `${item.src}`,\n        type: `${item.type || \"\"}`,\n        \"data-index\": index + 1\n      }));\n    });\n    const _c = video.children;\n    if (!_c) {\n      return;\n    }\n    this._videoSourceCount = _c.length;\n    this._videoSourceIndex = _c.length;\n    this._vLoadeddata = (e) => {\n      this.emit(SOURCE_SUCCESS, { src: e.target.currentSrc, host: util.getHostFromUrl(e.target.currentSrc) });\n    };\n    let _eHandler = null;\n    for (let i = 0; i < this._evHandlers.length; i++) {\n      if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n        _eHandler = this._evHandlers[i];\n        break;\n      }\n    }\n    !this._sourceError && (this._sourceError = (e) => {\n      const _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n      this._videoSourceIndex--;\n      if (this._videoSourceIndex === 0 || _dIndex >= this._videoSourceCount) {\n        const _err = { code: 4, message: \"sources_load_error\" };\n        _eHandler ? _eHandler.error(e, _err) : this.errorHandler(\"error\", _err);\n      }\n      const type = ERROR_TYPE_MAP[4];\n      this.emit(SOURCE_ERROR, new Errors(this, {\n        errorType: type,\n        errorCode: 4,\n        errorMessage: \"sources_load_error\",\n        mediaError: { code: 4, message: \"sources_load_error\" },\n        src: e.target.src\n      }));\n    });\n    for (let i = 0; i < _c.length; i++) {\n      _c[i].addEventListener(\"error\", this._sourceError);\n    }\n    video.addEventListener(\"loadeddata\", this._vLoadeddata);\n  }\n  _detachSourceEvents(video) {\n    const _c = video.children;\n    if (!_c || _c.length === 0 || !this._sourceError) {\n      return;\n    }\n    for (let i = 0; i < _c.length; i++) {\n      _c[i].removeEventListener(\"error\", this._sourceError);\n    }\n    while (_c.length > 0) {\n      video.removeChild(_c[0]);\n    }\n    this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n  }\n  errorHandler(name, error = null) {\n    if (this.media && (this.media.error || error)) {\n      let _e = this.media.error || error;\n      const type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n      let message = _e.message;\n      if (!this.media.currentSrc) {\n        message = \"empty_src\";\n        _e = {\n          code: 6,\n          message\n        };\n      }\n      this.emit(name, new Errors(this, {\n        errorType: type,\n        errorCode: _e.code,\n        errorMessage: _e.message || \"\",\n        mediaError: _e\n      }));\n    }\n  }\n  destroy() {\n    if (this.media) {\n      if (this.media.pause) {\n        this.media.pause();\n        this.media.muted = true;\n      }\n      this.media.removeAttribute(\"src\");\n      this.media.load();\n    }\n    this._currentTime = 0;\n    this._duration = 0;\n    this.mediaConfig = null;\n    for (const k in this._interval) {\n      if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n        clearInterval(this._interval[k]);\n        this._interval[k] = null;\n      }\n    }\n    this.detachVideoEvents();\n    this.media = null;\n    this.mediaEventMiddleware = {};\n    this.removeAllListeners();\n  }\n  get video() {\n    return this.media;\n  }\n  set video(media) {\n    this.media = media;\n  }\n  play() {\n    const ret = this.media ? this.media.play() : null;\n    return ret;\n  }\n  pause() {\n    this.media && this.media.pause();\n  }\n  load() {\n    this.media && this.media.load();\n  }\n  canPlayType(type) {\n    return this.media ? this.media.canPlayType(type) : false;\n  }\n  getBufferedRange(buffered) {\n    const range = [0, 0];\n    if (!this.media) {\n      return range;\n    }\n    if (!buffered) {\n      buffered = this.media.buffered;\n    }\n    const currentTime = this.media.currentTime;\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i);\n        range[1] = buffered.end(i);\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break;\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range;\n    } else {\n      return [0, 0];\n    }\n  }\n  set autoplay(isTrue) {\n    this.media && (this.media.autoplay = isTrue);\n  }\n  get autoplay() {\n    return this.media ? this.media.autoplay : false;\n  }\n  get buffered() {\n    return this.media ? this.media.buffered : null;\n  }\n  get buffered2() {\n    return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n  }\n  get bufferedPoint() {\n    const ret = {\n      start: 0,\n      end: 0\n    };\n    if (!this.media) {\n      return ret;\n    }\n    const _buffered = this.media.buffered;\n    if (!_buffered || _buffered.length === 0) {\n      return ret;\n    }\n    for (let i = 0; i < _buffered.length; i++) {\n      if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n        return {\n          start: _buffered.start(i),\n          end: _buffered.end(i)\n        };\n      }\n    }\n    return ret;\n  }\n  get crossOrigin() {\n    return this.media ? this.media.crossOrigin : \"\";\n  }\n  set crossOrigin(isTrue) {\n    this.media && (this.media.crossOrigin = isTrue);\n  }\n  get currentSrc() {\n    return this.media ? this.media.currentSrc : \"\";\n  }\n  set currentSrc(src) {\n    this.media && (this.media.currentSrc = src);\n  }\n  get currentTime() {\n    if (!this.media) {\n      return 0;\n    }\n    return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n  }\n  set currentTime(time) {\n    this.media && (this.media.currentTime = time);\n  }\n  get defaultMuted() {\n    return this.media ? this.media.defaultMuted : false;\n  }\n  set defaultMuted(isTrue) {\n    this.media && (this.media.defaultMuted = isTrue);\n  }\n  get duration() {\n    return this._duration;\n  }\n  get ended() {\n    return this.media ? this.media.ended : false;\n  }\n  get error() {\n    return this.media.error;\n  }\n  get errorNote() {\n    const err = this.media.error;\n    if (!err) {\n      return \"\";\n    }\n    const status = [\n      \"MEDIA_ERR_ABORTED\",\n      \"MEDIA_ERR_NETWORK\",\n      \"MEDIA_ERR_DECODE\",\n      \"MEDIA_ERR_SRC_NOT_SUPPORTED\"\n    ];\n    return status[this.media.error.code - 1];\n  }\n  get loop() {\n    return this.media ? this.media.loop : false;\n  }\n  set loop(isTrue) {\n    this.media && (this.media.loop = isTrue);\n  }\n  get muted() {\n    return this.media ? this.media.muted : false;\n  }\n  set muted(isTrue) {\n    if (!this.media || this.media.muted === isTrue) {\n      return;\n    }\n    this._lastMuted = this.media.muted;\n    this.media.muted = isTrue;\n  }\n  get networkState() {\n    return this.media.networkState;\n  }\n  get paused() {\n    return this.media ? this.media.paused : true;\n  }\n  get playbackRate() {\n    return this.media ? this.media.playbackRate : 0;\n  }\n  set playbackRate(rate) {\n    if (!this.media || rate === Infinity) {\n      return;\n    }\n    this.media.defaultPlaybackRate = rate;\n    this.media.playbackRate = rate;\n  }\n  get played() {\n    return this.media ? this.media.played : null;\n  }\n  get preload() {\n    return this.media ? this.media.preload : false;\n  }\n  set preload(isTrue) {\n    this.media && (this.media.preload = isTrue);\n  }\n  get readyState() {\n    return this.media.readyState;\n  }\n  get seekable() {\n    return this.media ? this.media.seekable : false;\n  }\n  get seeking() {\n    return this.media ? this.media.seeking : false;\n  }\n  get src() {\n    return this.media ? this.media.src : \"\";\n  }\n  set src(url) {\n    if (!this.media) {\n      return;\n    }\n    this.emit(URL_CHANGE, url);\n    this.emit(WAITING);\n    this._currentTime = 0;\n    this._duration = 0;\n    if (util.isMSE(this.media)) {\n      this.onWaiting();\n      return;\n    }\n    this._detachSourceEvents(this.media);\n    if (util.typeOf(url) === \"Array\") {\n      this._attachSourceEvents(this.media, url);\n    } else if (url) {\n      this.media.src = url;\n    } else {\n      this.media.removeAttribute(\"src\");\n    }\n    this.load();\n  }\n  get volume() {\n    return this.media ? this.media.volume : 0;\n  }\n  set volume(vol) {\n    if (vol === Infinity || !this.media) {\n      return;\n    }\n    this.media.volume = vol;\n  }\n  get aspectRatio() {\n    return this.media ? this.media.videoWidth / this.media.videoHeight : 0;\n  }\n  addInnerOP(event) {\n    this._internalOp[event] = true;\n  }\n  removeInnerOP(event) {\n    delete this._internalOp[event];\n  }\n  emit(event, data, ...args) {\n    super.emit(event, data, ...args);\n  }\n  on(event, callback, ...args) {\n    super.on(event, callback, ...args);\n  }\n  once(event, callback, ...args) {\n    super.once(event, callback, ...args);\n  }\n  off(event, callback, ...args) {\n    super.off(event, callback, ...args);\n  }\n  offAll() {\n    super.removeAllListeners();\n  }\n}\nexport { MediaProxy as default };\n","class INDEXDB {\n  constructor(mydb = { name: \"xgplayer\", version: 1, db: null, ojstore: { name: \"xg-m4a\", keypath: \"vid\" } }) {\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  openDB(callback) {\n    const self = this;\n    const version = this.myDB.version || 1;\n    const request = self.indexedDB.open(self.myDB.name, version);\n    request.onerror = function(e) {\n    };\n    request.onsuccess = (e) => {\n      this.myDB.db = e.target.result;\n      callback.call(self);\n    };\n    request.onupgradeneeded = (e) => {\n      const db = e.target.result;\n      e.target.transaction;\n      if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n        db.createObjectStore(self.myDB.ojstore.name, { keyPath: self.myDB.ojstore.keypath });\n      }\n    };\n  }\n  deletedb() {\n    const self = this;\n    self.indexedDB.deleteDatabase(this.myDB.name);\n  }\n  closeDB() {\n    this.myDB.db.close();\n  }\n  addData(storename, data) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    let request;\n    for (let i = 0; i < data.length; i++) {\n      request = store.add(data[i]);\n      request.onerror = function() {\n      };\n      request.onsuccess = function() {\n      };\n    }\n  }\n  putData(storename, data) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    let request;\n    for (let i = 0; i < data.length; i++) {\n      request = store.put(data[i]);\n      request.onerror = function() {\n      };\n      request.onsuccess = function() {\n      };\n    }\n  }\n  getDataByKey(storename, key, callback) {\n    const self = this;\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    const request = store.get(key);\n    request.onerror = function() {\n      callback.call(self, null);\n    };\n    request.onsuccess = function(e) {\n      const result = e.target.result;\n      callback.call(self, result);\n    };\n  }\n  deleteData(storename, key) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    store.delete(key);\n  }\n  clearData(storename) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    store.clear();\n  }\n}\nexport { INDEXDB as default };\n","const FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nconst GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nconst EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nconst PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","function callHandler(obj, handler, next, ...args) {\n  const ret = handler.call(obj, ...args);\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then((...args2) => {\n      next.call(obj, ...args2);\n    });\n  } else {\n    next.call(obj, ...args);\n  }\n}\nfunction hook(hookName, handler, preset = { pre: null, next: null }) {\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    if (preset.pre) {\n      try {\n        preset.pre.call(this, ...arguments);\n      } catch (e) {\n        e.message = `[pluginName: ${this.pluginName}:${hookName}:pre error] >> ${e.message}`;\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        const preRet = this.__hooks[hookName].call(this, this, ...arguments);\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then((isContinue) => {\n              if (isContinue !== false) {\n                callHandler(this, handler, preset.next, ...arguments);\n              }\n            }).catch((e) => {\n              throw e;\n            });\n          } else {\n            callHandler(this, handler, preset.next, ...arguments);\n          }\n        } else if (preRet === void 0) {\n          callHandler(this, handler, preset.next, ...arguments);\n        }\n      } catch (e) {\n        e.message = `[pluginName: ${this.pluginName}:${hookName}] >> ${e.message}`;\n        throw e;\n      }\n    } else {\n      callHandler(this, handler, preset.next, ...arguments);\n    }\n  }.bind(this);\n}\nfunction useHooks(hookName, handler) {\n  const { __hooks } = this;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(`has no supported hook which name [${hookName}]`);\n    return false;\n  }\n  __hooks && (__hooks[hookName] = handler);\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  const { __hooks } = this;\n  if (!__hooks) {\n    return;\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName, ...args) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  const plugin = this.plugins[pluginName.toLowerCase()];\n  return plugin.useHooks && plugin.useHooks(...args);\n}\nfunction removePluginHooks(pluginName, ...args) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  const plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    return plugin.removeHooks && plugin.removeHooks(...args);\n  }\n}\nfunction hooksDescriptor(instance, presetHooks = []) {\n  instance.__hooks = {};\n  presetHooks && presetHooks.map((item) => {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: () => {\n      return instance.__hooks && Object.keys(instance.__hooks).map((key) => {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler, ...args) {\n  if (obj.__hooks && obj.__hooks[hookName]) {\n    const ret = obj.__hooks[hookName].call(obj, obj, ...args);\n    if (ret && ret.then) {\n      ret.then((data) => {\n        return data === false ? null : handler.call(obj, obj, ...args);\n      }).catch((e) => {\n        console.warn(`[runHooks]${hookName} reject`, e.message);\n      });\n    } else if (ret !== false) {\n      return handler.call(obj, obj, ...args);\n    }\n  } else {\n    return handler.call(obj, obj, ...args);\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(`[${pluginName}] event or callback cant be undefined or null when call ${msg}`);\n}\nclass BasePlugin {\n  static defineGetterOrSetter(Obj, map) {\n    for (const key in map) {\n      if (Object.prototype.hasOwnProperty.call(map, key)) {\n        Object.defineProperty(Obj, key, map[key]);\n      }\n    }\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  static get pluginName() {\n    return \"pluginName\";\n  }\n  constructor(args) {\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  beforeCreate(args) {\n  }\n  afterCreate() {\n  }\n  beforePlayerInit() {\n  }\n  onPluginsReady() {\n  }\n  afterPlayerInit() {\n  }\n  destroy() {\n  }\n  __init(args) {\n    this.player = args.player;\n    this.playerConfig = args.player && args.player.config;\n    this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n    this.logger = args.player && args.player.logger;\n  }\n  updateLang(lang) {\n    if (!lang) {\n      lang = this.lang;\n    }\n  }\n  get lang() {\n    return this.player.lang;\n  }\n  get i18n() {\n    return this.player.i18n;\n  }\n  get i18nKeys() {\n    return this.player.i18nKeys;\n  }\n  get domEventType() {\n    let _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n    if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n      _e = this.playerConfig.domEventType;\n    }\n    return _e;\n  }\n  on(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      this.__events[event] = callback;\n      this.player.on(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback;\n        this.player.on(item, callback);\n      });\n    }\n  }\n  once(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      this.__onceEvents[event] = callback;\n      this.player.once(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__onceEvents[item] = callback;\n        this.player.once(event, callback);\n      });\n    }\n  }\n  off(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      delete this.__events[event];\n      this.player.off(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        delete this.__events[event];\n        this.player.off(item, callback);\n      });\n    }\n  }\n  offAll() {\n    [\"__events\", \"__onceEvents\"].forEach((key) => {\n      Object.keys(this[key]).forEach((item) => {\n        this[key][item] && this.off(item, this[key][item]);\n        item && delete this[key][item];\n      });\n    });\n    this.__events = {};\n    this.__onceEvents = {};\n  }\n  emit(event, ...res) {\n    if (!this.player) {\n      return;\n    }\n    this.player.emit(event, ...res);\n  }\n  emitUserAction(event, action, params = {}) {\n    if (!this.player) {\n      return;\n    }\n    const nParams = {\n      ...params,\n      pluginName: this.pluginName\n    };\n    this.player.emitUserAction(event, action, nParams);\n  }\n  hook(hookName, handler, preset = { pre: null, next: null }) {\n    return hook.call(this, ...arguments);\n  }\n  useHooks(hookName, handler, ...args) {\n    return useHooks.call(this, ...arguments);\n  }\n  removeHooks(hookName, handler, ...args) {\n    return removeHooks.call(this, ...arguments);\n  }\n  registerPlugin(plugin, options = {}, name = \"\") {\n    if (!this.player) {\n      return;\n    }\n    name && (options.pluginName = name);\n    return this.player.registerPlugin({ plugin, options });\n  }\n  getPlugin(name) {\n    return this.player ? this.player.getPlugin(name) : null;\n  }\n  __destroy() {\n    const player = this.player;\n    const pluginName = this.pluginName;\n    this.offAll();\n    util.clearAllTimers(this);\n    if (util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map((item) => {\n      this[item] = null;\n    });\n    player.unRegisterPlugin(pluginName);\n    delHooksDescriptor(this);\n  }\n}\nexport { BasePlugin as default };\n","import BasePlugin from \"./basePlugin.js\";\nimport delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nconst ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nconst POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nconst PLUGIN_STATE_CLASS = {\n  ICON_DISABLE: \"xg-icon-disable\",\n  ICON_HIDE: \"xg-icon-hide\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (typeof icon === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return `${classname} ${icon.class}`;\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (typeof icon === \"object\" && icon.attr && typeof icon.attr === \"object\") {\n    Object.keys(icon.attr).map((key) => {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key, classname = \"\", attr = {}, pluginName = \"\") {\n  let newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map((key2) => {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, `xg-img ${classname}`);\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map((key2) => {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(`warn>>icons.${key} in config of plugin named [${pluginName}] is a function mast return an Element Object`);\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(`Plugin named [${pluginName}]:createIcon`, e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(`warn>>icons.${key} in config of plugin named [${pluginName}] is invalid`);\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  const _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map((key) => {\n    const orgIcon = iconsConfig[key];\n    let classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    let attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    let newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.langText, key, {\n      get: () => {\n        const { lang, i18n } = plugin;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nclass Plugin extends BasePlugin {\n  static insert(html, parent, index = 0) {\n    const len = parent.children.length;\n    const insertIdx = Number(index);\n    const isDomElement = html instanceof window.Node;\n    if (len) {\n      let i = 0;\n      let coordinate = null;\n      let mode = \"\";\n      for (; i < len; i++) {\n        coordinate = parent.children[i];\n        const curIdx = Number(coordinate.getAttribute(\"data-index\"));\n        if (curIdx >= insertIdx) {\n          mode = \"beforebegin\";\n          break;\n        } else if (curIdx < insertIdx) {\n          mode = \"afterend\";\n        }\n      }\n      if (isDomElement) {\n        if (mode === \"afterend\") {\n          parent.appendChild(html);\n        } else {\n          parent.insertBefore(html, coordinate);\n        }\n      } else {\n        coordinate.insertAdjacentHTML(mode, html);\n      }\n      return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n    } else {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n      return parent.children[parent.children.length - 1];\n    }\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  static delegate(root, querySelector, eventType, callback, capture = false) {\n    const dels = [];\n    if (root instanceof window.Node && typeof callback === \"function\") {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          const ret = delegate(root, querySelector, item, callback, capture);\n          ret.key = `${querySelector}_${item}`;\n          dels.push(ret);\n        });\n      } else {\n        const ret = delegate(root, querySelector, eventType, callback, capture);\n        ret.key = `${querySelector}_${eventType}`;\n        dels.push(ret);\n      }\n    }\n    return dels;\n  }\n  static get ROOT_TYPES() {\n    return ROOT_TYPES;\n  }\n  static get POSITIONS() {\n    return POSITIONS;\n  }\n  constructor(args = {}) {\n    super(args);\n    this.__delegates = [];\n  }\n  __init(args) {\n    super.__init(args);\n    if (!args.root) {\n      return;\n    }\n    const _parent = args.root;\n    let _el = null;\n    this.icons = {};\n    this.root = null;\n    this.parent = null;\n    const _orgicons = this.registerIcons() || {};\n    registerIconsObj(_orgicons, this);\n    this.langText = {};\n    const defaultTexConfig = this.registerLanguageTexts() || {};\n    registerTextObj(defaultTexConfig, this);\n    let renderStr = \"\";\n    try {\n      renderStr = this.render();\n    } catch (e) {\n      XG_DEBUG.logError(`Plugin:${this.pluginName}:render`, e);\n      throw new Error(`Plugin:${this.pluginName}:render:${e.message}`);\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index);\n      _el.setAttribute(\"data-index\", args.index);\n    } else if (args.tag) {\n      _el = util.createDom(args.tag, \"\", args.attr, args.name);\n      _el.setAttribute(\"data-index\", args.index);\n      _parent.appendChild(_el);\n    } else {\n      return;\n    }\n    this.root = _el;\n    this.parent = _parent;\n    const attr = this.config.attr || {};\n    const style = this.config.style || {};\n    this.setAttr(attr);\n    this.setStyle(style);\n    if (this.config.index) {\n      this.root.setAttribute(\"data-index\", this.config.index);\n    }\n    this.__registerChildren();\n  }\n  __registerChildren() {\n    if (!this.root) {\n      return;\n    }\n    this._children = [];\n    const children = this.children();\n    if (children && typeof children === \"object\") {\n      if (Object.keys(children).length > 0) {\n        Object.keys(children).map((item) => {\n          const name = item;\n          const _plugin = children[name];\n          const options = {\n            root: this.root\n          };\n          let config, Plugin2;\n          if (typeof _plugin === \"function\") {\n            config = this.config[name] || {};\n            Plugin2 = _plugin;\n          } else if (typeof _plugin === \"object\" && typeof _plugin.plugin === \"function\") {\n            config = _plugin.options ? util.deepCopy(this.config[name] || {}, _plugin.options) : this.config[name] || {};\n            Plugin2 = _plugin.plugin;\n          }\n          options.config = config;\n          config.index !== void 0 && (options.index = config.index);\n          config.root && (options.root = config.root);\n          this.registerPlugin(Plugin2, options, name);\n        });\n      }\n    }\n  }\n  updateLang(lang) {\n    if (!lang) {\n      lang = this.lang;\n    }\n    function checkChildren(node, callback) {\n      for (let i = 0; i < node.children.length; i++) {\n        if (node.children[i].children.length > 0) {\n          checkChildren(node.children[i], callback);\n        } else {\n          callback(node.children[i]);\n        }\n      }\n    }\n    const { root, i18n, langText } = this;\n    if (root) {\n      checkChildren(root, (node) => {\n        const langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n        if (!langKey) {\n          return;\n        }\n        const langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n        if (langTextShow) {\n          node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n        }\n      });\n    }\n  }\n  get lang() {\n    return this.player.lang;\n  }\n  changeLangTextKey(dom, key = \"\") {\n    const i18n = this.i18n || {};\n    const langText = this.langText;\n    dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n    const text = i18n[key] || langText[key] || \"\";\n    if (text) {\n      dom.innerHTML = text;\n    }\n  }\n  plugins() {\n    return this._children;\n  }\n  disable() {\n    this.config.disable = true;\n    util.addClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n  }\n  enable() {\n    this.config.disable = false;\n    util.removeClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n  }\n  children() {\n    return {};\n  }\n  registerPlugin(plugin, options = {}, name = \"\") {\n    options.root = options.root || this.root;\n    const _c = super.registerPlugin(plugin, options, name);\n    this._children.push(_c);\n    return _c;\n  }\n  registerIcons() {\n    return {};\n  }\n  registerLanguageTexts() {\n    return {};\n  }\n  find(qs) {\n    if (!this.root) {\n      return;\n    }\n    return this.root.querySelector(qs);\n  }\n  bind(querySelector, eventType, callback) {\n    if (arguments.length < 3 && typeof eventType === \"function\") {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType);\n        });\n      } else {\n        this.bindEL(querySelector, eventType);\n      }\n    } else {\n      const ret = Plugin.delegate.call(this, this.root, querySelector, eventType, callback);\n      this.__delegates = this.__delegates.concat(ret);\n    }\n  }\n  unbind(querySelector, eventType) {\n    if (arguments.length < 3 && typeof eventType === \"function\") {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType);\n        });\n      } else {\n        this.unbindEL(querySelector, eventType);\n      }\n    } else {\n      const key = `${querySelector}_${eventType}`;\n      for (let i = 0; i < this.__delegates.length; i++) {\n        if (this.__delegates[i].key === key) {\n          this.__delegates[i].destroy();\n          this.__delegates.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n  setStyle(name, value) {\n    if (!this.root) {\n      return;\n    }\n    if (util.typeOf(name) === \"String\") {\n      return this.root.style[name] = value;\n    } else if (util.typeOf(name) === \"Object\") {\n      Object.keys(name).map((key) => {\n        this.root.style[key] = name[key];\n      });\n    }\n  }\n  setAttr(name, value) {\n    if (!this.root) {\n      return;\n    }\n    if (util.typeOf(name) === \"String\") {\n      return this.root.setAttribute(name, value);\n    } else if (util.typeOf(name) === \"Object\") {\n      Object.keys(name).map((key) => {\n        this.root.setAttribute(key, name[key]);\n      });\n    }\n  }\n  setHtml(htmlStr, callback) {\n    if (!this.root) {\n      return;\n    }\n    this.root.innerHTML = htmlStr;\n    if (typeof callback === \"function\") {\n      callback();\n    }\n  }\n  bindEL(event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return;\n    }\n    if (`on${event}` in this.root && typeof eventHandle === \"function\") {\n      this.root.addEventListener(event, eventHandle, isBubble);\n    }\n  }\n  unbindEL(event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return;\n    }\n    if (`on${event}` in this.root && typeof eventHandle === \"function\") {\n      this.root.removeEventListener(event, eventHandle, isBubble);\n    }\n  }\n  show(value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== void 0 ? value : \"block\";\n    const cs = window.getComputedStyle(this.root, null);\n    const cssDisplayValue = cs.getPropertyValue(\"display\");\n    if (cssDisplayValue === \"none\") {\n      return this.root.style.display = \"block\";\n    }\n  }\n  hide() {\n    this.root && (this.root.style.display = \"none\");\n  }\n  appendChild(pdom, child) {\n    if (!this.root) {\n      return null;\n    }\n    if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n      return this.root.appendChild(arguments[0]);\n    }\n    if (!child || !(child instanceof window.Element)) {\n      return null;\n    }\n    try {\n      if (typeof pdom === \"string\") {\n        return this.find(pdom).appendChild(child);\n      } else {\n        return pdom.appendChild(child);\n      }\n    } catch (err) {\n      XG_DEBUG.logError(\"Plugin:appendChild\", err);\n      return null;\n    }\n  }\n  render() {\n    return \"\";\n  }\n  destroy() {\n  }\n  __destroy() {\n    const { player } = this;\n    this.__delegates.map((item) => {\n      item.destroy();\n    });\n    this.__delegates = [];\n    if (this._children instanceof Array) {\n      this._children.map((item) => {\n        player.unRegisterPlugin(item.pluginName);\n      });\n      this._children = null;\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty(\"remove\")) {\n        this.root.remove();\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root);\n      }\n    }\n    super.__destroy();\n    this.icons = {};\n    [\"root\", \"parent\"].map((item) => {\n      this[item] = null;\n    });\n  }\n}\nexport { PLUGIN_STATE_CLASS, POSITIONS, ROOT_TYPES, Plugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nclass ResizeObserver {\n  constructor() {\n    __publicField(this, \"__trigger\", (entries) => {\n      const t = new Date().getTime();\n      this.timeStamp = t;\n      for (let i = 0; i < entries.length; i++) {\n        this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, { trailing: true }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  addObserver(target, handler) {\n    if (!this.observer) {\n      return;\n    }\n    this.observer && this.observer.observe(target);\n    const _pid = target.getAttribute(PLATER_ID);\n    const { __handlers } = this;\n    let index = -1;\n    for (let i = 0; i < __handlers.length; i++) {\n      if (__handlers[i] && target === __handlers[i].target) {\n        index = i;\n      }\n    }\n    if (index > -1) {\n      this.__handlers[index].handler = handler;\n    } else {\n      this.__handlers.push({\n        target,\n        handler,\n        playerId: _pid\n      });\n    }\n  }\n  unObserver(target) {\n    let i = -1;\n    this.__handlers.map((item, index) => {\n      if (target === item.target) {\n        i = index;\n      }\n    });\n    try {\n      this.observer && this.observer.unobserve(target);\n    } catch (e) {\n    }\n    this.observer && this.observer.unobserve(target);\n    i > -1 && this.__handlers.splice(i, 1);\n  }\n  destroyObserver() {\n    this.observer && this.observer.disconnect();\n    this.observer = null;\n    this.__handlers = null;\n  }\n  __runHandler(target) {\n    const { __handlers } = this;\n    for (let i = 0; i < __handlers.length; i++) {\n      if (__handlers[i] && target === __handlers[i].target) {\n        try {\n          __handlers[i].handler(target);\n        } catch (error) {\n          console.error(error);\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n}\nlet resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nconst pluginsManager = {\n  pluginGroup: {},\n  init(player) {\n    let cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = util.generateSessionId();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && player.root && addObserver(player.root, () => {\n      player.resize();\n    });\n    this.pluginGroup[cgid] = {\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  formatPluginInfo(plugin, config) {\n    let PLUFGIN = null;\n    let options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits(pluginName, plugins) {\n    for (let i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig(pluginName, playerConfig) {\n    const keys = Object.keys(playerConfig);\n    let _pConfig = null;\n    for (let i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister(player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default;\n        } else {\n          result = plugin;\n        }\n        this.register(player, result, plugin.options);\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error(\"timeout\"));\n        }, timeout);\n      })\n    ]);\n  },\n  register(player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    const originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = player;\n    const pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(`not supported plugin [${pluginName}]`);\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    const keys = Object.keys(originalOptions);\n    for (let i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        const config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach((key) => {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(`the is one plugin with same pluginName [${pluginName}] exist, destroy the old instance`);\n      }\n      const _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      const plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(`[unRegister:${name}] cgid:[${cgid}] error`, e);\n    }\n  },\n  deletePlugin(player, name) {\n    const cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins(player) {\n    const cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin(player, name) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    const cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit(player) {\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId;\n        if (!this.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        const plugins = this.pluginGroup[cgid]._plugins;\n        const pluginsRet = [];\n        Object.keys(plugins).forEach((pName) => {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              const ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([...pluginsRet]).then(() => {\n          resolve();\n        }).catch((e) => {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((pName) => {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang(lang, player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((item) => {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(`${item} setLang`);\n        }\n      }\n    });\n  },\n  reRender(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const _pList = [];\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((pName) => {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        this.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach((item) => {\n      this.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach((key) => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  destroy(player) {\n    const cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    player.root && unObserver(player.root);\n    const plugins = this.pluginGroup[cgid]._plugins;\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item);\n    }\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  BUILTIN_CLASS: \"xgplayer-built-in\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    isNoRoot: false,\n    isCustomRoot: true,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: () => {\n    },\n    enableSwipeHandler: () => {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: { list: [] },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  const { plugins = [], ignores = [], icons = {}, i18n = [] } = presetInst;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n  Object.keys(icons).map((key) => {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  const _ci18n = player.config.i18n || [];\n  i18n.push(..._ci18n);\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","import util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nconst XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach((key) => {\n    const _s = util.typeOf(src[key]);\n    const _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      dst[key].push(...src[key]);\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map((key) => {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  let ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map((lang2) => {\n      const keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  const { lang } = i18nLangs;\n  ext.map((item) => {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  let _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  const texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  const ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  ret.langKeys.push(...XGI18nLang.langKeys);\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nconst I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    const ret = {};\n    XGI18nLang.langKeys.map((key) => {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","const STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nconst STATE_ARRAY = [\n  \"ERROR\",\n  \"INITIAL\",\n  \"READY\",\n  \"ATTACHING\",\n  \"ATTACHED\",\n  \"NOTALLOW\",\n  \"RUNNING\",\n  \"ENDED\",\n  \"DESTROYED\"\n];\nexport { STATES, STATE_ARRAY };\n","import { EventEmitter } from \"eventemitter3\";\nconst store = {};\nlet instance = null;\nclass InstManager extends EventEmitter {\n  static getInstance() {\n    instance || (instance = new InstManager());\n    return instance;\n  }\n  add(player) {\n    if (!player) {\n      return;\n    }\n    store[player.playerId] = player;\n    if (Object.keys(store).length === 1) {\n      this.setActive(player.playerId, true);\n    }\n  }\n  remove(player) {\n    if (!player) {\n      return;\n    }\n    player.isUserActive;\n    delete store[player.playerId];\n  }\n  _iterate(fn, endEarly = false) {\n    for (const key in store) {\n      if (Object.prototype.hasOwnProperty.call(store, key)) {\n        const player = store[key];\n        if (endEarly) {\n          if (fn(player)) {\n            break;\n          }\n        } else {\n          fn(player);\n        }\n      }\n    }\n  }\n  forEach(fn) {\n    this._iterate(fn);\n  }\n  find(fn) {\n    let result = null;\n    this._iterate((player) => {\n      const flag = fn(player);\n      if (flag) {\n        result = player;\n      }\n      return flag;\n    }, true);\n    return result;\n  }\n  findAll(fn) {\n    const results = [];\n    this._iterate((player) => {\n      if (fn(player)) {\n        results.push(player);\n      }\n    });\n    return results;\n  }\n  setActive(playerId, isActive = true) {\n    if (!store[playerId]) {\n      return;\n    }\n    if (isActive) {\n      this.forEach((inst) => {\n        if (playerId === inst.playerId) {\n          inst.isUserActive = true;\n          inst.isInstNext = false;\n        } else {\n          inst.isUserActive = false;\n        }\n      });\n    } else {\n      store[playerId].isUserActive = isActive;\n    }\n    return playerId;\n  }\n  getActiveId() {\n    const keys = Object.keys(store);\n    for (let i = 0; i < keys.length; i++) {\n      const c = store[keys[i]];\n      if (c && c.isUserActive) {\n        return keys[i];\n      }\n    }\n    return null;\n  }\n  setNext(playerId, isNext = true) {\n    if (!store[playerId]) {\n      return;\n    }\n    if (isNext) {\n      this.forEach((inst) => {\n        if (playerId === inst.playerId) {\n          inst.isUserActive = false;\n          inst.isInstNext = true;\n        } else {\n          inst.isInstNext = false;\n        }\n      });\n    } else {\n      store[playerId].isInstNext = isNext;\n    }\n    return playerId;\n  }\n}\nfunction checkPlayerRoot(root) {\n  const keys = Object.keys(store);\n  for (let i = 0; i < keys.length; i++) {\n    const p = store[keys[i]];\n    if (p.root === root) {\n      return p;\n    }\n  }\n  return null;\n}\nexport { InstManager, checkPlayerRoot };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { READY, ERROR, LOADED_DATA, PLAY, CANPLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, REPLAY, FULLSCREEN_CHANGE, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, USER_ACTION, LOADING, PLAYNEXT, VIDEO_RESIZE } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nimport { InstManager, checkPlayerRoot } from \"./instManager.js\";\nconst PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nlet REAL_TIME_SPEED = 0;\nlet AVG_SPEED = 0;\nlet instManager = null;\nconst _Player = class extends MediaProxy {\n  constructor(options) {\n    const config = util.deepMerge(getDefaultConfig(), options);\n    super(config);\n    __publicField(this, \"canPlayFunc\", () => {\n      if (!this.config) {\n        return;\n      }\n      const { autoplay, defaultPlaybackRate } = this.config;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", this.__startTime);\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime > this.duration ? this.duration : this.__startTime;\n        this.__startTime = -1;\n      }\n      this.playbackRate = defaultPlaybackRate;\n      (autoplay || this._useAutoplay) && this.mediaPlay();\n      this.off(CANPLAY, this.canPlayFunc);\n      this.removeClass(STATE_CLASS.ENTER);\n    });\n    __publicField(this, \"onFullscreenChange\", (event, isFullScreen) => {\n      const delayResize = () => {\n        util.setTimeout(this, () => {\n          this.resize();\n        }, 100);\n      };\n      const fullEl = util.getFullScreenEl();\n      if (this._fullActionFrom) {\n        this._fullActionFrom = \"\";\n      } else {\n        this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: this.currentTime,\n          duration: this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      const isVideo = checkIsCurrentVideo(fullEl, this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === this._fullscreenEl || isVideo)) {\n        delayResize();\n        !this.config.closeFocusVideoFocus && this.media.focus();\n        this.fullscreen = true;\n        this.changeFullStyle(this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        this.emit(FULLSCREEN_CHANGE, true, this._fullScreenOffset);\n        if (this.cssfullscreen) {\n          this.exitCssFullscreen();\n        }\n      } else if (this.fullscreen) {\n        delayResize();\n        const { _fullScreenOffset, config } = this;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(this, () => {\n            this.fullscreen = false;\n            this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !this.config.closeFocusVideoFocus && this.media.focus();\n          this.fullscreen = false;\n          this._fullScreenOffset = null;\n        }\n        if (!this.cssfullscreen) {\n          this.recoverFullStyle(this.root, this._fullscreenEl, STATE_CLASS.FULLSCREEN);\n        } else {\n          this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        this._fullscreenEl = null;\n        this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    __publicField(this, \"_onWebkitbeginfullscreen\", (e) => {\n      this._fullscreenEl = this.media;\n      this.onFullscreenChange(e, true);\n    });\n    __publicField(this, \"_onWebkitendfullscreen\", (e) => {\n      this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(this, PlAYER_HOOKS);\n    this.config = config;\n    this._pluginInfoId = util.generateSessionId();\n    bindDebug(this);\n    const defaultPreset = this.constructor.defaultPreset;\n    const { presets } = this.config;\n    if (presets.length) {\n      const defaultIdx = presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      presets.push(defaultPreset);\n    }\n    this.userTimer = null;\n    this.waitTimer = null;\n    this.handleSource = true;\n    this._state = STATES.INITIAL;\n    this.isError = false;\n    this._hasStart = false;\n    this.isSeeking = false;\n    this.isCanplay = false;\n    this._useAutoplay = false;\n    this.__startTime = -1;\n    this.rotateDeg = 0;\n    this.isActive = false;\n    this.fullscreen = false;\n    this.cssfullscreen = false;\n    this.isRotateFullscreen = false;\n    this._fullscreenEl = null;\n    this.timeSegments = [];\n    this._cssfullscreenEl = null;\n    this.curDefinition = null;\n    this._orgCss = \"\";\n    this._fullScreenOffset = null;\n    this._videoHeight = 0;\n    this._videoWidth = 0;\n    this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    this.innerContainer = null;\n    this.topBar = null;\n    this.root = null;\n    this.__i18n = I18N.init(this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      this.config.autoplay = false;\n    }\n    this.database = new INDEXDB();\n    this.isUserActive = false;\n    this._onceSeekCanplay = null;\n    this._isPauseBeforeSeek = 0;\n    this.innerStates = {\n      isActiveLocked: false\n    };\n    this.instManager = instManager;\n    this._initMedia();\n    const { isNoRoot } = this.config;\n    const rootInit = !isNoRoot && this._initDOM();\n    if (!isNoRoot && !rootInit) {\n      console.error(\n        new Error(\n          `can't find the dom which id is ${this.config.id} or this.config.el does not exist`\n        )\n      );\n      return;\n    }\n    pluginsManager.init(this);\n    const { definition = {}, url } = this.config;\n    if (!url && definition.list && definition.list.length > 0) {\n      let defaultDefinitionObj = definition.list.find(\n        (e) => e.definition && e.definition === definition.defaultDefinition\n      );\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      this.config.url = defaultDefinitionObj.url;\n      this.curDefinition = defaultDefinitionObj;\n    }\n    this._bindEvents();\n    this._registerPresets();\n    this._registerPlugins();\n    pluginsManager.onPluginsReady(this);\n    this.getInitDefinition();\n    this.setState(STATES.READY);\n    util.setTimeout(this, () => {\n      this.emit(READY);\n    }, 0);\n    this.onReady && this.onReady();\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        this.start();\n      }\n    }\n  }\n  static set debugger(value) {\n    XG_DEBUG.config.debug = value;\n  }\n  static get version() {\n    return version;\n  }\n  static get debugger() {\n    return XG_DEBUG.config.debug;\n  }\n  static set instManager(value) {\n    instManager = value;\n  }\n  static get instManager() {\n    return instManager;\n  }\n  static getCurrentUserActivePlayerId() {\n    return instManager == null ? void 0 : instManager.getActiveId();\n  }\n  static setCurrentUserActive(playerId, isActive) {\n    instManager == null ? void 0 : instManager.setActive(playerId, isActive);\n  }\n  _initMedia() {\n    const XgVideoProxy = this.constructor.XgVideoProxy;\n    if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n      const el = this.innerContainer || this.root;\n      this.detachVideoEvents(this.media);\n      const _nVideo = new XgVideoProxy(el, this.config, this.mediaConfig);\n      this.attachVideoEvents(_nVideo);\n      this.media = _nVideo;\n    }\n    this.media.setAttribute(PLATER_ID, this.playerId);\n  }\n  _initDOM() {\n    const { id, el, isCustomRoot, controls, autoplay, isMobileSimulateMode } = this.config;\n    this.root = id ? document.getElementById(id) : null;\n    if (!this.root) {\n      if (el && el.nodeType === 1) {\n        this.root = el;\n      } else if (isCustomRoot) {\n        this.emit(\n          ERROR,\n          new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          })\n        );\n        console.error(\"this.confg.id or this.config.el can't be empty\");\n        return false;\n      } else {\n        this.root = util.createDom(\"div\", \"\", { id, class: STATE_CLASS.BUILTIN_CLASS });\n      }\n    }\n    const ret = checkPlayerRoot(this.root);\n    if (ret) {\n      XG_DEBUG.logWarn(\n        \"The is an Player instance already exists in this.root, destroy it and reinitialize\"\n      );\n      ret.destroy();\n    }\n    this.root.setAttribute(PLATER_ID, this.playerId);\n    instManager == null ? void 0 : instManager.add(this);\n    this._initBaseDoms();\n    const device = isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n    this.addClass(\n      `${STATE_CLASS.DEFAULT} ${STATE_CLASS.INACTIVE} xgplayer-${device} ${controls ? \"\" : STATE_CLASS.NO_CONTROLS}`\n    );\n    if (autoplay) {\n      this.addClass(STATE_CLASS.ENTER);\n    } else {\n      this.addClass(STATE_CLASS.NO_START);\n    }\n    if (this.config.fluid) {\n      let { width: width2, height: height2 } = this.config;\n      if (typeof width2 !== \"number\" || typeof height2 !== \"number\") {\n        width2 = 600;\n        height2 = 337.5;\n      }\n      const style = {\n        width: \"100%\",\n        height: \"0\",\n        \"max-width\": \"100%\",\n        \"padding-top\": `${height2 * 100 / width2}%`\n      };\n      Object.keys(style).forEach((key) => {\n        this.root.style[key] = style[key];\n      });\n    } else {\n      [\"width\", \"height\"].forEach((key) => {\n        if (this.config[key]) {\n          if (typeof this.config[key] !== \"number\") {\n            this.root.style[key] = this.config[key];\n          } else {\n            this.root.style[key] = `${this.config[key]}px`;\n          }\n        }\n      });\n    }\n    const { width, height, left, top } = this.root.getBoundingClientRect();\n    this.sizeInfo.width = width;\n    this.sizeInfo.height = height;\n    this.sizeInfo.left = left;\n    this.sizeInfo.top = top;\n    return true;\n  }\n  _initBaseDoms() {\n    this.topBar = null;\n    this.leftBar = null;\n    this.rightBar = null;\n    if (this.config.marginControls) {\n      this.innerContainer = util.createDom(\n        \"xg-video-container\",\n        \"\",\n        { \"data-index\": -1 },\n        \"xg-video-container\"\n      );\n      this.root.appendChild(this.innerContainer);\n    }\n  }\n  _bindEvents() {\n    [\"focus\", \"blur\"].forEach((item) => {\n      this.on(item, this[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n    });\n    FULLSCREEN_EVENTS.forEach((item) => {\n      document && document.addEventListener(item, this.onFullscreenChange);\n    });\n    if (sniffer.os.isIos) {\n      this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n    this.once(LOADED_DATA, this.resize);\n    this.playFunc = () => {\n      if (!this.config.closeFocusVideoFocus) {\n        this.media.focus();\n      }\n    };\n    this.once(PLAY, this.playFunc);\n  }\n  _unbindEvents() {\n    this.root && this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n    FULLSCREEN_EVENTS.forEach((item) => {\n      document.removeEventListener(item, this.onFullscreenChange);\n    });\n    this.playFunc && this.off(PLAY, this.playFunc);\n    this.off(CANPLAY, this.canPlayFunc);\n    this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n    this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n  }\n  _clearUserTimer() {\n    if (!this.userTimer) {\n      return;\n    }\n    util.clearTimeout(this, this.userTimer);\n    this.userTimer = null;\n  }\n  _startInit(url) {\n    if (!this.media) {\n      return;\n    }\n    if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n      url = \"\";\n      this.emit(URL_NULL);\n      XG_DEBUG.logWarn(\n        \"config.url is null, please get url and run player._startInit(url)\"\n      );\n      if (this.config.nullUrlStart) {\n        return;\n      }\n    }\n    if (this.handleSource) {\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        this._attachSourceEvents(this.media, url);\n      } else if (!this.media.src || this.media.src !== url) {\n        this.media.src = url;\n      } else if (!url) {\n        this.media.removeAttribute(\"src\");\n      }\n    }\n    if (util.typeOf(this.config.volume) === \"Number\") {\n      this.volume = this.config.volume;\n    }\n    const _root = this.innerContainer ? this.innerContainer : this.root;\n    if (_root && this.media instanceof window.Element && !_root.contains(this.media)) {\n      _root.insertBefore(this.media, _root.firstChild);\n    }\n    const { readyState } = this.media;\n    XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n    if (this.config.autoplay) {\n      !util.isMSE(this.media) && this.load();\n      (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n    }\n    const { startTime } = this.config;\n    this.__startTime = startTime > 0 ? startTime : -1;\n    this.config.startTime = 0;\n    if (readyState >= 2 && this.duration > 0) {\n      this.canPlayFunc();\n    } else {\n      this.on(CANPLAY, this.canPlayFunc);\n    }\n    if (!this.hasStart || this.state < STATES.ATTACHED) {\n      pluginsManager.afterInit(this);\n    }\n    this.hasStart = true;\n    this.setState(STATES.ATTACHED);\n    util.setTimeout(this, () => {\n      this.emit(COMPLETE);\n    }, 0);\n  }\n  _registerPlugins(isInit = true) {\n    this._loadingPlugins = [];\n    const ignores = this.config.ignores || [];\n    const plugins = this.config.plugins || [];\n    const i18n = this.config.i18n || [];\n    isInit && I18N.extend(i18n, this.__i18n);\n    const ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n    const cuPlugins = this.plugins;\n    plugins.forEach((plugin) => {\n      try {\n        const pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n        if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n          return null;\n        }\n        if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n          return;\n        }\n        if (plugin.lazy && plugin.loader) {\n          const loadingPlugin = pluginsManager.lazyRegister(this, plugin);\n          if (plugin.forceBeforeInit) {\n            loadingPlugin.then(() => {\n              this._loadingPlugins.splice(\n                this._loadingPlugins.indexOf(loadingPlugin),\n                1\n              );\n            }).catch((e) => {\n              XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n              this._loadingPlugins.splice(\n                this._loadingPlugins.indexOf(loadingPlugin),\n                1\n              );\n            });\n            this._loadingPlugins.push(loadingPlugin);\n          }\n          return;\n        }\n        return this.registerPlugin(plugin);\n      } catch (err) {\n        XG_DEBUG.logError(\"_registerPlugins:\", err);\n      }\n    });\n  }\n  _registerPresets() {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset);\n    });\n  }\n  _getRootByPosition(position) {\n    let _root = null;\n    switch (position) {\n      case POSITIONS.ROOT_RIGHT:\n        if (!this.rightBar) {\n          this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n        }\n        _root = this.rightBar;\n        break;\n      case POSITIONS.ROOT_LEFT:\n        if (!this.leftBar) {\n          this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n        }\n        _root = this.leftBar;\n        break;\n      case POSITIONS.ROOT_TOP:\n        if (!this.topBar) {\n          this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n          if (this.config.topBarAutoHide) {\n            util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n          }\n        }\n        _root = this.topBar;\n        break;\n      default:\n        _root = this.innerContainer || this.root;\n        break;\n    }\n    return _root;\n  }\n  registerPlugin(plugin, config) {\n    const _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n    const { PLUFGIN, options } = _retPlugin;\n    const { plugins } = this.config;\n    const exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n    !exits && plugins.push(PLUFGIN);\n    const _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n    _pConfig.root && (options.root = _pConfig.root);\n    _pConfig.position && (options.position = _pConfig.position);\n    const position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n    if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n      return this.controls && this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n    }\n    if (!options.root) {\n      options.root = PLUFGIN.pluginName === \"controls\" ? this.root : this._getRootByPosition(position);\n    }\n    return pluginsManager.register(this, PLUFGIN, options);\n  }\n  deregister(plugin) {\n    if (typeof plugin === \"string\") {\n      pluginsManager.unRegister(this, plugin);\n    } else if (plugin instanceof BasePlugin) {\n      pluginsManager.unRegister(this, plugin.pluginName);\n    }\n  }\n  unRegisterPlugin(plugin, removedFromConfig = false) {\n    this.deregister(plugin);\n    if (removedFromConfig) {\n      this.removePluginFromConfig(plugin);\n    }\n  }\n  removePluginFromConfig(plugin) {\n    let pluginName;\n    if (typeof plugin === \"string\") {\n      pluginName = plugin;\n    } else if (plugin instanceof BasePlugin) {\n      pluginName = plugin.pluginName;\n    }\n    if (!pluginName) {\n      return;\n    }\n    for (let i = this.config.plugins.length - 1; i > -1; i--) {\n      const plugin2 = this.config.plugins[i];\n      if (plugin2.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n        this.config.plugins.splice(i, 1);\n        break;\n      }\n    }\n  }\n  get plugins() {\n    return pluginsManager.getPlugins(this);\n  }\n  getPlugin(pluginName) {\n    const plugin = pluginsManager.findPlugin(this, pluginName);\n    return plugin && plugin.pluginName ? plugin : null;\n  }\n  addClass(className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className);\n    }\n  }\n  removeClass(className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className);\n  }\n  hasClass(className) {\n    if (!this.root) {\n      return;\n    }\n    return util.hasClass(this.root, className);\n  }\n  setAttribute(key, value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.setAttribute(key, value);\n  }\n  removeAttribute(key, value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.removeAttribute(key, value);\n  }\n  start(url) {\n    if (this.state > STATES.ATTACHING) {\n      return;\n    }\n    if (!url && !this.config.url) {\n      this.getInitDefinition();\n    }\n    this.hasStart = true;\n    this.setState(STATES.ATTACHING);\n    this._registerPlugins(false);\n    return pluginsManager.beforeInit(this).then(() => {\n      if (!this.config) {\n        return;\n      }\n      if (!url) {\n        url = this.url || this.config.url;\n      }\n      const _furl = this._preProcessUrl(url);\n      const ret = this._startInit(_furl.url);\n      return ret;\n    }).catch((e) => {\n      e.fileName = \"player\";\n      e.lineNumber = \"236\";\n      XG_DEBUG.logError(\"start:beforeInit:\", e);\n      throw e;\n    });\n  }\n  switchURL(url, options) {\n    let _src = url;\n    if (util.typeOf(url) === \"Object\") {\n      _src = url.url;\n    }\n    _src = this._preProcessUrl(_src).url;\n    const curTime = this.currentTime;\n    this.__startTime = curTime;\n    const isPaused = this.paused && !this.isError;\n    this.src = _src;\n    return new Promise((resolve, reject) => {\n      const _error = (e) => {\n        this.off(\"timeupdate\", _canplay);\n        this.off(\"canplay\", _canplay);\n        reject(e);\n      };\n      const _canplay = () => {\n        if (this.duration > 0 && this.__startTime > 0) {\n          this.currentTime = this.__startTime;\n          this.__startTime = -1;\n        }\n        if (isPaused) {\n          this.pause();\n        }\n        this.off(\"error\", _error);\n        resolve(true);\n      };\n      this.once(\"error\", _error);\n      if (!_src) {\n        this.errorHandler(\"error\", { code: 6, message: \"empty_src\" });\n        return;\n      }\n      if (sniffer.os.isAndroid) {\n        this.once(\"timeupdate\", _canplay);\n      } else {\n        this.once(\"canplay\", _canplay);\n      }\n      this.play();\n    });\n  }\n  videoPlay() {\n    this.mediaPlay();\n  }\n  mediaPlay() {\n    if (!this.hasStart && this.state < STATES.ATTACHED) {\n      this.removeClass(STATE_CLASS.NO_START);\n      this.addClass(STATE_CLASS.ENTER);\n      this.start();\n      this._useAutoplay = true;\n      return;\n    }\n    if (this.state < STATES.RUNNING) {\n      this.removeClass(STATE_CLASS.NO_START);\n      !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n    }\n    const playPromise = super.play();\n    if (playPromise !== void 0 && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n        this.addClass(STATE_CLASS.PLAYING);\n        if (this.state < STATES.RUNNING) {\n          XG_DEBUG.logInfo(\">>>>playPromise.then\");\n          this.setState(STATES.RUNNING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }).catch((e) => {\n        XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n        if (this.media && this.media.error) {\n          this.onError();\n          this.removeClass(STATE_CLASS.ENTER);\n          return;\n        }\n        if (e.name === \"NotAllowedError\") {\n          this._errorTimer = util.setTimeout(\n            this,\n            () => {\n              this._errorTimer = null;\n              this.emit(AUTOPLAY_PREVENTED);\n              this.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              this.removeClass(STATE_CLASS.ENTER);\n              this.pause();\n              this.setState(STATES.NOTALLOW);\n            },\n            0\n          );\n        }\n      });\n    } else {\n      XG_DEBUG.logWarn(\"video.play not return promise\");\n      if (this.state < STATES.RUNNING) {\n        this.setState(STATES.RUNNING);\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n        this.removeClass(STATE_CLASS.NO_START);\n        this.removeClass(STATE_CLASS.ENTER);\n        this.addClass(STATE_CLASS.PLAYING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n    }\n    return playPromise;\n  }\n  mediaPause() {\n    super.pause();\n  }\n  videoPause() {\n    super.pause();\n  }\n  play() {\n    this.removeClass(STATE_CLASS.PAUSED);\n    return runHooks(this, \"play\", () => {\n      return this.mediaPlay();\n    });\n  }\n  pause() {\n    runHooks(this, \"pause\", () => {\n      super.pause();\n    });\n  }\n  seek(time, status) {\n    if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n      return;\n    }\n    const { isSeekedPlay, seekedStatus } = this.config;\n    const _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n    time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n    !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n    this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n    this._onceSeekCanplay = () => {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.isSeeking = false;\n      switch (_status) {\n        case \"play\":\n          this.play();\n          break;\n        case \"pause\":\n          this.pause();\n          break;\n        default:\n          this._isPauseBeforeSeek > 1 || this.paused ? this.pause() : this.play();\n      }\n      this._isPauseBeforeSeek = 0;\n      this._onceSeekCanplay = null;\n    };\n    this.once(SEEKED, this._onceSeekCanplay);\n    if (this.state < STATES.RUNNING) {\n      this.removeClass(STATE_CLASS.NO_START);\n      this.currentTime = time;\n      this.play();\n    } else {\n      this.currentTime = time;\n    }\n  }\n  getInitDefinition() {\n    const { definition, url } = this.config;\n    if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n      definition.list.map((item) => {\n        if (item.definition === definition.defaultDefinition) {\n          this.config.url = item.url;\n          this.curDefinition = item;\n        }\n      });\n    }\n  }\n  changeDefinition(to, from) {\n    const { definition } = this.config;\n    if (Array.isArray(definition == null ? void 0 : definition.list)) {\n      definition.list.forEach((item) => {\n        if ((to == null ? void 0 : to.definition) === item.definition) {\n          this.curDefinition = item;\n        }\n      });\n    }\n    if ((to == null ? void 0 : to.bitrate) && typeof to.bitrate !== \"number\") {\n      to.bitrate = parseInt(to.bitrate, 10) || 0;\n    }\n    this.emit(DEFINITION_CHANGE, { from, to });\n    if (!this.hasStart) {\n      this.config.url = to.url;\n      return;\n    }\n    const ret = this.switchURL(to.url, {\n      seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\",\n      ...to\n    });\n    if (ret && ret.then) {\n      ret.then(() => {\n        this.emit(AFTER_DEFINITION_CHANGE, { from, to });\n      });\n    } else {\n      this.emit(AFTER_DEFINITION_CHANGE, { from, to });\n    }\n  }\n  reload() {\n    this.load();\n    this.reloadFunc = function() {\n      this.play();\n    };\n    this.once(LOADED_DATA, this.reloadFunc);\n  }\n  resetState() {\n    const {\n      NOT_ALLOW_AUTOPLAY,\n      PLAYING,\n      NO_START,\n      PAUSED,\n      REPLAY: REPLAY2,\n      ENTER,\n      ENDED,\n      ERROR: ERROR2,\n      LOADING: LOADING2\n    } = STATE_CLASS;\n    const clsList = [\n      NOT_ALLOW_AUTOPLAY,\n      PLAYING,\n      NO_START,\n      PAUSED,\n      REPLAY2,\n      ENTER,\n      ENDED,\n      ERROR2,\n      LOADING2\n    ];\n    this.hasStart = false;\n    this.isError = false;\n    this._useAutoplay = false;\n    this.mediaPause();\n    this._accPlayed.acc = 0;\n    this._accPlayed.t = 0;\n    this._accPlayed.loopAcc = 0;\n    clsList.forEach((cls) => {\n      this.removeClass(cls);\n    });\n    this.addClass(STATE_CLASS.NO_START);\n    this.emit(RESET);\n  }\n  reset(unregisterPlugins = [], isResetConfig) {\n    this.resetState();\n    const { plugins } = this;\n    if (!plugins) {\n      return;\n    }\n    unregisterPlugins.map((pn) => {\n      this.deregister(pn);\n    });\n    if (isResetConfig) {\n      const de = getDefaultConfig();\n      Object.keys(this.config).keys((k) => {\n        if (this.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n          this.config[k] = de[k];\n        }\n      });\n    }\n  }\n  destroy() {\n    const { innerContainer, root, media } = this;\n    if (!media) {\n      return;\n    }\n    this.hasStart = false;\n    this._useAutoplay = false;\n    root && root.removeAttribute(PLATER_ID);\n    this.updateAcc(\"destroy\");\n    this._unbindEvents();\n    this._detachSourceEvents(this.media);\n    util.clearAllTimers(this);\n    this.emit(DESTROY);\n    instManager == null ? void 0 : instManager.remove(this);\n    pluginsManager.destroy(this);\n    delHooksDescriptor(this);\n    super.destroy();\n    if (this.fullscreen && this._fullscreenEl === root) {\n      this.exitFullscreen();\n    }\n    if (innerContainer) {\n      const _c = innerContainer.children;\n      for (let i = 0; i < _c.length; i++) {\n        innerContainer.removeChild(_c[i]);\n      }\n    }\n    root && !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n    [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map((item) => {\n      this[item] && root.removeChild(this[item]);\n      this[item] = null;\n    });\n    const cList = root ? root.className.split(\" \") : [];\n    const isBuildIn = root && util.hasClass(root, STATE_CLASS.BUILTIN_CLASS);\n    if (cList.length > 0) {\n      root.className = cList.filter((name) => name.indexOf(\"xgplayer\") < 0).join(\" \");\n    } else {\n      root && (root.className = \"\");\n    }\n    this.removeAttribute(\"data-xgfill\");\n    [\n      \"isSeeking\",\n      \"isCanplay\",\n      \"isActive\",\n      \"cssfullscreen\",\n      \"fullscreen\"\n    ].forEach((key) => {\n      this[key] = false;\n    });\n    isBuildIn && this.root.parentNode && this.root.parentNode.removeChild(this.root);\n  }\n  replay() {\n    this.removeClass(STATE_CLASS.ENDED);\n    this.currentTime = 0;\n    this.isSeeking = false;\n    runHooks(this, \"replay\", () => {\n      this.once(SEEKED, () => {\n        const playPromise = this.mediaPlay();\n        if (playPromise && playPromise.catch) {\n          playPromise.catch((err) => {\n            console.log(err);\n          });\n        }\n      });\n      this.emit(REPLAY);\n      this.onPlay();\n    });\n  }\n  retry() {\n    this.removeClass(STATE_CLASS.ERROR);\n    this.addClass(STATE_CLASS.LOADING);\n    runHooks(this, \"retry\", () => {\n      const cur = this.currentTime;\n      const { url } = this.config;\n      const _srcRet = !util.isMSE(this.media) ? this._preProcessUrl(url) : { url };\n      this.src = _srcRet.url;\n      !this.config.isLive && (this.currentTime = cur);\n      this.once(CANPLAY, () => {\n        this.mediaPlay();\n      });\n    });\n  }\n  changeFullStyle(root, el, rootClass, pClassName) {\n    if (!root) {\n      return;\n    }\n    if (!pClassName) {\n      pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n    }\n    if (!this._orgCss) {\n      this._orgCss = util.filterStyleFromText(root);\n    }\n    util.addClass(root, rootClass);\n    if (el && el !== root && !this._orgPCss) {\n      this._orgPCss = util.filterStyleFromText(el);\n      util.addClass(el, pClassName);\n      el.setAttribute(PLATER_ID, this.playerId);\n    }\n  }\n  recoverFullStyle(root, el, rootClass, pClassName) {\n    if (!pClassName) {\n      pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n    }\n    if (this._orgCss) {\n      util.setStyleFromCsstext(root, this._orgCss);\n      this._orgCss = \"\";\n    }\n    util.removeClass(root, rootClass);\n    if (el && el !== root && this._orgPCss) {\n      util.setStyleFromCsstext(el, this._orgPCss);\n      this._orgPCss = \"\";\n      util.removeClass(el, pClassName);\n      el.removeAttribute(PLATER_ID);\n    }\n  }\n  getFullscreen(el = this.config.fullscreenTarget) {\n    const { root, media } = this;\n    if (!el) {\n      el = root;\n    }\n    this._fullScreenOffset = {\n      top: util.scrollTop(),\n      left: util.scrollLeft()\n    };\n    this._fullscreenEl = el;\n    this._fullActionFrom = \"get\";\n    const fullEl = util.getFullScreenEl();\n    if (fullEl === this._fullscreenEl) {\n      this.onFullscreenChange();\n      return Promise.resolve();\n    }\n    try {\n      for (let i = 0; i < GET_FULLSCREEN_API.length; i++) {\n        const key = GET_FULLSCREEN_API[i];\n        if (el[key]) {\n          const ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n          if (ret && ret.then) {\n            return ret;\n          } else {\n            return Promise.resolve();\n          }\n        }\n      }\n      if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n        media.webkitEnterFullscreen();\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(\"call getFullscreen fail\"));\n    } catch (err) {\n      return Promise.reject(new Error(\"call getFullscreen fail\"));\n    }\n  }\n  exitFullscreen(el) {\n    if (this.isRotateFullscreen) {\n      this.exitRotateFullscreen();\n    }\n    if (!this._fullscreenEl && !util.getFullScreenEl()) {\n      return;\n    }\n    const { root, media } = this;\n    this._fullActionFrom = \"exit\";\n    try {\n      for (let i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n        const key = EXIT_FULLSCREEN_API[i];\n        if (document[key]) {\n          const ret = document[key]();\n          if (ret && ret.then) {\n            return ret;\n          } else {\n            return Promise.resolve();\n          }\n        }\n      }\n      if (media && media.webkitSupportsFullscreen) {\n        media.webkitExitFullScreen();\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(\"call exitFullscreen fail\"));\n    } catch (err) {\n      return Promise.reject(new Error(\"call exitFullscreen fail\"));\n    }\n  }\n  getCssFullscreen(el = this.config.fullscreenTarget) {\n    if (this.isRotateFullscreen) {\n      this.exitRotateFullscreen();\n    } else if (this.fullscreen) {\n      this.exitFullscreen();\n    }\n    const _class = el ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.CSS_FULLSCREEN}` : STATE_CLASS.CSS_FULLSCREEN;\n    this.changeFullStyle(this.root, el, _class);\n    const { fullscreen = {} } = this.config;\n    const useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n    if (useCssFullscreen) {\n      this.fullscreen = true;\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n    this._cssfullscreenEl = el;\n    this.cssfullscreen = true;\n    this.emit(CSS_FULLSCREEN_CHANGE, true);\n  }\n  exitCssFullscreen() {\n    const _class = this._cssfullscreenEl ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.CSS_FULLSCREEN}` : STATE_CLASS.CSS_FULLSCREEN;\n    if (!this.fullscreen) {\n      this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n    } else {\n      const { fullscreen = {} } = this.config;\n      const useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n        this.fullscreen = false;\n        this.emit(FULLSCREEN_CHANGE, false);\n      } else {\n        this.removeClass(_class);\n      }\n    }\n    this._cssfullscreenEl = null;\n    this.cssfullscreen = false;\n    this.emit(CSS_FULLSCREEN_CHANGE, false);\n  }\n  getRotateFullscreen(el = this.config.fullscreenTarget) {\n    if (this.cssfullscreen) {\n      this.exitCssFullscreen(el);\n    }\n    const _class = el ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.ROTATE_FULLSCREEN}` : STATE_CLASS.ROTATE_FULLSCREEN;\n    this._fullscreenEl = el || this.root;\n    this.changeFullStyle(\n      this.root,\n      el,\n      _class,\n      STATE_CLASS.PARENT_ROTATE_FULLSCREEN\n    );\n    this.isRotateFullscreen = true;\n    this.fullscreen = true;\n    this.setRotateDeg(90);\n    this._rootStyle = this.root.getAttribute(\"style\");\n    this.root.style.width = `${window.innerHeight}px`;\n    this.emit(FULLSCREEN_CHANGE, true);\n  }\n  exitRotateFullscreen(el) {\n    const _class = this._fullscreenEl !== this.root ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.ROTATE_FULLSCREEN}` : STATE_CLASS.ROTATE_FULLSCREEN;\n    this.recoverFullStyle(\n      this.root,\n      this._fullscreenEl,\n      _class,\n      STATE_CLASS.PARENT_ROTATE_FULLSCREEN\n    );\n    this.isRotateFullscreen = false;\n    this.fullscreen = false;\n    this.setRotateDeg(0);\n    this.emit(FULLSCREEN_CHANGE, false);\n    if (this._rootStyle) {\n      this.root.style.style = this._rootStyle;\n      this._rootStyle = false;\n    }\n  }\n  setRotateDeg(deg) {\n    if (window.orientation === 90 || window.orientation === -90) {\n      this.rotateDeg = 0;\n    } else {\n      this.rotateDeg = deg;\n    }\n  }\n  focus(data = {\n    autoHide: !this.config.closeDelayBlur,\n    delay: this.config.inactive\n  }) {\n    if (this.isActive) {\n      this.onFocus(data);\n      return;\n    }\n    this.emit(PLAYER_FOCUS, {\n      paused: this.paused,\n      ended: this.ended,\n      ...data\n    });\n  }\n  blur(data = { ignorePaused: false }) {\n    if (!this.isActive) {\n      this.onBlur(data);\n      return;\n    }\n    this._clearUserTimer();\n    this.emit(PLAYER_BLUR, {\n      paused: this.paused,\n      ended: this.ended,\n      ...data\n    });\n  }\n  onFocus(data = { autoHide: true, delay: 3e3 }) {\n    const { innerStates } = this;\n    this.isActive = true;\n    this.removeClass(STATE_CLASS.INACTIVE);\n    this._clearUserTimer();\n    if (data.isLock !== void 0) {\n      innerStates.isActiveLocked = data.isLock;\n    }\n    if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n      this._clearUserTimer();\n      return;\n    }\n    const time = data && data.delay ? data.delay : this.config.inactive;\n    this.userTimer = util.setTimeout(this, () => {\n      this.userTimer = null;\n      this.blur();\n    }, time);\n  }\n  onBlur({ ignorePaused = false } = {}) {\n    if (this.innerStates.isActiveLocked) {\n      return;\n    }\n    const { closePauseVideoFocus } = this.config;\n    this.isActive = false;\n    if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.INACTIVE);\n    }\n  }\n  onEmptied() {\n    this.updateAcc(\"emptied\");\n  }\n  onCanplay() {\n    this.removeClass(STATE_CLASS.ENTER);\n    this.removeClass(STATE_CLASS.ERROR);\n    this.removeClass(STATE_CLASS.LOADING);\n    this.isCanplay = true;\n    this.waitTimer && util.clearTimeout(this, this.waitTimer);\n  }\n  onDurationchange() {\n    if (this.__startTime > 0 && this.duration > 0) {\n      this.currentTime = this.__startTime;\n      this.__startTime = -1;\n    }\n  }\n  onLoadeddata() {\n    this.isError = false;\n    this.isSeeking = false;\n  }\n  onLoadstart() {\n    this.removeClass(STATE_CLASS.ERROR);\n    this.isCanplay = false;\n  }\n  onPlay() {\n    if (this.state === STATES.ENDED) {\n      this.setState(STATES.RUNNING);\n    }\n    this.removeClass(STATE_CLASS.PAUSED);\n    this.ended && this.removeClass(STATE_CLASS.ENDED);\n    !this.config.closePlayVideoFocus && this.focus();\n  }\n  onPause() {\n    this.addClass(STATE_CLASS.PAUSED);\n    this.updateAcc(\"pause\");\n    if (!this.config.closePauseVideoFocus) {\n      this._clearUserTimer();\n      this.focus();\n    }\n  }\n  onEnded() {\n    this.updateAcc(\"ended\");\n    this.addClass(STATE_CLASS.ENDED);\n    this.setState(STATES.ENDED);\n  }\n  onError() {\n    this.isError = true;\n    this.updateAcc(\"error\");\n    this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n    this.removeClass(STATE_CLASS.NO_START);\n    this.removeClass(STATE_CLASS.ENTER);\n    this.removeClass(STATE_CLASS.LOADING);\n    this.addClass(STATE_CLASS.ERROR);\n  }\n  onSeeking() {\n    if (!this.isSeeking) {\n      this.updateAcc(\"seeking\");\n    }\n    this.isSeeking = true;\n    this.addClass(STATE_CLASS.SEEKING);\n  }\n  onSeeked() {\n    this.isSeeking = false;\n    if (this.waitTimer) {\n      util.clearTimeout(this, this.waitTimer);\n    }\n    this.removeClass(STATE_CLASS.LOADING);\n    this.removeClass(STATE_CLASS.SEEKING);\n  }\n  onWaiting() {\n    if (this.waitTimer) {\n      util.clearTimeout(this, this.waitTimer);\n    }\n    this.updateAcc(\"waiting\");\n    this.waitTimer = util.setTimeout(this, () => {\n      this.addClass(STATE_CLASS.LOADING);\n      this.emit(LOADING);\n      util.clearTimeout(this, this.waitTimer);\n      this.waitTimer = null;\n    }, this.config.minWaitDelay);\n  }\n  onPlaying() {\n    this.isError = false;\n    const { NO_START, PAUSED, ENDED, ERROR: ERROR2, REPLAY: REPLAY2, LOADING: LOADING2 } = STATE_CLASS;\n    const clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING2];\n    clsList.forEach((cls) => {\n      this.removeClass(cls);\n    });\n    if (!this._accPlayed.t && !this.paused && !this.ended) {\n      this._accPlayed.t = new Date().getTime();\n    }\n  }\n  onTimeupdate() {\n    !this._videoHeight && this.media.videoHeight && this.resize();\n    if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n      this.removeClass(STATE_CLASS.LOADING);\n      util.clearTimeout(this, this.waitTimer);\n      this.waitTimer = null;\n    }\n    if (!this.paused && this.state < STATES.RUNNING && this.duration) {\n      this.setState(STATES.RUNNING);\n      this.emit(AUTOPLAY_STARTED);\n    }\n    if (!this._accPlayed.t && !this.paused && !this.ended) {\n      this._accPlayed.t = new Date().getTime();\n    }\n  }\n  onVolumechange() {\n    util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n  }\n  onRatechange() {\n    this.config.defaultPlaybackRate = this.playbackRate;\n  }\n  emitUserAction(event, action, params) {\n    if (!this.media || !action || !event) {\n      return;\n    }\n    const eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n    if (params.props && util.typeOf(params.props) !== \"Array\") {\n      params.props = [params.props];\n    }\n    this.emit(USER_ACTION, {\n      eventType,\n      action,\n      currentTime: this.currentTime,\n      duration: this.duration,\n      ended: this.ended,\n      event,\n      ...params\n    });\n  }\n  updateAcc(endType) {\n    if (this._accPlayed.t) {\n      const _at = new Date().getTime() - this._accPlayed.t;\n      this._accPlayed.acc += _at;\n      this._accPlayed.t = 0;\n      if (endType === \"ended\" || this.ended) {\n        this._accPlayed.loopAcc = this._accPlayed.acc;\n      }\n    }\n  }\n  checkBuffer(time) {\n    const buffered = this.media.buffered;\n    if (!buffered || buffered.length === 0 || !this.duration) {\n      return true;\n    }\n    const currentTime = time || this.media.currentTime || 0.2;\n    const len = buffered.length;\n    for (let i = 0; i < len; i++) {\n      if (buffered.start(i) <= currentTime && buffered.end(i) > currentTime) {\n        return true;\n      }\n    }\n    return false;\n  }\n  resizePosition() {\n    const { vy, vx, h, w } = this.videoPos;\n    let rotate = this.videoPos.rotate;\n    if (rotate < 0 && h < 0 && w < 0) {\n      return;\n    }\n    let _pi = this.videoPos._pi;\n    if (!_pi && this.media.videoHeight) {\n      _pi = this.media.videoWidth / this.media.videoHeight * 100;\n    }\n    if (!_pi) {\n      return;\n    }\n    this.videoPos.pi = _pi;\n    rotate = rotate < 0 ? 0 : rotate;\n    const _pos = {\n      rotate\n    };\n    let offsetY = 0;\n    let offsetX = 0;\n    let scale = 1;\n    const _t = Math.abs(rotate / 90);\n    const { root, innerContainer } = this;\n    const width = root.offsetWidth;\n    const height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n    let rHeight = height;\n    let rWidth = width;\n    if (_t % 2 === 0) {\n      scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n      _pos.scale = scale;\n      offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n      _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n      offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n      _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n      this.media.style.width = `${rWidth}px`;\n      this.media.style.height = `${rHeight}px`;\n    } else if (_t % 2 === 1) {\n      rWidth = height;\n      rHeight = width;\n      const offset = height - width;\n      offsetX = -offset / 2 / rWidth * 100;\n      _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n      offsetY = offset / 2 / rHeight * 100;\n      _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n      _pos.scale = scale;\n      this.media.style.width = `${rWidth}px`;\n      this.media.style.height = `${rHeight}px`;\n    }\n    const formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n    this.media.style.transform = formStyle;\n    this.media.style.webkitTransform = formStyle;\n  }\n  position(pos = { h: 0, y: 0, x: 0, w: 0 }) {\n    if (!this.media || !pos || !pos.h) {\n      return;\n    }\n    const { videoPos } = this;\n    videoPos.h = pos.h * 100 || 0;\n    videoPos.w = pos.w * 100 || 0;\n    videoPos.vx = pos.x * 100 || 0;\n    videoPos.vy = pos.y * 100 || 0;\n    this.resizePosition();\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    Object.keys(config).map((key) => {\n      if (key !== \"plugins\") {\n        this.config[key] = config[key];\n        const plugin = this.plugins[key.toLowerCase()];\n        if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n          plugin.setConfig(config[key]);\n        }\n      }\n    });\n  }\n  playNext(config) {\n    this.resetState();\n    this.setConfig(config);\n    this._currentTime = 0;\n    this._duration = 0;\n    runHooks(this, \"playnext\", () => {\n      this.start();\n      this.emit(PLAYNEXT, config);\n    });\n  }\n  resize() {\n    if (!this.media || !this.root) {\n      return;\n    }\n    const containerSize = this.root.getBoundingClientRect();\n    this.sizeInfo.width = containerSize.width;\n    this.sizeInfo.height = containerSize.height;\n    this.sizeInfo.left = containerSize.left;\n    this.sizeInfo.top = containerSize.top;\n    const { videoWidth, videoHeight } = this.media;\n    const { fitVideoSize, videoFillMode } = this.config;\n    if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n      this.setAttribute(\"data-xgfill\", videoFillMode);\n    }\n    if (!videoHeight || !videoWidth) {\n      return;\n    }\n    this._videoHeight = videoHeight;\n    this._videoWidth = videoWidth;\n    const controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n    const width = containerSize.width;\n    const height = containerSize.height - controlsHeight;\n    const videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n    const fit = parseInt(width / height * 1e3, 10);\n    let rWidth = width;\n    let rHeight = height;\n    const _style = {};\n    if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n      rHeight = width / videoFit * 1e3;\n      if (this.config.fluid) {\n        _style.paddingTop = `${rHeight * 100 / rWidth}%`;\n      } else {\n        _style.height = `${rHeight + controlsHeight}px`;\n      }\n    } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n      rWidth = videoFit * height / 1e3;\n      _style.width = `${rWidth}px`;\n    }\n    if (!this.fullscreen && !this.cssfullscreen) {\n      Object.keys(_style).forEach((key) => {\n        this.root.style[key] = _style[key];\n      });\n    }\n    if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n      this.setAttribute(\"data-xgfill\", \"cover\");\n    }\n    const data = {\n      videoScale: videoFit,\n      vWidth: rWidth,\n      vHeight: rHeight,\n      cWidth: rWidth,\n      cHeight: rHeight + controlsHeight\n    };\n    this.resizePosition();\n    this.emit(VIDEO_RESIZE, data);\n  }\n  updateObjectPosition(left = 0, top = 0) {\n    if (this.media.updateObjectPosition) {\n      this.media.updateObjectPosition(left, top);\n      return;\n    }\n    this.media.style.objectPosition = `${left * 100}% ${top * 100}%`;\n  }\n  setState(newState) {\n    XG_DEBUG.logInfo(\n      \"setState\",\n      `state from:${STATE_ARRAY[this.state]} to:${STATE_ARRAY[newState]}`\n    );\n    this._state = newState;\n  }\n  _preProcessUrl(url, ext) {\n    const { preProcessUrl } = this.config;\n    return !util.isBlob(url) && typeof preProcessUrl === \"function\" ? preProcessUrl(url, ext) : { url };\n  }\n  get state() {\n    return this._state;\n  }\n  get isFullscreen() {\n    return this.fullscreen;\n  }\n  get isCssfullScreen() {\n    return this.cssfullscreen;\n  }\n  get hasStart() {\n    return this._hasStart;\n  }\n  set hasStart(bool) {\n    if (typeof bool === \"boolean\") {\n      this._hasStart = bool;\n      if (bool === false) {\n        this.setState(STATES.READY);\n      }\n      this.emit(\"hasstart\");\n    }\n  }\n  get isPlaying() {\n    return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n  }\n  set isPlaying(value) {\n    if (value) {\n      this.setState(STATES.RUNNING);\n    } else {\n      this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n    }\n  }\n  set definitionList(list) {\n    const { definition } = this.config;\n    let curDef = null;\n    let targetDef = null;\n    definition.list = list;\n    this.emit(\"resourceReady\", list);\n    list.forEach((item) => {\n      var _a;\n      if (((_a = this.curDefinition) == null ? void 0 : _a.definition) === item.definition) {\n        curDef = item;\n      }\n      if (definition.defaultDefinition === item.definition) {\n        targetDef = item;\n      }\n    });\n    if (!targetDef && list.length > 0) {\n      targetDef = list[0];\n    }\n    curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n  }\n  get definitionList() {\n    if (!this.config || !this.config.definition) {\n      return [];\n    }\n    return this.config.definition.list || [];\n  }\n  get videoFrameInfo() {\n    const ret = {\n      total: 0,\n      dropped: 0,\n      corrupted: 0,\n      droppedRate: 0,\n      droppedDuration: 0\n    };\n    if (!this.media || !this.media.getVideoPlaybackQuality) {\n      return ret;\n    }\n    const _quality = this.media.getVideoPlaybackQuality();\n    ret.dropped = _quality.droppedVideoFrames || 0;\n    ret.total = _quality.totalVideoFrames || 0;\n    ret.corrupted = _quality.corruptedVideoFrames || 0;\n    if (ret.total > 0) {\n      ret.droppedRate = ret.dropped / ret.total * 100;\n      ret.droppedDuration = parseInt(\n        this.cumulateTime / ret.total * ret.dropped,\n        0\n      );\n    }\n    return ret;\n  }\n  get controls() {\n    return this.plugins.controls;\n  }\n  set lang(lang) {\n    const result = I18N.langKeys.filter((key) => key === lang);\n    if (result.length === 0 && lang !== \"zh\") {\n      console.error(\n        `Sorry, set lang fail, because the language [${lang}] is not supported now, list of all supported languages is [${I18N.langKeys.join()}] `\n      );\n      return;\n    }\n    this.config.lang = lang;\n    pluginsManager.setLang(lang, this);\n  }\n  get lang() {\n    return this.config.lang;\n  }\n  get i18n() {\n    let _l = this.config.lang;\n    if (_l === \"zh\") {\n      _l = \"zh-cn\";\n    }\n    return this.__i18n.lang[_l] || this.__i18n.lang.en;\n  }\n  get i18nKeys() {\n    return this.__i18n.textKeys || {};\n  }\n  get version() {\n    return version;\n  }\n  get playerId() {\n    return this._pluginInfoId;\n  }\n  set url(url) {\n    this.__url = url;\n  }\n  get url() {\n    return this.__url || this.config.url;\n  }\n  set poster(posterUrl) {\n    this.plugins.poster && this.plugins.poster.update(posterUrl);\n  }\n  get poster() {\n    return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n  }\n  get readyState() {\n    return super.readyState;\n  }\n  get error() {\n    const key = super.error;\n    return this.i18n[key] || key;\n  }\n  get networkState() {\n    return super.networkState;\n  }\n  get fullscreenChanging() {\n    return !(this._fullScreenOffset === null);\n  }\n  get cumulateTime() {\n    const { acc, t } = this._accPlayed;\n    return t ? new Date().getTime() - t + acc : acc;\n  }\n  get zoom() {\n    return this.config.zoom;\n  }\n  set zoom(value) {\n    this.config.zoom = value;\n  }\n  set videoRotateDeg(val) {\n    val = util.convertDeg(val);\n    if (val % 90 !== 0 || val === this.videoPos.rotate) {\n      return;\n    }\n    this.videoPos.rotate = val;\n    this.resizePosition();\n  }\n  get videoRotateDeg() {\n    return this.videoPos.rotate;\n  }\n  set avgSpeed(val) {\n    AVG_SPEED = val;\n  }\n  get avgSpeed() {\n    return AVG_SPEED;\n  }\n  set realTimeSpeed(val) {\n    REAL_TIME_SPEED = val;\n  }\n  get realTimeSpeed() {\n    return REAL_TIME_SPEED;\n  }\n  get offsetCurrentTime() {\n    return this._offsetInfo.currentTime || 0;\n  }\n  set offsetCurrentTime(val) {\n    this._offsetInfo.currentTime = val;\n  }\n  get offsetDuration() {\n    return this._offsetInfo.duration || 0;\n  }\n  set offsetDuration(val) {\n    this._offsetInfo.duration = val || 0;\n  }\n  hook(hookName, handler, preset = { pre: null, next: null }) {\n    return hook.call(this, ...arguments);\n  }\n  useHooks(hookName, handler) {\n    return useHooks.call(this, ...arguments);\n  }\n  removeHooks(hookName, handler) {\n    return removeHooks.call(this, ...arguments);\n  }\n  usePluginHooks(pluginName, hookName, handler, ...args) {\n    return usePluginHooks.call(this, ...arguments);\n  }\n  removePluginHooks(pluginName, hookName, handler, ...args) {\n    return removePluginHooks.call(this, ...arguments);\n  }\n  setUserActive(isActive, isMuted) {\n    if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n      this.addInnerOP(\"volumechange\");\n      if (util.typeOf(isMuted) === Boolean) {\n        this.muted = isMuted;\n      }\n    }\n    instManager == null ? void 0 : instManager.setActive(this.playerId, isActive);\n  }\n  static isHevcSupported() {\n    return sniffer.isHevcSupported();\n  }\n  static probeConfigSupported(info) {\n    return sniffer.probeConfigSupported(info);\n  }\n  static install(name, descriptor) {\n    if (!_Player.plugins) {\n      _Player.plugins = {};\n    }\n    if (!_Player.plugins[name]) {\n      _Player.plugins[name] = descriptor;\n    }\n  }\n  static use(name, descriptor) {\n    if (!_Player.plugins) {\n      _Player.plugins = {};\n    }\n    _Player.plugins[name] = descriptor;\n  }\n};\nlet Player = _Player;\n__publicField(Player, \"defaultPreset\", null);\n__publicField(Player, \"XgVideoProxy\", null);\nPlayer.instManager = InstManager.getInstance();\nexport { Player as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nclass Controls extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { player, playerConfig } = this;\n      playerConfig.closeControlsBlur && player.focus({ autoHide: false });\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      const { player } = this;\n      player.focus();\n    });\n  }\n  static get pluginName() {\n    return \"controls\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: \"\",\n      initShow: false\n    };\n  }\n  beforeCreate(args) {\n    if (!args.config.mode && sniffer.device === \"mobile\") {\n      args.config.mode = \"flex\";\n    }\n    if (args.player.config.marginControls) {\n      args.config.autoHide = false;\n    }\n  }\n  afterCreate() {\n    const { disable, height, mode } = this.config;\n    if (disable) {\n      return;\n    }\n    mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n    const style = {\n      height: `${height}px`\n    };\n    Object.keys(style).map((key) => {\n      this.root.style[key] = style[key];\n    });\n    this.left = this.find(\"xg-left-grid\");\n    this.center = this.find(\"xg-center-grid\");\n    this.right = this.find(\"xg-right-grid\");\n    this.innerRoot = this.find(\"xg-inner-controls\");\n    this.on(MINI_STATE_CHANGE, (isMini) => {\n      isMini ? util.addClass(this.root, \"mini-controls\") : util.removeClass(this.root, \"mini-controls\");\n    });\n    const { isMobileSimulateMode } = this.playerConfig;\n    if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n      this.bind(\"mouseenter\", this.onMouseEnter);\n      this.bind(\"mouseleave\", this.onMouseLeave);\n    }\n  }\n  focus() {\n    this.player.focus({ autoHide: false });\n  }\n  focusAwhile() {\n    this.player.focus({ autoHide: true });\n  }\n  blur() {\n    this.player.blur({ ignorePaused: true });\n  }\n  recoverAutoHide() {\n    this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n  }\n  pauseAutoHide() {\n    util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n  }\n  show(value) {\n    this.root.style.display = \"\";\n    this.player.focus();\n  }\n  hide() {\n    this.root.style.display = \"none\";\n  }\n  get mode() {\n    return this.config.mode;\n  }\n  registerPlugin(plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    const defaultConfig = plugin.defaultConfig || {};\n    if (!options.root) {\n      const position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left;\n          break;\n        case POSITIONS.CONTROLS_RIGHT:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        case POSITIONS.CONTROLS:\n          options.root = this.root;\n          break;\n        default:\n          options.root = this.left;\n      }\n      return super.registerPlugin(plugin, options, name);\n    }\n  }\n  destroy() {\n    if (sniffer.device !== \"mobile\") {\n      this.unbind(\"mouseenter\", this.onMouseEnter);\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n    }\n  }\n  render() {\n    const { mode, autoHide, initShow, disable } = this.config;\n    if (disable) {\n      return;\n    }\n    const className = util.classNames(\n      { \"xgplayer-controls\": true },\n      { \"flex-controls\": mode === \"flex\" },\n      { \"bottom-controls\": mode === \"bottom\" },\n      { [STATE_CLASS.CONTROLS_AUTOHIDE]: autoHide },\n      { \"xgplayer-controls-initshow\": initShow || !autoHide }\n    );\n    return `<xg-controls class=\"${className}\" unselectable=\"on\">\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\n      <xg-left-grid class=\"xg-left-grid\">\n      </xg-left-grid>\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\n      <xg-right-grid class=\"xg-right-grid\">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>`;\n  }\n}\nexport { Controls as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nconst LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nclass XGLogger extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onTimeupdate\", () => {\n      this._state.isTimeUpdate = true;\n      if (this._state.autoplayStart) {\n        XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _onTimeupdate`);\n        this._sendFF(\"onTimeupdate\");\n      }\n    });\n    __publicField(this, \"_onAutoplayStart\", () => {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _onAutoplayStart`);\n      this._state.autoplayStart = true;\n      this.vt && this._sendFF(\"onAutoplayStart\");\n    });\n    __publicField(this, \"_onReset\", () => {\n      this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      this.vt = 0;\n      this.pt = 0;\n      this.fvt = 0;\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this._isSeeking = false;\n      this.seekingStart = 0;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this._isWaiting = false;\n      this._waitTimer && util.clearTimeout(this, this._waitTimer);\n      this._waittTimer && util.clearTimeout(this, this._waittTimer);\n      this._waitTimer = null;\n      this._waittTimer = null;\n      this._waitType = 0;\n    });\n    __publicField(this, \"_onSeeking\", () => {\n      if (this.seekingStart) {\n        return;\n      }\n      this.suspendWaitingStatus(\"seek\");\n      this.seekingStart = now();\n      this.emitLog(LOG_TYPES.SEEK_START, { start: now() });\n    });\n    __publicField(this, \"_onSeeked\", () => {\n      this.suspendSeekingStatus(\"seeked\");\n    });\n    __publicField(this, \"_onWaitingLoadStart\", () => {\n      if (this._isWaiting || this.vt) {\n        return;\n      }\n      this._isWaiting = true;\n      this.waitingStart = now();\n      this.fixedWaitingStart = now();\n      this._waitType = 1;\n      this.emitLog(LOG_TYPES.WAIT_START, { fixedStart: this.fixedWaitingStart, start: this.waitingStart, type: 1, endType: \"loadstart\" });\n    });\n    __publicField(this, \"_onWaiting\", () => {\n      if (this._isWaiting || !this.vt) {\n        return;\n      }\n      this._isWaiting = true;\n      if (!this.vt) {\n        this._waitType = 1;\n      } else if (this.seekingStart) {\n        this._waitType = 2;\n      } else {\n        this._waitType = 0;\n      }\n      this.fixedWaitingStart = now();\n      this._waitTimer = util.setTimeout(this, () => {\n        if (this._isWaiting) {\n          this.waitingStart = now();\n          util.clearTimeout(this, this._waitTimer);\n          this._waitTimer = null;\n          this._startWaitTimeout();\n          this.emitLog(LOG_TYPES.WAIT_START, { fixedStart: this.fixedWaitingStart, start: this.waitingStart, type: this._waitType, endType: this._waitType === 2 ? \"seek\" : \"playing\" });\n        }\n      }, 200);\n    });\n    __publicField(this, \"_onError\", () => {\n      this.suspendSeekingStatus(\"error\");\n      this.suspendWaitingStatus(\"error\");\n    });\n    __publicField(this, \"_onPlaying\", () => {\n      this._isWaiting && this.suspendWaitingStatus(\"playing\");\n    });\n  }\n  static get pluginName() {\n    return \"xgLogger\";\n  }\n  static get defaultConfig() {\n    return {\n      waitTimeout: 1e4\n    };\n  }\n  afterCreate() {\n    this._onReset();\n    this._waitType = \"firstFrame\";\n    this._initOnceEvents();\n    this.newPointTime = now();\n    this.loadedCostTime = 0;\n    this.startCostTime = 0;\n    this.on(LOAD_START, () => {\n      const { _state } = this;\n      const { autoplayStart, isFFSend } = _state;\n      this.startCostTime = now() - this.newPointTime;\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} LOAD_START`, `autoplayStart:${autoplayStart} isFFSend:${isFFSend} startCostTime:${this.startCostTime} newPointTime${this.newPointTime}`);\n      if (isFFSend) {\n        return;\n      }\n      !_state.isLs && this.emitLog(LOG_TYPES.LOAD_START, {});\n      _state.isLs = true;\n      _state.isTimeUpdate = false;\n      _state.isFFLoading = true;\n      this.pt = now();\n      this.vt = 0;\n      this.fvt = 0;\n      this._initOnceEvents();\n      this._onWaitingLoadStart();\n    });\n    this.on(LOADED_DATA, () => {\n      this.vt = now();\n      this.fvt = this.vt - this.pt;\n      this.loadedCostTime = this.vt - this.newPointTime;\n      const { isTimeUpdate, isFFSend, autoplayStart } = this._state;\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} LOADED_DATA`, `fvt:${this.fvt} isTimeUpdate:${this._state.isTimeUpdate} loadedCostTime:${this.loadedCostTime}`);\n      if (isTimeUpdate || autoplayStart) {\n        this._sendFF(\"loadedData\");\n      }\n      if (!isFFSend) {\n        this.emitLog(LOG_TYPES.LOADED_DATA, {});\n      }\n      this.suspendWaitingStatus(\"loadeddata\");\n    });\n    this.on(SEEKING, this._onSeeking);\n    this.on(SEEKED, this._onSeeked);\n    this.on(DESTROY, () => {\n      this.endState(\"destroy\");\n    });\n    this.on(URL_CHANGE, () => {\n      this.endState(\"urlChange\");\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} URL_CHANGE`);\n      this._state.isFFSend && this._onReset();\n    });\n    this.on([PLAYING, CANPLAY], this._onPlaying);\n    this.on(WAITING, this._onWaiting);\n    this.on(ERROR, this._onError);\n    this.on(RESET, () => {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} RESET`);\n      this.endState(\"reset\");\n      this._initOnceEvents();\n      this._onReset();\n    });\n  }\n  _initOnceEvents() {\n    this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n    this.off(TIME_UPDATE, this._onTimeupdate);\n    this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n    this.once(TIME_UPDATE, this._onTimeupdate);\n  }\n  _sendFF(endType) {\n    this.s = now();\n    const { isFFLoading, isFFSend } = this._state;\n    XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _sendFF`, `${endType} fvt:${this.fvt} isFFLoading:${isFFLoading} !isFFSend:${!isFFSend}`);\n    if (this.vt > 0 && isFFLoading && !isFFSend) {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} emitLog_firstFrame`, endType);\n      this._state.isFFLoading = false;\n      this._state.isFFSend = true;\n      this.emitLog(LOG_TYPES.FIRST_FRAME, { fvt: this.fvt, costTime: this.fvt, vt: this.vt, startCostTime: this.startCostTime, loadedCostTime: this.loadedCostTime });\n    }\n  }\n  _startWaitTimeout() {\n    if (this._waittTimer) {\n      util.clearTimeout(this, this._waittTimer);\n    }\n    this._waittTimer = util.setTimeout(this, () => {\n      this.suspendWaitingStatus(\"timeout\");\n      util.clearTimeout(this, this._waittTimer);\n      this._waittTimer = null;\n    }, this.config.waitTimeout);\n  }\n  endState(endType) {\n    this.suspendWaitingStatus(endType);\n    this.suspendSeekingStatus(endType);\n  }\n  suspendSeekingStatus(endType) {\n    if (!this.seekingStart) {\n      return;\n    }\n    const _now = now();\n    const _cost = _now - this.seekingStart;\n    this.seekingStart = 0;\n    this.emitLog(LOG_TYPES.SEEK_END, { end: _now, costTime: _cost, endType });\n  }\n  suspendWaitingStatus(endType) {\n    if (this._waitTimer) {\n      util.clearTimeout(this, this._waitTimer);\n      this._waitTimer = null;\n    }\n    if (this._waittTimer) {\n      util.clearTimeout(this, this._waittTimer);\n      this._waittTimer = null;\n    }\n    this._isWaiting = false;\n    if (!this.waitingStart) {\n      return;\n    }\n    const _now = now();\n    const _cost = _now - this.waitingStart;\n    const _fixedCost = _now - this.fixedWaitingStart;\n    const { waitTimeout } = this.config;\n    this._isWaiting = false;\n    this.waitingStart = 0;\n    this.fixedWaitingStart = 0;\n    this.emitLog(LOG_TYPES.WAIT_END, {\n      fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n      costTime: _cost > waitTimeout ? waitTimeout : _cost,\n      type: endType === \"loadeddata\" ? 1 : this._waitType,\n      endType: this._waitType === 2 ? \"seek\" : endType\n    });\n  }\n  emitLog(eventType, data) {\n    const { player } = this;\n    this.emit(XGLOG, {\n      t: now(),\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype,\n      eventType,\n      currentTime: this.player.currentTime,\n      readyState: player.video.readyState,\n      networkState: player.video.networkState,\n      ...data\n    });\n  }\n}\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nclass Replay extends Plugin {\n  static get pluginName() {\n    return \"replay\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: false\n    };\n  }\n  registerIcons() {\n    return {\n      replay: ReplaySvg\n    };\n  }\n  afterCreate() {\n    Plugin.insert(this.icons.replay, this.root, 0);\n    this.__handleReplay = this.hook(\"replayClick\", () => {\n      this.player.replay();\n    }, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    this.on(ENDED, () => {\n      if (!this.playerConfig.loop) {\n        util.addClass(this.player.root, \"replay\");\n      }\n      if (this.config.disable) {\n        return;\n      }\n      this.show();\n      const path = this.root.querySelector(\"path\");\n      if (path) {\n        const transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n        if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n          return null;\n        } else {\n          path.setAttribute(\"transform\", transform);\n        }\n      }\n    });\n    this.on(PLAY, () => {\n      this.hide();\n    });\n  }\n  handleReplay(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.player.replay();\n    util.removeClass(this.player.root, \"replay\");\n  }\n  show(value) {\n    if (this.config.disable) {\n      return;\n    }\n    this.root.style.display = \"flex\";\n  }\n  enable() {\n    this.config.disable = false;\n  }\n  disable() {\n    this.config.disable = true;\n    this.hide();\n  }\n  destroy() {\n    this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n  }\n  render() {\n    return `<xg-replay class=\"xgplayer-replay\">\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"${this.i18nKeys.REPLAY}\">${this.i18n.REPLAY}</xg-replay-txt>\n    </xg-replay>`;\n  }\n}\nexport { Replay as default };\n","import util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Poster extends Plugin {\n  static get pluginName() {\n    return \"poster\";\n  }\n  static get defaultConfig() {\n    return {\n      isEndedShow: true,\n      hideCanplay: false,\n      notHidden: false,\n      poster: \"\",\n      fillMode: \"fixWidth\"\n    };\n  }\n  set isEndedShow(value) {\n    this.config.isEndedShow = value;\n  }\n  get isEndedShow() {\n    return this.config.isEndedShow;\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.poster === \"string\") {\n      args.config.poster = args.player.config.poster;\n    }\n  }\n  afterCreate() {\n    this.on(ENDED, () => {\n      if (this.isEndedShow) {\n        util.removeClass(this.root, \"hide\");\n      }\n    });\n    if (this.config.hideCanplay) {\n      this.once(TIME_UPDATE, () => {\n        this.onTimeUpdate();\n      });\n      this.on(URL_CHANGE, () => {\n        util.removeClass(this.root, \"hide\");\n        util.addClass(this.root, \"xg-showplay\");\n        this.once(TIME_UPDATE, () => {\n          this.onTimeUpdate();\n        });\n      });\n    } else {\n      this.on(PLAY, () => {\n        util.addClass(this.root, \"hide\");\n      });\n    }\n  }\n  onTimeUpdate() {\n    if (!this.player.currentTime) {\n      this.once(TIME_UPDATE, () => {\n        this.onTimeUpdate();\n      });\n    } else {\n      util.removeClass(this.root, \"xg-showplay\");\n    }\n  }\n  update(poster) {\n    if (!poster) {\n      return;\n    }\n    this.config.poster = poster;\n    this.root.style.backgroundImage = `url(${poster})`;\n  }\n  getBgSize(mode) {\n    let _bg = \"\";\n    switch (mode) {\n      case \"cover\":\n        _bg = \"cover\";\n        break;\n      case \"contain\":\n        _bg = \"contain\";\n        break;\n      case \"fixHeight\":\n        _bg = \"auto 100%\";\n        break;\n      default:\n        _bg = \"\";\n    }\n    return _bg ? `background-size: ${_bg};` : \"\";\n  }\n  render() {\n    const { poster, hideCanplay, fillMode, notHidden } = this.config;\n    const _bg = this.getBgSize(fillMode);\n    const style = poster ? `background-image:url(${poster});${_bg}` : _bg;\n    const className = notHidden ? \"xg-not-hidden\" : hideCanplay ? \"xg-showplay\" : \"\";\n    return `<xg-poster class=\"xgplayer-poster ${className}\" style=\"${style}\">\n    </xg-poster>`;\n  }\n}\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nconst AnimateMap = {};\nfunction addAnimate(key, seconds, callback = { start: null, end: null }) {\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(() => {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map((key) => {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nclass Start extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onPlayerReset\", () => {\n      this.autoPlayStart = false;\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      this.setAttr(\"data-state\", \"play\");\n      util.removeClass(this.root, className);\n      this.show();\n    });\n    __publicField(this, \"onAutoplayStart\", () => {\n      if (this.autoPlayStart) {\n        return;\n      }\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(this.root, className);\n      this.autoPlayStart = true;\n      this.onPlayPause(\"play\");\n    });\n    this.autoPlayStart = false;\n  }\n  static get pluginName() {\n    return \"start\";\n  }\n  static get defaultConfig() {\n    return {\n      isShowPause: false,\n      isShowEnd: false,\n      disableAnimate: false,\n      mode: \"hide\"\n    };\n  }\n  afterCreate() {\n    const { player, playerConfig } = this;\n    this.initIcons();\n    this.once(READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === \"en\") {\n          util.addClass(player.root, \"lang-is-en\");\n        } else if (playerConfig.lang === \"jp\") {\n          util.addClass(player.root, \"lang-is-jp\");\n        }\n      }\n    });\n    this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n    if (!playerConfig.autoplay) {\n      this.show();\n    }\n    this.on(AUTOPLAY_PREVENTED, () => {\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      this.setAttr(\"data-state\", \"play\");\n      util.removeClass(this.root, className);\n      this.show();\n    });\n    this.on(PLAY, () => {\n      this.onPlayPause(\"play\");\n    });\n    this.on(PAUSE, () => {\n      this.onPlayPause(\"pause\");\n    });\n    this.on(RESET, () => {\n      this.onPlayerReset();\n    });\n    this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n      pre: (e) => {\n        e.cancelable && e.preventDefault();\n        e.stopPropagation();\n        const { paused } = this.player;\n        this.emitUserAction(e, \"switch_play_pause\", { props: \"paused\", from: paused, to: !paused });\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this.clickHandler);\n  }\n  registerIcons() {\n    return {\n      startPlay: { icon: PlaySvg, class: \"xg-icon-play\" },\n      startPause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\"xg-start-inner\", icons.startPlay);\n    this.appendChild(\"xg-start-inner\", icons.startPause);\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  focusHide() {\n    util.addClass(this.root, \"focus-hide\");\n  }\n  recover() {\n    util.removeClass(this.root, \"focus-hide\");\n  }\n  switchStatus(isAnimate) {\n    if (isAnimate) {\n      this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n    } else {\n      this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n    }\n  }\n  animate(endShow) {\n    this._animateId = addAnimate(\"pauseplay\", 400, {\n      start: () => {\n        util.addClass(this.root, \"interact\");\n        this.show();\n        this.switchStatus(true);\n      },\n      end: () => {\n        util.removeClass(this.root, \"interact\");\n        !endShow && this.hide();\n        this._animateId = null;\n      }\n    });\n  }\n  endAnimate() {\n    util.removeClass(this.root, \"interact\");\n    clearAnimation(this._animateId);\n    this._animateId = null;\n  }\n  switchPausePlay(e) {\n    const { player } = this;\n    e.cancelable && e.preventDefault();\n    e.stopPropagation();\n    if (player.state < STATES.READY) {\n      return;\n    }\n    const paused = this.player.paused;\n    if (!paused && player.state === STATES.RUNNING) {\n      player.pause();\n    } else {\n      player.play();\n    }\n  }\n  onPlayPause(status) {\n    const { config, player } = this;\n    if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n      return;\n    }\n    if (config.mode === \"show\") {\n      this.switchStatus();\n      this.show();\n      return;\n    }\n    if (config.mode === \"auto\") {\n      this.switchStatus();\n      return;\n    }\n    if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n      this.switchStatus();\n      this.show();\n      this.endAnimate();\n      return;\n    }\n    if (config.disableAnimate) {\n      this.switchStatus();\n      this.hide();\n      return;\n    }\n    if (status === \"play\") {\n      this.autoPlayStart ? this.animate() : this.hide();\n    } else {\n      if (!this.autoPlayStart || player.ended) {\n        return;\n      }\n      this.animate();\n    }\n  }\n  destroy() {\n    this.unbind([\"click\", \"touchend\"], this.clickHandler);\n    clearAnimation(this._animateId);\n  }\n  render() {\n    const className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n    return `\n    <xg-start class=\"xgplayer-start ${className}\">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>`;\n  }\n}\nexport { Start as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Enter extends Plugin {\n  static get pluginName() {\n    return \"enter\";\n  }\n  static get defaultConfig() {\n    return {\n      innerHtml: \"\",\n      logo: \"\"\n    };\n  }\n  render() {\n    const { innerHtml } = this.config;\n    const root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n    if (innerHtml && innerHtml instanceof window.HTMLElement) {\n      root.appendChild(innerHtml);\n    } else if (innerHtml && typeof innerHtml === \"string\") {\n      root.innerHTML = innerHtml;\n    } else {\n      let barStr = \"\";\n      for (let i = 1; i <= 12; i++) {\n        barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n      }\n      root.innerHTML = `<div class=\"xgplayer-enter-spinner\">${barStr}</div>`;\n    }\n    return root;\n  }\n}\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ` <div class=\"xg-tips ${isShow ? \"hide\" : \" \"}\" lang-key=\"${plugin.i18nKeys[textKey]}\">\n    ${plugin.i18n[textKey]}\n    </div>`;\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nclass MiniScreenIcon extends Plugin {\n  static get pluginName() {\n    return \"miniscreenIcon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 10\n    };\n  }\n  afterCreate() {\n    this.getMini = this.getMini.bind(this);\n    this.exitMini = this.exitMini.bind(this);\n    this.bind(\"click\", this.getMini);\n  }\n  getMini() {\n    this.config.onClick && this.config.onClick();\n  }\n  exitMini() {\n    this.config.onClick && this.config.onClick();\n  }\n  destroy() {\n    this.unbind([\"click\", \"touchend\"], this.getMini);\n  }\n  render() {\n    const langKey = \"MINISCREEN\";\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"${this.i18nKeys[langKey]}\">${this.i18n[langKey]}</span></div>\n      </xg-icon>`;\n  }\n}\nexport { MiniScreenIcon as default };\n","import EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  const num = parseFloat(value);\n  const isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nconst measurements = [\n  \"paddingLeft\",\n  \"paddingRight\",\n  \"paddingTop\",\n  \"paddingBottom\",\n  \"marginLeft\",\n  \"marginRight\",\n  \"marginTop\",\n  \"marginBottom\",\n  \"borderLeftWidth\",\n  \"borderRightWidth\",\n  \"borderTopWidth\",\n  \"borderBottomWidth\"\n];\nconst measurementsLength = measurements.length;\nfunction getZeroSize() {\n  const size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (let i = 0; i < measurementsLength; i++) {\n    const measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  const style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || typeof elem !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  const style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  const size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  const isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (let i = 0; i < measurementsLength; i++) {\n    const measurement = measurements[i];\n    const value = style[measurement];\n    const num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  const paddingWidth = size.paddingLeft + size.paddingRight;\n  const paddingHeight = size.paddingTop + size.paddingBottom;\n  const marginWidth = size.marginLeft + size.marginRight;\n  const marginHeight = size.marginTop + size.marginBottom;\n  const borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  const borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  const isBorderBoxSizeOuter = isBorderBox;\n  const styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  const styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (let i = 0; i < touches.length; i++) {\n    const touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nconst EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nconst POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nclass Draggabilly extends EventEmitter {\n  constructor(root, options = {}) {\n    super();\n    this.isEnabled = true;\n    this.isDragging = false;\n    this.isDown = false;\n    this.position = {};\n    this.downPoint = {};\n    this.dragPoint = { x: 0, y: 0 };\n    this.startPos = { x: 0, y: 0 };\n    this._root = root instanceof Element ? root : document.querySelector(root);\n    this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!this._root || !this._handlerDom) {\n      return;\n    }\n    this._bindStartEvent();\n  }\n  _bindStartEvent() {\n    if (\"ontouchstart\" in window) {\n      this._startKey = \"touchstart\";\n    } else {\n      this._startKey = \"mousedown\";\n    }\n    this[`on${this._startKey}`] = this[`on${this._startKey}`].bind(this);\n    this._handlerDom.addEventListener(this._startKey, this[`on${this._startKey}`]);\n    POST_START_EVENTS[this._startKey].map((key) => {\n      this[`on${key}`] = this[`on${key}`].bind(this);\n    });\n  }\n  _unbindStartEvent() {\n    this._handlerDom.removeEventListener(this._startKey, this[`on${this._startKey}`]);\n  }\n  _bindPostStartEvents(event) {\n    if (!event) {\n      return;\n    }\n    const events = POST_START_EVENTS[this._startKey];\n    events.map((eventName) => {\n      window.addEventListener(eventName, this[`on${eventName}`]);\n    });\n    this._boundPointerEvents = events;\n  }\n  _unbindPostStartEvents() {\n    if (!this._boundPointerEvents) {\n      return;\n    }\n    this._boundPointerEvents.map((eventName) => {\n      window.removeEventListener(eventName, this[`on${eventName}`]);\n    });\n    delete this._boundPointerEvents;\n  }\n  enable() {\n    this.isEnabled = true;\n  }\n  disable() {\n    this.isEnabled = false;\n    if (this.isDragging) {\n      this.onUp();\n    }\n  }\n  onDocUp(e) {\n    this.onUp();\n  }\n  animate() {\n    if (!this.isDragging) {\n      return;\n    }\n    this.positionDrag();\n    window.requestAnimationFrame(() => {\n      this.animate();\n    });\n  }\n  positionDrag() {\n    const transform = `translate3d(${this.dragPoint.x}px, ${this.dragPoint.y}px, 0)`;\n    this._root.style.transform = transform;\n    this._root.style.webKitTransform = transform;\n  }\n  setLeftTop() {\n    this._root.style.left = this.position.x + \"px\";\n    this._root.style.top = this.position.y + \"px\";\n  }\n  onmousedown(e) {\n    this.dragStart(e, e);\n  }\n  onmousemove(e) {\n    this.dragMove(e, e);\n  }\n  onmouseup(e) {\n    this.dragEnd(e, e);\n  }\n  ontouchstart(e) {\n    const touch = e.changedTouches[0];\n    this.dragStart(e, touch);\n    this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n    e.preventDefault();\n  }\n  ontouchmove(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragMove(e, touch);\n    }\n  }\n  ontouchend(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragEnd(e, touch);\n    }\n    e.preventDefault();\n  }\n  ontouchcancel(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragCancel(e, touch);\n    }\n  }\n  dragStart(e, pointer) {\n    if (!this._root || this.isDown || !this.isEnabled) {\n      return;\n    }\n    this.downPoint = pointer;\n    this.dragPoint.x = 0;\n    this.dragPoint.y = 0;\n    this._getPosition();\n    const size = getSize(this._root);\n    this.startPos.x = this.position.x;\n    this.startPos.y = this.position.y;\n    this.startPos.maxY = window.innerHeight - size.height;\n    this.startPos.maxX = window.innerWidth - size.width;\n    this.setLeftTop();\n    this.isDown = true;\n    this._bindPostStartEvents(e);\n  }\n  dragRealStart(e, pointer) {\n    this.isDragging = true;\n    this.animate();\n    this.emit(EVENTS.START, this.startPos);\n  }\n  dragEnd(e, pointer) {\n    if (!this._root) {\n      return;\n    }\n    this._unbindPostStartEvents();\n    if (this.isDragging) {\n      this._root.style.transform = \"\";\n      this.setLeftTop();\n      this.emit(EVENTS.ENDED);\n    }\n    this.presetInfo();\n  }\n  _dragPointerMove(e, pointer) {\n    const moveVector = {\n      x: pointer.pageX - this.downPoint.pageX,\n      y: pointer.pageY - this.downPoint.pageY\n    };\n    if (!this.isDragging && this.hasDragStarted(moveVector)) {\n      this.dragRealStart(e, pointer);\n    }\n    return moveVector;\n  }\n  dragMove(e, pointer) {\n    e = e || window.event;\n    if (!this.isDown) {\n      return;\n    }\n    const { x, y } = this.startPos;\n    const moveVector = this._dragPointerMove(e, pointer);\n    let dragX = moveVector.x;\n    let dragY = moveVector.y;\n    dragX = this.checkContain(\"x\", dragX, x);\n    dragY = this.checkContain(\"y\", dragY, y);\n    this.position.x = x + dragX;\n    this.position.y = y + dragY;\n    this.dragPoint.x = dragX;\n    this.dragPoint.y = dragY;\n    this.emit(EVENTS.MOVE, this.position);\n  }\n  dragCancel(e, pointer) {\n    this.dragEnd(e, pointer);\n  }\n  presetInfo() {\n    this.isDragging = false;\n    this.startPos = {\n      x: 0,\n      y: 0\n    };\n    this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    this.isDown = false;\n  }\n  destroy() {\n    this._unbindStartEvent();\n    this._unbindPostStartEvents();\n    if (this.isDragging) {\n      this.dragEnd();\n    }\n    this.removeAllListeners();\n    this._handlerDom = null;\n  }\n  hasDragStarted(moveVector) {\n    return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n  }\n  checkContain(axis, drag, grid) {\n    if (drag + grid < 0) {\n      return 0 - grid;\n    }\n    if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n      return this.startPos.maxX - grid;\n    }\n    if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n      return this.startPos.maxY - grid;\n    }\n    return drag;\n  }\n  _getPosition() {\n    const style = window.getComputedStyle(this._root);\n    const x = this._getPositionCoord(style.left, \"width\");\n    const y = this._getPositionCoord(style.top, \"height\");\n    this.position.x = Number.isNaN(x) ? 0 : x;\n    this.position.y = Number.isNaN(y) ? 0 : y;\n    this._addTransformPosition(style);\n  }\n  _addTransformPosition(style) {\n    const transform = style.transform;\n    if (transform.indexOf(\"matrix\") !== 0) {\n      return;\n    }\n    const matrixValues = transform.split(\",\");\n    const xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n    const translateX = parseInt(matrixValues[xIndex], 10);\n    const translateY = parseInt(matrixValues[xIndex + 1], 10);\n    this.position.x += translateX;\n    this.position.y += translateY;\n  }\n  _getPositionCoord(styleSide, measure) {\n    if (styleSide.indexOf(\"%\") !== -1) {\n      const parentSize = getSize(this._root.parentNode);\n      return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n    }\n    return parseInt(styleSide, 10);\n  }\n}\nexport { Draggabilly as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nclass MiniScreen extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onCancelClick\", (e) => {\n      this.exitMini();\n      this.isClose = true;\n    });\n    __publicField(this, \"onCenterClick\", (e) => {\n      const { player } = this;\n      player.paused ? player.play() : player.pause();\n    });\n    __publicField(this, \"onScroll\", (e) => {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - this.pos.scrollY) < 50) {\n        return;\n      }\n      let scrollHeight = parseInt(util.getCss(this.player.root, \"height\"));\n      scrollHeight += this.config.scrollTop;\n      this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !this.isMini && !this.isClose && this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        this.isMini && this.exitMini();\n        this.isClose = false;\n      }\n    });\n    this.isMini = false;\n    this.isClose = false;\n    const { config } = this;\n    this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: this.config.height,\n      width: this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    this.lastStyle = null;\n  }\n  static get pluginName() {\n    return \"miniscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 10,\n      disable: false,\n      width: 320,\n      height: 180,\n      left: -1,\n      top: -1,\n      isShowIcon: false,\n      isScrollSwitch: false,\n      scrollTop: 0,\n      disableDrag: false\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.mini === \"boolean\") {\n      args.config.isShowIcon = args.player.config.mini;\n    }\n  }\n  afterCreate() {\n    this.initIcons();\n    this.on(PAUSE, () => {\n      this.setAttr(\"data-state\", \"pause\");\n    });\n    this.on(PLAY, () => {\n      this.setAttr(\"data-state\", \"play\");\n    });\n  }\n  onPluginsReady() {\n    const { player, config } = this;\n    if (config.disable) {\n      return;\n    }\n    if (this.config.isShowIcon) {\n      const options = {\n        config: {\n          onClick: () => {\n            this.getMini();\n          }\n        }\n      };\n      player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n    }\n    const eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n    this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n    this.bind(\".play-icon\", eventName, this.onCenterClick);\n    if (!this.config.disableDrag) {\n      this._draggabilly = new Draggabilly(this.player.root, {\n        handle: this.root\n      });\n    }\n    if (this.config.isScrollSwitch) {\n      window.addEventListener(\"scroll\", this.onScroll);\n    }\n  }\n  registerIcons() {\n    return {\n      play: { icon: PlaySvg, class: \"xg-icon-play\" },\n      pause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".play-icon\", icons.play);\n    this.appendChild(\".play-icon\", icons.pause);\n  }\n  getMini() {\n    if (this.isMini) {\n      return;\n    }\n    const { player, playerConfig } = this;\n    const target = this.config.target || this.player.root;\n    this.lastStyle = {};\n    util.addClass(player.root, \"xgplayer-mini\");\n    [\"width\", \"height\", \"top\", \"left\"].map((key) => {\n      this.lastStyle[key] = target.style[key];\n      target.style[key] = `${this.pos[key]}px`;\n    });\n    if (playerConfig.fluid) {\n      target.style[\"padding-top\"] = \"\";\n    }\n    this.emit(MINI_STATE_CHANGE, true);\n    player.isMini = this.isMini = true;\n  }\n  exitMini() {\n    if (!this.isMini) {\n      return false;\n    }\n    const { player, playerConfig } = this;\n    const target = this.config.target || this.player.root;\n    util.removeClass(player.root, \"xgplayer-mini\");\n    if (this.lastStyle) {\n      Object.keys(this.lastStyle).map((key) => {\n        target.style[key] = this.lastStyle[key];\n      });\n    }\n    this.lastStyle = null;\n    if (playerConfig.fluid) {\n      player.root.style.width = \"100%\";\n      player.root.style.height = \"0\";\n      player.root.style[\"padding-top\"] = `${playerConfig.height * 100 / playerConfig.width}%`;\n    }\n    this.emit(MINI_STATE_CHANGE, false);\n    this.isMini = player.isMini = false;\n  }\n  destroy() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n    const eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n    this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n    this.unbind(\".play-icon\", eventName, this.onCenterClick);\n    this._draggabilly && this._draggabilly.destroy();\n    this._draggabilly = null;\n    this.exitMini();\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n      <xg-mini-layer class=\"xg-mini-layer\">\n      <xg-mini-header class=\"xgplayer-mini-header\">\n      ${xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips)}\n      </xg-mini-header>\n      <div class=\"mini-cancel-btn\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\n        </svg>\n      </div>\n      <div class=\"play-icon\">\n      </div>\n      </xg-mini-layer>`;\n  }\n}\nexport { MiniScreen as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { ENTER_PLAYER, LEAVE_PLAYER } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nconst MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nconst HOOKS = [\"videoClick\", \"videoDbClick\"];\nclass PCPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onMouseMove\", (e) => {\n      const { player, playerConfig } = this;\n      if (!player.isActive) {\n        player.focus({ autoHide: !playerConfig.closeDelayBlur });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { playerConfig, player } = this;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({ autoHide: false });\n      } else {\n        player.focus();\n      }\n      this.emit(ENTER_PLAYER);\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      const { closePlayerBlur, leavePlayerTime, closeDelayBlur } = this.playerConfig;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          this.player.focus({ autoHide: true, delay: leavePlayerTime });\n        } else {\n          this.player.blur({ ignorePaused: true });\n        }\n      }\n      this.emit(LEAVE_PLAYER);\n    });\n    __publicField(this, \"onVideoClick\", (e) => {\n      const { player, playerConfig } = this;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        this._clickCount++;\n        if (this.clickTimer) {\n          clearTimeout(this.clickTimer);\n          this.clickTimer = null;\n        }\n        this.clickTimer = setTimeout(() => {\n          if (!this._clickCount) {\n            return;\n          }\n          this._clickCount--;\n          runHooks(this, HOOKS[0], (plugin, data) => {\n            this.switchPlayPause(data.e);\n          }, { e, paused: player.paused });\n          clearTimeout(this.clickTimer);\n          this.clickTimer = null;\n        }, 300);\n      }\n    });\n    __publicField(this, \"onVideoDblClick\", (e) => {\n      const { player, playerConfig } = this;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && this._clickCount < 2) {\n        this._clickCount = 0;\n        return;\n      }\n      this._clickCount = 0;\n      if (this.clickTimer) {\n        clearTimeout(this.clickTimer);\n        this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(this, HOOKS[1], (plugin, data) => {\n        this.emitUserAction(data.e, \"switch_fullscreen\", { props: \"fullscreen\", from: player.fullscreen, to: !player.fullscreen });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, { e, fullscreen: player.fullscreen });\n    });\n  }\n  static get pluginName() {\n    return \"pc\";\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  afterCreate() {\n    this._clickCount = 0;\n    HOOKS.map((item) => {\n      this.__hooks[item] = null;\n    });\n    const { isMobileSimulateMode } = this.playerConfig;\n    if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n      return;\n    }\n    this.initEvents();\n  }\n  initEvents() {\n    const { media, root } = this.player;\n    const { enableContextmenu } = this.playerConfig;\n    root && root.addEventListener(\"click\", this.onVideoClick, false);\n    root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n    Object.keys(MOUSE_EVENTS).map((item) => {\n      root.addEventListener(item, this[MOUSE_EVENTS[item]], false);\n    });\n    !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n  }\n  switchPlayPause(e) {\n    const { player } = this;\n    this.emitUserAction(e, \"switch_play_pause\", { props: \"paused\", from: player.paused, to: !player.paused });\n    if (!player.ended) {\n      player.paused ? player.play() : player.pause();\n    } else {\n      player.duration !== Infinity && player.duration > 0 && player.replay();\n    }\n  }\n  onContextmenu(e) {\n    e = e || window.event;\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.returnValue = false;\n      e.cancelBubble = true;\n    }\n  }\n  destroy() {\n    const { video, root } = this.player;\n    this.clickTimer && clearTimeout(this.clickTimer);\n    root.removeEventListener(\"click\", this.onVideoClick, false);\n    root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n    video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n    Object.keys(MOUSE_EVENTS).map((item) => {\n      root.removeEventListener(item, this[MOUSE_EVENTS[item]], false);\n    });\n  }\n}\nexport { PCPlugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nconst TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nconst MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nclass Touche {\n  constructor(dom, config = { eventType: \"touch\" }) {\n    __publicField(this, \"onTouchStart\", (e) => {\n      const { _pos, root } = this;\n      const touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      this.__setPress(e);\n      root.addEventListener(this.events.end, this.onTouchEnd);\n      root.addEventListener(this.events.cancel, this.onTouchCancel);\n      root.addEventListener(this.events.move, this.onTouchMove);\n      this.trigger(EVENTS.TOUCH_START, e);\n    });\n    __publicField(this, \"onTouchCancel\", (e) => {\n      this.onTouchEnd(e);\n    });\n    __publicField(this, \"onTouchEnd\", (e) => {\n      const { _pos, root } = this;\n      this.__clearPress();\n      root.removeEventListener(this.events.cancel, this.onTouchCancel);\n      root.removeEventListener(this.events.end, this.onTouchEnd);\n      root.removeEventListener(this.events.move, this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    __publicField(this, \"onTouchMove\", (e) => {\n      const { _pos, config } = this;\n      const touch = getTouch(e.touches);\n      const x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      const y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      const diffx = x - _pos.x;\n      const diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      this.__clearPress();\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(config).map((key) => {\n      this.config[key] = config[key];\n    });\n    this.root = dom;\n    this.events = config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _initEvent() {\n    this.root.addEventListener(this.events.start, this.onTouchStart);\n  }\n  __setPress(e) {\n    const { config } = this;\n    if (this.pressIntrvalId) {\n      this.__clearPress();\n    }\n    this.pressIntrvalId = setTimeout(() => {\n      this.trigger(EVENTS.PRESS, e);\n      this._pos.press = true;\n      this.__clearPress();\n    }, config.pressDelay);\n  }\n  __clearPress() {\n    window.clearTimeout(this.pressIntrvalId);\n    this.pressIntrvalId = null;\n  }\n  __setDb(e) {\n    const { config } = this;\n    if (this.dbIntrvalId) {\n      this.__clearDb();\n      this.trigger(EVENTS.DOUBlE_CLICK, e);\n      return;\n    }\n    this.dbIntrvalId = setTimeout(() => {\n      this.__clearDb();\n      if (!this._pos.start && !this._pos.press && !this._pos.moving) {\n        this.trigger(EVENTS.CLICK, e);\n      }\n    }, config.dbClickDelay);\n  }\n  __clearDb() {\n    clearTimeout(this.dbIntrvalId);\n    this.dbIntrvalId = null;\n  }\n  on(event, handler) {\n    if (!this.__handlers[event]) {\n      this.__handlers[event] = [];\n    }\n    this.__handlers[event].push(handler);\n  }\n  off(event, handler) {\n    if (!this.__handlers[event]) {\n      return;\n    }\n    const handlers = this.__handlers[event];\n    let index = -1;\n    for (let i = 0; i < handlers.length; i++) {\n      if (handlers[i] === handler) {\n        index = i;\n        break;\n      }\n    }\n    if (index >= 0) {\n      this.__handlers[event].splice(index, 1);\n    }\n  }\n  trigger(event, e) {\n    if (!this.__handlers[event]) {\n      return;\n    }\n    this.__handlers[event].map((handler) => {\n      try {\n        handler(e);\n      } catch (error) {\n        console.error(`trigger>>:${event}`, error);\n      }\n    });\n  }\n  destroy() {\n    const map = {\n      touchend: \"onTouchEnd\",\n      touchmove: \"onTouchMove\",\n      touchstart: \"onTouchStart\"\n    };\n    Object.keys(map).forEach((key) => {\n      this.root.removeEventListener(key, this[map[key]]);\n    });\n  }\n}\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nconst ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nconst HOOKS = [\"videoClick\", \"videoDbClick\"];\nclass MobilePlugin extends Plugin {\n  constructor(options) {\n    super(options);\n    __publicField(this, \"onTouchStart\", (e) => {\n      const { player, config, pos, playerConfig } = this;\n      const touche = this.getTouche(e);\n      if (touche && !config.disableGesture && this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        this.timer && clearTimeout(this.timer);\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n        const rect = this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        const _x = parseInt(touche.pageX - pos.left, 10);\n        const _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    __publicField(this, \"onTouchMove\", (e) => {\n      const touche = this.getTouche(e);\n      const { pos, config, player } = this;\n      if (!touche || config.disableGesture || !this.duration || !pos.isStart) {\n        return;\n      }\n      const { miniMoveStep, hideControlsActive } = config;\n      const _x = parseInt(touche.pageX - pos.left, 10);\n      const _y = parseInt(touche.pageY - pos.top, 10);\n      const x = player.rotateDeg === 90 ? _y : _x;\n      const y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        const diffx = x - pos.x;\n        const diffy = y - pos.y;\n        let scope = pos.scope;\n        if (scope === -1) {\n          scope = this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({ autoHide: false }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        e.cancelable && e.preventDefault();\n        this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    __publicField(this, \"onTouchEnd\", (e) => {\n      const { player, pos, playerConfig } = this;\n      setTimeout(() => {\n        player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n      }, 10);\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      const { disableGesture, gestureX } = this.config;\n      if (!disableGesture && gestureX) {\n        this.endLastMove(pos.scope);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      this.changeAction(ACTIONS.AUTO);\n    });\n    __publicField(this, \"onRootTouchMove\", (e) => {\n      if (this.config.disableGesture || !this.config.gestureX) {\n        return;\n      }\n      if (this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!this.pos.isStart) {\n          this.onTouchStart(e);\n        } else {\n          this.onTouchMove(e);\n        }\n      }\n    });\n    __publicField(this, \"onRootTouchEnd\", (e) => {\n      if (this.pos.isStart && this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        this.onTouchEnd(e);\n      }\n    });\n    this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    this.timer = null;\n  }\n  static get pluginName() {\n    return \"mobile\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 0,\n      disableGesture: false,\n      gestureX: true,\n      gestureY: true,\n      gradient: \"normal\",\n      isTouchingSeek: false,\n      miniMoveStep: 5,\n      miniYPer: 5,\n      scopeL: 0.25,\n      scopeR: 0.25,\n      scopeM: 0.9,\n      pressRate: 2,\n      darkness: true,\n      maxDarkness: 0.8,\n      disableActive: false,\n      disableTimeProgress: false,\n      hideControlsActive: false,\n      hideControlsEnd: false,\n      moveDuration: 60 * 6 * 1e3,\n      closedbClick: false,\n      disablePress: true,\n      disableSeekIcon: false,\n      focusVideoClick: false\n    };\n  }\n  get duration() {\n    return this.playerConfig.customDuration || this.player.duration;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  registerIcons() {\n    return {\n      seekTipIcon: { icon: SeekTipIcon, class: \"xg-seek-pre\" }\n    };\n  }\n  afterCreate() {\n    HOOKS.map((item) => {\n      this.__hooks[item] = null;\n    });\n    const { playerConfig, config, player } = this;\n    if (playerConfig.closeVideoDblclick === true) {\n      config.closedbClick = true;\n    }\n    this.resetPos();\n    if (!util.isUndefined(playerConfig.disableGesture)) {\n      config.disableGesture = !!playerConfig.disableGesture;\n    }\n    this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n    this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n    player.root.appendChild(this.xgMask);\n    this.initCustomStyle();\n    this.registerThumbnail();\n    const eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n    this.touch = new Touche(this.root, { eventType, needPreventDefault: !this.config.disableGesture });\n    this.root.addEventListener(\"contextmenu\", (e) => {\n      e.preventDefault();\n    });\n    player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n    player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n    this.on(DURATION_CHANGE, () => {\n      const { player: player2, config: config2 } = this;\n      if (player2.duration * 1e3 < config2.moveDuration) {\n        config2.moveDuration = player2.duration * 1e3;\n      }\n    });\n    this.on([CANPLAY, ENDED], () => {\n      const { time, isStart } = this.pos;\n      if (!isStart && time > 0) {\n        this.pos.time = 0;\n      }\n    });\n    const eventsMap = {\n      touchstart: \"onTouchStart\",\n      touchmove: \"onTouchMove\",\n      touchend: \"onTouchEnd\",\n      press: \"onPress\",\n      pressend: \"onPressEnd\",\n      click: \"onClick\",\n      doubleclick: \"onDbClick\"\n    };\n    Object.keys(eventsMap).map((key) => {\n      this.touch.on(key, (e) => {\n        this[eventsMap[key]](e);\n      });\n    });\n    if (!config.disableActive) {\n      const progressPlugin = player.plugins.progress;\n      if (progressPlugin) {\n        progressPlugin.addCallBack(\"dragmove\", (data) => {\n          this.activeSeekNote(data.currentTime, data.forward);\n        });\n        [\"dragend\", \"click\"].forEach((key) => {\n          progressPlugin.addCallBack(key, () => {\n            this.changeAction(ACTIONS.AUTO);\n          });\n        });\n      }\n    }\n  }\n  registerThumbnail() {\n    const { player } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n      const timePreview = this.find(\".time-preview\");\n      timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n    }\n  }\n  initCustomStyle() {\n    const { commonStyle } = this.playerConfig || {};\n    const { playedColor, progressColor, timePreviewStyle, curTimeColor, durationColor } = commonStyle;\n    if (playedColor) {\n      this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n    }\n    if (progressColor) {\n      this.find(\".xg-bar\").style.backgroundColor = progressColor;\n    }\n    if (timePreviewStyle) {\n      const previewDom = this.find(\".time-preview\");\n      Object.keys(timePreviewStyle).forEach((key) => {\n        previewDom.style[key] = timePreviewStyle[key];\n      });\n    }\n    const curColor = curTimeColor || playedColor;\n    const durColor = durationColor;\n    curColor && (this.find(\".xg-cur\").style.color = curColor);\n    durColor && (this.find(\".xg-dur\").style.color = durColor);\n    this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n  }\n  resetPos(time = 0) {\n    if (this.pos) {\n      this.pos.isStart = false;\n      this.pos.scope = -1;\n      [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map((item) => {\n        this.pos[item] = 0;\n      });\n    } else {\n      this.pos = {\n        isStart: false,\n        x: 0,\n        y: 0,\n        volume: 0,\n        rate: 1,\n        light: 0,\n        width: 0,\n        height: 0,\n        scopeL: 0,\n        scopeR: 0,\n        scopeM1: 0,\n        scopeM2: 0,\n        scope: -1,\n        time: 0\n      };\n    }\n  }\n  changeAction(action) {\n    const { player, root } = this;\n    root.setAttribute(\"data-xg-action\", action);\n    const startPlugin = player.plugins.start;\n    startPlugin && startPlugin.recover();\n  }\n  getTouche(e) {\n    const rotateDeg = this.player.rotateDeg;\n    const touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n    return rotateDeg === 0 ? {\n      pageX: touche.pageX,\n      pageY: touche.pageY\n    } : {\n      pageX: touche.pageX,\n      pageY: touche.pageY\n    };\n  }\n  checkScope(x, y, diffx, diffy, pos) {\n    const { width } = pos;\n    let scope = -1;\n    if (x < 0 || x > width) {\n      return scope;\n    }\n    const mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n    if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n      scope = 0;\n    } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n      scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n    }\n    return scope;\n  }\n  executeMove(diffx, diffy, scope, width, height) {\n    switch (scope) {\n      case 0:\n        this.updateTime(diffx / width * this.config.scopeM);\n        break;\n      case 1:\n        this.updateBrightness(diffy / height);\n        break;\n      case 2:\n        if (!sniffer.os.isIos) {\n          this.updateVolume(diffy / height);\n        }\n        break;\n    }\n  }\n  endLastMove(lastScope) {\n    const { pos, player, config } = this;\n    const time = (pos.time - this.timeOffset) / 1e3;\n    switch (lastScope) {\n      case 0:\n        player.seek(Number(time).toFixed(1));\n        config.hideControlsEnd ? player.blur() : player.focus();\n        this.timer = setTimeout(() => {\n          this.pos.time = 0;\n        }, 500);\n        break;\n    }\n    this.changeAction(ACTIONS.AUTO);\n  }\n  checkIsRootTarget(e) {\n    const plugins = this.player.plugins || {};\n    if (plugins.progress && plugins.progress.root.contains(e.target)) {\n      return false;\n    }\n    return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n  }\n  sendUseAction(event) {\n    const { paused } = this.player;\n    this.emitUserAction(event, \"switch_play_pause\", {\n      prop: \"paused\",\n      from: paused,\n      to: !paused\n    });\n  }\n  clickHandler(e) {\n    const { player, config, playerConfig } = this;\n    if (player.state < STATES.RUNNING) {\n      if (!playerConfig.closeVideoClick) {\n        this.sendUseAction(util.createEvent(\"click\"));\n        player.play();\n      }\n      return;\n    }\n    if (!config.closedbClick || playerConfig.closeVideoClick) {\n      player.isActive ? player.blur() : player.focus();\n    } else if (!playerConfig.closeVideoClick) {\n      if (player.isActive || config.focusVideoClick) {\n        this.sendUseAction(util.createEvent(\"click\"));\n        this.switchPlayPause();\n      }\n      player.focus();\n    }\n  }\n  dbClickHandler(e) {\n    const { config, player } = this;\n    if (!config.closedbClick && player.state >= STATES.RUNNING) {\n      this.sendUseAction(util.createEvent(\"dblclick\"));\n      this.switchPlayPause();\n    }\n  }\n  onClick(e) {\n    const { player } = this;\n    runHooks(this, HOOKS[0], (plugin, data) => {\n      this.clickHandler(data.e);\n    }, { e, paused: player.paused });\n  }\n  onDbClick(e) {\n    const { player } = this;\n    runHooks(this, HOOKS[1], (plugin, data) => {\n      this.dbClickHandler(data.e);\n    }, { e, paused: player.paused });\n  }\n  onPress(e) {\n    const { pos, config, player } = this;\n    if (config.disablePress) {\n      return;\n    }\n    pos.rate = this.player.playbackRate;\n    this.emitUserAction(\"press\", \"change_rate\", {\n      prop: \"playbackRate\",\n      from: player.playbackRate,\n      to: config.pressRate\n    });\n    player.playbackRate = config.pressRate;\n    this.changeAction(ACTIONS.PLAYBACK);\n  }\n  onPressEnd(e) {\n    const { pos, config, player } = this;\n    if (config.disablePress) {\n      return;\n    }\n    this.emitUserAction(\"pressend\", \"change_rate\", { prop: \"playbackRate\", from: player.playbackRate, to: pos.rate });\n    player.playbackRate = pos.rate;\n    pos.rate = 1;\n    this.changeAction(ACTIONS.AUTO);\n  }\n  updateTime(percent) {\n    const { player, config } = this;\n    const { duration } = this.player;\n    percent = Number(percent.toFixed(4));\n    let time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n    time += this.pos.time;\n    time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n    player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n    player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n    this.activeSeekNote(time / 1e3, percent > 0);\n    if (config.isTouchingSeek) {\n      player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n    }\n    this.pos.time = time;\n  }\n  updateVolume(percent) {\n    if (this.player.rotateDeg) {\n      percent = -percent;\n    }\n    const { player, pos } = this;\n    percent = parseInt(percent * 100, 10);\n    pos.volume += percent;\n    if (Math.abs(pos.volume) < 10) {\n      return;\n    }\n    let volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n    volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n    player.volume = volume / 10;\n    pos.volume = 0;\n  }\n  updateBrightness(percent) {\n    if (this.player.rotateDeg) {\n      percent = -percent;\n    }\n    const { pos, config, xgMask } = this;\n    let light = pos.light + 0.8 * percent;\n    light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n    if (xgMask) {\n      xgMask.style.backgroundColor = `rgba(0,0,0,${light})`;\n    }\n    pos.light = light;\n  }\n  activeSeekNote(time, isForward = true) {\n    const { player, config } = this;\n    const isLive = !(this.duration !== Infinity && this.duration > 0);\n    if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n      return;\n    }\n    if (time < 0) {\n      time = 0;\n    } else if (time > player.duration) {\n      time = player.duration - 0.2;\n    }\n    this.changeAction(ACTIONS.SEEKING);\n    const startPlugin = player.plugins.start;\n    startPlugin && startPlugin.focusHide();\n    this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n    this.find(\".xg-cur\").innerHTML = util.format(time);\n    this.find(\".xg-curbar\").style.width = `${time / this.duration * 100}%`;\n    if (isForward) {\n      util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n    } else {\n      util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n    }\n    this.updateThumbnails(time);\n  }\n  updateThumbnails(time) {\n    const { player } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n    }\n  }\n  switchPlayPause() {\n    const { player } = this;\n    if (player.state < STATES.ATTACHED) {\n      return false;\n    } else if (!player.ended) {\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }\n  disableGesture() {\n    this.config.disableGesture = false;\n  }\n  enableGesture() {\n    this.config.disableGesture = true;\n  }\n  destroy() {\n    const { player } = this;\n    this.timer && clearTimeout(this.timer);\n    this.thumbnail = null;\n    player.root.removeChild(this.xgMask);\n    this.xgMask = null;\n    this.touch && this.touch.destroy();\n    this.touch = null;\n    player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n    player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n  }\n  render() {\n    const className = this.config.gradient !== \"normal\" ? `gradient ${this.config.gradient}` : \"gradient\";\n    return `\n     <xg-trigger class=\"trigger\">\n     <div class=\"${className}\"></div>\n        <div class=\"time-preview\">\n            <div class=\"xg-seek-show ${this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\"}\">\n              <i class=\"xg-seek-icon\"></i>\n              <span class=\"xg-cur\">00:00</span>\n              <span class=\"xg-separator\">/</span>\n              <span class=\"xg-dur\">00:00</span>\n            </div>\n              <div class=\"xg-bar xg-timebar\">\n                <div class=\"xg-curbar\"></div>\n              </div>\n        </div>\n        <div class=\"xg-playbackrate xg-top-note\">\n            <span><i>${this.config.pressRate}X</i>${this.i18n.FORWARD}</span>\n        </div>\n     </xg-trigger>\n    `;\n  }\n}\nexport { MobilePlugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  const tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nclass Keyboard extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onBodyKeyDown\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      const e = event || window.event;\n      const keyCode = e.keyCode;\n      const { _keyState, player } = this;\n      const { disable, disableBodyTrigger, isIgnoreUserActive } = this.config;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || this.config.isGlobalTrigger && !isDisableTag(e.target)) && this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && this.handleKeyDown(e);\n    });\n    __publicField(this, \"onBodyKeyUp\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n      this.handleKeyUp(event);\n    });\n    __publicField(this, \"onKeydown\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      const e = event || window.event;\n      const { _keyState } = this;\n      if (!e.repeat) {\n        if (this.config.disable || this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || this.checkCode(e.keyCode)) && (e.target === this.player.root || e.target === this.player.video || e.target === this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        this.player.root.addEventListener(\"keyup\", this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      this.handleKeyDown(e);\n    });\n    __publicField(this, \"onKeyup\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      this.handleKeyUp(event);\n    });\n  }\n  static get pluginName() {\n    return \"keyboard\";\n  }\n  static get defaultConfig() {\n    return {\n      seekStep: 10,\n      checkVisible: false,\n      disableBodyTrigger: false,\n      disableRootTrigger: false,\n      isGlobalTrigger: true,\n      keyCodeMap: {},\n      disable: false,\n      playbackRate: 2,\n      isIgnoreUserActive: true\n    };\n  }\n  mergekeyCodeMap() {\n    const extendkeyCodeMap = this.config.keyCodeMap;\n    if (extendkeyCodeMap) {\n      Object.keys(extendkeyCodeMap).map((key) => {\n        if (!this.keyCodeMap[key]) {\n          this.keyCodeMap[key] = extendkeyCodeMap[key];\n        } else {\n          [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map((key1) => {\n            extendkeyCodeMap[key][key1] && (this.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n          });\n        }\n      });\n    }\n  }\n  afterCreate() {\n    this.config.disable = !this.playerConfig.keyShortcut;\n    const seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n    if (!(!seekStep || typeof seekStep !== \"number\")) {\n      this.seekStep = seekStep;\n    }\n    this.keyCodeMap = {\n      space: {\n        keyCode: 32,\n        action: \"playPause\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: false\n      },\n      up: {\n        keyCode: 38,\n        action: \"upVolume\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: true\n      },\n      down: {\n        keyCode: 40,\n        action: \"downVolume\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: true\n      },\n      left: {\n        keyCode: 37,\n        action: \"seekBack\",\n        disablePress: false,\n        disable: false\n      },\n      right: {\n        keyCode: 39,\n        action: \"seek\",\n        pressAction: \"changePlaybackRate\",\n        disablePress: false,\n        disable: false\n      },\n      esc: {\n        keyCode: 27,\n        action: \"exitFullscreen\",\n        disablePress: true,\n        disable: false\n      }\n    };\n    this.mergekeyCodeMap();\n    this._keyState = {\n      isKeyDown: false,\n      isBodyKeyDown: false,\n      isPress: false,\n      tt: 0,\n      playbackRate: 0\n    };\n    this.player.root.addEventListener(\"keydown\", this.onKeydown);\n    document.addEventListener(\"keydown\", this.onBodyKeyDown);\n  }\n  setConfig(newConfig) {\n    Object.keys(newConfig).forEach((key) => {\n      this.config[key] = newConfig[key];\n    });\n  }\n  checkIsVisible() {\n    if (!this.config.checkVisible) {\n      return true;\n    }\n    const rec = this.player.root.getBoundingClientRect();\n    const { height, top, bottom } = rec;\n    const h = window.innerHeight;\n    if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n      return false;\n    }\n    return true;\n  }\n  checkCode(code, isBodyTarget) {\n    let flag = false;\n    Object.keys(this.keyCodeMap).map((key) => {\n      if (this.keyCodeMap[key] && code === this.keyCodeMap[key].keyCode && !this.keyCodeMap[key].disable) {\n        flag = !isBodyTarget || isBodyTarget && !this.keyCodeMap[key].noBodyTarget;\n      }\n    });\n    return flag;\n  }\n  downVolume(event) {\n    const { player } = this;\n    if (player.volume <= 0) {\n      return;\n    }\n    const val = parseFloat((player.volume - 0.1).toFixed(1));\n    const props = {\n      volume: {\n        from: player.volume,\n        to: val\n      }\n    };\n    this.emitUserAction(event, \"change_volume\", { props });\n    if (val >= 0) {\n      player.volume = val;\n    } else {\n      player.volume = 0;\n    }\n  }\n  upVolume(event) {\n    const { player } = this;\n    if (player.volume >= 1) {\n      return;\n    }\n    const val = parseFloat((player.volume + 0.1).toFixed(1));\n    const props = {\n      volume: {\n        from: player.volume,\n        to: val\n      }\n    };\n    this.emitUserAction(event, \"change_volume\", { props });\n    if (val <= 1) {\n      player.volume = val;\n    } else {\n      player.volume = 1;\n    }\n  }\n  seek(event) {\n    const { currentTime, offsetCurrentTime, duration, offsetDuration, timeSegments } = this.player;\n    let _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n    const _duration = offsetDuration || duration;\n    const _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n    if (_time + _step <= _duration) {\n      _time = _time + _step;\n    } else {\n      _time = _duration;\n    }\n    const _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n    const props = {\n      currentTime: {\n        from: currentTime,\n        to: _seekTime\n      }\n    };\n    this.emitUserAction(event, \"seek\", { props });\n    this.player.currentTime = _seekTime;\n  }\n  seekBack(event) {\n    const { currentTime, offsetCurrentTime, timeSegments } = this.player;\n    const _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n    const _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n    let _seekTime = _time - _step;\n    if (_seekTime < 0) {\n      _seekTime = 0;\n    }\n    _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n    const props = {\n      currentTime: {\n        from: currentTime,\n        to: _seekTime\n      }\n    };\n    this.emitUserAction(event, \"seek\", { props });\n    this.player.currentTime = _seekTime;\n  }\n  changePlaybackRate(event) {\n    const { _keyState, config, player } = this;\n    if (_keyState.playbackRate === 0) {\n      _keyState.playbackRate = player.playbackRate;\n      player.playbackRate = config.playbackRate;\n    }\n  }\n  playPause(event) {\n    const { player } = this;\n    if (!player) {\n      return;\n    }\n    this.emitUserAction(event, \"switch_play_pause\");\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n  exitFullscreen(event) {\n    const { player } = this;\n    const { fullscreen, cssfullscreen } = player;\n    if (fullscreen) {\n      this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n        prop: \"fullscreen\",\n        from: fullscreen,\n        to: !fullscreen\n      });\n      player.exitFullscreen();\n    }\n    if (cssfullscreen) {\n      this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n        prop: \"cssfullscreen\",\n        from: cssfullscreen,\n        to: !cssfullscreen\n      });\n      player.exitCssFullscreen();\n    }\n  }\n  handleKeyDown(e) {\n    const { _keyState } = this;\n    if (e.repeat) {\n      _keyState.isPress = true;\n      const _t = Date.now();\n      if (_t - _keyState.tt < 200) {\n        return;\n      }\n      _keyState.tt = _t;\n    }\n    this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n  }\n  handleKeyUp(e) {\n    const { _keyState } = this;\n    if (_keyState.playbackRate > 0) {\n      this.player.playbackRate = _keyState.playbackRate;\n      _keyState.playbackRate = 0;\n    }\n    _keyState.isKeyDown = false;\n    _keyState.isPress = false;\n    _keyState.tt = 0;\n  }\n  handleKeyCode(curKeyCode, event, isPress) {\n    const arr = Object.keys(this.keyCodeMap);\n    for (let i = 0; i < arr.length; i++) {\n      const { action, keyCode, disable, pressAction, disablePress } = this.keyCodeMap[arr[i]];\n      if (keyCode === curKeyCode) {\n        if (!disable && !(isPress && disablePress)) {\n          const _action = !isPress ? action : pressAction || action;\n          if (typeof _action === \"function\") {\n            action(event, this.player, isPress);\n          } else if (typeof _action === \"string\") {\n            if (typeof this[_action] === \"function\") {\n              this[_action](event, this.player, isPress);\n            }\n          }\n          this.emit(SHORTCUT, {\n            key: arr[i],\n            target: event.target,\n            isPress,\n            ...this.keyCodeMap[arr[i]]\n          });\n        }\n        preventDefault(event);\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n  destroy() {\n    this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n    document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n    this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n    document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n  }\n  disable() {\n    this.config.disable = true;\n  }\n  enable() {\n    this.config.disable = false;\n  }\n}\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nclass Loading extends Plugin {\n  static get pluginName() {\n    return \"loading\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.ROOT\n    };\n  }\n  registerIcons() {\n    return {\n      loadingIcon\n    };\n  }\n  afterCreate() {\n    this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n  }\n  render() {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>`;\n  }\n}\nexport { Loading as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nconst TPL = [\n  { tag: \"xg-cache\", className: \"xgplayer-progress-cache\", styleKey: \"cachedColor\" },\n  { tag: \"xg-played\", className: \"xgplayer-progress-played\", styleKey: \"playedColor\" }\n];\nclass InnerList {\n  constructor(args) {\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({ percent: 1 });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  updateDuration(duration) {\n    this.duration = duration;\n    let start = 0;\n    const { fragments } = this;\n    this.fragments = fragments.map((item) => {\n      item.start = parseInt(start, 10);\n      item.end = parseInt(start + item.percent * this.duration, 10);\n      item.duration = parseInt(item.percent * this.duration, 10);\n      start += item.percent * this.duration;\n      return item;\n    });\n  }\n  updateProgress(type = \"played\", data = { newIndex: 0, curIndex: 0, millisecond: 0 }) {\n    const { progressList, fragments } = this;\n    if (progressList.length < 1) {\n      return;\n    }\n    const { newIndex, curIndex, millisecond } = data;\n    if (newIndex !== curIndex) {\n      progressList.map((item, index) => {\n        if (index < newIndex) {\n          item[type].style.width = \"100%\";\n        } else if (index > newIndex) {\n          item[type].style.width = 0;\n        }\n      });\n    }\n    const curPFrag = fragments[newIndex];\n    const per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n    progressList[newIndex][type].style.width = per < 0 ? 0 : `${per * 100}%`;\n  }\n  updateFocus(data) {\n    if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n      return;\n    }\n    if (!data) {\n      if (this.focusIndex > -1) {\n        this.unHightLight(this.focusIndex);\n        const _data = {\n          index: -1,\n          preIndex: this.focusIndex,\n          fragment: null\n        };\n        this._callBack && this._callBack(_data);\n        this.focusIndex = -1;\n      }\n      return;\n    }\n    const newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n    if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n      this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n      this.setHightLight(newPIndex);\n      const _data = {\n        index: newPIndex,\n        preIndex: this.focusIndex,\n        fragment: this.fragments[this.focusIndex]\n      };\n      this.focusIndex = newPIndex;\n      this._callBack && this._callBack(_data);\n    }\n  }\n  update(data = { cached: 0, played: 0 }, duration) {\n    if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n      if (!duration && duration !== 0) {\n        return;\n      }\n      this.updateDuration(parseInt(duration * 1e3, 10));\n    }\n    const { playedIndex, cachedIndex } = this;\n    if (util.typeOf(data.played) !== \"Undefined\") {\n      const newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n      if (newPIndex < 0) {\n        return;\n      }\n      this.updateProgress(\"played\", {\n        newIndex: newPIndex,\n        curIndex: playedIndex,\n        millisecond: parseInt(data.played * 1e3, 10)\n      });\n      this.playedIndex = newPIndex;\n    }\n    if (util.typeOf(data.cached) !== \"Undefined\") {\n      const newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n      if (newCIndex < 0) {\n        return;\n      }\n      this.updateProgress(\"cached\", {\n        newIndex: newCIndex,\n        curIndex: cachedIndex,\n        millisecond: parseInt(data.cached * 1e3, 10)\n      });\n      this.cachedIndex = newCIndex;\n    }\n  }\n  findIndex(time, curIndex) {\n    const { fragments } = this;\n    if (!fragments || fragments.length === 0) {\n      return -1;\n    }\n    if (fragments.length === 1) {\n      return 0;\n    }\n    if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n      return curIndex;\n    }\n    if (time > fragments[fragments.length - 1].start) {\n      return fragments.length - 1;\n    }\n    for (let i = 0; i < fragments.length; i++) {\n      if (time > fragments[i].start && time <= fragments[i].end) {\n        curIndex = i;\n        break;\n      }\n    }\n    return curIndex;\n  }\n  findHightLight() {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n        return {\n          dom: children[i],\n          pos: children[i].getBoundingClientRect()\n        };\n      }\n    }\n  }\n  findFragment(index) {\n    const children = this.root.children;\n    if (index < 0 || index >= children.length) {\n      return null;\n    }\n    return {\n      dom: children[index],\n      pos: children[index].getBoundingClientRect()\n    };\n  }\n  unHightLight() {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      util.removeClass(children[i], this.fragConfig.fragFocusClass);\n    }\n  }\n  setHightLight(index) {\n    const children = this.root.children;\n    if (index < children.length) {\n      util.addClass(children[index], this.fragConfig.fragFocusClass);\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }\n  destroy() {\n    this.progressList = null;\n    this.fragments = null;\n    this.root.innerHTML = \"\";\n  }\n  reset(newOptions) {\n    Object.keys(this.fragConfig).forEach((key) => {\n      if (newOptions[key] !== void 0) {\n        this.fragConfig[key] = newOptions[key];\n      }\n    });\n    if (newOptions.fragments) {\n      this.fragments = newOptions.fragments.length === 0 ? [{ percent: 1 }] : newOptions.fragments;\n      this.updateDuration(this.duration);\n      this.playedIndex = 0;\n      this.cachedIndex = 0;\n      if (this.root) {\n        const _c = this.root.children;\n        while (_c.length > 0) {\n          this.root.removeChild(_c[0]);\n        }\n      }\n      this.render();\n    }\n  }\n  render() {\n    const { progressColor } = this.style;\n    if (!this.root) {\n      this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n    }\n    if (this.fragments) {\n      const { fragClass, fragFocusClass } = this.fragConfig;\n      this.progressList = this.fragments.map((item) => {\n        const inner = util.createDom(\"xg-inner\", \"\", {\n          style: progressColor ? `background:${progressColor}; flex: ${item.percent}` : `flex: ${item.percent}`\n        }, `${item.isFocus ? fragFocusClass : \"\"} xgplayer-progress-inner ${fragClass}`);\n        this.root.appendChild(inner);\n        TPL.forEach((item2) => {\n          inner.appendChild(util.createDom(item2.tag, \"\", {\n            style: item2.styleKey ? `background: ${this.style[item2.styleKey]}; width:0;` : \"width:0;\"\n          }, item2.className));\n        });\n        return {\n          cached: inner.children[0],\n          played: inner.children[1]\n        };\n      });\n    }\n    return this.root;\n  }\n}\nexport { InnerList as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nconst FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nclass Progress extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onMoveOnly\", (e, data) => {\n      const { pos, config, player } = this;\n      let ret = data;\n      if (e) {\n        util.event(e);\n        const _ePos = util.getEventPos(e, player.zoom);\n        const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = this.computeTime(e, x);\n      }\n      this.triggerCallbacks(\"dragmove\", ret, e);\n      this._updateInnerFocus(ret);\n    });\n    __publicField(this, \"onBodyClick\", (e) => {\n      if (!this.pos.isLocked) {\n        return;\n      }\n      this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    __publicField(this, \"_mouseDownHandler\", (event, data) => {\n      this._state.time = data.currentTime;\n      this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      this._updateInnerFocus(data);\n    });\n    __publicField(this, \"_mouseUpHandler\", (e, data) => {\n      const { pos } = this;\n      pos.moving && this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    __publicField(this, \"_mouseMoveHandler\", (e, data) => {\n      const { _state, pos, config, player } = this;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        this.triggerCallbacks(\"dragstart\", data, e);\n        this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      this.triggerCallbacks(\"dragmove\", data, e);\n      this._updateInnerFocus(data);\n    });\n    __publicField(this, \"onMouseDown\", (e) => {\n      const { _state, player, pos, config, playerConfig } = this;\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({ autoHide: false });\n      this.isProgressMoving = true;\n      util.addClass(this.progressBtn, \"active\");\n      const ret = this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      this._mouseDownHandlerHook(e, ret);\n      const eventType = e.type;\n      if (eventType === \"touchstart\") {\n        this.root.addEventListener(\"touchmove\", this.onMouseMove);\n        this.root.addEventListener(\"touchend\", this.onMouseUp);\n        this.root.addEventListener(\"touchcancel\", this.onMouseUp);\n      } else {\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        document.addEventListener(\"mousemove\", this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", this.onMouseUp, false);\n      }\n      return true;\n    });\n    __publicField(this, \"onMouseUp\", (e) => {\n      const { player, config, pos, playerConfig, _state } = this;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(this.progressBtn, \"active\");\n      const ret = this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        this.triggerCallbacks(\"dragend\", ret, e);\n        this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        this.triggerCallbacks(\"click\", ret, e);\n        this.emitUserAction(\"click\", \"click\", ret);\n      }\n      this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      const eventType = e.type;\n      if (eventType === \"touchend\" || eventType === \"touchcancel\") {\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n        this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        if (!pos.isEnter) {\n          this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && this.bind(\"mousemove\", this.onMoveOnly);\n        }\n      }\n      util.setTimeout(this, () => {\n        this.resetSeekState();\n      }, 10);\n      player.focus();\n    });\n    __publicField(this, \"onMouseMove\", (e) => {\n      const { _state, pos, player, config } = this;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      const diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      const ret = this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      this._mouseMoveHandlerHook(e, ret);\n    });\n    __publicField(this, \"onMouseOut\", (e) => {\n      this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    __publicField(this, \"onMouseOver\", (e) => {\n      this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { player, pos } = this;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      this.bind(\"mousemove\", this.onMoveOnly);\n      this.bind(\"mouseleave\", this.onMouseLeave);\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      const ret = this.computeTime(e, x);\n      this.triggerCallbacks(\"mouseenter\", ret, e);\n      this.focus();\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      this.triggerCallbacks(\"mouseleave\", null, e);\n      this.unlock();\n      this._updateInnerFocus(null);\n    });\n    __publicField(this, \"onVideoResize\", () => {\n      const { x, isDown, isEnter } = this.pos;\n      if (isEnter && !isDown) {\n        const ret = this.computeTime(null, x);\n        this.onMoveOnly(null, ret);\n      }\n    });\n    this.useable = false;\n    this.isProgressMoving = false;\n    this.__dragCallBacks = [];\n    this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    this._disableBlur = false;\n  }\n  static get pluginName() {\n    return \"progress\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_CENTER,\n      index: 0,\n      disable: false,\n      isDragingSeek: true,\n      closeMoveSeek: false,\n      isPauseMoving: false,\n      isCloseClickSeek: false,\n      fragments: [{ percent: 1 }],\n      fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n      fragClass: \"\",\n      fragAutoFocus: false,\n      miniMoveStep: 5,\n      miniStartStep: 2,\n      onMoveStart: () => {\n      },\n      onMoveEnd: () => {\n      },\n      endedDiff: 0.2\n    };\n  }\n  static get FRAGMENT_FOCUS_CLASS() {\n    return FRAGMENT_FOCUS_CLASS;\n  }\n  get offsetDuration() {\n    return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n  }\n  get duration() {\n    return this.playerConfig.customDuration || this.player.duration;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n  }\n  changeState(useable = true) {\n    this.useable = useable;\n  }\n  show(value) {\n    this.root && (this.root.style.display = \"flex\");\n  }\n  _initInner(fragments = [], config = {}) {\n    if (!fragments || fragments.length === 0) {\n      fragments = [{ percent: 1 }];\n    }\n    const _c = {\n      fragments,\n      ...config,\n      actionCallback: (data) => {\n        this.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n      }\n    };\n    if (!this.innerList) {\n      this.innerList = new InnerList(_c);\n      this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n      [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map((item) => {\n        this[item] = this.innerList[item].bind(this.innerList);\n      });\n    } else {\n      this.innerList.reset(_c);\n    }\n  }\n  _updateInnerFocus(data) {\n    this.innerList && this.innerList.updateFocus(data);\n  }\n  afterCreate() {\n    if (this.config.disable || this.playerConfig.isLive) {\n      return;\n    }\n    this.pos = {\n      x: 0,\n      y: 0,\n      moving: false,\n      isDown: false,\n      isEnter: false,\n      isLocked: false\n    };\n    this.outer = this.find(\"xg-outer\");\n    const { fragFocusClass, fragAutoFocus, fragClass } = this.config;\n    this._initInner(this.config.fragments, { fragFocusClass, fragAutoFocus, fragClass, style: this.playerConfig.commonStyle || {} });\n    if (sniffer.device === \"mobile\") {\n      this.config.isDragingSeek = false;\n      this.isMobile = true;\n    }\n    this.progressBtn = this.find(\".xgplayer-progress-btn\");\n    this.on(DURATION_CHANGE, () => {\n      this.onMouseLeave();\n    });\n    this.on(TIME_UPDATE, () => {\n      this.onTimeupdate();\n    });\n    this.on(SEEKED, () => {\n      this.onTimeupdate();\n      this.onCacheUpdate();\n    });\n    this.on(PROGRESS, () => {\n      this.onCacheUpdate();\n    });\n    this.on(ENDED, () => {\n      this.onCacheUpdate(true);\n      this.onTimeupdate(true);\n      this._state.now = 0;\n    });\n    this.on(EMPTIED, () => {\n      this.onReset();\n    });\n    this.on(VIDEO_RESIZE, () => {\n      this.onVideoResize();\n    });\n    this.bindDomEvents();\n    this.initCustomStyle();\n  }\n  setConfig(config) {\n    let frags = null;\n    Object.keys(config).forEach((key) => {\n      this.config[key] = config[key];\n      if (key === \"fragments\") {\n        frags = config[key];\n      }\n    });\n    if (frags) {\n      this._initInner(frags, config);\n    }\n  }\n  initCustomStyle() {\n    const { commonStyle } = this.playerConfig || {};\n    const { sliderBtnStyle } = commonStyle;\n    const { progressBtn } = this;\n    if (sliderBtnStyle) {\n      if (typeof sliderBtnStyle === \"string\") {\n        progressBtn.style.boxShadow = sliderBtnStyle;\n      } else if (typeof sliderBtnStyle === \"object\") {\n        Object.keys(sliderBtnStyle).map((key) => {\n          progressBtn.style[key] = sliderBtnStyle[key];\n        });\n      }\n    }\n  }\n  triggerCallbacks(type, data, event) {\n    if (this.__dragCallBacks.length > 0) {\n      this.__dragCallBacks.map((item) => {\n        if (item && item.handler && item.type === type) {\n          try {\n            item.handler(data, event);\n          } catch (error) {\n            console.error(`[XGPLAYER][triggerCallbacks] ${item} error`, error);\n          }\n        }\n      });\n    }\n  }\n  addCallBack(type, handle) {\n    if (handle && typeof handle === \"function\") {\n      this.__dragCallBacks.push({ type, handler: handle });\n    }\n  }\n  removeCallBack(type, event) {\n    const { __dragCallBacks } = this;\n    let _index = -1;\n    __dragCallBacks.map((item, index) => {\n      if (item && item.type === type && item.handler === event) {\n        _index = index;\n      }\n    });\n    if (_index > -1) {\n      __dragCallBacks.splice(_index, 1);\n    }\n  }\n  unlock() {\n    const { player, pos } = this;\n    pos.isEnter = false;\n    pos.isLocked = false;\n    if (player.isMini) {\n      return;\n    }\n    this.unbind(\"mousemove\", this.onMoveOnly);\n    if (pos.isDown) {\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n      return;\n    }\n    this.blur();\n  }\n  bindDomEvents() {\n    const { controls, config } = this.player;\n    this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n    this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n    this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n    if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n      this.root.addEventListener(\"touchstart\", this.onMouseDown);\n      if (controls) {\n        controls.root && controls.root.addEventListener(\"touchmove\", util.stopPropagation);\n        controls.center && controls.center.addEventListener(\"touchend\", util.stopPropagation);\n      }\n    }\n    if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n      this.bind(\"mousedown\", this.onMouseDown);\n      config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n      this.bind(\"mouseover\", this.onMouseOver);\n      this.bind(\"mouseout\", this.onMouseOut);\n      this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n    }\n  }\n  focus() {\n    this.player.controls.pauseAutoHide();\n    util.addClass(this.root, \"active\");\n  }\n  blur() {\n    if (this._disableBlur) {\n      return;\n    }\n    this.player.controls.recoverAutoHide();\n    util.removeClass(this.root, \"active\");\n  }\n  disableBlur() {\n    this._disableBlur = true;\n  }\n  enableBlur() {\n    this._disableBlur = false;\n  }\n  updateWidth(currentTime, seekTime, percent, type) {\n    const { config, player } = this;\n    if (config.isCloseClickSeek && type === 0) {\n      return;\n    }\n    const realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n    this.updatePercent(percent);\n    this.updateTime(currentTime);\n    if (type === 1 && (!config.isDragingSeek || player.config.mediaType === \"audio\")) {\n      return;\n    }\n    this._state.now = realTime;\n    this._state.direc = realTime > player.currentTime ? 0 : 1;\n    player.seek(realTime);\n  }\n  computeTime(e, x) {\n    const { player } = this;\n    const { width, height, top, left } = this.root.getBoundingClientRect();\n    let rWidth, rLeft;\n    const clientX = x;\n    if (player.rotateDeg === 90) {\n      rWidth = height;\n      rLeft = top;\n    } else {\n      rWidth = width;\n      rLeft = left;\n    }\n    let offset = clientX - rLeft;\n    offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n    let percent = offset / rWidth;\n    percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n    const currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n    const seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n    return {\n      percent,\n      currentTime,\n      seekTime,\n      offset,\n      width: rWidth,\n      left: rLeft,\n      e\n    };\n  }\n  updateTime(time) {\n    const { player, duration } = this;\n    if (time > duration) {\n      time = duration;\n    } else if (time < 0) {\n      time = 0;\n    }\n    const timeIcon = player.plugins.time;\n    if (timeIcon) {\n      timeIcon.updateTime(time);\n    }\n  }\n  resetSeekState() {\n    this.isProgressMoving = false;\n    const timeIcon = this.player.plugins.time;\n    timeIcon && timeIcon.resetActive();\n  }\n  updatePercent(percent, notSeek) {\n    this.isProgressMoving = true;\n    if (this.config.disable) {\n      return;\n    }\n    percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n    this.progressBtn.style.left = `${percent * 100}%`;\n    this.innerList.update({ played: percent * this.offsetDuration }, this.offsetDuration);\n    const { miniprogress } = this.player.plugins;\n    miniprogress && miniprogress.update({ played: percent * this.offsetDuration }, this.offsetDuration);\n  }\n  onTimeupdate(isEnded) {\n    const { player, _state, offsetDuration } = this;\n    if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n      return;\n    }\n    if (_state.now > -1) {\n      const abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n      if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n        _state.now = -1;\n        return;\n      } else {\n        _state.now = -1;\n      }\n    }\n    let time = this.currentTime;\n    time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n    this.innerList.update({ played: time }, offsetDuration);\n    this.progressBtn.style.left = `${time / offsetDuration * 100}%`;\n  }\n  onCacheUpdate(isEnded) {\n    const { player, duration } = this;\n    if (!player) {\n      return;\n    }\n    let _end = player.bufferedPoint.end;\n    _end = util.adjustTimeByDuration(_end, duration, isEnded);\n    this.innerList.update({ cached: _end }, duration);\n  }\n  onReset() {\n    this.innerList.update({ played: 0, cached: 0 }, 0);\n    this.progressBtn.style.left = \"0%\";\n  }\n  destroy() {\n    const { player } = this;\n    const { controls } = player;\n    this.thumbnailPlugin = null;\n    this.innerList.destroy();\n    this.innerList = null;\n    const { domEventType } = this;\n    if (domEventType === \"touch\" || domEventType === \"compatible\") {\n      this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n      this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n      this.root.removeEventListener(\"touchend\", this.onMouseUp);\n      this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n      if (controls) {\n        controls.root && controls.root.removeEventListener(\"touchmove\", util.stopPropagation);\n        controls.center && controls.center.removeEventListener(\"touchend\", util.stopPropagation);\n      }\n    }\n    if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n      this.unbind(\"mousedown\", this.onMouseDown);\n      this.unbind(\"mouseenter\", this.onMouseEnter);\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      player.root.removeEventListener(\"click\", this.onBodyClick, true);\n    }\n  }\n  render() {\n    if (this.config.disable || this.playerConfig.isLive) {\n      return;\n    }\n    const controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n    const className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n    return `\n    <xg-progress class=\"xgplayer-progress ${className}\">\n      <xg-outer class=\"xgplayer-progress-outer\">\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    `;\n  }\n}\nexport { Progress as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Icon extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onMouseenter\", (e) => {\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"_onMouseLeave\", (e) => {\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n    });\n  }\n  afterCreate() {\n    this.bind(\"mouseenter\", this._onMouseenter);\n    this.bind(\"mouseleave\", this._onMouseLeave);\n    if (this.config.disable) {\n      this.disable();\n    }\n  }\n  destroy() {\n    this.unbind(\"mouseenter\", this._onMouseenter);\n    this.unbind(\"mouseleave\", this._onMouseLeave);\n  }\n}\nexport { Icon as default };\n","import \"../../utils/util.js\";\nimport { PAUSE, ERROR, EMPTIED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nclass Play extends Icon {\n  static get pluginName() {\n    return \"play\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 0,\n      disable: false\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    const { player, config } = this;\n    if (config.disable) {\n      return;\n    }\n    this.initIcons();\n    this.btnClick = this.btnClick.bind(this);\n    this.bind([\"touchend\", \"click\"], this.btnClick);\n    this.on([PAUSE, ERROR, EMPTIED], () => {\n      this.animate(player.paused);\n    });\n    this.on(PLAY, () => {\n      this.animate(player.paused);\n    });\n    this.animate(true);\n  }\n  registerIcons() {\n    return {\n      play: { icon: PlaySvg, class: \"xg-icon-play\" },\n      pause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  btnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { player } = this;\n    this.emitUserAction(e, \"switch_play_pause\", { prop: \"paused\", from: player.paused, to: !player.paused });\n    if (player.ended) {\n      player.replay();\n    } else if (player.paused) {\n      player.play();\n      this.animate(false);\n    } else {\n      player.pause();\n      this.animate(true);\n    }\n    return false;\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.play);\n    this.appendChild(\".xgplayer-icon\", icons.pause);\n  }\n  animate(paused) {\n    if (!this.player) {\n      return;\n    }\n    const { i18nKeys } = this;\n    const tipDom = this.find(\".xg-tips\");\n    if (paused) {\n      this.setAttr(\"data-state\", \"pause\");\n      tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n    } else {\n      this.setAttr(\"data-state\", \"play\");\n      tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"touchend\", \"click\"], this.btnClick);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nclass TopBackIcon extends Plugin {\n  static get pluginName() {\n    return \"topbackicon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.ROOT_TOP,\n      index: 0\n    };\n  }\n  afterCreate() {\n    this.initIcons();\n    this.onClick = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.config.onClick(e);\n    };\n    this.bind([\"click\", \"touchend\"], this.onClick);\n  }\n  registerIcons() {\n    return {\n      screenBack: { icon: BackSVG, class: \"xg-fullscreen-back\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(this.root, icons.screenBack);\n  }\n  show() {\n    util.addClass(this.root, \"show\");\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n  }\n  render() {\n    return `<xg-icon class=\"xgplayer-back\">\n    </xg-icon>`;\n  }\n}\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nclass Fullscreen extends Icon {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onOrientationChange\", (e) => {\n      if (this.player.fullscreen && this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          this.player.setRotateDeg(0);\n        } else {\n          this.player.setRotateDeg(90);\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"fullscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 0,\n      useCssFullscreen: false,\n      rotateFullscreen: false,\n      useScreenOrientation: false,\n      lockOrientationType: \"landscape\",\n      switchCallback: null,\n      target: null,\n      disable: false,\n      needBackIcon: false\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    const { config, playerConfig } = this;\n    if (config.disable) {\n      return;\n    }\n    if (config.target) {\n      this.playerConfig.fullscreenTarget = this.config.target;\n    }\n    const fullEl = util.getFullScreenEl();\n    if (playerConfig.fullscreenTarget === fullEl) {\n      this.player.getFullscreen().catch((e) => {\n      });\n    }\n    this.initIcons();\n    this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n      pre: (e) => {\n        const { fullscreen } = this.player;\n        this.emitUserAction(e, \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n      }\n    });\n    this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n    this.on(FULLSCREEN_CHANGE, (isFullScreen) => {\n      const tipsDom = this.find(\".xg-tips\");\n      tipsDom && this.changeLangTextKey(tipsDom, isFullScreen ? this.i18nKeys.EXITFULLSCREEN_TIPS : this.i18nKeys.FULLSCREEN_TIPS);\n      this.animate(isFullScreen);\n    });\n    if (this.config.needBackIcon) {\n      this.topBackIcon = this.player.registerPlugin({\n        plugin: TopBackIcon,\n        options: {\n          config: {\n            onClick: (e) => {\n              this.handleFullscreen(e);\n            }\n          }\n        }\n      });\n    }\n    if (sniffer.device === \"mobile\") {\n      window.addEventListener(\"orientationchange\", this._onOrientationChange);\n    }\n  }\n  registerIcons() {\n    return {\n      fullscreen: { icon: FullScreenSvg, class: \"xg-get-fullscreen\" },\n      exitFullscreen: { icon: ExitFullScreenSvg, class: \"xg-exit-fullscreen\" }\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n    if (sniffer.device === \"mobile\") {\n      window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n    }\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n    this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n  }\n  toggleFullScreen(e) {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    const { player, config } = this;\n    const useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n    if (useCssFullscreen) {\n      if (player.fullscreen) {\n        player.exitCssFullscreen();\n      } else {\n        player.getCssFullscreen();\n      }\n      this.animate(player.fullscreen);\n    } else if (config.rotateFullscreen) {\n      if (player.fullscreen) {\n        player.exitRotateFullscreen();\n      } else {\n        player.getRotateFullscreen();\n      }\n      this.animate(player.fullscreen);\n    } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n      config.switchCallback(player.fullscreen);\n    } else {\n      if (player.fullscreen) {\n        player.exitFullscreen();\n        if (config.useScreenOrientation) {\n          this.unlockScreen();\n        }\n      } else {\n        player.getFullscreen().catch((e2) => {\n        });\n        if (config.useScreenOrientation && player.aspectRatio > 1) {\n          this.lockScreen(config.lockOrientationType);\n        }\n      }\n    }\n  }\n  animate(isFullScreen) {\n    isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n    if (this.topBackIcon) {\n      if (isFullScreen) {\n        this.topBackIcon.show();\n        this.hide();\n      } else {\n        this.topBackIcon.hide();\n        this.show();\n      }\n    }\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const langKey = \"FULLSCREEN_TIPS\";\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, langKey, this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n  lockScreen(orientation) {\n    try {\n      screen.orientation.lock(orientation).catch((e) => {\n      });\n    } catch (e) {\n    }\n  }\n  unlockScreen() {\n    try {\n      screen.orientation.unlock().catch((e) => {\n      });\n    } catch (e) {\n    }\n  }\n}\nexport { Fullscreen as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nclass Time extends Plugin {\n  static get pluginName() {\n    return \"time\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 2,\n      disable: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.isActiving = false;\n  }\n  get duration() {\n    const { offsetDuration, duration } = this.player;\n    return this.playerConfig.customDuration || offsetDuration || duration;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  afterCreate() {\n    const constrolsMode = this.player.controls.config.mode;\n    this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n    if (this.config.disable) {\n      return;\n    }\n    if (this.mode === \"flex\") {\n      this.createCenterTime();\n      this.root.style.display = \"none\";\n    }\n    this.durationDom = this.find(\".time-duration\");\n    this.timeDom = this.find(\".time-current\");\n    this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], (e) => {\n      if (e.eventName === \"durationchange\") {\n        this.isActiving = false;\n      }\n      this.onTimeUpdate();\n    });\n    this.on(ENDED, () => {\n      this.onTimeUpdate(true);\n    });\n    this.on(EMPTIED, () => {\n      this.onReset();\n    });\n  }\n  show(value) {\n    if (this.mode === \"flex\") {\n      this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n      this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n      return;\n    }\n    this.root.style.display = \"block\";\n  }\n  hide() {\n    if (this.mode === \"flex\") {\n      this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n      this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n      return;\n    }\n    this.root.style.display = \"none\";\n  }\n  onTimeUpdate(isEnded) {\n    const { player, config, duration } = this;\n    if (config.disable || this.isActiving || !player.hasStart) {\n      return;\n    }\n    let current = this.currentTime + this.timeOffset;\n    current = util.adjustTimeByDuration(current, duration, isEnded);\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n      if (duration !== Infinity && duration > 0) {\n        this.centerDurDom.innerHTML = util.format(duration);\n      }\n    } else {\n      this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n      if (duration !== Infinity && duration > 0) {\n        this.durationDom.innerHTML = util.format(duration);\n      }\n    }\n  }\n  onReset() {\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n      this.centerDurDom.innerHTML = util.format(0);\n    } else {\n      this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n      this.durationDom.innerHTML = util.format(0);\n    }\n  }\n  createCenterTime() {\n    const { player } = this;\n    if (!player.controls || !player.controls.center) {\n      return;\n    }\n    const center = player.controls.center;\n    this.centerCurDom = util.createDom(\n      \"xg-icon\",\n      \"00:00\",\n      {},\n      \"xgplayer-time xg-time-left\"\n    );\n    this.centerDurDom = util.createDom(\n      \"xg-icon\",\n      \"00:00\",\n      {},\n      \"xgplayer-time xg-time-right\"\n    );\n    center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n    center.appendChild(this.centerDurDom);\n  }\n  afterPlayerInit() {\n    const { config } = this;\n    if (this.duration === Infinity || this.playerConfig.isLive) {\n      util.hide(this.durationDom);\n      util.hide(this.timeDom);\n      util.hide(this.find(\".time-separator\"));\n      util.show(this.find(\".time-live-tag\"));\n    } else {\n      util.hide(this.find(\".time-live-tag\"));\n    }\n    if (config.hide) {\n      this.hide();\n      return;\n    }\n    this.show();\n  }\n  changeLiveState(isLive) {\n    if (isLive) {\n      util.hide(this.durationDom);\n      util.hide(this.timeDom);\n      util.hide(this.find(\".time-separator\"));\n      util.show(this.find(\".time-live-tag\"));\n    } else {\n      util.hide(this.find(\".time-live-tag\"));\n      util.show(this.find(\".time-separator\"));\n      util.show(this.durationDom);\n      util.show(this.timeDom);\n    }\n  }\n  updateTime(time) {\n    this.isActiving = true;\n    if (!time && time !== 0 || time > this.duration) {\n      return;\n    }\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n      return;\n    }\n    this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n  }\n  minWidthTime(timeStr) {\n    return timeStr.split(\":\").map((value) => `<span class=\"time-min-width\">${value}</span>`).join(\":\");\n  }\n  resetActive() {\n    const { player } = this;\n    const updateState = () => {\n      this.isActiving = false;\n    };\n    this.off(SEEKED, updateState);\n    if (player.isSeeking && player.media.seeking) {\n      this.once(SEEKED, updateState);\n    } else {\n      this.isActiving = false;\n    }\n  }\n  destroy() {\n    const { center } = this.player.controls;\n    this.centerCurDom && center.removeChild(this.centerCurDom);\n    this.centerCurDom = null;\n    this.centerDurDom && center.removeChild(this.centerDurDom);\n    this.centerDurDom = null;\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-time\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">${this.i18n.LIVE_TIP}</span>\n    </xg-icon>`;\n  }\n}\nexport { Time as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nclass TimeSegmentsControls extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onDurationChange\", () => {\n      this.updateSegments();\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const index = util.getIndexByTime(currentTime, timeSegments);\n      const time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      this.player.offsetCurrentTime = time;\n      this.changeIndex(index, timeSegments);\n    });\n    __publicField(this, \"_onLoadedData\", () => {\n      const { timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const time = util.getOffsetCurrentTime(0, timeSegments);\n      this.player.offsetCurrentTime = time;\n      this.changeIndex(0, timeSegments);\n      if (this.curPos.start > 0) {\n        this.player.currentTime = this.curPos.start;\n      }\n    });\n    __publicField(this, \"_onTimeupdate\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const _len = timeSegments.length;\n      this.lastCurrentTime = currentTime;\n      const index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== this.curIndex) {\n        this.changeIndex(index, timeSegments);\n      }\n      const curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      this.player.offsetCurrentTime = curTime;\n      if (!this.curPos) {\n        return;\n      }\n      const { start, end } = this.curPos;\n      if (currentTime < start) {\n        this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        this.player.pause();\n      }\n    });\n    __publicField(this, \"_onSeeking\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        const _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          const _seekTime = this.getSeekTime(currentTime, this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    __publicField(this, \"_onPlay\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        this.player.currentTime = timeSegments[0].start;\n      }\n    });\n  }\n  static get pluginName() {\n    return \"TimeSegmentsControls\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: true,\n      segments: []\n    };\n  }\n  afterCreate() {\n    this.curIndex = -1;\n    this.curPos = null;\n    this.lastCurrentTime = 0;\n    this.updateSegments();\n    this.on(DURATION_CHANGE, this._onDurationChange);\n    this.on(LOADED_DATA, this._onLoadedData);\n    this.on(TIME_UPDATE, this._onTimeupdate);\n    this.on(SEEKING, this._onSeeking);\n    this.on(PLAY, this._onPlay);\n  }\n  setConfig(newConfig) {\n    if (!newConfig) {\n      return;\n    }\n    const keys = Object.keys(newConfig);\n    if (keys.length < 1) {\n      return;\n    }\n    keys.forEach((key) => {\n      this.config[key] = newConfig[key];\n    });\n    this.updateSegments();\n  }\n  updateSegments() {\n    const { disable, segments } = this.config;\n    const { player } = this;\n    if (disable || !segments || segments.length === 0) {\n      player.timeSegments = [];\n      player.offsetDuration = 0;\n      player.offsetCurrentTime = -1;\n    } else {\n      const _segs = this.formatTimeSegments(segments, player.duration);\n      player.timeSegments = _segs;\n      player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n    }\n  }\n  formatTimeSegments(timeSegments, duration) {\n    const ret = [];\n    if (!timeSegments) {\n      return [];\n    }\n    timeSegments.sort((a, b) => {\n      return a.start - b.start;\n    });\n    timeSegments.forEach((item, index) => {\n      const _item = {};\n      _item.start = item.start < 0 ? 0 : item.start;\n      _item.end = duration > 0 && item.end > duration ? duration : item.end;\n      if (duration > 0 && _item.start > duration) {\n        return;\n      }\n      ret.push(_item);\n      const _segDuration = _item.end - _item.start;\n      if (index === 0) {\n        _item.offset = item.start;\n        _item.cTime = 0;\n        _item.segDuration = _segDuration;\n        _item.duration = _segDuration;\n      } else {\n        const last = ret[index - 1];\n        _item.offset = last.offset + (_item.start - last.end);\n        _item.cTime = last.duration + last.cTime;\n        _item.segDuration = _segDuration;\n        _item.duration = last.duration + _segDuration;\n      }\n    });\n    return ret;\n  }\n  getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n    let _time = -1;\n    const { start, end } = timeSegments[index];\n    if (currentTime >= start && currentTime <= end) {\n      return _time;\n    }\n    const diff = currentTime - lastCurrentTime;\n    if (diff < 0) {\n      if (currentTime < start) {\n        const diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n        _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n        return _time;\n      }\n    }\n    return -1;\n  }\n  _checkIfEnabled(segments) {\n    return !(!segments || segments.length < 1);\n  }\n  changeIndex(index, timeSegments) {\n    this.curIndex = index;\n    if (index >= 0 && timeSegments.length > 0) {\n      this.curPos = timeSegments[index];\n    } else {\n      this.curPos = null;\n    }\n  }\n}\nexport { TimeSegmentsControls as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nclass Volume extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onBarMousedown\", (e) => {\n      const { player } = this;\n      const bar = this.find(\".xgplayer-bar\");\n      util.event(e);\n      const barRect = bar.getBoundingClientRect();\n      const pos = util.getEventPos(e, player.zoom);\n      const height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", this.onBarMouseUp);\n      this._d.isStart = true;\n      return false;\n    });\n    __publicField(this, \"onBarMouseMove\", (e) => {\n      const { _d } = this;\n      if (!_d.isStart) {\n        return;\n      }\n      const { pos, player } = this;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      const w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      this.updateVolumePos(w, e);\n    });\n    __publicField(this, \"onBarMouseUp\", (e) => {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      const { _d } = this;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    __publicField(this, \"onMouseenter\", (e) => {\n      this._d.isActive = true;\n      this.focus();\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"onMouseleave\", (e) => {\n      this._d.isActive = false;\n      this.unFocus(100, false, e);\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"onVolumeChange\", (e) => {\n      if (!this.player) {\n        return;\n      }\n      const { muted, volume } = this.player;\n      if (!this._d.isMoving) {\n        this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : `${volume * 100}%`;\n        if (this.config.showValueLabel) {\n          this.updateVolumeValue();\n        }\n      }\n      this.animate(muted, volume);\n    });\n  }\n  static get pluginName() {\n    return \"volume\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 1,\n      disable: false,\n      showValueLabel: false,\n      default: 0.6,\n      miniVolume: 0.2\n    };\n  }\n  registerIcons() {\n    return {\n      volumeSmall: { icon: volumeSmallSvg, class: \"xg-volume-small\" },\n      volumeLarge: { icon: volumeLargeSvg, class: \"xg-volume\" },\n      volumeMuted: { icon: volumeMutedSvg, class: \"xg-volume-mute\" }\n    };\n  }\n  afterCreate() {\n    this._timerId = null;\n    this._d = {\n      isStart: false,\n      isMoving: false,\n      isActive: false\n    };\n    if (this.config.disable) {\n      return;\n    }\n    this.initIcons();\n    const { commonStyle, volume } = this.playerConfig;\n    if (commonStyle.volumeColor) {\n      this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n    }\n    this.changeMutedHandler = this.hook(\"mutedChange\", (e) => {\n      this.changeMuted(e);\n    }, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n    this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n    if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n      this.bind(\"mouseenter\", this._onMouseenterHandler);\n      this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n      this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n    }\n    this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n    this.on(VOLUME_CHANGE, this.onVolumeChange);\n    this.once(LOADED_DATA, this.onVolumeChange);\n    if (util.typeOf(volume) !== \"Number\") {\n      this.player.volume = this.config.default;\n    }\n    this.onVolumeChange();\n  }\n  updateVolumePos(height, event) {\n    const { player } = this;\n    const drag = this.find(\".xgplayer-drag\");\n    const bar = this.find(\".xgplayer-bar\");\n    if (!bar || !drag) {\n      return;\n    }\n    const now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n    drag.style.height = `${height}px`;\n    const to = Math.max(Math.min(now / 1e3, 1), 0);\n    const props = {\n      volume: {\n        from: player.volume,\n        to\n      }\n    };\n    if (player.muted) {\n      props.muted = {\n        from: true,\n        to: false\n      };\n    }\n    this.emitUserAction(event, \"change_volume\", { muted: player.muted, volume: player.volume, props });\n    player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n    player.muted && (player.muted = false);\n    if (this.config.showValueLabel) {\n      this.updateVolumeValue();\n    }\n  }\n  updateVolumeValue() {\n    const { volume, muted } = this.player;\n    const $labelValue = this.find(\".xgplayer-value-label\");\n    const vol = Math.max(Math.min(volume, 1), 0);\n    $labelValue.innerText = muted ? 0 : Math.ceil(vol * 100);\n  }\n  focus() {\n    const { player } = this;\n    player.focus({ autoHide: false });\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    util.addClass(this.root, \"slide-show\");\n  }\n  unFocus(delay = 100, isForce = true, e) {\n    const { _d, player } = this;\n    if (_d.isActive) {\n      return;\n    }\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    this._timerId = util.setTimeout(this, () => {\n      if (!_d.isActive) {\n        isForce ? player.blur() : player.focus();\n        util.removeClass(this.root, \"slide-show\");\n        _d.isStart && this.onBarMouseUp(e);\n      }\n      this._timerId = null;\n    }, delay);\n  }\n  changeMuted(e) {\n    e && e.stopPropagation();\n    const { player, _d } = this;\n    _d.isStart && this.onBarMouseUp(e);\n    this.emitUserAction(e, \"change_muted\", {\n      muted: player.muted,\n      volume: player.volume,\n      props: {\n        muted: {\n          from: player.muted,\n          to: !player.muted\n        }\n      }\n    });\n    if (player.volume > 0) {\n      player.muted = !player.muted;\n    }\n    if (player.volume < 0.01) {\n      player.volume = this.config.miniVolume;\n    }\n  }\n  animate(muted, volume) {\n    if (muted || volume === 0) {\n      this.setAttr(\"data-state\", \"mute\");\n    } else if (volume < 0.5 && this.icons.volumeSmall) {\n      this.setAttr(\"data-state\", \"small\");\n    } else {\n      this.setAttr(\"data-state\", \"normal\");\n    }\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n    this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n    this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n  }\n  destroy() {\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    this.unbind(\"mouseenter\", this.onMouseenter);\n    this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n    this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n    this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n    this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n    document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n    this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const volume = this.config.default || this.player.volume;\n    const isShowVolumeValue = this.config.showValueLabel;\n    return `\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        ${isShowVolumeValue ? `<div class=\"xgplayer-value-label\">${volume * 100}</div>` : \"\"}\n        <div class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>`;\n  }\n}\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g clip-path=\"url(#clip0)\">\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath id=\"clip0\">\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nclass Rotate extends Icon {\n  static get pluginName() {\n    return \"rotate\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 6,\n      innerRotate: true,\n      clockwise: false,\n      rotateDeg: 0,\n      disable: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.rotateDeg = this.config.rotateDeg || 0;\n  }\n  afterCreate() {\n    if (this.config.disable) {\n      return;\n    }\n    super.afterCreate();\n    this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    this.on(VIDEO_RESIZE, () => {\n      if (this.rotateDeg && this.config.innerRotate) {\n        util.setTimeout(this, () => {\n          this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n        }, 100);\n      }\n    });\n    const root = this.player.root;\n    this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n    this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n    if (this.rotateDeg) {\n      this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n  }\n  onBtnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.emitUserAction(e, \"rotate\");\n    this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n  }\n  updateRotateDeg(rotateDeg, innerRotate) {\n    if (!rotateDeg) {\n      rotateDeg = 0;\n    }\n    if (innerRotate) {\n      this.player.videoRotateDeg = rotateDeg;\n      return;\n    }\n    const { player, rootWidth, rootHeight } = this;\n    const { root, innerContainer } = player;\n    const video = player.media;\n    const width = root.offsetWidth;\n    const height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n    let rWidth = rootWidth;\n    let rHeight = rootHeight;\n    let x = 0;\n    let y = 0;\n    if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n      rWidth = `${height}px`;\n      rHeight = `${width}px`;\n      x = -(height - width) / 2;\n      y = -(width - height) / 2;\n    }\n    const _transform = `translate(${x}px,${y}px) rotate(${rotateDeg}turn)`;\n    const _styles = {\n      transformOrigin: \"center center\",\n      transform: _transform,\n      webKitTransform: _transform,\n      height: rHeight,\n      width: rWidth\n    };\n    const _target = innerRotate ? video : root;\n    const poster = innerRotate ? player.getPlugin(\"poster\") : null;\n    Object.keys(_styles).map((key) => {\n      _target.style[key] = _styles[key];\n      poster && poster.root && (poster.root.style[key] = _styles[key]);\n    });\n  }\n  rotate(clockwise = false, innerRotate = true, times = 1) {\n    const player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0;\n    }\n    const factor = clockwise ? 1 : -1;\n    this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n    this.updateRotateDeg(this.rotateDeg, innerRotate);\n    player.emit(ROTATE, this.rotateDeg * 360);\n  }\n  registerIcons() {\n    return {\n      rotate: RotateSvg\n    };\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      ${xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nconst PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nclass PIP extends Icon {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"switchPIP\", (e) => {\n      if (!this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (this.isPip) {\n        this.exitPIP();\n        this.emitUserAction(e, \"change_pip\", { props: \"pip\", from: true, to: false });\n        this.setAttr(\"data-state\", \"normal\");\n      } else if (this.player.media.readyState === 4) {\n        this.requestPIP();\n        this.emitUserAction(e, \"change_pip\", { props: \"pip\", from: false, to: true });\n        this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n  }\n  static get pluginName() {\n    return \"pip\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 6,\n      showIcon: false,\n      preferDocument: false,\n      width: void 0,\n      height: void 0,\n      docPiPNode: void 0,\n      docPiPStyle: void 0\n    };\n  }\n  static checkWebkitSetPresentationMode(video) {\n    return typeof video.webkitSetPresentationMode === \"function\";\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.pip === \"boolean\") {\n      args.config.showIcon = args.player.config.pip;\n    }\n  }\n  afterCreate() {\n    if (!this.isPIPAvailable()) {\n      return;\n    }\n    super.afterCreate();\n    this.pMode = PresentationMode.INLINE;\n    this.initPipEvents();\n    if (this.config.showIcon) {\n      this.initIcons();\n    }\n    this.once(COMPLETE, () => {\n      if (this.config.showIcon) {\n        util.removeClass(this.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n        this.bind(\"click\", this.switchPIP);\n      }\n    });\n  }\n  registerIcons() {\n    return {\n      pipIcon: { icon: PipIcon, class: \"xg-get-pip\" },\n      pipIconExit: { icon: PipIconExit, class: \"xg-exit-pip\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n    this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n  }\n  initPipEvents() {\n    const { player } = this;\n    this.leavePIPCallback = () => {\n      const paused = player.paused;\n      util.setTimeout(this, () => {\n        !paused && player.mediaPlay();\n      }, 0);\n      !paused && player.mediaPlay();\n      this.setAttr(\"data-state\", \"normal\");\n      this.pipWindow = null;\n      player.emit(PIP_CHANGE, false);\n    };\n    this.enterPIPCallback = (e) => {\n      player.emit(PIP_CHANGE, true);\n      if (e == null ? void 0 : e.pictureInPictureWindow) {\n        this.pipWindow = e.pictureInPictureWindow;\n      }\n      this.setAttr(\"data-state\", \"pip\");\n    };\n    this.onWebkitpresentationmodechanged = (e) => {\n      const mode = player.media.webkitPresentationMode;\n      if (this.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n        player.onFullscreenChange(null, false);\n      }\n      this.pMode = mode;\n      if (mode === PresentationMode.PIP) {\n        this.enterPIPCallback(e);\n      } else if (mode === PresentationMode.INLINE) {\n        this.leavePIPCallback(e);\n      }\n    };\n    if (player.media) {\n      player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n    }\n  }\n  copyStyleIntoPiPWindow(pipWin) {\n    const textContent = [...document.styleSheets].map((style2) => {\n      try {\n        return [...style2.cssRules].map((rule) => rule.cssText).join(\"\");\n      } catch (e) {\n        const link = document.createElement(\"link\");\n        link.rel = \"stylesheet\";\n        link.type = style2.type;\n        link.media = style2.media;\n        link.href = style2.href;\n        pipWin.document.head.appendChild(link);\n      }\n      return \"\";\n    }).filter(Boolean).join(\"\\n\");\n    const style = document.createElement(\"style\");\n    style.textContent = textContent;\n    pipWin.document.head.appendChild(style);\n  }\n  requestPIP() {\n    const { player, playerConfig, config } = this;\n    if (!this.isPIPAvailable() || this.isPip) {\n      return;\n    }\n    try {\n      const { poster } = playerConfig;\n      if (poster) {\n        player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n      }\n      if (config.preferDocument && this.isDocPIPAvailable()) {\n        const pipOptions = {};\n        if (config.width && config.height) {\n          pipOptions.width = config.width;\n          pipOptions.height = config.height;\n        } else {\n          const playerRect = player.root.getBoundingClientRect();\n          pipOptions.width = playerRect.width;\n          pipOptions.height = playerRect.height;\n        }\n        documentPictureInPicture.requestWindow(pipOptions).then((pipWin) => {\n          const { docPiPNode, docPiPStyle } = config;\n          this.enterPIPCallback();\n          const pipRoot = docPiPNode || player.root;\n          const parentNode = pipRoot.parentElement;\n          const previousSibling = pipRoot.previousSibling;\n          const nextSibling = pipRoot.nextSibling;\n          this.copyStyleIntoPiPWindow(pipWin);\n          const styles = document.createElement(\"style\");\n          styles.append(\"body{padding:0; margin:0;}\");\n          if (docPiPStyle) {\n            let cssContent = \"\";\n            if (typeof docPiPStyle === \"string\") {\n              cssContent = docPiPStyle;\n            } else if (typeof docPiPStyle === \"function\") {\n              cssContent = docPiPStyle.call(config);\n            }\n            if (cssContent) {\n              styles.append(cssContent);\n            }\n          } else if (pipRoot === player.root) {\n            styles.append(`\n              .xgplayer{width: 100%!important; height: 100%!important;}\n            `);\n          }\n          pipWin.document.head.append(styles);\n          pipWin.document.body.append(pipRoot);\n          pipWin.addEventListener(\"pagehide\", (event) => {\n            if (parentNode) {\n              if (nextSibling) {\n                parentNode.insertBefore(pipRoot, nextSibling);\n              } else if (previousSibling) {\n                parentNode.insertBefore(pipRoot, previousSibling.nextSibling);\n              } else {\n                parentNode.appendChild(pipRoot);\n              }\n            } else {\n            }\n            this.leavePIPCallback();\n          }, { once: true });\n        });\n      } else if (PIP.checkWebkitSetPresentationMode(player.media)) {\n        player.media.webkitSetPresentationMode(\"picture-in-picture\");\n      } else {\n        player.media.requestPictureInPicture();\n      }\n      return true;\n    } catch (reason) {\n      console.error(\"requestPiP\", reason);\n      return false;\n    }\n  }\n  exitPIP() {\n    const { player } = this;\n    try {\n      if (this.isPIPAvailable() && this.isPip) {\n        if (this.isDocPIPAvailable() && (documentPictureInPicture == null ? void 0 : documentPictureInPicture.window)) {\n          documentPictureInPicture.window.close();\n        } else if (PIP.checkWebkitSetPresentationMode(player.media)) {\n          player.media.webkitSetPresentationMode(\"inline\");\n        } else {\n          document.exitPictureInPicture();\n        }\n      }\n      return true;\n    } catch (reason) {\n      console.error(\"exitPIP\", reason);\n      return false;\n    }\n  }\n  get isPip() {\n    const { player } = this;\n    return !!(this.isDocPIPAvailable() && (documentPictureInPicture == null ? void 0 : documentPictureInPicture.window)) || document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n  }\n  isPIPAvailable() {\n    const video = this.player.media;\n    const _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : true;\n    return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\") || this.isDocPIPAvailable();\n  }\n  isDocPIPAvailable() {\n    return \"documentPictureInPicture\" in window && /^(https|file)/.test(location.protocol);\n  }\n  destroy() {\n    super.destroy();\n    const { player } = this;\n    player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n    player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n    PIP.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n    this.exitPIP();\n    this.unbind(\"click\", this.btnClick);\n  }\n  render() {\n    if (!this.config.showIcon || !this.isPIPAvailable()) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon xg-icon-disable\">\n      </div>\n      ${xgIconTips(this, \"PIP\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nclass PlayNextIcon extends Plugin {\n  constructor(options) {\n    super(options);\n    __publicField(this, \"playNext\", (e) => {\n      const { player } = this;\n      e.preventDefault();\n      e.stopPropagation();\n      if (this.idx + 1 < this.config.urlList.length) {\n        this.idx++;\n        this.nextHandler(this.config.urlList[this.idx], this.idx);\n        player.emit(PLAYNEXT, this.idx + 1);\n      } else {\n        this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    this.idx = -1;\n  }\n  static get pluginName() {\n    return \"playNext\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 1,\n      url: null,\n      urlList: []\n    };\n  }\n  afterCreate() {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n    this.initEvents();\n  }\n  registerIcons() {\n    return {\n      playNext: Next\n    };\n  }\n  initEvents() {\n    this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n    const event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this.bind(event, this.playNext);\n    this.show();\n  }\n  changeSrc(url) {\n    const { player } = this;\n    if (!url) {\n      return;\n    }\n    player.pause();\n    player.currentTime = 0;\n    if (player.switchURL) {\n      player.switchURL(url);\n    } else {\n      player.src = url;\n    }\n    player.config.url = url;\n    player.play();\n  }\n  destroy() {\n    this.unbind([\"touchend\", \"click\"], this.playNext);\n  }\n  render() {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return;\n    }\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      ${xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips)}\n     </xg-icon>\n    `;\n  }\n}\nexport { PlayNextIcon as default };\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nclass Download extends Icon {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"download\", (e) => {\n      if (this.isLock) {\n        return;\n      }\n      this.emitUserAction(e, \"download\");\n      const { url } = this.playerConfig;\n      let dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      const newUrl = this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      this.isLock = true;\n      this.timer = window.setTimeout(() => {\n        this.isLock = false;\n        window.clearTimeout(this.timer);\n        this.timer = null;\n      }, 300);\n    });\n    this.timer = null;\n    this.isLock = false;\n  }\n  static get pluginName() {\n    return \"download\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 3,\n      disable: true\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    if (this.config.disable) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", this.icons.download);\n    this._handler = this.hook(\"click\", this.download, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this._handler);\n  }\n  registerIcons() {\n    return {\n      download: DownloadSvg\n    };\n  }\n  getAbsoluteURL(url) {\n    if (!url.match(/^https?:\\/\\//)) {\n      const div = document.createElement(\"div\");\n      div.innerHTML = `<a href=\"${url}\">x</a>`;\n      url = div.firstChild.href;\n    }\n    return url;\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.download);\n    window.clearTimeout(this.timer);\n    this.timer = null;\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-download\">\n   <div class=\"xgplayer-icon\">\n   </div>\n   ${xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Download as default };\n","import \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nclass ScreenShot extends Icon {\n  static get pluginName() {\n    return \"screenShot\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 5,\n      quality: 0.92,\n      type: \"image/png\",\n      format: \".png\",\n      width: 600,\n      height: 337,\n      saveImg: true,\n      fitVideo: true,\n      disable: false,\n      name: \"screenshot\"\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.screenShot === \"boolean\") {\n      args.config.disable = !args.player.config.screenShot;\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n    const { config } = this;\n    this.initSize = (data) => {\n      if (config.fitVideo) {\n        config.width = data.vWidth;\n        config.height = data.vHeight;\n      }\n    };\n    this.once(VIDEO_RESIZE, this.initSize);\n  }\n  onPluginsReady() {\n    this.show();\n    this.onClickBtn = this.onClickBtn.bind(this);\n    this.bind([\"click\", \"touchend\"], this.onClickBtn);\n  }\n  saveScreenShot(data, filename) {\n    const saveLink = document.createElement(\"a\");\n    saveLink.href = data;\n    saveLink.download = filename;\n    const event = document.createEvent(\"MouseEvents\");\n    event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n    saveLink.dispatchEvent(event);\n  }\n  createCanvas(width, height) {\n    const canvas = document.createElement(\"canvas\");\n    const canvasCtx = canvas.getContext(\"2d\");\n    this.canvasCtx = canvasCtx;\n    this.canvas = canvas;\n    canvas.width = width || this.config.width;\n    canvas.height = height || this.config.height;\n    canvasCtx.imageSmoothingEnabled = true;\n    if (canvasCtx.imageSmoothingEnabled) {\n      canvasCtx.imageSmoothingQuality = \"high\";\n    }\n  }\n  onClickBtn(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.emitUserAction(e, \"shot\");\n    const { config } = this;\n    this.shot(config.width, config.height).then((data) => {\n      this.emit(SCREEN_SHOT, data);\n      if (config.saveImg) {\n        this.saveScreenShot(data, config.name + config.format);\n      }\n    });\n  }\n  shot(width, height, option = { quality: 0.92, type: \"image/png\" }) {\n    const { config, player } = this;\n    const quality = option.quality || config.quality;\n    const type = option.type || config.type;\n    return new Promise((resolve, reject) => {\n      let canvas = null;\n      let canvasCtx;\n      if (player.media.canvas) {\n        canvas = player.media.canvas;\n      } else {\n        if (!this.canvas) {\n          this.createCanvas(width, height);\n        } else {\n          this.canvas.width = width || config.width;\n          this.canvas.height = height || config.height;\n        }\n        canvas = this.canvas;\n        canvasCtx = this.canvasCtx;\n        const mediaRatio = player.media.videoWidth / player.media.videoHeight;\n        const canvasRatio = canvas.width / canvas.height;\n        const sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n        let dx, dy, dw, dh;\n        if (mediaRatio > canvasRatio) {\n          dw = canvas.width;\n          dh = canvas.width / mediaRatio;\n          dx = 0;\n          dy = Math.round((canvas.height - dh) / 2);\n        } else if (mediaRatio === canvasRatio) {\n          dw = canvas.width;\n          dh = canvas.height;\n          dx = 0;\n          dy = 0;\n        } else if (mediaRatio < canvasRatio) {\n          dw = canvas.height * mediaRatio;\n          dh = canvas.height;\n          dx = Math.round((canvas.width - dw) / 2);\n          dy = 0;\n        }\n        canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n      }\n      let src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n      src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n      resolve(src);\n    });\n  }\n  registerIcons() {\n    return {\n      screenshotIcon: null\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n    this.off(VIDEO_RESIZE, this.initSize);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n    const langKey = \"SCREENSHOT\";\n    return `\n      <xg-icon class=\"xgplayer-shot\">\n      <div class=\"${className}\">\n      ${this.icons.screenshotIcon ? \"\" : `<span lang-key=\"${this.i18nKeys[langKey]}\">${this.i18n[langKey]}</span>`}\n      </div>\n    </xg-icon>`;\n  }\n}\nexport { ScreenShot as default };\n","import util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass OptionList {\n  constructor(args) {\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, `xg-options-list xg-list-slide-scroll ${this.config.className}`);\n    args.root.appendChild(this.root);\n    const { maxHeight } = this.config;\n    if (maxHeight) {\n      this.setStyle({ maxHeight });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    const eventName = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  renderItemList(data) {\n    const { config, root } = this;\n    if (data) {\n      config.data = data;\n    } else {\n      data = config.data;\n    }\n    if (config.style) {\n      Object.keys(config.style).map((key) => {\n        root.style[key] = config[key];\n      });\n    }\n    if (data.length > 0) {\n      this.attrKeys = Object.keys(data[0]);\n    }\n    this.root.innerHTML = \"\";\n    data.map((item, index) => {\n      const className = item.selected ? \"option-item selected\" : \"option-item\";\n      item[\"data-index\"] = index;\n      this.root.appendChild(util.createDom(\"li\", `<span>${item.showText}</span>`, item, className));\n    });\n  }\n  onItemClick(e) {\n    if (!e.delegateTarget) {\n      e.delegateTarget = e.target;\n    }\n    const target = e.delegateTarget;\n    if (target && util.hasClass(target, \"selected\")) {\n      return false;\n    }\n    const changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n    const curSelected = this.root.querySelector(\".selected\");\n    util.addClass(target, \"selected\");\n    curSelected && util.removeClass(curSelected, \"selected\");\n    changeCallback(e, {\n      from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n      to: this.getAttrObj(target, this.attrKeys)\n    });\n  }\n  getAttrObj(dom, keys) {\n    if (!dom || !keys) {\n      return {};\n    }\n    const obj = {};\n    keys.map((key) => {\n      obj[key] = dom.getAttribute(key);\n    });\n    const index = dom.getAttribute(\"data-index\");\n    if (index) {\n      obj.index = Number(index);\n    }\n    return obj;\n  }\n  show() {\n    util.removeClass(this.root, \"hide\");\n    util.addClass(this.root, \"active\");\n  }\n  hide() {\n    util.removeClass(this.root, \"active\");\n    util.addClass(this.root, \"hide\");\n  }\n  setStyle(style) {\n    Object.keys(style).forEach((key) => {\n      this.root.style[key] = style[key];\n    });\n  }\n  destroy() {\n    if (this._delegates) {\n      this._delegates.map((item) => {\n        item.destroy && item.destroy();\n      });\n      this._delegates = null;\n    }\n    this.root.innerHTML = null;\n    this.parent.removeChild(this.root);\n    this.root = null;\n  }\n}\nexport { OptionList as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nconst LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\"\n};\nconst TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nconst IS_MOBILE = sniffer.device === \"mobile\";\nclass OptionsIcon extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onEnter\", (e) => {\n      e.stopPropagation();\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n      this.switchActiveState(e);\n    });\n    __publicField(this, \"switchActiveState\", (e) => {\n      e.stopPropagation();\n      const { toggleMode } = this.config;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        this.toggle(!this.isActive);\n      } else {\n        this.toggle(true);\n      }\n    });\n    __publicField(this, \"onLeave\", (e) => {\n      e.stopPropagation();\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n      if (this.config.listType !== LIST_TYPES.SIDE) {\n        this.isActive && this.toggle(false);\n      }\n    });\n    __publicField(this, \"onListEnter\", (e) => {\n      this.enterType = 2;\n    });\n    __publicField(this, \"onListLeave\", (e) => {\n      this.enterType = 0;\n      this.isActive && this.toggle(false);\n    });\n    this.isIcons = false;\n    this.isActive = false;\n    this.curValue = null;\n    this.curIndex = 0;\n  }\n  static get pluginName() {\n    return \"optionsIcon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 100,\n      list: [],\n      listType: \"middle\",\n      listStyle: {},\n      hidePortrait: true,\n      isShowIcon: false,\n      isItemClickHide: true,\n      toggleMode: TOGGLE_MODES.HOVER,\n      heightLimit: true\n    };\n  }\n  updateLang(value) {\n    this.renderItemList(this.config.list, this.curIndex);\n  }\n  afterCreate() {\n    const { config } = this;\n    this.initIcons();\n    if (IS_MOBILE && config.listType !== LIST_TYPES.MIDDLE) {\n      config.listType = LIST_TYPES.SIDE;\n    }\n    config.hidePortrait && util.addClass(this.root, \"portrait\");\n    this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], () => {\n      this._resizeList();\n    });\n    this.once(CANPLAY, () => {\n      if (config.list && config.list.length > 0) {\n        this.renderItemList(config.list);\n        this.show();\n      }\n    });\n    IS_MOBILE && this.on(PLAYER_FOCUS, () => {\n      if (!this.isActive) {\n        return;\n      }\n      this.optionsList && this.optionsList.hide();\n      this.isActive = false;\n    });\n    if (IS_MOBILE) {\n      config.toggleMode = TOGGLE_MODES.CLICK;\n      this.activeEvent = \"touchend\";\n    } else {\n      this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n    }\n    if (config.toggleMode === TOGGLE_MODES.CLICK) {\n      this.bind(this.activeEvent, this.switchActiveState);\n    } else {\n      this.bind(this.activeEvent, this.onEnter);\n      this.bind(\"mouseleave\", this.onLeave);\n    }\n    this.isIcons && this.bind(\"click\", this.onIconClick);\n  }\n  initIcons() {\n    const { icons } = this;\n    const _c = Object.keys(icons);\n    let _isIcons = false;\n    if (_c.length > 0) {\n      _c.forEach((key) => {\n        this.appendChild(\".xgplayer-icon\", icons[key]);\n        !_isIcons && (_isIcons = icons[key]);\n      });\n      this.isIcons = _isIcons;\n    }\n    if (_isIcons) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n    util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length < 2) {\n      return;\n    }\n    util.addClass(this.root, \"show\");\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n  }\n  getTextByLang(item, key, lang) {\n    if (item === void 0) {\n      return \"\";\n    }\n    const { list } = this.config;\n    !lang && (lang = this.player.lang);\n    key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n    typeof item === \"number\" && (item = list[item]);\n    try {\n      if (typeof item[key] === \"object\") {\n        return item[key][lang] || item[key].en;\n      } else {\n        return item[key];\n      }\n    } catch (err) {\n      console.warn(err);\n      return \"\";\n    }\n  }\n  toggle(isActive) {\n    if (isActive === this.isActive)\n      return;\n    const { controls } = this.player;\n    const { listType } = this.config;\n    if (isActive) {\n      listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n      this.optionsList && this.optionsList.show();\n    } else {\n      listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n      this.optionsList && this.optionsList.hide();\n    }\n    this.isActive = isActive;\n  }\n  onItemClick(e, data) {\n    e.stopPropagation();\n    const { listType, list } = this.config;\n    this.curIndex = data.to.index;\n    this.curItem = list[this.curIndex];\n    this.changeCurrentText();\n    const { isItemClickHide } = this.config;\n    (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n  }\n  onIconClick(e) {\n  }\n  changeCurrentText() {\n    if (this.isIcons) {\n      return;\n    }\n    const { list } = this.config;\n    const index = this.curIndex < list.length ? this.curIndex : 0;\n    const curItem = list[index];\n    if (!curItem)\n      return;\n    this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n  }\n  renderItemList(itemList, curIndex) {\n    const { config, optionsList, player } = this;\n    if (typeof curIndex === \"number\") {\n      this.curIndex = curIndex;\n      this.curItem = config.list[curIndex];\n    }\n    if (optionsList) {\n      optionsList.renderItemList(itemList);\n      this.changeCurrentText();\n      return;\n    }\n    const options = {\n      config: {\n        data: itemList || [],\n        className: getListClassName(config.listType, config.position),\n        onItemClick: (e, data) => {\n          this.onItemClick(e, data);\n        }\n      },\n      root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n    };\n    if (this.config.isShowIcon) {\n      const { height } = this.player.root.getBoundingClientRect();\n      const _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      if (_maxH && config.heightLimit) {\n        options.config.maxHeight = `${_maxH}px`;\n      }\n      this.optionsList = new OptionList(options);\n      this.changeCurrentText();\n      this.show();\n    }\n    this._resizeList();\n  }\n  _resizeList() {\n    if (!this.config.heightLimit) {\n      return;\n    }\n    const { height } = this.player.root.getBoundingClientRect();\n    const _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n    this.optionsList && this.optionsList.setStyle({ maxHeight: `${_maxH}px` });\n  }\n  destroy() {\n    const { config } = this;\n    if (config.toggleMode === TOGGLE_MODES.CLICK) {\n      this.unbind(this.activeEvent, this.switchActiveState);\n    } else {\n      this.unbind(this.activeEvent, this.onEnter);\n      this.unbind(\"mouseleave\", this.onLeave);\n    }\n    this.isIcons && this.unbind(\"click\", this.onIconClick);\n    if (this.optionsList) {\n      this.optionsList.destroy();\n      this.optionsList = null;\n    }\n  }\n  render() {\n    if (!this.config.isShowIcon) {\n      return;\n    }\n    return `<xg-icon class=\"xg-options-icon ${this.config.className || \"\"}\">\n    <div class=\"xgplayer-icon\">\n    </div>\n   </xg-icon>`;\n  }\n}\nexport { OptionsIcon as default };\n","import util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nclass DefinitionIcon extends OptionsIcon {\n  static get pluginName() {\n    return \"definition\";\n  }\n  static get defaultConfig() {\n    return {\n      ...OptionsIcon.defaultConfig,\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 3,\n      list: [],\n      defaultDefinition: \"\",\n      disable: false,\n      hidePortrait: false,\n      className: \"xgplayer-definition\",\n      isShowIcon: true\n    };\n  }\n  beforeCreate(args) {\n    const { list } = args.config;\n    if (Array.isArray(list) && list.length > 0) {\n      args.config.list = list.map((item) => {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n    }\n  }\n  constructor(args) {\n    super(args);\n    this.curTime = 0;\n    this.isPaused = true;\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.on(\"resourceReady\", (list) => {\n      this.changeDefinitionList(list);\n    });\n    this.on(DEFINITION_CHANGE, (data) => {\n      this.renderItemList(this.config.list, data.to);\n    });\n    if (this.player.definitionList.length < 2) {\n      this.hide();\n    }\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length < 2) {\n      return;\n    }\n    util.addClass(this.root, \"show\");\n  }\n  initDefinition() {\n    const { list, defaultDefinition } = this.config;\n    if (list.length > 0) {\n      let to = null;\n      list.map((item) => {\n        if (item.definition === defaultDefinition) {\n          to = item;\n        }\n      });\n      if (!to) {\n        to = list[0];\n      }\n      this.changeDefinition(to);\n    }\n  }\n  renderItemList(list = this.config.list || [], to) {\n    const targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n    if (to) {\n      list.forEach((item) => {\n        item.selected = false;\n      });\n    }\n    let curIndex = 0;\n    const items = list.map((item, index) => {\n      const showItem = {\n        ...item,\n        showText: this.getTextByLang(item) || item.definition,\n        selected: false\n      };\n      if (item.selected || item.definition && item.definition == targetDef) {\n        showItem.selected = true;\n        curIndex = index;\n      }\n      return showItem;\n    });\n    super.renderItemList(items, curIndex);\n  }\n  changeDefinitionList(list) {\n    if (!Array.isArray(list)) {\n      return;\n    }\n    this.config.list = list.map((item) => {\n      if (!item.text && item.name) {\n        item.text = item.name;\n      }\n      if (!item.text) {\n        item.text = item.definition;\n      }\n      return item;\n    });\n    this.renderItemList();\n    this.config.list.length < 2 ? this.hide() : this.show();\n  }\n  changeDefinition(to, from) {\n    this.player.changeDefinition(to, from);\n  }\n  onItemClick(e, data) {\n    const { definitionList } = this.player;\n    super.onItemClick(...arguments);\n    this.emitUserAction(e, \"change_definition\", { from: data.from, to: data.to });\n    for (let i = 0; i < definitionList.length; i++) {\n      if (data.to && definitionList[i].definition === data.to.definition) {\n        data.to.url = definitionList[i].url;\n      }\n      if (data.from && definitionList[i].definition === data.from.definition) {\n        data.from.url = definitionList[i].url;\n      }\n    }\n    this.player.changeDefinition(data.to, data.from);\n  }\n}\nexport { DefinitionIcon as default };\n","import \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nclass PlaybackRate extends OptionsIcon {\n  static get pluginName() {\n    return \"playbackRate\";\n  }\n  static get defaultConfig() {\n    return {\n      ...OptionsIcon.defaultConfig,\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 4,\n      list: [2, 1.5, 1, 0.75, 0.5],\n      className: \"xgplayer-playbackrate\",\n      isShowIcon: true,\n      hidePortrait: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.curRate = 1;\n  }\n  beforeCreate(args) {\n    const { playbackRate } = args.player.config;\n    const list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n    if (Array.isArray(list)) {\n      args.config.list = list.map((item) => {\n        if (typeof item === \"number\") {\n          item = {\n            rate: item,\n            text: `${item}x`\n          };\n        } else if (!item.text && item.rate) {\n          item.text = `${item.rate}x`;\n        }\n        return item;\n      });\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.on(RATE_CHANGE, () => {\n      if (this.curValue === this.player.playbackRate) {\n        return;\n      }\n      this.renderItemList();\n    });\n    this.renderItemList();\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length === 0) {\n      return;\n    }\n    super.show();\n  }\n  onItemClick(e, _data) {\n    super.onItemClick(e, _data);\n    const target = e.delegateTarget;\n    const rate = Number(target.getAttribute(\"rate\"));\n    if (!rate || rate === this.curValue) {\n      return false;\n    }\n    const props = {\n      playbackRate: {\n        from: this.player.playbackRate,\n        to: rate\n      }\n    };\n    this.emitUserAction(e, \"change_rate\", { props });\n    this.curValue = rate;\n    this.player.playbackRate = rate;\n  }\n  renderItemList() {\n    const playbackRate = this.player.playbackRate || 1;\n    this.curValue = playbackRate;\n    let curIndex = -1;\n    const items = this.config.list.map((item, index) => {\n      const itemInfo = {\n        rate: item.rate\n      };\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.selected = true;\n        curIndex = index;\n      }\n      itemInfo.showText = this.getTextByLang(item);\n      return itemInfo;\n    });\n    super.renderItemList(items, curIndex);\n  }\n  changeCurrentText() {\n    if (this.isIcons) {\n      return;\n    }\n    const { list } = this.config;\n    const index = this.curIndex < list.length ? this.curIndex : 0;\n    const curItem = list[index];\n    let _text = \"\";\n    if (!curItem || this.curIndex < 0) {\n      _text = `${this.player.playbackRate}x`;\n    } else {\n      _text = this.getTextByLang(curItem, \"iconText\");\n    }\n    this.find(\".icon-text\").innerHTML = _text;\n  }\n  destroy() {\n    super.destroy();\n  }\n}\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nclass CssFullScreen extends Icon {\n  static get pluginName() {\n    return \"cssFullscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 1,\n      disable: false,\n      target: null\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.cssFullscreen === \"boolean\") {\n      args.config.disable = !args.player.config.cssFullscreen;\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    if (this.config.disable) {\n      return;\n    }\n    if (this.config.target) {\n      this.playerConfig.fullscreenTarget = this.config.target;\n    }\n    this.initIcons();\n    this.on(CSS_FULLSCREEN_CHANGE, (isCssfullScreen) => {\n      this.animate(isCssfullScreen);\n    });\n    this.btnClick = this.btnClick.bind(this);\n    this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n  }\n  initIcons() {\n    const { icons } = this;\n    const contentIcon = this.find(\".xgplayer-icon\");\n    contentIcon.appendChild(icons.cssFullscreen);\n    contentIcon.appendChild(icons.exitCssFullscreen);\n  }\n  btnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { isCssfullScreen } = this.player;\n    this.emitUserAction(e, \"switch_cssfullscreen\", { cssfullscreen: isCssfullScreen });\n    if (!isCssfullScreen) {\n      this.player.getCssFullscreen();\n    } else {\n      this.player.exitCssFullscreen();\n    }\n  }\n  animate(isFullScreen) {\n    if (!this.root) {\n      return;\n    }\n    isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n    this.switchTips(isFullScreen);\n  }\n  switchTips(isFullScreen) {\n    const { i18nKeys } = this;\n    const tipDom = this.find(\".xg-tips\");\n    tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n  }\n  registerIcons() {\n    return {\n      cssFullscreen: { icon: CssFullSceenSvg, class: \"xg-get-cssfull\" },\n      exitCssFullscreen: { icon: ExitCssFullSceenSvg, class: \"xg-exit-cssfull\" }\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.btnClick);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { CssFullScreen as default };\n","import \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass ErrorPlugin extends Plugin {\n  static get pluginName() {\n    return \"error\";\n  }\n  afterCreate() {\n    this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.onError = this.hook(\"showError\", this.handleError);\n    this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    this.on(ERROR, (error) => {\n      this.onError(error);\n    });\n  }\n  errorRetry(e) {\n    this.emitUserAction(e, \"error_retry\", {});\n    this.player.retry();\n  }\n  handleError(error = {}) {\n    const { player } = this;\n    const type = error.errorType;\n    let errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n    if (!errorNote) {\n      switch (type) {\n        case \"decoder\":\n          errorNote = this.i18n.MEDIA_ERR_DECODE;\n          break;\n        case \"network\":\n          errorNote = this.i18n.MEDIA_ERR_NETWORK;\n          break;\n        default:\n          errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n      }\n    }\n    this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n    this.find(\".xgplayer-error-tips\").innerHTML = `${this.i18n.REFRESH_TIPS}<span class=\"xgplayer-error-refresh\">${this.i18n.REFRESH}</span>`;\n  }\n  destroy() {\n    this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n  }\n  render() {\n    return `<xg-error class=\"xgplayer-error\">\n      <div class=\"xgplayer-errornote\">\n       <span class=\"xgplayer-error-text\"></span>\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\n      </div>\n    </xg-error>`;\n  }\n}\nexport { ErrorPlugin as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nclass Prompt extends Plugin {\n  static get pluginName() {\n    return \"prompt\";\n  }\n  static get defaultConfig() {\n    return {\n      interval: 3e3,\n      style: {},\n      mode: \"arrow\",\n      autoHide: true,\n      detail: {\n        text: \"\",\n        highlight: \"\"\n      },\n      onClick: () => {\n      }\n    };\n  }\n  afterCreate() {\n    this.intervalId = 0;\n    this.customConfig = null;\n    this.bind(\".highlight\", [\"click\", \"touchend\"], (e) => {\n      if (this.config.onClick || this.customOnClick) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.customOnClick ? this.customOnClick(e) : this.config.onClick(e);\n      }\n    });\n    this.player.showPrompt = (...args) => {\n      this.showPrompt(...args);\n    };\n    this.player.hidePrompt = () => {\n      this.hide();\n    };\n  }\n  setStyle(style) {\n    Object.keys(style).map((key) => {\n      this.root.style[key] = style[key];\n    });\n  }\n  showPrompt(detail, config = {}, onClick = () => {\n  }) {\n    if (!detail) {\n      return;\n    }\n    this.customOnClick = onClick;\n    const { interval } = this.config;\n    if (this.intervalId) {\n      clearTimeout(this.intervalId);\n      this.intervalId = null;\n    }\n    util.addClass(this.root, \"show\");\n    config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n    if (typeof detail === \"string\") {\n      this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n    } else {\n      this.find(\".xgplayer-prompt-detail\").innerHTML = `${detail.text || \"\"}${detail.highlight ? `<i class=\"highlight\">${detail.highlight}</i>` : \"\"}`;\n    }\n    config.style && this.setStyle(config.style);\n    const autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n    if (autoHide) {\n      const hideinterval = config.interval || interval;\n      this.intervalId = setTimeout(() => {\n        this.hide();\n      }, hideinterval);\n    }\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n    util.removeClass(this.root, \"arrow\");\n    this.root.removeAttribute(\"style\");\n    this.customOnClick = null;\n  }\n  render() {\n    return `<xg-prompt class=\"xgplayer-prompt ${STATE_CLASS.CONTROLS_FOLLOW}\">\n    <span class=\"xgplayer-prompt-detail\"></span>\n    </xg-prompt>`;\n  }\n}\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nconst ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map((key) => {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nconst APIS = {\n  _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    const ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    const style = iSpot.style || {};\n    style.left = `${ret.left}%`;\n    style.width = `${ret.width}%`;\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map((key) => {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots() {\n    this._ispots.map((item) => {\n      this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot(iSpot, isNew = true) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    const ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    const style = iSpot.style || {};\n    style.left = `${ret.left}%`;\n    style.width = `${ret.width}%`;\n    let className = `xgspot_${iSpot.id} xgplayer-spot`;\n    ret.isMini && (className += \" mini\");\n    const _t = iSpot.template ? `<div class=\"xgplayer-spot-pop\">${iSpot.template}</div>` : \"\";\n    const dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map((key) => {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    const ret = this._ispots.filter((cur, index) => {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot(iSpot, needShow = false) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map((key) => {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    const dotDom = progress.find(`xg-spot[data-id=\"${iSpot.id}\"]`);\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot(id) {\n    const { _ispots } = this;\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const del = [];\n    for (let i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    const len = del.length;\n    for (let i = len - 1; i >= 0; i--) {\n      _ispots.splice(del[i], 1);\n      if (this.ispotsInit) {\n        const dotDom = progress.find(`xg-spot[data-id=\"${id}\"]`);\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (let i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots(iSpots = []) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    const len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (let i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach((ispot, index) => {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", `${ispot.id}`);\n        this._ispots.push(ispot);\n        this.updateDot(ispot);\n      } else {\n        this.createDot(ispot);\n      }\n    });\n  },\n  positionDots() {\n    const { _ispots, playerSize } = this;\n    const { sizeInfo } = this.player;\n    const { progress } = this.player.plugins;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach((item) => {\n      const dotDom = progress.find(`xg-spot[data-id=\"${item.id}\"]`);\n      dotDom && this.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot(dotDom, id) {\n    const _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    const pRect = this.playerSize;\n    const rect1 = dotDom.getBoundingClientRect();\n    const rect = _pop.getBoundingClientRect();\n    const _left = rect1.left - pRect.left;\n    const _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      const t = rect.width / 2 - _left;\n      _pop.style.left = `${t}px`;\n    } else if (_diff < rect.width / 2) {\n      const t = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = `${t}px`;\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const { _ispots } = this;\n    _ispots.forEach((item) => {\n      const dotDom = progress.find(`xg-spot[data-id=\"${item.id}\"]`);\n      this._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return [];\n    }\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom(id) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    return progress.find(`xg-spot[data-id=\"${id}\"]`);\n  }\n};\nfunction initDotsAPI(plugin) {\n  const { config, player } = plugin;\n  Object.keys(APIS).map((item) => {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  const ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map((item) => {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, () => {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, () => {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nconst CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nclass ProgressPreview extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onMousemove\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && this.config.isHideThumbnailHover) {\n        this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    __publicField(this, \"onMousedown\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    __publicField(this, \"onMouseup\", (e) => {\n      if (!this.isDrag) {\n        return;\n      }\n      const { progress } = this.player.plugins;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    __publicField(this, \"onDotMouseLeave\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      this._curDot.removeEventListener(\"mouseleave\", this.onDotMouseLeave);\n      this.blurDot(e.target);\n      this._curDot = null;\n      const { progress } = this.player.plugins;\n      progress && progress.enableBlur();\n      this.show();\n    });\n    __publicField(this, \"onProgressMouseOver\", (data, e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !this._curDot) {\n        this._curDot = e.target;\n        this.focusDot(e.target);\n        if (this._curDot.children.length > 0) {\n          this.hide();\n        }\n        const { progress } = this.player.plugins;\n        progress && progress.disableBlur();\n        this._curDot.addEventListener(\"mouseleave\", this.onDotMouseLeave);\n      }\n    });\n    this._ispots = [];\n    this.videoPreview = null;\n    this.videothumbnail = null;\n    this.thumbnail = null;\n    this.timeStr = \"\";\n    this._state = {\n      now: 0,\n      f: false\n    };\n  }\n  static get pluginName() {\n    return \"progresspreview\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 1,\n      miniWidth: 6,\n      ispots: [],\n      defaultText: \"\",\n      isFocusDots: true,\n      isHideThumbnailHover: true,\n      isShowThumbnail: true,\n      isShowCoverPreview: false,\n      mode: \"\",\n      disable: false,\n      width: 160,\n      height: 90\n    };\n  }\n  beforeCreate(args) {\n    const progress = args.player.plugins.progress;\n    if (progress) {\n      args.root = progress.root;\n    }\n  }\n  afterCreate() {\n    this._curDot = null;\n    this.handlerSpotClick = this.hook(\"spotClick\", (_event, data) => {\n      if (data.seekTime) {\n        this.player.seek(data.seekTime);\n      }\n    });\n    this.transformTimeHook = this.hook(\"transformTime\", (time) => {\n      this.setTimeContent(util.format(time));\n    });\n    initDotsAPI(this);\n    this.on(DURATION_CHANGE, () => {\n      this.show();\n    });\n    if (this.config.disable) {\n      this.disable();\n    }\n    this.extTextRoot = this.find(\".xg-spot-ext-text\");\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    Object.keys(config).map((key) => {\n      this.config[key] = config[key];\n    });\n  }\n  onPluginsReady() {\n    const { player } = this;\n    if (!player.plugins.progress) {\n      return;\n    }\n    this.previewLine = this.find(\".xg-spot-line\");\n    this.timePoint = this.find(\".xgplayer-progress-point\");\n    this.timeText = this.find(\".xg-spot-time\");\n    this.tipText = this.find(\".spot-inner-text\");\n    this._hasThumnail = false;\n    this.registerThumbnail();\n    this.bindEvents();\n  }\n  bindEvents() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    Object.keys(CALLBACK_MAP).map((key) => {\n      this[CALLBACK_MAP[key]] = this[CALLBACK_MAP[key]].bind(this);\n      progress.addCallBack(key, this[CALLBACK_MAP[key]]);\n    });\n    if (sniffer.device === \"mobile\")\n      return;\n    this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n    this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n    this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n    const fun = this.hook(\"previewClick\", (...args) => {\n    });\n    this.handlerPreviewClick = (e) => {\n      e.stopPropagation();\n      fun(parseInt(this._state.now * 1e3, 10) / 1e3, e);\n    };\n    this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n  }\n  onProgressMove(data, e) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n  }\n  onProgressDragStart(data) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.isDrag = true;\n    this.videoPreview && util.addClass(this.videoPreview, \"show\");\n  }\n  onProgressDragEnd(data) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.isDrag = false;\n    this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n  }\n  onProgressClick(data, e) {\n    if (this.config.disable) {\n      return;\n    }\n    if (util.hasClass(e.target, \"xgplayer-spot\")) {\n      e.stopPropagation();\n      e.preventDefault();\n      [\"time\", \"id\", \"text\"].map((key) => {\n        data[key] = e.target.getAttribute(`data-${key}`);\n      });\n      data.time && (data.time = Number(data.time));\n      this.handlerSpotClick(e, data);\n    }\n  }\n  updateLinePos(offset, cwidth) {\n    const { root, previewLine, player, config } = this;\n    const { mode } = player.controls;\n    const isflex = mode === \"flex\";\n    let lwidth = root.getBoundingClientRect().width;\n    if (!lwidth && this._hasThumnail) {\n      return;\n    }\n    lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n    let x = offset - lwidth / 2;\n    let _t;\n    if (x < 0 && !isflex) {\n      x = 0;\n      _t = offset - lwidth / 2;\n    } else if (x > cwidth - lwidth && !isflex) {\n      _t = x - (cwidth - lwidth);\n      x = cwidth - lwidth;\n    } else {\n      _t = 0;\n    }\n    _t !== void 0 && (previewLine.style.transform = `translateX(${_t.toFixed(2)}px)`);\n    root.style.transform = `translateX(${x.toFixed(2)}px) translateZ(0)`;\n  }\n  updateTimeText(timeStr) {\n    const { timeText, timePoint } = this;\n    timeText.innerHTML = timeStr;\n    !this.thumbnail && (timePoint.innerHTML = timeStr);\n  }\n  updatePosition(offset, cwidth, time, e) {\n    const { root, config, _state } = this;\n    if (!root) {\n      return;\n    }\n    _state.now = time;\n    this.transformTimeHook(time);\n    const timeStr = this.timeStr;\n    if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n      this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n      this.focusDot(e.target);\n      _state.f = true;\n      config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n    } else if (config.defaultText) {\n      _state.f = false;\n      this.showTips(config.defaultText, true, timeStr);\n    } else {\n      _state.f = false;\n      this.hideTips(\"\");\n    }\n    this.updateTimeText(timeStr);\n    this.updateThumbnails(_state.now);\n    this.updateLinePos(offset, cwidth);\n  }\n  setTimeContent(str) {\n    this.timeStr = str;\n  }\n  updateThumbnails(time) {\n    const { player, videoPreview, config } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n      const rect = videoPreview && videoPreview.getBoundingClientRect();\n      this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n    }\n  }\n  registerThumbnail(thumbnailConfig = {}) {\n    if (sniffer.device === \"mobile\") {\n      return;\n    }\n    const { player, config } = this;\n    const thumbnail = player.getPlugin(\"thumbnail\");\n    if (thumbnail) {\n      thumbnail.setConfig(thumbnailConfig);\n    }\n    if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n      util.addClass(this.root, \"short-line no-thumbnail\");\n      return;\n    } else {\n      util.removeClass(this.root, \"short-line no-thumbnail\");\n    }\n    if (config.mode === \"short\") {\n      util.addClass(this.root, \"short-line\");\n    }\n    this._hasThumnail = true;\n    const tRoot = this.find(\".xg-spot-thumbnail\");\n    this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n    if (config.isShowCoverPreview) {\n      this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n      player.root.appendChild(this.videoPreview);\n      this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n    }\n    this.updateThumbnails(0);\n  }\n  calcuPosition(time, duration) {\n    const { progress } = this.player.plugins;\n    const { player } = this;\n    const totalWidth = progress.root.getBoundingClientRect().width;\n    const widthPerSeconds = player.duration / totalWidth * 6;\n    if (time + duration > player.duration) {\n      duration = player.duration - time;\n    }\n    time / player.duration * 100;\n    duration / player.duration;\n    return {\n      left: time / player.duration * 100,\n      width: duration / player.duration * 100,\n      isMini: duration < widthPerSeconds\n    };\n  }\n  showDot(id) {\n    const dot = this.findDot(id);\n    if (dot) {\n      const rect = this.root.getBoundingClientRect();\n      const { width } = rect;\n      const offset = dot.time / this.player.duration * width;\n      this.updatePosition(offset, width, dot.time);\n    }\n  }\n  focusDot(target, id) {\n    if (!target) {\n      return;\n    }\n    if (!id) {\n      id = target.getAttribute(\"data-id\");\n    }\n    util.addClass(target, \"active\");\n    this._activeDotId = id;\n  }\n  blurDot(target) {\n    if (!target) {\n      const id = this._activeDotId;\n      target = this.getDotDom(id);\n    }\n    if (!target) {\n      return;\n    }\n    util.removeClass(target, \"active\");\n    this._activeDotId = null;\n  }\n  showTips(text, isDefault, timeStr = \"\") {\n    util.addClass(this.root, \"no-timepoint\");\n    if (!text) {\n      return;\n    }\n    util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n    if (isDefault && this.config.mode === \"production\") {\n      util.addClass(this.root, \"product\");\n      this.tipText.textContent = text;\n    } else {\n      util.removeClass(this.root, \"product\");\n      this.tipText.textContent = this._hasThumnail ? text : `${timeStr} ${text}`;\n    }\n  }\n  hideTips() {\n    util.removeClass(this.root, \"no-timepoint\");\n    this.tipText.textContent = \"\";\n    util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n    util.removeClass(this.root, \"product\");\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  enable() {\n    const { config, playerConfig } = this;\n    this.config.disable = false;\n    this.show();\n    if (!this.thumbnail && config.isShowThumbnail) {\n      this.registerThumbnail(playerConfig.thumbnail || {});\n    }\n  }\n  disable() {\n    this.config.disable = true;\n    this.hide();\n  }\n  destroy() {\n    const { progress } = this.player.plugins;\n    progress && Object.keys(CALLBACK_MAP).map((key) => {\n      progress.removeCallBack(key, this[CALLBACK_MAP[key]]);\n    });\n    this.videothumbnail = null;\n    this.thumbnail = null;\n    this.videoPreview && this.player.root.removeChild(this.videoPreview);\n    this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n    this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n    this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n    this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n  }\n  render() {\n    if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n      return \"\";\n    }\n    return `<div class=\"xg-spot-info hide ${this.config.mode === \"short\" ? \"short-line\" : \"\"}\">\n      <div class=\"xg-spot-content\">\n        <div class=\"xg-spot-thumbnail\">\n          <span class=\"xg-spot-time\"></span>\n        </div>\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\n      </div>\n      <div class=\"xgplayer-progress-point\">00:00</div>\n      <div class=\"xg-spot-ext-text\"></div>\n      <div class=\"xg-spot-line\"></div>\n    </div>`;\n  }\n}\nexport { ProgressPreview as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Thumbnail extends Plugin {\n  static get pluginName() {\n    return \"thumbnail\";\n  }\n  static get defaultConfig() {\n    return {\n      isShow: false,\n      urls: [],\n      pic_num: 0,\n      col: 0,\n      row: 0,\n      height: 90,\n      width: 160,\n      scale: 1,\n      className: \"\",\n      hidePortrait: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.ratio = 1;\n    this.interval = null;\n    this._preloadMark = {};\n  }\n  afterCreate() {\n    if (this.usable) {\n      this.initThumbnail();\n    }\n    this.on([DURATION_CHANGE], () => {\n      const { pic_num, interval } = this.config;\n      this.usable && (this.interval = interval > 0 ? interval : Math.round(this.player.duration * 1e3 / pic_num) / 1e3);\n    });\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    const keys = Object.keys(config);\n    if (keys.length < 1) {\n      return;\n    }\n    keys.forEach((key) => {\n      this.config[key] = config[key];\n    });\n    this.usable && this.initThumbnail();\n  }\n  get usable() {\n    const { urls, pic_num } = this.config;\n    return urls && urls.length > 0 && pic_num > 0;\n  }\n  initThumbnail() {\n    const { width, height, pic_num, interval } = this.config;\n    this.ratio = width / height * 100;\n    this.interval = interval || Math.round(this.player.duration / pic_num);\n    this._preloadMark = {};\n  }\n  getUrlByIndex(index) {\n    return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n  }\n  preload(index) {\n    if (this._preloadMark[index]) {\n      return;\n    }\n    const { urls } = this.config;\n    const len = urls.length;\n    const arr = [];\n    index > 0 && arr.push(index - 1);\n    arr.push(index);\n    index > 0 && index < len - 1 && arr.push(index + 1);\n    arr.map((item) => {\n      if (!this._preloadMark[item] && item >= 0 && item < len) {\n        this._preloadMark[item] = 1;\n        util.preloadImg(urls[item], () => {\n          this._preloadMark[item] = 2;\n        });\n      }\n    });\n  }\n  getPosition(now, containerWidth = 0, containerHeight = 0) {\n    const { pic_num, row, col, width, height } = this.config;\n    this.interval = Math.round(this.player.duration / pic_num);\n    let index = Math.ceil(now / this.interval);\n    index = index > pic_num ? pic_num : index;\n    const urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n    const indexInPage = index - urlIndex * (col * row);\n    const rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n    const colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n    let swidth = 0;\n    let sHeight = 0;\n    if (containerWidth && containerHeight) {\n      const per = containerWidth / containerHeight;\n      if (per < width / height) {\n        sHeight = containerHeight;\n        swidth = sHeight * (width / height);\n      } else {\n        swidth = containerWidth;\n        sHeight = swidth / (width / height);\n      }\n    } else if (!containerHeight) {\n      swidth = containerWidth || width;\n      sHeight = swidth / (width / height);\n    } else if (!containerWidth) {\n      sHeight = containerHeight || height;\n      swidth = sHeight * (width / height);\n    }\n    const url = this.getUrlByIndex(urlIndex);\n    return {\n      urlIndex,\n      rowIndex,\n      colIndex,\n      url,\n      height: sHeight,\n      width: swidth,\n      style: {\n        backgroundImage: `url(${url})`,\n        backgroundSize: `${swidth * col}px auto`,\n        backgroundPosition: `-${colIndex * swidth}px -${rowIndex * sHeight}px`,\n        width: `${swidth}px`,\n        height: `${sHeight}px`\n      }\n    };\n  }\n  update(dom, now, containerWidth = 0, containerHeight = 0, customStyle = \"\") {\n    const { pic_num, urls } = this.config;\n    if (pic_num <= 0 || !urls || urls.length === 0) {\n      return;\n    }\n    const pos = this.getPosition(now, containerWidth, containerHeight);\n    this.preload(pos.urlIndex);\n    Object.keys(pos.style).map((key) => {\n      dom.style[key] = pos.style[key];\n    });\n    Object.keys(customStyle).map((key) => {\n      dom.style[key] = customStyle[key];\n    });\n  }\n  changeConfig(newConfig = {}) {\n    this.setConfig(newConfig);\n  }\n  createThumbnail(root, className) {\n    const dom = util.createDom(\"xg-thumbnail\", \"\", {}, `thumbnail ${className}`);\n    root && root.appendChild(dom);\n    return dom;\n  }\n}\nexport { Thumbnail as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { TIME_UPDATE, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? `background:${color};` : \"\";\n}\nclass MiniProgress extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onTimeupdate\", () => {\n      const { ended } = this.player;\n      const { offsetDuration } = this;\n      let time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, ended);\n      this.update({ played: time }, offsetDuration);\n    });\n  }\n  static get pluginName() {\n    return \"MiniProgress\";\n  }\n  static get defaultConfig() {\n    return {\n      mode: \"auto\",\n      height: 2\n    };\n  }\n  get offsetDuration() {\n    return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n  }\n  afterCreate() {\n    if (!this.root) {\n      return;\n    }\n    this.on(TIME_UPDATE, this.onTimeupdate);\n    this.on(EMPTIED, () => {\n      this.reset();\n    });\n  }\n  reset() {\n    this.update({ played: 0, cached: 0 }, 0);\n  }\n  update(data = { cached: 0, played: 0 }, duration) {\n    if (!duration || !this.root) {\n      return;\n    }\n    if (data.cached) {\n      this.find(\"xg-mini-progress-cache\").style.width = `${data.cached / duration * 100}%`;\n    }\n    if (data.played) {\n      this.find(\"xg-mini-progress-played\").style.width = `${data.played / duration * 100}%`;\n    }\n  }\n  render() {\n    const { commonStyle, miniprogress } = this.playerConfig;\n    if (!miniprogress) {\n      return;\n    }\n    const { mode, height } = this.config;\n    const _style = {\n      cached: getBgColor(commonStyle.cachedColor),\n      played: getBgColor(commonStyle.playedColor),\n      progress: getBgColor(commonStyle.progressColor),\n      height: height > 0 && height !== 2 ? `height: ${height}px;` : \"\"\n    };\n    const stateClass = mode === \"show\" ? \"xg-mini-progress-show\" : \"\";\n    return `<xg-mini-progress class=\"xg-mini-progress ${stateClass}\" style=\"${_style.progress} ${_style.height}\">\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"${_style.cached}\"></xg-mini-progress-cache>\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"${_style.played}\"></xg-mini-progress-played>\n    </xg-mini-progress>`;\n  }\n}\nexport { MiniProgress as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START, TIME_UPDATE } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nconst MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    const ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nlet isSupportCanvas = null;\nclass DynamicBg extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onLoadedData\", (e) => {\n      if (!this.player) {\n        return;\n      }\n      this._frameCount = this.config.startFrameCount;\n      this.stop();\n      this.renderOnTimeupdate(e);\n      this.off(TIME_UPDATE, this.renderOnTimeupdate);\n      this.on(TIME_UPDATE, this.renderOnTimeupdate);\n    });\n    __publicField(this, \"onVisibilitychange\", (e) => {\n      if (document.visibilityState === \"visible\") {\n        this._checkIfCanStart() && this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        this.stop();\n      }\n    });\n    __publicField(this, \"renderOnTimeupdate\", (e) => {\n      if (this._frameCount > 0) {\n        this.renderOnce();\n        this._frameCount--;\n      } else {\n        this._isLoaded = true;\n        this.off(TIME_UPDATE, this.renderOnTimeupdate);\n        const { startInterval } = this.config;\n        !this.player.paused && this._checkIfCanStart() && this.start(0, startInterval);\n      }\n    });\n    __publicField(this, \"start\", (time, interval) => {\n      const video = this.player.video;\n      const _now = nowTime();\n      const _sVideo = this.checkVideoIsSupport(video);\n      if (!_sVideo || !this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = this.interval;\n      }\n      this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && this.update(_sVideo, this.videoPI);\n          this.preTime = _now;\n        } else if (_now - this.preTime >= interval) {\n          video && video.videoWidth && this.update(_sVideo, this.videoPI);\n          this.preTime = _now;\n        }\n      }\n      this.frameId = this._loopType === \"timer\" ? util.setTimeout(this, this.start, interval) : util.requestAnimationFrame(this.start);\n    });\n    __publicField(this, \"stop\", () => {\n      if (this.frameId) {\n        this._loopType === \"timer\" ? util.clearTimeout(this, this.frameId) : util.cancelAnimationFrame(this.frameId);\n        this.frameId = null;\n      }\n    });\n  }\n  static get pluginName() {\n    return \"dynamicBg\";\n  }\n  static get defaultConfig() {\n    return {\n      isInnerRender: false,\n      disable: true,\n      index: -1,\n      mode: \"framerate\",\n      frameRate: 10,\n      filter: \"blur(50px)\",\n      startFrameCount: 2,\n      startInterval: 0,\n      addMask: true,\n      multiple: 1.2,\n      maskBg: \"rgba(0,0,0,0.7)\"\n    };\n  }\n  static get isSupport() {\n    if (typeof isSupportCanvas === \"boolean\") {\n      return isSupportCanvas;\n    }\n    isSupportCanvas = checkIsSupportCanvas();\n    return isSupportCanvas;\n  }\n  static supportCanvasFilter() {\n    return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n  }\n  afterCreate() {\n    if (this.playerConfig.dynamicBg === true) {\n      this.config.disable = false;\n    }\n    if (!DynamicBg.isSupport) {\n      this.config.disable = true;\n    }\n    const { disable, mode, frameRate } = this.config;\n    if (disable) {\n      return;\n    }\n    this._pos = {\n      width: 0,\n      height: 0,\n      rwidth: 0,\n      rheight: 0,\n      x: 0,\n      y: 0,\n      pi: 0\n    };\n    this.isStart = false;\n    this._isLoaded = false;\n    this.videoPI = 0;\n    this.preTime = 0;\n    this.interval = parseInt(1e3 / frameRate, 10);\n    this.canvas = null;\n    this.canvasCtx = null;\n    this._frameCount = 0;\n    this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n    this.once(COMPLETE, () => {\n      if (!this.player) {\n        return;\n      }\n      this.init();\n      this.renderByPoster();\n      if (!this.player.paused) {\n        this.start();\n      }\n    });\n    if (mode === MODES.POSTER) {\n      return;\n    }\n    if (mode !== MODES.FIRST_FRAME) {\n      this.on(EMPTIED, () => {\n        this.stop();\n      });\n      this.on(PLAY, () => {\n        const { startInterval } = this.config;\n        this._checkIfCanStart() && this.start(0, startInterval);\n      });\n      this.on(PAUSE, () => {\n        this.stop();\n      });\n    }\n    this.on(LOADED_DATA, this.onLoadedData);\n    this.on(LOAD_START, () => {\n      this._isLoaded = false;\n      this.stop();\n    });\n    document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n  }\n  setConfig(config) {\n    Object.keys(config).forEach((key) => {\n      if (key === \"root\" && config[key] !== this.config[key]) {\n        this.reRender(config[key]);\n      } else if (key === \"frameRate\") {\n        this.interval = parseInt(1e3 / config[key], 10);\n      } else if (key === \"disable\" && config[key]) {\n        this.stop();\n      }\n      this.config[key] = config[key];\n    });\n  }\n  init(_root) {\n    const { player, config } = this;\n    this.canvasFilter = DynamicBg.supportCanvasFilter();\n    try {\n      let parent = _root || config.root;\n      if (!parent) {\n        parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n      }\n      parent.insertAdjacentHTML(\n        \"afterbegin\",\n        `<div class=\"xgplayer-dynamic-bg\" data-index=\"${config.index}\"><canvas>\n        </canvas><xgmask></xgmask></div>`\n      );\n      this.root = parent.children[0];\n      this.canvas = this.find(\"canvas\");\n      if (!this.canvasFilter) {\n        this.canvas.style.filter = config.filter;\n        this.canvas.style.webkitFilter = config.filter;\n      }\n      this.mask = this.find(\"xgmask\");\n      config.addMask && (this.mask.style.background = config.maskBg);\n      this.canvasCtx = this.canvas.getContext(\"2d\");\n    } catch (e) {\n      XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n    }\n  }\n  reRender(root) {\n    const { disable } = this.config;\n    if (!disable && !this.root) {\n      return;\n    }\n    this.stop();\n    const _p = this.root ? this.root.parentElement : null;\n    if (_p !== root) {\n      _p.removeChild(this.root);\n    }\n    if (!root) {\n      this.root = null;\n      return;\n    }\n    this.init(root);\n    this.renderOnce();\n    const { startInterval } = this.config;\n    this._checkIfCanStart() && this.start(0, startInterval);\n  }\n  checkVideoIsSupport(video) {\n    if (!video) {\n      return null;\n    }\n    const _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n    if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n      return _tVideo;\n    }\n    const _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n    if (_tagName === \"canvas\" || _tagName === \"img\") {\n      return _tVideo;\n    }\n    return null;\n  }\n  renderByPoster() {\n    const { poster } = this.playerConfig;\n    if (poster) {\n      const url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n      this.updateImg(url);\n    }\n  }\n  _checkIfCanStart() {\n    const { mode } = this.config;\n    return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n  }\n  renderOnce() {\n    const video = this.player.video;\n    if (!video.videoWidth || !video.videoHeight) {\n      return;\n    }\n    this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n    const _sVideo = this.checkVideoIsSupport(video);\n    _sVideo && this.update(_sVideo, this.videoPI);\n  }\n  updateImg(url) {\n    if (!url) {\n      return;\n    }\n    const { width, height } = this.canvas.getBoundingClientRect();\n    let image = new window.Image();\n    image.onload = () => {\n      if (!this.canvas || this.frameId || this.isStart) {\n        return;\n      }\n      this.canvas.height = height;\n      this.canvas.width = width;\n      const pi = parseInt(width / height * 100, 10);\n      this.update(image, pi);\n      image = null;\n    };\n    image.src = url;\n  }\n  update(video, sourcePI) {\n    if (!this.canvas || !this.canvasCtx || !sourcePI) {\n      return;\n    }\n    try {\n      const { _pos, config } = this;\n      const { width, height } = this.canvas.getBoundingClientRect();\n      if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n        const pi = parseInt(width / height * 100, 10);\n        _pos.pi = sourcePI;\n        _pos.width !== width && (_pos.width = this.canvas.width = width);\n        _pos.height !== height && (_pos.height = this.canvas.height = height);\n        let rheight = height;\n        let rwidth = width;\n        if (pi < sourcePI) {\n          rwidth = parseInt(height * sourcePI / 100, 10);\n        } else if (pi > sourcePI) {\n          rheight = parseInt(width * 100 / sourcePI, 10);\n        }\n        _pos.rwidth = rwidth * config.multiple;\n        _pos.rheight = rheight * config.multiple;\n        _pos.x = (width - _pos.rwidth) / 2;\n        _pos.y = (height - _pos.rheight) / 2;\n      }\n      this.canvasFilter && (this.canvasCtx.filter = config.filter);\n      this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n    } catch (e) {\n      XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n    }\n  }\n  destroy() {\n    this.stop();\n    document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n    this.canvasCtx = null;\n    this.canvas = null;\n  }\n  render() {\n    return \"\";\n  }\n}\nexport { DynamicBg as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport * as events from \"../../events.js\";\nimport { USER_ACTION } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nconst INFO = \"info\";\nconst { STATS_EVENTS } = events;\nclass Stats extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_recordUserActions\", (actionData) => {\n      const time = this._getTime();\n      const payload = Object.assign({}, actionData, { msg: actionData.msg || actionData.action });\n      this._stats[INFO].push({\n        type: \"userAction\",\n        ...time,\n        payload\n      });\n    });\n    __publicField(this, \"_onReset\", () => {\n      this.reset();\n    });\n    __publicField(this, \"_recordInfo\", (data) => {\n      this.info(data);\n    });\n    __publicField(this, \"_downloadStats\", () => {\n      const stats = this.getStats();\n      const blob = new Blob([JSON.stringify(stats)], { type: \"application/json\" });\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n  }\n  static get pluginName() {\n    return \"stats\";\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  _getTime() {\n    return {\n      timestamp: Date.now(),\n      timeFormat: new Date().toISOString()\n    };\n  }\n  afterCreate() {\n    this.reset();\n    this.on(USER_ACTION, this._recordUserActions);\n    this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n    this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n    this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n  }\n  destroy() {\n    this.offAll();\n  }\n  downloadStats() {\n    this._downloadStats();\n  }\n  info(data) {\n    if (data.profile) {\n      this._infoProfile(data);\n    } else {\n      this._info(data);\n    }\n  }\n  _info(data) {\n    const time = this._getTime();\n    this._stats[INFO].push({\n      ...time,\n      payload: data\n    });\n  }\n  _infoProfile(data) {\n    if (data && data.startMs) {\n      const endMs = Date.now();\n      const dur = endMs - data.startMs;\n      const profile = {\n        cat: \"function\",\n        dur,\n        name: data.name || data.msg,\n        ph: \"X\",\n        pid: 0,\n        tid: 0,\n        ts: data.startMs,\n        profile: true,\n        ...data\n      };\n      this._info(profile);\n    } else {\n      console.warn(\"infoProfile need object data, include startMs\");\n    }\n  }\n  reset() {\n    this._stats = {\n      [INFO]: [],\n      media: {}\n    };\n  }\n  getStats() {\n    const { player } = this;\n    const mediaElem = player.media;\n    const buffered = [];\n    for (let i = 0; i < mediaElem.buffered.length; i++) {\n      buffered.push({\n        start: mediaElem.buffered.start(i),\n        end: mediaElem.buffered.end(i)\n      });\n    }\n    const mediaInfo = {\n      currentTime: mediaElem.currentTime,\n      readyState: mediaElem.readyState,\n      buffered,\n      paused: mediaElem.paused,\n      ended: mediaElem.ended\n    };\n    this._stats.media = mediaInfo;\n    return {\n      raw: this._stats,\n      timestat: this._getTimeStats(),\n      profile: this._getProfile()\n    };\n  }\n  _getTimeStats() {\n    const allStat = this._stats[INFO];\n    const msgs = allStat.map((stat) => {\n      const data = stat.payload.data;\n      let msg = \"\";\n      try {\n        if (data instanceof Error) {\n          msg = data.msg;\n        } else if (data !== void 0) {\n          msg = JSON.stringify(data);\n        }\n      } catch (error) {\n        console.log(\"err\", error);\n      }\n      return `[${stat.timeFormat}] : ${stat.payload.msg} ${msg} `;\n    });\n    return msgs;\n  }\n  _getProfile() {\n    const profile = {\n      traceEvents: []\n    };\n    const allStat = this._stats[INFO];\n    allStat.forEach((stat) => {\n      if (stat.payload.profile) {\n        profile.traceEvents.push(stat.payload);\n      }\n    });\n    return profile;\n  }\n}\nexport { Stats as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass GapJump extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onGapJump\", () => {\n      const { player, config } = this;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && this.hasPlayed) {\n        return;\n      }\n      const buffered = player.media.buffered;\n      const smallGapLimit = config.smallGapLimit || 0.5;\n      const gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      const currentTime = player.media.currentTime;\n      const idx = this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      const jumpTo = buffered.start(idx) + 0.1;\n      const seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      const jumpSize = jumpTo - currentTime;\n      const isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        this.player && this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"gapJump\";\n  }\n  static get defaultConfig() {\n    return {\n      useGapJump: false,\n      smallGapLimit: 0.5,\n      gapDetectionThreshold: 0.3\n    };\n  }\n  afterCreate() {\n    const { useGapJump } = this.config;\n    if (useGapJump === false) {\n      return;\n    }\n    this.hasPlayed = false;\n    this.seekingEventReceived = false;\n    this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n    this.on(WAITING, this.onGapJump);\n    this.on(PLAY, () => {\n      this.hasPlayed = true;\n    });\n    this.on(SEEKING, () => {\n      this.seekingEventReceived = true;\n    });\n  }\n  _getIndex(buffered, time, threshold) {\n    if (!buffered || !buffered.length) {\n      return null;\n    }\n    if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n      return null;\n    }\n    const bufferedInfo = this._getBuffered(buffered);\n    let idx = null;\n    for (let i = 0; i < bufferedInfo.length; i++) {\n      const item = bufferedInfo[i];\n      if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n        idx = i;\n        break;\n      }\n    }\n    return idx;\n  }\n  _getBuffered(b) {\n    if (!b) {\n      return [];\n    }\n    const ret = [];\n    for (let i = 0; i < b.length; i++) {\n      ret.push({\n        start: b.start(i),\n        end: b.end(i)\n      });\n    }\n    return ret;\n  }\n}\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass WaitingTimeoutJump extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onWaiting\", () => {\n      const { config } = this;\n      if (this.jumpCnt > config.jumpCntMax || this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.timer = setTimeout(this.onJump, config.waitingTime * 1e3);\n    });\n    __publicField(this, \"onJump\", () => {\n      const { player, config } = this;\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && this.hasPlayed) {\n        return;\n      }\n      this.jumpSize = config.jumpSize * (this.jumpCnt + 1);\n      if (this.jumpCnt === config.jumpSize && this.jumpSize < 6) {\n        this.jumpSize = 6;\n      }\n      const jumpTo = player.currentTime + this.jumpSize;\n      const seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      console.log(\"waitintTimeout, currentTime:\", player.currentTime, \", jumpTo:\", jumpTo);\n      this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n  }\n  static get pluginName() {\n    return \"waitingTimeoutJump\";\n  }\n  static get defaultConfig() {\n    return {\n      useWaitingTimeoutJump: false,\n      waitingTime: 15,\n      jumpSize: 2,\n      jumpCntMax: 4\n    };\n  }\n  afterCreate() {\n    const { useWaitingTimeoutJump, jumpSize } = this.config;\n    if (useWaitingTimeoutJump === false) {\n      return;\n    }\n    this.hasPlayed = false;\n    this.jumpCnt = 0;\n    this.timer = null;\n    this.jumpSize = jumpSize;\n    this.on(WAITING, this.onWaiting);\n    this.on([PLAYING, CANPLAY], () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n      this.jumpSize = this.config.jumpSize;\n    });\n    this.on(PLAY, () => {\n      this.hasPlayed = true;\n    });\n  }\n}\nexport { WaitingTimeoutJump as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { LOADED_DATA, REPLAY, DOWNLOAD_SPEED_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nconst DEFAULT_SPEED_TYPE = \"cdn\";\nconst SPEED_TYPE = [\"cdn\"];\nclass TestSpeed extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"getSpeed\", (type = DEFAULT_SPEED_TYPE) => {\n      if (!this.speedListCache || !this.speedListCache[type])\n        return 0;\n      if (this.speedListCache[type].length <= 0)\n        return 0;\n      let total = 0;\n      this.speedListCache[type].map((item) => {\n        total += item;\n      });\n      return Math.floor(total / this.speedListCache[type].length);\n    });\n    __publicField(this, \"startTimer\", () => {\n      if (util.isMSE(this.player.video)) {\n        return;\n      }\n      this.initSpeedList();\n      this.cnt = 0;\n      this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n    });\n    __publicField(this, \"initSpeedList\", () => {\n      this.speedListCache = {};\n      SPEED_TYPE.forEach((type) => {\n        this.speedListCache[type] = [];\n      });\n    });\n    __publicField(this, \"_onRealSpeedChange\", (data) => {\n      data.speed && this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    __publicField(this, \"testSpeed\", () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (!this.player || !this.config.openSpeed)\n        return;\n      const { url, loadSize, testCnt, testTimeStep } = this.config;\n      const testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (this.cnt >= testCnt) {\n        return;\n      }\n      this.cnt++;\n      try {\n        const start = new Date().getTime();\n        let end = null;\n        const xhr = new XMLHttpRequest();\n        this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        const headers = {};\n        const random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach((k) => {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = () => {\n          if (xhr.readyState === 4) {\n            this.xhr = null;\n            end = new Date().getTime();\n            const size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            const speed = Math.round(size * 1e3 / (end - start));\n            this.appendList(speed);\n            this.timer = setTimeout(this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    __publicField(this, \"appendList\", (speed, type = DEFAULT_SPEED_TYPE) => {\n      if (!this.speedListCache || !this.speedListCache[type])\n        return;\n      const { saveSpeedMax } = this.config;\n      if (this.speedListCache[type].length >= saveSpeedMax) {\n        this.speedListCache[type].shift();\n      }\n      this.speedListCache[type].push(speed);\n      const { player } = this;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      this.updateSpeed(type);\n    });\n    __publicField(this, \"updateSpeed\", (type = DEFAULT_SPEED_TYPE) => {\n      const speed = this.getSpeed(type);\n      const { player } = this;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, { speed, realTimeSpeed: player.realTimeSpeed });\n          }\n        } else {\n          const speedName = this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, { speed, realTimeSpeed: player.realTimeSpeed });\n          }\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"testspeed\";\n  }\n  static get defaultConfig() {\n    return {\n      openSpeed: false,\n      testCnt: 3,\n      loadSize: 200 * 1024,\n      testTimeStep: 3e3,\n      url: \"\",\n      saveSpeedMax: 5,\n      addSpeedTypeList: []\n    };\n  }\n  afterCreate() {\n    const { openSpeed, addSpeedTypeList } = this.config;\n    if ((addSpeedTypeList == null ? void 0 : addSpeedTypeList.length) > 0) {\n      SPEED_TYPE.push(...addSpeedTypeList);\n    }\n    this.initSpeedList();\n    this.on(\"real_time_speed\", this._onRealSpeedChange);\n    this.timer = null;\n    this.cnt = 0;\n    this.xhr = null;\n    if (!openSpeed) {\n      return;\n    }\n    this.on([LOADED_DATA, REPLAY], this.startTimer);\n  }\n  getSpeedName(namePrefix, type) {\n    return namePrefix + \"Speed\" + type.toUpperCase();\n  }\n  set openSpeed(value) {\n    this.config.openSpeed = value;\n    if (!value && this.timer) {\n      clearTimeout(this.timer);\n      this.timer = null;\n      return;\n    }\n    if (this.config.openSpeed) {\n      if (this.timer)\n        return;\n      this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n    }\n  }\n  get openSpeed() {\n    return this.config.openSpeed;\n  }\n  destroy() {\n    this.off(\"real_time_speed\", this._onRealSpeedChange);\n    this.off([LOADED_DATA, REPLAY], this.startTimer);\n    SPEED_TYPE.forEach((type) => {\n      this.speedListCache && this.speedListCache[type] && (this.speedListCache[type] = []);\n    });\n    this.speedListCache && (this.speedListCache = {});\n    clearTimeout(this.timer);\n    this.timer = null;\n    if (this.xhr && this.xhr.readyState !== 4) {\n      this.xhr.cancel && this.xhr.cancel();\n      this.xhr = null;\n    }\n  }\n}\nexport { TestSpeed as default };\n","import \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass FpsDetect extends Plugin {\n  static get pluginName() {\n    return \"FpsDetect\";\n  }\n  static get defaultConfig() {\n    return {\n      disabled: false,\n      tick: 1e3,\n      stuckCount: 3,\n      reportFrame: 0\n    };\n  }\n  afterCreate() {\n    const { player, config } = this;\n    const media = player.media || player.video;\n    this.timer = null;\n    this._lastDecodedFrames = 0;\n    this._currentStuckCount = 0;\n    this._lastCheckPoint = null;\n    this._payload = [];\n    if (config.disabled)\n      return;\n    const getVideoPlaybackQuality = media.getVideoPlaybackQuality;\n    if (!getVideoPlaybackQuality)\n      return;\n    this.on(PLAY, () => {\n      this._startTick();\n    });\n    this.on(PAUSE, () => {\n      this._stopTick();\n    });\n    this.on(ENDED, () => {\n      this._stopTick();\n    });\n    this.on(EMPTIED, () => {\n      this._stopTick();\n    });\n  }\n  _startTick() {\n    this._stopTick();\n    this._timer = setTimeout(() => {\n      this._checkDecodeFPS();\n      this._startTick();\n    }, this.config.tick);\n  }\n  _stopTick() {\n    clearTimeout(this._timer);\n    this._timer = null;\n  }\n  _checkBuffer(curTime, buffered) {\n    let enoughBuffer = false;\n    const buffers = [];\n    for (let i = 0; i < buffered.length; i++) {\n      const start = buffered.start(i);\n      const end = buffered.end(i);\n      buffers.push({ start, end });\n      if (start <= curTime && curTime <= end - 1) {\n        enoughBuffer = true;\n        break;\n      }\n    }\n    return {\n      enoughBuffer,\n      buffers\n    };\n  }\n  _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n    const media = this.player.media || this.player.video;\n    const hidden = document.hidden;\n    const { paused, readyState, currentTime, buffered } = media;\n    if (hidden || paused || readyState < 4) {\n      return;\n    }\n    const { enoughBuffer, buffers } = this._checkBuffer(currentTime, buffered);\n    if (!enoughBuffer) {\n      return;\n    }\n    if (curDecodedFrames <= this.config.reportFrame) {\n      this._currentStuckCount++;\n      this._payload.push({ currentTime, buffers, curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval });\n      if (this._currentStuckCount >= this.config.stuckCount) {\n        this.emit(FPS_STUCK, this._payload);\n        this._reset();\n      }\n    } else {\n      this._reset();\n    }\n  }\n  _reset() {\n    this._payload = [];\n    this._currentStuckCount = 0;\n  }\n  _checkDecodeFPS() {\n    const media = this.player.media || this.player.video;\n    if (!media) {\n      return;\n    }\n    const { totalVideoFrames, droppedVideoFrames } = media.getVideoPlaybackQuality();\n    const currTime = performance.now();\n    if (totalVideoFrames) {\n      if (this._lastCheckPoint) {\n        const curDecoded = totalVideoFrames - this._lastDecodedFrames;\n        const checkInterval = currTime - this._lastCheckPoint;\n        this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n      }\n    }\n    this._lastDecodedFrames = totalVideoFrames;\n    this._lastCheckPoint = currTime;\n  }\n  destroy() {\n    this._stopTick();\n  }\n}\nexport { FpsDetect as default };\n","import sniffer from \"../utils/sniffer.js\";\nimport Controls from \"../plugins/controls/index.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nclass DefaultPreset {\n  constructor(options, playerConfig) {\n    const simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n    const { isLive, controls } = playerConfig;\n    const basePlugin = controls ? [Controls] : [];\n    const vodPlugins = isLive ? basePlugin : [...basePlugin, TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time];\n    const contolsIcons = [\n      ...vodPlugins,\n      Play,\n      Fullscreen,\n      Rotate,\n      PlayNextIcon,\n      DefinitionIcon,\n      PlaybackRate,\n      Download,\n      ScreenShot,\n      Volume,\n      PIP\n    ];\n    const layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n    this.plugins = [...contolsIcons, Stats, XGLogger, ...layers, GapJump, WaitingTimeoutJump];\n    const mode = simulateMode ? \"mobile\" : sniffer.device;\n    switch (mode) {\n      case \"pc\":\n        this.plugins.push(...[Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n        break;\n      case \"mobile\":\n        this.plugins.push(...[MobilePlugin]);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PCPlugin, CssFullScreen]);\n    }\n    if (sniffer.os.isIpad || mode === \"pc\") {\n      this.plugins.push(DynamicBg);\n    }\n    if (sniffer.os.isIpad) {\n      this.plugins.push(PCPlugin);\n    }\n    this.ignores = [];\n    this.i18n = [];\n  }\n}\nexport { DefaultPreset as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport { InstManager } from \"./instManager.js\";\nimport DefaultPreset from \"./presets/default.js\";\nclass PresetPlayer extends Player {\n}\n__publicField(PresetPlayer, \"defaultPreset\", DefaultPreset);\n__publicField(PresetPlayer, \"Util\", util);\n__publicField(PresetPlayer, \"Sniffer\", sniffer);\n__publicField(PresetPlayer, \"Errors\", Errors);\n__publicField(PresetPlayer, \"Events\", events);\n__publicField(PresetPlayer, \"Plugin\", Plugin);\n__publicField(PresetPlayer, \"BasePlugin\", BasePlugin);\n__publicField(PresetPlayer, \"I18N\", I18N);\n__publicField(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\n__publicField(PresetPlayer, \"InstManager\", InstManager);\nexport { PresetPlayer as default };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a = [null];\n      a.push.apply(a, args2);\n      var Constructor = Function.bind.apply(Parent2, a);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? /* @__PURE__ */ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _construct as construct, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeFunction as isNativeFunction, _isNativeReflectConstruct as isNativeReflectConstruct, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray, _wrapNativeSuper as wrapNativeSuper };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar _ERR_CODE;\nvar ERR = {\n  MANIFEST: \"manifest\",\n  NETWORK: \"network\",\n  NETWORK_TIMEOUT: \"network_timeout\",\n  NETWORK_FORBIDDEN: \"network_forbidden\",\n  NETWORK_NOTFOUND: \"network_notfound\",\n  NETWROK_RANGE_NOT_SATISFIABLE: \"network_range_not_satisfiable\",\n  DEMUX: \"demux\",\n  REMUX: \"remux\",\n  MEDIA: \"media\",\n  DRM: \"drm\",\n  OTHER: \"other\",\n  RUNTIME: \"runtime\",\n  SUB_TYPES: {\n    FLV: \"FLV\",\n    HLS: \"HLS\",\n    MP4: \"MP4\",\n    FMP4: \"FMP4\",\n    MSE_ADD_SB: \"MSE_ADD_SB\",\n    MSE_APPEND_BUFFER: \"MSE_APPEND_BUFFER\",\n    MSE_OTHER: \"MSE_OTHER\",\n    MSE_FULL: \"MSE_FULL\",\n    MSE_CHANGE_TYPE: \"MSE_CHANGE_TYPE\",\n    OPTION: \"OPTION\",\n    DASH: \"DASH\",\n    LICENSE: \"LICENSE\",\n    CUSTOM_LICENSE: \"CUSTOM_LICENSE\",\n    MSE_HIJACK: \"MSE_HIJACK\",\n    EME_HIJACK: \"EME_HIJACK\",\n    SIDX: \"SIDX\",\n    NO_CANPLAY_ERROR: \"NO_CANPLAY_ERROR\",\n    BUFFERBREAK_ERROR: \"BUFFERBREAK_ERROR\",\n    WAITING_TIMEOUT_ERROR: \"WAITING_TIMEOUT_ERROR\",\n    MEDIA_ERR_ABORTED: \"MEDIA_ERR_ABORTED\",\n    MEDIA_ERR_NETWORK: \"MEDIA_ERR_NETWORK\",\n    MEDIA_ERR_DECODE: \"MEDIA_ERR_DECODE\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"MEDIA_ERR_SRC_NOT_SUPPORTED\",\n    MEDIA_ERR_CODEC_NOT_SUPPORTED: \"MEDIA_ERR_CODEC_NOT_SUPPORTED\",\n    MEDIA_ERR_URL_EMPTY: \"MEDIA_ERR_URL_EMPTY\"\n  }\n};\nvar ERR_CODE = (_ERR_CODE = {}, _defineProperty(_ERR_CODE, ERR.MANIFEST, {\n  HLS: 1100,\n  DASH: 1200\n}), _defineProperty(_ERR_CODE, ERR.NETWORK, 2100), _defineProperty(_ERR_CODE, ERR.NETWORK_TIMEOUT, 2101), _defineProperty(_ERR_CODE, ERR.NETWORK_FORBIDDEN, 2103), _defineProperty(_ERR_CODE, ERR.NETWORK_NOTFOUND, 2104), _defineProperty(_ERR_CODE, ERR.NETWROK_RANGE_NOT_SATISFIABLE, 2116), _defineProperty(_ERR_CODE, ERR.DEMUX, {\n  FLV: 3100,\n  HLS: 3200,\n  MP4: 3300,\n  FMP4: 3400,\n  SIDX: 3410\n}), _defineProperty(_ERR_CODE, ERR.REMUX, {\n  FMP4: 4100,\n  MP4: 4200\n}), _defineProperty(_ERR_CODE, ERR.MEDIA, {\n  MEDIA_ERR_ABORTED: 5101,\n  MEDIA_ERR_NETWORK: 5102,\n  MEDIA_ERR_DECODE: 5103,\n  MEDIA_ERR_SRC_NOT_SUPPORTED: 5104,\n  MEDIA_ERR_CODEC_NOT_SUPPORTED: 5105,\n  MEDIA_ERR_URL_EMPTY: 5106,\n  MSE_ADD_SB: 5200,\n  MSE_APPEND_BUFFER: 5201,\n  MSE_OTHER: 5202,\n  MSE_FULL: 5203,\n  MSE_HIJACK: 5204,\n  MSE_CHANGE_TYPE: 5205,\n  EME_HIJACK: 5301\n}), _defineProperty(_ERR_CODE, ERR.DRM, {\n  LICENSE: 7100,\n  CUSTOM_LICENSE: 7200\n}), _defineProperty(_ERR_CODE, ERR.OTHER, 8e3), _defineProperty(_ERR_CODE, ERR.RUNTIME, {\n  NO_CANPLAY_ERROR: 9001,\n  BUFFERBREAK_ERROR: 9002,\n  WAITING_TIMEOUT_ERROR: 9003\n}), _ERR_CODE);\nvar StreamingError = /* @__PURE__ */ function(_Error) {\n  _inherits(StreamingError2, _Error);\n  var _super = _createSuper(StreamingError2);\n  function StreamingError2(type, subType, origin, payload, msg) {\n    var _this;\n    _classCallCheck(this, StreamingError2);\n    _this = _super.call(this, msg || (origin === null || origin === void 0 ? void 0 : origin.message));\n    _this.errorType = type === ERR.NETWORK_TIMEOUT ? ERR.NETWORK : type;\n    _this.originError = origin;\n    _this.ext = payload;\n    _this.errorCode = ERR_CODE[type][subType] || ERR_CODE[type];\n    _this.errorMessage = _this.message;\n    if (!_this.errorCode) {\n      _this.errorType = ERR.OTHER;\n      _this.errorCode = ERR_CODE[_this.errorType];\n    }\n    return _this;\n  }\n  _createClass(StreamingError2, null, [{\n    key: \"create\",\n    value: function create(type, subType, origin, payload, msg) {\n      if (type instanceof StreamingError2) {\n        return type;\n      } else if (type instanceof Error) {\n        origin = type;\n        type = \"\";\n      }\n      if (!type)\n        type = ERR.OTHER;\n      return new StreamingError2(type, subType, origin, payload, msg);\n    }\n  }, {\n    key: \"network\",\n    value: function network(error) {\n      var _error$response;\n      return new StreamingError2(error !== null && error !== void 0 && error.isTimeout ? ERR.NETWORK_TIMEOUT : ERR.NETWORK, null, error instanceof Error ? error : null, {\n        url: error === null || error === void 0 ? void 0 : error.url,\n        response: error === null || error === void 0 ? void 0 : error.response,\n        httpCode: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status\n      });\n    }\n  }]);\n  return StreamingError2;\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { ERR, ERR_CODE, StreamingError };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n  }\n  _createClass(Buffer2, null, [{\n    key: \"start\",\n    value: function start(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      if (buf.length === 1 && buf.start(0) < 0)\n        return 0;\n      return buf.start(0);\n    }\n  }, {\n    key: \"end\",\n    value: function end(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      return buf.end(buf.length - 1);\n    }\n  }, {\n    key: \"get\",\n    value: function get(b) {\n      if (!b)\n        return;\n      try {\n        return b.buffered;\n      } catch (error) {\n      }\n    }\n  }, {\n    key: \"buffers\",\n    value: function buffers(buf, maxHole) {\n      if (!buf || !buf.length)\n        return [];\n      var buffers2 = [];\n      for (var i = 0, l = buf.length; i < l; i++) {\n        var bufLen = buffers2.length;\n        if (!bufLen || !maxHole) {\n          buffers2.push([buf.start(i), buf.end(i)]);\n        } else {\n          var last = buffers2[bufLen - 1];\n          var lastEnd = last[1];\n          var start = buf.start(i);\n          if (start - lastEnd <= maxHole) {\n            var end = buf.end(i);\n            if (end > lastEnd) {\n              last[1] = end;\n            }\n          } else {\n            buffers2.push([buf.start(i), buf.end(i)]);\n          }\n        }\n      }\n      return buffers2;\n    }\n  }, {\n    key: \"totalLength\",\n    value: function totalLength(buffers) {\n      if (!buffers || !buffers.length)\n        return 0;\n      return buffers.reduce(function(a, c) {\n        return a += c[1] - c[0];\n      }, 0);\n    }\n  }, {\n    key: \"info\",\n    value: function info(buf) {\n      var pos = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var maxHole = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      if (!buf || !buf.length)\n        return {\n          start: 0,\n          end: 0,\n          buffers: []\n        };\n      var start = 0;\n      var end = 0;\n      var index = 0;\n      var nextStart = 0;\n      var nextEnd = 0;\n      var prevStart = 0;\n      var prevEnd = 0;\n      var buffers = Buffer2.buffers(buf, maxHole);\n      for (var i = 0, l = buffers.length; i < l; i++) {\n        var item = buffers[i];\n        if (pos + maxHole >= item[0] && pos <= item[1]) {\n          start = item[0];\n          end = item[1];\n          index = i;\n        } else if (pos + maxHole < item[0]) {\n          nextStart = item[0];\n          nextEnd = item[1];\n          break;\n        } else if (pos + maxHole > item[1]) {\n          prevStart = item[0];\n          prevEnd = item[1];\n        }\n      }\n      return {\n        start,\n        end,\n        index,\n        buffers,\n        nextStart,\n        nextEnd,\n        prevStart,\n        prevEnd,\n        currentTime: pos,\n        behind: pos - start,\n        remaining: end ? end - pos : 0,\n        length: Buffer2.totalLength && Buffer2.totalLength(buffers)\n      };\n    }\n  }, {\n    key: \"isBuffered\",\n    value: function isBuffered(media, pos) {\n      if (media) {\n        var buffered = Buffer2.get(media);\n        if (buffered !== null && buffered !== void 0 && buffered.length) {\n          for (var i = 0; i < buffered.length; i++) {\n            if (pos >= buffered.start(i) && pos <= buffered.end(i)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer };\n","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar LogCacheLevel = {\n  \"DEBUG\": 1,\n  \"LOG\": 2,\n  \"WARN\": 3,\n  \"ERROR\": 4\n};\nvar LOG_MAX_SIZE = 200 * 1024;\nvar SIMPLE_TYPE = [\"Boolean\", \"Number\", \"String\", \"Undefined\", \"Null\", \"Date\", \"Object\"];\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, config) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    this.logCacheLevel = (config === null || config === void 0 ? void 0 : config.logCacheLevel) || 3;\n    this.logMaxSize = (config === null || config === void 0 ? void 0 : config.logMaxSize) || LOG_MAX_SIZE;\n    this.logSize = 0;\n    this.logTextArray = [];\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.logCache.apply(this, [LogCacheLevel.DEBUG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console = console).debug.apply(_console, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      this.logCache.apply(this, [LogCacheLevel.LOG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console2 = console).log.apply(_console2, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      this.logCache.apply(this, [LogCacheLevel.WARN].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console3 = console).warn.apply(_console3, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      this.logCache.apply(this, [LogCacheLevel.ERROR].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console4 = console).error.apply(_console4, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"logCache\",\n    value: function logCache(logCacheLevel) {\n      if (logCacheLevel < this.logCacheLevel)\n        return;\n      var text = \"\";\n      try {\n        for (var _len5 = arguments.length, logText = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n          logText[_key5 - 1] = arguments[_key5];\n        }\n        var finLogText = logText.map(function(item) {\n          return logable(item);\n        });\n        text = \"[\".concat(nowTime(), \"]\") + this._prefix + JSON.stringify(finLogText);\n      } catch (e) {\n        return;\n      }\n      if (logCacheLevel >= this.logCacheLevel) {\n        this.logSize += text.length;\n        this.logTextArray.push(text);\n      }\n      if (this.logSize > this.logMaxSize) {\n        var delLog = this.logTextArray.shift();\n        this.logSize -= delLog.length;\n      }\n    }\n  }, {\n    key: \"getLogCache\",\n    value: function getLogCache() {\n      var logText = this.logTextArray.join(\"\\n\");\n      this.reset();\n      return logText;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.logTextArray = [];\n      this.logSize = 0;\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }, {\n    key: \"setLogLevel\",\n    value: function setLogLevel(val) {\n      this.logCacheLevel = val;\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nfunction nowTime() {\n  return new Date().toLocaleString();\n}\nfunction reduceDepth(val) {\n  if (_typeof(val) !== \"object\") {\n    return val;\n  }\n  var objType = Object.prototype.toString.call(val).slice(8, -1);\n  switch (objType) {\n    case \"Array\":\n    case \"Uint8Array\":\n    case \"ArrayBuffer\":\n      return objType + \"[\" + val.length + \"]\";\n    case \"Object\":\n      return \"{}\";\n    default:\n      return objType;\n  }\n}\nfunction logable(obj, maxDepth, depth) {\n  if (!depth)\n    depth = 1;\n  if (!maxDepth)\n    maxDepth = 2;\n  var result = {};\n  if (!obj || _typeof(obj) !== \"object\") {\n    return obj;\n  }\n  var objType = Object.prototype.toString.call(obj).slice(8, -1);\n  if (!SIMPLE_TYPE.includes(objType)) {\n    return objType;\n  }\n  if (depth > maxDepth) {\n    return void 0;\n  }\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (depth === maxDepth) {\n        result[key] = reduceDepth(obj[key]);\n      } else if (_typeof(obj[key]) === \"object\") {\n        result[key] = logable(obj[key], maxDepth, depth + 1);\n      } else {\n        result[key] = obj[key];\n      }\n    }\n  }\n  return result;\n}\nexport { LogCacheLevel, Logger };\n","function createPublicPromise() {\n  var res, rej;\n  var promise = new Promise(function(resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.used = false;\n  promise.resolve = function() {\n    promise.used = true;\n    return res.apply(void 0, arguments);\n  };\n  promise.reject = function() {\n    promise.used = true;\n    return rej.apply(void 0, arguments);\n  };\n  return promise;\n}\nfunction nowTime() {\n  try {\n    return parseInt(performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nvar SafeJSON = {\n  stringify: function stringify(obj) {\n    try {\n      return JSON.stringify(obj);\n    } catch (e) {\n      return \"\";\n    }\n  },\n  parse: function parse(obj) {\n    try {\n      return JSON.parse(obj);\n    } catch (e) {\n      return void 0;\n    }\n  }\n};\nexport { SafeJSON, createPublicPromise, nowTime };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper, typeof as _typeof, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"./buffer.js\";\nimport { isBrowser } from \"./env.js\";\nimport { StreamingError, ERR } from \"./error.js\";\nimport { Logger } from \"./logger.js\";\nimport { createPublicPromise, nowTime, SafeJSON } from \"./utils.js\";\nfunction getMediaSource() {\n  var preferMMS = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n  try {\n    if (!isBrowser)\n      return null;\n    if (preferMMS && typeof ManagedMediaSource !== \"undefined\")\n      return ManagedMediaSource;\n    return window.MediaSource;\n  } catch (e) {\n  }\n}\nfunction isMMS(mediaSource) {\n  return /ManagedMediaSource/gi.test(Object.prototype.toString.call(mediaSource));\n}\nfunction getTimeRanges(buffered) {\n  var ranges = [];\n  if (buffered instanceof TimeRanges) {\n    for (var i = 0; i < buffered.length; i++) {\n      ranges.push({\n        start: buffered.start(i),\n        end: buffered.end(i)\n      });\n    }\n  }\n  return ranges;\n}\nvar MSEErrorType = {\n  UPDATE_ERROR: \"updateError\"\n};\nvar OP_NAME = {\n  APPEND: \"appendBuffer\",\n  REMOVE: \"removeBuffer\",\n  UPDATE_DURATION: \"updateDuration\"\n};\nvar MSEError = /* @__PURE__ */ function(_Error) {\n  _inherits(MSEError2, _Error);\n  var _super = _createSuper(MSEError2);\n  function MSEError2(type, msg) {\n    var _this;\n    _classCallCheck(this, MSEError2);\n    _this = _super.call(this, msg || type);\n    _this.type = type;\n    _this.msg = msg;\n    return _this;\n  }\n  return _createClass(MSEError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nvar MSE = /* @__PURE__ */ function() {\n  function MSE2(media, config) {\n    var _this2 = this;\n    _classCallCheck(this, MSE2);\n    _defineProperty(this, \"media\", null);\n    _defineProperty(this, \"mediaSource\", null);\n    _defineProperty(this, \"_openPromise\", createPublicPromise());\n    _defineProperty(this, \"_queue\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_sourceBuffer\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_mseFullFlag\", {});\n    _defineProperty(this, \"_st\", 0);\n    _defineProperty(this, \"_opst\", 0);\n    _defineProperty(this, \"_logger\", null);\n    _defineProperty(this, \"_config\", null);\n    _defineProperty(this, \"_url\", null);\n    _defineProperty(this, \"_onStartStreaming\", function() {\n      _this2._logger.debug(\"startstreaming\");\n    });\n    _defineProperty(this, \"_onEndStreaming\", function() {\n      _this2._logger.debug(\"endstreaming\");\n    });\n    _defineProperty(this, \"_onSBUpdateEnd\", function(type) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (!((op === null || op === void 0 ? void 0 : op.opName) === OP_NAME.UPDATE_DURATION)) {\n          queue.shift();\n        }\n        if (op) {\n          var _this2$_sourceBuffer$, _op$context;\n          var costtime = nowTime() - _this2._opst;\n          _this2._logger.debug(\"UpdateEnd(\".concat(type, \"/\").concat(op.opName, \")\"), SafeJSON.stringify(getTimeRanges((_this2$_sourceBuffer$ = _this2._sourceBuffer[type]) === null || _this2$_sourceBuffer$ === void 0 ? void 0 : _this2$_sourceBuffer$.buffered)), costtime, op.context);\n          op.promise.resolve({\n            name: op.opName,\n            context: op.context,\n            costtime\n          });\n          var callback = (_op$context = op.context) === null || _op$context === void 0 ? void 0 : _op$context.callback;\n          if (callback && typeof callback === \"function\") {\n            callback(op.context);\n          }\n          _this2._startQueue(type);\n        }\n      }\n    });\n    _defineProperty(this, \"_onSBUpdateError\", function(type, event) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op) {\n          _this2._logger.error(\"UpdateError\", type, op.opName, op.context);\n          op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_APPEND_BUFFER, event));\n        }\n      }\n    });\n    this._config = Object.assign(MSE2.getDefaultConfig(), config);\n    if (media)\n      this.bindMedia(media);\n    this._logger = new Logger(\"MSE\");\n    if (this._config.openLog) {\n      Logger.enable();\n    }\n  }\n  _createClass(MSE2, [{\n    key: \"isOpened\",\n    get: function get() {\n      var _this$mediaSource;\n      return ((_this$mediaSource = this.mediaSource) === null || _this$mediaSource === void 0 ? void 0 : _this$mediaSource.readyState) === \"open\";\n    }\n  }, {\n    key: \"hasOpTasks\",\n    get: function get() {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this._queue).forEach(function(k) {\n        var queue = _this3._queue[k];\n        if (Array.isArray(queue)) {\n          flag || (flag = queue.length > 0);\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this._url;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      var _this$mediaSource2;\n      return ((_this$mediaSource2 = this.mediaSource) === null || _this$mediaSource2 === void 0 ? void 0 : _this$mediaSource2.duration) || -1;\n    }\n  }, {\n    key: \"isEnded\",\n    get: function get() {\n      return this.mediaSource ? this.mediaSource.readyState === \"ended\" : false;\n    }\n  }, {\n    key: \"streaming\",\n    get: function get() {\n      return isMMS(this.mediaSource) ? this.mediaSource.streaming : true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull(type) {\n      return type ? this._mseFullFlag[type] : this._mseFullFlag[MSE2.VIDEO];\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this4 = this;\n      var isReduceDuration = this.mediaSource && this.mediaSource.duration > duration;\n      if (this.mediaSource && this.mediaSource.duration > duration) {\n        var bufferEnd = 0;\n        Object.keys(this._sourceBuffer).forEach(function(k) {\n          try {\n            bufferEnd = Math.max(_this4.bufferEnd(k) || 0, bufferEnd);\n          } catch (error) {\n          }\n        });\n        if (duration < bufferEnd) {\n          return Promise.resolve();\n        }\n      }\n      return this._enqueueBlockingOp(function() {\n        if (_this4.isEnded) {\n          _this4._logger.debug(\"setDuration but ended\");\n          return;\n        }\n        if (_this4.mediaSource) {\n          _this4.mediaSource.duration = duration;\n          _this4._logger.debug(\"setDuration\", duration);\n        }\n      }, OP_NAME.UPDATE_DURATION, {\n        isReduceDuration\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this5 = this;\n      if (this._openPromise.used && !this.isOpened && this.mediaSource) {\n        var ms = this.mediaSource;\n        var onOpen = function onOpen2() {\n          var costTime = nowTime() - _this5._st;\n          _this5._logger.debug(\"sourceopen\", costTime);\n          ms.removeEventListener(\"sourceopen\", onOpen2);\n          _this5._openPromise.resolve({\n            costtime: costTime\n          });\n        };\n        ms.addEventListener(\"sourceopen\", onOpen);\n        this._openPromise = createPublicPromise();\n      }\n      return this._openPromise;\n    }\n  }, {\n    key: \"bindMedia\",\n    value: function() {\n      var _bindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(media) {\n        var _this6 = this;\n        var MediaSource2, ms, useMMS, onOpen;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.mediaSource || this.media)) {\n                  _context.next = 3;\n                  break;\n                }\n                _context.next = 3;\n                return this.unbindMedia();\n              case 3:\n                MediaSource2 = getMediaSource(this._config.preferMMS);\n                if (!(!media || !MediaSource2)) {\n                  _context.next = 6;\n                  break;\n                }\n                throw new Error(\"Param media or MediaSource does not exist\");\n              case 6:\n                this.media = media;\n                ms = this.mediaSource = new MediaSource2();\n                useMMS = isMMS(ms);\n                this._st = nowTime();\n                onOpen = function onOpen2() {\n                  var costTime = nowTime() - _this6._st;\n                  _this6._logger.debug(\"sourceopen\");\n                  ms.removeEventListener(\"sourceopen\", onOpen2);\n                  URL.revokeObjectURL(media.src);\n                  _this6._openPromise.resolve({\n                    costtime: costTime\n                  });\n                };\n                ms.addEventListener(\"sourceopen\", onOpen);\n                if (useMMS) {\n                  ms.addEventListener(\"startstreaming\", this._onStartStreaming);\n                  ms.addEventListener(\"endstreaming\", this._onEndStreaming);\n                }\n                this._url = URL.createObjectURL(ms);\n                media.src = this._url;\n                media.disableRemotePlayback = useMMS;\n                return _context.abrupt(\"return\", this._openPromise);\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function bindMedia(_x) {\n        return _bindMedia.apply(this, arguments);\n      }\n      return bindMedia;\n    }()\n  }, {\n    key: \"unbindMedia\",\n    value: function() {\n      var _unbindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        var _this7 = this;\n        var ms, hasMetadata, mseOpen;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._openPromise.used)\n                  this._openPromise.resolve();\n                ms = this.mediaSource;\n                if (ms) {\n                  Object.keys(this._queue).forEach(function(t) {\n                    var queue = _this7._queue[t];\n                    if (queue) {\n                      queue.forEach(function(x) {\n                        var _x$promise, _x$promise$resolve;\n                        return (_x$promise = x.promise) === null || _x$promise === void 0 ? void 0 : (_x$promise$resolve = _x$promise.resolve) === null || _x$promise$resolve === void 0 ? void 0 : _x$promise$resolve.call(_x$promise);\n                      });\n                    }\n                  });\n                  hasMetadata = !!this.media && this.media.readyState >= 1;\n                  mseOpen = ms.readyState === \"open\";\n                  if (hasMetadata && mseOpen) {\n                    try {\n                      ms.endOfStream();\n                    } catch (error) {\n                    }\n                  }\n                  Object.keys(this._sourceBuffer).forEach(function(k) {\n                    try {\n                      ms.removeSourceBuffer(_this7._sourceBuffer[k]);\n                    } catch (error) {\n                    }\n                  });\n                  if (isMMS(ms)) {\n                    ms.removeEventListener(\"startstreaming\", this._onStartStreaming);\n                    ms.removeEventListener(\"endstreaming\", this._onEndStreaming);\n                  }\n                }\n                if (this.media) {\n                  this.media.disableRemotePlayback = false;\n                  this.media.removeAttribute(\"src\");\n                  try {\n                    this.media.load();\n                  } catch (error) {\n                  }\n                  this.media = null;\n                }\n                this.mediaSource = null;\n                this._openPromise = createPublicPromise();\n                this._queue = /* @__PURE__ */ Object.create(null);\n                this._sourceBuffer = /* @__PURE__ */ Object.create(null);\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function unbindMedia() {\n        return _unbindMedia.apply(this, arguments);\n      }\n      return unbindMedia;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(type, mimeType) {\n      if (this._sourceBuffer[type] || !this.mediaSource)\n        return;\n      var sb;\n      try {\n        sb = this._sourceBuffer[type] = this.mediaSource.addSourceBuffer(mimeType);\n      } catch (error) {\n        throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_ADD_SB, error);\n      }\n      sb.mimeType = mimeType;\n      sb.addEventListener(\"updateend\", this._onSBUpdateEnd.bind(this, type));\n      sb.addEventListener(\"error\", this._onSBUpdateError.bind(this, type));\n    }\n  }, {\n    key: \"changeType\",\n    value: function changeType(type, mimeType) {\n      var _this8 = this;\n      var sb = this._sourceBuffer[type];\n      if (!this.mediaSource || !sb || sb.mimeType === mimeType)\n        return Promise.resolve();\n      if (typeof sb.changeType !== \"function\") {\n        return Promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, new Error(\"changeType is not a function\")));\n      }\n      return this._enqueueOp(type, function() {\n        try {\n          sb.changeType(mimeType);\n        } catch (e) {\n          throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, e);\n        }\n        sb.mimeType = mimeType;\n        _this8._onSBUpdateEnd(type);\n      }, \"changeType\", {\n        mimeType\n      });\n    }\n  }, {\n    key: \"createOrChangeSource\",\n    value: function createOrChangeSource(type, mimeType) {\n      this.createSource(type, mimeType);\n      return this.changeType(type, mimeType);\n    }\n  }, {\n    key: \"append\",\n    value: function append(type, buffer, context) {\n      var _this9 = this;\n      if (!buffer || !buffer.byteLength) {\n        return Promise.resolve();\n      }\n      if (!this._sourceBuffer[type])\n        return Promise.resolve();\n      return this._enqueueOp(type, function() {\n        var _this9$_sourceBuffer$;\n        if (!_this9.mediaSource || _this9.media.error)\n          return;\n        _this9._logger.debug(\"MSE APPEND START\", context);\n        _this9._opst = nowTime();\n        (_this9$_sourceBuffer$ = _this9._sourceBuffer[type]) === null || _this9$_sourceBuffer$ === void 0 ? void 0 : _this9$_sourceBuffer$.appendBuffer(buffer);\n      }, OP_NAME.APPEND, context);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, startTime, endTime, context) {\n      var _this10 = this;\n      var isInsertHead = false;\n      if (this._mseFullFlag[type]) {\n        isInsertHead = true;\n      }\n      return this._enqueueOp(type, function() {\n        if (!_this10.mediaSource || _this10.media.error)\n          return;\n        var sb = _this10._sourceBuffer[type];\n        if (startTime >= endTime || !sb) {\n          _this10._onSBUpdateEnd(type);\n          return;\n        }\n        _this10._opst = nowTime();\n        _this10._logger.debug(\"MSE REMOVE START\", type, startTime, endTime, context);\n        sb.remove(startTime, endTime);\n      }, OP_NAME.REMOVE, context, isInsertHead);\n    }\n  }, {\n    key: \"clearBuffer\",\n    value: function clearBuffer(startTime, endTime) {\n      var _this11 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        p = _this11.remove(k, startTime, endTime);\n      });\n      return p || Promise.resolve();\n    }\n  }, {\n    key: \"clearAllBuffer\",\n    value: function clearAllBuffer() {\n      var _this12 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        var sb = _this12._sourceBuffer[k];\n        p = _this12.remove(k, 0, Buffer.end(Buffer.get(sb)));\n      });\n      return p;\n    }\n  }, {\n    key: \"clearOpQueues\",\n    value: function clearOpQueues(type, allClear) {\n      var _this$_queue$type;\n      this._logger.debug(\"MSE clearOpQueue START\");\n      var queue = this._queue[type];\n      if (allClear && queue) {\n        this._queue[type] = [];\n        return;\n      }\n      if (!queue || !queue[type] || queue.length < 5)\n        return;\n      var initQueue = [];\n      queue.forEach(function(op) {\n        if (op.context && op.context.isinit) {\n          initQueue.push(op);\n        }\n      });\n      this._queue[type] = queue.slice(0, 2);\n      initQueue.length > 0 && (_this$_queue$type = this._queue[type]).push.apply(_this$_queue$type, initQueue);\n    }\n  }, {\n    key: \"endOfStream\",\n    value: function endOfStream(reason) {\n      var _this13 = this;\n      if (!this.mediaSource || this.mediaSource.readyState !== \"open\")\n        return Promise.resolve();\n      return this._enqueueBlockingOp(function() {\n        var ms = _this13.mediaSource;\n        if (!ms || ms.readyState !== \"open\")\n          return;\n        _this13._logger.debug(\"MSE endOfStream START\");\n        if (reason) {\n          ms.endOfStream(reason);\n        } else {\n          ms.endOfStream();\n        }\n      }, \"endOfStream\");\n    }\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function setLiveSeekableRange(start, end) {\n      var ms = this.mediaSource;\n      if (start < 0 || end < start || !(ms !== null && ms !== void 0 && ms.setLiveSeekableRange) || ms.readyState !== \"open\")\n        return;\n      ms.setLiveSeekableRange(start, end);\n    }\n  }, {\n    key: \"getSourceBuffer\",\n    value: function getSourceBuffer(type) {\n      return this._sourceBuffer[type];\n    }\n  }, {\n    key: \"buffered\",\n    value: function buffered(type) {\n      return Buffer.get(this._sourceBuffer[type]);\n    }\n  }, {\n    key: \"bufferStart\",\n    value: function bufferStart(type) {\n      return Buffer.start(this.buffered(type));\n    }\n  }, {\n    key: \"bufferEnd\",\n    value: function bufferEnd(type) {\n      return Buffer.end(this.buffered(type));\n    }\n  }, {\n    key: \"_enqueueOp\",\n    value: function _enqueueOp(type, exec, opName, context, isInsertHead) {\n      var _this14 = this;\n      if (!this.mediaSource)\n        return Promise.resolve();\n      var queue = this._queue[type] = this._queue[type] || [];\n      var op = {\n        exec,\n        promise: createPublicPromise(),\n        opName,\n        context\n      };\n      if (isInsertHead) {\n        queue.splice(0, 0, op);\n        this._mseFullFlag[type] = false;\n        this._startQueue(type);\n      } else {\n        queue.push(op);\n      }\n      if (this.isOpened || this.isEnded) {\n        if (queue.length === 1) {\n          this._startQueue(type);\n        }\n      } else {\n        this._openPromise.then(function() {\n          if (queue.length === 1) {\n            _this14._startQueue(type);\n          }\n        });\n      }\n      return op.promise;\n    }\n  }, {\n    key: \"_enqueueBlockingOp\",\n    value: function() {\n      var _enqueueBlockingOp2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(exec, opName, context) {\n        var _this15 = this;\n        var types, waiters;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.mediaSource) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\", Promise.resolve());\n              case 2:\n                types = Object.keys(this._sourceBuffer);\n                if (types.length) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\", exec());\n              case 5:\n                waiters = [];\n                types.forEach(function(t) {\n                  var queue = _this15._queue[t];\n                  var prom = createPublicPromise();\n                  waiters.push(prom);\n                  queue.push({\n                    exec: function exec2() {\n                      prom.resolve();\n                    },\n                    promise: prom,\n                    opName,\n                    context\n                  });\n                  if (queue.length === 1) {\n                    _this15._startQueue(t);\n                  }\n                });\n                return _context3.abrupt(\"return\", Promise.all(waiters).then(function() {\n                  try {\n                    return exec();\n                  } finally {\n                    types.forEach(function(t) {\n                      var queue = _this15._queue[t];\n                      var sb = _this15._sourceBuffer[t];\n                      queue === null || queue === void 0 ? void 0 : queue.shift();\n                      if (!sb || !sb.updating) {\n                        _this15._startQueue(t);\n                      }\n                    });\n                  }\n                }));\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _enqueueBlockingOp(_x2, _x3, _x4) {\n        return _enqueueBlockingOp2.apply(this, arguments);\n      }\n      return _enqueueBlockingOp;\n    }()\n  }, {\n    key: \"_startQueue\",\n    value: function _startQueue(type) {\n      var queue = this._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op && !this._mseFullFlag[type]) {\n          try {\n            op.exec();\n          } catch (error) {\n            if (error && error.message && error.message.indexOf(\"SourceBuffer is full\") >= 0) {\n              this._mseFullFlag[type] = true;\n              if (op.context && _typeof(op.context) === \"object\") {\n                op.context.isFull = true;\n              }\n              this._logger.error(\"[MSE error],  context,\", op.context, \" ,name,\", op.opName, \",err,SourceBuffer is full\");\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_FULL, error));\n            } else {\n              this._logger.error(error);\n              op.promise.reject(error.constructor === StreamingError ? error : new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_OTHER, error));\n              queue.shift();\n              this._startQueue(type);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setTimeoffset\",\n    value: function setTimeoffset(type, timestampOffset, context) {\n      var _this16 = this;\n      return this._enqueueOp(type, function() {\n        if (timestampOffset < 0) {\n          timestampOffset += 1e-3;\n        }\n        _this16._sourceBuffer[type].timestampOffset = timestampOffset;\n        _this16._onSBUpdateEnd(type);\n      }, \"setTimeoffset\", context);\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(type, context) {\n      var _this17 = this;\n      if (!this.isOpened) {\n        return Promise.resolve();\n      }\n      return this._enqueueOp(type, function() {\n        _this17._sourceBuffer[type].abort();\n        _this17._onSBUpdateEnd(type);\n      }, \"abort\", context);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n      var MediaSource2 = getMediaSource();\n      if (!MediaSource2)\n        return false;\n      try {\n        return MediaSource2.isTypeSupported(mime);\n      } catch (error) {\n        this._logger.error(mime, error);\n        return false;\n      }\n    }\n  }, {\n    key: \"isMMSOnly\",\n    value: function isMMSOnly() {\n      return typeof ManagedMediaSource !== \"undefined\" && typeof MediaSource === \"undefined\";\n    }\n  }, {\n    key: \"getDefaultConfig\",\n    value: function getDefaultConfig() {\n      return {\n        openLog: false,\n        preferMMS: false\n      };\n    }\n  }]);\n  return MSE2;\n}();\n_defineProperty(MSE, \"VIDEO\", \"video\");\n_defineProperty(MSE, \"AUDIO\", \"audio\");\nexport { MSE, MSEError, MSEErrorType };\n","var EVENT = {\n  ERROR: \"error\",\n  TTFB: \"core.ttfb\",\n  LOAD_START: \"core.loadstart\",\n  LOAD_RESPONSE_HEADERS: \"core.loadresponseheaders\",\n  LOAD_COMPLETE: \"core.loadcomplete\",\n  LOAD_RETRY: \"core.loadretry\",\n  SOURCEBUFFER_CREATED: \"core.sourcebuffercreated\",\n  MEDIASOURCE_OPENED: \"core.mediasourceopened\",\n  ANALYZE_DURATION_EXCEEDED: \"core.analyzedurationexceeded\",\n  APPEND_BUFFER: \"core.appendbuffer\",\n  REMOVE_BUFFER: \"core.removebuffer\",\n  BUFFEREOS: \"core.buffereos\",\n  KEYFRAME: \"core.keyframe\",\n  CHASEFRAME: \"core.chaseframe\",\n  METADATA_PARSED: \"core.metadataparsed\",\n  SEI: \"core.sei\",\n  SEI_IN_TIME: \"core.seiintime\",\n  FLV_SCRIPT_DATA: \"core.flvscriptdata\",\n  LOWDECODE: \"core.lowdecode\",\n  SWITCH_URL_SUCCESS: \"core.switchurlsuccess\",\n  SWITCH_URL_FAILED: \"core.switchurlfailed\",\n  SPEED: \"core.speed\",\n  HLS_MANIFEST_LOADED: \"core.hlsmanifestloaded\",\n  HLS_LEVEL_LOADED: \"core.hlslevelloaded\",\n  DEMUXED_TRACK: \"core.demuxedtrack\",\n  STREAM_EXCEPTION: \"core.streamexception\",\n  LARGE_AV_FIRST_FRAME_GAP_DETECT: \"LARGE_AV_FIRST_FRAME_GAP_DETECT\",\n  LARGE_VIDEO_DTS_GAP_DETECT: \"LARGE_VIDEO_DTS_GAP_DETECT\",\n  LARGE_AUDIO_DTS_GAP_DETECT: \"LARGE_AUDIO_DTS_GAP_DETECT\",\n  AUDIO_GAP_DETECT: \"AUDIO_GAP_DETECT\",\n  AUDIO_OVERLAP_DETECT: \"AUDIO_OVERLAP_DETECT\",\n  MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT: \"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT\",\n  REAL_TIME_SPEED: \"real_time_speed\"\n};\nexport { EVENT };\n","function isMediaPlaying(media) {\n  return media && !media.paused && !media.ended && media.playbackRate !== 0 && media.readyState !== 0;\n}\nfunction getVideoPlaybackQuality(video) {\n  if (!video)\n    return {};\n  if (typeof video.getVideoPlaybackQuality === \"function\") {\n    var info = video.getVideoPlaybackQuality();\n    return {\n      droppedVideoFrames: info.droppedVideoFrames || info.corruptedVideoFrames,\n      totalVideoFrames: info.totalVideoFrames,\n      creationTime: info.creationTime\n    };\n  }\n  return {\n    droppedVideoFrames: video.webkitDroppedFrameCount,\n    totalVideoFrames: video.webkitDecodedFrameCount,\n    creationTime: performance.now()\n  };\n}\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  if (arr.length < 2)\n    return arr[0];\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nfunction sleep() {\n  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  return new Promise(function(resolve) {\n    return setTimeout(resolve, t);\n  });\n}\nexport { concatUint8Array, getVideoPlaybackQuality, isMediaPlaying, sleep };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"../event.js\";\nvar SeiService = /* @__PURE__ */ function() {\n  function SeiService2(emitter) {\n    var _this = this;\n    _classCallCheck(this, SeiService2);\n    _defineProperty(this, \"_seiSet\", /* @__PURE__ */ new Set());\n    this.emitter = emitter;\n    emitter.on(EVENT.SEI, function(sei) {\n      if (sei)\n        _this._seiSet.add(sei);\n    });\n  }\n  _createClass(SeiService2, [{\n    key: \"throw\",\n    value: function _throw(currentTime, isLive) {\n      var _this2 = this;\n      if (currentTime === null || currentTime === void 0 || !this._seiSet.size)\n        return;\n      var min = currentTime - 0.2;\n      var max = currentTime + 0.2;\n      var toThrow = [];\n      this._seiSet.forEach(function(sei) {\n        if (sei.time >= min && sei.time <= max) {\n          toThrow.push(sei);\n        }\n      });\n      toThrow.forEach(function(sei) {\n        _this2._seiSet.delete(sei);\n        _this2.emitter.emit(EVENT.SEI_IN_TIME, sei);\n      });\n      if (!isLive)\n        return;\n      this._seiSet.forEach(function(s) {\n        if (s.time < currentTime - 5) {\n          _this2._seiSet.delete(s);\n        }\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._seiSet.clear();\n    }\n  }]);\n  return SeiService2;\n}();\nexport { SeiService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"../buffer.js\";\nvar GapService = /* @__PURE__ */ function() {\n  function GapService2() {\n    _classCallCheck(this, GapService2);\n    _defineProperty(this, \"_prevCurrentTime\", 0);\n  }\n  _createClass(GapService2, [{\n    key: \"do\",\n    value: function _do(media) {\n      var maxJumpDistance = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n      var isLive = arguments.length > 2 ? arguments[2] : void 0;\n      var seekThreshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;\n      if (!media)\n        return;\n      var currentTime = media.currentTime;\n      var jumpTo = 0;\n      if (this._prevCurrentTime === currentTime) {\n        var info = Buffer.info(Buffer.get(media), currentTime);\n        if (!info.buffers.length)\n          return;\n        if (isLive && info.nextStart || info.nextStart && info.nextStart - currentTime < maxJumpDistance) {\n          jumpTo = info.nextStart + 0.1;\n        } else if (info.end && info.end - currentTime > seekThreshold && !media.seeking) {\n          jumpTo = currentTime + 0.1;\n        }\n      }\n      this._prevCurrentTime = currentTime;\n      if (jumpTo && currentTime !== jumpTo) {\n        media.currentTime = jumpTo;\n      }\n    }\n  }]);\n  return GapService2;\n}();\nexport { GapService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../mse.js\";\nimport { EVENT } from \"../event.js\";\nimport \"eventemitter3\";\nimport \"../logger.js\";\nimport \"../error.js\";\nvar Stats = /* @__PURE__ */ function() {\n  function Stats2(timescale) {\n    _classCallCheck(this, Stats2);\n    _defineProperty(this, \"encodeType\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"domain\", \"\");\n    _defineProperty(this, \"fps\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"samplerate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"gop\", 0);\n    _defineProperty(this, \"_bitsAccumulateSize\", 0);\n    _defineProperty(this, \"_bitsAccumulateDuration\", 0);\n    _defineProperty(this, \"_startGopId\", -1);\n    this._timescale = timescale;\n  }\n  _createClass(Stats2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return {\n        encodeType: this.encodeType,\n        audioCodec: this.audioCodec,\n        videoCodec: this.videoCodec,\n        domain: this.domain,\n        fps: this.fps,\n        bitrate: this.bitrate,\n        width: this.width,\n        height: this.height,\n        samplerate: this.samplerate,\n        channelCount: this.channelCount,\n        gop: this.gop\n      };\n    }\n  }, {\n    key: \"setEncodeType\",\n    value: function setEncodeType(encode) {\n      this.encodeType = encode;\n    }\n  }, {\n    key: \"setFpsFromScriptData\",\n    value: function setFpsFromScriptData(_ref) {\n      var _data$onMetaData;\n      var data = _ref.data;\n      var fps = data === null || data === void 0 ? void 0 : (_data$onMetaData = data.onMetaData) === null || _data$onMetaData === void 0 ? void 0 : _data$onMetaData.framerate;\n      if (fps && fps > 0 && fps < 100) {\n        this.fps = fps;\n      }\n    }\n  }, {\n    key: \"setVideoMeta\",\n    value: function setVideoMeta(track) {\n      this.width = track.width;\n      this.height = track.height;\n      this.videoCodec = track.codec;\n      this.encodeType = track.codecType;\n      if (track.fpsNum && track.fpsDen) {\n        var fps = track.fpsNum / track.fpsDen;\n        if (fps > 0 && fps < 100) {\n          this.fps = fps;\n        }\n      }\n    }\n  }, {\n    key: \"setAudioMeta\",\n    value: function setAudioMeta(track) {\n      this.audioCodec = track.codec;\n      this.samplerate = track.sampleRate;\n      this.channelCount = track.channelCount;\n    }\n  }, {\n    key: \"setDomain\",\n    value: function setDomain(responseUrl) {\n      this.domain = responseUrl.split(\"/\").slice(2, 3)[0];\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(samples) {\n      var _this = this;\n      if (!this.fps || this.fps >= 100) {\n        if (samples.length) {\n          var duration = samples.reduce(function(a, b) {\n            return a += b.duration;\n          }, 0) / samples.length;\n          this.fps = Math.round(this._timescale / duration);\n        }\n      }\n      samples.forEach(function(sample) {\n        if (_this._startGopId === -1) {\n          _this._startGopId = sample.gopId;\n        }\n        if (sample.gopId === _this._startGopId) {\n          _this.gop++;\n        }\n        _this._bitsAccumulateDuration += sample.duration / (_this._timescale / 1e3);\n        _this._bitsAccumulateSize += sample.units.reduce(function(a, c) {\n          return a += c.length;\n        }, 0);\n        if (_this._bitsAccumulateDuration >= 1e3) {\n          _this.bitrate = _this._bitsAccumulateSize * 8;\n          _this._bitsAccumulateDuration = 0;\n          _this._bitsAccumulateSize = 0;\n        }\n      });\n    }\n  }]);\n  return Stats2;\n}();\nvar MediaStatsService = /* @__PURE__ */ function() {\n  function MediaStatsService2(core) {\n    var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;\n    _classCallCheck(this, MediaStatsService2);\n    _defineProperty(this, \"_core\", null);\n    _defineProperty(this, \"_samples\", []);\n    this._core = core;\n    this._timescale = timescale;\n    this._stats = new Stats(timescale);\n    this._bindEvents();\n  }\n  _createClass(MediaStatsService2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      var _this$_core, _this$_core2, _this$_core2$speedInf, _this$_core3, _this$_core3$speedInf, _this$_core4, _this$_core4$speedInf, _this$_core5, _this$_core5$speedInf, _this$_core6, _this$_core6$bufferIn;\n      var _ref2 = ((_this$_core = this._core) === null || _this$_core === void 0 ? void 0 : _this$_core.media) || {}, _ref2$currentTime = _ref2.currentTime, currentTime = _ref2$currentTime === void 0 ? 0 : _ref2$currentTime, _ref2$decodeFps = _ref2.decodeFps, decodeFps = _ref2$decodeFps === void 0 ? 0 : _ref2$decodeFps;\n      return _objectSpread2(_objectSpread2({}, this._stats.getStats()), {}, {\n        downloadSpeed: ((_this$_core2 = this._core) === null || _this$_core2 === void 0 ? void 0 : (_this$_core2$speedInf = _this$_core2.speedInfo) === null || _this$_core2$speedInf === void 0 ? void 0 : _this$_core2$speedInf.call(_this$_core2).speed) || 0,\n        avgSpeed: ((_this$_core3 = this._core) === null || _this$_core3 === void 0 ? void 0 : (_this$_core3$speedInf = _this$_core3.speedInfo) === null || _this$_core3$speedInf === void 0 ? void 0 : _this$_core3$speedInf.call(_this$_core3).avgSpeed) || 0,\n        totalReceivedByte: ((_this$_core4 = this._core) === null || _this$_core4 === void 0 ? void 0 : (_this$_core4$speedInf = _this$_core4.speedInfo) === null || _this$_core4$speedInf === void 0 ? void 0 : _this$_core4$speedInf.call(_this$_core4).totalSize) || 0,\n        totalReceivedCost: ((_this$_core5 = this._core) === null || _this$_core5 === void 0 ? void 0 : (_this$_core5$speedInf = _this$_core5.speedInfo) === null || _this$_core5$speedInf === void 0 ? void 0 : _this$_core5$speedInf.call(_this$_core5).totalCost) || 0,\n        currentTime,\n        bufferEnd: ((_this$_core6 = this._core) === null || _this$_core6 === void 0 ? void 0 : (_this$_core6$bufferIn = _this$_core6.bufferInfo()) === null || _this$_core6$bufferIn === void 0 ? void 0 : _this$_core6$bufferIn.remaining) || 0,\n        decodeFps\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n      this._core.on(EVENT.DEMUXED_TRACK, function(_ref3) {\n        var videoTrack = _ref3.videoTrack;\n        return _this2._stats.updateBitrate(videoTrack.samples);\n      });\n      this._core.on(EVENT.FLV_SCRIPT_DATA, function(data) {\n        _this2._stats.setFpsFromScriptData(data);\n      });\n      this._core.on(EVENT.METADATA_PARSED, function(e) {\n        if (e.type === \"video\") {\n          _this2._stats.setVideoMeta(e.track);\n        } else {\n          _this2._stats.setAudioMeta(e.track);\n        }\n      });\n      this._core.on(EVENT.TTFB, function(e) {\n        _this2._stats.setDomain(e.responseUrl);\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._samples = [];\n      this._stats = new Stats(this._timescale);\n    }\n  }]);\n  return MediaStatsService2;\n}();\nexport { MediaStatsService };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _unsupportedIterableToArray as unsupportedIterableToArray };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n  }\n  _createClass(Logger2, [{\n    key: \"warn\",\n    value: function warn() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).warn.apply(_console, [this._prefix].concat(args));\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","var TrackType = {\n  VIDEO: \"video\",\n  AUDIO: \"audio\",\n  METADATA: \"metadata\"\n};\nvar VideoCodecType = {\n  AV1: \"av1\",\n  AVC: \"avc\",\n  HEVC: \"hevc\"\n};\nvar AudioCodecType = {\n  AAC: \"aac\",\n  G711PCMA: \"g7110a\",\n  G711PCMU: \"g7110m\",\n  OPUS: \"opus\"\n};\nvar WarningType = {\n  LARGE_AV_SHIFT: \"LARGE_AV_SHIFT\",\n  LARGE_VIDEO_GAP: \"LARGE_VIDEO_GAP\",\n  LARGE_VIDEO_GAP_BETWEEN_CHUNK: \"LARGE_VIDEO_GAP_BETWEEN_CHUNK\",\n  LARGE_AUDIO_GAP: \"LARGE_AUDIO_GAP\",\n  AUDIO_FILLED: \"AUDIO_FILLED\",\n  AUDIO_DROPPED: \"AUDIO_DROPPED\"\n};\nexport { AudioCodecType, TrackType, VideoCodecType, WarningType };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar AudioSample = /* @__PURE__ */ _createClass(\n  function AudioSample2(pts, data, duration, sampleOffset) {\n    _classCallCheck(this, AudioSample2);\n    _defineProperty(this, \"duration\", 1024);\n    _defineProperty(this, \"flag\", {\n      dependsOn: 2,\n      isNonSyncSample: 0\n    });\n    _defineProperty(this, \"keyframe\", true);\n    this.originPts = this.pts = this.dts = pts;\n    this.data = data;\n    this.size = data.byteLength;\n    this.sampleOffset = sampleOffset;\n    if (duration)\n      this.duration = duration;\n  }\n);\nexport { AudioSample };\n","var isBrowser = typeof window !== \"undefined\";\nvar ua = isBrowser && navigator.userAgent.toLocaleLowerCase();\nvar isSafari = isBrowser && /^((?!chrome|android).)*safari/.test(ua);\nvar isFirefox = isBrowser && ua.includes(\"firefox\");\nvar isAndroid = isBrowser && ua.includes(\"android\");\nexport { isAndroid, isBrowser, isFirefox, isSafari };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../utils/logger.js\";\nimport { isFirefox, isAndroid } from \"../utils/env.js\";\nvar AAC = /* @__PURE__ */ function() {\n  function AAC2() {\n    _classCallCheck(this, AAC2);\n  }\n  _createClass(AAC2, null, [{\n    key: \"getRateIndexByRate\",\n    value: function getRateIndexByRate(rate) {\n      return AAC2.FREQ.indexOf(rate);\n    }\n  }, {\n    key: \"parseADTS\",\n    value: function parseADTS(data, pts) {\n      var len = data.length;\n      var i = 0;\n      while (i + 2 < len) {\n        if (data[i] === 255 && (data[i + 1] & 246) === 240) {\n          break;\n        }\n        i++;\n      }\n      if (i >= len)\n        return;\n      var skip = i;\n      var frames = [];\n      var samplingFrequencyIndex = (data[i + 2] & 60) >>> 2;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        throw new Error(\"Invalid sampling index: \".concat(samplingFrequencyIndex));\n      var objectType = ((data[i + 2] & 192) >>> 6) + 1;\n      var channelCount = (data[i + 2] & 1) << 2 | (data[i + 3] & 192) >>> 6;\n      var _AAC$_getConfig = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig.config, codec = _AAC$_getConfig.codec;\n      var protectionSkipBytes;\n      var frameLength;\n      var frameIndex = 0;\n      var duration = AAC2.getFrameDuration(sampleRate);\n      while (i + 7 < len) {\n        if (data[i] !== 255 || (data[i + 1] & 246) !== 240) {\n          i++;\n          continue;\n        }\n        frameLength = (data[i + 3] & 3) << 11 | data[i + 4] << 3 | (data[i + 5] & 224) >> 5;\n        if (!frameLength || len - i < frameLength)\n          break;\n        protectionSkipBytes = (~data[i + 1] & 1) * 2;\n        frames.push({\n          pts: pts + frameIndex * duration,\n          data: data.subarray(i + 7 + protectionSkipBytes, i + frameLength)\n        });\n        frameIndex++;\n        i += frameLength;\n      }\n      return {\n        skip,\n        remaining: i >= len ? void 0 : data.subarray(i),\n        frames,\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        codec,\n        config,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"parseAudioSpecificConfig\",\n    value: function parseAudioSpecificConfig(data) {\n      if (!data.length)\n        return;\n      var objectType = data[0] >>> 3;\n      var samplingFrequencyIndex = (data[0] & 7) << 1 | data[1] >>> 7;\n      var channelCount = (data[1] & 120) >>> 3;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        return;\n      var _AAC$_getConfig2 = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig2.config, codec = _AAC$_getConfig2.codec;\n      return {\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        config,\n        codec,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getFrameDuration\",\n    value: function getFrameDuration(rate) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      return 1024 * timescale / rate;\n    }\n  }, {\n    key: \"_getConfig\",\n    value: function _getConfig(samplingIndex, channelCount, originObjectType) {\n      var config = [];\n      var objectType;\n      var extensionSamplingIndex;\n      if (isFirefox) {\n        if (samplingIndex >= 6) {\n          objectType = 5;\n          extensionSamplingIndex = samplingIndex - 3;\n        } else {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      } else if (isAndroid) {\n        objectType = 2;\n        extensionSamplingIndex = samplingIndex;\n      } else {\n        objectType = originObjectType === 2 || originObjectType === 5 ? originObjectType : 5;\n        extensionSamplingIndex = samplingIndex;\n        if (samplingIndex >= 6) {\n          extensionSamplingIndex = samplingIndex - 3;\n        } else if (channelCount === 1) {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      }\n      config[0] = objectType << 3;\n      config[0] |= (samplingIndex & 14) >> 1;\n      config[1] = (samplingIndex & 1) << 7;\n      config[1] |= channelCount << 3;\n      if (objectType === 5) {\n        config[1] |= (extensionSamplingIndex & 14) >> 1;\n        config[2] = (extensionSamplingIndex & 1) << 7;\n        config[2] |= 2 << 2;\n        config[3] = 0;\n      }\n      return {\n        config,\n        codec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getSilentFrame\",\n    value: function getSilentFrame(codec, channelCount) {\n      switch (codec) {\n        case \"mp4a.40.2\":\n          if (channelCount === 1) {\n            return new Uint8Array([0, 200, 0, 128, 35, 128]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);\n          }\n          if (channelCount === 4) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);\n          }\n          if (channelCount === 5) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);\n          }\n          if (channelCount === 6) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);\n          }\n          break;\n        default:\n          if (channelCount === 1) {\n            return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          break;\n      }\n    }\n  }]);\n  return AAC2;\n}();\n_defineProperty(AAC, \"FREQ\", [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]);\nexport { AAC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType } from \"../model/types.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport \"../utils/logger.js\";\nimport { isSafari } from \"../utils/env.js\";\nvar LARGE_AV_FIRST_FRAME_GAP = 9e4 / 2;\nvar AUDIO_GAP_OVERLAP_THRESHOLD_COUNT = 3;\nvar MAX_SILENT_FRAME_DURATION = 9e4;\nvar AUDIO_EXCETION_LOG_EMIT_DURATION = 5 * 9e4;\nvar MAX_VIDEO_FRAME_DURATION = 9e4;\nvar MAX_DTS_DELTA_WITH_NEXT_CHUNK = 9e4 / 2;\nvar LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD = 9e4 * 5;\nvar TsFixer = /* @__PURE__ */ function() {\n  function TsFixer2(videoTrack, audioTrack, metadataTrack, fixerConfig) {\n    _classCallCheck(this, TsFixer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    this.metadataTrack = metadataTrack;\n    this._baseDts = -1;\n    this._baseVideoDts = -1;\n    this._baseAudioDts = -1;\n    this._baseDtsInited = false;\n    this._audioNextPts = void 0;\n    this._videoNextDts = void 0;\n    this._audioTimestampBreak = false;\n    this._videoTimestampBreak = false;\n    this._lastAudioExceptionGapDot = 0;\n    this._lastAudioExceptionOverlapDot = 0;\n    this._lastAudioExceptionLargeGapDot = 0;\n    this._needForceFixLargeGap = fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.forceFixLargeGap;\n    this._largeGapThreshold = (fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.largeGapThreshold) || LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD;\n  }\n  _createClass(TsFixer2, [{\n    key: \"fix\",\n    value: function fix() {\n      var _this = this;\n      var startTime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      startTime = Math.round(startTime * 9e4);\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var vSamples = videoTrack.samples;\n      var aSamples = audioTrack.samples;\n      if (!vSamples.length && !aSamples.length)\n        return;\n      var firstVideoSample = vSamples[0];\n      var firstAudioSample = aSamples[0];\n      var vaDelta = 0;\n      if (vSamples.length && aSamples.length) {\n        vaDelta = firstVideoSample.dts - firstAudioSample.pts;\n      }\n      if (!this._baseDtsInited) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n      }\n      if (discontinuity) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        this._baseDts -= startTime;\n        this._baseAudioDts -= startTime;\n        this._baseVideoDts -= startTime;\n      }\n      if (!contiguous) {\n        this._videoNextDts = vaDelta > 0 ? startTime + vaDelta : startTime;\n        this._audioNextPts = vaDelta > 0 ? startTime : startTime - vaDelta;\n        if (this._needForceFixLargeGap) {\n          this._videoNextDts = 0;\n          this._audioNextPts = 0;\n        }\n        var vDeltaToNextDts = firstVideoSample ? firstVideoSample.dts - this._baseDts - this._videoNextDts : 0;\n        var aDeltaToNextDts = firstAudioSample ? firstAudioSample.pts - this._baseDts - this._audioNextPts : 0;\n        if (Math.abs(vDeltaToNextDts || aDeltaToNextDts) > MAX_VIDEO_FRAME_DURATION) {\n          this._calculateBaseDts(this.audioTrack, this.videoTrack);\n          this._baseDts -= startTime;\n        }\n      }\n      this._resetBaseDtsWhenStreamBreaked();\n      this._fixAudio(audioTrack);\n      this._fixVideo(videoTrack);\n      if (this.metadataTrack.exist()) {\n        var timescale = this.metadataTrack.timescale;\n        this.metadataTrack.seiSamples.forEach(function(s) {\n          s.pts = s.originPts - _this._baseDts;\n          s.time = Math.max(0, s.pts) / timescale;\n        });\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].dts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts * audioTrack.timescale / 9e4;\n      }\n    }\n  }, {\n    key: \"_fixVideo\",\n    value: function _fixVideo(videoTrack) {\n      var _this2 = this;\n      var samples = videoTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.dts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n        x.pts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n      });\n      if (this._videoNextDts === void 0) {\n        var samp0 = samples[0];\n        this._videoNextDts = samp0.dts;\n      }\n      var len = samples.length;\n      var sampleDuration = 0;\n      var firstSample = samples[0];\n      var nextSample = samples[1];\n      var vDelta = this._videoNextDts - firstSample.dts;\n      if (Math.abs(vDelta) > MAX_DTS_DELTA_WITH_NEXT_CHUNK) {\n        var _samples$;\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK,\n          nextDts: this._videoNextDts / 90,\n          firstSampleDts: firstSample.dts / 90,\n          nextSampleDts: (((_samples$ = samples[1]) === null || _samples$ === void 0 ? void 0 : _samples$.dts) || 0) / 90,\n          sampleDuration: vDelta / 90\n        });\n        firstSample.dts += vDelta;\n        firstSample.pts += vDelta;\n        if (nextSample && Math.abs(nextSample.dts - firstSample.dts) > MAX_VIDEO_FRAME_DURATION) {\n          this._videoTimestampBreak = true;\n          samples.forEach(function(x, i2) {\n            if (i2 === 0)\n              return;\n            x.dts += vDelta;\n            x.pts += vDelta;\n          });\n        } else {\n          for (var i = 1; i < len - 1; i++) {\n            var _samples$i;\n            var dts = (_samples$i = samples[i]) === null || _samples$i === void 0 ? void 0 : _samples$i.dts;\n            var prevDts = samples[i - 1].dts;\n            if (dts && dts - prevDts < 0) {\n              samples[i].dts += vDelta;\n              samples[i].pts += vDelta;\n            }\n          }\n        }\n      }\n      var refSampleDurationInt;\n      if (videoTrack.fpsNum && videoTrack.fpsDen) {\n        refSampleDurationInt = videoTrack.timescale * (videoTrack.fpsDen / videoTrack.fpsNum);\n      }\n      if (refSampleDurationInt < 90 * 10) {\n        refSampleDurationInt = 0;\n      }\n      if (!refSampleDurationInt) {\n        var first = videoTrack.samples[0];\n        var second = videoTrack.samples[1];\n        refSampleDurationInt = len === 1 ? 9e3 : Math.floor(second.dts - first.dts);\n      }\n      for (var _i = 0; _i < len; _i++) {\n        var _dts = samples[_i].dts;\n        var _nextSample = samples[_i + 1];\n        if (_i < len - 1) {\n          sampleDuration = _nextSample.dts - _dts;\n        } else if (samples[_i - 1]) {\n          sampleDuration = Math.min(_dts - samples[_i - 1].dts, refSampleDurationInt);\n        } else {\n          sampleDuration = refSampleDurationInt;\n        }\n        if (sampleDuration > MAX_VIDEO_FRAME_DURATION || sampleDuration < 0) {\n          this._videoTimestampBreak = true;\n          sampleDuration = this._audioTimestampBreak ? refSampleDurationInt : Math.max(sampleDuration, 30 * 90);\n          var expectFragEnd = this._audioNextPts || 0;\n          if (_nextSample && _nextSample.dts > expectFragEnd) {\n            sampleDuration = refSampleDurationInt;\n          }\n          videoTrack.warnings.push({\n            type: WarningType.LARGE_VIDEO_GAP,\n            time: _dts / videoTrack.timescale,\n            dts: _dts,\n            originDts: samples[_i].originDts,\n            nextDts: this._videoNextDts,\n            sampleDuration,\n            refSampleDuration: refSampleDurationInt\n          });\n        }\n        samples[_i].duration = sampleDuration;\n        this._videoNextDts += sampleDuration;\n      }\n    }\n  }, {\n    key: \"_fixAudio\",\n    value: function _fixAudio(audioTrack) {\n      var _this3 = this;\n      var samples = audioTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.pts -= _this3._needForceFixLargeGap ? _this3._baseAudioDts : _this3._baseDts;\n        x.dts = x.pts;\n      });\n      this._doFixAudioInternal(audioTrack, samples, 9e4);\n    }\n  }, {\n    key: \"_calculateBaseDts\",\n    value: function _calculateBaseDts(audioTrack, videoTrack) {\n      var audioSamps = audioTrack.samples;\n      var videoSamps = videoTrack.samples;\n      if (!audioSamps.length && !videoSamps.length) {\n        return false;\n      }\n      var audioBasePts = Infinity;\n      var videoBaseDts = Infinity;\n      if (audioSamps.length) {\n        audioTrack.baseDts = audioBasePts = audioSamps[0].pts;\n        this._baseAudioDts = audioBasePts;\n      }\n      if (videoSamps.length) {\n        videoTrack.baseDts = videoBaseDts = videoSamps[0].dts;\n        this._baseVideoDts = videoBaseDts;\n      }\n      this._baseDts = Math.min(audioBasePts, videoBaseDts);\n      var delta = videoBaseDts - audioBasePts;\n      var largeGap = false;\n      if (Number.isFinite(delta) && Math.abs(delta) > LARGE_AV_FIRST_FRAME_GAP) {\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_AV_SHIFT,\n          videoBaseDts,\n          audioBasePts,\n          baseDts: this._baseDts,\n          delta\n        });\n      }\n      if (Number.isFinite(delta) && Math.abs(delta) > this._largeGapThreshold * MAX_SILENT_FRAME_DURATION) {\n        largeGap = true;\n      }\n      if (!this._baseDtsInited) {\n        if (largeGap && this._needForceFixLargeGap) {\n          this._needForceFixLargeGap = true;\n        } else {\n          this._needForceFixLargeGap = false;\n        }\n      }\n      this._baseDtsInited = true;\n      return true;\n    }\n  }, {\n    key: \"_resetBaseDtsWhenStreamBreaked\",\n    value: function _resetBaseDtsWhenStreamBreaked() {\n      if (this._baseDtsInited && this._videoTimestampBreak && this._audioTimestampBreak) {\n        var calc = this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        if (!calc)\n          return;\n        this._baseDts -= Math.min(this._audioNextPts, this._videoNextDts);\n        this._audioLastSample = null;\n        this._videoLastSample = null;\n        this._videoTimestampBreak = false;\n        this._audioTimestampBreak = false;\n      }\n    }\n  }, {\n    key: \"_doFixAudioInternal\",\n    value: function _doFixAudioInternal(audioTrack, samples, timescale) {\n      if (!audioTrack.sampleDuration)\n        audioTrack.sampleDuration = AAC.getFrameDuration(audioTrack.timescale, timescale);\n      var refSampleDuration = audioTrack.sampleDuration;\n      if (this._audioNextPts === void 0) {\n        var samp0 = samples[0];\n        this._audioNextPts = samp0.pts;\n      }\n      for (var i = 0; i < samples.length; i++) {\n        var nextPts = this._audioNextPts;\n        var sample = samples[i];\n        var delta = sample.pts - nextPts;\n        if (!this._audioTimestampBreak && delta >= AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta <= MAX_SILENT_FRAME_DURATION && !isSafari) {\n          var silentFrame = AAC.getSilentFrame(audioTrack.codec, audioTrack.channelCount) || samples[0].data.subarray();\n          var count = Math.floor(delta / refSampleDuration);\n          if (Math.abs(sample.pts - this._lastAudioExceptionGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionGapDot = sample.pts;\n          }\n          audioTrack.warnings.push({\n            type: WarningType.AUDIO_FILLED,\n            pts: sample.pts / 90,\n            originPts: sample.originPts,\n            count,\n            nextPts: nextPts / 90,\n            refSampleDuration\n          });\n          for (var j = 0; j < count; j++) {\n            var silentSample = new AudioSample(Math.floor(nextPts), silentFrame);\n            silentSample.originPts = Math.floor(this._baseDts + nextPts);\n            samples.splice(i, 0, silentSample);\n            this._audioNextPts += refSampleDuration;\n            i++;\n          }\n          i--;\n        } else if (delta <= -AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta >= -1 * MAX_SILENT_FRAME_DURATION) {\n          if (Math.abs(sample.pts - this._lastAudioExceptionOverlapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionOverlapDot = sample.pts;\n            audioTrack.warnings.push({\n              type: WarningType.AUDIO_DROPPED,\n              pts: sample.pts / 90,\n              originPts: sample.originPts,\n              nextPts: nextPts / 90,\n              refSampleDuration\n            });\n          }\n          samples.splice(i, 1);\n          i--;\n        } else {\n          if (Math.abs(delta) >= MAX_SILENT_FRAME_DURATION) {\n            this._audioTimestampBreak = true;\n            if (Math.abs(sample.pts - this._lastAudioExceptionLargeGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n              this._lastAudioExceptionLargeGapDot = sample.pts;\n              audioTrack.warnings.push({\n                type: WarningType.LARGE_AUDIO_GAP,\n                time: sample.pts / 1e3,\n                pts: sample.pts / 90,\n                originPts: sample.originPts,\n                nextPts: nextPts / 90,\n                sampleDuration: delta,\n                refSampleDuration\n              });\n            }\n          }\n          sample.dts = sample.pts = nextPts;\n          this._audioNextPts += refSampleDuration;\n        }\n      }\n    }\n  }]);\n  return TsFixer2;\n}();\nexport { TsFixer };\n","export { Logger } from \"./logger.js\";\nexport { isAndroid, isBrowser, isFirefox, isSafari } from \"./env.js\";\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nvar MAX_SIZE = Math.pow(2, 32);\nfunction readBig16(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 8) + (data[i + 1] || 0);\n}\nfunction readBig24(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 16) + (data[i + 1] << 8) + (data[i + 2] || 0);\n}\nfunction readBig32(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 24 >>> 0) + (data[i + 1] << 16) + (data[i + 2] << 8) + (data[i + 3] || 0);\n}\nfunction readBig64(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return readBig32(data, i) * MAX_SIZE + readBig32(data, i + 4);\n}\nfunction getAvcCodec(codecs) {\n  var codec = \"avc1.\";\n  var h;\n  for (var i = 0; i < 3; i++) {\n    h = codecs[i].toString(16);\n    if (h.length < 2)\n      h = \"0\".concat(h);\n    codec += h;\n  }\n  return codec;\n}\nfunction formatIV(arr) {\n  var iv = \"\";\n  arr.forEach(function(value) {\n    iv += bufferToString(value);\n  });\n  if (iv.length <= 32) {\n    var len = 32 - iv.length;\n    for (var i = 0; i < len; i++) {\n      iv += \"0\";\n    }\n  }\n  return iv;\n}\nfunction parse(a) {\n  if (!Array.isArray(a)) {\n    var arr = [];\n    var value = \"\";\n    for (var i = 0; i < a.length; i++) {\n      if (i % 2) {\n        value = a[i - 1] + a[i];\n        arr.push(parseInt(value, 16));\n        value = \"\";\n      }\n    }\n    return arr;\n  }\n  return a.map(function(item) {\n    return parseInt(item, 16);\n  });\n}\nfunction bufferToString(value) {\n  return (\"0\" + Number(value).toString(16)).slice(-2).toUpperCase();\n}\nfunction combineToFloat(integer, decimal) {\n  return Number(integer + \".\" + decimal);\n}\nfunction toDegree(matrix) {\n  if (matrix.length < 5)\n    return 0;\n  var scaled0 = Math.hypot(matrix[0], matrix[3]), scaled1 = Math.hypot(matrix[1], matrix[4]);\n  return 0 === scaled0 || 0 === scaled1 ? 0 : 180 * Math.atan2(matrix[1] / scaled1, matrix[0] / scaled0) / Math.PI;\n}\nexport { MAX_SIZE, combineToFloat, concatUint8Array, formatIV, getAvcCodec, parse, readBig16, readBig24, readBig32, readBig64, toDegree };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { readBig32 } from \"../utils/index.js\";\nvar NALu = /* @__PURE__ */ function() {\n  function NALu2() {\n    _classCallCheck(this, NALu2);\n  }\n  _createClass(NALu2, null, [{\n    key: \"parseAnnexB\",\n    value: function parseAnnexB(data) {\n      var len = data.length;\n      var start = 2;\n      var end = 0;\n      while (data[start] !== null && data[start] !== void 0 && data[start] !== 1) {\n        start++;\n      }\n      start++;\n      end = start + 2;\n      if (end >= len)\n        return [];\n      var units = [];\n      while (end < len) {\n        switch (data[end]) {\n          case 0:\n            if (data[end - 1] !== 0) {\n              end += 2;\n              break;\n            } else if (data[end - 2] !== 0) {\n              end++;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            do {\n              end++;\n            } while (data[end] !== 1 && end < len);\n            start = end + 1;\n            end = start + 2;\n            break;\n          case 1:\n            if (data[end - 1] !== 0 || data[end - 2] !== 0) {\n              end += 3;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            start = end + 1;\n            end = start + 2;\n            break;\n          default:\n            end += 3;\n            break;\n        }\n      }\n      if (start < len)\n        units.push(data.subarray(start));\n      return units;\n    }\n  }, {\n    key: \"parseAvcC\",\n    value: function parseAvcC(data) {\n      var size = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 4;\n      if (data.length < 4)\n        return;\n      var dataLen = data.length;\n      var units = [];\n      var offset = 0;\n      var length;\n      while (offset + size < dataLen) {\n        length = readBig32(data, offset);\n        if (size === 3)\n          length >>>= 8;\n        offset += size;\n        if (!length)\n          continue;\n        if (offset + length > dataLen) {\n          break;\n        }\n        units.push(data.subarray(offset, offset + length));\n        offset += length;\n      }\n      return units;\n    }\n  }, {\n    key: \"parseSEI\",\n    value: function parseSEI(unit, isHevc) {\n      var len = unit.length;\n      var i = isHevc ? 2 : 1;\n      var type = 0;\n      var size = 0;\n      var uuid = \"\";\n      while (unit[i] === 255) {\n        type += 255;\n        i++;\n      }\n      type += unit[i++];\n      while (unit[i] === 255) {\n        size += 255;\n        i++;\n      }\n      size += unit[i++];\n      if (type === 5 && len > i + 16) {\n        for (var j = 0; j < 16; j++) {\n          uuid += unit[i].toString(16);\n          i++;\n        }\n      }\n      return {\n        payload: unit.subarray(i, i + size),\n        type,\n        size,\n        uuid\n      };\n    }\n  }, {\n    key: \"removeEPB\",\n    value: function removeEPB(uint) {\n      var length = uint.byteLength;\n      var emulationPreventionBytesPositions = [];\n      var i = 1;\n      while (i < length - 2) {\n        if (uint[i] === 0 && uint[i + 1] === 0 && uint[i + 2] === 3) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n      if (!emulationPreventionBytesPositions.length)\n        return uint;\n      var newLength = length - emulationPreventionBytesPositions.length;\n      var newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          sourceIndex++;\n          emulationPreventionBytesPositions.shift();\n        }\n        newData[i] = uint[sourceIndex];\n      }\n      return newData;\n    }\n  }]);\n  return NALu2;\n}();\nexport { NALu };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ExpGolomb = /* @__PURE__ */ function() {\n  function ExpGolomb2(data) {\n    _classCallCheck(this, ExpGolomb2);\n    _defineProperty(this, \"_bytesAvailable\", void 0);\n    _defineProperty(this, \"_bitsAvailable\", 0);\n    _defineProperty(this, \"_word\", 0);\n    if (!data)\n      throw new Error(\"ExpGolomb data params is required\");\n    this._data = data;\n    this._bytesAvailable = data.byteLength;\n    if (this._bytesAvailable)\n      this._loadWord();\n  }\n  _createClass(ExpGolomb2, [{\n    key: \"bitsAvailable\",\n    get: function get() {\n      return this._bitsAvailable;\n    }\n  }, {\n    key: \"_loadWord\",\n    value: function _loadWord() {\n      var position = this._data.byteLength - this._bytesAvailable;\n      var availableBytes = Math.min(4, this._bytesAvailable);\n      if (availableBytes === 0)\n        throw new Error(\"No bytes available\");\n      var workingBytes = new Uint8Array(4);\n      workingBytes.set(this._data.subarray(position, position + availableBytes));\n      this._word = new DataView(workingBytes.buffer).getUint32(0);\n      this._bitsAvailable = availableBytes * 8;\n      this._bytesAvailable -= availableBytes;\n    }\n  }, {\n    key: \"skipBits\",\n    value: function skipBits(count) {\n      if (this._bitsAvailable > count) {\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      } else {\n        count -= this._bitsAvailable;\n        var skipBytes = Math.floor(count / 8);\n        count -= skipBytes * 8;\n        this._bytesAvailable -= skipBytes;\n        this._loadWord();\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      }\n    }\n  }, {\n    key: \"readBits\",\n    value: function readBits(size) {\n      if (size > 32) {\n        throw new Error(\"Cannot read more than 32 bits\");\n      }\n      var bits = Math.min(this._bitsAvailable, size);\n      var val = this._word >>> 32 - bits;\n      this._bitsAvailable -= bits;\n      if (this._bitsAvailable > 0) {\n        this._word <<= bits;\n      } else if (this._bytesAvailable > 0) {\n        this._loadWord();\n      }\n      bits = size - bits;\n      if (bits > 0 && this._bitsAvailable) {\n        return val << bits | this.readBits(bits);\n      }\n      return val;\n    }\n  }, {\n    key: \"skipLZ\",\n    value: function skipLZ() {\n      var leadingZeroCount;\n      for (leadingZeroCount = 0; leadingZeroCount < this._bitsAvailable; ++leadingZeroCount) {\n        if ((this._word & 2147483648 >>> leadingZeroCount) !== 0) {\n          this._word <<= leadingZeroCount;\n          this._bitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n      this._loadWord();\n      return leadingZeroCount + this.skipLZ();\n    }\n  }, {\n    key: \"skipUEG\",\n    value: function skipUEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n  }, {\n    key: \"readUEG\",\n    value: function readUEG() {\n      var clz = this.skipLZ();\n      return this.readBits(clz + 1) - 1;\n    }\n  }, {\n    key: \"readEG\",\n    value: function readEG() {\n      var val = this.readUEG();\n      if (1 & val) {\n        return 1 + val >>> 1;\n      }\n      return -1 * (val >>> 1);\n    }\n  }, {\n    key: \"readBool\",\n    value: function readBool() {\n      return this.readBits(1) === 1;\n    }\n  }, {\n    key: \"readUByte\",\n    value: function readUByte() {\n      return this.readBits(8);\n    }\n  }, {\n    key: \"skipScalingList\",\n    value: function skipScalingList(count) {\n      var lastScale = 8;\n      var nextScale = 8;\n      var deltaScale;\n      for (var j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = this.readEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n  }]);\n  return ExpGolomb2;\n}();\nexport { ExpGolomb };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { getAvcCodec } from \"../utils/index.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nvar AVC = /* @__PURE__ */ function() {\n  function AVC2() {\n    _classCallCheck(this, AVC2);\n  }\n  _createClass(AVC2, null, [{\n    key: \"parseAVCDecoderConfigurationRecord\",\n    value: function parseAVCDecoderConfigurationRecord(data) {\n      if (data.length < 7)\n        return;\n      var nalUnitSize = (data[4] & 3) + 1;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var offset = 6;\n      var spsCount = data[5] & 31;\n      var spsSize;\n      for (var i = 0; i < spsCount; i++) {\n        spsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!spsSize)\n          continue;\n        var sps = data.subarray(offset, offset + spsSize);\n        offset += spsSize;\n        spsArr.push(sps);\n        if (!spsParsed) {\n          spsParsed = AVC2.parseSPS(NALu.removeEPB(sps));\n        }\n      }\n      var ppsCount = data[offset];\n      offset++;\n      var ppsSize;\n      for (var _i = 0; _i < ppsCount; _i++) {\n        ppsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!ppsSize)\n          continue;\n        ppsArr.push(data.subarray(offset, offset + ppsSize));\n        offset += ppsSize;\n      }\n      return {\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      var profileIdc = eg.readUByte();\n      var profileCompatibility = eg.readUByte();\n      var levelIdc = eg.readUByte();\n      eg.skipUEG();\n      var chromaFormat = 420;\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128 || profileIdc === 138 || profileIdc === 144) {\n        var chromaFormatIdc = eg.readUEG();\n        if (chromaFormatIdc <= 3)\n          chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n        if (chromaFormatIdc === 3)\n          eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        eg.skipBits(1);\n        if (eg.readBool()) {\n          var scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n          for (var i = 0; i < scalingListCount; i++) {\n            if (eg.readBool()) {\n              if (i < 6) {\n                eg.skipScalingList(16);\n              } else {\n                eg.skipScalingList(64);\n              }\n            }\n          }\n        }\n      }\n      eg.skipUEG();\n      var picOrderCntType = eg.readUEG();\n      if (picOrderCntType === 0) {\n        eg.readUEG();\n      } else if (picOrderCntType === 1) {\n        eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        var numRefFramesInPicOrderCntCycle = eg.readUEG();\n        for (var _i2 = 0; _i2 < numRefFramesInPicOrderCntCycle; _i2++) {\n          eg.skipUEG();\n        }\n      }\n      eg.skipUEG();\n      eg.skipBits(1);\n      var picWidthInMbsMinus1 = eg.readUEG();\n      var picHeightInMapUnitsMinus1 = eg.readUEG();\n      var frameMbsOnlyFlag = eg.readBits(1);\n      if (frameMbsOnlyFlag === 0)\n        eg.skipBits(1);\n      eg.skipBits(1);\n      var frameCropLeftOffset = 0;\n      var frameCropRightOffset = 0;\n      var frameCropTopOffset = 0;\n      var frameCropBottomOffset = 0;\n      if (eg.readBool()) {\n        frameCropLeftOffset = eg.readUEG();\n        frameCropRightOffset = eg.readUEG();\n        frameCropTopOffset = eg.readUEG();\n        frameCropBottomOffset = eg.readUEG();\n      }\n      var sarRatio;\n      var fixedFrame;\n      var fpsNum;\n      var fpsDen;\n      var fps;\n      if (eg.readBool()) {\n        if (eg.readBool()) {\n          var aspectRatioIdc = eg.readUByte();\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];\n              break;\n            case 2:\n              sarRatio = [12, 11];\n              break;\n            case 3:\n              sarRatio = [10, 11];\n              break;\n            case 4:\n              sarRatio = [16, 11];\n              break;\n            case 5:\n              sarRatio = [40, 33];\n              break;\n            case 6:\n              sarRatio = [24, 11];\n              break;\n            case 7:\n              sarRatio = [20, 11];\n              break;\n            case 8:\n              sarRatio = [32, 11];\n              break;\n            case 9:\n              sarRatio = [80, 33];\n              break;\n            case 10:\n              sarRatio = [18, 11];\n              break;\n            case 11:\n              sarRatio = [15, 11];\n              break;\n            case 12:\n              sarRatio = [64, 33];\n              break;\n            case 13:\n              sarRatio = [160, 99];\n              break;\n            case 14:\n              sarRatio = [4, 3];\n              break;\n            case 15:\n              sarRatio = [3, 2];\n              break;\n            case 16:\n              sarRatio = [2, 1];\n              break;\n            case 255: {\n              sarRatio = [eg.readUByte() << 8 | eg.readUByte(), eg.readUByte() << 8 | eg.readUByte()];\n              break;\n            }\n          }\n        }\n        if (eg.readBool())\n          eg.readBool();\n        if (eg.readBool()) {\n          eg.readBits(4);\n          if (eg.readBool())\n            eg.readBits(24);\n        }\n        if (eg.readBool()) {\n          eg.readUEG();\n          eg.readUEG();\n        }\n        if (eg.readBool()) {\n          var numUnitsInTick = eg.readBits(32);\n          var timeScale = eg.readBits(32);\n          fixedFrame = eg.readBool();\n          fpsNum = timeScale;\n          fpsDen = numUnitsInTick * 2;\n          fps = fpsNum / fpsDen;\n        }\n      }\n      return {\n        codec: getAvcCodec(unit.subarray(1, 4)),\n        profileIdc,\n        profileCompatibility,\n        levelIdc,\n        chromaFormat,\n        width: Math.ceil((picWidthInMbsMinus1 + 1) * 16 - 2 * (frameCropLeftOffset + frameCropRightOffset)),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset),\n        sarRatio,\n        fpsNum,\n        fpsDen,\n        fps,\n        fixedFrame\n      };\n    }\n  }]);\n  return AVC2;\n}();\nexport { AVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nimport \"../utils/logger.js\";\nimport \"../utils/env.js\";\nvar HEVC = /* @__PURE__ */ function() {\n  function HEVC2() {\n    _classCallCheck(this, HEVC2);\n  }\n  _createClass(HEVC2, null, [{\n    key: \"parseHEVCDecoderConfigurationRecord\",\n    value: function parseHEVCDecoderConfigurationRecord(data) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (data.length < 23)\n        return;\n      hvcC = hvcC || {};\n      var nalUnitSize = (data[21] & 3) + 1;\n      var vpsParsed;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var vpsArr = [];\n      var offset = 23;\n      var numOfArrays = data[22];\n      var nalUnitType;\n      var numNalus;\n      var nalSize;\n      for (var i = 0; i < numOfArrays; i++) {\n        nalUnitType = data[offset] & 63;\n        numNalus = data[offset + 1] << 8 | data[offset + 2];\n        offset += 3;\n        for (var j = 0; j < numNalus; j++) {\n          nalSize = data[offset] << 8 | data[offset + 1];\n          offset += 2;\n          if (!nalSize)\n            continue;\n          switch (nalUnitType) {\n            case 32:\n              {\n                var vps = data.subarray(offset, offset + nalSize);\n                if (!vpsParsed)\n                  vpsParsed = HEVC2.parseVPS(NALu.removeEPB(vps), hvcC);\n                vpsArr.push(vps);\n              }\n              break;\n            case 33:\n              {\n                var sps = data.subarray(offset, offset + nalSize);\n                if (!spsParsed)\n                  spsParsed = HEVC2.parseSPS(NALu.removeEPB(sps), hvcC);\n                spsArr.push(sps);\n              }\n              break;\n            case 34:\n              ppsArr.push(data.subarray(offset, offset + nalSize));\n              break;\n          }\n          offset += nalSize;\n        }\n      }\n      return {\n        hvcC,\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        vpsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseVPS\",\n    value: function parseVPS(unit, hvcC) {\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(12);\n      var vpsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(hvcC.numTemporalLayers || 0, vpsMaxSubLayersMinus1 + 1);\n      eg.readBits(17);\n      HEVC2._parseProfileTierLevel(eg, vpsMaxSubLayersMinus1, hvcC);\n      return hvcC;\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(4);\n      var spsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(spsMaxSubLayersMinus1 + 1, hvcC.numTemporalLayers || 0);\n      hvcC.temporalIdNested = eg.readBits(1);\n      HEVC2._parseProfileTierLevel(eg, spsMaxSubLayersMinus1, hvcC);\n      eg.readUEG();\n      var chromaFormatIdc = hvcC.chromaFormatIdc = eg.readUEG();\n      var chromaFormat = 420;\n      if (chromaFormatIdc <= 3)\n        chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n      var separateColourPlaneFlag = 0;\n      if (chromaFormatIdc === 3) {\n        separateColourPlaneFlag = eg.readBits(1);\n      }\n      var width = eg.readUEG();\n      var height = eg.readUEG();\n      var conformanceWindowFlag = eg.readBits(1);\n      var confWinLeftOffset;\n      var confWinRightOffset;\n      var confWinTopOffset;\n      var confWinBottomOffset;\n      if (conformanceWindowFlag === 1) {\n        confWinLeftOffset = eg.readUEG();\n        confWinRightOffset = eg.readUEG();\n        confWinTopOffset = eg.readUEG();\n        confWinBottomOffset = eg.readUEG();\n      }\n      hvcC.bitDepthLumaMinus8 = eg.readUEG();\n      hvcC.bitDepthChromaMinus8 = eg.readUEG();\n      if (conformanceWindowFlag === 1) {\n        var subWidthC = (chromaFormatIdc === 1 || chromaFormatIdc === 2) && separateColourPlaneFlag === 0 ? 2 : 1;\n        var subHeightC = chromaFormatIdc === 1 && separateColourPlaneFlag === 0 ? 2 : 1;\n        width -= subWidthC * (confWinRightOffset + confWinLeftOffset);\n        height -= subHeightC * (confWinBottomOffset + confWinTopOffset);\n      }\n      return {\n        codec: \"hev1.1.6.L93.B0\",\n        width,\n        height,\n        chromaFormat,\n        hvcC\n      };\n    }\n  }, {\n    key: \"_parseProfileTierLevel\",\n    value: function _parseProfileTierLevel(eg, maxSubLayersMinus1, hvcC) {\n      var generalTierFlag = hvcC.generalTierFlag || 0;\n      hvcC.generalProfileSpace = eg.readBits(2);\n      hvcC.generalTierFlag = Math.max(eg.readBits(1), generalTierFlag);\n      hvcC.generalProfileIdc = Math.max(eg.readBits(5), hvcC.generalProfileIdc || 0);\n      hvcC.generalProfileCompatibilityFlags = eg.readBits(32);\n      hvcC.generalConstraintIndicatorFlags = [eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8)];\n      var generalLevelIdc = eg.readBits(8);\n      if (generalTierFlag < hvcC.generalTierFlag) {\n        hvcC.generalLevelIdc = generalLevelIdc;\n      } else {\n        hvcC.generalLevelIdc = Math.max(generalLevelIdc, hvcC.generalLevelIdc || 0);\n      }\n      var subLayerProfilePresentFlag = [];\n      var subLayerLevelPresentFlag = [];\n      if (maxSubLayersMinus1 > eg.bitsAvailable) {\n        throw new Error(\"maxSubLayersMinus inavlid size \".concat(maxSubLayersMinus1));\n      }\n      for (var j = 0; j < maxSubLayersMinus1; j++) {\n        subLayerProfilePresentFlag[j] = eg.readBits(1);\n        subLayerLevelPresentFlag[j] = eg.readBits(1);\n      }\n      if (maxSubLayersMinus1 > 0) {\n        eg.readBits((8 - maxSubLayersMinus1) * 2);\n      }\n      for (var i = 0; i < maxSubLayersMinus1; i++) {\n        if (subLayerProfilePresentFlag[i] !== 0) {\n          eg.readBits(2);\n          eg.readBits(1);\n          eg.readBits(5);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(4);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(12);\n        }\n        if (subLayerLevelPresentFlag[i] !== 0) {\n          eg.readBits(8);\n        }\n      }\n    }\n  }]);\n  return HEVC2;\n}();\nexport { HEVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"./types.js\";\nvar VideoTrack = /* @__PURE__ */ function() {\n  function VideoTrack2() {\n    _classCallCheck(this, VideoTrack2);\n    _defineProperty(this, \"id\", 1);\n    _defineProperty(this, \"type\", TrackType.VIDEO);\n    _defineProperty(this, \"codecType\", VideoCodecType.AVC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"hvcC\", void 0);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"pps\", []);\n    _defineProperty(this, \"sps\", []);\n    _defineProperty(this, \"vps\", []);\n    _defineProperty(this, \"fpsNum\", 0);\n    _defineProperty(this, \"fpsDen\", 0);\n    _defineProperty(this, \"sarRatio\", []);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"nalUnitSize\", 4);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"isVideo\", true);\n    _defineProperty(this, \"lastKeyFrameDts\", 0);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"pssh\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(VideoTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = this.width = this.height = this.fpsDen = this.fpsNum = this.duration = this.baseMediaDecodeTime = this.timescale = 0;\n      this.codec = \"\";\n      this.present = false;\n      this.pid = -1;\n      this.pps = [];\n      this.sps = [];\n      this.vps = [];\n      this.sarRatio = [];\n      this.samples = [];\n      this.warnings = [];\n      this.hvcC = null;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      if (/av01/.test(this.codec)) {\n        return true;\n      }\n      return !!(this.pps.length && this.sps.length && this.codec);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isVideoEncryption;\n    }\n  }]);\n  return VideoTrack2;\n}();\nexport { VideoTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, AudioCodecType } from \"./types.js\";\nvar AudioTrack = /* @__PURE__ */ function() {\n  function AudioTrack2() {\n    _classCallCheck(this, AudioTrack2);\n    _defineProperty(this, \"id\", 2);\n    _defineProperty(this, \"type\", TrackType.AUDIO);\n    _defineProperty(this, \"codecType\", AudioCodecType.AAC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"sampleDuration\", 0);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"sampleSize\", 16);\n    _defineProperty(this, \"sampleRate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"objectType\", 0);\n    _defineProperty(this, \"sampleRateIndex\", 0);\n    _defineProperty(this, \"config\", []);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(AudioTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = 0;\n      this.timescale = 0;\n      this.sampleDuration = 0;\n      this.sampleRate = 0;\n      this.channelCount = 0;\n      this.baseMediaDecodeTime = 0;\n      this.present = false;\n      this.pid = -1;\n      this.codec = \"\";\n      this.samples = [];\n      this.config = [];\n      this.warnings = [];\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.sampleRate && this.channelCount && this.codec && (this.codecType === AudioCodecType.AAC || this.codecType === AudioCodecType.G711PCMA || this.codecType === AudioCodecType.G711PCMU || this.codecType === AudioCodecType.OPUS));\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isAudioEncryption;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }]);\n  return AudioTrack2;\n}();\nexport { AudioTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar VideoSample = /* @__PURE__ */ function() {\n  function VideoSample2(pts, dts, units) {\n    _classCallCheck(this, VideoSample2);\n    _defineProperty(this, \"flag\", {});\n    _defineProperty(this, \"keyframe\", false);\n    _defineProperty(this, \"gopId\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"size\", 0);\n    _defineProperty(this, \"units\", []);\n    _defineProperty(this, \"chromaFormat\", 420);\n    this.originPts = this.pts = pts;\n    this.originDts = this.dts = dts;\n    if (units)\n      this.units = units;\n  }\n  _createClass(VideoSample2, [{\n    key: \"cts\",\n    get: function get() {\n      return this.pts - this.dts;\n    }\n  }, {\n    key: \"setToKeyframe\",\n    value: function setToKeyframe() {\n      this.keyframe = true;\n      this.flag.dependsOn = 2;\n      this.flag.isNonSyncSample = 0;\n    }\n  }]);\n  return VideoSample2;\n}();\nexport { VideoSample };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType } from \"./types.js\";\nvar Sample = /* @__PURE__ */ _createClass(\n  function Sample2(data, pts) {\n    _classCallCheck(this, Sample2);\n    _defineProperty(this, \"time\", 0);\n    this.data = data;\n    this.originPts = this.pts = pts;\n  }\n);\nvar FlvScriptSample = /* @__PURE__ */ function(_Sample) {\n  _inherits(FlvScriptSample2, _Sample);\n  var _super = _createSuper(FlvScriptSample2);\n  function FlvScriptSample2() {\n    _classCallCheck(this, FlvScriptSample2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(FlvScriptSample2);\n}(Sample);\nvar SeiSample = /* @__PURE__ */ function(_Sample2) {\n  _inherits(SeiSample2, _Sample2);\n  var _super2 = _createSuper(SeiSample2);\n  function SeiSample2() {\n    _classCallCheck(this, SeiSample2);\n    return _super2.apply(this, arguments);\n  }\n  return _createClass(SeiSample2);\n}(Sample);\nvar MetadataTrack = /* @__PURE__ */ function() {\n  function MetadataTrack2() {\n    _classCallCheck(this, MetadataTrack2);\n    _defineProperty(this, \"id\", 3);\n    _defineProperty(this, \"type\", TrackType.METADATA);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"flvScriptSamples\", []);\n    _defineProperty(this, \"seiSamples\", []);\n  }\n  _createClass(MetadataTrack2, [{\n    key: \"exist\",\n    value: function exist() {\n      return !!((this.flvScriptSamples.length || this.seiSamples.length) && this.timescale);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.timescale = 0;\n      this.flvScriptSamples = [];\n      this.seiSamples = [];\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!(this.flvScriptSamples.length || this.seiSamples.length);\n    }\n  }]);\n  return MetadataTrack2;\n}();\nexport { FlvScriptSample, MetadataTrack, SeiSample };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsFixer } from \"./fixer.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { AVC } from \"../codec/avc.js\";\nimport { HEVC } from \"../codec/hevc.js\";\nimport { NALu } from \"../codec/nalu.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack, SeiSample } from \"../model/metadata-track.js\";\nimport { VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nvar logger = new Logger(\"TsDemuxer\");\nvar TsDemuxer = /* @__PURE__ */ function() {\n  function TsDemuxer2(videoTrack, audioTrack, metadataTrack) {\n    var fixerConfig = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n    _classCallCheck(this, TsDemuxer2);\n    _defineProperty(this, \"_pmtId\", -1);\n    _defineProperty(this, \"_remainingPacketData\", null);\n    _defineProperty(this, \"_videoPesData\", []);\n    _defineProperty(this, \"_audioPesData\", []);\n    _defineProperty(this, \"_gopId\", 0);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n    this._fixer = new TsFixer(this.videoTrack, this.audioTrack, this.metadataTrack, fixerConfig);\n  }\n  _createClass(TsDemuxer2, [{\n    key: \"demux\",\n    value: function demux(data) {\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      var audioTrack = this.audioTrack, videoTrack = this.videoTrack, metadataTrack = this.metadataTrack;\n      if (discontinuity) {\n        this._pmtId = -1;\n        videoTrack.reset();\n        audioTrack.reset();\n        metadataTrack.reset();\n      }\n      if (!contiguous || discontinuity) {\n        this._remainingPacketData = null;\n        this._videoPesData = [];\n        this._audioPesData = [];\n      } else {\n        videoTrack.samples = [];\n        audioTrack.samples = [];\n        metadataTrack.seiSamples = [];\n        videoTrack.warnings = [];\n        audioTrack.warnings = [];\n        if (this._remainingPacketData) {\n          data = concatUint8Array(this._remainingPacketData, data);\n          this._remainingPacketData = null;\n        }\n      }\n      var dataLen = data.length;\n      var remainingLength = dataLen % 188;\n      if (remainingLength) {\n        this._remainingPacketData = data.subarray(dataLen - remainingLength);\n        dataLen -= remainingLength;\n      }\n      var videoPid = videoTrack.pid;\n      var audioPid = audioTrack.pid;\n      for (var start = 0; start < dataLen; start += 188) {\n        if (data[start] !== 71)\n          throw new Error(\"TS packet did not start with 0x47\");\n        var payloadUnitStartIndicator = !!(data[start + 1] & 64);\n        var pid = ((data[start + 1] & 31) << 8) + data[start + 2];\n        var adaptationFiledControl = (data[start + 3] & 48) >> 4;\n        var offset = void 0;\n        if (adaptationFiledControl > 1) {\n          offset = start + 5 + data[start + 4];\n          if (offset === start + 188)\n            continue;\n        } else {\n          offset = start + 4;\n        }\n        switch (pid) {\n          case 0:\n            if (payloadUnitStartIndicator)\n              offset += data[offset] + 1;\n            this._pmtId = (data[offset + 10] & 31) << 8 | data[offset + 11];\n            break;\n          case this._pmtId:\n            {\n              if (payloadUnitStartIndicator)\n                offset += data[offset] + 1;\n              var tableEnd = offset + 3 + ((data[offset + 1] & 15) << 8 | data[offset + 2]) - 4;\n              var programInfoLength = (data[offset + 10] & 15) << 8 | data[offset + 11];\n              offset += 12 + programInfoLength;\n              while (offset < tableEnd) {\n                var esPid = (data[offset + 1] & 31) << 8 | data[offset + 2];\n                switch (data[offset]) {\n                  case 15:\n                    audioTrack.pid = audioPid = esPid;\n                    break;\n                  case 27:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.AVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  case 36:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.HEVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  default:\n                    logger.warn(\"Unsupported stream. type: \".concat(data[offset], \", pid: \").concat(esPid));\n                }\n                offset += ((data[offset + 3] & 15) << 8 | data[offset + 4]) + 5;\n              }\n            }\n            break;\n          case videoPid:\n            if (payloadUnitStartIndicator && this._videoPesData.length) {\n              this._parseVideoData();\n            }\n            this._videoPesData.push(data.subarray(offset, start + 188));\n            break;\n          case audioPid:\n            if (payloadUnitStartIndicator && this._audioPesData.length) {\n              this._parseAudioData();\n            }\n            this._audioPesData.push(data.subarray(offset, start + 188));\n            break;\n          case 17:\n          case 8191:\n            break;\n          default:\n            logger.warn(\"Unknown pid: \".concat(pid));\n        }\n      }\n      this._parseVideoData();\n      this._parseAudioData();\n      audioTrack.formatTimescale = videoTrack.formatTimescale = videoTrack.timescale = metadataTrack.timescale = 9e4;\n      audioTrack.timescale = audioTrack.sampleRate || 0;\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack\n      };\n    }\n  }, {\n    key: \"fix\",\n    value: function fix(startTime, discontinuity, contiguous) {\n      this._fixer.fix(startTime, discontinuity, contiguous);\n      return {\n        videoTrack: this.videoTrack,\n        audioTrack: this.audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demuxAndFix\",\n    value: function demuxAndFix(data, discontinuity, contiguous, startTime) {\n      this.demux(data, discontinuity, contiguous);\n      return this.fix(startTime, discontinuity, contiguous);\n    }\n  }, {\n    key: \"_parseVideoData\",\n    value: function _parseVideoData() {\n      if (!this._videoPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._videoPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse video pes\", this._videoPesData);\n        return;\n      }\n      var units = NALu.parseAnnexB(pes.data);\n      if (units) {\n        this._createVideoSample(units, pes.pts, pes.dts);\n      } else {\n        logger.warn(\"Cannot parse avc units\", pes);\n      }\n      this._videoPesData = [];\n    }\n  }, {\n    key: \"_createVideoSample\",\n    value: function _createVideoSample(units, pts, dts) {\n      var _this = this;\n      if (!units.length)\n        return;\n      var track = this.videoTrack;\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var sample = new VideoSample(pts, dts);\n      units.forEach(function(unit) {\n        var type = isHevc ? unit[0] >>> 1 & 63 : unit[0] & 31;\n        switch (type) {\n          case 5:\n          case 16:\n          case 17:\n          case 18:\n          case 19:\n          case 20:\n          case 21:\n          case 22:\n          case 23:\n            if (!isHevc && type !== 5 || isHevc && type === 5)\n              break;\n            sample.setToKeyframe();\n            _this._gopId++;\n            break;\n          case 6:\n          case 39:\n          case 40:\n            if (!isHevc && type !== 6 || isHevc && type === 6)\n              break;\n            _this.metadataTrack.seiSamples.push(new SeiSample(NALu.parseSEI(NALu.removeEPB(unit), isHevc), pts));\n            return;\n          case 32:\n            if (!isHevc)\n              break;\n            if (!track.vps.length) {\n              var hvcC = HEVC.parseVPS(NALu.removeEPB(unit), track.hvcC);\n              track.hvcC = track.hvcC || hvcC;\n              track.vps = [unit];\n            }\n            break;\n          case 7:\n          case 33:\n            if (!isHevc && type !== 7 || isHevc && type === 7)\n              break;\n            if (!track.sps.length) {\n              var data = NALu.removeEPB(unit);\n              var spsInfo = isHevc ? HEVC.parseSPS(data, track.hvcC) : AVC.parseSPS(data);\n              track.sps = [unit];\n              track.hvcC = track.hvcC || spsInfo.hvcC;\n              track.codec = spsInfo.codec;\n              track.width = spsInfo.width;\n              track.height = spsInfo.height;\n              track.sarRatio = spsInfo.sarRatio;\n              track.fpsNum = spsInfo.fpsNum;\n              track.fpsDen = spsInfo.fpsDen;\n            }\n            break;\n          case 8:\n          case 34:\n            if (!isHevc && type !== 8 || isHevc && type === 8)\n              break;\n            if (!track.pps.length)\n              track.pps = [unit];\n            break;\n          case 9:\n          case 35:\n            break;\n          case 38:\n            if (isHevc) {\n              var ffByteFound = false;\n              for (var i = 2; i < unit.byteLength; i++) {\n                if (unit[i] === 255) {\n                  ffByteFound = true;\n                  break;\n                }\n              }\n              if (!ffByteFound) {\n                return;\n              }\n            }\n            break;\n        }\n        sample.units.push(unit);\n      });\n      sample.gopId = this._gopId;\n      this._pushVideoSample(track, sample);\n    }\n  }, {\n    key: \"_pushVideoSample\",\n    value: function _pushVideoSample(track, sample) {\n      if (sample.units.length) {\n        if (sample.pts === null || sample.pts === void 0) {\n          logger.warn(\"Video sample no pts\", sample);\n          var lastSample = track.samples[track.samples.length - 1];\n          if (lastSample) {\n            sample.pts = lastSample.pts;\n            sample.dts = lastSample.dts;\n          } else {\n            logger.warn(\"Drop video sample\", sample);\n          }\n        } else {\n          track.samples.push(sample);\n        }\n      }\n    }\n  }, {\n    key: \"_parseAudioData\",\n    value: function _parseAudioData() {\n      if (!this._audioPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._audioPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse audio pes\", this._audioPesData);\n        return;\n      }\n      this._parseAacData(pes);\n      this._audioPesData = [];\n    }\n  }, {\n    key: \"_parseAacData\",\n    value: function _parseAacData(pes) {\n      var track = this.audioTrack;\n      var pts = pes.pts;\n      if (pts === null || pts === void 0) {\n        logger.warn(\"AAC pes not pts\", track);\n        if (!track.samples.length || !track.sampleRate) {\n          return;\n        }\n        pts = track.samples[track.samples.length - 1].pts + AAC.getFrameDuration(track.sampleRate);\n      }\n      var ret = AAC.parseADTS(pes.data, pts);\n      if (ret) {\n        var _track$samples;\n        track.codec = ret.codec;\n        track.channelCount = ret.channelCount;\n        track.sampleRate = ret.sampleRate;\n        track.objectType = ret.objectType;\n        track.sampleRateIndex = ret.samplingFrequencyIndex;\n        track.config = ret.config;\n        (_track$samples = track.samples).push.apply(_track$samples, _toConsumableArray(ret.frames.map(function(s) {\n          return new AudioSample(s.pts, s.data);\n        })));\n        if (ret.skip) {\n          logger.warn(\"Skip aac adts \".concat(ret.skip, \" bits\"));\n        }\n        if (ret.remaining) {\n          logger.warn(\"Remaining aac adts \".concat(ret.remaining, \" bits\"));\n        }\n      } else {\n        logger.warn(\"Cannot parse aac adts\", pes);\n      }\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      if (!data.length)\n        return false;\n      return data[0] === 71 && data[188] === 71 && data[376] === 71;\n    }\n  }, {\n    key: \"_parsePES\",\n    value: function _parsePES(data) {\n      var headerDataLen = data[8];\n      if (headerDataLen === null || headerDataLen === void 0 || data.length < headerDataLen + 9)\n        return;\n      var startPrefix = data[0] << 16 | data[1] << 8 | data[2];\n      if (startPrefix !== 1)\n        return;\n      var pesLen = (data[4] << 8) + data[5];\n      if (pesLen && pesLen > data.length - 6)\n        return;\n      var pts;\n      var dts;\n      var ptsDtsFlags = data[7];\n      if (ptsDtsFlags & 192) {\n        pts = (data[9] & 14) * 536870912 + (data[10] & 255) * 4194304 + (data[11] & 254) * 16384 + (data[12] & 255) * 128 + (data[13] & 254) / 2;\n        if (ptsDtsFlags & 64) {\n          dts = (data[14] & 14) * 536870912 + (data[15] & 255) * 4194304 + (data[16] & 254) * 16384 + (data[17] & 255) * 128 + (data[18] & 254) / 2;\n          if (pts - dts > 60 * 9e4)\n            pts = dts;\n        } else {\n          dts = pts;\n        }\n      }\n      return {\n        data: data.subarray(9 + headerDataLen),\n        pts,\n        dts\n      };\n    }\n  }]);\n  return TsDemuxer2;\n}();\nexport { TsDemuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ByteReader = /* @__PURE__ */ function() {\n  function ByteReader2(buf, offset, len) {\n    _classCallCheck(this, ByteReader2);\n    this.dv = new DataView(buf);\n    this.start = this.offset = offset || this.dv.byteOffset;\n    this.end = len ? this.start + len : this.start + this.dv.byteLength;\n  }\n  _createClass(ByteReader2, [{\n    key: \"buffer\",\n    get: function get() {\n      return this.dv.buffer;\n    }\n  }, {\n    key: \"unreadLength\",\n    get: function get() {\n      return Math.max(this.end - this.offset, 0);\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.end - this.start;\n    }\n  }, {\n    key: \"readFloat\",\n    value: function readFloat(byteNum) {\n      var val = 0;\n      switch (byteNum) {\n        case 4:\n          val = this.dv.getFloat32(this.offset);\n          break;\n        case 8:\n          val = this.dv.getFloat64(this.offset);\n          break;\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte float is not supported\"));\n      }\n      this.offset += byteNum;\n      return val;\n    }\n  }, {\n    key: \"back\",\n    value: function back(byteNum) {\n      this.offset -= byteNum;\n    }\n  }, {\n    key: \"skip\",\n    value: function skip(byteNum) {\n      this.offset += byteNum;\n    }\n  }, {\n    key: \"readInt\",\n    value: function readInt(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getInt8(offset);\n        case 2:\n          return this.dv.getInt16(offset);\n        case 4:\n          return this.dv.getInt32(offset);\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"read\",\n    value: function read(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getUint8(offset);\n        case 2:\n          return this.dv.getUint16(offset);\n        case 3:\n          return (this.dv.getUint16(offset) << 8) + this.dv.getUint8(offset + 2);\n        case 4:\n          return this.dv.getUint32(offset);\n        default:\n          this.back(byteNum - 4);\n          return this.read(byteNum - 4) + this.dv.getUint32(offset) * Math.pow(256, byteNum - 4);\n      }\n    }\n  }, {\n    key: \"write\",\n    value: function write(byteNum, val) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.setUint8(offset, val);\n        case 2:\n          return this.dv.setUint16(offset, val);\n        case 3:\n          return this.dv.setUint8(offset, val >>> 16), this.dv.setUint16(offset + 1, 65535 & val);\n        case 4:\n          return this.dv.setUint32(offset, val);\n        default:\n          throw new Error(\"write \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"readToBuffer\",\n    value: function readToBuffer(len) {\n      var buffer;\n      if (this.offset || len) {\n        buffer = this.dv.buffer.slice(this.offset, len ? this.offset + len : this.end);\n      } else {\n        buffer = this.dv.buffer;\n      }\n      this.offset += buffer.byteLength;\n      return buffer;\n    }\n  }, {\n    key: \"readToUint8\",\n    value: function readToUint8(len) {\n      var uint8 = new Uint8Array(this.dv.buffer, this.offset, len || this.unreadLength);\n      this.offset += uint8.byteLength;\n      return uint8;\n    }\n  }, {\n    key: \"readString\",\n    value: function readString(len) {\n      var i = 0, str = \"\";\n      for (; i < len; i++) {\n        str += String.fromCharCode(this.dv.getUint8(this.offset));\n        this.offset++;\n      }\n      return str;\n    }\n  }], [{\n    key: \"fromUint8\",\n    value: function fromUint8(uint8) {\n      return new ByteReader2(uint8.buffer, uint8.byteOffset, uint8.byteLength);\n    }\n  }, {\n    key: \"concatUint8s\",\n    value: function concatUint8s(args) {\n      var uint8 = new Uint8Array(args.reduce(function(ret, v) {\n        return ret + v.byteLength;\n      }, 0));\n      var offset = 0;\n      args.forEach(function(v) {\n        uint8.set(v, offset);\n        offset += v.byteLength;\n      });\n      return uint8;\n    }\n  }, {\n    key: \"concatUint8\",\n    value: function concatUint8() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this.concatUint8s(args);\n    }\n  }]);\n  return ByteReader2;\n}();\nexport { ByteReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar BitReader = /* @__PURE__ */ function() {\n  function BitReader2(val, size) {\n    _classCallCheck(this, BitReader2);\n    this.offset = 0;\n    this.val = val;\n    this.size = size;\n  }\n  _createClass(BitReader2, [{\n    key: \"skip\",\n    value: function skip(len) {\n      this.offset += len;\n    }\n  }, {\n    key: \"read\",\n    value: function read(len) {\n      var unreadLength = this.size - this.offset - len;\n      if (unreadLength >= 0) {\n        var bits = 0, i = 0;\n        this.offset += len;\n        if (this.size > 31) {\n          for (; i < len; i++) {\n            bits += Math.pow(2, i);\n          }\n          return this.val / Math.pow(2, unreadLength) & bits;\n        } else {\n          for (; i < len; i++) {\n            bits += 1 << i;\n          }\n          return this.val >>> unreadLength & bits;\n        }\n      }\n      throw new Error(\"the number of the read operation exceeds the total length limit of bits\");\n    }\n  }], [{\n    key: \"fromByte\",\n    value: function fromByte(byte, len) {\n      return new BitReader2(byte.read(len), len << 3);\n    }\n  }]);\n  return BitReader2;\n}();\nexport { BitReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { readBig32, readBig64, readBig24, readBig16, combineToFloat, toDegree, getAvcCodec } from \"../utils/index.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { ByteReader } from \"../utils/byte-reader.js\";\nimport { BitReader } from \"../utils/bit-reader.js\";\nvar MP4Parser = /* @__PURE__ */ function() {\n  function MP4Parser2() {\n    _classCallCheck(this, MP4Parser2);\n  }\n  _createClass(MP4Parser2, null, [{\n    key: \"findBox\",\n    value: function findBox(data, names) {\n      var start = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var ret = [];\n      if (!data)\n        return ret;\n      var size = 0;\n      var type = \"\";\n      var headerSize = 0;\n      while (data.length > 7) {\n        size = readBig32(data);\n        type = String.fromCharCode.apply(null, data.subarray(4, 8));\n        headerSize = 8;\n        if (size === 1) {\n          size = readBig64(data, 8);\n          headerSize += 8;\n        } else if (!size) {\n          size = data.length;\n        }\n        if (!names[0] || type === names[0]) {\n          var subData = data.subarray(0, size);\n          if (names.length < 2) {\n            ret.push({\n              start,\n              size,\n              headerSize,\n              type,\n              data: subData\n            });\n          } else {\n            return MP4Parser2.findBox(subData.subarray(headerSize), names.slice(1), start + headerSize);\n          }\n        }\n        start += size;\n        data = data.subarray(size);\n      }\n      return ret;\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.trackId = readBig32(data);\n        var start = 4;\n        var baseDataOffsetPresent = ret.flags & 255 & 1;\n        var sampleDescriptionIndexPresent = ret.flags & 255 & 2;\n        var defaultSampleDurationPresent = ret.flags & 255 & 8;\n        var defaultSampleSizePresent = ret.flags & 255 & 16;\n        var defaultSampleFlagsPresent = ret.flags & 255 & 32;\n        if (baseDataOffsetPresent) {\n          start += 4;\n          ret.baseDataOffset = readBig32(data, start);\n          start += 4;\n        }\n        if (sampleDescriptionIndexPresent) {\n          ret.sampleDescriptionIndex = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleDurationPresent) {\n          ret.defaultSampleDuration = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleSizePresent) {\n          ret.defaultSampleSize = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleFlagsPresent) {\n          ret.defaultSampleFlags = readBig32(data, start);\n        }\n      });\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        ret.reference_ID = readBig32(data, start);\n        start += 4;\n        ret.timescale = readBig32(data, start);\n        start += 4;\n        if (ret.version === 0) {\n          ret.earliest_presentation_time = readBig32(data, start);\n          start += 4;\n          ret.first_offset = readBig32(data, start);\n          start += 4;\n        } else {\n          ret.earliest_presentation_time = readBig64(data, start);\n          start += 8;\n          ret.first_offset = readBig64(data, start);\n          start += 8;\n        }\n        start += 2;\n        ret.references = [];\n        var count = readBig16(data, start);\n        start += 2;\n        for (var i = 0; i < count; i++) {\n          var ref = {};\n          ret.references.push(ref);\n          var tmp32 = readBig32(data, start);\n          start += 4;\n          ref.reference_type = tmp32 >> 31 & 1;\n          ref.referenced_size = tmp32 & 2147483647;\n          ref.subsegment_duration = readBig32(data, start);\n          start += 4;\n          tmp32 = readBig32(data, start);\n          start += 4;\n          ref.starts_with_SAP = tmp32 >> 31 & 1;\n          ref.SAP_type = tmp32 >> 28 & 7;\n          ref.SAP_delta_time = tmp32 & 268435455;\n        }\n      });\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mvhd = MP4Parser2.mvhd(MP4Parser2.findBox(data, [\"mvhd\"], start)[0]);\n        ret.trak = MP4Parser2.findBox(data, [\"trak\"], start).map(function(trak) {\n          return MP4Parser2.trak(trak);\n        });\n        ret.pssh = MP4Parser2.pssh(MP4Parser2.findBox(data, [\"pssh\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        ret.nextTrackId = readBig32(data, start + 76);\n      });\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tkhd = MP4Parser2.tkhd(MP4Parser2.findBox(data, [\"tkhd\"], start)[0]);\n        ret.mdia = MP4Parser2.mdia(MP4Parser2.findBox(data, [\"mdia\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        if (ret.version === 1) {\n          byte.read(8);\n          byte.read(8);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(8);\n        } else {\n          byte.read(4);\n          byte.read(4);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(4);\n        }\n        byte.skip(16);\n        ret.matrix = [];\n        for (var i = 0; i < 36; i++) {\n          ret.matrix.push(byte.read(1));\n        }\n        byte.back(36);\n        var caculatedMatrix = [];\n        for (var _i = 0, int32; _i < 3; _i++) {\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          int32 = byte.readInt(4);\n          caculatedMatrix.push(combineToFloat(int32 >> 30, int32 & 1073741823));\n        }\n        ret.rotation = toDegree(caculatedMatrix);\n        ret.width = byte.read(4);\n        ret.height = byte.read(4);\n      });\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mdhd = MP4Parser2.mdhd(MP4Parser2.findBox(data, [\"mdhd\"], start)[0]);\n        ret.hdlr = MP4Parser2.hdlr(MP4Parser2.findBox(data, [\"hdlr\"], start)[0]);\n        ret.minf = MP4Parser2.minf(MP4Parser2.findBox(data, [\"minf\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        var lang = readBig16(data, start);\n        ret.language = String.fromCharCode((lang >> 10 & 31) + 96, (lang >> 5 & 31) + 96, (lang & 31) + 96);\n      });\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 0) {\n          ret.handlerType = String.fromCharCode.apply(null, data.subarray(4, 8));\n        }\n      });\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.vmhd = MP4Parser2.vmhd(MP4Parser2.findBox(data, [\"vmhd\"], start)[0]);\n        ret.smhd = MP4Parser2.smhd(MP4Parser2.findBox(data, [\"smhd\"], start)[0]);\n        ret.stbl = MP4Parser2.stbl(MP4Parser2.findBox(data, [\"stbl\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"vmhd\",\n    value: function vmhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.graphicsmode = readBig16(data);\n        ret.opcolor = [readBig16(data, 2), readBig16(data, 4), readBig16(data, 6)];\n      });\n    }\n  }, {\n    key: \"smhd\",\n    value: function smhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.balance = readBig16(data);\n      });\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var _ret$stsd$entries$, _ret$stsd$entries$$si, _ret$stsd$entries$$si2;\n        ret.stsd = MP4Parser2.stsd(MP4Parser2.findBox(data, [\"stsd\"], start)[0]);\n        ret.stts = MP4Parser2.stts(MP4Parser2.findBox(data, [\"stts\"], start)[0]);\n        ret.ctts = MP4Parser2.ctts(MP4Parser2.findBox(data, [\"ctts\"], start)[0]);\n        ret.stsc = MP4Parser2.stsc(MP4Parser2.findBox(data, [\"stsc\"], start)[0]);\n        ret.stsz = MP4Parser2.stsz(MP4Parser2.findBox(data, [\"stsz\"], start)[0]);\n        ret.stco = MP4Parser2.stco(MP4Parser2.findBox(data, [\"stco\"], start)[0]);\n        if (!ret.stco) {\n          ret.co64 = MP4Parser2.co64(MP4Parser2.findBox(data, [\"co64\"], start)[0]);\n          ret.stco = ret.co64;\n        }\n        var default_IV_size = (_ret$stsd$entries$ = ret.stsd.entries[0]) === null || _ret$stsd$entries$ === void 0 ? void 0 : (_ret$stsd$entries$$si = _ret$stsd$entries$.sinf) === null || _ret$stsd$entries$$si === void 0 ? void 0 : (_ret$stsd$entries$$si2 = _ret$stsd$entries$$si.schi) === null || _ret$stsd$entries$$si2 === void 0 ? void 0 : _ret$stsd$entries$$si2.tenc.default_IV_size;\n        ret.stss = MP4Parser2.stss(MP4Parser2.findBox(data, [\"stss\"], start)[0]);\n        ret.senc = MP4Parser2.senc(MP4Parser2.findBox(data, [\"senc\"], start)[0], default_IV_size);\n      });\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(box) {\n      var iv = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        var sampleCount = readBig32(data, start);\n        start += 4;\n        ret.samples = [];\n        for (var i = 0; i < sampleCount; i++) {\n          var sample = {};\n          sample.InitializationVector = [];\n          for (var j = 0; j < iv; j++) {\n            sample.InitializationVector[j] = data[start + j];\n          }\n          start += iv;\n          if (ret.flags & 2) {\n            sample.subsamples = [];\n            var subsampleCount = readBig16(data, start);\n            start += 2;\n            for (var _j = 0; _j < subsampleCount; _j++) {\n              var subsample = {};\n              subsample.BytesOfClearData = readBig16(data, start);\n              start += 2;\n              subsample.BytesOfProtectedData = readBig32(data, start);\n              start += 4;\n              sample.subsamples.push(subsample);\n            }\n          }\n          ret.samples.push(sample);\n        }\n      });\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(box) {\n      return parseBox(box, true, function(ret, data) {\n        var keyIds = [];\n        var systemId = [];\n        var start = 0;\n        for (var i = 0; i < 16; i++) {\n          systemId.push(toHex(data[start + i]));\n        }\n        start += 16;\n        if (ret.version > 0) {\n          var numKeyIds = readBig32(data, start);\n          start += 4;\n          for (var _i2 = 0; _i2 < (\"\" + numKeyIds).length; _i2++) {\n            for (var j = 0; j < 16; j++) {\n              var keyId = data[start];\n              start += 1;\n              keyIds.push(toHex(keyId));\n            }\n          }\n        }\n        var dataSize = readBig32(data, start);\n        ret.data_size = dataSize;\n        start += 4;\n        ret.kid = keyIds;\n        ret.system_id = systemId;\n        ret.buffer = data;\n      });\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(box) {\n      return parseBox(box, true, function(ret, data, start) {\n        ret.entryCount = readBig32(data);\n        ret.entries = MP4Parser2.findBox(data.subarray(4), [], start + 4).map(function(b) {\n          switch (b.type) {\n            case \"av01\":\n              return MP4Parser2.av01(b);\n            case \"avc1\":\n            case \"avc2\":\n            case \"avc3\":\n            case \"avc4\":\n              return MP4Parser2.avc1(b);\n            case \"hvc1\":\n            case \"hev1\":\n              return MP4Parser2.hvc1(b);\n            case \"mp4a\":\n              return MP4Parser2.mp4a(b);\n            case \"alaw\":\n            case \"ulaw\":\n              return MP4Parser2.alaw(b);\n            case \"enca\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.channelCount = readBig16(data2, 16);\n                ret2.samplesize = readBig16(data2, 18);\n                ret2.sampleRate = readBig32(data2, 24) / (1 << 16);\n                data2 = data2.subarray(28);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.esds = MP4Parser2.esds(MP4Parser2.findBox(data2, [\"esds\"], start2)[0]);\n              });\n            case \"encv\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.width = readBig16(data2, 24);\n                ret2.height = readBig16(data2, 26);\n                ret2.horizresolution = readBig32(data2, 28);\n                ret2.vertresolution = readBig32(data2, 32);\n                data2 = data2.subarray(78);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.avcC = MP4Parser2.avcC(MP4Parser2.findBox(data2, [\"avcC\"], start2)[0]);\n                ret2.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(data2, [\"hvcC\"], start2)[0]);\n                ret2.pasp = MP4Parser2.pasp(MP4Parser2.findBox(data2, [\"pasp\"], start2)[0]);\n              });\n          }\n        }).filter(Boolean);\n      });\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(box) {\n      return parseBox(box, false, function(ret, data) {\n        var start = 6;\n        ret.default_IsEncrypted = data[start];\n        start += 1;\n        ret.default_IV_size = data[start];\n        start += 1;\n        ret.default_KID = [];\n        for (var i = 0; i < 16; i++) {\n          ret.default_KID.push(toHex(data[start]));\n          start += 1;\n        }\n      });\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tenc = MP4Parser2.tenc(MP4Parser2.findBox(data, [\"tenc\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.schi = MP4Parser2.schi(MP4Parser2.findBox(data, [\"schi\"], start)[0]);\n        ret.frma = MP4Parser2.frma(MP4Parser2.findBox(data, [\"frma\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"frma\",\n    value: function frma(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data_format = \"\";\n        for (var i = 0; i < 4; i++) {\n          ret.data_format += String.fromCharCode(data[i]);\n        }\n      });\n    }\n  }, {\n    key: \"colr\",\n    value: function colr(box) {\n      return parseBox(box, false, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        ret.data = box.data;\n        ret.colorType = byte.readString(4);\n        if (ret.colorType === \"nclx\") {\n          ret.colorPrimaries = byte.read(2);\n          ret.transferCharacteristics = byte.read(2);\n          ret.matrixCoefficients = byte.read(2);\n          ret.fullRangeFlag = byte.read(1) >> 7;\n        } else if (ret.colorType === \"rICC\" || ret.colorType === \"prof\") {\n          ret.iccProfile = data.readToUint8();\n        }\n      });\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.av1C = MP4Parser2.av1C(MP4Parser2.findBox(bodyData, [\"av1C\"], start)[0]);\n        ret.colr = MP4Parser2.colr(MP4Parser2.findBox(bodyData, [\"colr\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"av1C\",\n    value: function av1C(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        var byte = ByteReader.fromUint8(data);\n        var bit = BitReader.fromByte(byte, 4);\n        ret.marker = bit.read(1);\n        ret.version = bit.read(7);\n        ret.seqProfile = bit.read(3);\n        ret.seqLevelIdx0 = bit.read(5);\n        ret.seqTier0 = bit.read(1);\n        ret.highBitdepth = bit.read(1);\n        ret.twelveBit = bit.read(1);\n        ret.monochrome = bit.read(1);\n        ret.chromaSubsamplingX = bit.read(1);\n        ret.chromaSubsamplingY = bit.read(1);\n        ret.chromaSamplePosition = bit.read(2);\n        ret.reserved = bit.read(3);\n        ret.initialPresentationDelayPresent = bit.read(1);\n        if (ret.initialPresentationDelayPresent) {\n          ret.initialPresentationDelayMinusOne = bit.read(4);\n        } else {\n          ret.initialPresentationDelayMinusOne = 0;\n        }\n        ret.configOBUs = byte.readToUint8();\n        var bitdepth;\n        if (ret.seqLevelIdx0 === 2 && ret.highBitdepth === 1) {\n          bitdepth = ret.twelveBit === 1 ? \"12\" : \"10\";\n        } else if (ret.seqProfile <= 2) {\n          bitdepth = ret.highBitdepth === 1 ? \"10\" : \"08\";\n        }\n        ret.codec = [\"av01\", ret.seqProfile, (ret.seqLevelIdx0 < 10 ? \"0\" + ret.seqLevelIdx0 : ret.seqLevelIdx0) + (ret.seqTier0 ? \"H\" : \"M\"), bitdepth].join(\".\");\n      });\n    }\n  }, {\n    key: \"avc1\",\n    value: function avc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.avcC = MP4Parser2.avcC(MP4Parser2.findBox(bodyData, [\"avcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.configurationVersion = data[0];\n        ret.AVCProfileIndication = data[1];\n        ret.profileCompatibility = data[2];\n        ret.AVCLevelIndication = data[3];\n        ret.codec = getAvcCodec([data[1], data[2], data[3]]);\n        ret.lengthSizeMinusOne = data[4] & 3;\n        ret.spsLength = data[5] & 31;\n        ret.sps = [];\n        var start = 6;\n        for (var i = 0; i < ret.spsLength; i++) {\n          var size = readBig16(data, start);\n          start += 2;\n          ret.sps.push(data.subarray(start, start + size));\n          start += size;\n        }\n        ret.ppsLength = data[start];\n        start += 1;\n        ret.pps = [];\n        for (var _i3 = 0; _i3 < ret.ppsLength; _i3++) {\n          var _size = readBig16(data, start);\n          start += 2;\n          ret.pps.push(data.subarray(start, start += _size));\n          start += _size;\n        }\n      });\n    }\n  }, {\n    key: \"hvc1\",\n    value: function hvc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(bodyData, [\"hvcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.codec = \"hev1.1.6.L93.B0\";\n        ret.configurationVersion = data[0];\n        var tmp = data[1];\n        ret.generalProfileSpace = tmp >> 6;\n        ret.generalTierFlag = (tmp & 32) >> 5;\n        ret.generalProfileIdc = tmp & 31;\n        ret.generalProfileCompatibility = readBig32(data, 2);\n        ret.generalConstraintIndicatorFlags = data.subarray(6, 12);\n        ret.generalLevelIdc = data[12];\n        ret.avgFrameRate = readBig16(data, 19);\n        ret.numOfArrays = data[22];\n        ret.vps = [];\n        ret.sps = [];\n        ret.pps = [];\n        var start = 23;\n        var type = 0;\n        var numNalus = 0;\n        var size = 0;\n        for (var i = 0; i < ret.numOfArrays; i++) {\n          type = data[start] & 63;\n          numNalus = readBig16(data, start + 1);\n          start += 3;\n          var nalus = [];\n          for (var j = 0; j < numNalus; j++) {\n            size = readBig16(data, start);\n            start += 2;\n            nalus.push(data.subarray(start, start + size));\n            start += size;\n          }\n          if (type === 32) {\n            var _ret$vps;\n            (_ret$vps = ret.vps).push.apply(_ret$vps, nalus);\n          } else if (type === 33) {\n            var _ret$sps;\n            (_ret$sps = ret.sps).push.apply(_ret$sps, nalus);\n          } else if (type === 34) {\n            var _ret$pps;\n            (_ret$pps = ret.pps).push.apply(_ret$pps, nalus);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.hSpacing = readBig32(data);\n        ret.vSpacing = readBig32(data, 4);\n      });\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseAudioSampleEntry(ret, data);\n        ret.esds = MP4Parser2.esds(MP4Parser2.findBox(data.subarray(bodyStart), [\"esds\"], start + bodyStart)[0]);\n      });\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.codec = \"mp4a.\";\n        var start = 0;\n        var byteRead = 0;\n        var size = 0;\n        var tag = 0;\n        while (data.length) {\n          start = 0;\n          tag = data[start];\n          byteRead = data[start + 1];\n          start += 2;\n          while (byteRead & 128) {\n            size = (byteRead & 127) << 7;\n            byteRead = data[start];\n            start += 1;\n          }\n          size += byteRead & 127;\n          if (tag === 3) {\n            data = data.subarray(start + 3);\n          } else if (tag === 4) {\n            ret.codec += (data[start].toString(16) + \".\").padStart(3, \"0\");\n            data = data.subarray(start + 13);\n          } else if (tag === 5) {\n            var config = ret.config = data.subarray(start, start + size);\n            var objectType = (config[0] & 248) >> 3;\n            if (objectType === 31 && config.length >= 2) {\n              objectType = 32 + ((config[0] & 7) << 3) + ((config[1] & 224) >> 5);\n            }\n            ret.objectType = objectType;\n            ret.codec += objectType.toString(16);\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          } else {\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"alaw\",\n    value: function alaw(box) {\n      return parseBox(box, false, function(ret, data) {\n        parseAudioSampleEntry(ret, data);\n      });\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            count: readBig32(data, start),\n            delta: readBig32(data, start + 4)\n          });\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        if (ret.version === 1) {\n          for (var i = 0; i < entryCount; i++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: readBig32(data, start + 4)\n            });\n            start += 8;\n          }\n        } else {\n          for (var _i4 = 0; _i4 < entryCount; _i4++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: -(~readBig32(data, start + 4) + 1)\n            });\n            start += 8;\n          }\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            firstChunk: readBig32(data, start),\n            samplesPerChunk: readBig32(data, start + 4),\n            sampleDescriptionIndex: readBig32(data, start + 8)\n          });\n          start += 12;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(box) {\n      return parseBox(box, true, function(ret, data) {\n        var sampleSize = readBig32(data);\n        var sampleCount = readBig32(data, 4);\n        var entrySizes = [];\n        if (!sampleSize) {\n          var start = 8;\n          for (var i = 0; i < sampleCount; i++) {\n            entrySizes.push(readBig32(data, start));\n            start += 4;\n          }\n        }\n        ret.sampleSize = sampleSize;\n        ret.sampleCount = sampleCount;\n        ret.entrySizes = entrySizes;\n      });\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"co64\",\n    value: function co64(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig64(data, start));\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mfhd = MP4Parser2.mfhd(MP4Parser2.findBox(data, [\"mfhd\"], start)[0]);\n        ret.traf = MP4Parser2.findBox(data, [\"traf\"], start).map(function(t) {\n          return MP4Parser2.traf(t);\n        });\n      });\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.sequenceNumber = readBig32(data);\n      });\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tfhd = MP4Parser2.tfhd(MP4Parser2.findBox(data, [\"tfhd\"], start)[0]);\n        ret.tfdt = MP4Parser2.tfdt(MP4Parser2.findBox(data, [\"tfdt\"], start)[0]);\n        ret.trun = MP4Parser2.trun(MP4Parser2.findBox(data, [\"trun\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(box) {\n      return parseBox(box, true, function(ret, data) {\n        var version = ret.version, flags = ret.flags;\n        var dataLen = data.length;\n        var sampleCount = ret.sampleCount = readBig32(data);\n        var offset = 4;\n        if (dataLen > offset && flags & 1) {\n          ret.dataOffset = -(~readBig32(data, offset) + 1);\n          offset += 4;\n        }\n        if (dataLen > offset && flags & 4) {\n          ret.firstSampleFlags = readBig32(data, offset);\n          offset += 4;\n        }\n        ret.samples = [];\n        if (dataLen > offset) {\n          var sample;\n          for (var i = 0; i < sampleCount; i++) {\n            sample = {};\n            if (flags & 256) {\n              sample.duration = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 512) {\n              sample.size = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 1024) {\n              sample.flags = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 2048) {\n              if (version) {\n                sample.cts = -(~readBig32(data, offset + 4) + 1);\n              } else {\n                sample.cts = readBig32(data, offset);\n              }\n              offset += 4;\n            }\n            ret.samples.push(sample);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 1) {\n          ret.baseMediaDecodeTime = readBig64(data);\n        } else {\n          ret.baseMediaDecodeTime = readBig32(data);\n        }\n      });\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(data) {\n      return !!MP4Parser2.findBox(data, [\"ftyp\"]);\n    }\n  }, {\n    key: \"parseSampleFlags\",\n    value: function parseSampleFlags(flags) {\n      return {\n        isLeading: (flags[0] & 12) >>> 2,\n        dependsOn: flags[0] & 3,\n        isDependedOn: (flags[1] & 192) >>> 6,\n        hasRedundancy: (flags[1] & 48) >>> 4,\n        paddingValue: (flags[1] & 14) >>> 1,\n        isNonSyncSample: flags[1] & 1,\n        degradationPriority: flags[2] << 8 | flags[3]\n      };\n    }\n  }, {\n    key: \"moovToTrack\",\n    value: function moovToTrack(moov, videoTrack, audioTrack) {\n      var _e$esds, _e$esds2;\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia, _t$mdia$hdlr;\n        return ((_t$mdia = t.mdia) === null || _t$mdia === void 0 ? void 0 : (_t$mdia$hdlr = _t$mdia.hdlr) === null || _t$mdia$hdlr === void 0 ? void 0 : _t$mdia$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia2, _t$mdia2$hdlr;\n        return ((_t$mdia2 = t.mdia) === null || _t$mdia2 === void 0 ? void 0 : (_t$mdia2$hdlr = _t$mdia2.hdlr) === null || _t$mdia2$hdlr === void 0 ? void 0 : _t$mdia2$hdlr.handlerType) === \"soun\";\n      });\n      if (vTrack && videoTrack) {\n        var _vTrack$tkhd, _vTrack$mdia, _vTrack$mdia$minf, _vTrack$mdia$minf$stb, _vTrack$mdia2, _vTrack$mdia2$minf, _vTrack$mdia2$minf$st;\n        var v = videoTrack;\n        var _vTrackId = (_vTrack$tkhd = vTrack.tkhd) === null || _vTrack$tkhd === void 0 ? void 0 : _vTrack$tkhd.trackId;\n        if (_vTrackId !== null && _vTrackId !== void 0)\n          v.id = vTrack.tkhd.trackId;\n        v.tkhdDuration = vTrack.tkhd.duration;\n        v.mvhdDurtion = moov.mvhd.duration;\n        v.mvhdTimecale = moov.mvhd.timescale;\n        v.timescale = v.formatTimescale = vTrack.mdia.mdhd.timescale;\n        v.duration = vTrack.mdia.mdhd.duration || v.mvhdDurtion / v.mvhdTimecale * v.timescale;\n        v.rotation = vTrack.tkhd.rotation;\n        v.matrix = vTrack.tkhd.matrix;\n        var e1 = vTrack.mdia.minf.stbl.stsd.entries[0];\n        v.width = e1.width;\n        v.height = e1.height;\n        if (e1.pasp) {\n          v.sarRatio = [e1.pasp.hSpacing, e1.pasp.vSpacing];\n        }\n        if (e1.av1C) {\n          v.codecType = VideoCodecType.AV1;\n          v.codec = e1.av1C.codec;\n          v.av1C = e1.av1C.data;\n          v.colr = e1.colr.data;\n        } else if (e1.hvcC) {\n          v.codecType = VideoCodecType.HEVC;\n          v.codec = e1.hvcC.codec;\n          v.vps = e1.hvcC.vps;\n          v.sps = e1.hvcC.sps;\n          v.pps = e1.hvcC.pps;\n          v.hvcC = e1.hvcC.data;\n        } else if (e1.avcC) {\n          v.codec = e1.avcC.codec;\n          v.sps = e1.avcC.sps;\n          v.pps = e1.avcC.pps;\n        } else {\n          throw new Error(\"unknown video stsd entry\");\n        }\n        v.present = true;\n        v.ext = {};\n        v.ext.stss = (_vTrack$mdia = vTrack.mdia) === null || _vTrack$mdia === void 0 ? void 0 : (_vTrack$mdia$minf = _vTrack$mdia.minf) === null || _vTrack$mdia$minf === void 0 ? void 0 : (_vTrack$mdia$minf$stb = _vTrack$mdia$minf.stbl) === null || _vTrack$mdia$minf$stb === void 0 ? void 0 : _vTrack$mdia$minf$stb.stss;\n        v.ext.ctts = (_vTrack$mdia2 = vTrack.mdia) === null || _vTrack$mdia2 === void 0 ? void 0 : (_vTrack$mdia2$minf = _vTrack$mdia2.minf) === null || _vTrack$mdia2$minf === void 0 ? void 0 : (_vTrack$mdia2$minf$st = _vTrack$mdia2$minf.stbl) === null || _vTrack$mdia2$minf$st === void 0 ? void 0 : _vTrack$mdia2$minf$st.ctts;\n        if (e1 && e1.type === \"encv\") {\n          var _e1$sinf, _e1$sinf$schi, _e1$sinf2, _e1$sinf2$schi, _e1$sinf3, _e1$sinf3$schi, _e1$sinf4, _e1$sinf4$frma;\n          v.isVideoEncryption = true;\n          e1.default_KID = (_e1$sinf = e1.sinf) === null || _e1$sinf === void 0 ? void 0 : (_e1$sinf$schi = _e1$sinf.schi) === null || _e1$sinf$schi === void 0 ? void 0 : _e1$sinf$schi.tenc.default_KID;\n          e1.default_IsEncrypted = (_e1$sinf2 = e1.sinf) === null || _e1$sinf2 === void 0 ? void 0 : (_e1$sinf2$schi = _e1$sinf2.schi) === null || _e1$sinf2$schi === void 0 ? void 0 : _e1$sinf2$schi.tenc.default_IsEncrypted;\n          e1.default_IV_size = (_e1$sinf3 = e1.sinf) === null || _e1$sinf3 === void 0 ? void 0 : (_e1$sinf3$schi = _e1$sinf3.schi) === null || _e1$sinf3$schi === void 0 ? void 0 : _e1$sinf3$schi.tenc.default_IV_size;\n          v.videoSenc = vTrack.mdia.minf.stbl.senc && vTrack.mdia.minf.stbl.senc.samples;\n          e1.data_format = (_e1$sinf4 = e1.sinf) === null || _e1$sinf4 === void 0 ? void 0 : (_e1$sinf4$frma = _e1$sinf4.frma) === null || _e1$sinf4$frma === void 0 ? void 0 : _e1$sinf4$frma.data_format;\n          v.useEME = moov.useEME;\n          v.kidValue = moov.kidValue;\n          v.pssh = moov.pssh;\n          v.encv = e1;\n        }\n      }\n      if (aTrack && audioTrack) {\n        var _aTrack$tkhd, _e$esds3, _e$esds4, _aTrack$mdia, _aTrack$mdia$minf, _aTrack$mdia$minf$stb, _aTrack$mdia2, _aTrack$mdia2$minf, _aTrack$mdia2$minf$st;\n        var a = audioTrack;\n        var _aTrackId = (_aTrack$tkhd = aTrack.tkhd) === null || _aTrack$tkhd === void 0 ? void 0 : _aTrack$tkhd.trackId;\n        if (_aTrackId !== null && _aTrackId !== void 0)\n          a.id = aTrack.tkhd.trackId;\n        a.tkhdDuration = aTrack.tkhd.duration;\n        a.mvhdDurtion = moov.mvhd.duration;\n        a.mvhdTimecale = moov.mvhd.timescale;\n        a.timescale = a.formatTimescale = aTrack.mdia.mdhd.timescale;\n        a.duration = aTrack.mdia.mdhd.duration || a.mvhdDurtion / a.mvhdTimecale * a.timescale;\n        var _e = aTrack.mdia.minf.stbl.stsd.entries[0];\n        a.sampleSize = _e.sampleSize;\n        a.sampleRate = _e.sampleRate;\n        a.channelCount = _e.channelCount;\n        a.present = true;\n        switch (_e.type) {\n          case \"alaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMA;\n            a.sampleRate = 8e3;\n            break;\n          case \"ulaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMU;\n            a.sampleRate = 8e3;\n            break;\n          default:\n            a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n            a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n            a.objectType = ((_e$esds = _e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.objectType) || 2;\n            if (_e.esds)\n              a.config = Array.from(_e.esds.config);\n            a.codec = ((_e$esds2 = _e.esds) === null || _e$esds2 === void 0 ? void 0 : _e$esds2.codec) || \"mp4a.40.2\";\n            break;\n        }\n        a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n        a.objectType = ((_e$esds3 = _e.esds) === null || _e$esds3 === void 0 ? void 0 : _e$esds3.objectType) || 2;\n        if (_e.esds) {\n          if (_e.esds.config) {\n            a.config = Array.from(_e.esds.config);\n          } else {\n            console.warn(\"esds config is null\");\n          }\n        }\n        a.codec = ((_e$esds4 = _e.esds) === null || _e$esds4 === void 0 ? void 0 : _e$esds4.codec) || \"mp4a.40.2\";\n        a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n        a.ext = {};\n        a.ext.stss = (_aTrack$mdia = aTrack.mdia) === null || _aTrack$mdia === void 0 ? void 0 : (_aTrack$mdia$minf = _aTrack$mdia.minf) === null || _aTrack$mdia$minf === void 0 ? void 0 : (_aTrack$mdia$minf$stb = _aTrack$mdia$minf.stbl) === null || _aTrack$mdia$minf$stb === void 0 ? void 0 : _aTrack$mdia$minf$stb.stss;\n        a.ext.ctts = (_aTrack$mdia2 = aTrack.mdia) === null || _aTrack$mdia2 === void 0 ? void 0 : (_aTrack$mdia2$minf = _aTrack$mdia2.minf) === null || _aTrack$mdia2$minf === void 0 ? void 0 : (_aTrack$mdia2$minf$st = _aTrack$mdia2$minf.stbl) === null || _aTrack$mdia2$minf$st === void 0 ? void 0 : _aTrack$mdia2$minf$st.ctts;\n        a.present = true;\n        if (_e && _e.type === \"enca\") {\n          var _e$sinf, _e$sinf$frma, _e$sinf2, _e$sinf2$schi, _e$sinf3, _e$sinf3$schi, _e$sinf4, _e$sinf4$schi;\n          a.isAudioEncryption = true;\n          _e.data_format = (_e$sinf = _e.sinf) === null || _e$sinf === void 0 ? void 0 : (_e$sinf$frma = _e$sinf.frma) === null || _e$sinf$frma === void 0 ? void 0 : _e$sinf$frma.data_format;\n          _e.default_KID = (_e$sinf2 = _e.sinf) === null || _e$sinf2 === void 0 ? void 0 : (_e$sinf2$schi = _e$sinf2.schi) === null || _e$sinf2$schi === void 0 ? void 0 : _e$sinf2$schi.tenc.default_KID;\n          _e.default_IsEncrypted = (_e$sinf3 = _e.sinf) === null || _e$sinf3 === void 0 ? void 0 : (_e$sinf3$schi = _e$sinf3.schi) === null || _e$sinf3$schi === void 0 ? void 0 : _e$sinf3$schi.tenc.default_IsEncrypted;\n          _e.default_IV_size = (_e$sinf4 = _e.sinf) === null || _e$sinf4 === void 0 ? void 0 : (_e$sinf4$schi = _e$sinf4.schi) === null || _e$sinf4$schi === void 0 ? void 0 : _e$sinf4$schi.tenc.default_IV_size;\n          a.audioSenc = aTrack.mdia.minf.stbl.senc && aTrack.mdia.minf.stbl.senc.samples;\n          a.useEME = moov.useEME;\n          a.kidValue = moov.kidValue;\n          a.enca = _e;\n        }\n      }\n      audioTrack && (audioTrack.isVideoEncryption = videoTrack ? videoTrack.isVideoEncryption : false);\n      videoTrack && (videoTrack.isAudioEncryption = audioTrack ? audioTrack.isAudioEncryption : false);\n      if (videoTrack !== null && videoTrack !== void 0 && videoTrack.encv || audioTrack !== null && audioTrack !== void 0 && audioTrack.enca) {\n        var _videoTrack$encv, _audioTrack$enca;\n        var vkid = videoTrack === null || videoTrack === void 0 ? void 0 : (_videoTrack$encv = videoTrack.encv) === null || _videoTrack$encv === void 0 ? void 0 : _videoTrack$encv.default_KID;\n        var akid = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$enca = audioTrack.enca) === null || _audioTrack$enca === void 0 ? void 0 : _audioTrack$enca.default_KID;\n        var kid = vkid || akid ? (vkid || akid).join(\"\") : null;\n        videoTrack && (videoTrack.kid = kid);\n        audioTrack && (audioTrack.kid = kid);\n      }\n      videoTrack && (videoTrack.flags = 3841);\n      audioTrack && (audioTrack.flags = 1793);\n      return {\n        videoTrack,\n        audioTrack\n      };\n    }\n  }, {\n    key: \"evaluateDefaultDuration\",\n    value: function evaluateDefaultDuration(videoTrack, audioTrack, videoSampleCount) {\n      var _audioTrack$samples;\n      var audioSampleCount = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$samples = audioTrack.samples) === null || _audioTrack$samples === void 0 ? void 0 : _audioTrack$samples.length;\n      if (!audioSampleCount)\n        return 1024;\n      var segmentDuration = 1024 * audioSampleCount / audioTrack.timescale;\n      return segmentDuration * videoTrack.timescale / videoSampleCount;\n    }\n  }, {\n    key: \"moofToSamples\",\n    value: function moofToSamples(moof, videoTrack, audioTrack) {\n      var ret = {};\n      if (moof.mfhd) {\n        if (videoTrack)\n          videoTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n        if (audioTrack)\n          audioTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n      }\n      moof.traf.forEach(function(_ref) {\n        var tfhd = _ref.tfhd, tfdt = _ref.tfdt, trun = _ref.trun;\n        if (!tfhd || !trun)\n          return;\n        if (tfdt) {\n          if (videoTrack && videoTrack.id === tfhd.trackId)\n            videoTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n          if (audioTrack && audioTrack.id === tfhd.trackId)\n            audioTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n        }\n        var defaultSize = tfhd.defaultSampleSize || 0;\n        var defaultDuration = tfhd.defaultSampleDuration || MP4Parser2.evaluateDefaultDuration(videoTrack, audioTrack, trun.samples.length || trun.sampleCount);\n        var offset = trun.dataOffset || 0;\n        var dts = 0;\n        var gopId = -1;\n        if (!trun.samples.length && trun.sampleCount) {\n          ret[tfhd.trackId] = [];\n          for (var i = 0; i < trun.sampleCount; i++) {\n            ret[tfhd.trackId].push({\n              offset,\n              dts,\n              duration: defaultDuration,\n              size: defaultSize\n            });\n            dts += defaultDuration;\n            offset += defaultSize;\n          }\n        } else {\n          ret[tfhd.trackId] = trun.samples.map(function(s, index) {\n            s = {\n              offset,\n              dts,\n              pts: dts + (s.cts || 0),\n              duration: s.duration || defaultDuration,\n              size: s.size || defaultSize,\n              gopId,\n              keyframe: index === 0 || s.flags !== null && s.flags !== void 0 && (s.flags & 65536) >>> 0 !== 65536\n            };\n            if (s.keyframe) {\n              gopId++;\n              s.gopId = gopId;\n            }\n            dts += s.duration;\n            offset += s.size;\n            return s;\n          });\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"moovToSamples\",\n    value: function moovToSamples(moov) {\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia3, _t$mdia3$hdlr;\n        return ((_t$mdia3 = t.mdia) === null || _t$mdia3 === void 0 ? void 0 : (_t$mdia3$hdlr = _t$mdia3.hdlr) === null || _t$mdia3$hdlr === void 0 ? void 0 : _t$mdia3$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia4, _t$mdia4$hdlr;\n        return ((_t$mdia4 = t.mdia) === null || _t$mdia4 === void 0 ? void 0 : (_t$mdia4$hdlr = _t$mdia4.hdlr) === null || _t$mdia4$hdlr === void 0 ? void 0 : _t$mdia4$hdlr.handlerType) === \"soun\";\n      });\n      if (!vTrack && !aTrack)\n        return;\n      var videoSamples;\n      var audioSamples;\n      if (vTrack) {\n        var _vTrack$mdia3, _vTrack$mdia3$minf;\n        var videoStbl = (_vTrack$mdia3 = vTrack.mdia) === null || _vTrack$mdia3 === void 0 ? void 0 : (_vTrack$mdia3$minf = _vTrack$mdia3.minf) === null || _vTrack$mdia3$minf === void 0 ? void 0 : _vTrack$mdia3$minf.stbl;\n        if (!videoStbl)\n          return;\n        var stts = videoStbl.stts, stsc = videoStbl.stsc, stsz = videoStbl.stsz, stco = videoStbl.stco, stss = videoStbl.stss, ctts = videoStbl.ctts;\n        if (!stts || !stsc || !stsz || !stco || !stss)\n          return;\n        videoSamples = getSamples(stts, stsc, stsz, stco, ctts, stss);\n      }\n      if (aTrack) {\n        var _aTrack$mdia3, _aTrack$mdia3$minf, _aTrack$mdia$mdhd;\n        var audioStbl = (_aTrack$mdia3 = aTrack.mdia) === null || _aTrack$mdia3 === void 0 ? void 0 : (_aTrack$mdia3$minf = _aTrack$mdia3.minf) === null || _aTrack$mdia3$minf === void 0 ? void 0 : _aTrack$mdia3$minf.stbl;\n        if (!audioStbl)\n          return;\n        var timescale = (_aTrack$mdia$mdhd = aTrack.mdia.mdhd) === null || _aTrack$mdia$mdhd === void 0 ? void 0 : _aTrack$mdia$mdhd.timescale;\n        var _stts = audioStbl.stts, _stsc = audioStbl.stsc, _stsz = audioStbl.stsz, _stco = audioStbl.stco;\n        if (!timescale || !_stts || !_stsc || !_stsz || !_stco)\n          return;\n        audioSamples = getSamples(_stts, _stsc, _stsz, _stco);\n      }\n      return {\n        videoSamples,\n        audioSamples\n      };\n    }\n  }]);\n  return MP4Parser2;\n}();\nfunction getSamples(stts, stsc, stsz, stco, ctts, stss) {\n  var samples = [];\n  var cttsEntries = ctts === null || ctts === void 0 ? void 0 : ctts.entries;\n  var stscEntries = stsc.entries;\n  var stcoEntries = stco.entries;\n  var stszEntrySizes = stsz.entrySizes;\n  var stssEntries = stss === null || stss === void 0 ? void 0 : stss.entries;\n  var keyframeMap;\n  if (stssEntries) {\n    keyframeMap = {};\n    stssEntries.forEach(function(x) {\n      keyframeMap[x - 1] = true;\n    });\n  }\n  var cttsArr;\n  if (cttsEntries) {\n    cttsArr = [];\n    cttsEntries.forEach(function(_ref2) {\n      var count = _ref2.count, offset = _ref2.offset;\n      for (var i = 0; i < count; i++) {\n        cttsArr.push(offset);\n      }\n    });\n  }\n  var sample;\n  var gopId = -1;\n  var dts = 0;\n  var pos = 0;\n  var chunkIndex = 0;\n  var chunkRunIndex = 0;\n  var offsetInChunk = 0;\n  var lastSampleInChunk = stscEntries[0].samplesPerChunk;\n  var lastChunkInRun = stscEntries[1] ? stscEntries[1].firstChunk - 1 : Infinity;\n  stts.entries.forEach(function(_ref3) {\n    var count = _ref3.count, delta = _ref3.delta;\n    for (var i = 0; i < count; i++) {\n      sample = {\n        dts,\n        duration: delta,\n        size: stszEntrySizes[pos] || stsz.sampleSize,\n        offset: stcoEntries[chunkIndex] + offsetInChunk,\n        index: pos\n      };\n      if (stssEntries) {\n        sample.keyframe = keyframeMap[pos];\n        if (sample.keyframe) {\n          gopId++;\n        }\n        sample.gopId = gopId;\n      }\n      if (cttsArr && pos < cttsArr.length) {\n        sample.pts = sample.dts + cttsArr[pos];\n      }\n      samples.push(sample);\n      dts += delta;\n      pos++;\n      if (pos < lastSampleInChunk) {\n        offsetInChunk += sample.size;\n      } else {\n        chunkIndex++;\n        offsetInChunk = 0;\n        if (chunkIndex >= lastChunkInRun) {\n          chunkRunIndex++;\n          lastChunkInRun = stscEntries[chunkRunIndex + 1] ? stscEntries[chunkRunIndex + 1].firstChunk - 1 : Infinity;\n        }\n        lastSampleInChunk += stscEntries[chunkRunIndex].samplesPerChunk;\n      }\n    }\n  });\n  return samples;\n}\nfunction parseVisualSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.width = readBig16(data, 24);\n  ret.height = readBig16(data, 26);\n  ret.horizresolution = readBig32(data, 28);\n  ret.vertresolution = readBig32(data, 32);\n  ret.frameCount = readBig16(data, 40);\n  ret.depth = readBig16(data, 74);\n  return 78;\n}\nfunction parseAudioSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.channelCount = readBig16(data, 16);\n  ret.sampleSize = readBig16(data, 18);\n  ret.sampleRate = readBig32(data, 24) / (1 << 16);\n  return 28;\n}\nfunction parseBox(box, isFullBox, parse) {\n  if (!box)\n    return;\n  if (box.size !== box.data.length) {\n    throw new Error(\"box \".concat(box.type, \" size !== data.length\"));\n  }\n  var ret = {\n    start: box.start,\n    size: box.size,\n    headerSize: box.headerSize,\n    type: box.type\n  };\n  if (isFullBox) {\n    ret.version = box.data[box.headerSize];\n    ret.flags = readBig24(box.data, box.headerSize + 1);\n    ret.headerSize += 4;\n  }\n  parse(ret, box.data.subarray(ret.headerSize), ret.start + ret.headerSize);\n  return ret;\n}\nvar padStart = function padStart2(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nvar toHex = function toHex2() {\n  var hex = [];\n  for (var _len = arguments.length, value = new Array(_len), _key = 0; _key < _len; _key++) {\n    value[_key] = arguments[_key];\n  }\n  value.forEach(function(item) {\n    hex.push(padStart(Number(item).toString(16), 2, 0));\n  });\n  return hex[0];\n};\nexport { MP4Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { concatUint8Array } from \"xgplayer-streaming-shared\";\nvar Decryptor = /* @__PURE__ */ function() {\n  function Decryptor2() {\n    _classCallCheck(this, Decryptor2);\n    var crypto = window.crypto || window.msCrypto;\n    this.subtle = crypto && (crypto.subtle || crypto.webkitSubtle);\n    this.externalDecryptor = null;\n  }\n  _createClass(Decryptor2, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$externalDecrypt;\n      if ((_this$externalDecrypt = this.externalDecryptor) !== null && _this$externalDecrypt !== void 0 && _this$externalDecrypt.destroy) {\n        this.externalDecryptor.destroy();\n      }\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(video, audio) {\n      if (!video && !audio)\n        return;\n      var ret = [];\n      if (video) {\n        ret[0] = this._decryptSegment(video);\n      }\n      if (audio) {\n        ret[1] = this._decryptSegment(audio);\n      }\n      return Promise.all(ret);\n    }\n  }, {\n    key: \"_decryptSegment\",\n    value: function() {\n      var _decryptSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(seg) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = seg.data;\n                if (!seg.key) {\n                  _context2.next = 5;\n                  break;\n                }\n                _context2.next = 4;\n                return this._decryptData(seg.data, seg.key, seg.keyIv);\n              case 4:\n                data = _context2.sent;\n              case 5:\n                if (seg.map) {\n                  _context2.next = 7;\n                  break;\n                }\n                return _context2.abrupt(\"return\", data);\n              case 7:\n                return _context2.abrupt(\"return\", concatUint8Array(seg.map, data));\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function _decryptSegment(_x4) {\n        return _decryptSegment2.apply(this, arguments);\n      }\n      return _decryptSegment;\n    }()\n  }, {\n    key: \"_decryptData\",\n    value: function() {\n      var _decryptData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(data, key, iv) {\n        var aesKey;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.externalDecryptor) {\n                  _context3.next = 6;\n                  break;\n                }\n                _context3.next = 3;\n                return this.externalDecryptor.decrypt(data, key, iv);\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n              case 6:\n                if (this.subtle) {\n                  _context3.next = 8;\n                  break;\n                }\n                throw new Error(\"crypto is not defined\");\n              case 8:\n                _context3.next = 10;\n                return this.subtle.importKey(\"raw\", key, {\n                  name: \"AES-CBC\"\n                }, false, [\"encrypt\", \"decrypt\"]);\n              case 10:\n                aesKey = _context3.sent;\n                _context3.t0 = Uint8Array;\n                _context3.next = 14;\n                return this.subtle.decrypt({\n                  name: \"AES-CBC\",\n                  iv\n                }, aesKey, data);\n              case 14:\n                _context3.t1 = _context3.sent;\n                return _context3.abrupt(\"return\", new _context3.t0(_context3.t1));\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _decryptData(_x5, _x6, _x7) {\n        return _decryptData2.apply(this, arguments);\n      }\n      return _decryptData;\n    }()\n  }]);\n  return Decryptor2;\n}();\nexport { Decryptor };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack } from \"../model/metadata-track.js\";\nimport { concatUint8Array, readBig32 } from \"../utils/index.js\";\nimport { MP4Parser } from \"./mp4-parser.js\";\nvar FMP4Demuxer = /* @__PURE__ */ function() {\n  function FMP4Demuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, FMP4Demuxer2);\n    _defineProperty(this, \"__loadedMoofWraps\", []);\n    _defineProperty(this, \"__lastRemainData\", null);\n    _defineProperty(this, \"__lastRemainDataStart\", 0);\n    _defineProperty(this, \"__nextMoofStart\", -1);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n  }\n  _createClass(FMP4Demuxer2, [{\n    key: \"demuxPart\",\n    value: function demuxPart(partData, partDataStart, moov) {\n      var _this = this;\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      var isAV01 = /av01/.test(videoTrack.codec);\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      var data = partData;\n      var dataStart = partDataStart;\n      if (this.__lastRemainData) {\n        var lastRemainDataEnd = this.__lastRemainDataStart + this.__lastRemainData.byteLength;\n        var continuous = partDataStart <= lastRemainDataEnd && partDataStart > this.__lastRemainDataStart && partDataStart + partData.byteLength > lastRemainDataEnd;\n        if (continuous) {\n          var noDuplicateData = partData.subarray(this.__lastRemainData.byteLength + this.__lastRemainDataStart - partDataStart);\n          data = concatUint8Array(this.__lastRemainData, noDuplicateData);\n          dataStart = this.__lastRemainDataStart;\n          this.__lastRemainData = null;\n        } else {\n          this.__lastRemainData = null;\n          this.__lastRemainDataStart = 0;\n          this.__nextMoofStart = -1;\n        }\n      }\n      if (!moov) {\n        var moovBox = MP4Parser.findBox(data, [\"moov\"])[0];\n        if (!moovBox)\n          throw new Error(\"cannot found moov box\");\n        moov = MP4Parser.moov(moovBox);\n      }\n      if (data) {\n        var dataEnd = dataStart + data.byteLength;\n        if (!videoExist && !audioExist) {\n          MP4Parser.moovToTrack(moov, videoTrack, audioTrack);\n        }\n        var moofBoxes = [];\n        if (this.__nextMoofStart < 0) {\n          MP4Parser.findBox(data, [\"moof\"], dataStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        } else if (this.__nextMoofStart >= dataStart && this.__nextMoofStart <= dataEnd - 8) {\n          MP4Parser.findBox(data.subarray(this.__nextMoofStart - dataStart), [\"moof\"], this.__nextMoofStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        }\n        moofBoxes.filter(function(moofBox) {\n          return moofBox.size <= moofBox.data.length;\n        }).forEach(function(moofBox) {\n          var moof = MP4Parser.moof(moofBox);\n          _this.__nextMoofStart = moof.start + Math.max.apply(Math, _toConsumableArray(moof.traf.map(function(v) {\n            return v.trun.samples.reduce(function(ret, w) {\n              return ret + w.size;\n            }, v.trun.dataOffset || 0);\n          })));\n          _this.__loadedMoofWraps.push({\n            start: moof.start,\n            nextMoofStart: _this.__nextMoofStart,\n            moof\n          });\n          _this.__loadedMoofWraps.sort(function(p, n) {\n            return p.start - n.start;\n          });\n        });\n        var _iterator = _createForOfIteratorHelper(this.__loadedMoofWraps), _step;\n        try {\n          var _loop = function _loop2() {\n            var moofWrap = _step.value;\n            if (moofWrap.start > dataEnd || moofWrap.nextMoofStart < dataStart) {\n              return \"continue\";\n            }\n            var moofStart = moofWrap.start;\n            var tracks = MP4Parser.moofToSamples(moofWrap.moof, videoTrack, audioTrack);\n            var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n            var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n            var nalSize;\n            Object.keys(tracks).forEach(function(k) {\n              if (videoTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset += moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                  sample.duration = x.duration;\n                  sample.gopId = x.gopId;\n                  if (x.keyframe)\n                    sample.setToKeyframe();\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  sample.data = sampleData;\n                  if (!isAV01) {\n                    var start = 0;\n                    var len = sampleData.length - 1;\n                    while (start < len) {\n                      nalSize = readBig32(sampleData, start);\n                      start += 4;\n                      sample.units.push(sampleData.subarray(start, start + nalSize));\n                      start += nalSize;\n                    }\n                  }\n                  _this.__lastRemainDataStart = xStart + x.size;\n                  videoTrack.samples.push(sample);\n                });\n              } else if (audioTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset + moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n                  _this.__lastRemainDataStart = xStart + x.size;\n                });\n              }\n            });\n          };\n          for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n            var _ret = _loop();\n            if (_ret === \"continue\")\n              continue;\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      if (this.__lastRemainDataStart > dataStart && this.__lastRemainDataStart < data.byteLength + dataStart) {\n        this.__lastRemainData = data.subarray(this.__lastRemainDataStart - dataStart);\n      } else {\n        this.__lastRemainData = data;\n        this.__lastRemainDataStart = dataStart;\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].pts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts;\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demux\",\n    value: function demux(videoData, audioData) {\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      if (audioData) {\n        if (!audioExist) {\n          var moovBox = MP4Parser.findBox(audioData, [\"moov\"])[0];\n          if (!moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(moovBox), null, audioTrack);\n        }\n        var moofBox = MP4Parser.findBox(audioData, [\"moof\"])[0];\n        if (moofBox) {\n          var samples = MP4Parser.moofToSamples(MP4Parser.moof(moofBox), null, audioTrack)[audioTrack.id];\n          var baseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          if (samples) {\n            var baseOffset = moofBox.start;\n            samples.map(function(x) {\n              x.offset += baseOffset;\n              var sampleData = audioData.subarray(x.offset, x.offset + x.size);\n              audioTrack.samples.push(new AudioSample(x.dts + baseMediaDecodeTime, sampleData, x.duration));\n            });\n          }\n        }\n      }\n      if (videoData) {\n        if (!videoExist && !audioExist) {\n          var _moovBox = MP4Parser.findBox(videoData, [\"moov\"])[0];\n          if (!_moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(_moovBox), videoTrack, audioTrack);\n        }\n        var _moofBox = MP4Parser.findBox(videoData, [\"moof\"])[0];\n        if (_moofBox) {\n          var tracks = MP4Parser.moofToSamples(MP4Parser.moof(_moofBox), videoTrack, audioTrack);\n          var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n          var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          var _baseOffset = _moofBox.start;\n          var nalSize;\n          Object.keys(tracks).forEach(function(k) {\n            if (videoTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                sample.duration = x.duration;\n                sample.gopId = x.gopId;\n                if (x.keyframe)\n                  sample.setToKeyframe();\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                sample.data = sampleData;\n                var start = 0;\n                var len = sampleData.length - 1;\n                while (start < len) {\n                  nalSize = readBig32(sampleData, start);\n                  start += 4;\n                  sample.units.push(sampleData.subarray(start, start + nalSize));\n                  start += nalSize;\n                }\n                videoTrack.samples.push(sample);\n              });\n            } else if (audioTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n              });\n            }\n          });\n        }\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n      this.metadataTrack.reset();\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      return MP4Parser.probe(data);\n    }\n  }]);\n  return FMP4Demuxer2;\n}();\nexport { FMP4Demuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction Concat(ResultConstructor) {\n  var totalLength = 0;\n  for (var _len = arguments.length, arrays = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    arrays[_key - 1] = arguments[_key];\n  }\n  arrays.forEach(function(arr) {\n    totalLength += arr.length;\n  });\n  var result = new ResultConstructor(totalLength);\n  var offset = 0;\n  arrays.forEach(function(arr) {\n    result.set(arr, offset);\n    offset += arr.length;\n  });\n  return result;\n}\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n    this.buffer = new Uint8Array(0);\n  }\n  _createClass(Buffer2, [{\n    key: \"write\",\n    value: function write() {\n      var self = this;\n      for (var _len2 = arguments.length, buffer = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        buffer[_key2] = arguments[_key2];\n      }\n      buffer.forEach(function(item) {\n        if (item) {\n          self.buffer = Concat(Uint8Array, self.buffer, item);\n        } else {\n          window.console.warn(item);\n        }\n      });\n    }\n  }], [{\n    key: \"writeUint16\",\n    value: function writeUint16(value) {\n      return new Uint8Array([value >> 8 & 255, value & 255]);\n    }\n  }, {\n    key: \"writeUint32\",\n    value: function writeUint32(value) {\n      return new Uint8Array([value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255]);\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer as default };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray, slicedToArray as _slicedToArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { concatUint8Array, parse } from \"../utils/index.js\";\nimport Buffer from \"./buffer.js\";\nvar UINT32_MAX = Math.pow(2, 32) - 1;\nvar MP4 = /* @__PURE__ */ function() {\n  function MP42() {\n    _classCallCheck(this, MP42);\n  }\n  _createClass(MP42, null, [{\n    key: \"box\",\n    value: function box(type) {\n      for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        payload[_key - 1] = arguments[_key];\n      }\n      payload = payload.filter(Boolean);\n      var size = 8 + payload.reduce(function(p, c) {\n        return p + c.byteLength;\n      }, 0);\n      var ret = new Uint8Array(size);\n      ret[0] = size >> 24 & 255;\n      ret[1] = size >> 16 & 255;\n      ret[2] = size >> 8 & 255;\n      ret[3] = size & 255;\n      ret.set(type, 4);\n      var offset = 8;\n      payload.forEach(function(data) {\n        ret.set(data, offset);\n        offset += data.byteLength;\n      });\n      return ret;\n    }\n  }, {\n    key: \"ftyp\",\n    value: function ftyp(tracks) {\n      var isHevc = tracks.find(function(t) {\n        return t.type === TrackType.VIDEO && t.codecType === VideoCodecType.HEVC;\n      });\n      return isHevc ? MP42.FTYPHEV1 : MP42.FTYPAVC1;\n    }\n  }, {\n    key: \"initSegment\",\n    value: function initSegment(tracks) {\n      var ftyp = MP42.ftyp(tracks);\n      var init = concatUint8Array(ftyp, MP42.moov(tracks));\n      return init;\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(data) {\n      var content = new Uint8Array([\n        1,\n        0,\n        0,\n        0\n      ].concat([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75], [0, 0, 0, 1], parse(data.kid), [0, 0, 0, 0]));\n      return MP42.box(MP42.types.pssh, content);\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(tracks) {\n      if (tracks[0].useEME && (tracks[0].encv || tracks[0].enca)) {\n        if (!tracks[0].pssh) {\n          tracks[0].pssh = {\n            kid: tracks[0].kid\n          };\n        }\n        var pssh = this.pssh(tracks[0].pssh);\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale), MP42.mvex(tracks)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [pssh]));\n      } else {\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [MP42.mvex(tracks)]));\n      }\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mvhd2 = MP42.box(MP42.types.mvhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        1,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        255,\n        255,\n        255,\n        255\n      ]));\n      return mvhd2;\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(track) {\n      var trak2 = MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.tkhdDuration || 0, track.width, track.height), MP42.mdia(track));\n      return trak2;\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(id, duration) {\n      var width = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var height = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var tkhd2 = MP42.box(MP42.types.tkhd, new Uint8Array([\n        0,\n        0,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        id >> 24 & 255,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        0,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        0,\n        0,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        0\n      ]));\n      return tkhd2;\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(track) {\n      var mdia2 = MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minf(track));\n      return mdia2;\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mdhd2 = MP42.box(MP42.types.mdhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        85,\n        196,\n        0,\n        0\n      ]));\n      return mdhd2;\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(type) {\n      var hdlr2 = MP42.box(MP42.types.hdlr, MP42.HDLR_TYPES[type]);\n      return hdlr2;\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(track) {\n      var minf2 = MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stbl(track));\n      return minf2;\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(track) {\n      var extBox = [];\n      if (track && track.ext) {\n        track.ext.stss && extBox.push(MP42.stss(track.ext.stss.entries));\n      }\n      var stbl2 = MP42.box(MP42.types.stbl, MP42.stsd(track), MP42.STTS, extBox[0], MP42.STSC, MP42.STSZ, MP42.STCO);\n      return stbl2;\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(track) {\n      var content;\n      if (track.type === \"audio\") {\n        if (track.useEME && track.enca) {\n          content = MP42.enca(track);\n        } else {\n          if (track.codecType === AudioCodecType.OPUS) {\n            content = MP42.opus(track);\n          } else {\n            content = MP42.mp4a(track);\n          }\n        }\n      } else if (track.useEME && track.encv) {\n        content = MP42.encv(track);\n      } else if (track.av1C) {\n        content = MP42.av01(track);\n      } else {\n        content = MP42.avc1hev1(track);\n      }\n      var stsd2 = MP42.box(MP42.types.stsd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]), content);\n      return stsd2;\n    }\n  }, {\n    key: \"enca\",\n    value: function enca(data) {\n      var channelCount = data.enca.channelCount;\n      var sampleRate = data.enca.sampleRate;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        sampleRate >> 8 & 255,\n        sampleRate & 255,\n        0,\n        0\n      ]);\n      var esds = MP42.esds(data.config);\n      var sinf = MP42.sinf(data.enca);\n      return MP42.box(MP42.types.enca, content, esds, sinf);\n    }\n  }, {\n    key: \"encv\",\n    value: function encv(track) {\n      var _concat$concat, _ref;\n      var sps = track.sps.length > 0 ? track.sps[0] : [];\n      var pps = track.pps.length > 0 ? track.pps[0] : [];\n      var width = track.width;\n      var height = track.height;\n      var hSpacing = track.sarRatio[0];\n      var vSpacing = track.sarRatio[1];\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        18,\n        100,\n        97,\n        105,\n        108,\n        121,\n        109,\n        111,\n        116,\n        105,\n        111,\n        110,\n        47,\n        104,\n        108,\n        115,\n        46,\n        106,\n        115,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]);\n      var avcc = new Uint8Array((_concat$concat = (_ref = [\n        1,\n        sps[1],\n        sps[2],\n        sps[3],\n        252 | 3,\n        224 | 1,\n        sps.length >>> 8 & 255,\n        sps.length & 255\n      ]).concat.apply(_ref, _toConsumableArray(sps)).concat([1, pps.length >>> 8 & 255, pps.length & 255])).concat.apply(_concat$concat, _toConsumableArray(pps)));\n      var btrt = new Uint8Array([0, 0, 88, 57, 0, 15, 200, 192, 0, 4, 86, 72]);\n      var sinf = MP42.sinf(track.encv);\n      var pasp = new Uint8Array([\n        hSpacing >> 24,\n        hSpacing >> 16 & 255,\n        hSpacing >> 8 & 255,\n        hSpacing & 255,\n        vSpacing >> 24,\n        vSpacing >> 16 & 255,\n        vSpacing >> 8 & 255,\n        vSpacing & 255\n      ]);\n      return MP42.box(MP42.types.encv, content, MP42.box(MP42.types.avcC, avcc), MP42.box(MP42.types.btrt, btrt), sinf, MP42.box(MP42.types.pasp, pasp));\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(data) {\n      var content = new Uint8Array([]);\n      var tenc = MP42.tenc(data);\n      return MP42.box(MP42.types.schi, content, tenc);\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(data) {\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.default_IsEncrypted & 255,\n        data.default_IV_size & 255\n      ].concat(parse(data.default_KID)));\n      return MP42.box(MP42.types.tenc, content);\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(data) {\n      var content = new Uint8Array([]);\n      var frma = new Uint8Array([data.data_format.charCodeAt(0), data.data_format.charCodeAt(1), data.data_format.charCodeAt(2), data.data_format.charCodeAt(3)]);\n      var schm = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        99,\n        101,\n        110,\n        99,\n        0,\n        1,\n        0,\n        0\n      ]);\n      var schi = MP42.schi(data);\n      return MP42.box(MP42.types.sinf, content, MP42.box(MP42.types.frma, frma), MP42.box(MP42.types.schm, schm), schi);\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(track) {\n      return MP42.box(MP42.types.av01, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), track.av1C, track.colr);\n    }\n  }, {\n    key: \"avc1hev1\",\n    value: function avc1hev1(track) {\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var typ = isHevc ? MP42.types.hvc1 : MP42.types.avc1;\n      var config = isHevc ? MP42.hvcC(track) : MP42.avcC(track);\n      var boxes = [new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), config];\n      if (isHevc) {\n        boxes.push(MP42.box(MP42.types.fiel, new Uint8Array([1, 0])));\n      } else if (track.sarRatio && track.sarRatio.length > 1) {\n        boxes.push(MP42.pasp(track.sarRatio));\n      }\n      return MP42.box.apply(MP42, [typ].concat(boxes));\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(track) {\n      var _concat$concat2, _ref2;\n      var sps = [];\n      var pps = [];\n      var len;\n      track.sps.forEach(function(s) {\n        len = s.byteLength;\n        sps.push(len >>> 8 & 255);\n        sps.push(len & 255);\n        sps.push.apply(sps, _toConsumableArray(s));\n      });\n      track.pps.forEach(function(p) {\n        len = p.byteLength;\n        pps.push(len >>> 8 & 255);\n        pps.push(len & 255);\n        pps.push.apply(pps, _toConsumableArray(p));\n      });\n      return MP42.box(MP42.types.avcC, new Uint8Array((_concat$concat2 = (_ref2 = [\n        1,\n        sps[3],\n        sps[4],\n        sps[5],\n        252 | 3,\n        224 | track.sps.length\n      ]).concat.apply(_ref2, sps).concat([track.pps.length])).concat.apply(_concat$concat2, pps)));\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(track) {\n      var hvcC2 = track.hvcC;\n      if (hvcC2 instanceof ArrayBuffer || hvcC2 instanceof Uint8Array)\n        return hvcC2;\n      var vps = track.vps, sps = track.sps, pps = track.pps;\n      var data;\n      if (hvcC2) {\n        var pcf = hvcC2.generalProfileCompatibilityFlags;\n        var cif = hvcC2.generalConstraintIndicatorFlags;\n        var numOfArrays = (vps.length && 1) + (sps.length && 1) + (pps.length && 1);\n        data = [\n          1,\n          hvcC2.generalProfileSpace << 6 | hvcC2.generalTierFlag << 5 | hvcC2.generalProfileIdc,\n          pcf >>> 24,\n          pcf >>> 16,\n          pcf >>> 8,\n          pcf,\n          cif[0],\n          cif[1],\n          cif[2],\n          cif[3],\n          cif[4],\n          cif[5],\n          hvcC2.generalLevelIdc,\n          240,\n          0,\n          252,\n          hvcC2.chromaFormatIdc | 252,\n          hvcC2.bitDepthLumaMinus8 | 248,\n          hvcC2.bitDepthChromaMinus8 | 248,\n          0,\n          0,\n          hvcC2.numTemporalLayers << 3 | hvcC2.temporalIdNested << 2 | 3,\n          numOfArrays\n        ];\n        var write = function write2(x) {\n          var _data;\n          data.push(x.length >> 8, x.length);\n          (_data = data).push.apply(_data, _toConsumableArray(x));\n        };\n        if (vps.length) {\n          data.push(160, 0, vps.length);\n          vps.forEach(write);\n        }\n        if (sps.length) {\n          data.push(161, 0, sps.length);\n          sps.forEach(write);\n        }\n        if (pps.length) {\n          data.push(162, 0, pps.length);\n          pps.forEach(write);\n        }\n      } else {\n        data = [\n          1,\n          1,\n          96,\n          0,\n          0,\n          0,\n          144,\n          0,\n          0,\n          0,\n          0,\n          0,\n          93,\n          240,\n          0,\n          252,\n          253,\n          248,\n          248,\n          0,\n          0,\n          15,\n          3,\n          160,\n          0,\n          1,\n          0,\n          24,\n          64,\n          1,\n          12,\n          1,\n          255,\n          255,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          153,\n          152,\n          9,\n          161,\n          0,\n          1,\n          0,\n          45,\n          66,\n          1,\n          1,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          160,\n          2,\n          128,\n          128,\n          45,\n          22,\n          89,\n          153,\n          164,\n          147,\n          43,\n          154,\n          128,\n          128,\n          128,\n          130,\n          0,\n          0,\n          3,\n          0,\n          2,\n          0,\n          0,\n          3,\n          0,\n          50,\n          16,\n          162,\n          0,\n          1,\n          0,\n          7,\n          68,\n          1,\n          193,\n          114,\n          180,\n          98,\n          64\n        ];\n      }\n      return MP42.box(MP42.types.hvcC, new Uint8Array(data));\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2), hSpacing = _ref4[0], vSpacing = _ref4[1];\n      return MP42.box(MP42.types.pasp, new Uint8Array([hSpacing >> 24, hSpacing >> 16 & 255, hSpacing >> 8 & 255, hSpacing & 255, vSpacing >> 24, vSpacing >> 16 & 255, vSpacing >> 8 & 255, vSpacing & 255]));\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(track) {\n      return MP42.box(MP42.types.mp4a, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]), track.config.length ? MP42.esds(track.config) : void 0);\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(config) {\n      var len = config.length;\n      var esds2 = MP42.box(MP42.types.esds, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        3,\n        23 + len,\n        0,\n        0,\n        0,\n        4,\n        15 + len,\n        64,\n        21,\n        0,\n        6,\n        0,\n        0,\n        0,\n        218,\n        192,\n        0,\n        0,\n        218,\n        192,\n        5\n      ].concat([len]).concat(config).concat(\n        [6, 1, 2]\n      )));\n      return esds2;\n    }\n  }, {\n    key: \"opus\",\n    value: function opus(track) {\n      var opusAudioDescription = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]);\n      var opusSpecificConfig = track.config.length ? MP42.dOps(track) : [];\n      return MP42.box(MP42.types.Opus, opusAudioDescription, opusSpecificConfig);\n    }\n  }, {\n    key: \"dOps\",\n    value: function dOps(track) {\n      if (track.config) {\n        track.config[4] = track.sampleRate >>> 24 & 255;\n        track.config[5] = track.sampleRate >>> 16 & 255;\n        track.config[6] = track.sampleRate >>> 8 & 255;\n        track.config[7] = track.sampleRate & 255;\n        return MP42.box(MP42.types.dOps, track.config);\n      }\n    }\n  }, {\n    key: \"mvex\",\n    value: function mvex(tracks) {\n      var mvex2 = MP42.box.apply(MP42, [MP42.types.mvex].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trex(t.id);\n      }))));\n      return mvex2;\n    }\n  }, {\n    key: \"trex\",\n    value: function trex(id) {\n      var trex2 = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        1\n      ]));\n      return trex2;\n    }\n  }, {\n    key: \"trex1\",\n    value: function trex1(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"trex2\",\n    value: function trex2(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(tracks) {\n      var moof2 = MP42.box.apply(MP42, [MP42.types.moof, MP42.mfhd(tracks[0].samples ? tracks[0].samples[0].gopId : 0)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.traf(t);\n      }))));\n      return moof2;\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(sequenceNumber) {\n      var mfhd2 = MP42.box(MP42.types.mfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        sequenceNumber >> 24,\n        sequenceNumber >> 16 & 255,\n        sequenceNumber >> 8 & 255,\n        sequenceNumber & 255\n      ]));\n      return mfhd2;\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(track) {\n      var tfhd = MP42.tfhd(track.id);\n      var tfdt = MP42.tfdt(track, track.baseMediaDecodeTime);\n      var sencLength = 0;\n      var samples;\n      if (track.isVideo && track.videoSenc) {\n        samples = track.videoSenc;\n        samples.forEach(function(item) {\n          sencLength = sencLength + 8;\n          if (item.subsamples && item.subsamples.length) {\n            sencLength = sencLength + 2;\n            sencLength = sencLength + item.subsamples.length * 6;\n          }\n        });\n      }\n      track.videoSencLength = sencLength;\n      if (!track.useEME || !track.isVideoEncryption && !track.isAudioEncryption) {\n        var sdtp = MP42.sdtp(track);\n        var offset = 16 + 20 + 8 + 16 + 8 + 8;\n        return MP42.box(MP42.types.traf, tfhd, tfdt, sdtp, MP42.trun(track.samples, sdtp.byteLength + offset));\n      } else if (track.isVideoEncryption) {\n        if (track.isVideo) {\n          var saiz = MP42.saiz(track);\n          var saio = MP42.saio(track);\n          var trun = MP42.trun1(track);\n          var senc = MP42.senc(track);\n          var traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, saiz, saio, trun, senc);\n          return traf2;\n        } else {\n          if (!track.isAudioEncryption) {\n            var sbgp = MP42.sbgp();\n            var _trun = MP42.trun1(track);\n            return MP42.box(MP42.types.traf, tfhd, tfdt, sbgp, _trun);\n          } else {\n            var _sbgp = MP42.sbgp();\n            var _saiz = MP42.saiz(track);\n            var _saio = MP42.saio(track);\n            var _senc = MP42.senc(track);\n            var _trun2 = MP42.trun1(track);\n            var _traf = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp, _saiz, _saio, _senc, _trun2);\n            return _traf;\n          }\n        }\n      } else {\n        if (track.isVideo) {\n          var _trun3 = MP42.trun1(track);\n          return MP42.box(MP42.types.traf, tfhd, tfdt, _trun3);\n        } else {\n          var _sbgp2 = MP42.sbgp();\n          var _saiz2 = MP42.saiz(track);\n          var _saio2 = MP42.saio(track);\n          var _senc2 = MP42.senc(track);\n          var _trun4 = MP42.trun1(track);\n          var _traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp2, _saiz2, _saio2, _senc2, _trun4);\n          return _traf2;\n        }\n      }\n    }\n  }, {\n    key: \"sdtp\",\n    value: function sdtp(data) {\n      var buffer = new Buffer();\n      data.samples.forEach(function(item) {\n        buffer.write(new Uint8Array(data.isVideo ? [item.keyframe ? 32 : 16] : [16]));\n      });\n      return MP42.box(MP42.types.sdtp, this.extension(0, 0), buffer.buffer);\n    }\n  }, {\n    key: \"trun1\",\n    value: function trun1(data) {\n      var buffer = new Buffer();\n      var sampleCount = Buffer.writeUint32(data.samples.length);\n      var offset = null;\n      if (data.isVideo) {\n        var sencLength = data.videoSencLength;\n        offset = Buffer.writeUint32(data.samples.length * 16 + sencLength + 149);\n        if (!data.isVideoEncryption && data.isAudioEncryption) {\n          offset = Buffer.writeUint32(data.samples.length * 16 + 92);\n        }\n      } else {\n        var len = data.samples.length * 12 + 124;\n        if (data.isAudioEncryption) {\n          len = data.samples.length * 12 + 8 * data.audioSenc.length + 177;\n        }\n        offset = Buffer.writeUint32(len);\n      }\n      data.samples.forEach(function(item) {\n        buffer.write(Buffer.writeUint32(item.duration));\n        buffer.write(Buffer.writeUint32(item.size));\n        buffer.write(Buffer.writeUint32(item.keyframe ? 33554432 : 65536));\n        if (data.isVideo) {\n          buffer.write(Buffer.writeUint32(item.cts ? item.cts : 0));\n        }\n      });\n      return MP42.box(MP42.types.trun, this.extension(0, data.flags), sampleCount, offset, buffer.buffer);\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(data) {\n      var buffer = new Buffer();\n      var len = data.samples.length;\n      var ceil = data.isVideo ? 16 : 8;\n      var flag = data.isVideo ? 2 : 0;\n      var samples = [];\n      var samplesLength = 0;\n      if (data.isVideo) {\n        samples = data.videoSenc;\n        samplesLength = data.videoSencLength;\n      } else {\n        samples = data.audioSenc;\n      }\n      samplesLength = samplesLength || ceil * len;\n      buffer.write(Buffer.writeUint32(16 + samplesLength), MP42.types.senc, this.extension(0, flag));\n      buffer.write(Buffer.writeUint32(len));\n      samples.forEach(function(item) {\n        for (var i = 0; i < item.InitializationVector.length; i++) {\n          buffer.write(new Uint8Array([item.InitializationVector[i]]));\n        }\n        if (item.subsamples && item.subsamples.length) {\n          buffer.write(Buffer.writeUint16(item.subsamples.length));\n          item.subsamples.forEach(function(value) {\n            buffer.write(Buffer.writeUint16(value.BytesOfClearData));\n            buffer.write(Buffer.writeUint32(value.BytesOfProtectedData));\n          });\n        }\n      });\n      return buffer.buffer;\n    }\n  }, {\n    key: \"saio\",\n    value: function saio(data) {\n      var length = data.samples.length * 12 + 141;\n      if (!data.isVideo && data.isAudioEncryption) {\n        length = 149;\n      }\n      var content = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, length >> 24 & 255, length >> 16 & 255, length >> 8 & 255, length & 255]);\n      return MP42.box(MP42.types.saio, content);\n    }\n  }, {\n    key: \"saiz\",\n    value: function saiz(data) {\n      var samplesLength = data.samples.length;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        16,\n        samplesLength >> 24 & 255,\n        samplesLength >> 16 & 255,\n        samplesLength >> 8 & 255,\n        samplesLength & 255\n      ]);\n      return MP42.box(MP42.types.saiz, content);\n    }\n  }, {\n    key: \"sbgp\",\n    value: function sbgp() {\n      var content = new Uint8Array([\n        114,\n        111,\n        108,\n        108,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        1,\n        25,\n        0,\n        0,\n        0,\n        1\n      ]);\n      return MP42.box(MP42.types.sbgp, this.extension(0, 0), content);\n    }\n  }, {\n    key: \"extension\",\n    value: function extension(version, flag) {\n      return new Uint8Array([version, flag >> 16 & 255, flag >> 8 & 255, flag & 255]);\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(id) {\n      return MP42.box(MP42.types.tfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255\n      ]));\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(data, baseMediaDecodeTime) {\n      var upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));\n      var lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));\n      if (data.useEME && (data.isVideoEncryption || data.isAudioEncryption)) {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          0,\n          0,\n          0,\n          0,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      } else {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          1,\n          0,\n          0,\n          0,\n          upperWordBaseMediaDecodeTime >> 24,\n          upperWordBaseMediaDecodeTime >> 16 & 255,\n          upperWordBaseMediaDecodeTime >> 8 & 255,\n          upperWordBaseMediaDecodeTime & 255,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      }\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(samples, offset) {\n      var sampleLen = samples.length;\n      var dataLen = 12 + 16 * sampleLen;\n      offset += 8 + dataLen;\n      var data = new Uint8Array(dataLen);\n      data.set([\n        0,\n        0,\n        15,\n        1,\n        sampleLen >>> 24 & 255,\n        sampleLen >>> 16 & 255,\n        sampleLen >>> 8 & 255,\n        sampleLen & 255,\n        offset >>> 24 & 255,\n        offset >>> 16 & 255,\n        offset >>> 8 & 255,\n        offset & 255\n      ], 0);\n      for (var i = 0; i < sampleLen; i++) {\n        var _samples$i = samples[i], duration = _samples$i.duration, size = _samples$i.size, _samples$i$flag = _samples$i.flag, flag = _samples$i$flag === void 0 ? {} : _samples$i$flag, _samples$i$cts = _samples$i.cts, cts = _samples$i$cts === void 0 ? 0 : _samples$i$cts;\n        data.set([\n          duration >>> 24 & 255,\n          duration >>> 16 & 255,\n          duration >>> 8 & 255,\n          duration & 255,\n          size >>> 24 & 255,\n          size >>> 16 & 255,\n          size >>> 8 & 255,\n          size & 255,\n          flag.isLeading << 2 | (flag.dependsOn === null || flag.dependsOn === void 0 ? 1 : flag.dependsOn),\n          flag.isDependedOn << 6 | flag.hasRedundancy << 4 | flag.paddingValue << 1 | (flag.isNonSyncSample === null || flag.isNonSyncSample === void 0 ? 1 : flag.isNonSyncSample),\n          flag.degradationPriority & 240 << 8,\n          flag.degradationPriority & 15,\n          cts >>> 24 & 255,\n          cts >>> 16 & 255,\n          cts >>> 8 & 255,\n          cts & 255\n        ], 12 + 16 * i);\n      }\n      return MP42.box(MP42.types.trun, data);\n    }\n  }, {\n    key: \"moovMP4\",\n    value: function moovMP4(tracks) {\n      return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].duration, tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trackMP4(t);\n      }))));\n    }\n  }, {\n    key: \"trackMP4\",\n    value: function trackMP4(track) {\n      return MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.duration, track.width, track.height), MP42.mdiaMP4(track));\n    }\n  }, {\n    key: \"mdiaMP4\",\n    value: function mdiaMP4(track) {\n      return MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minfMP4(track));\n    }\n  }, {\n    key: \"minfMP4\",\n    value: function minfMP4(track) {\n      return MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stblMP4(track));\n    }\n  }, {\n    key: \"stblMP4\",\n    value: function stblMP4(track) {\n      var ext = track.ext;\n      var boxes = [MP42.stsd(track), MP42.stts(ext.stts), MP42.stsc(ext.stsc), MP42.stsz(ext.stsz), MP42.stco(ext.stco)];\n      if (ext.stss.length) {\n        boxes.push(MP42.stss(ext.stss));\n      }\n      if (ext.ctts.length) {\n        boxes.push(MP42.ctts(ext.ctts));\n      }\n      return MP42.box.apply(MP42, [MP42.types.stbl].concat(boxes));\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref5) {\n        var value = _ref5.value, count = _ref5.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.stts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(entries) {\n      var len = entries.length;\n      var data = new Uint8Array(12 * len);\n      var offset = 0;\n      entries.forEach(function(_ref6) {\n        var firstChunk = _ref6.firstChunk, samplesPerChunk = _ref6.samplesPerChunk, sampleDescIndex = _ref6.sampleDescIndex;\n        data.set([firstChunk >> 24, firstChunk >> 16 & 255, firstChunk >> 8 & 255, firstChunk & 255, samplesPerChunk >> 24, samplesPerChunk >> 16 & 255, samplesPerChunk >> 8 & 255, samplesPerChunk & 255, sampleDescIndex >> 24, sampleDescIndex >> 16 & 255, sampleDescIndex >> 8 & 255, sampleDescIndex & 255], offset);\n        offset += 12;\n      });\n      return MP42.box(MP42.types.stsc, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(samplesSizes) {\n      var len = samplesSizes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      samplesSizes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stsz, concatUint8Array(new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(offsets) {\n      var len = offsets.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      offsets.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stco, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(keyframeIndexes) {\n      var len = keyframeIndexes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      keyframeIndexes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stss, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref7) {\n        var value = _ref7.value, count = _ref7.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.ctts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"styp\",\n    value: function styp() {\n      return MP42.box(MP42.types.styp, new Uint8Array([109, 115, 100, 104, 0, 0, 0, 0, 109, 115, 100, 104, 109, 115, 105, 120]));\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(data) {\n      var timescale = data.timescale;\n      var duration = data.samples[0].duration;\n      var durationCount = duration * data.samples.length;\n      var earliestTime = data.samples[0].sampleOffset * duration;\n      var mdatSize = 8;\n      data.samples.forEach(function(item) {\n        mdatSize += item.size;\n      });\n      var length = 0;\n      if (data.isVideo) {\n        var sencLength = 0;\n        var samples;\n        if (data.videoSenc) {\n          samples = data.videoSenc;\n        }\n        if (data.isVideo) {\n          samples.forEach(function(item) {\n            sencLength = sencLength + 8;\n            if (item.subsamples && item.subsamples.length) {\n              sencLength = sencLength + 2;\n              sencLength = sencLength + item.subsamples.length * 6;\n            }\n          });\n        }\n        data.videoSencLength = sencLength;\n        length = mdatSize + 141 + data.samples.length * 16 + sencLength;\n        if (data.useEME && data.isAudioEncryption && !data.isVideoEncryption) {\n          length = mdatSize + data.samples.length * 16 + 84;\n        }\n      } else {\n        length = mdatSize + 116 + data.samples.length * 12;\n        if (data.useEME && data.isAudioEncryption) {\n          length = mdatSize + 169 + data.samples.length * 12 + 8 * data.audioSenc.length;\n        }\n      }\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.id & 255,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        earliestTime >> 24 & 255,\n        earliestTime >> 16 & 255,\n        earliestTime >> 8 & 255,\n        earliestTime & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        length >> 16 & 255,\n        length >> 8 & 255,\n        length & 255,\n        durationCount >> 24 & 255,\n        durationCount >> 16 & 255,\n        durationCount >> 8 & 255,\n        durationCount & 255,\n        144,\n        0,\n        0,\n        0\n      ]);\n      return MP42.box(MP42.types.sidx, content);\n    }\n  }, {\n    key: \"mdat\",\n    value: function mdat(data) {\n      var mdat2 = MP42.box(MP42.types.mdat, data);\n      return mdat2;\n    }\n  }]);\n  return MP42;\n}();\n_defineProperty(MP4, \"types\", [\"Opus\", \"dOps\", \"av01\", \"av1C\", \"avc1\", \"avcC\", \"hvc1\", \"hvcC\", \"dinf\", \"dref\", \"esds\", \"ftyp\", \"hdlr\", \"mdat\", \"mdhd\", \"mdia\", \"mfhd\", \"minf\", \"moof\", \"moov\", \"mp4a\", \"mvex\", \"mvhd\", \"pasp\", \"stbl\", \"stco\", \"stsc\", \"stsd\", \"stsz\", \"stts\", \"tfdt\", \"tfhd\", \"traf\", \"trak\", \"trex\", \"tkhd\", \"vmhd\", \"smhd\", \"ctts\", \"stss\", \"styp\", \"pssh\", \"sidx\", \"sbgp\", \"saiz\", \"saio\", \"senc\", \"trun\", \"encv\", \"enca\", \"sinf\", \"btrt\", \"frma\", \"tenc\", \"schm\", \"schi\", \"mehd\", \"fiel\", \"sdtp\"].reduce(function(p, c) {\n  p[c] = [c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2), c.charCodeAt(3)];\n  return p;\n}, /* @__PURE__ */ Object.create(null)));\n_defineProperty(MP4, \"HDLR_TYPES\", {\n  video: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    118,\n    105,\n    100,\n    101,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    86,\n    105,\n    100,\n    101,\n    111,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ]),\n  audio: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    115,\n    111,\n    117,\n    110,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    83,\n    111,\n    117,\n    110,\n    100,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ])\n});\n_defineProperty(MP4, \"FTYPAVC1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  97,\n  118,\n  99,\n  49\n])));\n_defineProperty(MP4, \"FTYPHEV1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  104,\n  101,\n  118,\n  49\n])));\n_defineProperty(MP4, \"DINF\", MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  12,\n  117,\n  114,\n  108,\n  32,\n  0,\n  0,\n  0,\n  1\n]))));\n_defineProperty(MP4, \"VMHD\", MP4.box(MP4.types.vmhd, new Uint8Array([\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"SMHD\", MP4.box(MP4.types.smhd, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"StblTable\", new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n]));\n_defineProperty(MP4, \"STTS\", MP4.box(MP4.types.stts, MP4.StblTable));\n_defineProperty(MP4, \"STSC\", MP4.box(MP4.types.stsc, MP4.StblTable));\n_defineProperty(MP4, \"STSZ\", MP4.box(MP4.types.stsz, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"STCO\", MP4.box(MP4.types.stco, MP4.StblTable));\nexport { MP4 };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, enable) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    Logger2.disabled = enable;\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).debug.apply(_console, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      if (Logger2.disabled)\n        return;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      (_console2 = console).log.apply(_console2, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      if (Logger2.disabled)\n        return;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      (_console3 = console).warn.apply(_console3, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      if (Logger2.disabled)\n        return;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      (_console4 = console).error.apply(_console4, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MP4 } from \"./mp4.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"./logger.js\";\nvar FMP4Remuxer = /* @__PURE__ */ function() {\n  function FMP4Remuxer2(videoTrack, audioTrack, options) {\n    _classCallCheck(this, FMP4Remuxer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    var browserVersions = /Chrome\\/([^.]+)/.exec(navigator.userAgent);\n    this.forceFirstIDR = browserVersions && Number(browserVersions[1]) < 50;\n    this.log = new Logger(\"FMP4Remuxer\", options && options.openLog ? !options.openLog : true);\n  }\n  _createClass(FMP4Remuxer2, [{\n    key: \"remux\",\n    value: function remux() {\n      var createInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var hasVideo = videoTrack.exist();\n      var hasAudio = audioTrack.exist();\n      var videoInitSegment;\n      var audioInitSegment;\n      var initSegment;\n      var tracks = [];\n      if (createInit) {\n        if (options && options.initMerge) {\n          if (hasVideo) {\n            tracks.push(this.videoTrack);\n          }\n          if (hasAudio) {\n            tracks.push(this.audioTrack);\n          }\n          initSegment = MP4.initSegment(tracks);\n        } else {\n          if (hasVideo)\n            videoInitSegment = MP4.initSegment([this.videoTrack]);\n          if (hasAudio)\n            audioInitSegment = MP4.initSegment([this.audioTrack]);\n        }\n      }\n      var videoSegment;\n      var audioSegment;\n      if (hasVideo && videoTrack.hasSample()) {\n        videoSegment = this._remuxVideo();\n      }\n      if (hasAudio && audioTrack.hasSample()) {\n        audioSegment = this._remuxAudio();\n      }\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      return {\n        initSegment,\n        videoInitSegment,\n        audioInitSegment,\n        videoSegment,\n        audioSegment\n      };\n    }\n  }, {\n    key: \"_remuxVideo\",\n    value: function _remuxVideo() {\n      var track = this.videoTrack;\n      if (this.forceFirstIDR) {\n        track.samples[0].flag = {\n          dependsOn: 2,\n          isNonSyncSample: 0\n        };\n      }\n      var samples = track.samples;\n      var isAV01 = /av01/.test(track.codec);\n      var mdatSize = 0;\n      if (isAV01) {\n        samples.forEach(function(s) {\n          mdatSize += s.data.byteLength;\n        });\n      } else {\n        samples.forEach(function(s) {\n          mdatSize += s.units.reduce(function(t, c) {\n            return t + c.byteLength;\n          }, 0);\n          mdatSize += s.units.length * 4;\n        });\n      }\n      var mdata = new Uint8Array(mdatSize);\n      if (isAV01) {\n        for (var i = 0, l = samples.length, offset = 0, sample; i < l; i++) {\n          sample = samples[i];\n          mdata.set(sample.data, offset);\n          sample.size = sample.data.byteLength;\n          offset += sample.size;\n        }\n      } else {\n        var mdatView = new DataView(mdata.buffer);\n        var _loop = function _loop2(_offset2, _sample2) {\n          _sample2 = samples[_i];\n          var sampleSize = 0;\n          _sample2.units.forEach(function(u) {\n            mdatView.setUint32(_offset2, u.byteLength);\n            _offset2 += 4;\n            mdata.set(u, _offset2);\n            _offset2 += u.byteLength;\n            sampleSize += 4 + u.byteLength;\n          });\n          _sample2.size = sampleSize;\n          _offset = _offset2, _sample = _sample2;\n        };\n        for (var _i = 0, _l = samples.length, _offset = 0, _sample; _i < _l; _i++) {\n          _loop(_offset, _sample);\n        }\n      }\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"_remuxAudio\",\n    value: function _remuxAudio() {\n      var track = this.audioTrack;\n      var mdata = new Uint8Array(track.samples.reduce(function(t, c) {\n        return t + c.size;\n      }, 0));\n      track.samples.reduce(function(offset, s) {\n        mdata.set(s.data, offset);\n        return offset + s.size;\n      }, 0);\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n    }\n  }]);\n  return FMP4Remuxer2;\n}();\nexport { FMP4Remuxer };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nvar Event = _objectSpread2(_objectSpread2({}, EVENT), {}, {\n  STREAM_PARSED: \"core.streamparsed\",\n  NO_AUDIO_TRACK: \"core.noaudiotrack\",\n  SUBTITLE_SEGMENTS: \"core.subtitlesegments\",\n  SUBTITLE_PLAYLIST: \"core.subtitleplaylist\",\n  SEI_PAYLOAD_TIME: \"core.seipayloadtime\",\n  APPEND_COST: \"core.appendcost\"\n});\nexport { Event };\n","import { createClass as _createClass, objectSpread2 as _objectSpread2, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger, concatUint8Array, StreamingError, ERR } from \"xgplayer-streaming-shared\";\nimport { TrackType, WarningType, FMP4Demuxer, TsDemuxer, FMP4Remuxer } from \"xgplayer-transmuxer\";\nimport { Event } from \"../../constants.js\";\nvar logger = new Logger(\"Transmuxer\");\nvar Transmuxer = /* @__PURE__ */ function() {\n  function Transmuxer2(hls, isMP4, needRemux, fixerConfig) {\n    _classCallCheck(this, Transmuxer2);\n    _defineProperty(this, \"_initSegmentId\", \"\");\n    this.hls = hls;\n    this._demuxer = isMP4 ? new FMP4Demuxer() : new TsDemuxer(null, null, null, fixerConfig);\n    this._isMP4 = isMP4;\n    if (needRemux)\n      this._remuxer = new FMP4Remuxer(this._demuxer.videoTrack, this._demuxer.audioTrack);\n  }\n  _createClass(Transmuxer2, [{\n    key: \"transmux\",\n    value: function transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, needInit) {\n      var demuxer = this._demuxer;\n      try {\n        if (this._isMP4) {\n          demuxer.demux(videoChunk, audioChunk);\n        } else {\n          demuxer.demuxAndFix(concatUint8Array(videoChunk, audioChunk), discontinuity, contiguous, startTime);\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.DEMUX, ERR.SUB_TYPES.HLS, error);\n      }\n      var videoTrack = demuxer.videoTrack, audioTrack = demuxer.audioTrack, metadataTrack = demuxer.metadataTrack;\n      var vParsed = {\n        codec: videoTrack.codec,\n        timescale: videoTrack.timescale,\n        firstDts: videoTrack.firstDts / videoTrack.timescale,\n        firstPts: videoTrack.firstPts / videoTrack.timescale,\n        duration: videoTrack.samplesDuration / videoTrack.timescale\n      };\n      var aParsed = {\n        codec: audioTrack.codec,\n        timescale: audioTrack.timescale,\n        firstDts: audioTrack.firstDts / videoTrack.timescale,\n        firstPts: audioTrack.firstPts / videoTrack.timescale,\n        duration: audioTrack.samplesDuration / videoTrack.timescale\n      };\n      var newId = \"\".concat(videoTrack.codec, \"/\").concat(videoTrack.width, \"/\").concat(videoTrack.height, \"/\").concat(audioTrack.codec, \"/\").concat(audioTrack.config);\n      if (newId !== this._initSegmentId) {\n        this._initSegmentId = newId;\n        needInit = true;\n      }\n      this._fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity || needInit);\n      this.hls.emit(Event.DEMUXED_TRACK, {\n        videoTrack,\n        audioTrack\n      });\n      if (this._remuxer) {\n        if (needInit && this.hls.isLive && !this.hls.config.mseLowLatency) {\n          videoTrack.duration = this.hls.totalDuration * videoTrack.timescale;\n          audioTrack.duration = this.hls.totalDuration * audioTrack.timescale;\n        }\n        try {\n          var _this$_remuxer$remux = this._remuxer.remux(needInit), videoInitSegment = _this$_remuxer$remux.videoInitSegment, videoSegment = _this$_remuxer$remux.videoSegment, audioInitSegment = _this$_remuxer$remux.audioInitSegment, audioSegment = _this$_remuxer$remux.audioSegment;\n          var v = concatUint8Array(videoInitSegment, videoSegment);\n          var a = concatUint8Array(audioInitSegment, audioSegment);\n          return [v ? _objectSpread2(_objectSpread2({}, vParsed), {}, {\n            data: v\n          }) : void 0, a ? _objectSpread2(_objectSpread2({}, aParsed), {}, {\n            data: a\n          }) : void 0];\n        } catch (error) {\n          throw new StreamingError(ERR.REMUX, ERR.SUB_TYPES.FMP4, error);\n        }\n      } else {\n        return [videoTrack, audioTrack];\n      }\n    }\n  }, {\n    key: \"_fireEvents\",\n    value: function _fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity) {\n      var _this = this;\n      var tracks = [videoTrack, audioTrack];\n      var logCC = \"discontinuity: \".concat(discontinuity);\n      tracks.forEach(function(track) {\n        var _track$samples;\n        if ((_track$samples = track.samples) !== null && _track$samples !== void 0 && _track$samples.length) {\n          logCC += \"; \".concat(track.samples.length, \" \").concat(track.type === TrackType.VIDEO ? \"video\" : \"audio\", \" samples, firstDts/firstPts/duration: \").concat((track.firstDts / track.timescale).toFixed(3), \"/\").concat((track.firstPts / track.timescale).toFixed(3), \"/\").concat((track.samplesDuration / track.timescale).toFixed(3));\n        }\n        if (discontinuity && track.exist()) {\n          _this.hls.emit(Event.METADATA_PARSED, {\n            type: track.type,\n            track,\n            meta: _objectSpread2({\n              codec: track.codec,\n              timescale: track.timescale,\n              baseDts: track.baseDts\n            }, track.type === TrackType.VIDEO ? {\n              width: track.width,\n              height: track.height,\n              sarRatio: track.sarRatio\n            } : {\n              codec: track.codec,\n              channelCount: track.channelCount,\n              sampleRate: track.sampleRate\n            })\n          });\n        }\n      });\n      logger.debug(logCC);\n      videoTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AV_SHIFT:\n            type = Event.LARGE_AV_FIRST_FRAME_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP:\n            type = Event.LARGE_VIDEO_DTS_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK:\n            type = Event.MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"video exception\", warn);\n      });\n      audioTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AUDIO_GAP:\n            type = Event.LARGE_AUDIO_DTS_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_FILLED:\n            type = Event.AUDIO_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_DROPPED:\n            type = Event.AUDIO_OVERLAP_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"audio exception\", warn);\n      });\n      videoTrack.samples.forEach(function(sample) {\n        if (sample.keyframe) {\n          _this.hls.emit(Event.KEYFRAME, {\n            pts: sample.pts\n          });\n        }\n      });\n      metadataTrack.seiSamples.forEach(function(sei) {\n        _this.hls.emit(Event.SEI, _objectSpread2(_objectSpread2({}, sei), {}, {\n          originPts: sei.originPts / 90,\n          sei: {\n            code: sei.data.type,\n            content: sei.data.payload,\n            dts: sei.pts\n          }\n        }));\n      });\n    }\n  }]);\n  return Transmuxer2;\n}();\nexport { Transmuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray, objectWithoutProperties as _objectWithoutProperties } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsDemuxer, MP4Parser } from \"xgplayer-transmuxer\";\nimport { Logger, StreamingError, ERR, MSE, EVENT, Buffer } from \"xgplayer-streaming-shared\";\nimport { Decryptor } from \"./decrypt/index.js\";\nimport { Transmuxer } from \"./transmuxer/index.js\";\nimport { Event } from \"../constants.js\";\nvar _excluded = [\"data\"], _excluded2 = [\"data\"];\nvar logger = new Logger(\"BufferService\");\nvar BufferService = /* @__PURE__ */ function() {\n  function BufferService2(hls) {\n    var _this = this;\n    _classCallCheck(this, BufferService2);\n    _defineProperty(this, \"_decryptor\", new Decryptor());\n    _defineProperty(this, \"_transmuxer\", null);\n    _defineProperty(this, \"_mse\", null);\n    _defineProperty(this, \"_softVideo\", null);\n    _defineProperty(this, \"_sourceCreated\", false);\n    _defineProperty(this, \"_needInitSegment\", true);\n    _defineProperty(this, \"_directAppend\", false);\n    this.hls = hls;\n    if (hls.config.softDecode) {\n      this._softVideo = hls.media;\n    } else {\n      this._mse = new MSE(null, {\n        preferMMS: hls.config.preferMMS\n      });\n      if (hls.config.url) {\n        this._mse.bindMedia(hls.media).then(function(e) {\n          _this.hls.emit(EVENT.MEDIASOURCE_OPENED, e);\n        });\n      }\n    }\n    if (hls.config.decryptor) {\n      this._decryptor.externalDecryptor = hls.config.decryptor;\n    }\n  }\n  _createClass(BufferService2, [{\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_transmuxer, _this$_transmuxer$_de, _this$_transmuxer$_de2;\n      return (_this$_transmuxer = this._transmuxer) === null || _this$_transmuxer === void 0 ? void 0 : (_this$_transmuxer$_de = _this$_transmuxer._demuxer) === null || _this$_transmuxer$_de === void 0 ? void 0 : (_this$_transmuxer$_de2 = _this$_transmuxer$_de._fixer) === null || _this$_transmuxer$_de2 === void 0 ? void 0 : _this$_transmuxer$_de2._baseDts;\n    }\n  }, {\n    key: \"nbSb\",\n    get: function get() {\n      var _this$_mse;\n      if (!((_this$_mse = this._mse) !== null && _this$_mse !== void 0 && _this$_mse._sourceBuffer))\n        return 0;\n      return Object.keys(this._mse._sourceBuffer).length;\n    }\n  }, {\n    key: \"msIsOpened\",\n    get: function get() {\n      var _this$_mse2;\n      return (_this$_mse2 = this._mse) === null || _this$_mse2 === void 0 ? void 0 : _this$_mse2.isOpened;\n    }\n  }, {\n    key: \"msHasOpTasks\",\n    get: function get() {\n      var _this$_mse3;\n      return (_this$_mse3 = this._mse) === null || _this$_mse3 === void 0 ? void 0 : _this$_mse3.hasOpTasks;\n    }\n  }, {\n    key: \"msStreaming\",\n    get: function get() {\n      var _this$_mse4;\n      return (_this$_mse4 = this._mse) === null || _this$_mse4 === void 0 ? void 0 : _this$_mse4.streaming;\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function() {\n      var _updateDuration = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(duration) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                logger.debug(\"update duration\", duration);\n                if (!this._mse) {\n                  _context.next = 9;\n                  break;\n                }\n                if (this._mse.isOpened) {\n                  _context.next = 5;\n                  break;\n                }\n                _context.next = 5;\n                return this._mse.open();\n              case 5:\n                _context.next = 7;\n                return this._mse.updateDuration(duration);\n              case 7:\n                _context.next = 10;\n                break;\n              case 9:\n                if (this._softVideo) {\n                  this._softVideo.duration = duration;\n                }\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function updateDuration(_x) {\n        return _updateDuration.apply(this, arguments);\n      }\n      return updateDuration;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(videoChunk, audioChunk, videoCodec, audioCodec) {\n      if (this._sourceCreated)\n        return;\n      var chunk = videoChunk || audioChunk;\n      if (!chunk)\n        return;\n      if (TsDemuxer.probe(chunk)) {\n        if (!this._transmuxer)\n          this._transmuxer = new Transmuxer(this.hls, false, !this._softVideo, this.hls.config.fixerConfig);\n      } else if (MP4Parser.probe(chunk)) {\n        if (this._softVideo) {\n          if (!this._transmuxer)\n            this._transmuxer = new Transmuxer(this.hls, true, null, this.hls.config.fixerConfig);\n        } else {\n          this._directAppend = true;\n          var mix = false;\n          if (videoChunk && !videoCodec) {\n            MP4Parser.findBox(videoChunk, [\"moov\", \"trak\"]).forEach(function(t) {\n              var box = MP4Parser.findBox(t.data, [\"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"])[0];\n              if (box) {\n                var e = MP4Parser.stsd(box).entries[0];\n                if (e) {\n                  if (e.hvcC) {\n                    videoCodec = e.hvcC.codec || \"hev1.1.6.L93.B0\";\n                  } else if (e.avcC) {\n                    videoCodec = e.avcC.codec;\n                  } else if (e.sampleRate || e.esds) {\n                    var _e$esds;\n                    audioCodec = ((_e$esds = e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.codec) || \"mp4a.40.2\";\n                    mix = true;\n                  }\n                }\n              }\n            });\n          }\n          if (audioChunk && !audioCodec) {\n            MP4Parser.findBox(audioChunk, [\"moov\", \"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"]).forEach(function(stsd) {\n              var e = MP4Parser.stsd(stsd).entries[0];\n              if (e && e.esds)\n                audioCodec = e.esds.codec;\n            });\n          }\n          if (videoChunk && !videoCodec)\n            videoCodec = \"avc1.42e01e\";\n          if (audioChunk && !audioCodec)\n            audioCodec = \"mp4a.40.2\";\n          if (mix) {\n            videoCodec += \", \".concat(audioCodec);\n            audioCodec = \"\";\n          }\n          this._createMseSource(videoCodec, audioCodec);\n        }\n      } else {\n        throw new StreamingError(ERR.OTHER, null, null, null, \"unsupported stream\");\n      }\n      if (this._softVideo)\n        this._sourceCreated = true;\n    }\n  }, {\n    key: \"appendBuffer\",\n    value: function() {\n      var _appendBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(segment, audioSegment, videoChunk, audioChunk, discontinuity, contiguous, startTime) {\n        var _this2 = this;\n        var afterAppend, p, needInit, _this$_transmuxer$tra, _this$_transmuxer$tra2, video, audio, isFirstAppend, mse, _p, videoData, videoRest, audioData, audioRest;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!(videoChunk !== null && videoChunk !== void 0 && videoChunk.length) && !(audioChunk !== null && audioChunk !== void 0 && audioChunk.length))) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                afterAppend = function afterAppend2() {\n                  var _this2$hls;\n                  if ((_this2$hls = _this2.hls) !== null && _this2$hls !== void 0 && _this2$hls.emit) {\n                    var _this2$hls2;\n                    (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.emit(EVENT.APPEND_BUFFER, {\n                      start: segment.start,\n                      end: segment.end\n                    });\n                  }\n                };\n                if (!this._directAppend) {\n                  _context2.next = 8;\n                  break;\n                }\n                p = [];\n                if (videoChunk)\n                  p.push(this._mse.append(MSE.VIDEO, videoChunk));\n                if (audioChunk)\n                  p.push(this._mse.append(MSE.AUDIO, audioChunk));\n                return _context2.abrupt(\"return\", Promise.all(p).then(afterAppend));\n              case 8:\n                needInit = this._needInitSegment || discontinuity;\n                _this$_transmuxer$tra = this._transmuxer.transmux(videoChunk, audioChunk, needInit, contiguous, startTime, this._needInitSegment || discontinuity), _this$_transmuxer$tra2 = _slicedToArray(_this$_transmuxer$tra, 2), video = _this$_transmuxer$tra2[0], audio = _this$_transmuxer$tra2[1];\n                if (audioChunk && audioSegment) {\n                  audioSegment === null || audioSegment === void 0 ? void 0 : audioSegment.setTrackExist(false, true);\n                }\n                if (audioChunk && segment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(true, false);\n                }\n                if (!audioSegment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(!!video, !!audio);\n                }\n                if (video && !audio) {\n                  this.hls.emit(Event.NO_AUDIO_TRACK);\n                }\n                if (!this._softVideo) {\n                  _context2.next = 20;\n                  break;\n                }\n                this._softVideo.appendBuffer(video, audio);\n                this._needInitSegment = false;\n                afterAppend();\n                _context2.next = 30;\n                break;\n              case 20:\n                if (!this._mse) {\n                  _context2.next = 30;\n                  break;\n                }\n                isFirstAppend = !this._sourceCreated;\n                if (isFirstAppend) {\n                  this._createMseSource(video === null || video === void 0 ? void 0 : video.codec, audio === null || audio === void 0 ? void 0 : audio.codec);\n                }\n                this._needInitSegment = false;\n                mse = this._mse;\n                _p = [];\n                if (needInit && !isFirstAppend) {\n                  this._handleCodecChange(video, audio).forEach(function(task) {\n                    return _p.push(task);\n                  });\n                }\n                if (video) {\n                  videoData = video.data, videoRest = _objectWithoutProperties(video, _excluded);\n                  _p.push(mse.append(MSE.VIDEO, videoData, videoRest));\n                }\n                if (audio) {\n                  audioData = audio.data, audioRest = _objectWithoutProperties(audio, _excluded2);\n                  _p.push(mse.append(MSE.AUDIO, audioData, audioRest));\n                }\n                return _context2.abrupt(\"return\", Promise.all(_p).then(afterAppend));\n              case 30:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function appendBuffer(_x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n        return _appendBuffer.apply(this, arguments);\n      }\n      return appendBuffer;\n    }()\n  }, {\n    key: \"removeBuffer\",\n    value: function() {\n      var _removeBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n        var _this3 = this;\n        var start, end, media, _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                start = _args3.length > 0 && _args3[0] !== void 0 ? _args3[0] : 0;\n                end = _args3.length > 1 && _args3[1] !== void 0 ? _args3[1] : Infinity;\n                media = this.hls.media;\n                if (!(!this._mse || !media || start < 0 || end < start || start >= this._mse.duration)) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 5:\n                return _context3.abrupt(\"return\", this._mse.clearBuffer(start, end).then(function() {\n                  return _this3.hls.emit(EVENT.REMOVE_BUFFER, {\n                    start,\n                    end,\n                    removeEnd: end\n                  });\n                }));\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function removeBuffer() {\n        return _removeBuffer.apply(this, arguments);\n      }\n      return removeBuffer;\n    }()\n  }, {\n    key: \"evictBuffer\",\n    value: function() {\n      var _evictBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(bufferBehind) {\n        var media, currentTime, removeEnd, start;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                media = this.hls.media;\n                if (!(!this._mse || !media || !bufferBehind || bufferBehind < 0)) {\n                  _context4.next = 3;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 3:\n                currentTime = media.currentTime;\n                removeEnd = currentTime - bufferBehind;\n                if (!(removeEnd <= 0)) {\n                  _context4.next = 7;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 7:\n                start = Buffer.start(Buffer.get(media));\n                if (!(start + 1 >= removeEnd)) {\n                  _context4.next = 10;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 10:\n                return _context4.abrupt(\"return\", this.removeBuffer(0, removeEnd));\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function evictBuffer(_x9) {\n        return _evictBuffer.apply(this, arguments);\n      }\n      return evictBuffer;\n    }()\n  }, {\n    key: \"clearAllBuffer\",\n    value: function() {\n      var _clearAllBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this._mse) {\n                  _context5.next = 2;\n                  break;\n                }\n                return _context5.abrupt(\"return\", this._mse.clearAllBuffer());\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function clearAllBuffer() {\n        return _clearAllBuffer.apply(this, arguments);\n      }\n      return clearAllBuffer;\n    }()\n  }, {\n    key: \"decryptBuffer\",\n    value: function decryptBuffer(video, audio) {\n      return this._decryptor.decrypt(video, audio);\n    }\n  }, {\n    key: \"reset\",\n    value: function() {\n      var _reset = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6() {\n        var reuseMse, _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                reuseMse = _args6.length > 0 && _args6[0] !== void 0 ? _args6[0] : false;\n                if (!(this._mse && !reuseMse)) {\n                  _context6.next = 8;\n                  break;\n                }\n                this._transmuxer = null;\n                this._sourceCreated = false;\n                _context6.next = 6;\n                return this._mse.unbindMedia();\n              case 6:\n                _context6.next = 8;\n                return this._mse.bindMedia(this.hls.media);\n              case 8:\n                this._needInitSegment = true;\n                this._directAppend = false;\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function reset() {\n        return _reset.apply(this, arguments);\n      }\n      return reset;\n    }()\n  }, {\n    key: \"endOfStream\",\n    value: function() {\n      var _endOfStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this._mse) {\n                  _context7.next = 5;\n                  break;\n                }\n                if (!this._sourceCreated) {\n                  _context7.next = 5;\n                  break;\n                }\n                _context7.next = 4;\n                return this._mse.endOfStream();\n              case 4:\n                this.hls.emit(EVENT.BUFFEREOS);\n              case 5:\n                if (this._softVideo) {\n                  this._softVideo.endOfStream();\n                }\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this);\n      }));\n      function endOfStream() {\n        return _endOfStream.apply(this, arguments);\n      }\n      return endOfStream;\n    }()\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function() {\n      var _setLiveSeekableRange = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(start, end) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (this._mse)\n                  this._mse.setLiveSeekableRange(start, end);\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this);\n      }));\n      function setLiveSeekableRange(_x10, _x11) {\n        return _setLiveSeekableRange.apply(this, arguments);\n      }\n      return setLiveSeekableRange;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9() {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!this._mse) {\n                  _context9.next = 3;\n                  break;\n                }\n                _context9.next = 3;\n                return this._mse.unbindMedia();\n              case 3:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10() {\n        var _this$_decryptor;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                (_this$_decryptor = this._decryptor) === null || _this$_decryptor === void 0 ? void 0 : _this$_decryptor.destroy();\n                _context10.next = 3;\n                return this.detachMedia();\n              case 3:\n                this._decryptor = null;\n                this._mse = null;\n                this._softVideo = null;\n              case 6:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_createMseSource\",\n    value: function _createMseSource(videoCodec, audioCodec) {\n      logger.debug(\"create mse source, videoCodec=\".concat(videoCodec, \", audioCodec=\").concat(audioCodec));\n      var mse = this._mse;\n      if (!mse)\n        return;\n      if (videoCodec) {\n        mse.createSource(MSE.VIDEO, \"video/mp4;codecs=\".concat(videoCodec));\n        this._sourceCreated = true;\n      }\n      if (audioCodec) {\n        mse.createSource(MSE.AUDIO, \"audio/mp4;codecs=\".concat(audioCodec));\n        this._sourceCreated = true;\n      }\n      this.hls.emit(EVENT.SOURCEBUFFER_CREATED);\n    }\n  }, {\n    key: \"_handleCodecChange\",\n    value: function _handleCodecChange(video, audio) {\n      var tasks = [];\n      var mse = this._mse;\n      var codecList = [{\n        type: MSE.VIDEO,\n        codecs: video === null || video === void 0 ? void 0 : video.codec\n      }, {\n        type: MSE.AUDIO,\n        codecs: audio === null || audio === void 0 ? void 0 : audio.codec\n      }];\n      codecList.filter(function(item) {\n        return !!item.codecs;\n      }).forEach(function(_ref) {\n        var type = _ref.type, codecs = _ref.codecs;\n        var sourceBuffer = mse.getSourceBuffer(type);\n        if (sourceBuffer) {\n          var codec = codecs.split(\",\")[0];\n          if (!new RegExp(codec, \"ig\").test(sourceBuffer.mimeType)) {\n            tasks.push(mse.changeType(type, \"\".concat(type, \"/mp4;codecs=\").concat(codecs)));\n          }\n        }\n      });\n      return tasks;\n    }\n  }, {\n    key: \"seamlessSwitch\",\n    value: function seamlessSwitch() {\n      this._needInitSegment = true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull() {\n      var _this$_mse5;\n      var mediaType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : MSE.VIDEO;\n      return (_this$_mse5 = this._mse) === null || _this$_mse5 === void 0 ? void 0 : _this$_mse5.isFull(mediaType);\n    }\n  }]);\n  return BufferService2;\n}();\nexport { BufferService };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction getConfig(cfg) {\n  var media = (cfg === null || cfg === void 0 ? void 0 : cfg.media) || document.createElement(\"video\");\n  return _objectSpread2(_objectSpread2({\n    maxPlaylistSize: 50,\n    retryCount: 3,\n    retryDelay: 1e3,\n    pollRetryCount: 2,\n    loadTimeout: 1e4,\n    manifestLoadTimeout: 1e4,\n    preloadTime: 30,\n    softDecode: false,\n    bufferBehind: 10,\n    maxJumpDistance: 3,\n    startTime: 0,\n    useLowLatency: true,\n    targetLatency: 10,\n    maxLatency: 20,\n    allowedStreamTrackChange: true,\n    seiInTime: false,\n    manifestList: [],\n    minSegmentsStartPlay: 3,\n    preferMMS: false,\n    preferMMSStreaming: false,\n    mseLowLatency: true,\n    fixerConfig: {\n      forceFixLargeGap: false,\n      largeGapThreshold: 5\n    }\n  }, cfg), {}, {\n    media\n  });\n}\nexport { getConfig };\n","var LoaderType = {\n  FETCH: \"fetch\",\n  XHR: \"xhr\"\n};\nvar ResponseType = {\n  ARRAY_BUFFER: \"arraybuffer\",\n  TEXT: \"text\",\n  JSON: \"json\"\n};\nexport { LoaderType, ResponseType };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, wrapNativeSuper as _wrapNativeSuper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType } from \"./types.js\";\nvar NetError = /* @__PURE__ */ function(_Error) {\n  _inherits(NetError2, _Error);\n  var _super = _createSuper(NetError2);\n  function NetError2(url, request, response, msg) {\n    var _this;\n    _classCallCheck(this, NetError2);\n    _this = _super.call(this, msg);\n    _defineProperty(_assertThisInitialized(_this), \"retryCount\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"isTimeout\", false);\n    _defineProperty(_assertThisInitialized(_this), \"loaderType\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"startTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"endTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"options\", {});\n    _this.url = url;\n    _this.request = request;\n    _this.response = response;\n    return _this;\n  }\n  return _createClass(NetError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { NetError };\n","import { typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar toString = Object.prototype.toString;\nfunction isObject(a) {\n  return a !== null && _typeof(a) === \"object\";\n}\nfunction isPlainObject(val) {\n  if (toString.call(val) !== \"[object Object]\") {\n    return false;\n  }\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\nfunction isDate(a) {\n  return toString.call(a) === \"[object Date]\";\n}\nexport { isDate, isObject, isPlainObject };\n","import { isDate, isObject } from \"../is.js\";\nfunction getRangeValue(value) {\n  if (!value || value[0] === null || value[0] === void 0 || value[0] === 0 && (value[1] === null || value[1] === void 0)) {\n    return;\n  }\n  var ret = \"bytes=\" + value[0] + \"-\";\n  if (value[1])\n    ret += value[1];\n  return ret;\n}\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\nfunction setUrlParams(url, params) {\n  if (!url)\n    return;\n  if (!params)\n    return url;\n  var v;\n  var str = Object.keys(params).map(function(k) {\n    v = params[k];\n    if (v === null || v === void 0)\n      return;\n    if (Array.isArray(v)) {\n      k = k + \"[]\";\n    } else {\n      v = [v];\n    }\n    return v.map(function(x) {\n      if (isDate(x)) {\n        x = x.toISOString();\n      } else if (isObject(x)) {\n        x = JSON.stringify(x);\n      }\n      return \"\".concat(encode(k), \"=\").concat(encode(x));\n    }).join(\"&\");\n  }).filter(Boolean).join(\"&\");\n  if (str) {\n    var hashIndex = url.indexOf(\"#\");\n    if (hashIndex !== -1) {\n      url = url.slice(0, hashIndex);\n    }\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + str;\n  }\n  return url;\n}\nfunction createResponse(data, done, response, contentLength, age, startTime, firstByteTime, index, range, vid, priOptions) {\n  age = age !== null && age !== void 0 ? parseFloat(age) : null;\n  contentLength = parseInt(contentLength || \"0\", 10);\n  if (Number.isNaN(contentLength))\n    contentLength = 0;\n  var options = {\n    range,\n    vid,\n    index,\n    contentLength,\n    age,\n    startTime,\n    firstByteTime,\n    endTime: Date.now(),\n    priOptions\n  };\n  return {\n    data,\n    done,\n    options,\n    response\n  };\n}\nfunction calculateSpeed(byteLen, milliSecond) {\n  return Math.round(byteLen * 8 * 1e3 / milliSecond / 1024);\n}\nexport { calculateSpeed, createResponse, getRangeValue, setUrlParams };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, createResponse, calculateSpeed } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar CACHESIZE = 2 * 1024 * 1024;\nvar FetchLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(FetchLoader2, _EventEmitter);\n  var _super = _createSuper(FetchLoader2);\n  function FetchLoader2() {\n    var _this;\n    _classCallCheck(this, FetchLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_abortController\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_reader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_response\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_running\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_onProcessMinLen\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(FetchLoader2, [{\n    key: \"load\",\n    value: function load(_ref) {\n      var _this$_abortControlle, _this2 = this;\n      var url = _ref.url, vid = _ref.vid, timeout = _ref.timeout, responseType = _ref.responseType, onProgress = _ref.onProgress, index = _ref.index, onTimeout = _ref.onTimeout, onCancel = _ref.onCancel, range = _ref.range, transformResponse = _ref.transformResponse, request = _ref.request, params = _ref.params, logger = _ref.logger, method = _ref.method, headers = _ref.headers, body = _ref.body, mode = _ref.mode, credentials = _ref.credentials, cache = _ref.cache, redirect = _ref.redirect, referrer = _ref.referrer, referrerPolicy = _ref.referrerPolicy, onProcessMinLen = _ref.onProcessMinLen, priOptions = _ref.priOptions;\n      this._logger = logger;\n      this._aborted = false;\n      this._onProcessMinLen = onProcessMinLen;\n      this._onCancel = onCancel;\n      this._abortController = typeof AbortController !== \"undefined\" && new AbortController();\n      this._running = true;\n      this._index = index;\n      this._range = range || [0, 0];\n      this._vid = vid || url;\n      this._priOptions = priOptions || {};\n      var init = {\n        method,\n        headers,\n        body,\n        mode,\n        credentials,\n        cache,\n        redirect,\n        referrer,\n        referrerPolicy,\n        signal: (_this$_abortControlle = this._abortController) === null || _this$_abortControlle === void 0 ? void 0 : _this$_abortControlle.signal\n      };\n      var isTimeout = false;\n      clearTimeout(this._timeoutTimer);\n      url = setUrlParams(url, params);\n      var rangeValue = getRangeValue(range);\n      if (rangeValue) {\n        if (request) {\n          headers = request.headers;\n        } else {\n          headers = init.headers = init.headers || (Headers ? new Headers() : {});\n        }\n        if (Headers && headers instanceof Headers) {\n          headers.append(\"Range\", rangeValue);\n        } else {\n          headers.Range = rangeValue;\n        }\n      }\n      if (timeout) {\n        this._timeoutTimer = setTimeout(function() {\n          isTimeout = true;\n          _this2.cancel();\n          if (onTimeout) {\n            var error = new NetError(url, init, null, \"timeout\");\n            error.isTimeout = true;\n            onTimeout(error, {\n              index: _this2._index,\n              range: _this2._range,\n              vid: _this2._vid,\n              priOptions: _this2._priOptions\n            });\n          }\n        }, timeout);\n      }\n      var startTime = Date.now();\n      this._logger.debug(\"[fetch load start], index,\", index, \",range,\", range);\n      return new Promise(function(resolve, reject) {\n        fetch(request || url, request ? void 0 : init).then(/* @__PURE__ */ function() {\n          var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(response) {\n            var firstByteTime, data, costTime, speed;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1)\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    clearTimeout(_this2._timeoutTimer);\n                    _this2._response = response;\n                    if (!(_this2._aborted || !_this2._running)) {\n                      _context.next = 4;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 4:\n                    if (transformResponse) {\n                      response = transformResponse(response, url) || response;\n                    }\n                    if (response.ok) {\n                      _context.next = 7;\n                      break;\n                    }\n                    throw new NetError(url, init, response, \"bad network response\");\n                  case 7:\n                    firstByteTime = Date.now();\n                    if (!(responseType === ResponseType.TEXT)) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 11;\n                    return response.text();\n                  case 11:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 15:\n                    if (!(responseType === ResponseType.JSON)) {\n                      _context.next = 22;\n                      break;\n                    }\n                    _context.next = 18;\n                    return response.json();\n                  case 18:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 22:\n                    if (!onProgress) {\n                      _context.next = 29;\n                      break;\n                    }\n                    _this2.resolve = resolve;\n                    _this2.reject = reject;\n                    _this2._loadChunk(response, onProgress, startTime, firstByteTime);\n                    return _context.abrupt(\"return\");\n                  case 29:\n                    _context.next = 31;\n                    return response.arrayBuffer();\n                  case 31:\n                    data = _context.sent;\n                    data = new Uint8Array(data);\n                    _this2._running = false;\n                    costTime = Date.now() - startTime;\n                    speed = calculateSpeed(data.byteLength, costTime);\n                    _this2.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: data.byteLength,\n                      time: costTime,\n                      vid: _this2._vid,\n                      index: _this2._index,\n                      range: _this2._range,\n                      priOptions: _this2._priOptions\n                    });\n                  case 37:\n                    _this2._logger.debug(\"[fetch load end], index,\", index, \",range,\", range);\n                    resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), startTime, firstByteTime, index, range, _this2._vid, _this2._priOptions));\n                  case 39:\n                  case \"end\":\n                    return _context.stop();\n                }\n            }, _callee);\n          }));\n          return function(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }()).catch(function(error) {\n          var _error;\n          clearTimeout(_this2._timeoutTimer);\n          _this2._running = false;\n          if (_this2._aborted && !isTimeout)\n            return;\n          error = error instanceof NetError ? error : new NetError(url, init, null, (_error = error) === null || _error === void 0 ? void 0 : _error.message);\n          error.startTime = startTime;\n          error.endTime = Date.now();\n          error.isTimeout = isTimeout;\n          error.options = {\n            index: _this2._index,\n            range: _this2._range,\n            vid: _this2._vid,\n            priOptions: _this2._priOptions\n          };\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._aborted) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                this._aborted = true;\n                this._running = false;\n                if (!this._response) {\n                  _context2.next = 14;\n                  break;\n                }\n                _context2.prev = 5;\n                if (!this._reader) {\n                  _context2.next = 9;\n                  break;\n                }\n                _context2.next = 9;\n                return this._reader.cancel();\n              case 9:\n                _context2.next = 13;\n                break;\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](5);\n              case 13:\n                this._response = this._reader = null;\n              case 14:\n                if (this._abortController) {\n                  try {\n                    this._abortController.abort();\n                  } catch (error) {\n                  }\n                  this._abortController = null;\n                }\n                if (this._onCancel) {\n                  this._onCancel({\n                    index: this._index,\n                    range: this._range,\n                    vid: this._vid,\n                    priOptions: this._priOptions\n                  });\n                }\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this, [[5, 11]]);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_loadChunk\",\n    value: function _loadChunk(response, onProgress, st, firstByteTime) {\n      var _this3 = this;\n      if (!response.body || !response.body.getReader) {\n        this._running = false;\n        var err = new NetError(response.url, \"\", response, \"onProgress of bad response.body.getReader\");\n        err.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this.reject(err);\n        return;\n      }\n      if (this._onProcessMinLen > 0) {\n        this._cache = new Uint8Array(CACHESIZE);\n        this._writeIdx = 0;\n      }\n      var reader = this._reader = response.body.getReader();\n      var data;\n      var startTime;\n      var endTime;\n      var pump = /* @__PURE__ */ function() {\n        var _ref3 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n          var _this3$_range;\n          var startRange, startByte, curLen, retData, temp, costTime, speed;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1)\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  startTime = Date.now();\n                  _context3.prev = 1;\n                  _context3.next = 4;\n                  return reader.read();\n                case 4:\n                  data = _context3.sent;\n                  endTime = Date.now();\n                  _context3.next = 13;\n                  break;\n                case 8:\n                  _context3.prev = 8;\n                  _context3.t0 = _context3[\"catch\"](1);\n                  endTime = Date.now();\n                  if (!_this3._aborted) {\n                    _this3._running = false;\n                    _context3.t0.options = {\n                      index: _this3._index,\n                      range: _this3._range,\n                      vid: _this3._vid,\n                      priOptions: _this3._priOptions\n                    };\n                    _this3.reject(_context3.t0);\n                  }\n                  return _context3.abrupt(\"return\");\n                case 13:\n                  startRange = ((_this3$_range = _this3._range) === null || _this3$_range === void 0 ? void 0 : _this3$_range.length) > 0 ? _this3._range[0] : 0;\n                  startByte = startRange + _this3._receivedLength;\n                  if (!_this3._aborted) {\n                    _context3.next = 19;\n                    break;\n                  }\n                  _this3._running = false;\n                  onProgress(void 0, false, {\n                    range: [startByte, startByte],\n                    vid: _this3._vid,\n                    index: _this3._index,\n                    startTime,\n                    endTime,\n                    st,\n                    firstByteTime,\n                    priOptions: _this3._priOptions\n                  }, response);\n                  return _context3.abrupt(\"return\");\n                case 19:\n                  curLen = data.value ? data.value.byteLength : 0;\n                  _this3._receivedLength += curLen;\n                  _this3._logger.debug(\"\\u3010fetchLoader,onProgress call\\u3011,task,\", _this3._range, \", start,\", startByte, \", end,\", startRange + _this3._receivedLength, \", done,\", data.done);\n                  if (_this3._onProcessMinLen > 0) {\n                    if (_this3._writeIdx + curLen >= _this3._onProcessMinLen || data.done) {\n                      retData = new Uint8Array(_this3._writeIdx + curLen);\n                      retData.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                      curLen > 0 && retData.set(data.value, _this3._writeIdx);\n                      _this3._writeIdx = 0;\n                      _this3._logger.debug(\"\\u3010fetchLoader,onProgress enough\\u3011,done,\", data.done, \",len,\", retData.byteLength, \", writeIdx,\", _this3._writeIdx);\n                    } else {\n                      if (curLen > 0 && _this3._writeIdx + curLen < CACHESIZE) {\n                        _this3._cache.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress cache\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      } else if (curLen > 0) {\n                        temp = new Uint8Array(_this3._writeIdx + curLen + 2048);\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra start\\u3011,size,\", _this3._writeIdx + curLen + 2048, \", datalen,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                        temp.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                        curLen > 0 && temp.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        delete _this3._cache;\n                        _this3._cache = temp;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra end\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      }\n                    }\n                  } else {\n                    retData = data.value;\n                  }\n                  if (retData && retData.byteLength > 0 || data.done) {\n                    onProgress(retData, data.done, {\n                      range: [_this3._range[0] + _this3._receivedLength - (retData ? retData.byteLength : 0), _this3._range[0] + _this3._receivedLength],\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      startTime,\n                      endTime,\n                      st,\n                      firstByteTime,\n                      priOptions: _this3._priOptions\n                    }, response);\n                  }\n                  if (!data.done) {\n                    pump();\n                  } else {\n                    costTime = Date.now() - st;\n                    speed = calculateSpeed(_this3._receivedLength, costTime);\n                    _this3.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: _this3._receivedLength,\n                      time: costTime,\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      range: _this3._range,\n                      priOptions: _this3._priOptions\n                    });\n                    _this3._running = false;\n                    _this3._logger.debug(\"[fetchLoader onProgress end],task,\", _this3._range, \",done,\", data.done);\n                    _this3.resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), st, firstByteTime, _this3._index, _this3._range, _this3._vid, _this3._priOptions));\n                  }\n                case 25:\n                case \"end\":\n                  return _context3.stop();\n              }\n          }, _callee3, null, [[1, 8]]);\n        }));\n        return function pump2() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      pump();\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return !!(typeof fetch !== \"undefined\");\n    }\n  }]);\n  return FetchLoader2;\n}(EventEmitter);\nexport { FetchLoader };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType, ResponseType } from \"./types.js\";\nfunction getConfig(cfg) {\n  return _objectSpread2({\n    loaderType: LoaderType.FETCH,\n    retry: 0,\n    retryDelay: 0,\n    timeout: 0,\n    request: null,\n    onTimeout: void 0,\n    onProgress: void 0,\n    onRetryError: void 0,\n    transformRequest: void 0,\n    transformResponse: void 0,\n    transformError: void 0,\n    responseType: ResponseType.TEXT,\n    range: void 0,\n    url: \"\",\n    params: void 0,\n    method: \"GET\",\n    headers: {},\n    body: void 0,\n    mode: void 0,\n    credentials: void 0,\n    cache: void 0,\n    redirect: void 0,\n    referrer: void 0,\n    referrerPolicy: void 0,\n    integrity: void 0,\n    onProcessMinLen: 0\n  }, cfg);\n}\nexport { getConfig };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, calculateSpeed, createResponse } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar XhrLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(XhrLoader2, _EventEmitter);\n  var _super = _createSuper(XhrLoader2);\n  function XhrLoader2() {\n    var _this;\n    _classCallCheck(this, XhrLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_url\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_onProgress\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_headers\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_currentChunkSizeKB\", 384);\n    _defineProperty(_assertThisInitialized(_this), \"_timeout\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_withCredentials\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_startTime\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteResolve\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteReject\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_runing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_responseType\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_credentials\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_method\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_transformResponse\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_firstRtt\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(XhrLoader2, [{\n    key: \"load\",\n    value: function load(req) {\n      var _this2 = this;\n      clearTimeout(this._timeoutTimer);\n      this._logger = req.logger;\n      this._range = req.range;\n      this._onProgress = req.onProgress;\n      this._index = req.index;\n      this._headers = req.headers;\n      this._withCredentials = req.credentials === \"include\" || req.credentials === \"same-origin\";\n      this._body = req.body || null;\n      req.method && (this._method = req.method);\n      this._timeout = req.timeout || null;\n      this._runing = true;\n      this._vid = req.vid || req.url;\n      this._responseType = req.responseType;\n      this._firstRtt = -1;\n      this._onTimeout = req.onTimeout;\n      this._onCancel = req.onCancel;\n      this._request = req.request;\n      this._priOptions = req.priOptions || {};\n      this._logger.debug(\"\\u3010xhrLoader task\\u3011, range\", this._range);\n      this._url = setUrlParams(req.url, req.params);\n      var startTime = Date.now();\n      return new Promise(function(resolve, reject) {\n        _this2._loadCompleteResolve = resolve;\n        _this2._loadCompleteReject = reject;\n        _this2._startLoad();\n      }).catch(function(error) {\n        clearTimeout(_this2._timeoutTimer);\n        _this2._runing = false;\n        if (_this2._aborted)\n          return;\n        error = error instanceof NetError ? error : new NetError(_this2._url, _this2._request);\n        error.startTime = startTime;\n        error.endTime = Date.now();\n        error.options = {\n          index: _this2._index,\n          vid: _this2._vid,\n          priOptions: _this2._priOptions\n        };\n        throw error;\n      });\n    }\n  }, {\n    key: \"_startLoad\",\n    value: function _startLoad() {\n      var range = null;\n      if (this._responseType === ResponseType.ARRAY_BUFFER && this._range && this._range.length > 1) {\n        if (this._onProgress) {\n          this._firstRtt = -1;\n          var chunkSize = this._currentChunkSizeKB * 1024;\n          var from = this._range[0] + this._receivedLength;\n          var to = this._range[1];\n          if (chunkSize < this._range[1] - from) {\n            to = from + chunkSize;\n          }\n          range = [from, to];\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", SubRange, \", range);\n        } else {\n          range = this._range;\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", allRange, \", range);\n        }\n      }\n      this._internalOpen(range);\n    }\n  }, {\n    key: \"_internalOpen\",\n    value: function _internalOpen(range) {\n      var _this3 = this;\n      try {\n        this._startTime = Date.now();\n        var xhr = this._xhr = new XMLHttpRequest();\n        xhr.open(this._method || \"GET\", this._url, true);\n        xhr.responseType = this._responseType;\n        this._timeout && (xhr.timeout = this._timeout);\n        xhr.withCredentials = this._withCredentials;\n        xhr.onload = this._onLoad.bind(this);\n        xhr.onreadystatechange = this._onReadyStatechange.bind(this);\n        xhr.onerror = function(errorEvent) {\n          var _errorEvent$currentTa, _errorEvent$currentTa2, _errorEvent$currentTa3;\n          _this3._running = false;\n          var error = new NetError(_this3._url, _this3._request, errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa = errorEvent.currentTarget) === null || _errorEvent$currentTa === void 0 ? void 0 : _errorEvent$currentTa.response, \"xhr.onerror.status:\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa2 = errorEvent.currentTarget) === null || _errorEvent$currentTa2 === void 0 ? void 0 : _errorEvent$currentTa2.status) + \",statusText,\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa3 = errorEvent.currentTarget) === null || _errorEvent$currentTa3 === void 0 ? void 0 : _errorEvent$currentTa3.statusText));\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        xhr.ontimeout = function(event) {\n          _this3.cancel();\n          var error = new NetError(_this3._url, _this3._request, {\n            status: 408\n          }, \"timeout\");\n          if (_this3._onTimeout) {\n            error.isTimeout = true;\n            _this3._onTimeout(error, {\n              index: _this3._index,\n              range: _this3._range,\n              vid: _this3._vid,\n              priOptions: _this3._priOptions\n            });\n          }\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        var headers = this._headers || {};\n        var rangeValue = getRangeValue(range);\n        if (rangeValue) {\n          headers.Range = rangeValue;\n        }\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        this._logger.debug(\"[xhr.send->] tast,\", this._range, \",load sub range, \", range);\n        xhr.send(this._body);\n      } catch (e) {\n        e.options = {\n          index: this._index,\n          range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this._loadCompleteReject(e);\n      }\n    }\n  }, {\n    key: \"_onReadyStatechange\",\n    value: function _onReadyStatechange(e) {\n      var xhr = e.target;\n      if (xhr.readyState === 2) {\n        this._firstRtt < 0 && (this._firstRtt = Date.now());\n      }\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(e) {\n      var _this$_range;\n      var status = e.target.status;\n      if (status < 200 || status > 299) {\n        var error = new NetError(this._url, null, _objectSpread2(_objectSpread2({}, e.target.response), {}, {\n          status\n        }), \"bad response,status:\" + status);\n        error.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        return this._loadCompleteReject(error);\n      }\n      var data = null;\n      var done = false;\n      var byteStart;\n      var startRange = ((_this$_range = this._range) === null || _this$_range === void 0 ? void 0 : _this$_range.length) > 0 ? this._range[0] : 0;\n      if (this._responseType === ResponseType.ARRAY_BUFFER) {\n        var _this$_range2;\n        var chunk = new Uint8Array(e.target.response);\n        byteStart = startRange + this._receivedLength;\n        if (chunk && chunk.byteLength > 0) {\n          this._receivedLength += chunk.byteLength;\n          var costTime = Date.now() - this._startTime;\n          var speed = calculateSpeed(this._receivedLength, costTime);\n          this.emit(EVENT.REAL_TIME_SPEED, {\n            speed,\n            len: this._receivedLength,\n            time: costTime,\n            vid: this._vid,\n            index: this._index,\n            range: [byteStart, startRange + this._receivedLength],\n            priOptions: this._priOptions\n          });\n        }\n        data = chunk;\n        if (((_this$_range2 = this._range) === null || _this$_range2 === void 0 ? void 0 : _this$_range2.length) > 1 && this._range[1] && this._receivedLength < this._range[1] - this._range[0]) {\n          done = false;\n        } else {\n          done = true;\n        }\n        this._logger.debug(\"[xhr load done->], tast :\", this._range, \", start\", byteStart, \"end \", startRange + this._receivedLength, \",dataLen,\", chunk ? chunk.byteLength : 0, \",receivedLength\", this._receivedLength, \",index,\", this._index, \", done,\", done);\n      } else {\n        done = true;\n        data = e.target.response;\n      }\n      var response = {\n        ok: status >= 200 && status < 300,\n        status,\n        statusText: this._xhr.statusText,\n        url: this._xhr.responseURL,\n        headers: this._getHeaders(this._xhr),\n        body: this._xhr.response\n      };\n      if (this._transformResponse) {\n        response = this._transformResponse(response, this._url) || response;\n      }\n      if (this._onProgress) {\n        this._onProgress(data, done, {\n          index: this._index,\n          vid: this._vid,\n          range: [byteStart, startRange + this._receivedLength],\n          startTime: this._startTime,\n          endTime: Date.now(),\n          priOptions: this._priOptions\n        }, response);\n      }\n      if (!done) {\n        this._startLoad();\n      } else {\n        this._runing = false;\n        this._loadCompleteResolve && this._loadCompleteResolve(createResponse(this._onProgress ? null : data, done, response, response.headers[\"content-length\"], response.headers.age, this._startTime, this._firstRtt, this._index, this._range, this._vid, this._priOptions));\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._aborted)\n        return;\n      this._aborted = true;\n      this._runing = false;\n      _get(_getPrototypeOf(XhrLoader2.prototype), \"removeAllListeners\", this).call(this);\n      if (this._onCancel) {\n        this._onCancel({\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        });\n      }\n      if (this._xhr) {\n        return this._xhr.abort();\n      }\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(xhr) {\n      var headerLines = xhr.getAllResponseHeaders().trim().split(\"\\r\\n\");\n      var headers = {};\n      var _iterator = _createForOfIteratorHelper(headerLines), _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n          var header = _step.value;\n          var parts = header.split(\": \");\n          headers[parts[0].toLowerCase()] = parts.slice(1).join(\": \");\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return headers;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof XMLHttpRequest !== \"undefined\";\n    }\n  }]);\n  return XhrLoader2;\n}(EventEmitter);\nexport { XhrLoader };\n","import { createClass as _createClass, objectWithoutProperties as _objectWithoutProperties, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { XhrLoader } from \"./xhr.js\";\nimport { LoaderType } from \"./types.js\";\nimport { createPublicPromise } from \"../utils.js\";\nimport { Logger } from \"../logger.js\";\nvar _excluded = [\"retry\", \"retryDelay\", \"onRetryError\", \"transformError\"];\nvar Task = /* @__PURE__ */ function() {\n  function Task2(type, config) {\n    _classCallCheck(this, Task2);\n    this.promise = createPublicPromise();\n    this.alive = !!config.onProgress;\n    !config.logger && (config.logger = new Logger(\"Loader\"));\n    this._loaderType = type;\n    this._loader = type === LoaderType.FETCH && typeof fetch !== \"undefined\" ? new FetchLoader() : new XhrLoader();\n    this._config = config;\n    this._retryCount = 0;\n    this._retryTimer = null;\n    this._canceled = false;\n    this._retryCheckFunc = config.retryCheckFunc;\n    this._logger = config.logger;\n  }\n  _createClass(Task2, [{\n    key: \"exec\",\n    value: function exec() {\n      var _this = this;\n      var _this$_config = this._config, retry = _this$_config.retry, retryDelay = _this$_config.retryDelay, onRetryError = _this$_config.onRetryError, transformError = _this$_config.transformError, rest = _objectWithoutProperties(_this$_config, _excluded);\n      var request = /* @__PURE__ */ function() {\n        var _ref = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n          var response, error, isRetry;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1)\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return _this._loader.load(rest);\n                case 3:\n                  response = _context.sent;\n                  _this.promise.resolve(response);\n                  _context.next = 27;\n                  break;\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](0);\n                  _this._loader.running = false;\n                  _this._logger.debug(\"[task request catch err]\", _context.t0);\n                  if (!_this._canceled) {\n                    _context.next = 13;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 13:\n                  _context.t0.loaderType = _this._loaderType;\n                  _context.t0.retryCount = _this._retryCount;\n                  error = _context.t0;\n                  if (transformError) {\n                    error = transformError(error) || error;\n                  }\n                  if (onRetryError && _this._retryCount > 0)\n                    onRetryError(error, _this._retryCount, {\n                      index: rest.index,\n                      vid: rest.vid,\n                      range: rest.range,\n                      priOptions: rest.priOptions\n                    });\n                  _this._retryCount++;\n                  isRetry = true;\n                  if (_this._retryCheckFunc) {\n                    isRetry = _this._retryCheckFunc(_context.t0);\n                  }\n                  if (!(isRetry && _this._retryCount <= retry)) {\n                    _context.next = 26;\n                    break;\n                  }\n                  clearTimeout(_this._retryTimer);\n                  _this._logger.debug(\"[task request setTimeout],retry\", _this._retryCount, \",retry range,\", rest.range);\n                  _this._retryTimer = setTimeout(request, retryDelay);\n                  return _context.abrupt(\"return\");\n                case 26:\n                  _this.promise.reject(error);\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n          }, _callee, null, [[0, 7]]);\n        }));\n        return function request2() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      request();\n      return this.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(this._retryTimer);\n                this._canceled = true;\n                this._loader.running = false;\n                return _context2.abrupt(\"return\", this._loader.cancel());\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._loader && this._loader.running;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._loader;\n    }\n  }]);\n  return Task2;\n}();\nexport { Task };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { LoaderType } from \"./types.js\";\nexport { LoaderType, ResponseType } from \"./types.js\";\nimport { getConfig } from \"./config.js\";\nimport { Task } from \"./task.js\";\nimport { isPlainObject } from \"../is.js\";\nimport { sleep } from \"../streaming-helper.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar NetLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(NetLoader2, _EventEmitter);\n  var _super = _createSuper(NetLoader2);\n  function NetLoader2(cfg) {\n    var _this;\n    _classCallCheck(this, NetLoader2);\n    _this = _super.call(this, cfg);\n    _defineProperty(_assertThisInitialized(_this), \"type\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"_queue\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_alive\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_currentTask\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_finnalUrl\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_config\", void 0);\n    _this._config = getConfig(cfg);\n    if (_this._config.loaderType === LoaderType.XHR || !FetchLoader.isSupported()) {\n      _this.type = LoaderType.XHR;\n    }\n    _this.log = cfg.logger;\n    return _this;\n  }\n  _createClass(NetLoader2, [{\n    key: \"isFetch\",\n    value: function isFetch() {\n      return this.type === LoaderType.FETCH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (typeof url === \"string\" || !url) {\n        config.url = url || config.url || this._config.url;\n      } else {\n        config = url;\n      }\n      config = Object.assign({}, this._config, config);\n      if (config.params)\n        config.params = Object.assign({}, config.params);\n      if (config.headers && isPlainObject(config.headers))\n        config.headers = Object.assign({}, config.headers);\n      if (config.body && isPlainObject(config.body))\n        config.body = Object.assign({}, config.body);\n      if (config.transformRequest) {\n        config = config.transformRequest(config) || config;\n      }\n      config.logger = this.log;\n      var task = new Task(this.type, config);\n      task.loader.on(EVENT.REAL_TIME_SPEED, function(data) {\n        _this2.emit(EVENT.REAL_TIME_SPEED, data);\n      });\n      this._queue.push(task);\n      if (this._queue.length === 1 && (!this._currentTask || !this._currentTask.running)) {\n        this._processTask();\n      }\n      return task.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n        var cancels;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                cancels = this._queue.map(function(t) {\n                  return t.cancel();\n                }).concat(this._alive.map(function(t) {\n                  return t.cancel();\n                }));\n                if (this._currentTask) {\n                  cancels.push(this._currentTask.cancel());\n                }\n                this._queue = [];\n                this._alive = [];\n                _context.next = 6;\n                return Promise.all(cancels);\n              case 6:\n                _context.next = 8;\n                return sleep();\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_processTask\",\n    value: function _processTask() {\n      var _this3 = this;\n      this._currentTask = this._queue.shift();\n      if (!this._currentTask)\n        return;\n      if (this._currentTask.alive) {\n        this._alive.push(this._currentTask);\n      }\n      var req = this._currentTask.exec().catch(function(e) {\n      });\n      if (!(req && typeof req.finally === \"function\"))\n        return;\n      req.finally(function() {\n        var _this3$_currentTask, _this3$_alive;\n        if ((_this3$_currentTask = _this3._currentTask) !== null && _this3$_currentTask !== void 0 && _this3$_currentTask.alive && ((_this3$_alive = _this3._alive) === null || _this3$_alive === void 0 ? void 0 : _this3$_alive.length) > 0) {\n          _this3._alive = _this3._alive.filter(function(task) {\n            return task && task !== _this3._currentTask;\n          });\n        }\n        _this3._processTask();\n      });\n    }\n  }], [{\n    key: \"isFetchSupport\",\n    value: function isFetchSupport() {\n      return FetchLoader.isSupported();\n    }\n  }]);\n  return NetLoader2;\n}(EventEmitter);\nexport { NetLoader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, assertThisInitialized as _assertThisInitialized } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nvar MasterPlaylist = /* @__PURE__ */ _createClass(function MasterPlaylist2() {\n  _classCallCheck(this, MasterPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"streams\", []);\n  _defineProperty(this, \"isMaster\", true);\n});\nvar MediaType = {\n  Audio: \"AUDIO\",\n  Video: \"VIDEO\",\n  SubTitle: \"SUBTITLE\",\n  ClosedCaptions: \"CLOSED-CAPTIONS\"\n};\nvar KeySystems = {\n  CLEAR_KEY: \"org.w3.clearkey\",\n  FAIRPLAY: [\"urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2\", \"com.apple.streamingkeydelivery\"],\n  WIDEVINE: [\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\", \"com.widevine.alpha\", \"com.widevine\"],\n  PLAYREADY: [\"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\", \"com.microsoft.playready\"]\n};\nfunction flatArray(arr) {\n  var ret = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      ret = ret.concat(flatArray(arr[i]));\n    } else {\n      ret.push(arr[i]);\n    }\n  }\n  return ret;\n}\nvar MediaStream = /* @__PURE__ */ _createClass(function MediaStream2() {\n  _classCallCheck(this, MediaStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"default\", false);\n  _defineProperty(this, \"autoSelect\", false);\n  _defineProperty(this, \"forced\", false);\n  _defineProperty(this, \"group\", \"\");\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"lang\", \"\");\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"endSN\", 0);\n});\nvar AudioStream = /* @__PURE__ */ function(_MediaStream) {\n  _inherits(AudioStream2, _MediaStream);\n  var _super = _createSuper(AudioStream2);\n  function AudioStream2() {\n    var _this;\n    _classCallCheck(this, AudioStream2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"mediaType\", MediaType.Audio);\n    _defineProperty(_assertThisInitialized(_this), \"channels\", 0);\n    return _this;\n  }\n  return _createClass(AudioStream2);\n}(MediaStream);\nvar SubTitleStream = /* @__PURE__ */ function(_MediaStream3) {\n  _inherits(SubTitleStream2, _MediaStream3);\n  var _super3 = _createSuper(SubTitleStream2);\n  function SubTitleStream2() {\n    var _this3;\n    _classCallCheck(this, SubTitleStream2);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this3 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this3), \"mediaType\", MediaType.SubTitle);\n    return _this3;\n  }\n  return _createClass(SubTitleStream2);\n}(MediaStream);\nvar MasterStream = /* @__PURE__ */ _createClass(function MasterStream2() {\n  _classCallCheck(this, MasterStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"bitrate\", 0);\n  _defineProperty(this, \"width\", 0);\n  _defineProperty(this, \"height\", 0);\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"audioCodec\", \"\");\n  _defineProperty(this, \"videoCodec\", \"\");\n  _defineProperty(this, \"textCodec\", \"\");\n  _defineProperty(this, \"audioGroup\", \"\");\n  _defineProperty(this, \"audioStreams\", []);\n  _defineProperty(this, \"subtitleStreams\", []);\n  _defineProperty(this, \"closedCaptionsStream\", []);\n});\nvar MediaPlaylist = /* @__PURE__ */ _createClass(function MediaPlaylist2() {\n  _classCallCheck(this, MediaPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"type\", \"\");\n  _defineProperty(this, \"startCC\", 0);\n  _defineProperty(this, \"endCC\", 0);\n  _defineProperty(this, \"startSN\", 0);\n  _defineProperty(this, \"endSN\", 0);\n  _defineProperty(this, \"totalDuration\", 0);\n  _defineProperty(this, \"targetDuration\", 0);\n  _defineProperty(this, \"partTargetDuration\", 0);\n  _defineProperty(this, \"canSkipUntil\", 0);\n  _defineProperty(this, \"canSkipDateRanges\", false);\n  _defineProperty(this, \"skippedSegments\", 0);\n  _defineProperty(this, \"canBlockReload\", false);\n  _defineProperty(this, \"partHoldBack\", 0);\n  _defineProperty(this, \"live\", true);\n  _defineProperty(this, \"lowLatency\", false);\n  _defineProperty(this, \"endPartIndex\", 0);\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"dateRanges\", {});\n  _defineProperty(this, \"skippedSegments\", 0);\n});\nvar MediaSegment = /* @__PURE__ */ function() {\n  function MediaSegment2(parentUrl) {\n    _classCallCheck(this, MediaSegment2);\n    _defineProperty(this, \"sn\", 0);\n    _defineProperty(this, \"cc\", 0);\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"parentUrl\", \"\");\n    _defineProperty(this, \"title\", \"\");\n    _defineProperty(this, \"start\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"dataTime\", \"\");\n    _defineProperty(this, \"key\", null);\n    _defineProperty(this, \"byteRange\", null);\n    _defineProperty(this, \"isInitSegment\", false);\n    _defineProperty(this, \"initSegment\", null);\n    _defineProperty(this, \"isLast\", false);\n    _defineProperty(this, \"hasAudio\", false);\n    _defineProperty(this, \"hasVideo\", false);\n    _defineProperty(this, \"independent\", false);\n    _defineProperty(this, \"partIndex\", 0);\n    this.parentUrl = parentUrl;\n  }\n  _createClass(MediaSegment2, [{\n    key: \"end\",\n    get: function get() {\n      return this.start + this.duration;\n    }\n  }, {\n    key: \"setTrackExist\",\n    value: function setTrackExist(v, a) {\n      this.hasVideo = v;\n      this.hasAudio = a;\n    }\n  }, {\n    key: \"setByteRange\",\n    value: function setByteRange(data, prevSegment) {\n      this.byteRange = [0];\n      var bytes = data.split(\"@\");\n      if (bytes.length === 1 && prevSegment && prevSegment.byteRange) {\n        this.byteRange[0] = prevSegment.byteRange[1] || 0;\n        if (this.byteRange[0])\n          this.byteRange[0] += 1;\n      } else {\n        this.byteRange[0] = parseInt(bytes[1]);\n      }\n      this.byteRange[1] = this.byteRange[0] + parseInt(bytes[0]) - 1;\n    }\n  }]);\n  return MediaSegment2;\n}();\nvar MediaSegmentKey = /* @__PURE__ */ function() {\n  function MediaSegmentKey2(segKey) {\n    _classCallCheck(this, MediaSegmentKey2);\n    _defineProperty(this, \"method\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"iv\", null);\n    _defineProperty(this, \"keyFormat\", \"\");\n    _defineProperty(this, \"keyFormatVersions\", \"\");\n    if (segKey instanceof MediaSegmentKey2) {\n      this.method = segKey.method;\n      this.url = segKey.url;\n      this.keyFormat = segKey.keyFormat;\n      this.keyFormatVersions = segKey.keyFormatVersions;\n      if (segKey.iv)\n        this.iv = new Uint8Array(segKey.iv);\n    }\n  }\n  _createClass(MediaSegmentKey2, [{\n    key: \"clone\",\n    value: function clone(sn) {\n      var key = new MediaSegmentKey2(this);\n      if (sn !== null && sn !== void 0)\n        key.setIVFromSN(sn);\n      return key;\n    }\n  }, {\n    key: \"setIVFromSN\",\n    value: function setIVFromSN(sn) {\n      if (!this.iv && this.method === \"AES-128\" && typeof sn === \"number\" && this.url) {\n        this.iv = new Uint8Array(16);\n        for (var i = 12; i < 16; i++) {\n          this.iv[i] = sn >> 8 * (15 - i) & 255;\n        }\n      }\n    }\n  }, {\n    key: \"isSegmentEncrypted\",\n    value: function isSegmentEncrypted() {\n      var method = this.method;\n      return method === \"AES-128\";\n    }\n  }, {\n    key: \"isValidKeySystem\",\n    value: function isValidKeySystem() {\n      var isKeyFormatValid = flatArray([KeySystems.CLEAR_KEY, KeySystems.FAIRPLAY, KeySystems.WIDEVINE, KeySystems.PLAYREADY]).indexOf(this.keyFormat) > -1;\n      if (!isKeyFormatValid) {\n        return false;\n      }\n      var isMethodValid = [\"SAMPLE-AES\", \"SAMPLE-AES-CENC\", \"SAMPLE-AES-CTR\"].indexOf(this.method) > -1;\n      if (!isMethodValid) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      if (!this.method) {\n        return false;\n      }\n      if (this.isSegmentEncrypted()) {\n        return true;\n      } else if (this.isValidKeySystem()) {\n        return true;\n      }\n      return false;\n    }\n  }]);\n  return MediaSegmentKey2;\n}();\nexport { AudioStream, MasterPlaylist, MasterStream, MediaPlaylist, MediaSegment, MediaSegmentKey, MediaStream, SubTitleStream };\n","var REGEXP_TAG = /^#(EXT[^:]*)(?::(.*))?$/;\nvar REGEXP_ATTR = /([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;\nvar REGEXP_ABSOLUTE_URL = /^(?:[a-zA-Z0-9+\\-.]+:)?\\/\\//;\nvar REGEXP_URL_PAIR = /^((?:[a-zA-Z0-9+\\-.]+:)?\\/\\/[^/?#]*)?([^?#]*\\/)?/;\nfunction getLines(text) {\n  return text.split(/[\\r\\n]/).map(function(x) {\n    return x.trim();\n  }).filter(Boolean);\n}\nfunction parseTag(text) {\n  var ret = text.match(REGEXP_TAG);\n  if (!ret || !ret[1])\n    return;\n  return [ret[1].replace(\"EXT-X-\", \"\"), ret[2]];\n}\nfunction parseAttr(text) {\n  var ret = {};\n  var match = REGEXP_ATTR.exec(text);\n  while (match) {\n    ret[match[1]] = match[2] || match[3];\n    match = REGEXP_ATTR.exec(text);\n  }\n  return ret;\n}\nfunction getAbsoluteUrl(url, parentUrl) {\n  if (!parentUrl || !url || REGEXP_ABSOLUTE_URL.test(url))\n    return url;\n  var pairs = REGEXP_URL_PAIR.exec(parentUrl);\n  if (!pairs)\n    return url;\n  if (url[0] === \"/\")\n    return pairs[1] + url;\n  return pairs[1] + pairs[2] + url;\n}\nvar CODECS_REGEXP = {\n  audio: [/^mp4a/, /^vorbis$/, /^opus$/, /^flac$/, /^[ae]c-3$/],\n  video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/],\n  text: [/^vtt$/, /^wvtt/, /^stpp/]\n};\nfunction getCodecs(type, codecs) {\n  var re = CODECS_REGEXP[type];\n  if (!re || !codecs || !codecs.length)\n    return;\n  for (var i = 0; i < re.length; i++) {\n    for (var j = 0; j < codecs.length; j++) {\n      if (re[i].test(codecs[j]))\n        return codecs[j];\n    }\n  }\n}\nfunction isValidDaterange(attr, dateRangeWithSameId) {\n  var _badValueForSameId;\n  if (dateRangeWithSameId) {\n    for (var key in dateRangeWithSameId) {\n      if (Object.prototype.hasOwnProperty.call(dateRangeWithSameId, key) && attr[key] !== dateRangeWithSameId[key]) {\n        _badValueForSameId = key;\n        break;\n      }\n    }\n  }\n  var duration = null;\n  if (attr.DURATION) {\n    duration = parseFloat(attr.DURATION);\n    if (!Number.isFinite(duration)) {\n      duration = null;\n    } else if (attr._endDate) {\n      duration = (attr._endDate.getTime() - attr._startDate.getTime()) / 1e3;\n    }\n  }\n  var cue = enumeratedStringList(attr.CUE || attr[\"X-CUE\"], {\n    pre: false,\n    post: false,\n    once: false\n  });\n  return !!attr.ID && !_badValueForSameId && Number.isFinite(attr._startDate.getTime()) && (duration === null || duration >= 0) && (!(attr.END_ON_NEXT === \"YES\") || !!attr.CLASS) && (!attr.CUE || !cue.pre && !cue.post || cue.pre !== cue.post) && (!(attr.CLASS === \"com.apple.hls.interstitial\") || \"X-ASSET-URI\" in attr || \"X-ASSET-LIST\" in attr);\n}\nfunction enumeratedStringList(attrValue, dict) {\n  return (attrValue ? attrValue.split(/[ ,]+/) : []).reduce(function(result, identifier) {\n    result[identifier.toLowerCase()] = true;\n    return result;\n  }, dict);\n}\nexport { getAbsoluteUrl, getCodecs, getLines, isValidDaterange, parseAttr, parseTag };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MasterPlaylist, MediaStream, SubTitleStream, AudioStream, MasterStream } from \"./model.js\";\nimport { parseTag, parseAttr, getAbsoluteUrl, getCodecs } from \"./utils.js\";\nfunction parseMasterPlaylist(lines, parentUrl) {\n  var master = new MasterPlaylist();\n  var index = 0;\n  var line;\n  var audioStreams = [];\n  var subtitleStreams = [];\n  while (line = lines[index++]) {\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    if (name === \"VERSION\") {\n      master.version = parseInt(data);\n    } else if (name === \"MEDIA\" && data) {\n      var attr = parseAttr(data);\n      var stream = void 0;\n      switch (attr.TYPE) {\n        case \"AUDIO\":\n          stream = new AudioStream();\n          break;\n        case \"SUBTITLES\":\n          stream = new SubTitleStream();\n          break;\n        default:\n          stream = new MediaStream();\n      }\n      stream.url = getAbsoluteUrl(attr.URI, parentUrl);\n      stream.default = attr.DEFAULT === \"YES\";\n      stream.autoSelect = attr.AUTOSELECT === \"YES\";\n      stream.group = attr[\"GROUP-ID\"];\n      stream.name = attr.NAME;\n      stream.lang = attr.LANGUAGE;\n      if (attr.CHANNELS) {\n        stream.channels = Number(attr.CHANNELS.split(\"/\")[0]);\n        if (Number.isNaN(stream.channels))\n          stream.channels = 0;\n      }\n      if (attr.TYPE === \"AUDIO\" && attr.URI) {\n        audioStreams.push(stream);\n      }\n      if (attr.TYPE === \"SUBTITLES\") {\n        subtitleStreams.push(stream);\n      }\n    } else if (name === \"STREAM-INF\" && data) {\n      var _stream = new MasterStream();\n      var _attr = parseAttr(data);\n      _stream.bitrate = parseInt(_attr[\"AVERAGE-BANDWIDTH\"] || _attr.BANDWIDTH);\n      _stream.name = _attr.NAME;\n      _stream.url = getAbsoluteUrl(lines[index++], parentUrl);\n      if (_attr.RESOLUTION) {\n        var _attr$RESOLUTION$spli = _attr.RESOLUTION.split(\"x\"), _attr$RESOLUTION$spli2 = _slicedToArray(_attr$RESOLUTION$spli, 2), w = _attr$RESOLUTION$spli2[0], h = _attr$RESOLUTION$spli2[1];\n        _stream.width = parseInt(w);\n        _stream.height = parseInt(h);\n      }\n      if (_attr.CODECS) {\n        var codecs = _attr.CODECS.split(/[ ,]+/).filter(Boolean);\n        _stream.videoCodec = getCodecs(\"video\", codecs);\n        _stream.audioCodec = getCodecs(\"audio\", codecs);\n        _stream.textCodec = getCodecs(\"text\", codecs);\n      }\n      _stream.audioGroup = _attr.AUDIO;\n      _stream.subtitleGroup = _attr.SUBTITLES;\n      master.streams.push(_stream);\n    }\n  }\n  master.streams.forEach(function(s, i) {\n    s.id = i;\n  });\n  if (audioStreams.length) {\n    audioStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.audioGroup) {\n        stream2.audioStreams = audioStreams.filter(function(x) {\n          return x.group === stream2.audioGroup;\n        });\n      }\n    });\n  }\n  if (subtitleStreams.length) {\n    subtitleStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.subtitleGroup) {\n        stream2.subtitleStreams = subtitleStreams.filter(function(x) {\n          return x.group === stream2.subtitleGroup;\n        });\n      }\n    });\n  }\n  return master;\n}\nexport { parseMasterPlaylist };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MediaPlaylist, MediaSegment, MediaSegmentKey } from \"./model.js\";\nimport { getAbsoluteUrl, parseTag, parseAttr, isValidDaterange } from \"./utils.js\";\nfunction parseMediaPlaylist(lines, parentUrl, useLowLatency) {\n  var media = new MediaPlaylist();\n  media.url = parentUrl;\n  var curSegment = new MediaSegment(parentUrl);\n  var curInitSegment = null;\n  var curKey = null;\n  var totalDuration = 0;\n  var curSN = 0;\n  var curCC = 0;\n  var index = 0;\n  var line;\n  var endOfList = false;\n  var partSegmentIndex = 0;\n  while (line = lines[index++]) {\n    if (line[0] !== \"#\") {\n      if (media.lowLatency) {\n        curSN++;\n        continue;\n      }\n      curSegment.sn = curSN;\n      curSegment.cc = curCC;\n      curSegment.url = getAbsoluteUrl(line, parentUrl);\n      if (curKey)\n        curSegment.key = curKey.clone(curSN);\n      if (curInitSegment)\n        curSegment.initSegment = curInitSegment;\n      media.segments.push(curSegment);\n      curSegment = new MediaSegment(parentUrl);\n      curSN++;\n      continue;\n    }\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    switch (name) {\n      case \"VERSION\":\n        media.version = parseInt(data);\n        break;\n      case \"PLAYLIST-TYPE\":\n        media.type = data === null || data === void 0 ? void 0 : data.toUpperCase();\n        break;\n      case \"TARGETDURATION\":\n        media.targetDuration = parseFloat(data);\n        break;\n      case \"PART-INF\":\n        {\n          if (useLowLatency) {\n            media.lowLatency = true;\n          }\n          var attr = parseAttr(data);\n          if (attr[\"PART-TARGET\"]) {\n            media.partTargetDuration = parseFloat(attr[\"PART-TARGET\"]);\n          }\n        }\n        break;\n      case \"SERVER-CONTROL\":\n        {\n          var _attr = parseAttr(data);\n          media.canBlockReload = _attr[\"CAN-BLOCK-RELOAD\"] === \"YES\";\n          media.partHoldBack = parseFloat(_attr[\"PART-HOLD-BACK\"] || 0);\n          media.canSkipUntil = parseFloat(_attr[\"CAN-SKIP-UNTIL\"] || 0);\n          media.canSkipDateRanges = _attr[\"CAN-SKIP-DATERANGES\"] === \"YES\";\n        }\n        break;\n      case \"ENDLIST\":\n        {\n          endOfList = true;\n        }\n        break;\n      case \"MEDIA-SEQUENCE\":\n        curSN = media.startSN = parseInt(data);\n        break;\n      case \"DISCONTINUITY-SEQUENCE\":\n        curCC = media.startCC = parseInt(data);\n        break;\n      case \"DISCONTINUITY\":\n        curCC++;\n        break;\n      case \"BYTERANGE\":\n        curSegment.setByteRange(data, media.segments[media.segments.length - 1]);\n        break;\n      case \"PART\":\n        {\n          if (!media.lowLatency)\n            break;\n          var _attr2 = parseAttr(data);\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          curSegment.independent = _attr2[\"INDEPENDENT\"] === \"YES\";\n          curSegment.sn = curSN;\n          curSegment.cc = curCC;\n          curSegment.partIndex = partSegmentIndex;\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          totalDuration += curSegment.duration;\n          curSegment.url = getAbsoluteUrl(_attr2[\"URI\"], parentUrl);\n          if (curKey)\n            curSegment.key = curKey.clone(curSN);\n          if (curInitSegment)\n            curSegment.initSegment = curInitSegment;\n          media.segments.push(curSegment);\n          curSegment = new MediaSegment(parentUrl);\n          partSegmentIndex++;\n        }\n        break;\n      case \"PRELOAD-HINT\":\n        break;\n      case \"PROGRAM-DATE-TIME\":\n        curSegment.dataTime = data;\n        break;\n      case \"EXTINF\":\n        {\n          if (media.lowLatency) {\n            partSegmentIndex = 0;\n            break;\n          }\n          var _data$split = data.split(\",\"), _data$split2 = _slicedToArray(_data$split, 2), duration = _data$split2[0], title = _data$split2[1];\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(duration);\n          totalDuration += curSegment.duration;\n          curSegment.title = title;\n        }\n        break;\n      case \"KEY\":\n        {\n          var _attr3 = parseAttr(data);\n          if (_attr3.METHOD === \"NONE\") {\n            curKey = null;\n            break;\n          }\n          curKey = new MediaSegmentKey();\n          curKey.method = _attr3.METHOD;\n          curKey.url = /^blob:/.test(_attr3.URI) ? _attr3.URI : getAbsoluteUrl(_attr3.URI, parentUrl);\n          curKey.keyFormat = _attr3.KEYFORMAT || \"identity\";\n          curKey.keyFormatVersions = _attr3.KEYFORMATVERSIONS;\n          if (!curKey.isSupported()) {\n            throw new Error(\"encrypt \".concat(_attr3.METHOD, \"/\").concat(_attr3.KEYFORMAT, \" is not supported\"));\n          }\n          if (_attr3.IV) {\n            var str = _attr3.IV.slice(2);\n            str = (str.length & 1 ? \"0\" : \"\") + str;\n            curKey.iv = new Uint8Array(str.length / 2);\n            for (var i = 0, l = str.length / 2; i < l; i++) {\n              curKey.iv[i] = parseInt(str.slice(i * 2, i * 2 + 2), 16);\n            }\n          }\n        }\n        break;\n      case \"MAP\":\n        {\n          var _attr4 = parseAttr(data);\n          curSegment.url = getAbsoluteUrl(_attr4.URI, parentUrl);\n          if (_attr4.BYTERANGE)\n            curSegment.setByteRange(_attr4.BYTERANGE);\n          curSegment.isInitSegment = true;\n          curSegment.sn = 0;\n          if (curKey) {\n            curSegment.key = curKey.clone(0);\n          }\n          curInitSegment = curSegment;\n          curSegment = new MediaSegment(parentUrl);\n        }\n        break;\n      case \"SKIP\":\n        {\n          var _attr5 = parseAttr(data);\n          var skippedSegments = parseInt(_attr5[\"SKIPPED-SEGMENTS\"], 10);\n          if (skippedSegments <= Number.MAX_SAFE_INTEGER) {\n            media.skippedSegments += skippedSegments;\n          }\n        }\n        break;\n      case \"DATERANGE\":\n        {\n          var _attr6 = parseAttr(data);\n          var dateRangeWithSameId = media.dateRanges[_attr6.ID];\n          _attr6._startDate = dateRangeWithSameId ? dateRangeWithSameId._startDate : new Date(_attr6[\"START-DATE\"]);\n          var endDate = (dateRangeWithSameId === null || dateRangeWithSameId === void 0 ? void 0 : dateRangeWithSameId._endDate) || new Date(_attr6.END_DATE);\n          if (Number.isFinite(endDate)) {\n            _attr6._endDate = endDate;\n          }\n          if (isValidDaterange(_attr6, dateRangeWithSameId) || media.skippedSegments) {\n            media.dateRanges[_attr6.ID] = _attr6;\n          }\n        }\n        break;\n    }\n  }\n  media.segments = media.segments.filter(function(x) {\n    return x.duration !== 0;\n  });\n  var lastSegment = media.segments[media.segments.length - 1];\n  if (lastSegment) {\n    if (endOfList) {\n      lastSegment.isLast = true;\n    }\n    media.endSN = lastSegment.sn;\n    media.endPartIndex = lastSegment.partIndex;\n  }\n  if (endOfList) {\n    media.live = false;\n  }\n  media.totalDuration = totalDuration;\n  media.endCC = curCC;\n  return media;\n}\nexport { parseMediaPlaylist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { parseMasterPlaylist } from \"./master.js\";\nimport { parseMediaPlaylist } from \"./media.js\";\nimport { getLines } from \"./utils.js\";\nvar M3U8Parser = /* @__PURE__ */ function() {\n  function M3U8Parser2() {\n    _classCallCheck(this, M3U8Parser2);\n  }\n  _createClass(M3U8Parser2, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n      var parentUrl = arguments.length > 1 ? arguments[1] : void 0;\n      var useLowLatency = arguments.length > 2 ? arguments[2] : void 0;\n      if (!text.includes(\"#EXTM3U\"))\n        throw new Error(\"Invalid m3u8 file\");\n      var lines = getLines(text);\n      if (M3U8Parser2.isMediaPlaylist(text)) {\n        return parseMediaPlaylist(lines, parentUrl, useLowLatency);\n      }\n      return parseMasterPlaylist(lines, parentUrl);\n    }\n  }, {\n    key: \"isMediaPlaylist\",\n    value: function isMediaPlaylist(text) {\n      return text.includes(\"#EXTINF:\") || text.includes(\"#EXT-X-TARGETDURATION:\");\n    }\n  }]);\n  return M3U8Parser2;\n}();\nexport { M3U8Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, NetLoader, ERR } from \"xgplayer-streaming-shared\";\nimport { M3U8Parser } from \"./parser/index.js\";\nimport { Event } from \"../constants.js\";\nvar ManifestLoader = /* @__PURE__ */ function() {\n  function ManifestLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, ManifestLoader2);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(Event.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._timer = null;\n    this._useLowLatency = hls.config.useLowLatency;\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, manifestLoadTimeout = _this$hls$config.manifestLoadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._loader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._subtitleLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(ManifestLoader2, [{\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(url, audioUrl, subtitleUrl) {\n        var toLoad, videoText, audioText, subtitleText, videoResUrl, audioResUrl, subtitleResUrl, _yield$Promise$all, _yield$Promise$all2, video, audio, subtitle, _audio$response, _subtitle$response, _audio$response2, onPreM3U8Parse, playlist, audioPlaylist, subtitlePlaylist, _playlist;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [this._loader.load(url)];\n                if (audioUrl) {\n                  toLoad.push(this._audioLoader.load(audioUrl));\n                }\n                if (subtitleUrl) {\n                  toLoad.push(this._subtitleLoader.load(subtitleUrl));\n                }\n                _context.prev = 3;\n                _context.next = 6;\n                return Promise.all(toLoad);\n              case 6:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                video = _yield$Promise$all2[0];\n                audio = _yield$Promise$all2[1];\n                subtitle = _yield$Promise$all2[2];\n                if (video) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\", []);\n              case 13:\n                this._emitOnLoaded(video, url);\n                videoText = video.data;\n                videoResUrl = video.response.url || url;\n                if (audioUrl) {\n                  audioText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleText = subtitle === null || subtitle === void 0 ? void 0 : subtitle.data;\n                  audioResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response = audio.response) === null || _audio$response === void 0 ? void 0 : _audio$response.url) || audioUrl;\n                  subtitleResUrl = (subtitle === null || subtitle === void 0 ? void 0 : (_subtitle$response = subtitle.response) === null || _subtitle$response === void 0 ? void 0 : _subtitle$response.url) || subtitleUrl;\n                  audioText && this._emitOnLoaded(audio, audioUrl);\n                  subtitleText && this._emitOnLoaded(subtitle, subtitleUrl);\n                } else {\n                  subtitleText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response2 = audio.response) === null || _audio$response2 === void 0 ? void 0 : _audio$response2.url) || subtitleUrl;\n                  subtitleText && this._emitOnLoaded(audio, subtitleUrl);\n                }\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](3);\n                throw StreamingError.network(_context.t0);\n              case 22:\n                onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n                _context.prev = 23;\n                if (onPreM3U8Parse) {\n                  videoText = onPreM3U8Parse(videoText) || videoText;\n                  if (audioText)\n                    audioText = onPreM3U8Parse(audioText, true) || audioText;\n                  if (subtitleText)\n                    subtitleText = onPreM3U8Parse(subtitleText, true) || subtitleText;\n                }\n                playlist = M3U8Parser.parse(videoText, videoResUrl, this._useLowLatency);\n                if (!(((_playlist = playlist) === null || _playlist === void 0 ? void 0 : _playlist.live) === false && playlist.segments && !playlist.segments.length)) {\n                  _context.next = 28;\n                  break;\n                }\n                throw new Error(\"empty segments list\");\n              case 28:\n                if (audioText) {\n                  audioPlaylist = M3U8Parser.parse(audioText, audioResUrl, this._useLowLatency);\n                }\n                if (subtitleText) {\n                  subtitlePlaylist = M3U8Parser.parse(subtitleText, subtitleResUrl, this._useLowLatency);\n                }\n                _context.next = 35;\n                break;\n              case 32:\n                _context.prev = 32;\n                _context.t1 = _context[\"catch\"](23);\n                throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, _context.t1);\n              case 35:\n                if (playlist) {\n                  if (playlist.isMaster) {\n                    this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n                      playlist\n                    });\n                  } else {\n                    this.hls.emit(Event.HLS_LEVEL_LOADED, {\n                      playlist\n                    });\n                  }\n                }\n                return _context.abrupt(\"return\", [playlist, audioPlaylist, subtitlePlaylist]);\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this, [[3, 19], [23, 32]]);\n      }));\n      function load(_x, _x2, _x3) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"parseText\",\n    value: function parseText(videoText, url) {\n      var onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n      var playlist;\n      try {\n        var _playlist2;\n        if (onPreM3U8Parse) {\n          videoText = onPreM3U8Parse(videoText) || videoText;\n        }\n        playlist = M3U8Parser.parse(videoText, url, this._useLowLatency);\n        if (((_playlist2 = playlist) === null || _playlist2 === void 0 ? void 0 : _playlist2.live) === false && playlist.segments && !playlist.segments.length) {\n          throw new Error(\"empty segments list\");\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, error);\n      }\n      if (playlist) {\n        if (playlist.isMaster) {\n          this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n            playlist\n          });\n        } else {\n          this.hls.emit(Event.HLS_LEVEL_LOADED, {\n            playlist\n          });\n        }\n      }\n      return [playlist];\n    }\n  }, {\n    key: \"poll\",\n    value: function poll(url, audioUrl, subtitleUrl, cb, errorCb, time) {\n      var _this2 = this;\n      clearTimeout(this._timer);\n      time = time || 3e3;\n      var retryCount = this.hls.config.pollRetryCount;\n      var fn = /* @__PURE__ */ function() {\n        var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1)\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  clearTimeout(_this2._timer);\n                  _context2.prev = 1;\n                  _context2.next = 4;\n                  return _this2.load(url, audioUrl, subtitleUrl);\n                case 4:\n                  res = _context2.sent;\n                  if (res[0]) {\n                    _context2.next = 7;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 7:\n                  retryCount = _this2.hls.config.pollRetryCount;\n                  cb(res[0], res[1], res[2]);\n                  _context2.next = 15;\n                  break;\n                case 11:\n                  _context2.prev = 11;\n                  _context2.t0 = _context2[\"catch\"](1);\n                  retryCount--;\n                  if (retryCount <= 0) {\n                    errorCb(_context2.t0);\n                  }\n                case 15:\n                  _this2._timer = setTimeout(fn, time);\n                case 16:\n                case \"end\":\n                  return _context2.stop();\n              }\n          }, _callee2, null, [[1, 11]]);\n        }));\n        return function fn2() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n      this._timer = setTimeout(fn, time);\n    }\n  }, {\n    key: \"stopPoll\",\n    value: function stopPoll() {\n      clearTimeout(this._timer);\n      return this.cancel();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      return Promise.all([this._loader.cancel(), this._audioLoader.cancel()]);\n    }\n  }]);\n  return ManifestLoader2;\n}();\nexport { ManifestLoader };\n","function clamp(num, min, max) {\n  if (min > max) {\n    max = min;\n  }\n  return Math.min(Math.max(num, min), max);\n}\nexport { clamp };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger } from \"xgplayer-streaming-shared\";\nvar logger = new Logger(\"playlist\");\nvar Stream = /* @__PURE__ */ function() {\n  function Stream2(playlist, audioPlaylist, subtitlePlaylist) {\n    _classCallCheck(this, Stream2);\n    _defineProperty(this, \"live\", void 0);\n    _defineProperty(this, \"id\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"name\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"textCodec\", \"\");\n    _defineProperty(this, \"startCC\", 0);\n    _defineProperty(this, \"endCC\", 0);\n    _defineProperty(this, \"startSN\", 0);\n    _defineProperty(this, \"endSN\", -1);\n    _defineProperty(this, \"totalDuration\", 0);\n    _defineProperty(this, \"targetDuration\", 0);\n    _defineProperty(this, \"partTargetDuration\", 0);\n    _defineProperty(this, \"canSkipUntil\", 0);\n    _defineProperty(this, \"canSkipDateRanges\", false);\n    _defineProperty(this, \"skippedSegments\", 0);\n    _defineProperty(this, \"canBlockReload\", false);\n    _defineProperty(this, \"partHoldBack\", 0);\n    _defineProperty(this, \"lowLatency\", false);\n    _defineProperty(this, \"endPartIndex\", 0);\n    _defineProperty(this, \"snDiff\", null);\n    _defineProperty(this, \"segments\", []);\n    _defineProperty(this, \"audioStreams\", []);\n    _defineProperty(this, \"subtitleStreams\", []);\n    _defineProperty(this, \"closedCaptions\", []);\n    _defineProperty(this, \"currentAudioStream\", null);\n    _defineProperty(this, \"currentSubtitleStream\", null);\n    this.update(this._setLLPlaybackPoint(playlist), audioPlaylist, subtitlePlaylist);\n  }\n  _createClass(Stream2, [{\n    key: \"lastSegment\",\n    get: function get() {\n      if (this.segments.length) {\n        return this.segments[this.segments.length - 1];\n      }\n      return null;\n    }\n  }, {\n    key: \"segmentDuration\",\n    get: function get() {\n      var _this$segments$;\n      return this.targetDuration || ((_this$segments$ = this.segments[0]) === null || _this$segments$ === void 0 ? void 0 : _this$segments$.duration) || 0;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      return this.endTime;\n    },\n    set: function set(end) {\n      this.endTime = end;\n    }\n  }, {\n    key: \"endTime\",\n    get: function get() {\n      var _this$lastSegment;\n      return ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.end) || 0;\n    },\n    set: function set(end) {\n      var lastSeg = this.lastSegment;\n      if (lastSeg)\n        lastSeg.duration = end - lastSeg.start;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentSubtitle;\n      return ((_this$currentSubtitle = this.currentSubtitleStream) === null || _this$currentSubtitle === void 0 ? void 0 : _this$currentSubtitle.endSN) || 0;\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment(startTime, pointer) {\n      if (this.currentAudioStream) {\n        this._clearSegments(startTime, pointer);\n      }\n      return this._clearSegments(startTime, pointer);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      if (!seg || !this.currentAudioStream)\n        return;\n      var sn = seg.sn - this.snDiff;\n      return this.currentAudioStream.segments.find(function(x) {\n        return x.sn === sn;\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(playlist, audioPlaylist) {\n      this.url = playlist.url;\n      if (Array.isArray(playlist.segments)) {\n        if (this.live === null || this.live === void 0)\n          this.live = playlist.live;\n        this._updateSegments(playlist, this);\n        this.startCC = playlist.startCC;\n        this.endCC = playlist.endCC;\n        this.startSN = playlist.startSN;\n        this.endSN = playlist.endSN || -1;\n        this.totalDuration = playlist.totalDuration;\n        this.targetDuration = playlist.targetDuration;\n        this.live = playlist.live;\n        this.lowLatency = playlist.lowLatency;\n        this.canBlockReload = playlist.canBlockReload;\n        this.canSkipDateRanges = playlist.canSkipDateRanges;\n        this.canSkipUntil = playlist.canSkipUntil;\n        this.partHoldBack = playlist.partHoldBack;\n        this.partTargetDuration = playlist.partTargetDuration;\n        this.skippedSegments = playlist.skippedSegments;\n        this.endPartIndex = playlist.endPartIndex;\n        if (audioPlaylist && this.currentAudioStream && Array.isArray(audioPlaylist.segments)) {\n          this._updateSegments(audioPlaylist, this.currentAudioStream);\n          if ((this.snDiff === null || this.snDiff === void 0) && playlist.segments.length && audioPlaylist.segments.length) {\n            this.snDiff = playlist.segments[0].sn - audioPlaylist.segments[0].sn;\n          }\n        }\n      } else {\n        this.id = playlist.id;\n        this.bitrate = playlist.bitrate;\n        this.width = playlist.width;\n        this.height = playlist.height;\n        this.name = playlist.name;\n        this.audioCodec = playlist.audioCodec;\n        this.videoCodec = playlist.videoCodec;\n        this.textCodec = playlist.textCodec;\n        this.audioStreams = playlist.audioStreams;\n        this.subtitleStreams = playlist.subtitleStreams;\n        if (!this.currentAudioStream && this.audioStreams.length) {\n          this.currentAudioStream = this.audioStreams.find(function(x) {\n            return x.default;\n          }) || this.audioStreams[0];\n        }\n        if (!this.currentSubtitleStream && this.subtitleStreams.length) {\n          this.currentSubtitleStream = this.subtitleStreams.find(function(x) {\n            return x.default;\n          }) || this.subtitleStreams[0];\n        }\n      }\n    }\n  }, {\n    key: \"updateSubtitle\",\n    value: function updateSubtitle(subtitlePlaylist) {\n      var _this = this;\n      if (!(subtitlePlaylist && this.currentSubtitleStream && Array.isArray(subtitlePlaylist.segments)))\n        return;\n      var newSegs = this._updateSegments(subtitlePlaylist, this.currentSubtitleStream);\n      var segs = this.currentSubtitleStream.segments;\n      if (segs.length > 100) {\n        this.currentSubtitleStream.segments = segs.slice(100);\n      }\n      if (!newSegs)\n        return;\n      return newSegs.map(function(x) {\n        return {\n          sn: x.sn,\n          url: x.url,\n          duration: x.duration,\n          start: x.start,\n          end: x.end,\n          lang: _this.currentSubtitleStream.lang\n        };\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var toSwitch = this.subtitleStreams.find(function(x) {\n        return x.lang === lang;\n      });\n      var origin = this.currentSubtitleStream;\n      if (toSwitch) {\n        this.currentSubtitleStream = toSwitch;\n        origin.segments = [];\n      }\n    }\n  }, {\n    key: \"_setLLPlaybackPoint\",\n    value: function _setLLPlaybackPoint(playlist) {\n      if (!playlist.lowLatency || !playlist.segments.length)\n        return playlist;\n      var maxStartPoint = playlist.totalDuration - playlist.partHoldBack;\n      var segs = playlist.segments;\n      var index = 0;\n      for (var i = 0, l = segs.length; i < l; i++) {\n        if (segs[i].start <= maxStartPoint && segs[i].independent) {\n          index = i;\n        }\n      }\n      var usefulSegs = segs.slice(index);\n      var endTime = 0;\n      usefulSegs.forEach(function(s) {\n        s.start = endTime;\n        endTime = s.end;\n      });\n      playlist.segments = usefulSegs;\n      playlist.totalDuration = endTime;\n      playlist.startSN = usefulSegs[0].sn;\n      playlist.startCC = usefulSegs[0].cc;\n      logger.log(\"set ll-hls playback point: SN=\".concat(playlist.startSN, \" partIndex=\").concat(usefulSegs[0].partIndex, \", duration=\").concat(endTime));\n      return playlist;\n    }\n  }, {\n    key: \"_clearSegments\",\n    value: function _clearSegments(startTime, pointer) {\n      var sliceStart = 0;\n      var segments = this.segments;\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].end >= startTime) {\n          sliceStart = i;\n          break;\n        }\n      }\n      if (sliceStart > pointer) {\n        sliceStart = pointer;\n      }\n      if (sliceStart) {\n        this.segments = this.segments.slice(sliceStart);\n        if (this.currentAudioStream) {\n          this.currentAudioStream.segments = this.currentAudioStream.segments.slice(sliceStart);\n        }\n      }\n      return pointer - sliceStart;\n    }\n  }, {\n    key: \"_updateSegments\",\n    value: function _updateSegments(playlist, segObj) {\n      var segments = segObj.segments;\n      if (this.live) {\n        var _endSeg$sn;\n        var lowLatency = playlist.lowLatency;\n        var endSeg = segments[segments.length - 1];\n        var endSN = (_endSeg$sn = endSeg === null || endSeg === void 0 ? void 0 : endSeg.sn) !== null && _endSeg$sn !== void 0 ? _endSeg$sn : -1;\n        var endPartIndex = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.partIndex) || 0;\n        var hasNew = endSN < playlist.endSN && playlist.segments.length;\n        if (lowLatency) {\n          hasNew = hasNew || endPartIndex < playlist.endPartIndex;\n        }\n        if (hasNew) {\n          logger.log(\"update segments: endSN:\".concat(endSN, \", partIndex:\").concat(endPartIndex, \" --> endSN:\").concat(playlist.endSN, \", partIndex:\").concat(playlist.endPartIndex));\n          var index = playlist.segments.findIndex(function(x) {\n            return x.sn === endSN && x.partIndex === endPartIndex;\n          });\n          var toAppend = index < 0 ? playlist.segments : playlist.segments.slice(index + 1);\n          if (segments.length && toAppend.length) {\n            var endTime = endSeg.end;\n            var endTimeBeforeAppend = endTime;\n            toAppend.forEach(function(seg) {\n              seg.start = endTime;\n              endTime = seg.end;\n            });\n            logger.log(\"liveEdge: \".concat(endTimeBeforeAppend, \" -> \").concat(endTime));\n            var lastCC = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.cc) || -1;\n            if (lastCC > toAppend[0].cc) {\n              toAppend.forEach(function(seg) {\n                return seg.cc += lastCC;\n              });\n            }\n          }\n          segObj.endSN = playlist.endSN;\n          segObj.segments = segments.concat(toAppend);\n          return toAppend;\n        }\n      } else {\n        segObj.segments = playlist.segments;\n      }\n    }\n  }]);\n  return Stream2;\n}();\nexport { Stream };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { clamp } from \"../utils.js\";\nimport { Stream } from \"./stream.js\";\nimport { Event } from \"../constants.js\";\nvar Playlist = /* @__PURE__ */ function() {\n  function Playlist2(hls) {\n    _classCallCheck(this, Playlist2);\n    _defineProperty(this, \"streams\", []);\n    _defineProperty(this, \"currentStream\", null);\n    _defineProperty(this, \"dvrWindow\", 0);\n    _defineProperty(this, \"_segmentPointer\", -1);\n    this.hls = hls;\n  }\n  _createClass(Playlist2, [{\n    key: \"lowLatency\",\n    get: function get() {\n      var _this$currentStream;\n      return (_this$currentStream = this.currentStream) === null || _this$currentStream === void 0 ? void 0 : _this$currentStream.lowLatency;\n    }\n  }, {\n    key: \"lastSegment\",\n    get: function get() {\n      var _this$currentStream2;\n      return (_this$currentStream2 = this.currentStream) === null || _this$currentStream2 === void 0 ? void 0 : _this$currentStream2.lastSegment;\n    }\n  }, {\n    key: \"currentSegment\",\n    get: function get() {\n      var _this$currentSegments;\n      return (_this$currentSegments = this.currentSegments) === null || _this$currentSegments === void 0 ? void 0 : _this$currentSegments[this._segmentPointer];\n    }\n  }, {\n    key: \"nextSegment\",\n    get: function get() {\n      var _this$currentSegments2;\n      return (_this$currentSegments2 = this.currentSegments) === null || _this$currentSegments2 === void 0 ? void 0 : _this$currentSegments2[this._segmentPointer + 1];\n    }\n  }, {\n    key: \"currentSegments\",\n    get: function get() {\n      var _this$currentStream3;\n      return (_this$currentStream3 = this.currentStream) === null || _this$currentStream3 === void 0 ? void 0 : _this$currentStream3.segments;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentStream4;\n      return (_this$currentStream4 = this.currentStream) === null || _this$currentStream4 === void 0 ? void 0 : _this$currentStream4.currentSubtitleEndSn;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      var _this$currentStream5;\n      return (_this$currentStream5 = this.currentStream) === null || _this$currentStream5 === void 0 ? void 0 : _this$currentStream5.liveEdge;\n    },\n    set: function set(end) {\n      if (this.currentStream) {\n        this.currentStream.liveEdge = end;\n      }\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      var _this$currentStream6;\n      return ((_this$currentStream6 = this.currentStream) === null || _this$currentStream6 === void 0 ? void 0 : _this$currentStream6.totalDuration) || 0;\n    }\n  }, {\n    key: \"seekRange\",\n    get: function get() {\n      var segments = this.currentSegments;\n      if (!segments || !segments.length)\n        return;\n      return [segments[0].start, segments[segments.length - 1].end];\n    }\n  }, {\n    key: \"nbSegments\",\n    get: function get() {\n      var _this$currentSegments3;\n      return ((_this$currentSegments3 = this.currentSegments) === null || _this$currentSegments3 === void 0 ? void 0 : _this$currentSegments3.length) || 0;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      var _this$currentSegments4;\n      return !((_this$currentSegments4 = this.currentSegments) !== null && _this$currentSegments4 !== void 0 && _this$currentSegments4.length);\n    }\n  }, {\n    key: \"isLive\",\n    get: function get() {\n      var _this$currentStream7;\n      return (_this$currentStream7 = this.currentStream) === null || _this$currentStream7 === void 0 ? void 0 : _this$currentStream7.live;\n    }\n  }, {\n    key: \"hadSegmentLoaded\",\n    get: function get() {\n      return this._segmentPointer !== -1;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      var _this$currentStream8;\n      return !!((_this$currentStream8 = this.currentStream) !== null && _this$currentStream8 !== void 0 && _this$currentStream8.currentSubtitleStream);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      var _this$currentStream9;\n      return (_this$currentStream9 = this.currentStream) === null || _this$currentStream9 === void 0 ? void 0 : _this$currentStream9.getAudioSegment(seg);\n    }\n  }, {\n    key: \"moveSegmentPointer\",\n    value: function moveSegmentPointer(pos) {\n      var _this$currentSegments5;\n      if (pos === null || pos === void 0)\n        pos = this._segmentPointer + 1;\n      this._segmentPointer = clamp(pos, -1, (_this$currentSegments5 = this.currentSegments) === null || _this$currentSegments5 === void 0 ? void 0 : _this$currentSegments5.length);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.streams = [];\n      this.currentStream = null;\n      this.dvrWindow = 0;\n      this._segmentPointer = -1;\n    }\n  }, {\n    key: \"getSegmentByIndex\",\n    value: function getSegmentByIndex(index) {\n      var _this$currentSegments6;\n      return (_this$currentSegments6 = this.currentSegments) === null || _this$currentSegments6 === void 0 ? void 0 : _this$currentSegments6[index];\n    }\n  }, {\n    key: \"setNextSegmentByIndex\",\n    value: function setNextSegmentByIndex() {\n      var index = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      this._segmentPointer = index - 1;\n    }\n  }, {\n    key: \"setNextSegmentBySN\",\n    value: function setNextSegmentBySN() {\n      var _this$currentSegments7;\n      var sn = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var preIndex = (_this$currentSegments7 = this.currentSegments) === null || _this$currentSegments7 === void 0 ? void 0 : _this$currentSegments7.findIndex(function(x) {\n        return x.sn === sn;\n      });\n      if (preIndex !== -1) {\n        this.setNextSegmentByIndex(preIndex + 1);\n      }\n      return preIndex;\n    }\n  }, {\n    key: \"findSegmentIndexByTime\",\n    value: function findSegmentIndexByTime(time) {\n      var segments = this.currentSegments;\n      if (segments) {\n        for (var i = 0, l = segments.length, seg; i < l; i++) {\n          seg = segments[i];\n          if (time >= seg.start && time < seg.end) {\n            return i;\n          }\n        }\n        var lastSegment = segments[segments.length - 1];\n        if (Math.abs(time - (lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.end)) < 0.2)\n          return segments.length - 1;\n      }\n    }\n  }, {\n    key: \"upsertPlaylist\",\n    value: function upsertPlaylist(playlist, audioPlaylist, subtitlePlaylist) {\n      var _this = this;\n      if (!playlist)\n        return;\n      if (playlist.isMaster) {\n        this.streams.length = playlist.streams.length;\n        playlist.streams.filter(function(x) {\n          return x.url;\n        }).forEach(function(stream2, i) {\n          if (_this.streams[i]) {\n            _this.streams[i].update(stream2);\n          } else {\n            _this.streams[i] = new Stream(stream2);\n          }\n        });\n        this.currentStream = this.streams[0];\n      } else if (Array.isArray(playlist.segments)) {\n        var stream = this.currentStream;\n        if (stream) {\n          stream.update(playlist, audioPlaylist, subtitlePlaylist);\n          var newSubtitleSegs = stream.updateSubtitle(subtitlePlaylist);\n          if (newSubtitleSegs) {\n            this.hls.emit(Event.SUBTITLE_SEGMENTS, {\n              list: newSubtitleSegs\n            });\n          }\n        } else {\n          this.reset();\n          this.currentStream = this.streams[0] = new Stream(playlist, audioPlaylist, subtitlePlaylist);\n        }\n      }\n      var currentStream = this.currentStream;\n      if (currentStream) {\n        if (this.hls.isLive && !this.dvrWindow) {\n          this.dvrWindow = this.currentSegments.reduce(function(a, c) {\n            a += c.duration;\n            return a;\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"updateSegmentsRanges\",\n    value: function updateSegmentsRanges(sn, start) {\n      var _this$currentSegments8;\n      var segs = (_this$currentSegments8 = this.currentSegments) === null || _this$currentSegments8 === void 0 ? void 0 : _this$currentSegments8.filter(function(x) {\n        return x.sn >= sn;\n      });\n      segs.forEach(function(s) {\n        s.start = start;\n        start = s.end;\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var _this$currentStream10;\n      (_this$currentStream10 = this.currentStream) === null || _this$currentStream10 === void 0 ? void 0 : _this$currentStream10.switchSubtitle(lang);\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment() {\n      var maxPlaylistSize = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 50;\n      var stream = this.currentStream;\n      if (!this.dvrWindow || !stream)\n        return;\n      var startTime = stream.endTime - this.dvrWindow;\n      if (startTime <= 0)\n        return;\n      var segments = stream.segments;\n      if (segments.length <= maxPlaylistSize)\n        return;\n      this._segmentPointer = stream.clearOldSegment(startTime, this._segmentPointer);\n    }\n  }, {\n    key: \"checkSegmentTrackChange\",\n    value: function checkSegmentTrackChange(cTime, nbSb) {\n      var index = this.findSegmentIndexByTime(cTime);\n      var seg = this.getSegmentByIndex(index);\n      if (!seg)\n        return;\n      if (!seg.hasAudio && !seg.hasVideo)\n        return;\n      if (nbSb !== 2 && seg.hasAudio && seg.hasVideo)\n        return seg;\n      if (seg.end - cTime > 0.3)\n        return;\n      var next = this.getSegmentByIndex(index + 1);\n      if (!next)\n        return;\n      if (!next.hasAudio && !next.hasVideo)\n        return;\n      if (next.hasAudio !== seg.hasAudio || next.hasVideo !== seg.hasVideo)\n        return next;\n    }\n  }, {\n    key: \"feedbackLiveEdge\",\n    value: function feedbackLiveEdge(segment, bufferEnd) {\n      var _this$lastSegment;\n      var segs = this.currentSegments;\n      if (!segs)\n        return;\n      var isLast = ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.sn) === segment.sn;\n      if (isLast) {\n        this.liveEdge = bufferEnd;\n        return;\n      }\n      this.updateSegmentsRanges(segment.sn + 1, bufferEnd);\n    }\n  }]);\n  return Playlist2;\n}();\nexport { Playlist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar SKIP_SMALL_CHUNK = 1e3;\nvar MAX_CHUNK_SAVE_SIZE = 50;\nvar MAX_SEGMENT_SAVE_SIZE = 3;\nvar LONGTIME_NO_RECEIVE = 3e3;\nvar BandwidthService = /* @__PURE__ */ function() {\n  function BandwidthService2(opts) {\n    _classCallCheck(this, BandwidthService2);\n    _defineProperty(this, \"_chunkSpeed\", 0);\n    _defineProperty(this, \"_chunkCache\", []);\n    _defineProperty(this, \"_speeds\", []);\n    _defineProperty(this, \"_totalSize\", 0);\n    _defineProperty(this, \"_totalCost\", 0);\n    this._opts = opts || {};\n  }\n  _createClass(BandwidthService2, [{\n    key: \"addRecord\",\n    value: function addRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._speeds.push(8e3 * totalByte / ms);\n      this._speeds = this._speeds.slice(-MAX_SEGMENT_SAVE_SIZE);\n    }\n  }, {\n    key: \"addChunkRecord\",\n    value: function addChunkRecord(totalByte, ms) {\n      var _this$_opts, _this$_opts2;\n      if (!totalByte || !ms || totalByte < (((_this$_opts = this._opts) === null || _this$_opts === void 0 ? void 0 : _this$_opts.skipChunkSize) || SKIP_SMALL_CHUNK))\n        return;\n      this._totalSize += totalByte;\n      this._totalCost += ms;\n      this._chunkSpeed = 8e3 * totalByte / ms;\n      this._chunkCache.push({\n        size: totalByte,\n        duration: ms,\n        timestamp: performance.now()\n      });\n      var size = ((_this$_opts2 = this._opts) === null || _this$_opts2 === void 0 ? void 0 : _this$_opts2.chunkCountForSpeed) || MAX_CHUNK_SAVE_SIZE;\n      if (this._chunkCache.length > size) {\n        this._chunkCache = this._chunkCache.slice(-size);\n      }\n    }\n  }, {\n    key: \"getAvgSpeed\",\n    value: function getAvgSpeed() {\n      var _this$_opts3;\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds.reduce(function(a, c) {\n          return a += c;\n        }) / this._speeds.length;\n      }\n      var lastSample = this._chunkCache[this._chunkCache.length - 1];\n      var cost = performance.now() - lastSample.timestamp;\n      if (cost > (((_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : _this$_opts3.longtimeNoReceived) || LONGTIME_NO_RECEIVE)) {\n        this._chunkCache.push({\n          size: 0,\n          duration: cost,\n          timestamp: performance.now()\n        });\n      }\n      var totalSize = this._chunkCache.reduce(function(a, c) {\n        return a += c.size;\n      }, 0);\n      var totalDuration = this._chunkCache.reduce(function(a, c) {\n        return a += c.duration;\n      }, 0);\n      return 8e3 * totalSize / totalDuration;\n    }\n  }, {\n    key: \"getLatestSpeed\",\n    value: function getLatestSpeed() {\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds[this._speeds.length - 1];\n      }\n      return this._chunkSpeed;\n    }\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      return this._totalSize;\n    }\n  }, {\n    key: \"getTotalCost\",\n    value: function getTotalCost() {\n      return this._totalCost;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._chunkCache = [];\n      this._speeds = [];\n      this._totalSize = 0;\n      this._totalCost = 0;\n    }\n  }]);\n  return BandwidthService2;\n}();\nexport { BandwidthService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, BandwidthService, NetLoader } from \"xgplayer-streaming-shared\";\nvar SegmentLoader = /* @__PURE__ */ function() {\n  function SegmentLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, SegmentLoader2);\n    _defineProperty(this, \"error\", null);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var data = res.data, response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this._bandwidthService.addRecord(contentLength || data.byteLength, time);\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(EVENT.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._bandwidthService = new BandwidthService();\n    this._mapCache = {};\n    this._keyCache = {};\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, loadTimeout = _this$hls$config.loadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._segmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioSegmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._keyLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(SegmentLoader2, [{\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return {\n        speed: this._bandwidthService.getLatestSpeed(),\n        avgSpeed: this._bandwidthService.getAvgSpeed()\n      };\n    }\n  }, {\n    key: \"load\",\n    value: function load(seg, audioSeg, loadInit) {\n      var loadAudioInit = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : loadInit;\n      var toLoad = [];\n      if (seg)\n        toLoad[0] = this.loadVideoSegment(seg, loadInit);\n      if (audioSeg)\n        toLoad[1] = this.loadAudioSegment(audioSeg, loadAudioInit);\n      return Promise.all(toLoad);\n    }\n  }, {\n    key: \"loadVideoSegment\",\n    value: function loadVideoSegment(seg, loadInit) {\n      return this._loadSegment(this._segmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"loadAudioSegment\",\n    value: function loadAudioSegment(seg, loadInit) {\n      return this._loadSegment(this._audioSegmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"_loadSegment\",\n    value: function() {\n      var _loadSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(segLoader, seg, loadInit) {\n        var _this2 = this, _seg$key;\n        var map, key, keyIv, mapKey, mapKeyIv, toLoad, _seg$initSegment$key, mapUrl, _keyUrl, keyUrl, _yield$Promise$all, _yield$Promise$all2, s, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [];\n                this.hls.emit(EVENT.LOAD_START, {\n                  url: seg.url\n                });\n                toLoad[0] = segLoader.load(seg.url);\n                if (loadInit && seg.initSegment) {\n                  mapUrl = seg.initSegment.url;\n                  map = this._mapCache[mapUrl];\n                  if (!map) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: mapUrl\n                    });\n                    toLoad[1] = segLoader.load(mapUrl).then(function(r) {\n                      if (r) {\n                        var l = Object.keys(_this2._mapCache);\n                        if (l > 30)\n                          _this2._mapCache = {};\n                        map = _this2._mapCache[mapUrl] = r.data;\n                        _this2._emitOnLoaded(r, mapUrl);\n                      }\n                    });\n                  }\n                  _keyUrl = (_seg$initSegment$key = seg.initSegment.key) === null || _seg$initSegment$key === void 0 ? void 0 : _seg$initSegment$key.url;\n                  if (_keyUrl) {\n                    mapKeyIv = seg.initSegment.key.iv;\n                    mapKey = this._keyCache[_keyUrl];\n                    if (!mapKey) {\n                      this.hls.emit(EVENT.LOAD_START, {\n                        url: _keyUrl\n                      });\n                      toLoad[2] = this._keyLoader.load(_keyUrl).then(function(r) {\n                        if (r) {\n                          mapKey = _this2._keyCache[_keyUrl] = r.data;\n                          _this2._emitOnLoaded(r, _keyUrl);\n                        }\n                      });\n                    }\n                  }\n                }\n                keyUrl = (_seg$key = seg.key) === null || _seg$key === void 0 ? void 0 : _seg$key.url;\n                if (keyUrl && seg.key.isSegmentEncrypted()) {\n                  keyIv = seg.key.iv;\n                  key = this._keyCache[keyUrl];\n                  if (!key) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: keyUrl\n                    });\n                    toLoad[3] = this._keyLoader.load(keyUrl).then(function(r) {\n                      if (r) {\n                        key = _this2._keyCache[keyUrl] = r.data;\n                        _this2._emitOnLoaded(r, keyUrl);\n                      }\n                    });\n                  }\n                }\n                _context.next = 8;\n                return Promise.all(toLoad);\n              case 8:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 1);\n                s = _yield$Promise$all2[0];\n                if (s) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 13:\n                data = s.data;\n                this._emitOnLoaded(s, seg.url);\n                return _context.abrupt(\"return\", {\n                  data,\n                  map,\n                  key,\n                  mapKey,\n                  keyIv,\n                  mapKeyIv\n                });\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function _loadSegment(_x, _x2, _x3) {\n        return _loadSegment2.apply(this, arguments);\n      }\n      return _loadSegment;\n    }()\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.error = null;\n      this._mapCache = {};\n      this._keyCache = {};\n      this._bandwidthService.reset();\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Promise.all([this._keyLoader.cancel(), this._segmentLoader.cancel(), this._audioSegmentLoader.cancel()]);\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }]);\n  return SegmentLoader2;\n}();\nexport { SegmentLoader };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, slicedToArray as _slicedToArray, regeneratorRuntime as _regeneratorRuntime, typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport { Logger, Buffer, StreamingError, isMediaPlaying, SeiService, GapService, MediaStatsService, MSE, getVideoPlaybackQuality, ERR } from \"xgplayer-streaming-shared\";\nimport { Logger as Logger$1 } from \"xgplayer-transmuxer\";\nimport { BufferService } from \"./buffer-service/index.js\";\nimport { getConfig } from \"./config.js\";\nexport { getConfig } from \"./config.js\";\nimport { Event } from \"./constants.js\";\nimport { ManifestLoader } from \"./manifest-loader/index.js\";\nexport { ManifestLoader } from \"./manifest-loader/index.js\";\nimport { Playlist } from \"./playlist/index.js\";\nexport { Playlist } from \"./playlist/index.js\";\nimport { SegmentLoader } from \"./segment-loader/index.js\";\nexport { SegmentLoader } from \"./segment-loader/index.js\";\nimport { clamp } from \"./utils.js\";\nvar logger = new Logger(\"hls\");\nvar Hls = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Hls2, _EventEmitter);\n  var _super = _createSuper(Hls2);\n  function Hls2(_cfg) {\n    var _this;\n    _classCallCheck(this, Hls2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"version\", Hls2.version);\n    _defineProperty(_assertThisInitialized(_this), \"media\", null);\n    _defineProperty(_assertThisInitialized(_this), \"config\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_manifestLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_playlist\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_bufferService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_gapService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_seiService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_stats\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegSn\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegCc\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickInterval\", 500);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentProcessing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_reloadOnPlay\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_switchUrlOpts\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_isProcessQuotaExceeded\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_loadSegment\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n      var _this$_playlist, nextSegment, lastSegment, _assertThisInitialize, config, minFrameDuration, maxBufferThroughout, bInfo, bufferThroughout;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1)\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this._segmentProcessing || !_this.media)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              _this$_playlist = _this._playlist, nextSegment = _this$_playlist.nextSegment, lastSegment = _this$_playlist.lastSegment;\n              _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n              minFrameDuration = 0.016;\n              maxBufferThroughout = Math.min(Math.max((lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.duration) - minFrameDuration / 2 || 0, minFrameDuration), 0.1);\n              if (nextSegment) {\n                _context.next = 8;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 8:\n              if (_this.isLive) {\n                _context.next = 18;\n                break;\n              }\n              bInfo = _this.bufferInfo();\n              if (_this.media.paused && !_this.media.currentTime) {\n                bInfo = _this.bufferInfo(bInfo.nextStart || 0.5);\n              }\n              bufferThroughout = Math.abs(bInfo.end - _this.media.duration) < maxBufferThroughout;\n              if (!(bInfo.remaining >= config.preloadTime || bufferThroughout)) {\n                _context.next = 15;\n                break;\n              }\n              _this._tryEos();\n              return _context.abrupt(\"return\");\n            case 15:\n              if (!(config.preferMMSStreaming && !_this._bufferService.msStreaming)) {\n                _context.next = 17;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 17:\n              if (!_this._urlSwitching && _this._prevSegSn !== nextSegment.sn - 1 && bInfo.end && Math.abs(nextSegment.start - bInfo.end) > 1) {\n                _this._playlist.setNextSegmentByIndex(_this._playlist.findSegmentIndexByTime(bInfo.end + 0.1));\n              }\n            case 18:\n              return _context.abrupt(\"return\", _this._loadSegmentDirect());\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n      }, _callee);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadeddata\", function() {\n      if (_this.isLive && !_this.config.mseLowLatency) {\n        if (_this.media.duration !== Infinity) {\n          _this._bufferService.updateDuration(Infinity).catch(function(e) {\n          });\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1)\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this.media.seeking && _this.media.currentTime === 0)) {\n                _context2.next = 3;\n                break;\n              }\n              logger.debug(\"replay currentTime 0, return\");\n              return _context2.abrupt(\"return\");\n            case 3:\n              clearTimeout(_this._disconnectTimer);\n              if (!_this._reloadOnPlay) {\n                _context2.next = 9;\n                break;\n              }\n              _this._reloadOnPlay = false;\n              _this.replay(true);\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.next = 11;\n              return _this._loadSegment();\n            case 11:\n              _this._startTick();\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n      }, _callee2);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPause\", function() {\n      if (_this.isLive) {\n        if (!_this._reloadOnPlay) {\n          var disconnectTime = _this.config.disconnectTime;\n          if (disconnectTime === null || disconnectTime === void 0)\n            disconnectTime = _this._playlist.dvrWindow;\n          if (!Number.isFinite(disconnectTime))\n            return;\n          clearTimeout(_this._disconnectTimer);\n          _this._disconnectTimer = setTimeout(function() {\n            _this._reloadOnPlay = true;\n            _this._clear();\n          }, disconnectTime || 0);\n        }\n      } else {\n        _this._stopTick();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n      var seekTime, seekRange, newSeekTime, curSeg, info, segIndex, seg;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1)\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.media) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 2:\n              _this._onCheckQuotaExceeded();\n              seekTime = _this.media.currentTime;\n              seekRange = _this._playlist.seekRange;\n              if (!seekRange) {\n                _context3.next = 10;\n                break;\n              }\n              newSeekTime = clamp(seekTime, seekRange[0], _this.isLive ? seekRange[1] : _this.media.duration);\n              if (!(newSeekTime >= 0 && Math.abs(seekTime - newSeekTime) >= 0.1)) {\n                _context3.next = 10;\n                break;\n              }\n              _this.media.currentTime = newSeekTime;\n              return _context3.abrupt(\"return\");\n            case 10:\n              curSeg = _this._playlist.currentSegment;\n              info = Buffer.info(Buffer.get(_this.media), seekTime, 0.1);\n              if (!curSeg) {\n                _context3.next = 17;\n                break;\n              }\n              if (!(info.end && Math.abs(info.end - curSeg.end) < 0.2)) {\n                _context3.next = 15;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 15:\n              if (!(_this.isLive && info.end)) {\n                _context3.next = 17;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 17:\n              segIndex = _this._playlist.findSegmentIndexByTime(seekTime);\n              seg = _this._playlist.getSegmentByIndex(segIndex);\n              if (!(segIndex === null || segIndex === void 0 || !seg || _this._segmentProcessing && seg === _this._playlist.nextSegment)) {\n                _context3.next = 21;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 21:\n              logger.debug(\"seek to\", seekTime, seg);\n              _this._playlist.setNextSegmentByIndex(segIndex);\n              _this._stopTick();\n              _context3.next = 26;\n              return _this._segmentLoader.cancel();\n            case 26:\n              _this._segmentProcessing = false;\n              if (!(!info.end || _this.isLive)) {\n                _context3.next = 30;\n                break;\n              }\n              _context3.next = 30;\n              return _this._loadSegmentDirect(true);\n            case 30:\n              _this._startTick();\n            case 31:\n            case \"end\":\n              return _context3.stop();\n          }\n      }, _callee3);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      if (!_this.media)\n        return;\n      var cfg = _this.config;\n      if (cfg.isLive && cfg.maxLatency && cfg.targetLatency && _this.media) {\n        var liveEdge = _this._playlist.liveEdge;\n        if (!liveEdge)\n          return;\n        var latency = liveEdge - _this.media.currentTime;\n        if (latency >= cfg.maxLatency) {\n          logger.debug(\"latency jump, currentTime:\".concat(_this.media.currentTime, \", liveEdge:\").concat(liveEdge, \",  latency=\").concat(latency));\n          _this.media.currentTime = liveEdge - cfg.targetLatency;\n        }\n      }\n      if (cfg.seiInTime) {\n        var _this$_seiService;\n        (_this$_seiService = _this._seiService) === null || _this$_seiService === void 0 ? void 0 : _this$_seiService.throw(_this.media.currentTime);\n      }\n      if (_this.config.allowedStreamTrackChange && !_this.config.softDecode) {\n        _this._checkStreamTrackChange(_this.media.currentTime);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_tick\", function() {\n      if (!_this.media)\n        return;\n      _this._startTick();\n      var media = _this.media;\n      var buffered = Buffer.get(media);\n      var segLoaderError = _this._segmentLoader.error;\n      _this._onCheckQuotaExceeded();\n      if (_this._isProcessQuotaExceeded) {\n        if (!_this._bufferService.isFull()) {\n          _this._isProcessQuotaExceeded = false;\n          _this._segmentProcessing = false;\n        }\n      }\n      if (segLoaderError) {\n        var bufferMaxHoleTolerance = 0.5;\n        if (!media.readyState || _this.bufferInfo(bufferMaxHoleTolerance).remaining < 1) {\n          segLoaderError.fatal = true;\n          _this._emitError(StreamingError.network(segLoaderError));\n        }\n        return;\n      }\n      if (Buffer.end(buffered) >= 0.1 && media.readyState) {\n        if (isMediaPlaying(media)) {\n          _this._loadSegment();\n          if (_this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, _this.isLive);\n          }\n        } else {\n          if (media.readyState < 2 && _this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, !media.currentTime ? true : _this.isLive);\n          }\n        }\n      }\n      if (!_this.isLive) {\n        _this._tryEos();\n      }\n    });\n    _this.config = _cfg = getConfig(_cfg);\n    _this.media = _this.config.media;\n    _this._manifestLoader = new ManifestLoader(_assertThisInitialized(_this));\n    _this._segmentLoader = new SegmentLoader(_assertThisInitialized(_this));\n    _this._playlist = new Playlist(_assertThisInitialized(_this));\n    _this._bufferService = new BufferService(_assertThisInitialized(_this));\n    if (_cfg.seiInTime) {\n      _this._seiService = new SeiService(_assertThisInitialized(_this));\n    }\n    if (!_cfg.softDecode)\n      _this._gapService = new GapService();\n    _this._stats = new MediaStatsService(_assertThisInitialized(_this), 9e4);\n    _this.media.addEventListener(\"loadeddata\", _this._onLoadeddata);\n    _this.media.addEventListener(\"play\", _this._onPlay);\n    _this.media.addEventListener(\"pause\", _this._onPause);\n    _this.media.addEventListener(\"seeking\", _this._onSeeking);\n    _this.media.addEventListener(\"timeupdate\", _this._onTimeupdate);\n    return _this;\n  }\n  _createClass(Hls2, [{\n    key: \"isLive\",\n    get: function get() {\n      return this._playlist.isLive;\n    }\n  }, {\n    key: \"streams\",\n    get: function get() {\n      return this._playlist.streams;\n    }\n  }, {\n    key: \"currentStream\",\n    get: function get() {\n      return this._playlist.currentStream;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      return this._playlist.hasSubtitle;\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      return this._playlist.totalDuration;\n    }\n  }, {\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_bufferService;\n      return (_this$_bufferService = this._bufferService) === null || _this$_bufferService === void 0 ? void 0 : _this$_bufferService.baseDts;\n    }\n  }, {\n    key: \"abrSwitchPoint\",\n    get: function get() {\n      var targetSeg = this._urlSwitching ? this._playlist.currentSegment : this._playlist.nextSegment;\n      return targetSeg ? targetSeg.start + targetSeg.duration / 2 : null;\n    }\n  }, {\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return this._segmentLoader.speedInfo();\n    }\n  }, {\n    key: \"bufferInfo\",\n    value: function bufferInfo() {\n      var _this$media;\n      var maxHole = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0.1;\n      return Buffer.info(Buffer.get(this.media), (_this$media = this.media) === null || _this$media === void 0 ? void 0 : _this$media.currentTime, maxHole);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      return this._stats.getStats();\n    }\n  }, {\n    key: \"playbackQuality\",\n    value: function playbackQuality() {\n      return getVideoPlaybackQuality(this.media);\n    }\n  }, {\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4() {\n        var url, options, reuseMse, _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                url = _args4.length > 0 && _args4[0] !== void 0 ? _args4[0] : \"\";\n                options = _args4.length > 1 && _args4[1] !== void 0 ? _args4[1] : {};\n                reuseMse = typeof options === \"boolean\" ? options : !!(options !== null && options !== void 0 && options.reuseMse);\n                if (_typeof(options) === \"object\" && options !== null && options !== void 0 && options.clearSwitchStatus) {\n                  this._urlSwitching = false;\n                  this._switchUrlOpts = null;\n                  this.config.startTime = void 0;\n                }\n                if (url)\n                  this.config.url = url;\n                url = this.config.url;\n                _context4.next = 8;\n                return this._reset(reuseMse);\n              case 8:\n                _context4.next = 10;\n                return this._loadData(url);\n              case 10:\n                this._startTick();\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function load() {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"_loadData\",\n    value: function() {\n      var _loadData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5(url) {\n        var manifest, currentStream, preIndex, _this$_switchUrlOpts, _this$_switchUrlOpts3, _this$_switchUrlOpts4, _this$_switchUrlOpts2, switchTimePoint, segIdx, nextSeg, bufferClearStartPoint, startTime, _this$_switchUrlOpts5;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                try {\n                  if (url)\n                    url = url.trim();\n                } catch (e) {\n                }\n                if (url) {\n                  _context5.next = 3;\n                  break;\n                }\n                throw this._emitError(new StreamingError(ERR.OTHER, ERR.SUB_TYPES.OPTION, null, null, \"m3u8 url is missing\"));\n              case 3:\n                _context5.next = 5;\n                return this._loadM3U8(url);\n              case 5:\n                manifest = _context5.sent;\n                currentStream = this._playlist.currentStream;\n                if (!this._urlSwitching) {\n                  _context5.next = 23;\n                  break;\n                }\n                if (!this.isLive) {\n                  _context5.next = 14;\n                  break;\n                }\n                preIndex = this._playlist.setNextSegmentBySN(this._prevSegSn);\n                logger.log(\"segment nb=\".concat(this._prevSegSn, \" index of \").concat(preIndex, \" in the new playlist\"));\n                if (preIndex === -1) {\n                  this._prevSegCc = null;\n                  this._prevSegSn = null;\n                }\n                _context5.next = 23;\n                break;\n              case 14:\n                if (currentStream.bitrate === 0 && (_this$_switchUrlOpts = this._switchUrlOpts) !== null && _this$_switchUrlOpts !== void 0 && _this$_switchUrlOpts.bitrate) {\n                  currentStream.bitrate = (_this$_switchUrlOpts2 = this._switchUrlOpts) === null || _this$_switchUrlOpts2 === void 0 ? void 0 : _this$_switchUrlOpts2.bitrate;\n                }\n                switchTimePoint = typeof ((_this$_switchUrlOpts3 = this._switchUrlOpts) === null || _this$_switchUrlOpts3 === void 0 ? void 0 : _this$_switchUrlOpts3.startTime) === \"number\" ? (_this$_switchUrlOpts4 = this._switchUrlOpts) === null || _this$_switchUrlOpts4 === void 0 ? void 0 : _this$_switchUrlOpts4.startTime : this._getSeamlessSwitchPoint();\n                this.config.startTime = switchTimePoint;\n                segIdx = this._playlist.findSegmentIndexByTime(switchTimePoint);\n                nextSeg = this._playlist.getSegmentByIndex(segIdx + 1);\n                if (!nextSeg) {\n                  _context5.next = 23;\n                  break;\n                }\n                bufferClearStartPoint = nextSeg.start;\n                _context5.next = 23;\n                return this._bufferService.removeBuffer(bufferClearStartPoint);\n              case 23:\n                if (manifest) {\n                  _context5.next = 25;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 25:\n                if (!this.isLive) {\n                  _context5.next = 36;\n                  break;\n                }\n                this._bufferService.setLiveSeekableRange(0, 4294967295);\n                logger.log(\"totalDuration first time got:\", this._playlist.totalDuration);\n                logger.log(\"nb segments got:\", this._playlist.nbSegments);\n                if (this.config.targetLatency < this._playlist.totalDuration) {\n                  this.config.targetLatency = this._playlist.totalDuration;\n                  this.config.maxLatency = 1.5 * this.config.targetLatency;\n                }\n                if (!manifest.isMaster)\n                  this._pollM3U8(url);\n                if (!(this._playlist.nbSegments < this.config.minSegmentsStartPlay)) {\n                  _context5.next = 33;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 33:\n                _context5.next = 35;\n                return this._loadSegment();\n              case 35:\n                return _context5.abrupt(\"return\");\n              case 36:\n                _context5.next = 38;\n                return this._bufferService.updateDuration(currentStream.totalDuration);\n              case 38:\n                startTime = this.config.startTime;\n                if (startTime) {\n                  if (!((_this$_switchUrlOpts5 = this._switchUrlOpts) !== null && _this$_switchUrlOpts5 !== void 0 && _this$_switchUrlOpts5.seamless)) {\n                    this.media.currentTime = startTime;\n                  }\n                  this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(startTime) || 0);\n                }\n                _context5.next = 42;\n                return this._loadSegment();\n              case 42:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function _loadData(_x) {\n        return _loadData2.apply(this, arguments);\n      }\n      return _loadData;\n    }()\n  }, {\n    key: \"replay\",\n    value: function() {\n      var _replay = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6(isPlayEmit) {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.config.startTime = 0;\n                this._urlSwitching = false;\n                this._switchUrlOpts = null;\n                _context6.next = 5;\n                return this.load();\n              case 5:\n                this._reloadOnPlay = false;\n                return _context6.abrupt(\"return\", this.media.play(!isPlayEmit));\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function replay(_x2) {\n        return _replay.apply(this, arguments);\n      }\n      return replay;\n    }()\n  }, {\n    key: \"switchURL\",\n    value: function() {\n      var _switchURL = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7(url) {\n        var options, defaultOpts, key, _options, seamless, startTime, appended, _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                options = _args7.length > 1 && _args7[1] !== void 0 ? _args7[1] : {};\n                defaultOpts = {\n                  seamless: false,\n                  startTime: 0,\n                  bitrate: 0\n                };\n                _context7.t0 = _typeof(options);\n                _context7.next = _context7.t0 === \"number\" ? 5 : _context7.t0 === \"boolean\" ? 7 : _context7.t0 === \"object\" ? 9 : 11;\n                break;\n              case 5:\n                options = {\n                  startTime: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 7:\n                options = {\n                  seamless: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 9:\n                for (key in options) {\n                  if (options[key] === void 0 || options[key] === null) {\n                    delete options[key];\n                  }\n                }\n                return _context7.abrupt(\"break\", 12);\n              case 11:\n                throw \"unsupported switchURL args: \".concat(options);\n              case 12:\n                options = Object.assign({}, defaultOpts, options);\n                _options = options, seamless = _options.seamless, startTime = _options.startTime;\n                this.config.url = url;\n                this.config.startTime = startTime;\n                this._switchUrlOpts = options;\n                if (seamless) {\n                  _context7.next = 38;\n                  break;\n                }\n                _context7.prev = 18;\n                if (!this.config.softDecode) {\n                  _context7.next = 23;\n                  break;\n                }\n                _context7.t1 = this.load(url);\n                _context7.next = 26;\n                break;\n              case 23:\n                _context7.next = 25;\n                return this.load(url);\n              case 25:\n                _context7.t1 = _context7.sent;\n              case 26:\n                appended = _context7.t1;\n                _context7.next = 33;\n                break;\n              case 29:\n                _context7.prev = 29;\n                _context7.t2 = _context7[\"catch\"](18);\n                this.emit(Event.SWITCH_URL_FAILED, _context7.t2);\n                throw _context7.t2;\n              case 33:\n                this._reloadOnPlay = false;\n                if (appended) {\n                  this.emit(Event.SWITCH_URL_SUCCESS, {\n                    url\n                  });\n                }\n                return _context7.abrupt(\"return\", this.media.play(true));\n              case 38:\n                this._urlSwitching = true;\n                if (!this.isLive) {\n                  this._prevSegSn = null;\n                  this._prevSegCc = null;\n                }\n                this._playlist.reset();\n                this._bufferService.seamlessSwitch();\n                _context7.next = 44;\n                return this._clear();\n              case 44:\n                _context7.next = 46;\n                return this._loadData(url);\n              case 46:\n                this._startTick();\n              case 47:\n                this._switchUrlOpts = null;\n              case 48:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this, [[18, 29]]);\n      }));\n      function switchURL(_x3) {\n        return _switchURL.apply(this, arguments);\n      }\n      return switchURL;\n    }()\n  }, {\n    key: \"switchStream\",\n    value: function() {\n      var _switchStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(id) {\n        var force, curStream, streams, toSwitch, curId, _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                force = _args8.length > 1 && _args8[1] !== void 0 ? _args8[1] : true;\n                curStream = this.currentStream;\n                streams = this.streams;\n                if (!(!curStream || curStream.id === id || !streams || streams.length < 2)) {\n                  _context8.next = 5;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 5:\n                toSwitch = streams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context8.next = 8;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 8:\n                _context8.prev = 8;\n                _context8.next = 11;\n                return this._clear();\n              case 11:\n                if (!force) {\n                  _context8.next = 14;\n                  break;\n                }\n                _context8.next = 14;\n                return this._bufferService.clearAllBuffer();\n              case 14:\n                _context8.next = 19;\n                break;\n              case 16:\n                _context8.prev = 16;\n                _context8.t0 = _context8[\"catch\"](8);\n                throw this._emitError(StreamingError.create(_context8.t0));\n              case 19:\n                if (curStream.currentAudioStream && toSwitch.audioStreams.length > 2) {\n                  curId = curStream.currentAudioStream.id;\n                  toSwitch.currentAudioStream = toSwitch.audioStreams.find(function(x) {\n                    return x.id === curId;\n                  }) || toSwitch.currentAudioStream;\n                }\n                this._playlist.currentStream = toSwitch;\n                _context8.prev = 21;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context8.next = 25;\n                  break;\n                }\n                _context8.next = 25;\n                return this._refreshM3U8();\n              case 25:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context8.next = 29;\n                return this._loadSegmentDirect();\n              case 29:\n                _context8.next = 35;\n                break;\n              case 31:\n                _context8.prev = 31;\n                _context8.t1 = _context8[\"catch\"](21);\n                this._playlist.currentStream = curStream;\n                throw _context8.t1;\n              case 35:\n                this._startTick();\n                return _context8.abrupt(\"return\", toSwitch);\n              case 37:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this, [[8, 16], [21, 31]]);\n      }));\n      function switchStream(_x4) {\n        return _switchStream.apply(this, arguments);\n      }\n      return switchStream;\n    }()\n  }, {\n    key: \"switchAudioStream\",\n    value: function() {\n      var _switchAudioStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9(id) {\n        var force, curStream, audioStream, toSwitch, _args9 = arguments;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                force = _args9.length > 1 && _args9[1] !== void 0 ? _args9[1] : true;\n                curStream = this.currentStream;\n                if (curStream) {\n                  _context9.next = 4;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 4:\n                audioStream = curStream.currentAudioStream;\n                if (!(!audioStream || audioStream.id === id || curStream.audioStreams.length < 2)) {\n                  _context9.next = 7;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 7:\n                toSwitch = curStream.audioStreams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context9.next = 10;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 10:\n                _context9.prev = 10;\n                _context9.next = 13;\n                return this._clear();\n              case 13:\n                if (!force) {\n                  _context9.next = 16;\n                  break;\n                }\n                _context9.next = 16;\n                return this._bufferService.clearAllBuffer();\n              case 16:\n                _context9.next = 21;\n                break;\n              case 18:\n                _context9.prev = 18;\n                _context9.t0 = _context9[\"catch\"](10);\n                throw this._emitError(StreamingError.create(_context9.t0));\n              case 21:\n                curStream.currentAudioStream = toSwitch;\n                _context9.prev = 22;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context9.next = 26;\n                  break;\n                }\n                _context9.next = 26;\n                return this._refreshM3U8();\n              case 26:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context9.next = 30;\n                return this._loadSegmentDirect();\n              case 30:\n                _context9.next = 36;\n                break;\n              case 32:\n                _context9.prev = 32;\n                _context9.t1 = _context9[\"catch\"](22);\n                curStream.currentAudioStream = audioStream;\n                throw _context9.t1;\n              case 36:\n                this._startTick();\n                return _context9.abrupt(\"return\", toSwitch);\n              case 38:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this, [[10, 18], [22, 32]]);\n      }));\n      function switchAudioStream(_x5) {\n        return _switchAudioStream.apply(this, arguments);\n      }\n      return switchAudioStream;\n    }()\n  }, {\n    key: \"switchSubtitleStream\",\n    value: function() {\n      var _switchSubtitleStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10(lang) {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this._playlist.switchSubtitle(lang);\n                _context10.next = 3;\n                return this._manifestLoader.stopPoll();\n              case 3:\n                _context10.next = 5;\n                return this._refreshM3U8();\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function switchSubtitleStream(_x6) {\n        return _switchSubtitleStream.apply(this, arguments);\n      }\n      return switchSubtitleStream;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee11() {\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1)\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (!this._bufferService) {\n                  _context11.next = 3;\n                  break;\n                }\n                _context11.next = 3;\n                return this._bufferService.detachMedia();\n              case 3:\n              case \"end\":\n                return _context11.stop();\n            }\n        }, _callee11, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee12() {\n        var _this$_seiService2;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1)\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (this.media) {\n                  _context12.next = 2;\n                  break;\n                }\n                return _context12.abrupt(\"return\");\n              case 2:\n                this.removeAllListeners();\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService2 = this._seiService) === null || _this$_seiService2 === void 0 ? void 0 : _this$_seiService2.reset();\n                this.media.removeEventListener(\"loadeddata\", this._onLoadeddata);\n                this.media.removeEventListener(\"play\", this._onPlay);\n                this.media.removeEventListener(\"pause\", this._onPause);\n                this.media.removeEventListener(\"seeking\", this._onSeeking);\n                this.media.removeEventListener(\"timeupdate\", this._onTimeupdate);\n                _context12.next = 13;\n                return Promise.all([this._clear(), this._bufferService.destroy()]);\n              case 13:\n                this.media = null;\n              case 14:\n              case \"end\":\n                return _context12.stop();\n            }\n        }, _callee12, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_loadM3U8\",\n    value: function() {\n      var _loadM3U = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee13(url) {\n        var playlist, _this$config$manifest, _this$config$manifest2, manifest, _ref4, _ref5, _this$_playlist$curre;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1)\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.prev = 0;\n                manifest = (_this$config$manifest = this.config.manifestList) === null || _this$config$manifest === void 0 ? void 0 : (_this$config$manifest2 = _this$config$manifest.filter(function(x) {\n                  return x.url === url;\n                })[0]) === null || _this$config$manifest2 === void 0 ? void 0 : _this$config$manifest2.manifest;\n                if (!manifest) {\n                  _context13.next = 6;\n                  break;\n                }\n                _context13.t0 = this._manifestLoader.parseText(manifest, url);\n                _context13.next = 9;\n                break;\n              case 6:\n                _context13.next = 8;\n                return this._manifestLoader.load(url);\n              case 8:\n                _context13.t0 = _context13.sent;\n              case 9:\n                _ref4 = _context13.t0;\n                _ref5 = _slicedToArray(_ref4, 1);\n                playlist = _ref5[0];\n                _context13.next = 17;\n                break;\n              case 14:\n                _context13.prev = 14;\n                _context13.t1 = _context13[\"catch\"](0);\n                throw this._emitError(StreamingError.create(_context13.t1));\n              case 17:\n                if (playlist) {\n                  _context13.next = 19;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 19:\n                this._playlist.upsertPlaylist(playlist);\n                if (!playlist.isMaster) {\n                  _context13.next = 24;\n                  break;\n                }\n                if ((_this$_playlist$curre = this._playlist.currentStream.subtitleStreams) !== null && _this$_playlist$curre !== void 0 && _this$_playlist$curre.length) {\n                  this.emit(Event.SUBTITLE_PLAYLIST, {\n                    list: this._playlist.currentStream.subtitleStreams\n                  });\n                }\n                _context13.next = 24;\n                return this._refreshM3U8();\n              case 24:\n                this.emit(Event.STREAM_PARSED);\n                return _context13.abrupt(\"return\", playlist);\n              case 26:\n              case \"end\":\n                return _context13.stop();\n            }\n        }, _callee13, this, [[0, 14]]);\n      }));\n      function _loadM3U8(_x7) {\n        return _loadM3U.apply(this, arguments);\n      }\n      return _loadM3U8;\n    }()\n  }, {\n    key: \"_refreshM3U8\",\n    value: function _refreshM3U8() {\n      var _stream$currentAudioS, _stream$currentSubtit, _this2 = this;\n      var stream = this._playlist.currentStream;\n      if (!stream || !stream.url)\n        throw this._emitError(StreamingError.create(null, null, new Error(\"m3u8 url is not defined\")));\n      var url = stream.url;\n      var audioUrl = (_stream$currentAudioS = stream.currentAudioStream) === null || _stream$currentAudioS === void 0 ? void 0 : _stream$currentAudioS.url;\n      var subtitleUrl = (_stream$currentSubtit = stream.currentSubtitleStream) === null || _stream$currentSubtit === void 0 ? void 0 : _stream$currentSubtit.url;\n      return this._manifestLoader.load(url, audioUrl, subtitleUrl).then(function(_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3), mediaPlaylist = _ref7[0], audioPlaylist = _ref7[1], subtitlePlaylist = _ref7[2];\n        if (!mediaPlaylist)\n          return;\n        _this2._playlist.upsertPlaylist(mediaPlaylist, audioPlaylist, subtitlePlaylist);\n        if (!_this2.isLive)\n          return;\n        _this2._pollM3U8(url, audioUrl, subtitleUrl);\n      }).catch(function(err) {\n        throw _this2._emitError(StreamingError.create(err));\n      });\n    }\n  }, {\n    key: \"_pollM3U8\",\n    value: function _pollM3U8(url, audioUrl, subtitleUrl) {\n      var _this3 = this;\n      var isEmpty = this._playlist.isEmpty;\n      var pollInterval;\n      if (this._playlist.lowLatency) {\n        pollInterval = (this._playlist.currentStream.partTargetDuration || 0) * 1e3;\n      } else {\n        var _this$_playlist$lastS;\n        pollInterval = (((_this$_playlist$lastS = this._playlist.lastSegment) === null || _this$_playlist$lastS === void 0 ? void 0 : _this$_playlist$lastS.duration) || 0) * 1e3;\n      }\n      this._manifestLoader.poll(\n        url,\n        audioUrl,\n        subtitleUrl,\n        function(p1, p2, p3) {\n          _this3._playlist.upsertPlaylist(p1, p2, p3);\n          _this3._playlist.clearOldSegment();\n          var switchToNoEmpty = p1 && isEmpty && !_this3._playlist.isEmpty;\n          if (switchToNoEmpty || !_this3._playlist.hadSegmentLoaded && _this3._playlist.nbSegments >= _this3.config.minSegmentsStartPlay) {\n            _this3._loadSegment();\n          }\n          if (isEmpty)\n            isEmpty = _this3._playlist.isEmpty;\n        },\n        function(err) {\n          _this3._emitError(StreamingError.create(err));\n        },\n        pollInterval\n      );\n    }\n  }, {\n    key: \"_loadSegmentDirect\",\n    value: function() {\n      var _loadSegmentDirect2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee14(loadOnce) {\n        var seg, appended, cachedError, _this$_playlist$curre2, bufferEnd, sameStream;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1)\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                seg = this._playlist.nextSegment;\n                if (seg) {\n                  _context14.next = 3;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 3:\n                appended = false;\n                cachedError = null;\n                _context14.prev = 5;\n                this._segmentProcessing = true;\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", [\").concat(seg.start, \", \").concat(seg.end, \"], partIndex:\").concat(seg.partIndex));\n                _context14.next = 10;\n                return this._reqAndBufferSegment(seg, this._playlist.getAudioSegment(seg));\n              case 10:\n                appended = _context14.sent;\n                _context14.next = 16;\n                break;\n              case 13:\n                _context14.prev = 13;\n                _context14.t0 = _context14[\"catch\"](5);\n                cachedError = _context14.t0;\n              case 16:\n                _context14.prev = 16;\n                this._segmentProcessing = false;\n                return _context14.finish(16);\n              case 19:\n                if (!cachedError) {\n                  _context14.next = 26;\n                  break;\n                }\n                if (!this._bufferService.isFull()) {\n                  _context14.next = 25;\n                  break;\n                }\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                this._segmentProcessing = true;\n                this._isProcessQuotaExceeded = true;\n                return _context14.abrupt(\"return\", false);\n              case 25:\n                return _context14.abrupt(\"return\", this._emitError(StreamingError.create(cachedError)));\n              case 26:\n                if (appended) {\n                  bufferEnd = this.bufferInfo().end;\n                  if (this.isLive && !this.media.seeking && bufferEnd && Math.abs(seg.end - bufferEnd) > 1) {\n                    logger.warn(\"segment: \".concat(seg.sn, \" expected end=\").concat(seg.end, \", real end=\").concat(bufferEnd));\n                    this._playlist.feedbackLiveEdge(seg, bufferEnd);\n                  }\n                  sameStream = ((_this$_playlist$curre2 = this._playlist.currentStream) === null || _this$_playlist$curre2 === void 0 ? void 0 : _this$_playlist$curre2.url) === seg.parentUrl;\n                  if (this._urlSwitching && !sameStream) {\n                    logger.warn(\"pre playlist segment appended!\");\n                    this._bufferService.seamlessSwitch();\n                  }\n                  if (this.isLive && this._urlSwitching && sameStream) {\n                    this._urlSwitching = false;\n                    this.emit(Event.SWITCH_URL_SUCCESS, {\n                      url: this.config.url\n                    });\n                  }\n                  this._playlist.moveSegmentPointer();\n                  if (seg.isLast) {\n                    this._end();\n                  } else if (!loadOnce) {\n                    this._loadSegment();\n                  }\n                }\n                return _context14.abrupt(\"return\", appended);\n              case 28:\n              case \"end\":\n                return _context14.stop();\n            }\n        }, _callee14, this, [[5, 13, 16, 19]]);\n      }));\n      function _loadSegmentDirect(_x8) {\n        return _loadSegmentDirect2.apply(this, arguments);\n      }\n      return _loadSegmentDirect;\n    }()\n  }, {\n    key: \"_reqAndBufferSegment\",\n    value: function() {\n      var _reqAndBufferSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee15(seg, audioSeg) {\n        var _this$_bufferService2;\n        var cc, discontinuity, responses, data, sn, start, stream, before, contiguous, segStart;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1)\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                cc = seg ? seg.cc : audioSeg.cc;\n                discontinuity = this._prevSegCc !== cc;\n                responses = [];\n                _context15.prev = 3;\n                _context15.next = 6;\n                return this._segmentLoader.load(seg, audioSeg, discontinuity);\n              case 6:\n                responses = _context15.sent;\n                _context15.next = 14;\n                break;\n              case 9:\n                _context15.prev = 9;\n                _context15.t0 = _context15[\"catch\"](3);\n                _context15.t0.fatal = false;\n                this._segmentLoader.error = _context15.t0;\n                throw _context15.t0;\n              case 14:\n                if (responses[0]) {\n                  _context15.next = 16;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 16:\n                _context15.next = 18;\n                return (_this$_bufferService2 = this._bufferService).decryptBuffer.apply(_this$_bufferService2, _toConsumableArray(responses));\n              case 18:\n                data = _context15.sent;\n                if (data) {\n                  _context15.next = 21;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 21:\n                sn = seg ? seg.sn : audioSeg.sn;\n                start = seg ? seg.start : audioSeg.start;\n                stream = this._playlist.currentStream;\n                this._bufferService.createSource(data[0], data[1], stream === null || stream === void 0 ? void 0 : stream.videoCodec, stream === null || stream === void 0 ? void 0 : stream.audioCodec);\n                before = Date.now();\n                contiguous = this._prevSegSn === sn - 1;\n                if (this.isLive && this._urlSwitching) {\n                  segStart = this.bufferInfo().end;\n                  this._playlist.updateSegmentsRanges(sn, segStart);\n                  logger.warn(\"update the new playlist liveEdge, segment id=\".concat(sn, \", buffer start=\").concat(segStart, \", liveEdge=\").concat(this._playlist.liveEdge));\n                  start = segStart;\n                }\n                _context15.next = 30;\n                return this._bufferService.appendBuffer(seg, audioSeg, data[0], data[1], discontinuity, contiguous, start);\n              case 30:\n                this.emit(Event.APPEND_COST, {\n                  elapsed: Date.now() - before,\n                  url: seg.url\n                });\n                _context15.next = 33;\n                return this._bufferService.evictBuffer(this.config.bufferBehind);\n              case 33:\n                this._prevSegCc = cc;\n                this._prevSegSn = sn;\n                return _context15.abrupt(\"return\", true);\n              case 36:\n              case \"end\":\n                return _context15.stop();\n            }\n        }, _callee15, this, [[3, 9]]);\n      }));\n      function _reqAndBufferSegment(_x9, _x10) {\n        return _reqAndBufferSegment2.apply(this, arguments);\n      }\n      return _reqAndBufferSegment;\n    }()\n  }, {\n    key: \"_onCheckQuotaExceeded\",\n    value: function() {\n      var _onCheckQuotaExceeded2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee16() {\n        var seekTime, buffered, inBuffered, i, bufferBehind, mediaTime;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1)\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                seekTime = this.media.currentTime;\n                buffered = this.media.buffered;\n                inBuffered = false;\n                i = 0;\n              case 4:\n                if (!(i < buffered.length)) {\n                  _context16.next = 11;\n                  break;\n                }\n                if (!(buffered.start(0) >= seekTime && seekTime < buffered.end(i))) {\n                  _context16.next = 8;\n                  break;\n                }\n                inBuffered = true;\n                return _context16.abrupt(\"break\", 11);\n              case 8:\n                i++;\n                _context16.next = 4;\n                break;\n              case 11:\n                if (!this._bufferService.isFull()) {\n                  _context16.next = 17;\n                  break;\n                }\n                bufferBehind = inBuffered ? this.config.bufferBehind : 5;\n                mediaTime = this.media.currentTime;\n                if (!(mediaTime - bufferBehind > 0)) {\n                  _context16.next = 17;\n                  break;\n                }\n                _context16.next = 17;\n                return this._bufferService.removeBuffer(0, mediaTime - bufferBehind);\n              case 17:\n              case \"end\":\n                return _context16.stop();\n            }\n        }, _callee16, this);\n      }));\n      function _onCheckQuotaExceeded() {\n        return _onCheckQuotaExceeded2.apply(this, arguments);\n      }\n      return _onCheckQuotaExceeded;\n    }()\n  }, {\n    key: \"_checkStreamTrackChange\",\n    value: function _checkStreamTrackChange(time) {\n      var changedSeg = this._playlist.checkSegmentTrackChange(time, this._bufferService.nbSb);\n      if (!changedSeg)\n        return;\n      this.switchURL(this.config.url, changedSeg.start + 0.2);\n    }\n  }, {\n    key: \"_clear\",\n    value: function() {\n      var _clear2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee17() {\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1)\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                clearTimeout(this._disconnectTimer);\n                this._stopTick();\n                _context17.next = 4;\n                return Promise.all([this._segmentLoader.cancel(), this._manifestLoader.stopPoll()]);\n              case 4:\n                this._segmentProcessing = false;\n              case 5:\n              case \"end\":\n                return _context17.stop();\n            }\n        }, _callee17, this);\n      }));\n      function _clear() {\n        return _clear2.apply(this, arguments);\n      }\n      return _clear;\n    }()\n  }, {\n    key: \"_reset\",\n    value: function() {\n      var _reset2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee18() {\n        var _this$_seiService3;\n        var reuseMse, _args18 = arguments;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1)\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                reuseMse = _args18.length > 0 && _args18[0] !== void 0 ? _args18[0] : false;\n                this._reloadOnPlay = false;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._switchUrlOpts = null;\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService3 = this._seiService) === null || _this$_seiService3 === void 0 ? void 0 : _this$_seiService3.reset();\n                this._stats.reset();\n                _context18.next = 11;\n                return this._clear();\n              case 11:\n                return _context18.abrupt(\"return\", this._bufferService.reset(reuseMse));\n              case 12:\n              case \"end\":\n                return _context18.stop();\n            }\n        }, _callee18, this);\n      }));\n      function _reset() {\n        return _reset2.apply(this, arguments);\n      }\n      return _reset;\n    }()\n  }, {\n    key: \"_end\",\n    value: function _end() {\n      this._clear();\n      this._bufferService.endOfStream();\n      if (this.media.readyState <= 2 || this.media.buffered.length > 1) {\n        this._startTick();\n      }\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      if (this._tickTimer) {\n        clearTimeout(this._tickTimer);\n      }\n      this._tickTimer = null;\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      this._stopTick();\n      this._tickTimer = setTimeout(this._tick, this._tickInterval);\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(error) {\n      var _error$originError;\n      var endOfStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      if (((_error$originError = error.originError) === null || _error$originError === void 0 ? void 0 : _error$originError.fatal) === false) {\n        logger.warn(error);\n      } else {\n        var _this$media2, _this$media3, _this$_seiService4;\n        logger.table(error);\n        logger.error(error);\n        logger.error((_this$media2 = this.media) === null || _this$media2 === void 0 ? void 0 : _this$media2.error);\n        if ((_this$media3 = this.media) !== null && _this$media3 !== void 0 && _this$media3.readyState) {\n          this.media.pause();\n        }\n        this._stopTick();\n        if (this._urlSwitching) {\n          this._urlSwitching = false;\n          this.emit(Event.SWITCH_URL_FAILED, error);\n        }\n        this.emit(Event.ERROR, error);\n        if (endOfStream)\n          this._end();\n        (_this$_seiService4 = this._seiService) === null || _this$_seiService4 === void 0 ? void 0 : _this$_seiService4.reset();\n      }\n      return error;\n    }\n  }, {\n    key: \"_getSeamlessSwitchPoint\",\n    value: function _getSeamlessSwitchPoint() {\n      var media = this.media;\n      var nextLoadPoint = media.currentTime;\n      if (!media.paused) {\n        var _this$_stats;\n        var segIdx = this._playlist.findSegmentIndexByTime(media.currentTime);\n        var curSeg = this._playlist.getSegmentByIndex(segIdx);\n        var latestKbps = (_this$_stats = this._stats) === null || _this$_stats === void 0 ? void 0 : _this$_stats.getStats().downloadSpeed;\n        if (latestKbps && curSeg) {\n          var delay = curSeg.duration * this._playlist.currentStream.bitrate / latestKbps + 1;\n          nextLoadPoint += delay;\n        } else {\n          nextLoadPoint += 5;\n        }\n      }\n      return nextLoadPoint;\n    }\n  }, {\n    key: \"_tryEos\",\n    value: function _tryEos() {\n      var _this$_bufferService3, _this$_bufferService4;\n      var media = this.media;\n      var _this$_playlist2 = this._playlist, nextSegment = _this$_playlist2.nextSegment, lastSegment = _this$_playlist2.lastSegment;\n      var eosAllowed = (!nextSegment || lastSegment && Buffer.isBuffered(media, lastSegment.start + lastSegment.duration / 2)) && media.readyState && media.duration > 0 && ((_this$_bufferService3 = this._bufferService) === null || _this$_bufferService3 === void 0 ? void 0 : _this$_bufferService3.msIsOpened) && !((_this$_bufferService4 = this._bufferService) !== null && _this$_bufferService4 !== void 0 && _this$_bufferService4.msHasOpTasks);\n      if (!eosAllowed) {\n        return;\n      }\n      var bInfo = this.bufferInfo();\n      if (media.paused && !media.currentTime) {\n        bInfo = this.bufferInfo(bInfo.nextStart || 0.5);\n      }\n      var bufferThroughout = Math.abs(bInfo.end - media.duration) < 0.1 || !this.isLive && lastSegment && bInfo.end >= lastSegment.start + lastSegment.duration;\n      if (bufferThroughout) {\n        this._bufferService.endOfStream();\n      }\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(mediaType) {\n      if (!mediaType || mediaType === \"video\" || mediaType === \"audio\") {\n        return MSE.isSupported();\n      }\n      return typeof WebAssembly !== \"undefined\";\n    }\n  }, {\n    key: \"enableLogger\",\n    value: function enableLogger() {\n      Logger.enable();\n      Logger$1.enable();\n    }\n  }, {\n    key: \"disableLogger\",\n    value: function disableLogger() {\n      Logger.disable();\n      Logger$1.disable();\n    }\n  }]);\n  return Hls2;\n}(EventEmitter);\n_defineProperty(Hls, \"version\", \"3.0.20\");\ntry {\n  if (localStorage.getItem(\"xgd\")) {\n    Hls.enableLogger();\n  } else {\n    Hls.disableLogger();\n  }\n} catch (error) {\n}\nexport { Hls, logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Event } from \"./hls/constants.js\";\nvar PluginExtension = /* @__PURE__ */ function() {\n  function PluginExtension2(opts, plugin) {\n    var _this = this;\n    _classCallCheck(this, PluginExtension2);\n    _defineProperty(this, \"_opts\", null);\n    _defineProperty(this, \"_plugin\", null);\n    _defineProperty(this, \"_onLowDecode\", function() {\n      var _this$_plugin, _this$_plugin$player, _this$_plugin2, _this$_plugin2$player;\n      var _this$_opts = _this._opts, media = _this$_opts.media, innerDegrade = _this$_opts.innerDegrade;\n      (_this$_plugin = _this._plugin) === null || _this$_plugin === void 0 ? void 0 : (_this$_plugin$player = _this$_plugin.player) === null || _this$_plugin$player === void 0 ? void 0 : _this$_plugin$player.emit(\"lowdecode\", media.degradeInfo);\n      (_this$_plugin2 = _this._plugin) === null || _this$_plugin2 === void 0 ? void 0 : (_this$_plugin2$player = _this$_plugin2.player) === null || _this$_plugin2$player === void 0 ? void 0 : _this$_plugin2$player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, media.degradeInfo), {}, {\n        eventName: Event.LOWDECODE\n      }));\n      if (innerDegrade === 1) {\n        _this._degrade(media.src);\n      }\n    });\n    _defineProperty(this, \"_degrade\", function(url) {\n      var player = _this._plugin.player;\n      var originVideo = player.video;\n      if (originVideo && originVideo.TAG !== \"MVideo\")\n        return;\n      var newVideo = player.video.degradeVideo;\n      player.video = newVideo;\n      originVideo.degrade(url);\n      if (url) {\n        player.config.url = url;\n      }\n      var firstChild = player.root.firstChild;\n      if (firstChild.TAG === \"MVideo\") {\n        player.root.replaceChild(newVideo, firstChild);\n      }\n      var hlsPlugin = _this._plugin.constructor.pluginName.toLowerCase();\n      player.unRegisterPlugin(hlsPlugin);\n      player.once(\"canplay\", function() {\n        player.play();\n      });\n    });\n    _defineProperty(this, \"forceDegradeToVideo\", function(url) {\n      var innerDegrade = _this._opts.innerDegrade;\n      if (innerDegrade === 1) {\n        _this._degrade(url);\n      }\n    });\n    this._opts = opts;\n    this._plugin = plugin;\n    this._init();\n  }\n  _createClass(PluginExtension2, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this$_opts2 = this._opts, media = _this$_opts2.media, preloadTime = _this$_opts2.preloadTime, innerDegrade = _this$_opts2.innerDegrade, isLive = _this$_opts2.isLive;\n      if (!media)\n        return;\n      if (!isLive && media.setPlayMode) {\n        media.setPlayMode(\"VOD\");\n        return;\n      }\n      if (innerDegrade) {\n        media.setAttribute(\"innerdegrade\", innerDegrade);\n      }\n      if (preloadTime) {\n        media.setAttribute(\"preloadtime\", preloadTime);\n      }\n      this._bindEvents();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var media = this._opts.media;\n      media.addEventListener(\"lowdecode\", this._onLowDecode);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$_opts3, _this$_opts3$media;\n      (_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : (_this$_opts3$media = _this$_opts3.media) === null || _this$_opts3$media === void 0 ? void 0 : _this$_opts3$media.removeEventListener(\"lowdecode\", this._onLowDecode);\n      this._plugin = null;\n    }\n  }]);\n  return PluginExtension2;\n}();\nexport { PluginExtension as default };\n","import { defineProperty as _defineProperty, typeof as _typeof, objectWithoutProperties as _objectWithoutProperties, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { BasePlugin, Events, Errors } from \"xgplayer\";\nimport { MSE, EVENT } from \"xgplayer-streaming-shared\";\nimport { Hls, logger } from \"./hls/index.js\";\nimport { Event } from \"./hls/constants.js\";\nimport PluginExtension from \"./plugin-extension.js\";\nvar _excluded = [\"currentTime\"];\nfunction parseSwitchUrlArgs(args, plugin) {\n  var player = plugin.player;\n  var curTime = player.currentTime;\n  var options = {\n    startTime: curTime\n  };\n  switch (_typeof(args)) {\n    case \"boolean\":\n      options.seamless = args;\n      break;\n    case \"object\": {\n      var currentTime = args.currentTime, rest = _objectWithoutProperties(args, _excluded);\n      Object.assign(options, rest);\n      if (typeof currentTime === \"number\") {\n        options.startTime = currentTime;\n      }\n      break;\n    }\n  }\n  return options;\n}\nvar HlsPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(HlsPlugin2, _BasePlugin);\n  var _super = _createSuper(HlsPlugin2);\n  function HlsPlugin2() {\n    var _this;\n    _classCallCheck(this, HlsPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"logger\", logger);\n    _defineProperty(_assertThisInitialized(_this), \"hls\", null);\n    _defineProperty(_assertThisInitialized(_this), \"pluginExtension\", null);\n    _defineProperty(_assertThisInitialized(_this), \"getStats\", function() {\n      var _this$hls;\n      return (_this$hls = _this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.getStats();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchSubtitle\", function(_ref) {\n      var _this$hls2;\n      var lang = _ref.lang;\n      (_this$hls2 = _this.hls) === null || _this$hls2 === void 0 ? void 0 : _this$hls2.switchSubtitleStream(lang);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_keepPauseStatus\", function() {\n      var paused = _this.player.paused;\n      if (!paused)\n        return;\n      _this.player.once(\"canplay\", function() {\n        _this.player.pause();\n      });\n    });\n    return _this;\n  }\n  _createClass(HlsPlugin2, [{\n    key: \"core\",\n    get: function get() {\n      return this.hls;\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      var _this$hls3;\n      return (_this$hls3 = this.hls) === null || _this$hls3 === void 0 ? void 0 : _this$hls3.version;\n    }\n  }, {\n    key: \"softDecode\",\n    get: function get() {\n      var _this$player, _this$player$config;\n      var mediaType = (_this$player = this.player) === null || _this$player === void 0 ? void 0 : (_this$player$config = _this$player.config) === null || _this$player$config === void 0 ? void 0 : _this$player$config.mediaType;\n      return !!mediaType && mediaType !== \"video\" && mediaType !== \"audio\";\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n      var _this2 = this;\n      var config = this.player.config;\n      var mediaElem = this.player.media || this.player.video;\n      var hlsOpts = config.hls || {};\n      if (!config.url && !config.__allowHlsEmptyUrl__ || !hlsOpts.preferMMS && MSE.isMMSOnly()) {\n        return;\n      }\n      if (this.hls)\n        this.hls.destroy();\n      var descriptor = Object.getOwnPropertyDescriptor(this.player, \"switchURL\");\n      if (!descriptor || descriptor.writable) {\n        this.player.switchURL = function(url, args) {\n          return new Promise(function(resolve, reject) {\n            var player = _this2.player, hls = _this2.hls;\n            if (hls) {\n              var _this2$player$config, _this2$player$config$;\n              var options = parseSwitchUrlArgs(args, _this2);\n              player.config.url = url;\n              hls.switchURL(url, options).then(function() {\n                return resolve(true);\n              }).catch(reject);\n              if (!options.seamless && (_this2$player$config = _this2.player.config) !== null && _this2$player$config !== void 0 && (_this2$player$config$ = _this2$player$config.hls) !== null && _this2$player$config$ !== void 0 && _this2$player$config$.keepStatusAfterSwitch) {\n                _this2._keepPauseStatus();\n              }\n            } else {\n              reject();\n            }\n          });\n        };\n      }\n      var onSwitchUrl = this.player.switchURL;\n      this.player.handleSource = false;\n      hlsOpts.innerDegrade = hlsOpts.innerDegrade || config.innerDegrade;\n      if (hlsOpts.disconnectTime === null || hlsOpts.disconnectTime === void 0)\n        hlsOpts.disconnectTime = 0;\n      this.hls = new Hls(_objectSpread2({\n        softDecode: this.softDecode,\n        isLive: config.isLive,\n        media: mediaElem,\n        startTime: config.startTime,\n        url: config.url\n      }, hlsOpts));\n      if (!this.softDecode) {\n        BasePlugin.defineGetterOrSetter(this.player, {\n          url: {\n            get: function get() {\n              var _this2$hls, _this2$hls$media;\n              return (_this2$hls = _this2.hls) === null || _this2$hls === void 0 ? void 0 : (_this2$hls$media = _this2$hls.media) === null || _this2$hls$media === void 0 ? void 0 : _this2$hls$media.src;\n            },\n            configurable: true\n          }\n        });\n      }\n      if (this.softDecode) {\n        this.pluginExtension = new PluginExtension(_objectSpread2({\n          isLive: config.isLive,\n          media: mediaElem\n        }, hlsOpts), this);\n        this.player.forceDegradeToVideo = function() {\n          var _this2$pluginExtensio;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return (_this2$pluginExtensio = _this2.pluginExtension) === null || _this2$pluginExtensio === void 0 ? void 0 : _this2$pluginExtensio.forceDegradeToVideo.apply(_this2$pluginExtensio, args);\n        };\n      }\n      if (config.isLive) {\n        var _this$player2;\n        (_this$player2 = this.player) === null || _this$player2 === void 0 ? void 0 : _this$player2.useHooks(\"replay\", function() {\n          var _this2$hls2;\n          return (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.replay();\n        });\n      }\n      this.on(Events.URL_CHANGE, onSwitchUrl);\n      this.on(Events.SWITCH_SUBTITLE || \"switch_subtitle\", this._onSwitchSubtitle);\n      this.on(Events.DESTROY, this.destroy.bind(this));\n      this._transError();\n      this._transCoreEvent(EVENT.TTFB);\n      this._transCoreEvent(EVENT.LOAD_START);\n      this._transCoreEvent(EVENT.LOAD_RESPONSE_HEADERS);\n      this._transCoreEvent(EVENT.LOAD_COMPLETE);\n      this._transCoreEvent(EVENT.LOAD_RETRY);\n      this._transCoreEvent(EVENT.SOURCEBUFFER_CREATED);\n      this._transCoreEvent(EVENT.MEDIASOURCE_OPENED);\n      this._transCoreEvent(EVENT.APPEND_BUFFER);\n      this._transCoreEvent(EVENT.REMOVE_BUFFER);\n      this._transCoreEvent(EVENT.BUFFEREOS);\n      this._transCoreEvent(EVENT.KEYFRAME);\n      this._transCoreEvent(EVENT.METADATA_PARSED);\n      this._transCoreEvent(EVENT.DEMUXED_TRACK);\n      this._transCoreEvent(EVENT.SEI);\n      this._transCoreEvent(EVENT.SEI_IN_TIME);\n      this._transCoreEvent(EVENT.SPEED);\n      this._transCoreEvent(EVENT.HLS_MANIFEST_LOADED);\n      this._transCoreEvent(EVENT.HLS_LEVEL_LOADED);\n      this._transCoreEvent(EVENT.STREAM_EXCEPTION);\n      this._transCoreEvent(EVENT.SWITCH_URL_SUCCESS);\n      this._transCoreEvent(EVENT.SWITCH_URL_FAILED);\n      this._transCoreEvent(Event.NO_AUDIO_TRACK);\n      this._transCoreEvent(Event.STREAM_PARSED);\n      this._transCoreEvent(Event.SUBTITLE_SEGMENTS);\n      this._transCoreEvent(Event.SUBTITLE_PLAYLIST);\n      this._transCoreEvent(Event.APPEND_COST);\n      if (config.url) {\n        this.hls.load(config.url, {\n          reuseMse: true\n        }).catch(function(e) {\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$pluginExtension;\n      if (this.hls) {\n        this.hls.destroy();\n        this.hls = null;\n      }\n      (_this$pluginExtension = this.pluginExtension) === null || _this$pluginExtension === void 0 ? void 0 : _this$pluginExtension.destroy();\n      this.pluginExtension = null;\n    }\n  }, {\n    key: \"_transError\",\n    value: function _transError() {\n      var _this3 = this;\n      this.hls.on(Event.ERROR, function(err) {\n        if (_this3.player) {\n          _this3.player.emit(Events.ERROR, new Errors(_this3.player, err));\n        }\n      });\n    }\n  }, {\n    key: \"_transCoreEvent\",\n    value: function _transCoreEvent(eventName) {\n      var _this4 = this;\n      this.hls.on(eventName, function(e) {\n        if (_this4.player) {\n          _this4.player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, e), {}, {\n            eventName\n          }));\n          if (eventName === EVENT.SEI_IN_TIME && _this4.hls.hasSubtitle) {\n            _this4._emitSeiPaylodTime(e);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_emitSeiPaylodTime\",\n    value: function _emitSeiPaylodTime(e) {\n      try {\n        var seiJson = JSON.parse(Array.from(e.data.payload).map(function(x) {\n          return String.fromCharCode(x);\n        }).join(\"\").slice(0, -1));\n        if (!seiJson[\"rtmp_dts\"])\n          return;\n        this.player.emit(\"core_event\", {\n          eventName: Event.SEI_PAYLOAD_TIME,\n          time: seiJson[\"rtmp_dts\"]\n        });\n      } catch (e2) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"hls\";\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported(mediaType, codec) {\n      return Hls.isSupported(mediaType, codec);\n    }\n  }]);\n  return HlsPlugin2;\n}(BasePlugin);\n_defineProperty(HlsPlugin, \"Hls\", Hls);\n_defineProperty(HlsPlugin, \"EVENT\", Event);\nexport { HlsPlugin, parseSwitchUrlArgs };\n","import { render } from \"./index.vue?vue&type=template&id=233c41eb&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=233c41eb&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=233c41eb&lang=scss&scoped=true\"\nimport \"./index.vue?vue&type=style&index=2&id=233c41eb&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-233c41eb\"]])\n\nexport default __exports__"],"names":["DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","module","exports","require","_delegate","type","callback","useCapture","listenerFn","listener","apply","this","arguments","addEventListener","destroy","removeEventListener","delegate","elements","bind","document","querySelectorAll","Array","map","call","e","delegateTarget","target","root","factory","define","download","data","strFileName","strMimeType","blob","reader","self","window","defaultMime","mimeType","payload","url","anchor","createElement","toString","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","length","split","pop","href","indexOf","ajax","XMLHttpRequest","open","responseType","onload","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","i","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","decoder","atob","decodeURIComponent","binData","uiArr","winMode","setAttribute","className","innerHTML","style","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","replace","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","has","Object","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","slice","getOwnPropertySymbols","concat","listeners","handlers","l","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","undefined","j","on","removeAllListeners","off","prefixed","class","_createElementBlock","_hoisted_1","_createElementVNode","disabled","$props","currentPage","onClick","_cache","$options","goToPreviousTenPages","_createVNode","_component_van_icon","_hoisted_2","key","$data","componentKey","_Fragment","_renderList","visiblePages","page","_normalizeClass","active","_ctx","activePages","$event","goToPage","_hoisted_3","totalPages","goToNextTenPages","_hoisted_4","props","Number","required","emits","watch","handler","newVal","updateActivePages","immediate","computed","startPage","Math","floor","endPage","min","from","_","methods","forEach","$emit","newPage","max","__exports__","render","goHome","goCategory","classifyName","_createTextVNode","_toDisplayString","title","_hoisted_5","id","_hoisted_6","language","_hoisted_7","_createCommentVNode","_hoisted_8","titleUs","_hoisted_9","titleCn","_hoisted_10","_hoisted_11","_imports_0","alt","watchTimes","_hoisted_12","_imports_1","formatTime","createdAt","titleChinese","_hoisted_13","_ads","_hoisted_14","item","_hoisted_15","_component_van_image","goAd","link","fit","position","picUrl","loading","_withCtx","_component_van_loading","size","videos","_hoisted_16","_createBlock","_component_Card","classifyId","specialId","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_component_Pagination","total","pageNum","onPageChange","handlePageChange","XG_DEBUG_OPEN","STYLE","info","error","warn","XGTAG","XG_DEBUG","config","debug","logInfo","message","optionalParams","console","log","logWarn","logError","_fun","bindDebug","player","XgplayerTimeRange","bufferedList","start","index","end","util","checkIsIn","list","isObject","value","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","requestAnimationFrame","invokeFunc","time","thisArg","startTimer","pendingFunc","wait2","cancelAnimationFrame","cancelTimer","clearTimeout","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","Date","now","trailingEdge","cancel","flush","pending","debounced","isInvoking","throttle","getLang","lang","documentElement","getAttribute","toLocaleLowerCase","checkIsCurrentVideo","playerId","pid","tagName","createDom","el","tpl","attrs","cname","dom","keys","createDomFromHtml","html","classname","doc","children","addClass","err","hasClass","some","classList","orgClassName","match","RegExp","add","removeClass","remove","reg","toggleClass","classNames","typeOf","join","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","maxlen","ceil","chars","r","substring","format","isNaN","round","hour","minute","second","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","obj","deepCopy","dst","Node","deepMerge","getBgImage","backgroundImage","copyDom","back","attributes","node","setInterval","eventName","intervalFunc","frequency","_interval","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","btn","w","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","styleArr","arr","filterStyleFromText","_cssText","cssText","ret","remain","getStyleFromCsstext","preloadImg","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","b","diff","buffered2","buf2len","buf2end","getEventPos","zoom","x","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","media","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","d","getTime","performance","uuid","c","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","stylesKeys","lastIndex","convertDeg","abs","getIndexByTime","segments","_len","_index","getOffsetCurrentTime","currentTime","cTime","offset","getCurrentTimeByOffset","offsetTime","VERSION_REG","android","ios","H264_MIMETYPES","sniffer","device","os","isPc","browser","ua","toLowerCase","ie","firefox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","osVersion","_match","exec","version","isWeixin","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","i18n","ended","readyState","networkState","_errc","code","playerVersion","stack","host","ex","msg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","LOADED_METADATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","LEAVE_PLAYER","ENTER_PLAYER","LOADING","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","emitVideoEvent","eventKey","errorHandler","getVideoEventHandler","_err","eData","originalEvent","detail","timeStamp","paused","isInternalOp","_internalOp","muted","volume","vtype","removeInnerOP","_currentTime","_rate","playbackRate","_duration","isMutedChange","_lastMuted","mediaEventMiddleware","MediaProxy","super","_hasStart","mediaConfig","assign","controls","autoplay","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","mediaType","videoAttributes","playerType","x5VideoPlayerType","loop","autoplayMuted","defaultPlaybackRate","attachVideoEvents","setEventsMiddleware","middlewares","removeEventsMiddleware","_evHandlers","funName","charAt","toUpperCase","detachVideoEvents","_attachSourceEvents","urls","removeAttribute","load","_c","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","_detachSourceEvents","_e","pause","k","play","getBufferedRange","range","isTrue","bufferedPoint","_buffered","crossOrigin","defaultMuted","errorNote","status","rate","Infinity","played","preload","seekable","seeking","onWaiting","vol","aspectRatio","videoWidth","videoHeight","addInnerOP","offAll","INDEXDB","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","openDB","request","onsuccess","onupgradeneeded","transaction","objectStoreNames","contains","createObjectStore","keyPath","deletedb","deleteDatabase","closeDB","close","addData","storename","store","objectStore","putData","put","getDataByKey","get","deleteData","delete","clearData","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","next","then","args2","hook","hookName","preset","pre","__hooks","pluginName","preRet","isContinue","catch","useHooks","removeHooks","usePluginHooks","plugins","plugin","removePluginHooks","hooksDescriptor","instance","presetHooks","defineProperty","delHooksDescriptor","runHooks","showErrorMsg","BasePlugin","defineGetterOrSetter","Obj","defaultConfig","beforeCreate","__args","__events","__onceEvents","playerConfig","__init","afterCreate","beforePlayerInit","onPluginsReady","afterPlayerInit","logger","updateLang","i18nKeys","domEventType","isArray","res","emitUserAction","action","params","nParams","registerPlugin","getPlugin","__destroy","unRegisterPlugin","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","PLUGIN_STATE_CLASS","ICON_DISABLE","ICON_HIDE","isUrl","mergeIconClass","icon","mergeIconAttr","attr","createIcon","newIcon","key2","tag","registerIconsObj","iconsConfig","_icons","icons","orgIcon","registerTextObj","textConfig","langText","Plugin","insert","parent","insertIdx","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","eventType","capture","dels","__delegates","_parent","_el","_orgicons","registerIcons","defaultTexConfig","registerLanguageTexts","renderStr","Error","setAttr","setStyle","__registerChildren","_children","_plugin","Plugin2","checkChildren","langKey","langTextShow","changeLangTextKey","disable","find","enable","qs","bindEL","unbind","unbindEL","setHtml","htmlStr","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","pdom","child","__defProp","__defNormalProp","enumerable","configurable","writable","__publicField","ResizeObserver","entries","t","__runHandler","__handlers","observer","__trigger","addObserver","observe","_pid","unObserver","unobserve","destroyObserver","disconnect","resizeObserver","pluginsManager","pluginGroup","init","cgid","_pluginInfoId","closeResizeObserver","resize","_originalOptions","_plugins","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","lazyRegister","lazyPlugin","timeout","race","loader","__esModule","default","register","reject","originalOptions","isSupported","codecType","unRegister","_instance","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","prevTask","_loadingPlugins","all","pluginsRet","pName","afterInit","setLang","reRender","_pList","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","BUILTIN_CLASS","MOBILE","MINI","getDefaultConfig","isNoRoot","isCustomRoot","nullUrlStart","fluid","fitVideoSize","videoFillMode","isLive","videoInit","poster","isMobileSimulateMode","execBeforePluginsCall","allowSeekAfterEnded","enableContextmenu","closeVideoClick","closeVideoDblclick","closePlayerBlur","closeDelayBlur","leavePlayerTime","closePlayVideoFocus","closePauseVideoFocus","closeFocusVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","miniprogress","disableSwipeHandler","enableSwipeHandler","preProcessUrl","ignores","whitelist","inactive","marginControls","fullscreenTarget","screenShot","pip","mini","cssFullscreen","keyShortcut","presets","definition","customDuration","timeOffset","thumbnail","isHideTips","minWaitDelay","commonStyle","progressColor","playedColor","cachedColor","sliderBtnStyle","volumeColor","usePreset","Preset","presetInst","_ci18n","EN","LANG","TEXT","network","mse","parse","runtime","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","extend","i18nTextList","i18nLangs","lang2","keyLang","use","langData","_clang","texts","pId","I18N","zh","STATES","INITIAL","ATTACHING","ATTACHED","NOTALLOW","RUNNING","DESTROYED","STATE_ARRAY","InstManager","getInstance","setActive","isUserActive","_iterate","endEarly","flag","findAll","isActive","inst","isInstNext","getActiveId","setNext","isNext","checkPlayerRoot","p","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","instManager","_Player","__startTime","_useAutoplay","mediaPlay","canPlayFunc","isFullScreen","delayResize","fullEl","_fullActionFrom","prop","to","isVideo","_fullscreenEl","focus","fullscreen","changeFullStyle","_fullScreenOffset","cssfullscreen","exitCssFullscreen","needFullscreenScroll","scrollTo","left","top","recoverFullStyle","onFullscreenChange","defaultPreset","defaultIdx","userTimer","waitTimer","handleSource","_state","isError","isSeeking","isCanplay","rotateDeg","isRotateFullscreen","timeSegments","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","pi","vy","vx","sizeInfo","_accPlayed","acc","loopAcc","_offsetInfo","innerContainer","topBar","__i18n","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","_initMedia","rootInit","_initDOM","defaultDefinitionObj","defaultDefinition","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","hasStart","state","debugger","getCurrentUserActivePlayerId","setCurrentUserActive","XgVideoProxy","_nVideo","vid","line","handle","_initBaseDoms","width2","height2","getBoundingClientRect","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","_unbindEvents","mousemoveFunc","_clearUserTimer","_startInit","_root","firstChild","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","_getRootByPosition","_retPlugin","exits","deregister","removedFromConfig","removePluginFromConfig","plugin2","_furl","_preProcessUrl","lineNumber","switchURL","_src","curTime","isPaused","_error","_canplay","videoPlay","playPromise","onError","_errorTimer","mediaPause","videoPause","seek","isSeekedPlay","_status","changeDefinition","bitrate","seamless","reload","reloadFunc","resetState","REPLAY2","ERROR2","LOADING2","clsList","cls","reset","unregisterPlugins","isResetConfig","pn","de","updateAcc","exitFullscreen","cList","isBuildIn","replay","onPlay","retry","cur","_srcRet","rootClass","pClassName","_orgPCss","getFullscreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","exitRotateFullscreen","webkitExitFullScreen","getCssFullscreen","_class","useCssFullscreen","getRotateFullscreen","setRotateDeg","_rootStyle","innerHeight","deg","orientation","autoHide","delay","onFocus","blur","ignorePaused","onBlur","isLock","onEmptied","onCanplay","onDurationchange","onLoadeddata","onLoadstart","onPause","onEnded","onSeeking","onSeeked","onPlaying","onTimeupdate","onVolumechange","onRatechange","endType","_at","checkBuffer","resizePosition","_pi","_pos","offsetWidth","offsetHeight","rHeight","rWidth","formStyle","transform","webkitTransform","setConfig","playNext","containerSize","controlsHeight","videoFit","_style","paddingTop","videoScale","vWidth","vHeight","cWidth","cHeight","updateObjectPosition","objectPosition","newState","isFullscreen","isCssfullScreen","bool","isPlaying","definitionList","curDef","targetDef","_a","videoFrameInfo","dropped","corrupted","droppedRate","droppedDuration","getVideoPlaybackQuality","_quality","droppedVideoFrames","totalVideoFrames","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","update","fullscreenChanging","videoRotateDeg","avgSpeed","realTimeSpeed","offsetCurrentTime","offsetDuration","setUserActive","isMuted","Boolean","install","descriptor","Player","Controls","initShow","center","right","innerRoot","isMini","onMouseEnter","onMouseLeave","focusAwhile","recoverAutoHide","pauseAutoHide","LOG_TYPES","FIRST_FRAME","WAIT_START","WAIT_END","SEEK_START","SEEK_END","XGLogger","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","_startWaitTimeout","waitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","costTime","_now","_cost","_fixedCost","fixedCostTime","ReplaySvg","DOMParser","parseFromString","Replay","__handleReplay","preventDefault","path","handleReplay","Poster","isEndedShow","hideCanplay","notHidden","fillMode","onTimeUpdate","getBgSize","_bg","PlaySvg","PauseSvg","AnimateMap","addAnimate","seconds","clearAnimation","Start","autoPlayStart","onPlayPause","isShowPause","isShowEnd","disableAnimate","initIcons","onAutoplayStart","onPlayerReset","clickHandler","switchPausePlay","cancelable","startPlay","startPause","focusHide","recover","switchStatus","isAnimate","animate","endShow","_animateId","endAnimate","Enter","innerHtml","logo","HTMLElement","barStr","xgIconTips","textKey","isShow","MiniScreenIcon","getMini","exitMini","getStyleSize","num","isValid","measurements","measurementsLength","getZeroSize","innerWidth","outerWidth","outerHeight","measurement","getStyle","elem","getSize","isBorderBox","boxSizing","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","START","MOVE","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","isEnabled","isDragging","isDown","downPoint","dragPoint","startPos","_handlerDom","_bindStartEvent","_startKey","_unbindStartEvent","_bindPostStartEvents","_boundPointerEvents","_unbindPostStartEvents","onUp","onDocUp","positionDrag","webKitTransform","setLeftTop","onmousedown","dragStart","onmousemove","dragMove","onmouseup","dragEnd","ontouchstart","touchIdentifier","pointerId","ontouchmove","ontouchend","ontouchcancel","dragCancel","pointer","_getPosition","maxY","maxX","dragRealStart","presetInfo","_dragPointerMove","moveVector","hasDragStarted","dragX","dragY","checkContain","axis","drag","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","isClose","scrollY","scrollHeight","lastStyle","isShowIcon","isScrollSwitch","disableDrag","onCancelClick","onCenterClick","_draggabilly","onScroll","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","switchPlayPause","initEvents","onVideoClick","onVideoDblClick","onContextmenu","returnValue","cancelBubble","PRESS","PRESS_END","DOUBlE_CLICK","CLICK","TOUCH_MOVE","TOUCH_START","TOUCH_END","TOUCHS","move","MOUSES","pressDelay","dbClickDelay","disablePress","disableDbClick","miniStep","needPreventDefault","Touche","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","moving","press","__setDb","diffx","diffy","pressIntrvalId","dbIntrvalId","_initEvent","onTouchStart","__clearDb","touchend","touchmove","SeekTipIcon","ACTIONS","AUTO","PLAYBACK","LIGHT","MobilePlugin","touche","getTouche","disableGesture","isStart","timer","rect","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","miniMoveStep","hideControlsActive","scope","checkScope","gestureY","gestureX","executeMove","resetSeekState","endLastMove","resetPos","changeAction","checkIsRootTarget","light","gradient","isTouchingSeek","miniYPer","pressRate","darkness","maxDarkness","disableActive","disableTimeProgress","hideControlsEnd","moveDuration","closedbClick","disableSeekIcon","focusVideoClick","seekTipIcon","xgMask","initCustomStyle","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","eventsMap","pressend","doubleclick","progressPlugin","progress","addCallBack","activeSeekNote","forward","usable","createThumbnail","timePreview","timePreviewStyle","curTimeColor","durationColor","backgroundColor","previewDom","curColor","durColor","color","startPlugin","mold","updateTime","updateBrightness","updateVolume","lastScope","toFixed","sendUseAction","dbClickHandler","onDbClick","onPress","onPressEnd","percent","updatePercent","isForward","updateThumbnails","enableGesture","isDisableTag","isContentEditable","Keyboard","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","seekStep","checkVisible","keyCodeMap","mergekeyCodeMap","extendkeyCodeMap","key1","space","noBodyTarget","up","down","pressAction","esc","isPress","tt","onKeydown","onBodyKeyDown","newConfig","rec","bottom","isBodyTarget","downVolume","upVolume","_time","_step","_seekTime","seekBack","changePlaybackRate","playPause","handleKeyCode","curKeyCode","_action","loadingIcon","Loading","TPL","styleKey","InnerList","fragments","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedIndex","playedIndex","focusIndex","updateDuration","updateProgress","newIndex","curIndex","millisecond","progressList","curPFrag","per","updateFocus","unHightLight","_data","preIndex","fragment","newPIndex","findIndex","setHightLight","cached","newCIndex","findHightLight","findFragment","newOptions","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","_ePos","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","isPauseMoving","closeMoveSeek","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","onMoveEnd","_mouseUpHandlerHook","isEnter","miniStartStep","_mouseMoveHandlerHook","unlock","useable","__dragCallBacks","direc","_disableBlur","isDragingSeek","isCloseClickSeek","endedDiff","changeState","_initInner","innerList","outer","isMobile","onCacheUpdate","onReset","onVideoResize","bindDomEvents","frags","boxShadow","removeCallBack","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","onMouseOver","onMouseOut","onBodyClick","disableBlur","enableBlur","realTime","rLeft","timeIcon","resetActive","notSeek","_end","thumbnailPlugin","controlsMode","Icon","_onMouseenter","_onMouseLeave","Play","btnClick","tipDom","BackSVG","TopBackIcon","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","rotateFullscreen","useScreenOrientation","lockOrientationType","switchCallback","needBackIcon","handleFullscreen","toggleFullScreen","tipsDom","topBackIcon","_onOrientationChange","unlockScreen","e2","lockScreen","screen","lock","Time","isActiving","constrolsMode","createCenterTime","durationDom","timeDom","centerCurDom","centerDurDom","current","minWidthTime","changeLiveState","timeStr","updateState","TimeSegmentsControls","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","getSeekTime","_onDurationChange","_onLoadedData","_onPlay","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","diff2","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isMoving","unFocus","showValueLabel","updateVolumeValue","miniVolume","volumeSmall","volumeLarge","volumeMuted","_timerId","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","$labelValue","innerText","isForce","isShowVolumeValue","RotateSvg","Rotate","innerRotate","clockwise","onBtnClick","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","_transform","_styles","transformOrigin","times","factor","PipIcon","PipIconExit","PresentationMode","INLINE","isPIPAvailable","isPip","exitPIP","requestPIP","showIcon","preferDocument","docPiPNode","docPiPStyle","checkWebkitSetPresentationMode","webkitSetPresentationMode","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","pipWindow","enterPIPCallback","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","copyStyleIntoPiPWindow","pipWin","textContent","styleSheets","style2","cssRules","rule","rel","head","isDocPIPAvailable","pipOptions","playerRect","documentPictureInPicture","requestWindow","pipRoot","parentElement","previousSibling","nextSibling","append","cssContent","requestPictureInPicture","reason","exitPictureInPicture","pictureInPictureElement","_isEnabled","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","protocol","Next","PlayNextIcon","idx","urlList","nextHandler","changeSrc","DownloadSvg","Download","dUrl","newUrl","getAbsoluteURL","downloadUtil","_handler","div","ScreenShot","quality","saveImg","fitVideo","screenshotIcon","initSize","onClickBtn","saveScreenShot","filename","saveLink","initMouseEvent","dispatchEvent","createCanvas","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","option","mediaRatio","canvasRatio","sx","sy","sw","sh","dx","dy","dw","dh","drawImage","toDataURL","OptionList","maxHeight","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","changeCallback","curSelected","getAttrObj","LIST_TYPES","SIDE","MIDDLE","TOGGLE_MODES","HOVER","getListClassName","listType","IS_MOBILE","OptionsIcon","switchActiveState","toggleMode","toggle","enterType","isIcons","curValue","listStyle","hidePortrait","isItemClickHide","heightLimit","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","getTextByLang","curItem","changeCurrentText","itemList","_maxH","DefinitionIcon","changeDefinitionList","initDefinition","items","showItem","PlaybackRate","curRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","handleCssFullscreen","contentIcon","switchTips","ErrorPlugin","errorRetry","handleError","Prompt","interval","highlight","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","updateDot","needShow","dot","showDot","deleteDot","del","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","_pop","pRect","rect1","_left","_diff","getAllDotsDom","getDotDom","initDotsAPI","ispots","progressDot","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","isHideThumbnailHover","isDrag","_curDot","onDotMouseLeave","blurDot","focusDot","videoPreview","videothumbnail","miniWidth","defaultText","isFocusDots","isShowThumbnail","isShowCoverPreview","handlerSpotClick","_event","transformTimeHook","setTimeContent","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","onProgressMove","updatePosition","onProgressDragStart","onProgressDragEnd","onProgressClick","updateLinePos","cwidth","isflex","lwidth","updateTimeText","showTips","hideTips","thumbnailConfig","tRoot","totalWidth","widthPerSeconds","_activeDotId","isDefault","Thumbnail","pic_num","col","row","ratio","_preloadMark","initThumbnail","getUrlByIndex","getPosition","containerWidth","containerHeight","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","backgroundPosition","customStyle","changeConfig","getBgColor","MiniProgress","stateClass","MODES","REAL_TIME","FRAME_RATE","POSTER","nowTime","checkIsSupportCanvas","ctx","isSupportCanvas","DynamicBg","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","isInnerRender","frameRate","addMask","multiple","maskBg","supportCanvasFilter","dynamicBg","rwidth","rheight","renderByPoster","onLoadedData","onVisibilitychange","canvasFilter","webkitFilter","mask","background","_p","_tVideo","HTMLVideoElement","flyVideo","_tagName","updateImg","image","sourcePI","ZH","INFO","Stats","actionData","_getTime","_stats","stats","getStats","JSON","stringify","downloadUrl","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","downloadStats","profile","_infoProfile","_info","startMs","endMs","dur","cat","ph","tid","ts","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","allStat","msgs","stat","traceEvents","GapJump","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","seekEnd","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","DEFAULT_SPEED_TYPE","SPEED_TYPE","TestSpeed","speedListCache","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","headers","Range","setRequestHeader","onreadystatechange","getResponseHeader","saveSpeedMax","shift","getSpeedName","updateSpeed","getSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","tick","stuckCount","reportFrame","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","_startTick","_stopTick","_timer","_checkDecodeFPS","_checkBuffer","enoughBuffer","buffers","_checkStuck","curDecodedFrames","checkInterval","hidden","_reset","currTime","curDecoded","DefaultPreset","simulateMode","basePlugin","vodPlugins","contolsIcons","layers","PresetPlayer","_iterableToArrayLimit","_i","Symbol","iterator","_r","_arr","_n","done","return","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_regeneratorRuntime","Op","hasOwn","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","value2","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","next2","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","async","iter","reverse","skipTempReset","prev","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_typeof","obj2","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_classCallCheck","Constructor","_defineProperties","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","o2","p2","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_slicedToArray","_arrayWithHoles","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","minLen","n","arr2","_toPrimitive","input","hint","prim","toPrimitive","_construct","Parent","Class","Parent2","Class2","Function","_isNativeFunction","_wrapNativeSuper","Map","set","Wrapper","_superPropBase","property","_get","receiver","base","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","step","_ERR_CODE","Buffer","Buffer2","buf","maxHole","buffers2","bufLen","lastEnd","reduce","nextStart","nextEnd","prevStart","prevEnd","behind","remaining","totalLength","isBrowser","ERR","MANIFEST","NETWORK","NETWORK_TIMEOUT","NETWORK_FORBIDDEN","NETWORK_NOTFOUND","NETWROK_RANGE_NOT_SATISFIABLE","DEMUX","REMUX","MEDIA","DRM","OTHER","RUNTIME","SUB_TYPES","FLV","HLS","MP4","FMP4","MSE_ADD_SB","MSE_APPEND_BUFFER","MSE_OTHER","MSE_FULL","MSE_CHANGE_TYPE","OPTION","DASH","LICENSE","CUSTOM_LICENSE","MSE_HIJACK","EME_HIJACK","SIDX","NO_CANPLAY_ERROR","BUFFERBREAK_ERROR","WAITING_TIMEOUT_ERROR","MEDIA_ERR_CODEC_NOT_SUPPORTED","MEDIA_ERR_URL_EMPTY","ERR_CODE","StreamingError","_Error","StreamingError2","_super","subType","origin","_this","_error$response","isTimeout","httpCode","LogCacheLevel","LOG_MAX_SIZE","SIMPLE_TYPE","Logger","Logger2","_prefix","logCacheLevel","logMaxSize","logSize","logTextArray","_console","_key","logCache","DEBUG","_console2","_len2","_key2","LOG","_console3","_len3","_key3","WARN","_console4","_len4","_key4","_len5","logText","_key5","finLogText","logable","delLog","_console5","group","table","groupEnd","toLocaleString","reduceDepth","objType","maxDepth","depth","includes","createPublicPromise","rej","promise","used","SafeJSON","getMediaSource","preferMMS","ManagedMediaSource","isMMS","mediaSource","getTimeRanges","ranges","TimeRanges","OP_NAME","APPEND","REMOVE","UPDATE_DURATION","MSE","MSE2","_this2","queue","_queue","op","opName","_this2$_sourceBuffer$","_op$context","costtime","_opst","_sourceBuffer","_startQueue","_config","bindMedia","openLog","_this$mediaSource","_this3","_url","_this$mediaSource2","streaming","_mseFullFlag","VIDEO","_this4","isReduceDuration","bufferEnd","_enqueueBlockingOp","_this5","_openPromise","isOpened","ms","onOpen","onOpen2","_st","_bindMedia","_callee","MediaSource2","useMMS","_this6","_context","unbindMedia","_onStartStreaming","_onEndStreaming","disableRemotePlayback","_unbindMedia","_callee2","hasMetadata","mseOpen","_this7","_context2","_x$promise","_x$promise$resolve","endOfStream","removeSourceBuffer","sb","addSourceBuffer","_onSBUpdateEnd","_onSBUpdateError","_this8","changeType","_enqueueOp","createSource","buffer","_this9","byteLength","_this9$_sourceBuffer$","appendBuffer","endTime","_this10","isInsertHead","_this11","_this12","allClear","_this$_queue$type","initQueue","isinit","_this13","setLiveSeekableRange","_this14","_enqueueBlockingOp2","_callee3","types","waiters","_this15","_context3","prom","updating","_x2","_x3","_x4","isFull","timestampOffset","_this16","_this17","abort","EVENT","TTFB","LOAD_RESPONSE_HEADERS","LOAD_COMPLETE","LOAD_RETRY","SOURCEBUFFER_CREATED","MEDIASOURCE_OPENED","ANALYZE_DURATION_EXCEEDED","APPEND_BUFFER","REMOVE_BUFFER","BUFFEREOS","KEYFRAME","CHASEFRAME","METADATA_PARSED","SEI","SEI_IN_TIME","FLV_SCRIPT_DATA","LOWDECODE","SWITCH_URL_SUCCESS","SWITCH_URL_FAILED","SPEED","HLS_MANIFEST_LOADED","HLS_LEVEL_LOADED","DEMUXED_TRACK","STREAM_EXCEPTION","LARGE_AV_FIRST_FRAME_GAP_DETECT","LARGE_VIDEO_DTS_GAP_DETECT","LARGE_AUDIO_DTS_GAP_DETECT","AUDIO_GAP_DETECT","AUDIO_OVERLAP_DETECT","MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT","isMediaPlaying","creationTime","webkitDroppedFrameCount","webkitDecodedFrameCount","concatUint8Array","prevLen","sleep","SeiService","SeiService2","Set","sei","_seiSet","toThrow","GapService","GapService2","maxJumpDistance","seekThreshold","_prevCurrentTime","Stats2","timescale","_timescale","encodeType","audioCodec","videoCodec","fps","samplerate","channelCount","gop","encode","_ref","_data$onMetaData","onMetaData","framerate","track","codec","fpsNum","fpsDen","sampleRate","responseUrl","samples","sample","_startGopId","gopId","_bitsAccumulateDuration","_bitsAccumulateSize","units","MediaStatsService","MediaStatsService2","core","_core","_this$_core","_this$_core2","_this$_core2$speedInf","_this$_core3","_this$_core3$speedInf","_this$_core4","_this$_core4$speedInf","_this$_core5","_this$_core5$speedInf","_this$_core6","_this$_core6$bufferIn","_ref2","_ref2$currentTime","_ref2$decodeFps","decodeFps","downloadSpeed","speedInfo","totalReceivedByte","totalSize","totalReceivedCost","totalCost","bufferInfo","_ref3","videoTrack","updateBitrate","setFpsFromScriptData","setVideoMeta","setAudioMeta","setDomain","_samples","TrackType","AUDIO","METADATA","VideoCodecType","AV1","AVC","HEVC","AudioCodecType","AAC","G711PCMA","G711PCMU","OPUS","WarningType","LARGE_AV_SHIFT","LARGE_VIDEO_GAP","LARGE_VIDEO_GAP_BETWEEN_CHUNK","LARGE_AUDIO_GAP","AUDIO_FILLED","AUDIO_DROPPED","AudioSample","AudioSample2","pts","sampleOffset","dependsOn","isNonSyncSample","originPts","dts","isFirefox","AAC2","FREQ","skip","frames","samplingFrequencyIndex","protectionSkipBytes","frameLength","objectType","_AAC$_getConfig","_getConfig","frameIndex","getFrameDuration","subarray","originCodec","_AAC$_getConfig2","samplingIndex","originObjectType","extensionSamplingIndex","LARGE_AV_FIRST_FRAME_GAP","AUDIO_GAP_OVERLAP_THRESHOLD_COUNT","MAX_SILENT_FRAME_DURATION","AUDIO_EXCETION_LOG_EMIT_DURATION","MAX_VIDEO_FRAME_DURATION","MAX_DTS_DELTA_WITH_NEXT_CHUNK","LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD","TsFixer","TsFixer2","audioTrack","metadataTrack","fixerConfig","_baseDts","_baseVideoDts","_baseAudioDts","_baseDtsInited","_audioNextPts","_videoNextDts","_audioTimestampBreak","_videoTimestampBreak","_lastAudioExceptionGapDot","_lastAudioExceptionOverlapDot","_lastAudioExceptionLargeGapDot","_needForceFixLargeGap","forceFixLargeGap","_largeGapThreshold","largeGapThreshold","discontinuity","contiguous","vSamples","aSamples","firstVideoSample","firstAudioSample","vaDelta","_calculateBaseDts","vDeltaToNextDts","aDeltaToNextDts","_resetBaseDtsWhenStreamBreaked","_fixAudio","_fixVideo","exist","seiSamples","baseMediaDecodeTime","samp0","_samples$","refSampleDurationInt","sampleDuration","firstSample","nextSample","vDelta","warnings","nextDts","firstSampleDts","nextSampleDts","i2","_samples$i","prevDts","first","_dts","_nextSample","expectFragEnd","originDts","refSampleDuration","_doFixAudioInternal","audioSamps","videoSamps","audioBasePts","videoBaseDts","baseDts","delta","largeGap","isFinite","calc","_audioLastSample","_videoLastSample","nextPts","silentFrame","getSilentFrame","count","silentSample","MAX_SIZE","pow","readBig16","readBig24","readBig32","readBig64","getAvcCodec","codecs","combineToFloat","integer","decimal","toDegree","matrix","scaled0","hypot","scaled1","atan2","PI","NALu","NALu2","dataLen","isHevc","uint","emulationPreventionBytesPositions","newLength","newData","sourceIndex","ExpGolomb","ExpGolomb2","_bytesAvailable","_loadWord","_bitsAvailable","availableBytes","workingBytes","_word","DataView","getUint32","skipBytes","bits","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","deltaScale","lastScale","nextScale","readEG","AVC2","spsParsed","spsSize","nalUnitSize","spsArr","ppsArr","spsCount","sps","parseSPS","removeEPB","ppsSize","ppsCount","eg","readUByte","profileIdc","profileCompatibility","levelIdc","skipUEG","chromaFormat","chromaFormatIdc","readBool","scalingListCount","skipScalingList","picOrderCntType","numRefFramesInPicOrderCntCycle","_i2","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","sarRatio","fixedFrame","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","aspectRatioIdc","numUnitsInTick","timeScale","HEVC2","hvcC","vpsParsed","nalUnitType","numNalus","nalSize","vpsArr","numOfArrays","vps","parseVPS","vpsMaxSubLayersMinus1","numTemporalLayers","_parseProfileTierLevel","spsMaxSubLayersMinus1","temporalIdNested","separateColourPlaneFlag","confWinLeftOffset","confWinRightOffset","confWinTopOffset","confWinBottomOffset","conformanceWindowFlag","bitDepthLumaMinus8","bitDepthChromaMinus8","subWidthC","subHeightC","maxSubLayersMinus1","generalTierFlag","generalProfileSpace","generalProfileIdc","generalProfileCompatibilityFlags","generalConstraintIndicatorFlags","generalLevelIdc","subLayerProfilePresentFlag","subLayerLevelPresentFlag","bitsAvailable","VideoTrack","VideoTrack2","sequenceNumber","present","pps","isVideoEncryption","AudioTrack","AudioTrack2","isAudioEncryption","VideoSample","VideoSample2","keyframe","Sample","Sample2","SeiSample","_Sample2","SeiSample2","_super2","MetadataTrack","MetadataTrack2","flvScriptSamples","TsDemuxer","TsDemuxer2","_fixer","_pmtId","_remainingPacketData","_videoPesData","_audioPesData","remainingLength","videoPid","audioPid","payloadUnitStartIndicator","adaptationFiledControl","tableEnd","programInfoLength","esPid","_parseVideoData","_parseAudioData","formatTimescale","fix","demux","pes","_parsePES","parseAnnexB","_createVideoSample","setToKeyframe","_gopId","parseSEI","spsInfo","ffByteFound","_pushVideoSample","lastSample","_parseAacData","_track$samples","parseADTS","sampleRateIndex","headerDataLen","startPrefix","pesLen","ptsDtsFlags","ByteReader","ByteReader2","dv","byteOffset","byteNum","getFloat32","getFloat64","getInt8","getInt16","getInt32","getUint8","getUint16","read","setUint8","setUint16","setUint32","uint8","unreadLength","fromCharCode","v","concatUint8s","BitReader","BitReader2","byte","MP4Parser","MP4Parser2","headerSize","subData","findBox","box","parseBox","trackId","baseDataOffsetPresent","flags","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","baseDataOffset","sampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","reference_ID","earliest_presentation_time","first_offset","references","ref","tmp32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","mvhd","trak","pssh","nextTrackId","tkhd","mdia","fromUint8","int32","caculatedMatrix","readInt","rotation","mdhd","hdlr","minf","handlerType","vmhd","smhd","stbl","graphicsmode","opcolor","balance","_ret$stsd$entries$","_ret$stsd$entries$$si","_ret$stsd$entries$$si2","stsd","stts","ctts","stsc","stsz","stco","co64","default_IV_size","sinf","schi","tenc","stss","senc","iv","sampleCount","InitializationVector","subsamples","subsampleCount","_j","subsample","BytesOfClearData","BytesOfProtectedData","keyIds","systemId","toHex","numKeyIds","keyId","dataSize","data_size","kid","system_id","entryCount","av01","avc1","hvc1","mp4a","alaw","ret2","data2","start2","samplesize","esds","horizresolution","vertresolution","avcC","pasp","default_IsEncrypted","default_KID","frma","data_format","colorType","readString","colorPrimaries","transferCharacteristics","matrixCoefficients","fullRangeFlag","iccProfile","readToUint8","bodyStart","parseVisualSampleEntry","bodyData","av1C","colr","bitdepth","bit","fromByte","marker","seqProfile","seqLevelIdx0","seqTier0","highBitdepth","twelveBit","monochrome","chromaSubsamplingX","chromaSubsamplingY","chromaSamplePosition","reserved","initialPresentationDelayPresent","initialPresentationDelayMinusOne","configOBUs","configurationVersion","AVCProfileIndication","AVCLevelIndication","lengthSizeMinusOne","spsLength","ppsLength","_i3","_size","tmp","generalProfileCompatibility","avgFrameRate","_ret$vps","nalus","_ret$sps","_ret$pps","hSpacing","vSpacing","parseAudioSampleEntry","byteRead","_i4","firstChunk","samplesPerChunk","sampleSize","entrySizes","mfhd","traf","tfhd","tfdt","trun","dataOffset","firstSampleFlags","cts","isLeading","isDependedOn","hasRedundancy","paddingValue","degradationPriority","moov","_e$esds","_e$esds2","tracks","vTrack","_t$mdia","_t$mdia$hdlr","aTrack","_t$mdia2","_t$mdia2$hdlr","_vTrack$tkhd","_vTrack$mdia","_vTrack$mdia$minf","_vTrack$mdia$minf$stb","_vTrack$mdia2","_vTrack$mdia2$minf","_vTrack$mdia2$minf$st","_vTrackId","tkhdDuration","mvhdDurtion","mvhdTimecale","_e1$sinf","_e1$sinf$schi","_e1$sinf2","_e1$sinf2$schi","_e1$sinf3","_e1$sinf3$schi","_e1$sinf4","_e1$sinf4$frma","e1","videoSenc","useEME","kidValue","encv","_aTrack$tkhd","_e$esds3","_e$esds4","_aTrack$mdia","_aTrack$mdia$minf","_aTrack$mdia$minf$stb","_aTrack$mdia2","_aTrack$mdia2$minf","_aTrack$mdia2$minf$st","_aTrackId","_e$sinf","_e$sinf$frma","_e$sinf2","_e$sinf2$schi","_e$sinf3","_e$sinf3$schi","_e$sinf4","_e$sinf4$schi","getRateIndexByRate","audioSenc","enca","_videoTrack$encv","_audioTrack$enca","vkid","akid","videoSampleCount","_audioTrack$samples","audioSampleCount","segmentDuration","moof","defaultSize","defaultDuration","evaluateDefaultDuration","_t$mdia3","_t$mdia3$hdlr","_t$mdia4","_t$mdia4$hdlr","videoSamples","audioSamples","_vTrack$mdia3","_vTrack$mdia3$minf","videoStbl","getSamples","_aTrack$mdia3","_aTrack$mdia3$minf","_aTrack$mdia$mdhd","audioStbl","_stts","_stsc","_stsz","_stco","keyframeMap","cttsArr","cttsEntries","stscEntries","stcoEntries","stszEntrySizes","stssEntries","chunkIndex","chunkRunIndex","offsetInChunk","lastSampleInChunk","lastChunkInRun","dataReferenceIndex","frameCount","isFullBox","Decryptor","Decryptor2","crypto","msCrypto","subtle","webkitSubtle","externalDecryptor","_this$externalDecrypt","_decryptSegment","_decryptSegment2","seg","_decryptData","keyIv","_decryptData2","aesKey","decrypt","importKey","t0","t1","_x5","_x6","_x7","FMP4Demuxer","FMP4Demuxer2","partData","partDataStart","videoExist","audioExist","isAV01","dataStart","__lastRemainData","lastRemainDataEnd","__lastRemainDataStart","continuous","noDuplicateData","__nextMoofStart","moovBox","dataEnd","moovToTrack","moofBoxes","moofBox","__loadedMoofWraps","nextMoofStart","_iterator","_loop","moofWrap","moofStart","moofToSamples","videoBaseMediaDecodeTime","audioBaseMediaDecodeTime","xStart","sampleData","videoData","audioData","baseOffset","_moovBox","_moofBox","_baseOffset","probe","Concat","ResultConstructor","arrays","UINT32_MAX","MP42","FTYPHEV1","FTYPAVC1","ftyp","content","mvex","mvhd2","trak2","tkhd2","mdia2","mdhd2","hdlr2","HDLR_TYPES","minf2","VMHD","SMHD","DINF","extBox","stbl2","STTS","STSC","STSZ","STCO","opus","avc1hev1","stsd2","_concat$concat","avcc","btrt","schm","typ","boxes","fiel","_concat$concat2","hvcC2","ArrayBuffer","pcf","cif","write","_ref4","esds2","opusAudioDescription","opusSpecificConfig","dOps","Opus","mvex2","trex","trex2","moof2","mfhd2","sencLength","videoSencLength","saiz","saio","trun1","traf2","_sbgp","sbgp","_saiz","_saio","_senc","_trun2","_traf","_trun","_trun3","_sbgp2","_saiz2","_saio2","_senc2","_trun4","_traf2","sdtp","extension","writeUint32","samplesLength","writeUint16","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","sampleLen","_samples$i$flag","_samples$i$cts","trackMP4","mdiaMP4","minfMP4","stblMP4","_ref5","_ref6","sampleDescIndex","samplesSizes","offsets","keyframeIndexes","_ref7","styp","durationCount","earliestTime","mdatSize","sidx","mdat2","mdat","dinf","dref","StblTable","FMP4Remuxer","FMP4Remuxer2","browserVersions","forceFirstIDR","videoInitSegment","audioInitSegment","initSegment","videoSegment","audioSegment","createInit","hasVideo","hasAudio","initMerge","hasSample","_remuxVideo","_remuxAudio","mdata","_sample","mdatView","_offset2","_sample2","u","_offset","STREAM_PARSED","NO_AUDIO_TRACK","SUBTITLE_SEGMENTS","SUBTITLE_PLAYLIST","SEI_PAYLOAD_TIME","APPEND_COST","Transmuxer","Transmuxer2","hls","isMP4","needRemux","_demuxer","_isMP4","_remuxer","videoChunk","audioChunk","needInit","demuxer","demuxAndFix","vParsed","firstDts","firstPts","samplesDuration","aParsed","newId","_initSegmentId","_fireEvents","mseLowLatency","totalDuration","_this$_remuxer$remux","remux","logCC","meta","_excluded","_excluded2","BufferService","BufferService2","softDecode","_softVideo","_mse","decryptor","_decryptor","_this$_transmuxer","_this$_transmuxer$_de","_this$_transmuxer$_de2","_transmuxer","_this$_mse","_this$_mse2","_this$_mse3","hasOpTasks","_this$_mse4","_updateDuration","_sourceCreated","chunk","_directAppend","mix","_createMseSource","_appendBuffer","segment","afterAppend","_this$_transmuxer$tra","_this$_transmuxer$tra2","isFirstAppend","videoRest","audioRest","_this2$hls","_this2$hls2","_needInitSegment","transmux","setTrackExist","_handleCodecChange","task","_x8","_removeBuffer","_args3","clearBuffer","removeEnd","removeBuffer","_evictBuffer","_callee4","bufferBehind","_context4","evictBuffer","_x9","_clearAllBuffer","_callee5","_context5","clearAllBuffer","_callee6","reuseMse","_args6","_context6","_endOfStream","_callee7","_context7","_setLiveSeekableRange","_callee8","_context8","_x10","_x11","_detachMedia","_callee9","_context9","detachMedia","_destroy","_callee10","_this$_decryptor","_context10","tasks","codecList","sourceBuffer","getSourceBuffer","_this$_mse5","getConfig","cfg","maxPlaylistSize","retryCount","retryDelay","pollRetryCount","loadTimeout","manifestLoadTimeout","preloadTime","useLowLatency","targetLatency","maxLatency","allowedStreamTrackChange","seiInTime","manifestList","minSegmentsStartPlay","preferMMSStreaming","LoaderType","FETCH","XHR","ResponseType","ARRAY_BUFFER","NetError","NetError2","isPlainObject","isDate","getRangeValue","setUrlParams","hashIndex","createResponse","contentLength","age","firstByteTime","priOptions","calculateSpeed","byteLen","milliSecond","CACHESIZE","FetchLoader","_EventEmitter","FetchLoader2","_this$_abortControlle","onProgress","onTimeout","onCancel","transformResponse","credentials","cache","redirect","referrer","referrerPolicy","onProcessMinLen","_aborted","_onProcessMinLen","_onCancel","_abortController","AbortController","_running","_range","_vid","_priOptions","signal","_timeoutTimer","rangeValue","Headers","fetch","_response","ok","json","_loadChunk","arrayBuffer","_cancel","_reader","st","getReader","_writeIdx","pump","_this3$_range","startRange","startByte","curLen","retData","temp","_receivedLength","loaderType","onRetryError","transformRequest","transformError","integrity","XhrLoader","XhrLoader2","req","_onProgress","_headers","_withCredentials","_body","_method","_timeout","_runing","_responseType","_firstRtt","_onTimeout","_request","_loadCompleteResolve","_loadCompleteReject","_startLoad","chunkSize","_currentChunkSizeKB","_internalOpen","_startTime","_xhr","withCredentials","_onLoad","_onReadyStatechange","errorEvent","_errorEvent$currentTa","_errorEvent$currentTa2","_errorEvent$currentTa3","currentTarget","statusText","ontimeout","_this$_range","byteStart","_this$_range2","responseURL","_getHeaders","_transformResponse","headerLines","getAllResponseHeaders","header","Task","Task2","alive","_loaderType","_loader","_retryCount","_retryTimer","_canceled","_retryCheckFunc","retryCheckFunc","_this$_config","rest","isRetry","running","NetLoader","NetLoader2","_currentTask","_processTask","cancels","_alive","finally","_this3$_currentTask","_this3$_alive","MasterPlaylist","MasterPlaylist2","MediaType","Audio","Video","SubTitle","ClosedCaptions","KeySystems","CLEAR_KEY","FAIRPLAY","WIDEVINE","PLAYREADY","flatArray","MediaStream","MediaStream2","AudioStream","_MediaStream","AudioStream2","SubTitleStream","_MediaStream3","SubTitleStream2","_super3","MasterStream","MasterStream2","MediaPlaylist","MediaPlaylist2","MediaSegment","MediaSegment2","parentUrl","prevSegment","byteRange","bytes","MediaSegmentKey","MediaSegmentKey2","segKey","keyFormat","keyFormatVersions","sn","setIVFromSN","isKeyFormatValid","isMethodValid","isSegmentEncrypted","isValidKeySystem","REGEXP_TAG","REGEXP_ATTR","REGEXP_ABSOLUTE_URL","REGEXP_URL_PAIR","getLines","parseTag","parseAttr","getAbsoluteUrl","pairs","CODECS_REGEXP","getCodecs","re","isValidDaterange","dateRangeWithSameId","_badValueForSameId","DURATION","_endDate","_startDate","cue","enumeratedStringList","CUE","post","ID","END_ON_NEXT","CLASS","attrValue","dict","parseMasterPlaylist","lines","master","audioStreams","subtitleStreams","_tag","stream","TYPE","URI","autoSelect","AUTOSELECT","NAME","LANGUAGE","CHANNELS","channels","_stream","_attr","BANDWIDTH","RESOLUTION","_attr$RESOLUTION$spli","_attr$RESOLUTION$spli2","CODECS","textCodec","audioGroup","subtitleGroup","SUBTITLES","streams","stream2","parseMediaPlaylist","curSegment","curInitSegment","curKey","curSN","curCC","endOfList","partSegmentIndex","targetDuration","lowLatency","partTargetDuration","canBlockReload","partHoldBack","canSkipUntil","canSkipDateRanges","startSN","startCC","setByteRange","_attr2","independent","cc","partIndex","clone","dataTime","_data$split","_data$split2","_attr3","METHOD","KEYFORMAT","KEYFORMATVERSIONS","IV","_attr4","BYTERANGE","isInitSegment","_attr5","skippedSegments","MAX_SAFE_INTEGER","_attr6","dateRanges","endDate","END_DATE","lastSegment","isLast","endSN","endPartIndex","live","endCC","M3U8Parser","M3U8Parser2","isMediaPlaylist","ManifestLoader","ManifestLoader2","elapsed","retryTime","_useLowLatency","_this$hls$config","fetchOptions","_onLoaderRetry","_audioLoader","_subtitleLoader","_load","audioUrl","subtitleUrl","toLoad","videoText","audioText","subtitleText","videoResUrl","audioResUrl","subtitleResUrl","_yield$Promise$all","_yield$Promise$all2","subtitle","_audio$response","_subtitle$response","_audio$response2","onPreM3U8Parse","playlist","audioPlaylist","subtitlePlaylist","_playlist","_emitOnLoaded","isMaster","_playlist2","cb","errorCb","clamp","Stream","Stream2","_setLLPlaybackPoint","_this$segments$","_this$lastSegment","lastSeg","_this$currentSubtitle","currentSubtitleStream","currentAudioStream","_clearSegments","snDiff","_updateSegments","newSegs","segs","toSwitch","maxStartPoint","usefulSegs","sliceStart","segObj","_endSeg$sn","endSeg","hasNew","toAppend","endTimeBeforeAppend","lastCC","Playlist","Playlist2","_this$currentStream","currentStream","_this$currentStream2","_this$currentSegments","currentSegments","_segmentPointer","_this$currentSegments2","_this$currentStream3","_this$currentStream4","currentSubtitleEndSn","_this$currentStream5","liveEdge","_this$currentStream6","_this$currentSegments3","_this$currentSegments4","_this$currentStream7","_this$currentStream8","_this$currentStream9","getAudioSegment","_this$currentSegments5","dvrWindow","_this$currentSegments6","_this$currentSegments7","setNextSegmentByIndex","newSubtitleSegs","updateSubtitle","_this$currentSegments8","_this$currentStream10","switchSubtitle","clearOldSegment","nbSb","findSegmentIndexByTime","getSegmentByIndex","updateSegmentsRanges","SKIP_SMALL_CHUNK","MAX_CHUNK_SAVE_SIZE","MAX_SEGMENT_SAVE_SIZE","LONGTIME_NO_RECEIVE","BandwidthService","BandwidthService2","opts","_opts","totalByte","_speeds","_this$_opts","_this$_opts2","skipChunkSize","_totalSize","_totalCost","_chunkSpeed","_chunkCache","chunkCountForSpeed","_this$_opts3","cost","longtimeNoReceived","SegmentLoader","SegmentLoader2","_bandwidthService","addRecord","_mapCache","_keyCache","_segmentLoader","_audioSegmentLoader","_keyLoader","getLatestSpeed","getAvgSpeed","audioSeg","loadInit","loadAudioInit","loadVideoSegment","loadAudioSegment","_loadSegment","_loadSegment2","segLoader","_seg$key","mapKey","mapKeyIv","_seg$initSegment$key","mapUrl","_keyUrl","keyUrl","Hls","Hls2","_cfg","_this$_playlist","nextSegment","_assertThisInitialize","minFrameDuration","maxBufferThroughout","bInfo","bufferThroughout","_segmentProcessing","_tryEos","_bufferService","msStreaming","_urlSwitching","_prevSegSn","_loadSegmentDirect","_disconnectTimer","_reloadOnPlay","disconnectTime","_clear","seekRange","newSeekTime","curSeg","segIndex","_onCheckQuotaExceeded","currentSegment","_this$_seiService","latency","_seiService","throw","_checkStreamTrackChange","segLoaderError","_isProcessQuotaExceeded","bufferMaxHoleTolerance","fatal","_emitError","_gapService","do","_manifestLoader","_onLoadeddata","_onPause","hasSubtitle","_this$_bufferService","targetSeg","_this$media","_args4","clearSwitchStatus","_switchUrlOpts","_loadData","_loadData2","manifest","_this$_switchUrlOpts","_this$_switchUrlOpts3","_this$_switchUrlOpts4","_this$_switchUrlOpts2","switchTimePoint","segIdx","nextSeg","bufferClearStartPoint","_this$_switchUrlOpts5","_loadM3U8","setNextSegmentBySN","_prevSegCc","_getSeamlessSwitchPoint","nbSegments","_pollM3U8","_replay","isPlayEmit","_switchURL","defaultOpts","_options","appended","_args7","t2","seamlessSwitch","_switchStream","force","curStream","curId","_args8","_refreshM3U8","switchStream","_switchAudioStream","audioStream","_args9","switchAudioStream","_switchSubtitleStream","stopPoll","switchSubtitleStream","_callee11","_context11","_callee12","_this$_seiService2","_context12","_loadM3U","_callee13","_this$config$manifest","_this$config$manifest2","_this$_playlist$curre","_context13","parseText","upsertPlaylist","_stream$currentAudioS","_stream$currentSubtit","mediaPlaylist","pollInterval","_this$_playlist$lastS","isEmpty","poll","p1","p3","switchToNoEmpty","hadSegmentLoaded","_loadSegmentDirect2","_callee14","loadOnce","cachedError","_this$_playlist$curre2","sameStream","_context14","_reqAndBufferSegment","feedbackLiveEdge","moveSegmentPointer","_reqAndBufferSegment2","_callee15","_this$_bufferService2","responses","before","segStart","_context15","decryptBuffer","_onCheckQuotaExceeded2","_callee16","inBuffered","mediaTime","_context16","changedSeg","checkSegmentTrackChange","_clear2","_callee17","_context17","_reset2","_callee18","_this$_seiService3","_args18","_context18","_tickTimer","_tick","_tickInterval","_error$originError","_this$media2","_this$media3","_this$_seiService4","nextLoadPoint","_this$_stats","latestKbps","_this$_bufferService3","_this$_bufferService4","_this$_playlist2","eosAllowed","isBuffered","msIsOpened","msHasOpTasks","WebAssembly","Logger$1","localStorage","getItem","enableLogger","disableLogger","PluginExtension","PluginExtension2","_this$_plugin","_this$_plugin$player","_this$_plugin2","_this$_plugin2$player","innerDegrade","degradeInfo","_degrade","originVideo","TAG","newVideo","degradeVideo","degrade","replaceChild","hlsPlugin","_init","setPlayMode","_onLowDecode","_this$_opts3$media","parseSwitchUrlArgs","HlsPlugin","_BasePlugin","HlsPlugin2","_this$hls","_this$hls2","_this$hls3","_this$player","_this$player$config","hlsOpts","__allowHlsEmptyUrl__","isMMSOnly","_this2$player$config","_this2$player$config$","keepStatusAfterSwitch","_keepPauseStatus","_this$player2","onSwitchUrl","_this2$hls$media","pluginExtension","forceDegradeToVideo","_this2$pluginExtensio","_onSwitchSubtitle","_transError","_transCoreEvent","_this$pluginExtension","_emitSeiPaylodTime","seiJson","components","Title","Card","Pagination","relatedMap","moreRelatedMap","pageSize","mapState","ads","common","menus","nv","$route","query","initData","mapActions","toggleLoading","getVideos","moment","getVideoInfo","api","initPlayer","getMenuInfo","classifyInfo","rows","getAds","$router","videoCover","dispose","$nextTick","beforeUnmount"],"sourceRoot":""}