{"version":3,"file":"js/543.da45d4e0.js","mappings":"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AO8S,EAAK1U,IAAI1yG,MAAMonH,EAAM,CAACA,EAAKxxB,MAAMqnB,KAAMmK,EAAKhT,KAAKgJ,EAAO,GAAGgB,aAAehB,EAAO,GAAG58F,SAAU48F,EAAO,GAAGiB,cAAgBjB,EAAO,GAAGxjB,YAAY/xF,OAAOi/E,GAAmBs2B,EAAOx8G,KAAI,SAAS+6B,GACjM,OAAOyrF,EAAK/S,KAAK14E,EACnB,KAAK,CAACyrF,EAAKK,KAAKrK,KAEpB,GACC,CACDpzG,IAAK,OACLmI,MAAO,SAAcqO,GACnB,IAAIo5E,EAAY15F,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,IAC7EwnH,EAAQN,EAAK1U,IAAI0U,EAAKxxB,MAAMwe,KAAM,IAAItwG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA81F,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAp5E,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,OAEF,OAAOknG,CACT,GACC,CACD19G,IAAK,OACLmI,MAAO,SAAcuoF,GACnB,IAAIitB,EAAQP,EAAK1U,IAAI0U,EAAKxxB,MAAMye,KAAM+S,EAAK5S,KAAK9Z,EAAM5sF,GAAI4sF,EAAMyjB,cAAgB,EAAGzjB,EAAM7/E,MAAO6/E,EAAM5/E,QAASssG,EAAK3S,KAAK/Z,IACzH,OAAOitB,CACT,GACC,CACD39G,IAAK,OACLmI,MAAO,SAAcrE,EAAI0S,GACvB,IAAI3F,EAAQ3a,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EACzE4a,EAAS5a,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EAC1E0nH,EAAQR,EAAK1U,IAAI0U,EAAKxxB,MAAM4e,KAAM,IAAI1wG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAgK,GAAM,GAAK,IACXA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA0S,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA3F,GAAS,EAAI,IACL,IAARA,EACA,EACA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,KAEF,OAAO8sG,CACT,GACC,CACD59G,IAAK,OACLmI,MAAO,SAAcuoF,GACnB,IAAImtB,EAAQT,EAAK1U,IAAI0U,EAAKxxB,MAAM6e,KAAM2S,EAAKrS,KAAKra,EAAMl6E,SAAUk6E,EAAMd,WAAYwtB,EAAKpS,KAAKta,EAAM/6F,MAAOynH,EAAKnS,KAAKva,IACnH,OAAOmtB,CACT,GACC,CACD79G,IAAK,OACLmI,MAAO,SAAcqO,GACnB,IAAIo5E,EAAY15F,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,IAC7E4nH,EAAQV,EAAK1U,IAAI0U,EAAKxxB,MAAMmf,KAAM,IAAIjxG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA81F,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAp5E,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,GACA,IACA,EACA,KAEF,OAAOsnG,CACT,GACC,CACD99G,IAAK,OACLmI,MAAO,SAAcxS,GACnB,IAAIooH,EAAQX,EAAK1U,IAAI0U,EAAKxxB,MAAMof,KAAMoS,EAAKY,WAAWroH,IACtD,OAAOooH,CACT,GACC,CACD/9G,IAAK,OACLmI,MAAO,SAAcuoF,GACnB,IAAIutB,EAAQb,EAAK1U,IAAI0U,EAAKxxB,MAAMqf,KAAMva,EAAM/6F,OAAS89F,GAAUxL,MAAQm1B,EAAKc,KAAOd,EAAKe,KAAMf,EAAKgB,KAAMhB,EAAK/R,KAAK3a,IACnH,OAAOutB,CACT,GACC,CACDj+G,IAAK,OACLmI,MAAO,SAAcuoF,GACnB,IAAI2tB,EAAS,GACT3tB,GAASA,EAAMz0E,KACjBy0E,EAAMz0E,IAAIswF,MAAQ8R,EAAOphH,KAAKmgH,EAAK7Q,KAAK7b,EAAMz0E,IAAIswF,KAAK76E,UAEzD,IAAI4sF,EAAQlB,EAAK1U,IAAI0U,EAAKxxB,MAAMyf,KAAM+R,EAAKxR,KAAKlb,GAAQ0sB,EAAKmB,KAAMF,EAAO,GAAIjB,EAAKoB,KAAMpB,EAAKqB,KAAMrB,EAAKsB,MACzG,OAAOJ,CACT,GACC,CACDt+G,IAAK,OACLmI,MAAO,SAAcuoF,GACnB,IAAI8sB,EAGAA,EAFe,UAAf9sB,EAAM/6F,KACJ+6F,EAAMskB,QAAUtkB,EAAM6lB,KACd6G,EAAK7G,KAAK7lB,GAEhBA,EAAMz8D,YAAc+/D,GAAeI,KAC3BgpB,EAAKuB,KAAKjuB,GAEV0sB,EAAKrP,KAAKrd,GAGfA,EAAMskB,QAAUtkB,EAAMwkB,KACrBkI,EAAKlI,KAAKxkB,GACXA,EAAM+e,KACL2N,EAAKxP,KAAKld,GAEV0sB,EAAKwB,SAASluB,GAE1B,IAAImuB,EAAQzB,EAAK1U,IAAI0U,EAAKxxB,MAAMggB,KAAM,IAAI9xG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACE0jH,GACJ,OAAOqB,CACT,GACC,CACD7+G,IAAK,OACLmI,MAAO,SAAc9Q,GACnB,IAAI84F,EAAe94F,EAAKk/G,KAAKpmB,aACzBW,EAAaz5F,EAAKk/G,KAAKzlB,WACvB0sB,EAAU,IAAI1jH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAq2F,EACA,EACA,GACA,EACA,EACA,EACA,EACAW,GAAc,EAAI,IACL,IAAbA,EACA,EACA,IAEEud,EAAO+O,EAAK/O,KAAKh3G,EAAKyP,QACtBslG,EAAOgR,EAAKhR,KAAK/0G,EAAKk/G,MAC1B,OAAO6G,EAAK1U,IAAI0U,EAAKxxB,MAAM2qB,KAAMiH,EAASnP,EAAMjC,EAClD,GACC,CACDpsG,IAAK,OACLmI,MAAO,SAAcuoF,GACnB,IAAIouB,EAAgBxuB,EAChByO,EAAMrO,EAAMqO,IAAIrmG,OAAS,EAAIg4F,EAAMqO,IAAI,GAAK,GAC5CsE,EAAM3S,EAAM2S,IAAI3qG,OAAS,EAAIg4F,EAAM2S,IAAI,GAAK,GAC5CxyF,EAAQ6/E,EAAM7/E,MACdC,EAAS4/E,EAAM5/E,OACf6gG,EAAWjhB,EAAM2P,SAAS,GAC1BuR,EAAWlhB,EAAM2P,SAAS,GAC1Bmd,EAAU,IAAI1jH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA+W,GAAS,EAAI,IACL,IAARA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KAEEiuG,EAAO,IAAIjlH,YAAYglH,GAAkBxuB,EAAO,CAClD,EACAyO,EAAI,GACJA,EAAI,GACJA,EAAI,GACJ,IACA,IACAA,EAAIrmG,SAAW,EAAI,IACN,IAAbqmG,EAAIrmG,SACHmF,OAAO7H,MAAMs6F,EAAMxT,GAAmBiiB,IAAMlhG,OAAO,CAAC,EAAGwlG,EAAI3qG,SAAW,EAAI,IAAkB,IAAb2qG,EAAI3qG,UAAgBmF,OAAO7H,MAAM8oH,EAAgBhiC,GAAmBumB,KAClJ2b,EAAO,IAAIllH,WAAW,CAAC,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,EAAG,EAAG,GAAI,KAChEsyG,EAAOgR,EAAKhR,KAAK1b,EAAMwkB,MACvBzG,EAAO,IAAI30G,WAAW,CACxB63G,GAAY,GACZA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACAC,GAAY,GACZA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,IAEF,OAAOwL,EAAK1U,IAAI0U,EAAKxxB,MAAMspB,KAAMsI,EAASJ,EAAK1U,IAAI0U,EAAKxxB,MAAM4iB,KAAMuQ,GAAO3B,EAAK1U,IAAI0U,EAAKxxB,MAAMozB,KAAMA,GAAO5S,EAAMgR,EAAK1U,IAAI0U,EAAKxxB,MAAM6iB,KAAMA,GAC9I,GACC,CACDzuG,IAAK,OACLmI,MAAO,SAAc9Q,GACnB,IAAImmH,EAAU,IAAI1jH,WAAW,IACzBwyG,EAAO8Q,EAAK9Q,KAAKj1G,GACrB,OAAO+lH,EAAK1U,IAAI0U,EAAKxxB,MAAMygB,KAAMmR,EAASlR,EAC5C,GACC,CACDtsG,IAAK,OACLmI,MAAO,SAAc9Q,GACnB,IAAImmH,EAAU,IAAI1jH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EAC2B,IAA3BzC,EAAKq3G,oBACkB,IAAvBr3G,EAAK80G,iBACLtuG,OAAO48B,GAAMpjC,EAAKs3G,eACpB,OAAOyO,EAAK1U,IAAI0U,EAAKxxB,MAAM0gB,KAAMkR,EACnC,GACC,CACDx9G,IAAK,OACLmI,MAAO,SAAc9Q,GACnB,IAAImmH,EAAU,IAAI1jH,WAAW,IACzB80G,EAAO,IAAI90G,WAAW,CAACzC,EAAKw3G,YAAY70G,WAAW,GAAI3C,EAAKw3G,YAAY70G,WAAW,GAAI3C,EAAKw3G,YAAY70G,WAAW,GAAI3C,EAAKw3G,YAAY70G,WAAW,KACnJilH,EAAO,IAAInlH,WAAW,CACxB,EACA,EACA,EACA,EACA,GACA,IACA,IACA,GACA,EACA,EACA,EACA,IAEEuyG,EAAO+Q,EAAK/Q,KAAKh1G,GACrB,OAAO+lH,EAAK1U,IAAI0U,EAAKxxB,MAAMwgB,KAAMoR,EAASJ,EAAK1U,IAAI0U,EAAKxxB,MAAMgjB,KAAMA,GAAOwO,EAAK1U,IAAI0U,EAAKxxB,MAAMqzB,KAAMA,GAAO5S,EAC9G,GACC,CACDrsG,IAAK,OACLmI,MAAO,SAAcuoF,GACnB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMgiB,KAAM,IAAI9zG,WAAW,CAC9C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA42F,EAAM7/E,OAAS,EAAI,IACL,IAAd6/E,EAAM7/E,MACN6/E,EAAM5/E,QAAU,EAAI,IACL,IAAf4/E,EAAM5/E,OACN,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KACE4/E,EAAM+e,KAAM/e,EAAMgf,KACxB,GACC,CACD1vG,IAAK,WACLmI,MAAO,SAAkBuoF,GACvB,IAAIkM,EAASlM,EAAMz8D,YAAc2/D,GAAeG,KAC5CmrB,EAAMtiB,EAASwgB,EAAKxxB,MAAMkiB,KAAOsP,EAAKxxB,MAAMiiB,KAC5C/mG,EAAS81F,EAASwgB,EAAKrc,KAAKrQ,GAAS0sB,EAAK5O,KAAK9d,GAC/CyuB,EAAQ,CAAC,IAAIrlH,WAAW,CAC1B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA42F,EAAM7/E,OAAS,EAAI,IACL,IAAd6/E,EAAM7/E,MACN6/E,EAAM5/E,QAAU,EAAI,IACL,IAAf4/E,EAAM5/E,OACN,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KACEhK,GAMJ,OALI81F,EACFuiB,EAAMliH,KAAKmgH,EAAK1U,IAAI0U,EAAKxxB,MAAMwzB,KAAM,IAAItlH,WAAW,CAAC,EAAG,MAC/C42F,EAAM2P,UAAY3P,EAAM2P,SAAS3nG,OAAS,GACnDymH,EAAMliH,KAAKmgH,EAAK3O,KAAK/d,EAAM2P,WAEtB+c,EAAK1U,IAAI1yG,MAAMonH,EAAM,CAAC8B,GAAKrhH,OAAOshH,GAC3C,GACC,CACDn/G,IAAK,OACLmI,MAAO,SAAcuoF,GACnB,IAAI2uB,EAAiB/sB,EAGjB5zF,EAFAqgG,EAAM,GACNsE,EAAM,GAcV,OAZA3S,EAAMqO,IAAI58F,SAAQ,SAASgxC,GACzBz0C,EAAMy0C,EAAEw3C,WACRoU,EAAI9hG,KAAKyB,IAAQ,EAAI,KACrBqgG,EAAI9hG,KAAW,IAANyB,GACTqgG,EAAI9hG,KAAKjH,MAAM+oG,EAAKjiB,GAAmB3pC,GACzC,IACAu9C,EAAM2S,IAAIlhG,SAAQ,SAASs9B,GACzB/gC,EAAM+gC,EAAEkrD,WACR0Y,EAAIpmG,KAAKyB,IAAQ,EAAI,KACrB2kG,EAAIpmG,KAAW,IAANyB,GACT2kG,EAAIpmG,KAAKjH,MAAMqtG,EAAKvmB,GAAmBr9C,GACzC,IACO29E,EAAK1U,IAAI0U,EAAKxxB,MAAM4iB,KAAM,IAAI10G,YAAYulH,GAAmB/sB,EAAQ,CAC1E,EACAyM,EAAI,GACJA,EAAI,GACJA,EAAI,GACJ,IACA,IAAMrO,EAAMqO,IAAIrmG,SACfmF,OAAO7H,MAAMs8F,EAAOyM,GAAKlhG,OAAO,CAAC6yF,EAAM2S,IAAI3qG,UAAUmF,OAAO7H,MAAMqpH,EAAiBhc,IACxF,GACC,CACDrjG,IAAK,OACLmI,MAAO,SAAcuoF,GACnB,IAAI4uB,EAAQ5uB,EAAMqQ,KAClB,GAAIue,aAAiBC,aAAeD,aAAiBxlH,WACnD,OAAOwlH,EACT,IACIjoH,EADAiqG,EAAM5Q,EAAM4Q,IAAKvC,EAAMrO,EAAMqO,IAAKsE,EAAM3S,EAAM2S,IAElD,GAAIic,EAAO,CACT,IAAIE,EAAMF,EAAM3c,iCACZ8c,EAAMH,EAAM1c,gCACZvB,GAAeC,EAAI5oG,QAAU,IAAMqmG,EAAIrmG,QAAU,IAAM2qG,EAAI3qG,QAAU,GACzErB,EAAO,CACL,EACAioH,EAAM7c,qBAAuB,EAAI6c,EAAM9c,iBAAmB,EAAI8c,EAAM5c,kBACpE8c,IAAQ,GACRA,IAAQ,GACRA,IAAQ,EACRA,EACAC,EAAI,GACJA,EAAI,GACJA,EAAI,GACJA,EAAI,GACJA,EAAI,GACJA,EAAI,GACJH,EAAMzc,gBACN,IACA,EACA,IACwB,IAAxByc,EAAM3f,gBACqB,IAA3B2f,EAAMnd,mBACuB,IAA7Bmd,EAAMld,qBACN,EACA,EACAkd,EAAM7d,mBAAqB,EAAI6d,EAAM1d,kBAAoB,EAAI,EAC7DP,GAEF,IAAIqe,EAAQ,SAAgB/qG,GAC1B,IAAIg3C,EACJt0D,EAAK4F,KAAK0X,EAAEjc,QAAU,EAAGic,EAAEjc,SAC1BizD,EAAQt0D,GAAM4F,KAAKjH,MAAM21D,EAAOmxB,GAAmBnoE,GACtD,EACI2sF,EAAI5oG,SACNrB,EAAK4F,KAAK,IAAK,EAAGqkG,EAAI5oG,QACtB4oG,EAAIn/F,QAAQu9G,IAEV3gB,EAAIrmG,SACNrB,EAAK4F,KAAK,IAAK,EAAG8hG,EAAIrmG,QACtBqmG,EAAI58F,QAAQu9G,IAEVrc,EAAI3qG,SACNrB,EAAK4F,KAAK,IAAK,EAAGomG,EAAI3qG,QACtB2qG,EAAIlhG,QAAQu9G,GAEhB,MACEroH,EAAO,CACL,EACA,EACA,GACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,GACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,IACA,IACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,IACA,EACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,GACA,IAGJ,OAAO+lH,EAAK1U,IAAI0U,EAAKxxB,MAAMmV,KAAM,IAAIjnG,WAAWzC,GAClD,GACC,CACD2I,IAAK,OACLmI,MAAO,SAAc8qF,GACnB,IAAI0sB,EAAQjjC,GAAeuW,EAAO,GAAI0e,EAAWgO,EAAM,GAAI/N,EAAW+N,EAAM,GAC5E,OAAOvC,EAAK1U,IAAI0U,EAAKxxB,MAAM6iB,KAAM,IAAI30G,WAAW,CAAC63G,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,EAAgBC,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,IACzL,GACC,CACD5xG,IAAK,OACL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jC,OAAOkB,OAAO,QACjC+2E,GAAgB+M,GAAK,aAAc,CACjC5rE,MAAO,IAAIzb,WAAW,CACpB,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IAEFuhB,MAAO,IAAIvhB,WAAW,CACpB,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,MAGJs6E,GAAgB+M,GAAK,WAAYA,GAAIunB,IAAIvnB,GAAIyK,MAAM2xB,KAAM,IAAIzjH,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,OAEFs6E,GAAgB+M,GAAK,WAAYA,GAAIunB,IAAIvnB,GAAIyK,MAAM2xB,KAAM,IAAIzjH,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,OAEFs6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAM23B,KAAMpiC,GAAIunB,IAAIvnB,GAAIyK,MAAM43B,KAAM,IAAI1pH,WAAW,CAC1F,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,GACA,EACA,EACA,EACA,OAEFs6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMuf,KAAM,IAAIrxG,WAAW,CAClE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,MAEFs6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMwf,KAAM,IAAItx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","sources":["webpack://new-web/./node_modules/delegate/src/closest.js","webpack://new-web/./node_modules/delegate/src/delegate.js","webpack://new-web/./node_modules/downloadjs/download.js","webpack://new-web/./node_modules/eventemitter3/index.js","webpack://new-web/./src/components/NewPage.vue","webpack://new-web/./src/components/NewPage.vue?ccdf","webpack://new-web/./src/views/info/index.vue","webpack://new-web/./node_modules/xgplayer/es/utils/debug.js","webpack://new-web/./node_modules/xgplayer/es/utils/xgplayerTimeRange.js","webpack://new-web/./node_modules/xgplayer/es/utils/util.js","webpack://new-web/./node_modules/xgplayer/es/utils/sniffer.js","webpack://new-web/./node_modules/xgplayer/es/version.js","webpack://new-web/./node_modules/xgplayer/es/error.js","webpack://new-web/./node_modules/xgplayer/es/events.js","webpack://new-web/./node_modules/xgplayer/es/mediaProxy.js","webpack://new-web/./node_modules/xgplayer/es/utils/database.js","webpack://new-web/./node_modules/xgplayer/es/constant.js","webpack://new-web/./node_modules/xgplayer/es/plugin/hooksDescriptor.js","webpack://new-web/./node_modules/xgplayer/es/plugin/basePlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/plugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/resizeObserver.js","webpack://new-web/./node_modules/xgplayer/es/plugin/pluginsManager.js","webpack://new-web/./node_modules/xgplayer/es/stateClassMap.js","webpack://new-web/./node_modules/xgplayer/es/defaultConfig.js","webpack://new-web/./node_modules/xgplayer/es/plugin/preset.js","webpack://new-web/./node_modules/xgplayer/es/lang/en.js","webpack://new-web/./node_modules/xgplayer/es/lang/i18n.js","webpack://new-web/./node_modules/xgplayer/es/state.js","webpack://new-web/./node_modules/xgplayer/es/instManager.js","webpack://new-web/./node_modules/xgplayer/es/player.js","webpack://new-web/./node_modules/xgplayer/es/plugins/controls/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/logger/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/replay.js","webpack://new-web/./node_modules/xgplayer/es/plugins/replay/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/poster/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/play.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pause.js","webpack://new-web/./node_modules/xgplayer/es/plugins/start/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/enter/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconTools.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","webpack://new-web/./node_modules/xgplayer/es/utils/draggabilly.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pc/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/touch.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/seekicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/keyboard/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/loading.js","webpack://new-web/./node_modules/xgplayer/es/plugins/loading/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/innerList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconPlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugins/play/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/back.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/backicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/timesegments.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeLarge.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeSmall.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeMuted.js","webpack://new-web/./node_modules/xgplayer/es/plugins/volume/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/rotate.js","webpack://new-web/./node_modules/xgplayer/es/plugins/rotate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIconExit.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pip/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/playNext.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playNext/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/download.js","webpack://new-web/./node_modules/xgplayer/es/plugins/download/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/screenShot/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionsIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/definition/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playbackRate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/cssFullScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/error/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/prompt/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/thumbnail.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/miniProgress.js","webpack://new-web/./node_modules/xgplayer/es/plugins/dynamicBg/index.js","webpack://new-web/./node_modules/xgplayer/es/lang/zh-cn.js","webpack://new-web/./node_modules/xgplayer/es/plugins/stats/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/gapJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/testspeed/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fpsDetect/index.js","webpack://new-web/./node_modules/xgplayer/es/presets/default.js","webpack://new-web/./node_modules/xgplayer/es/index.umd.js","webpack://new-web/./node_modules/xgplayer-hls/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/buffer.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/env.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/logger.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/utils.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/mse.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/event.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/streaming-helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/sei.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/gap.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/stats.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/types.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/env.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/aac.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/fixer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/nalu.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/exp-golomb.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/avc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/hevc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/metadata-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/byte-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/bit-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4-parser.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/decrypt/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-demuxer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/buffer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-remuxer.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/constants.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/transmuxer/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/types.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/is.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/fetch.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/xhr.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/task.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/model.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/master.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/media.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/stream.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/index.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/bandwidth.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/segment-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin-extension.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin.js","webpack://new-web/./src/views/info/index.vue?dbd0"],"sourcesContent":["var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","<template>\r\n    <div class=\"pagination\" >\r\n      <!-- 上一页按钮 -->\r\n      <button\r\n        class=\"pagination-button\"\r\n        :disabled=\"currentPage <= 1\"\r\n        @click=\"goToPreviousTenPages\"\r\n      >\r\n        <van-icon name=\"arrow-left\" />\r\n      </button>\r\n  \r\n      <!-- 页码显示 -->\r\n      <div class=\"page-numbers\" :key=\"componentKey\">\r\n        <span \r\n          v-for=\"page in visiblePages\"\r\n          :key=\"page\"\r\n          :class=\"{ active: activePages[page] }\"\r\n          @click=\"goToPage(page)\"\r\n        >\r\n          {{ page }}\r\n        </span>\r\n      </div>\r\n  \r\n      <!-- 下一页按钮 -->\r\n      <button\r\n        class=\"pagination-button\"\r\n        :disabled=\"currentPage >= totalPages\"\r\n        @click=\"goToNextTenPages\"\r\n      >\r\n        <van-icon name=\"arrow\" />\r\n      </button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"Pagination\",\r\n    props: {\r\n      totalPages: {\r\n        type: Number,\r\n        required: true,\r\n      },\r\n      currentPage: {\r\n        type: Number,\r\n        required: true,\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        componentKey: 0,\r\n      };\r\n    },\r\n    emits: [\"page-change\"],\r\n    watch: {\r\n      // 监听 currentPage 的变化\r\n      // currentPage(newVal) {\r\n      //   console.log('curennn,',newVal)\r\n      //   this.updateActivePages(newVal);\r\n      // },\r\n      // 监听 visiblePages 的变化\r\n      visiblePages: {\r\n        handler(newVal) {\r\n          this.updateActivePages(this.currentPage);\r\n        },\r\n        immediate: true,\r\n      },\r\n    },\r\n    computed: {\r\n      // 计算当前显示的页码范围\r\n      visiblePages() {\r\n        const startPage = Math.floor((this.currentPage - 1) / 10) * 10 + 1;\r\n        const endPage = Math.min(startPage + 9, this.totalPages);\r\n        return Array.from({ length: endPage - startPage + 1 }, (_, i) => startPage + i);\r\n      },\r\n    },\r\n    methods: {\r\n    // 更新 activePages 的状态\r\n    updateActivePages(currentPage) {\r\n\r\n      // 重置 activePages\r\n      this.activePages = {};\r\n      // 遍历 visiblePages，设置 active 状态\r\n      this.visiblePages.forEach((page) => {\r\n        // console.log('子组件=>',page,currentPage)\r\n        \r\n        this.activePages[page] = page === currentPage;\r\n\r\n        this.componentKey += 1;\r\n      });\r\n \r\n\r\n      },\r\n      // 跳转到指定页码\r\n      goToPage(page) {\r\n        if (page >= 1 && page <= this.totalPages) {\r\n          this.$emit(\"page-change\", page);\r\n        }\r\n      },\r\n      // 跳转到上一组 10 页\r\n      goToPreviousTenPages() {\r\n        const newPage = Math.max(1, Math.floor((this.currentPage - 1) / 10) * 10 - 9);\r\n        this.$emit(\"page-change\", newPage);\r\n      },\r\n      // 跳转到下一组 10 页\r\n      goToNextTenPages() {\r\n        const startPage = Math.floor((this.currentPage - 1) / 10) * 10 + 1;\r\n        // console.log(startPage,'==>',this.currentPage);\r\n        // alert(this.currentPage)\r\n        const newPage = Math.min(this.totalPages, startPage + 10);\r\n        this.$emit(\"page-change\", newPage);\r\n      }\r\n\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .pagination {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    gap: 10px;\r\n    padding: 10px;\r\n    width: 100%;\r\n  }\r\n  \r\n  .pagination-button {\r\n    padding: 10px 20px;\r\n    border: 1px solid #ccc;\r\n    background-color: #f9f9f9;\r\n    cursor: pointer;\r\n    border-radius: 4px;\r\n    transition: background-color 0.3s;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .pagination-button:disabled {\r\n    background-color: #e0e0e0;\r\n    cursor: not-allowed;\r\n  }\r\n  \r\n  .pagination-button:hover:not(:disabled) {\r\n    background-color: #ddd;\r\n  }\r\n  \r\n  .page-numbers {\r\n    display: flex;\r\n    gap: 5px;\r\n  }\r\n  \r\n  .page-numbers span {\r\n    padding: 10px 12px;\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n    color: white;\r\n    border-radius: 4px;\r\n    transition: background-color 0.3s;\r\n  }\r\n  \r\n  .page-numbers span.active {\r\n    background-color: #007bff;\r\n    color: red;\r\n    border-color: #007bff;\r\n  }\r\n  \r\n  .page-numbers span:hover:not(.active) {\r\n    background-color: #f1f1f1;\r\n  }\r\n  \r\n  @media (max-width: 750px) {\r\n    .pagination {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        gap: 21px;\r\n        padding: 1px;\r\n        width: 100%;\r\n    }\r\n    .pagination-button {\r\n      padding: 3px 6px;\r\n      border-radius: 3px;\r\n    }\r\n    .page-numbers {\r\n      /* flex-wrap: wrap; */\r\n      justify-content: center;\r\n      gap: 2px;\r\n      font-size: medium;\r\n    }\r\n    .page-numbers span {\r\n      padding: 3px 5px; \r\n    }\r\n  }\r\n  </style>\r\n  ","import { render } from \"./NewPage.vue?vue&type=template&id=2d6c09bc&scoped=true\"\nimport script from \"./NewPage.vue?vue&type=script&lang=js\"\nexport * from \"./NewPage.vue?vue&type=script&lang=js\"\n\nimport \"./NewPage.vue?vue&type=style&index=0&id=2d6c09bc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d6c09bc\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"info-container\">\r\n    <div class=\"info-wrapper\">\r\n      <div class=\"ads pc-hide\" style=\"padding-top: 0;margin-top: 0px;\">\r\n        <div class=\"ads-item\" v-for=\"item in _ads.slice(0, 8)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"video-location h5-hide\">\r\n        <div class=\"line\"></div>\r\n        <span class=\"link\" @click=\"goHome\">HOME</span>\r\n        <span class=\"arrow\">▷</span>\r\n        <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n        <span class=\"arrow\">▷</span>\r\n        {{data.title}}\r\n      </div>\r\n      <div class=\"video-info\">\r\n        <div class=\"h5-video-location pc-hide\">\r\n          <div class=\"line\"></div>\r\n          <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n          <span class=\"arrow\">▷</span>\r\n          {{data.title}}\r\n        </div>\r\n        <div id=\"mse\"></div>\r\n        <div class=\"video-wrapper\">\r\n          <div class=\"video-img\" id=\"video-info\"></div>\r\n        </div>\r\n        <div class=\"video-name\">\r\n           <span v-if=\"language == 'ko-KR'\">\r\n            {{data.title}}\r\n          </span>\r\n          <span v-if=\"language == 'en-US'\">\r\n            {{data.titleUs}}\r\n          </span>\r\n          <span v-if=\"language == 'zh-CN'\">\r\n            {{data.titleCn}}\r\n          </span>\r\n        </div>\r\n        <div class=\"info\">\r\n          <div class=\"viewed\">\r\n            <img src=\"@/assets/imgs/view.png\" alt=\"\">\r\n            <span>조회수 : {{data.watchTimes}}</span>\r\n          </div>\r\n          <div class=\"time\">\r\n            <img src=\"@/assets/imgs/flag.png\" alt=\"\">\r\n            <span>등록일 : {{formatTime(data.createdAt)}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"video-desc\" v-if=\"data.titleChinese\">\r\n          {{}}\r\n          <!-- data.titleChinese -->\r\n        </div>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(0, 16).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(0, 16)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n<!--      <Title class=\"page-title h5-hide\" :name=\"relatedMap[language]\" :more=\"false\"></Title>-->\r\n      <div class=\"list\" v-if=\"videos.slice(0, 8).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(0, 8)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(16, 24).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(16, 24)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\" v-if=\"videos.slice(8, 16).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(8, 16)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(24,32).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(24,32)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\" v-if=\"videos.slice(16, 24).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(16, 24)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(32, 40).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(32, 40)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"more\" @click=\"goCategory\">{{moreRelatedMap[language]}}</div> -->\r\n      <Pagination\r\n      :total-pages=\"total\"\r\n      :current-page=\"pageNum\"\r\n      @page-change=\"handlePageChange\"\r\n    />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as api from '@/api'\r\n  import moment from 'moment';\r\n  import Card from \"@/components/Card.vue\";\r\n  import Title from \"@/components/Title.vue\";\r\n  import {mapActions,mapState} from 'vuex';\r\n  import 'video.js/dist/video-js.css';\r\n  import VideoJs from 'video.js';\r\n  import Player from 'xgplayer';\r\n  import 'xgplayer/dist/index.min.css';\r\n  import HlsPlugin from 'xgplayer-hls'\r\n  import MobilePreset from 'xgplayer/es/presets/mobile'\r\n  import Pagination from \"@/components/NewPage.vue\";\r\n\r\n  export default {\r\n    name: \"Info\",\r\n    components: {Title,Card,Pagination},\r\n    data() {\r\n      return {\r\n        id: '',\r\n        data: {},\r\n        _ads: [],\r\n        videos: [],\r\n        player: null,\r\n        relatedMap: {\r\n          'ko-KR': '관련동영상',\r\n          'en-US': 'Related videos',\r\n          'zh-CN': '相关视频'\r\n        },\r\n        moreRelatedMap: {\r\n          'ko-KR': '관련 영상 더 보기',\r\n          'en-US': 'More related videos',\r\n          'zh-CN': '更多相关视频'\r\n        },\r\n        classifyName: '',\r\n        classifyId: '',\r\n        specialId: '',\r\n        pageNum:1,\r\n        pageSize:20,\r\n        total:10\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ads: state => state.common.ads,\r\n        menus: state => state.common.menus,\r\n        language: state => state.common.language,\r\n      }),\r\n    },\r\n    watch: {\r\n      '$route': {\r\n        handler(nv) {\r\n          if(nv.name == 'info') {\r\n            this.id = this.$route.query.id\r\n            this.initData();\r\n\r\n            this.classifyName = this.$route.query.classifyName\r\n            this.classifyId = this.$route.query.classifyId\r\n            this.specialId = this.$route.query.specialId\r\n          }\r\n        },\r\n        immediate: true\r\n      },\r\n      ads(nv) {\r\n        this._ads = JSON.parse(JSON.stringify(nv));\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions({\r\n        toggleLoading: 'common/toggleLoading',\r\n      }),\r\n\r\n            // 处理页码变化\r\n      handlePageChange(newPage) {\r\n        this.pageNum = newPage;\r\n        this.getVideos()\r\n      },\r\n\r\n\r\n      goAd(url) {\r\n        window.open(url)\r\n      },\r\n      formatTime(time) {\r\n        return moment(time).format('YYYY-MM-DD')\r\n      },\r\n      async getVideoInfo() {\r\n        this.toggleLoading(true);\r\n        try {\r\n          let {data, code} = await api.getVideoInfo({id: this.id})\r\n          if (code == 200) {\r\n            this.data = data;\r\n            this.initPlayer()\r\n            this.getMenuInfo()\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getMenuInfo() {\r\n        try {\r\n          let {data, code} = await api.getMenuInfo({id: this.data.classifyId})\r\n          if (code == 200) {\r\n            this.classifyInfo = data;\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getVideos() {\r\n        // console.log('why this plus one?=>',this.data.specialId)\r\n        try {\r\n          let {rows, code,total} = await api.getVideos({\r\n            pageNum: this.pageNum,\r\n            pageSize: this.pageSize,\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId\r\n          })\r\n          if (code == 200) {\r\n            this.videos = rows\r\n            this.total=total\r\n          }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n        }\r\n      },\r\n      goHome() {\r\n        this.$router.push('index')\r\n      },\r\n      goCategory() {\r\n        this.$router.push({\r\n          name: 'category',\r\n          query: {\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId,\r\n            classifyName: ''\r\n          }\r\n        })\r\n      },\r\n      initPlayer() {\r\n        const config = {\r\n          \"id\": \"video-info\",\r\n          fluid: true,\r\n          volume: 0.9,\r\n          autoplay: false,\r\n          videoInit: true,\r\n          loop: true,\r\n          // playbackRate: [0.5, 0.75, 1, 1.5, 2],\r\n          defaultPlaybackRate: 1,\r\n          \"url\": this.data.video,\r\n          \"playsinline\": true,\r\n          \"poster\": this.data.videoCover,\r\n          \"plugins\": [HlsPlugin],\r\n          \"isLive\": false,\r\n          \"playbackRate\": [\r\n                    null\r\n          ],\r\n          \"rotate\": {\r\n                    \"clockwise\": true,\r\n                    \"innerRotate\": true\r\n          },\r\n          \"pip\": true,\r\n          rotateFullscreen: true\r\n        }\r\n        let player = new Player(config)\r\n        // setTimeout(() => {\r\n        // let player = new Player(config)},0)\r\n        // document.getElementById('video-info').innerHTML = `<video id=\"video-js\" class=\"video-js\"></video>`\r\n        // setTimeout(() => {\r\n        //   this.player = VideoJs(document.getElementById('video-js'), {\r\n        //     controls: true,\r\n        //     muted: true,\r\n        //     fluid: true,\r\n        //     reload: \"auto\",\r\n        //     poster: this.data.videoCover,\r\n        //     sources: [\r\n        //       {\r\n        //         src: this.data.video,\r\n        //         type: 'application/x-mpegURL',\r\n        //       },\r\n        //     ],\r\n        //   }, function onPlayerReady() {\r\n        //   })\r\n        // }, 0)\r\n      },\r\n      initData() {\r\n        if (this.player) {\r\n          this.player.dispose()\r\n        }\r\n        this.id = this.$route.query.id\r\n        this.getVideoInfo()\r\n        if (this.menus && this.menus.length) {\r\n          let count = (this.menus.length + 1) * 24 + 1;\r\n          let times = Math.ceil(count / this.ads.length);\r\n          let ads = [];\r\n          for (let i = 0;i < times;i++) {\r\n            ads = ads.concat(this.ads);\r\n          }\r\n          ads.shift()\r\n          this._ads = ads;\r\n        }\r\n        this.$nextTick(() => {\r\n          setTimeout(() => {\r\n            this.getVideos(); // 延迟 1 秒后执行\r\n          }, 1000); // 1000 毫秒 = 1 秒\r\n        });\r\n        \r\n      }\r\n    },\r\n    beforeUnmount() {\r\n      if (this.player) {\r\n        this.player.dispose()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .info-container{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .info-wrapper{\r\n      width: 100%;\r\n      padding-top: 23px;\r\n      .video-location{\r\n        background: #172231;\r\n        height: 48px;\r\n        @include clear();\r\n        box-shadow: 0px 10px 10px rgba(255,255,225,0.1) inset,\r\n        0px -10px 10px rgba(0,0,0,0.3) inset;\r\n        margin-bottom: 60px;\r\n        line-height: 48px;\r\n        font-size: 24px;\r\n        .line{\r\n          width: 8px;\r\n          height: 30px;\r\n          background: $main-color;\r\n          margin-top: 9px;\r\n          float: left;\r\n          margin-left: 23px;\r\n          margin-right: 10px;\r\n        }\r\n        width: 100%;\r\n        color: #fff;\r\n        @include ellipsis;\r\n        .link{\r\n          transition: 0.3s ease;\r\n          &:hover{\r\n            color: $main-color;\r\n          }\r\n          cursor: pointer;\r\n        }\r\n        .arrow{\r\n          margin: 0 20px;\r\n        }\r\n      }\r\n      .video-info{\r\n        width: 100%;\r\n        margin-bottom: 110px;\r\n\r\n        .h5-video-location{\r\n          height: 50px;\r\n          line-height: 50px;\r\n          font-size: 18px;\r\n          color: #fff;\r\n          box-sizing: border-box;\r\n          @include ellipsis;\r\n          box-shadow: 0px 5px 5px rgba(255,255,225,0.1) inset,\r\n          0px -5px 5px rgba(0,0,0,0.3) inset;\r\n          background: #0e141d;\r\n          margin-bottom: 30px;\r\n          @include clear;\r\n          .line{\r\n            width: 5px;\r\n            height: 36px;\r\n            background: $main-color;\r\n            margin-top: 7px;\r\n            float: left;\r\n            margin-left: 7px;\r\n            margin-right: 10px;\r\n          }\r\n          .first{\r\n            color: $main-color;\r\n            margin-right: 10px;\r\n          }\r\n          @include ellipsis;\r\n          .link{\r\n            transition: 0.3s ease;\r\n            &:hover{\r\n              color: $main-color;\r\n            }\r\n            cursor: pointer;\r\n          }\r\n          .arrow{\r\n            margin: 0 10px;\r\n            position: relative;\r\n            top: -1px;\r\n          }\r\n        }\r\n        .video-wrapper{\r\n          box-sizing: border-box;\r\n          max-width: 75%;\r\n          margin: 0 auto;\r\n          background: #172231;\r\n        }\r\n        .video-img{\r\n          width: 100%;\r\n          background: #000;\r\n          .video-js{\r\n            width: 100%;\r\n            /*object-fit: cover;*/\r\n            /*object-position: center;*/\r\n          }\r\n        }\r\n        .info-h5{\r\n          width: 100%;\r\n          font-size: 12px;\r\n          color: #adadad;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          box-sizing: border-box;\r\n          padding: 10px;\r\n          .viewed{\r\n            display: flex;\r\n            align-items: center;\r\n            img{\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n        }\r\n        .info{\r\n          width: 700px;\r\n          margin: 0 auto;\r\n          height: 54px;\r\n          box-sizing: border-box;\r\n          line-height: 54px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          font-size: 30px;\r\n          color: #bababa;\r\n          img{\r\n            margin-right: 10px;\r\n            vertical-align: middle;\r\n          }\r\n          span{\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n        .video-name{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          font-size: 30px;\r\n          color: #d0d0d0;\r\n          height: 48px;\r\n          line-height: 48px;\r\n          margin-top: 30px;\r\n          margin-bottom: 50px;\r\n          @include ellipsis;\r\n          box-sizing: border-box;\r\n          text-align: center;\r\n        }\r\n        .video-desc{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding: 0 150px 0 25px;\r\n          font-size: 24px;\r\n          color: #8b8b8b;\r\n        }\r\n      }\r\n      .list{\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        flex-direction:row;\r\n        box-sizing: border-box;\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n        .video-card{\r\n          margin-bottom: 13px;\r\n        }\r\n      }\r\n      .page-title{\r\n        margin-bottom: 11px;\r\n      }\r\n      .ads{\r\n        width: 100%;\r\n        padding: 23px 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        box-sizing: border-box;\r\n        padding-top: 0px;\r\n        padding-bottom: 11px;\r\n        .ads-item{\r\n          width: calc((100% - 27px) / 4);\r\n          margin-bottom: 7px;\r\n          height: 125px;\r\n          @include border2;\r\n          box-sizing: border-box;\r\n          cursor: pointer;\r\n          border-radius: 2px;\r\n          :deep(.van-image){\r\n            width: 100%;\r\n            height: 100%;\r\n            .van-image__loading{\r\n              background: none;\r\n            }\r\n            .van-image__error{\r\n              background: none;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .more{\r\n        width: 788px;\r\n        height: 74px;\r\n        line-height: 74px;\r\n        font-size: 30px;\r\n        color: #fff;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        background: #343945;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  @media screen and (min-width: 1280px) and (max-width: 1600px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        .video-info{\r\n          .video-img{}\r\n          .video-desc{\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n  @media screen and (min-width: 750px) and (max-width: 1280px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        width: 750px;\r\n        .video-info{\r\n          .video-img{}\r\n          .video-wrapper{\r\n            padding-left: 50px;\r\n            padding-right: 50px;\r\n          }\r\n          .info{\r\n            height: 50px;\r\n            line-height: 50px;\r\n            font-size: 24px;\r\n          }\r\n          .video-name{\r\n            font-size: 24px;\r\n          }\r\n          .video-desc{\r\n            font-size: 21px;\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n        .ads{\r\n          .ads-item{\r\n            height: 100px;\r\n          }\r\n        }\r\n        .more{\r\n          width: 750px;\r\n        }\r\n      }\r\n    }\r\n    .sidebar{\r\n      display: none;\r\n    }\r\n  }\r\n  @media screen and (max-width: 750px) {\r\n    .h5-hide{\r\n      display: none!important;\r\n    }\r\n    .pc-hide{\r\n      display: flex!important;\r\n    }\r\n    .info-container{\r\n      width: 100%;\r\n      .info-wrapper{\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding-left: 2px;\r\n        padding-right: 2px;\r\n        .ads{\r\n          padding-left: 14px;\r\n          padding-right: 14px;\r\n          .ads-item{\r\n            width: 100%;\r\n            height: 130px;\r\n            margin-bottom: 6px;\r\n            border: 1px solid #d7d7d8;\r\n            &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4), {\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        .list{\r\n          margin-bottom: 25px;\r\n          .video-card{\r\n            width: 100%;\r\n            margin-bottom: 18px;\r\n          }\r\n        }\r\n        .more{\r\n          display: none;\r\n        }\r\n        .video-info{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding-bottom: 0px;\r\n          margin-bottom: 70px;\r\n          .pc-hide{\r\n            display: block!important;\r\n          }\r\n          .video-wrapper{\r\n            max-width: 100%;\r\n            padding: 0px;\r\n          }\r\n          .info-h5{\r\n            display: flex!important;\r\n          }\r\n          .info{\r\n            width: 100%;\r\n            font-size: 14px;\r\n            padding-left: 40px;\r\n            padding-right: 40px;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n          .video-img{\r\n            @include border;\r\n          }\r\n          .video-name{\r\n            width: 100%;\r\n            font-size: 16px;\r\n            color: #fff;\r\n            height: auto;\r\n            padding: 0 13px;\r\n            margin-top: 13px;\r\n            line-height: 24px;\r\n            margin-bottom: 20px;\r\n          }\r\n          .video-desc{\r\n            font-size: 14px;\r\n            color: #fff;\r\n            padding: 10px;\r\n            padding-top: 0px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n      .sidebar{\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  @media screen and (max-width: 750px) {\r\n    .xgplayer xg-icon svg{\r\n      width: 16px;\r\n    }\r\n  }\r\n\r\n</style>\r\n","const XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nconst STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nconst XGTAG = \"%c[xgplayer]\";\nconst XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function(message, ...optionalParams) {\n    this.config.debug >= 3 && console.log(XGTAG, STYLE.info, message, ...optionalParams);\n  },\n  logWarn: function(message, ...optionalParams) {\n    this.config.debug >= 1 && console.warn(XGTAG, STYLE.warn, message, ...optionalParams);\n  },\n  logError: function(message, ...optionalParams) {\n    if (this.config.debug < 1) {\n      return;\n    }\n    const _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    console[_fun](XGTAG, STYLE.error, message, ...optionalParams);\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","class XgplayerTimeRange {\n  constructor(bufferedList) {\n    this.bufferedList = bufferedList;\n  }\n  start(index) {\n    return this.bufferedList[index].start;\n  }\n  end(index) {\n    return this.bufferedList[index].end;\n  }\n  get length() {\n    return this.bufferedList.length;\n  }\n}\nexport { XgplayerTimeRange as default };\n","import XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nconst util = {};\nutil.createDom = function(el = \"div\", tpl = \"\", attrs = {}, cname = \"\") {\n  const dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach((item) => {\n    const key = item;\n    const value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html, attrs = {}, classname = \"\") {\n  try {\n    let doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    let dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach((key) => {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, (item) => item === className);\n  } catch (e) {\n    const orgClassName = el.className && typeof el.className === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach((item) => {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && typeof el.className === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach((item) => {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach((item) => {\n        const reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && typeof el.className === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach((item) => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  const classname = [];\n  for (let i = 0; i < arguments.length; i++) {\n    if (util.typeOf(arguments[i]) === \"String\") {\n      classname.push(arguments[i]);\n    } else if (util.typeOf(arguments[i]) === \"Object\") {\n      Object.keys(arguments[i]).map((key) => {\n        if (arguments[i][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function(el = document, sel) {\n  let dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  const charstr = String(pad);\n  const len = length >> 0;\n  let maxlen = Math.ceil(len / charstr.length);\n  const chars = [];\n  const r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  const hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  const minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  const second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    const touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach((key) => {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map((key) => {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        dst[key].push(...src[key]);\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  const url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  const a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    const back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  const id = setTimeout(() => {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  const { _timers } = context;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (let i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  const { _timers } = context;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map((item) => {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  const btn = util.createDom(`xg-${name}`, \"\", {}, `xgplayer-${name}-img`);\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`;\n  if (width && height) {\n    let w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = `${w}${unit}`;\n    btn.style.height = `${h}${unit}`;\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`;\n    if (name === \"start\") {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`;\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  const rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return `rgba(${rgb.join(\",\")}, ${alpha})`;\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && typeof obj === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    const styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map((item) => {\n      if (item) {\n        const arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map((key) => {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (let i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom, list = [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"]) {\n  const _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  const styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  const ret = {};\n  const remain = {};\n  styleArr.map((item) => {\n    if (item) {\n      const arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map((key) => {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  const _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  const styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  const ret = {};\n  styleArr.map((item) => {\n    if (item) {\n      const arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = (url, onload = () => {\n}, onerror = () => {\n}) => {\n  if (!url) {\n    return;\n  }\n  let img = new window.Image();\n  img.onload = (e) => {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = (e) => {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = (e) => {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = (vbuffered, maxHoleDuration = 0.5) => {\n  const buffered = [];\n  for (let i = 0; i < vbuffered.length; i++) {\n    buffered.push({ start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i), end: vbuffered.end(i) });\n  }\n  buffered.sort(function(a, b) {\n    const diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  let buffered2 = [];\n  if (maxHoleDuration) {\n    for (let i = 0; i < buffered.length; i++) {\n      const buf2len = buffered2.length;\n      if (buf2len) {\n        const buf2end = buffered2[buf2len - 1].end;\n        if (buffered[i].start - buf2end < maxHoleDuration) {\n          if (buffered[i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[i].end;\n          }\n        } else {\n          buffered2.push(buffered[i]);\n        }\n      } else {\n        buffered2.push(buffered[i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e, zoom = 1) {\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  const _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  const results = url.split(\"/\");\n  let domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  const _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (video.media) {\n    video = video.media;\n  }\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function(did = 0) {\n  let d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  const uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  let event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  const dom = util.createDom(\n    \"xg-bar\",\n    \"\",\n    { \"data-index\": -1 },\n    className\n  );\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function(pos = { x: 0, y: 0, scale: 1, rotate: 0 }, transformValue = \"\") {\n  const styles = {\n    scale: `${pos.scale || 1}`,\n    translate: `${pos.x || 0}%, ${pos.y || 0}%`,\n    rotate: `${pos.rotate || 0}deg`\n  };\n  const stylesKeys = Object.keys(styles);\n  stylesKeys.forEach((key) => {\n    const reg = new RegExp(`${key}\\\\([^\\\\(]+\\\\)`, \"g\");\n    const fn = `${key}(${styles[key]})`;\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += `${fn} `;\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  const _len = segments.length;\n  let _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (let i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments, index = -1) {\n  let _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  const _len = segments.length;\n  const { start, end, cTime, offset } = segments[_index];\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  let _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (let i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    const { start } = segments[_index];\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  const type = typeof value;\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  let lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  let lastInvokeTime = 0;\n  let leading = false;\n  let maxing = false;\n  let trailing = true;\n  const useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    const args = lastArgs;\n    const thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    const timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    const time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced(...args) {\n    const time = Date.now();\n    const isInvoking = shouldInvoke(time);\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  let leading = true;\n  let trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  let lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  const pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","const VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nconst H264_MIMETYPES = [\n  \"avc1.42E01E, mp4a.40.2\",\n  \"avc1.58A01E, mp4a.40.2\",\n  \"avc1.4D401E, mp4a.40.2\",\n  \"avc1.64001E, mp4a.40.2\",\n  \"avc1.42E01E\",\n  \"mp4v.20.8\",\n  \"avc1.42E01E, mp4a.40.2\",\n  \"avc1.58A01E, mp4a.40.2\",\n  \"avc1.4D401E, mp4a.40.2\",\n  \"avc1.64001E, mp4a.40.2\",\n  \"mp4v.20.8, mp4a.40.2\",\n  \"mp4v.20.240, mp4a.40.2\"\n];\nconst sniffer = {\n  get device() {\n    const r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    const ua = navigator.userAgent.toLowerCase();\n    const reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter((key) => reg[key].test(ua)))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    const ua = navigator.userAgent;\n    const isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    const isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    const isAndroid = /(?:Android)/.test(ua);\n    const isFireFox = /(?:Firefox)/.test(ua);\n    const isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    const isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    const isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    const isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    const ua = navigator.userAgent;\n    let reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    const _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      const version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    const reg = /(micromessenger)\\/([\\d.]+)/;\n    const match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4() {\n    const result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    let a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map((key) => {\n        if (a.canPlayType(`video/mp4; codecs=\"${key}\"`) === \"probably\") {\n          result.isSupport = true;\n          result.mime += `||${key}`;\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport(mime = 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"') {\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported(info) {\n    const defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      const videoConfig = info.video || {};\n      const audioConfig = info.audio || {};\n      try {\n        const videoSupported = MediaSource.isTypeSupported(\n          videoConfig.contentType\n        );\n        const audioSupported = MediaSource.isTypeSupported(\n          audioConfig.contentType\n        );\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.1.0-alpha.9\";\nexport { version as default };\n","import version from \"./version.js\";\nimport util from \"./utils/util.js\";\nconst ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nconst ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nclass Errors {\n  constructor(player, errorInfo = { errorType: \"\", errorCode: 0, errorMessage: \"\", originError: \"\", ext: {}, mediaError: null }) {\n    const ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      const mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      const { duration, currentTime, ended, src, currentSrc } = player;\n      const { readyState, networkState } = player.media;\n      let _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      const r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map((key) => {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        const r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        const arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (let i = 0; i < arguments.length; i++) {\n          r[arr[i]] = arguments[i];\n        }\n        r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return r;\n      }\n    }\n  }\n}\nexport { ERROR_TYPE_MAP, Errors as default };\n","const PLAY = \"play\";\nconst PLAYING = \"playing\";\nconst ENDED = \"ended\";\nconst PAUSE = \"pause\";\nconst ERROR = \"error\";\nconst SEEKING = \"seeking\";\nconst SEEKED = \"seeked\";\nconst TIME_UPDATE = \"timeupdate\";\nconst WAITING = \"waiting\";\nconst CANPLAY = \"canplay\";\nconst CANPLAY_THROUGH = \"canplaythrough\";\nconst DURATION_CHANGE = \"durationchange\";\nconst VOLUME_CHANGE = \"volumechange\";\nconst LOADED_DATA = \"loadeddata\";\nconst LOADED_METADATA = \"loadedmetadata\";\nconst RATE_CHANGE = \"ratechange\";\nconst PROGRESS = \"progress\";\nconst LOAD_START = \"loadstart\";\nconst EMPTIED = \"emptied\";\nconst STALLED = \"stalled\";\nconst SUSPEND = \"suspend\";\nconst ABORT = \"abort\";\nconst BUFFER_CHANGE = \"bufferedChange\";\nconst PLAYER_FOCUS = \"focus\";\nconst PLAYER_BLUR = \"blur\";\nconst READY = \"ready\";\nconst URL_NULL = \"urlNull\";\nconst AUTOPLAY_STARTED = \"autoplay_started\";\nconst AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nconst COMPLETE = \"complete\";\nconst REPLAY = \"replay\";\nconst DESTROY = \"destroy\";\nconst URL_CHANGE = \"urlchange\";\nconst DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nconst LEAVE_PLAYER = \"leaveplayer\";\nconst ENTER_PLAYER = \"enterplayer\";\nconst LOADING = \"loading\";\nconst FULLSCREEN_CHANGE = \"fullscreen_change\";\nconst CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nconst MINI_STATE_CHANGE = \"mini_state_change\";\nconst DEFINITION_CHANGE = \"definition_change\";\nconst BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nconst AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nconst SEI_PARSED = \"SEI_PARSED\";\nconst RETRY = \"retry\";\nconst VIDEO_RESIZE = \"video_resize\";\nconst PIP_CHANGE = \"pip_change\";\nconst ROTATE = \"rotate\";\nconst SCREEN_SHOT = \"screenShot\";\nconst PLAYNEXT = \"playnext\";\nconst SHORTCUT = \"shortcut\";\nconst XGLOG = \"xglog\";\nconst USER_ACTION = \"user_action\";\nconst RESET = \"reset\";\nconst SOURCE_ERROR = \"source_error\";\nconst SOURCE_SUCCESS = \"source_success\";\nconst SWITCH_SUBTITLE = \"switch_subtitle\";\nconst VIDEO_EVENTS = [\n  \"play\",\n  \"playing\",\n  \"ended\",\n  \"pause\",\n  \"error\",\n  \"seeking\",\n  \"seeked\",\n  \"timeupdate\",\n  \"waiting\",\n  \"canplay\",\n  \"canplaythrough\",\n  \"durationchange\",\n  \"volumechange\",\n  \"loadeddata\",\n  \"loadedmetadata\",\n  \"ratechange\",\n  \"progress\",\n  \"loadstart\",\n  \"emptied\",\n  \"stalled\",\n  \"suspend\",\n  \"abort\",\n  \"lowdecode\"\n];\nconst STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nconst FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ENTER_PLAYER, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LEAVE_PLAYER, LOADED_DATA, LOADED_METADATA, LOADING, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return (e, _err) => {\n    const eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      const _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      const callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nclass MediaProxy extends EventEmitter {\n  constructor(options) {\n    super(options);\n    this._hasStart = false;\n    this._currentTime = 0;\n    this._duration = 0;\n    this._internalOp = {};\n    this._lastMuted = false;\n    this.vtype = \"MP4\";\n    this._rate = -1;\n    this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    const playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete this.mediaConfig.playsinline;\n      delete this.mediaConfig[\"webkit-playsinline\"];\n      delete this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(this.mediaConfig, \"muted\")) {\n      this.mediaConfig.muted = true;\n    }\n    this.media = util.createDom(this.mediaConfig.mediaType, \"\", this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      this.media.defaultPlaybackRate = this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      this.media.muted = true;\n      this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      this.media.autoplay = true;\n    }\n    this._interval = {};\n    this.mediaEventMiddleware = {};\n    this.attachVideoEvents();\n  }\n  setEventsMiddleware(middlewares) {\n    Object.keys(middlewares).map((key) => {\n      this.mediaEventMiddleware[key] = middlewares[key];\n    });\n  }\n  removeEventsMiddleware(middlewares) {\n    Object.keys(middlewares).map((key) => {\n      delete this.mediaEventMiddleware[key];\n    });\n  }\n  attachVideoEvents(media = this.media) {\n    if (!this._evHandlers) {\n      this._evHandlers = VIDEO_EVENTS.map((eventKey) => {\n        const funName = `on${eventKey.charAt(0).toUpperCase()}${eventKey.slice(1)}`;\n        if (typeof this[funName] === \"function\") {\n          this.on(eventKey, this[funName]);\n        }\n        return {\n          [eventKey]: getVideoEventHandler(eventKey, this)\n        };\n      });\n    }\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      media.addEventListener(eventKey, item[eventKey], false);\n    });\n  }\n  detachVideoEvents(media = this.media) {\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      media.removeEventListener(eventKey, item[eventKey], false);\n    });\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      const funName = `on${eventKey.charAt(0).toUpperCase()}${eventKey.slice(1)}`;\n      if (typeof this[funName] === \"function\") {\n        this.off(eventKey, this[funName]);\n      }\n    });\n    this._evHandlers = null;\n  }\n  _attachSourceEvents(video, urls) {\n    video.removeAttribute(\"src\");\n    video.load();\n    urls.forEach((item, index) => {\n      this.media.appendChild(util.createDom(\"source\", \"\", {\n        src: `${item.src}`,\n        type: `${item.type || \"\"}`,\n        \"data-index\": index + 1\n      }));\n    });\n    const _c = video.children;\n    if (!_c) {\n      return;\n    }\n    this._videoSourceCount = _c.length;\n    this._videoSourceIndex = _c.length;\n    this._vLoadeddata = (e) => {\n      this.emit(SOURCE_SUCCESS, { src: e.target.currentSrc, host: util.getHostFromUrl(e.target.currentSrc) });\n    };\n    let _eHandler = null;\n    for (let i = 0; i < this._evHandlers.length; i++) {\n      if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n        _eHandler = this._evHandlers[i];\n        break;\n      }\n    }\n    !this._sourceError && (this._sourceError = (e) => {\n      const _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n      this._videoSourceIndex--;\n      if (this._videoSourceIndex === 0 || _dIndex >= this._videoSourceCount) {\n        const _err = { code: 4, message: \"sources_load_error\" };\n        _eHandler ? _eHandler.error(e, _err) : this.errorHandler(\"error\", _err);\n      }\n      const type = ERROR_TYPE_MAP[4];\n      this.emit(SOURCE_ERROR, new Errors(this, {\n        errorType: type,\n        errorCode: 4,\n        errorMessage: \"sources_load_error\",\n        mediaError: { code: 4, message: \"sources_load_error\" },\n        src: e.target.src\n      }));\n    });\n    for (let i = 0; i < _c.length; i++) {\n      _c[i].addEventListener(\"error\", this._sourceError);\n    }\n    video.addEventListener(\"loadeddata\", this._vLoadeddata);\n  }\n  _detachSourceEvents(video) {\n    const _c = video.children;\n    if (!_c || _c.length === 0 || !this._sourceError) {\n      return;\n    }\n    for (let i = 0; i < _c.length; i++) {\n      _c[i].removeEventListener(\"error\", this._sourceError);\n    }\n    while (_c.length > 0) {\n      video.removeChild(_c[0]);\n    }\n    this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n  }\n  errorHandler(name, error = null) {\n    if (this.media && (this.media.error || error)) {\n      let _e = this.media.error || error;\n      const type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n      let message = _e.message;\n      if (!this.media.currentSrc) {\n        message = \"empty_src\";\n        _e = {\n          code: 6,\n          message\n        };\n      }\n      this.emit(name, new Errors(this, {\n        errorType: type,\n        errorCode: _e.code,\n        errorMessage: _e.message || \"\",\n        mediaError: _e\n      }));\n    }\n  }\n  destroy() {\n    if (this.media) {\n      if (this.media.pause) {\n        this.media.pause();\n        this.media.muted = true;\n      }\n      this.media.removeAttribute(\"src\");\n      this.media.load();\n    }\n    this._currentTime = 0;\n    this._duration = 0;\n    this.mediaConfig = null;\n    for (const k in this._interval) {\n      if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n        clearInterval(this._interval[k]);\n        this._interval[k] = null;\n      }\n    }\n    this.detachVideoEvents();\n    this.media = null;\n    this.mediaEventMiddleware = {};\n    this.removeAllListeners();\n  }\n  get video() {\n    return this.media;\n  }\n  set video(media) {\n    this.media = media;\n  }\n  play() {\n    const ret = this.media ? this.media.play() : null;\n    return ret;\n  }\n  pause() {\n    this.media && this.media.pause();\n  }\n  load() {\n    this.media && this.media.load();\n  }\n  canPlayType(type) {\n    return this.media ? this.media.canPlayType(type) : false;\n  }\n  getBufferedRange(buffered) {\n    const range = [0, 0];\n    if (!this.media) {\n      return range;\n    }\n    if (!buffered) {\n      buffered = this.media.buffered;\n    }\n    const currentTime = this.media.currentTime;\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i);\n        range[1] = buffered.end(i);\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break;\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range;\n    } else {\n      return [0, 0];\n    }\n  }\n  set autoplay(isTrue) {\n    this.media && (this.media.autoplay = isTrue);\n  }\n  get autoplay() {\n    return this.media ? this.media.autoplay : false;\n  }\n  get buffered() {\n    return this.media ? this.media.buffered : null;\n  }\n  get buffered2() {\n    return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n  }\n  get bufferedPoint() {\n    const ret = {\n      start: 0,\n      end: 0\n    };\n    if (!this.media) {\n      return ret;\n    }\n    const _buffered = this.media.buffered;\n    if (!_buffered || _buffered.length === 0) {\n      return ret;\n    }\n    for (let i = 0; i < _buffered.length; i++) {\n      if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n        return {\n          start: _buffered.start(i),\n          end: _buffered.end(i)\n        };\n      }\n    }\n    return ret;\n  }\n  get crossOrigin() {\n    return this.media ? this.media.crossOrigin : \"\";\n  }\n  set crossOrigin(isTrue) {\n    this.media && (this.media.crossOrigin = isTrue);\n  }\n  get currentSrc() {\n    return this.media ? this.media.currentSrc : \"\";\n  }\n  set currentSrc(src) {\n    this.media && (this.media.currentSrc = src);\n  }\n  get currentTime() {\n    if (!this.media) {\n      return 0;\n    }\n    return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n  }\n  set currentTime(time) {\n    this.media && (this.media.currentTime = time);\n  }\n  get defaultMuted() {\n    return this.media ? this.media.defaultMuted : false;\n  }\n  set defaultMuted(isTrue) {\n    this.media && (this.media.defaultMuted = isTrue);\n  }\n  get duration() {\n    return this._duration;\n  }\n  get ended() {\n    return this.media ? this.media.ended : false;\n  }\n  get error() {\n    return this.media.error;\n  }\n  get errorNote() {\n    const err = this.media.error;\n    if (!err) {\n      return \"\";\n    }\n    const status = [\n      \"MEDIA_ERR_ABORTED\",\n      \"MEDIA_ERR_NETWORK\",\n      \"MEDIA_ERR_DECODE\",\n      \"MEDIA_ERR_SRC_NOT_SUPPORTED\"\n    ];\n    return status[this.media.error.code - 1];\n  }\n  get loop() {\n    return this.media ? this.media.loop : false;\n  }\n  set loop(isTrue) {\n    this.media && (this.media.loop = isTrue);\n  }\n  get muted() {\n    return this.media ? this.media.muted : false;\n  }\n  set muted(isTrue) {\n    if (!this.media || this.media.muted === isTrue) {\n      return;\n    }\n    this._lastMuted = this.media.muted;\n    this.media.muted = isTrue;\n  }\n  get networkState() {\n    return this.media.networkState;\n  }\n  get paused() {\n    return this.media ? this.media.paused : true;\n  }\n  get playbackRate() {\n    return this.media ? this.media.playbackRate : 0;\n  }\n  set playbackRate(rate) {\n    if (!this.media || rate === Infinity) {\n      return;\n    }\n    this.media.defaultPlaybackRate = rate;\n    this.media.playbackRate = rate;\n  }\n  get played() {\n    return this.media ? this.media.played : null;\n  }\n  get preload() {\n    return this.media ? this.media.preload : false;\n  }\n  set preload(isTrue) {\n    this.media && (this.media.preload = isTrue);\n  }\n  get readyState() {\n    return this.media.readyState;\n  }\n  get seekable() {\n    return this.media ? this.media.seekable : false;\n  }\n  get seeking() {\n    return this.media ? this.media.seeking : false;\n  }\n  get src() {\n    return this.media ? this.media.src : \"\";\n  }\n  set src(url) {\n    if (!this.media) {\n      return;\n    }\n    this.emit(URL_CHANGE, url);\n    this.emit(WAITING);\n    this._currentTime = 0;\n    this._duration = 0;\n    if (util.isMSE(this.media)) {\n      this.onWaiting();\n      return;\n    }\n    this._detachSourceEvents(this.media);\n    if (util.typeOf(url) === \"Array\") {\n      this._attachSourceEvents(this.media, url);\n    } else if (url) {\n      this.media.src = url;\n    } else {\n      this.media.removeAttribute(\"src\");\n    }\n    this.load();\n  }\n  get volume() {\n    return this.media ? this.media.volume : 0;\n  }\n  set volume(vol) {\n    if (vol === Infinity || !this.media) {\n      return;\n    }\n    this.media.volume = vol;\n  }\n  get aspectRatio() {\n    return this.media ? this.media.videoWidth / this.media.videoHeight : 0;\n  }\n  addInnerOP(event) {\n    this._internalOp[event] = true;\n  }\n  removeInnerOP(event) {\n    delete this._internalOp[event];\n  }\n  emit(event, data, ...args) {\n    super.emit(event, data, ...args);\n  }\n  on(event, callback, ...args) {\n    super.on(event, callback, ...args);\n  }\n  once(event, callback, ...args) {\n    super.once(event, callback, ...args);\n  }\n  off(event, callback, ...args) {\n    super.off(event, callback, ...args);\n  }\n  offAll() {\n    super.removeAllListeners();\n  }\n}\nexport { MediaProxy as default };\n","class INDEXDB {\n  constructor(mydb = { name: \"xgplayer\", version: 1, db: null, ojstore: { name: \"xg-m4a\", keypath: \"vid\" } }) {\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  openDB(callback) {\n    const self = this;\n    const version = this.myDB.version || 1;\n    const request = self.indexedDB.open(self.myDB.name, version);\n    request.onerror = function(e) {\n    };\n    request.onsuccess = (e) => {\n      this.myDB.db = e.target.result;\n      callback.call(self);\n    };\n    request.onupgradeneeded = (e) => {\n      const db = e.target.result;\n      e.target.transaction;\n      if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n        db.createObjectStore(self.myDB.ojstore.name, { keyPath: self.myDB.ojstore.keypath });\n      }\n    };\n  }\n  deletedb() {\n    const self = this;\n    self.indexedDB.deleteDatabase(this.myDB.name);\n  }\n  closeDB() {\n    this.myDB.db.close();\n  }\n  addData(storename, data) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    let request;\n    for (let i = 0; i < data.length; i++) {\n      request = store.add(data[i]);\n      request.onerror = function() {\n      };\n      request.onsuccess = function() {\n      };\n    }\n  }\n  putData(storename, data) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    let request;\n    for (let i = 0; i < data.length; i++) {\n      request = store.put(data[i]);\n      request.onerror = function() {\n      };\n      request.onsuccess = function() {\n      };\n    }\n  }\n  getDataByKey(storename, key, callback) {\n    const self = this;\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    const request = store.get(key);\n    request.onerror = function() {\n      callback.call(self, null);\n    };\n    request.onsuccess = function(e) {\n      const result = e.target.result;\n      callback.call(self, result);\n    };\n  }\n  deleteData(storename, key) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    store.delete(key);\n  }\n  clearData(storename) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    store.clear();\n  }\n}\nexport { INDEXDB as default };\n","const FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nconst GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nconst EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nconst PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","function callHandler(obj, handler, next, ...args) {\n  const ret = handler.call(obj, ...args);\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then((...args2) => {\n      next.call(obj, ...args2);\n    });\n  } else {\n    next.call(obj, ...args);\n  }\n}\nfunction hook(hookName, handler, preset = { pre: null, next: null }) {\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    if (preset.pre) {\n      try {\n        preset.pre.call(this, ...arguments);\n      } catch (e) {\n        e.message = `[pluginName: ${this.pluginName}:${hookName}:pre error] >> ${e.message}`;\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        const preRet = this.__hooks[hookName].call(this, this, ...arguments);\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then((isContinue) => {\n              if (isContinue !== false) {\n                callHandler(this, handler, preset.next, ...arguments);\n              }\n            }).catch((e) => {\n              throw e;\n            });\n          } else {\n            callHandler(this, handler, preset.next, ...arguments);\n          }\n        } else if (preRet === void 0) {\n          callHandler(this, handler, preset.next, ...arguments);\n        }\n      } catch (e) {\n        e.message = `[pluginName: ${this.pluginName}:${hookName}] >> ${e.message}`;\n        throw e;\n      }\n    } else {\n      callHandler(this, handler, preset.next, ...arguments);\n    }\n  }.bind(this);\n}\nfunction useHooks(hookName, handler) {\n  const { __hooks } = this;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(`has no supported hook which name [${hookName}]`);\n    return false;\n  }\n  __hooks && (__hooks[hookName] = handler);\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  const { __hooks } = this;\n  if (!__hooks) {\n    return;\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName, ...args) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  const plugin = this.plugins[pluginName.toLowerCase()];\n  return plugin.useHooks && plugin.useHooks(...args);\n}\nfunction removePluginHooks(pluginName, ...args) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  const plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    return plugin.removeHooks && plugin.removeHooks(...args);\n  }\n}\nfunction hooksDescriptor(instance, presetHooks = []) {\n  instance.__hooks = {};\n  presetHooks && presetHooks.map((item) => {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: () => {\n      return instance.__hooks && Object.keys(instance.__hooks).map((key) => {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler, ...args) {\n  if (obj.__hooks && obj.__hooks[hookName]) {\n    const ret = obj.__hooks[hookName].call(obj, obj, ...args);\n    if (ret && ret.then) {\n      ret.then((data) => {\n        return data === false ? null : handler.call(obj, obj, ...args);\n      }).catch((e) => {\n        console.warn(`[runHooks]${hookName} reject`, e.message);\n      });\n    } else if (ret !== false) {\n      return handler.call(obj, obj, ...args);\n    }\n  } else {\n    return handler.call(obj, obj, ...args);\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(`[${pluginName}] event or callback cant be undefined or null when call ${msg}`);\n}\nclass BasePlugin {\n  static defineGetterOrSetter(Obj, map) {\n    for (const key in map) {\n      if (Object.prototype.hasOwnProperty.call(map, key)) {\n        Object.defineProperty(Obj, key, map[key]);\n      }\n    }\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  static get pluginName() {\n    return \"pluginName\";\n  }\n  constructor(args) {\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  beforeCreate(args) {\n  }\n  afterCreate() {\n  }\n  beforePlayerInit() {\n  }\n  onPluginsReady() {\n  }\n  afterPlayerInit() {\n  }\n  destroy() {\n  }\n  __init(args) {\n    this.player = args.player;\n    this.playerConfig = args.player && args.player.config;\n    this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n    this.logger = args.player && args.player.logger;\n  }\n  updateLang(lang) {\n    if (!lang) {\n      lang = this.lang;\n    }\n  }\n  get lang() {\n    return this.player.lang;\n  }\n  get i18n() {\n    return this.player.i18n;\n  }\n  get i18nKeys() {\n    return this.player.i18nKeys;\n  }\n  get domEventType() {\n    let _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n    if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n      _e = this.playerConfig.domEventType;\n    }\n    return _e;\n  }\n  on(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      this.__events[event] = callback;\n      this.player.on(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback;\n        this.player.on(item, callback);\n      });\n    }\n  }\n  once(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      this.__onceEvents[event] = callback;\n      this.player.once(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__onceEvents[item] = callback;\n        this.player.once(event, callback);\n      });\n    }\n  }\n  off(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      delete this.__events[event];\n      this.player.off(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        delete this.__events[event];\n        this.player.off(item, callback);\n      });\n    }\n  }\n  offAll() {\n    [\"__events\", \"__onceEvents\"].forEach((key) => {\n      Object.keys(this[key]).forEach((item) => {\n        this[key][item] && this.off(item, this[key][item]);\n        item && delete this[key][item];\n      });\n    });\n    this.__events = {};\n    this.__onceEvents = {};\n  }\n  emit(event, ...res) {\n    if (!this.player) {\n      return;\n    }\n    this.player.emit(event, ...res);\n  }\n  emitUserAction(event, action, params = {}) {\n    if (!this.player) {\n      return;\n    }\n    const nParams = {\n      ...params,\n      pluginName: this.pluginName\n    };\n    this.player.emitUserAction(event, action, nParams);\n  }\n  hook(hookName, handler, preset = { pre: null, next: null }) {\n    return hook.call(this, ...arguments);\n  }\n  useHooks(hookName, handler, ...args) {\n    return useHooks.call(this, ...arguments);\n  }\n  removeHooks(hookName, handler, ...args) {\n    return removeHooks.call(this, ...arguments);\n  }\n  registerPlugin(plugin, options = {}, name = \"\") {\n    if (!this.player) {\n      return;\n    }\n    name && (options.pluginName = name);\n    return this.player.registerPlugin({ plugin, options });\n  }\n  getPlugin(name) {\n    return this.player ? this.player.getPlugin(name) : null;\n  }\n  __destroy() {\n    const player = this.player;\n    const pluginName = this.pluginName;\n    this.offAll();\n    util.clearAllTimers(this);\n    if (util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map((item) => {\n      this[item] = null;\n    });\n    player.unRegisterPlugin(pluginName);\n    delHooksDescriptor(this);\n  }\n}\nexport { BasePlugin as default };\n","import BasePlugin from \"./basePlugin.js\";\nimport delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nconst ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nconst POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nconst PLUGIN_STATE_CLASS = {\n  ICON_DISABLE: \"xg-icon-disable\",\n  ICON_HIDE: \"xg-icon-hide\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (typeof icon === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return `${classname} ${icon.class}`;\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (typeof icon === \"object\" && icon.attr && typeof icon.attr === \"object\") {\n    Object.keys(icon.attr).map((key) => {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key, classname = \"\", attr = {}, pluginName = \"\") {\n  let newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map((key2) => {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, `xg-img ${classname}`);\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map((key2) => {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(`warn>>icons.${key} in config of plugin named [${pluginName}] is a function mast return an Element Object`);\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(`Plugin named [${pluginName}]:createIcon`, e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(`warn>>icons.${key} in config of plugin named [${pluginName}] is invalid`);\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  const _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map((key) => {\n    const orgIcon = iconsConfig[key];\n    let classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    let attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    let newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.langText, key, {\n      get: () => {\n        const { lang, i18n } = plugin;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nclass Plugin extends BasePlugin {\n  static insert(html, parent, index = 0) {\n    const len = parent.children.length;\n    const insertIdx = Number(index);\n    const isDomElement = html instanceof window.Node;\n    if (len) {\n      let i = 0;\n      let coordinate = null;\n      let mode = \"\";\n      for (; i < len; i++) {\n        coordinate = parent.children[i];\n        const curIdx = Number(coordinate.getAttribute(\"data-index\"));\n        if (curIdx >= insertIdx) {\n          mode = \"beforebegin\";\n          break;\n        } else if (curIdx < insertIdx) {\n          mode = \"afterend\";\n        }\n      }\n      if (isDomElement) {\n        if (mode === \"afterend\") {\n          parent.appendChild(html);\n        } else {\n          parent.insertBefore(html, coordinate);\n        }\n      } else {\n        coordinate.insertAdjacentHTML(mode, html);\n      }\n      return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n    } else {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n      return parent.children[parent.children.length - 1];\n    }\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  static delegate(root, querySelector, eventType, callback, capture = false) {\n    const dels = [];\n    if (root instanceof window.Node && typeof callback === \"function\") {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          const ret = delegate(root, querySelector, item, callback, capture);\n          ret.key = `${querySelector}_${item}`;\n          dels.push(ret);\n        });\n      } else {\n        const ret = delegate(root, querySelector, eventType, callback, capture);\n        ret.key = `${querySelector}_${eventType}`;\n        dels.push(ret);\n      }\n    }\n    return dels;\n  }\n  static get ROOT_TYPES() {\n    return ROOT_TYPES;\n  }\n  static get POSITIONS() {\n    return POSITIONS;\n  }\n  constructor(args = {}) {\n    super(args);\n    this.__delegates = [];\n  }\n  __init(args) {\n    super.__init(args);\n    if (!args.root) {\n      return;\n    }\n    const _parent = args.root;\n    let _el = null;\n    this.icons = {};\n    this.root = null;\n    this.parent = null;\n    const _orgicons = this.registerIcons() || {};\n    registerIconsObj(_orgicons, this);\n    this.langText = {};\n    const defaultTexConfig = this.registerLanguageTexts() || {};\n    registerTextObj(defaultTexConfig, this);\n    let renderStr = \"\";\n    try {\n      renderStr = this.render();\n    } catch (e) {\n      XG_DEBUG.logError(`Plugin:${this.pluginName}:render`, e);\n      throw new Error(`Plugin:${this.pluginName}:render:${e.message}`);\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index);\n      _el.setAttribute(\"data-index\", args.index);\n    } else if (args.tag) {\n      _el = util.createDom(args.tag, \"\", args.attr, args.name);\n      _el.setAttribute(\"data-index\", args.index);\n      _parent.appendChild(_el);\n    } else {\n      return;\n    }\n    this.root = _el;\n    this.parent = _parent;\n    const attr = this.config.attr || {};\n    const style = this.config.style || {};\n    this.setAttr(attr);\n    this.setStyle(style);\n    if (this.config.index) {\n      this.root.setAttribute(\"data-index\", this.config.index);\n    }\n    this.__registerChildren();\n  }\n  __registerChildren() {\n    if (!this.root) {\n      return;\n    }\n    this._children = [];\n    const children = this.children();\n    if (children && typeof children === \"object\") {\n      if (Object.keys(children).length > 0) {\n        Object.keys(children).map((item) => {\n          const name = item;\n          const _plugin = children[name];\n          const options = {\n            root: this.root\n          };\n          let config, Plugin2;\n          if (typeof _plugin === \"function\") {\n            config = this.config[name] || {};\n            Plugin2 = _plugin;\n          } else if (typeof _plugin === \"object\" && typeof _plugin.plugin === \"function\") {\n            config = _plugin.options ? util.deepCopy(this.config[name] || {}, _plugin.options) : this.config[name] || {};\n            Plugin2 = _plugin.plugin;\n          }\n          options.config = config;\n          config.index !== void 0 && (options.index = config.index);\n          config.root && (options.root = config.root);\n          this.registerPlugin(Plugin2, options, name);\n        });\n      }\n    }\n  }\n  updateLang(lang) {\n    if (!lang) {\n      lang = this.lang;\n    }\n    function checkChildren(node, callback) {\n      for (let i = 0; i < node.children.length; i++) {\n        if (node.children[i].children.length > 0) {\n          checkChildren(node.children[i], callback);\n        } else {\n          callback(node.children[i]);\n        }\n      }\n    }\n    const { root, i18n, langText } = this;\n    if (root) {\n      checkChildren(root, (node) => {\n        const langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n        if (!langKey) {\n          return;\n        }\n        const langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n        if (langTextShow) {\n          node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n        }\n      });\n    }\n  }\n  get lang() {\n    return this.player.lang;\n  }\n  changeLangTextKey(dom, key = \"\") {\n    const i18n = this.i18n || {};\n    const langText = this.langText;\n    dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n    const text = i18n[key] || langText[key] || \"\";\n    if (text) {\n      dom.innerHTML = text;\n    }\n  }\n  plugins() {\n    return this._children;\n  }\n  disable() {\n    this.config.disable = true;\n    util.addClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n  }\n  enable() {\n    this.config.disable = false;\n    util.removeClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n  }\n  children() {\n    return {};\n  }\n  registerPlugin(plugin, options = {}, name = \"\") {\n    options.root = options.root || this.root;\n    const _c = super.registerPlugin(plugin, options, name);\n    this._children.push(_c);\n    return _c;\n  }\n  registerIcons() {\n    return {};\n  }\n  registerLanguageTexts() {\n    return {};\n  }\n  find(qs) {\n    if (!this.root) {\n      return;\n    }\n    return this.root.querySelector(qs);\n  }\n  bind(querySelector, eventType, callback) {\n    if (arguments.length < 3 && typeof eventType === \"function\") {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType);\n        });\n      } else {\n        this.bindEL(querySelector, eventType);\n      }\n    } else {\n      const ret = Plugin.delegate.call(this, this.root, querySelector, eventType, callback);\n      this.__delegates = this.__delegates.concat(ret);\n    }\n  }\n  unbind(querySelector, eventType) {\n    if (arguments.length < 3 && typeof eventType === \"function\") {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType);\n        });\n      } else {\n        this.unbindEL(querySelector, eventType);\n      }\n    } else {\n      const key = `${querySelector}_${eventType}`;\n      for (let i = 0; i < this.__delegates.length; i++) {\n        if (this.__delegates[i].key === key) {\n          this.__delegates[i].destroy();\n          this.__delegates.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n  setStyle(name, value) {\n    if (!this.root) {\n      return;\n    }\n    if (util.typeOf(name) === \"String\") {\n      return this.root.style[name] = value;\n    } else if (util.typeOf(name) === \"Object\") {\n      Object.keys(name).map((key) => {\n        this.root.style[key] = name[key];\n      });\n    }\n  }\n  setAttr(name, value) {\n    if (!this.root) {\n      return;\n    }\n    if (util.typeOf(name) === \"String\") {\n      return this.root.setAttribute(name, value);\n    } else if (util.typeOf(name) === \"Object\") {\n      Object.keys(name).map((key) => {\n        this.root.setAttribute(key, name[key]);\n      });\n    }\n  }\n  setHtml(htmlStr, callback) {\n    if (!this.root) {\n      return;\n    }\n    this.root.innerHTML = htmlStr;\n    if (typeof callback === \"function\") {\n      callback();\n    }\n  }\n  bindEL(event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return;\n    }\n    if (`on${event}` in this.root && typeof eventHandle === \"function\") {\n      this.root.addEventListener(event, eventHandle, isBubble);\n    }\n  }\n  unbindEL(event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return;\n    }\n    if (`on${event}` in this.root && typeof eventHandle === \"function\") {\n      this.root.removeEventListener(event, eventHandle, isBubble);\n    }\n  }\n  show(value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== void 0 ? value : \"block\";\n    const cs = window.getComputedStyle(this.root, null);\n    const cssDisplayValue = cs.getPropertyValue(\"display\");\n    if (cssDisplayValue === \"none\") {\n      return this.root.style.display = \"block\";\n    }\n  }\n  hide() {\n    this.root && (this.root.style.display = \"none\");\n  }\n  appendChild(pdom, child) {\n    if (!this.root) {\n      return null;\n    }\n    if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n      return this.root.appendChild(arguments[0]);\n    }\n    if (!child || !(child instanceof window.Element)) {\n      return null;\n    }\n    try {\n      if (typeof pdom === \"string\") {\n        return this.find(pdom).appendChild(child);\n      } else {\n        return pdom.appendChild(child);\n      }\n    } catch (err) {\n      XG_DEBUG.logError(\"Plugin:appendChild\", err);\n      return null;\n    }\n  }\n  render() {\n    return \"\";\n  }\n  destroy() {\n  }\n  __destroy() {\n    const { player } = this;\n    this.__delegates.map((item) => {\n      item.destroy();\n    });\n    this.__delegates = [];\n    if (this._children instanceof Array) {\n      this._children.map((item) => {\n        player.unRegisterPlugin(item.pluginName);\n      });\n      this._children = null;\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty(\"remove\")) {\n        this.root.remove();\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root);\n      }\n    }\n    super.__destroy();\n    this.icons = {};\n    [\"root\", \"parent\"].map((item) => {\n      this[item] = null;\n    });\n  }\n}\nexport { PLUGIN_STATE_CLASS, POSITIONS, ROOT_TYPES, Plugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nclass ResizeObserver {\n  constructor() {\n    __publicField(this, \"__trigger\", (entries) => {\n      const t = new Date().getTime();\n      this.timeStamp = t;\n      for (let i = 0; i < entries.length; i++) {\n        this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, { trailing: true }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  addObserver(target, handler) {\n    if (!this.observer) {\n      return;\n    }\n    this.observer && this.observer.observe(target);\n    const _pid = target.getAttribute(PLATER_ID);\n    const { __handlers } = this;\n    let index = -1;\n    for (let i = 0; i < __handlers.length; i++) {\n      if (__handlers[i] && target === __handlers[i].target) {\n        index = i;\n      }\n    }\n    if (index > -1) {\n      this.__handlers[index].handler = handler;\n    } else {\n      this.__handlers.push({\n        target,\n        handler,\n        playerId: _pid\n      });\n    }\n  }\n  unObserver(target) {\n    let i = -1;\n    this.__handlers.map((item, index) => {\n      if (target === item.target) {\n        i = index;\n      }\n    });\n    try {\n      this.observer && this.observer.unobserve(target);\n    } catch (e) {\n    }\n    this.observer && this.observer.unobserve(target);\n    i > -1 && this.__handlers.splice(i, 1);\n  }\n  destroyObserver() {\n    this.observer && this.observer.disconnect();\n    this.observer = null;\n    this.__handlers = null;\n  }\n  __runHandler(target) {\n    const { __handlers } = this;\n    for (let i = 0; i < __handlers.length; i++) {\n      if (__handlers[i] && target === __handlers[i].target) {\n        try {\n          __handlers[i].handler(target);\n        } catch (error) {\n          console.error(error);\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n}\nlet resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nconst pluginsManager = {\n  pluginGroup: {},\n  init(player) {\n    let cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = util.generateSessionId();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && player.root && addObserver(player.root, () => {\n      player.resize();\n    });\n    this.pluginGroup[cgid] = {\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  formatPluginInfo(plugin, config) {\n    let PLUFGIN = null;\n    let options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits(pluginName, plugins) {\n    for (let i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig(pluginName, playerConfig) {\n    const keys = Object.keys(playerConfig);\n    let _pConfig = null;\n    for (let i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister(player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default;\n        } else {\n          result = plugin;\n        }\n        this.register(player, result, plugin.options);\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error(\"timeout\"));\n        }, timeout);\n      })\n    ]);\n  },\n  register(player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    const originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = player;\n    const pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(`not supported plugin [${pluginName}]`);\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    const keys = Object.keys(originalOptions);\n    for (let i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        const config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach((key) => {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(`the is one plugin with same pluginName [${pluginName}] exist, destroy the old instance`);\n      }\n      const _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      const plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(`[unRegister:${name}] cgid:[${cgid}] error`, e);\n    }\n  },\n  deletePlugin(player, name) {\n    const cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins(player) {\n    const cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin(player, name) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    const cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit(player) {\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId;\n        if (!this.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        const plugins = this.pluginGroup[cgid]._plugins;\n        const pluginsRet = [];\n        Object.keys(plugins).forEach((pName) => {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              const ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([...pluginsRet]).then(() => {\n          resolve();\n        }).catch((e) => {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((pName) => {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang(lang, player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((item) => {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(`${item} setLang`);\n        }\n      }\n    });\n  },\n  reRender(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const _pList = [];\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((pName) => {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        this.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach((item) => {\n      this.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach((key) => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  destroy(player) {\n    const cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    player.root && unObserver(player.root);\n    const plugins = this.pluginGroup[cgid]._plugins;\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item);\n    }\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  BUILTIN_CLASS: \"xgplayer-built-in\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    isNoRoot: false,\n    isCustomRoot: true,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: () => {\n    },\n    enableSwipeHandler: () => {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: { list: [] },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  const { plugins = [], ignores = [], icons = {}, i18n = [] } = presetInst;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n  Object.keys(icons).map((key) => {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  const _ci18n = player.config.i18n || [];\n  i18n.push(..._ci18n);\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","import util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nconst XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach((key) => {\n    const _s = util.typeOf(src[key]);\n    const _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      dst[key].push(...src[key]);\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map((key) => {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  let ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map((lang2) => {\n      const keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  const { lang } = i18nLangs;\n  ext.map((item) => {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  let _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  const texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  const ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  ret.langKeys.push(...XGI18nLang.langKeys);\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nconst I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    const ret = {};\n    XGI18nLang.langKeys.map((key) => {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","const STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nconst STATE_ARRAY = [\n  \"ERROR\",\n  \"INITIAL\",\n  \"READY\",\n  \"ATTACHING\",\n  \"ATTACHED\",\n  \"NOTALLOW\",\n  \"RUNNING\",\n  \"ENDED\",\n  \"DESTROYED\"\n];\nexport { STATES, STATE_ARRAY };\n","import { EventEmitter } from \"eventemitter3\";\nconst store = {};\nlet instance = null;\nclass InstManager extends EventEmitter {\n  static getInstance() {\n    instance || (instance = new InstManager());\n    return instance;\n  }\n  add(player) {\n    if (!player) {\n      return;\n    }\n    store[player.playerId] = player;\n    if (Object.keys(store).length === 1) {\n      this.setActive(player.playerId, true);\n    }\n  }\n  remove(player) {\n    if (!player) {\n      return;\n    }\n    player.isUserActive;\n    delete store[player.playerId];\n  }\n  _iterate(fn, endEarly = false) {\n    for (const key in store) {\n      if (Object.prototype.hasOwnProperty.call(store, key)) {\n        const player = store[key];\n        if (endEarly) {\n          if (fn(player)) {\n            break;\n          }\n        } else {\n          fn(player);\n        }\n      }\n    }\n  }\n  forEach(fn) {\n    this._iterate(fn);\n  }\n  find(fn) {\n    let result = null;\n    this._iterate((player) => {\n      const flag = fn(player);\n      if (flag) {\n        result = player;\n      }\n      return flag;\n    }, true);\n    return result;\n  }\n  findAll(fn) {\n    const results = [];\n    this._iterate((player) => {\n      if (fn(player)) {\n        results.push(player);\n      }\n    });\n    return results;\n  }\n  setActive(playerId, isActive = true) {\n    if (!store[playerId]) {\n      return;\n    }\n    if (isActive) {\n      this.forEach((inst) => {\n        if (playerId === inst.playerId) {\n          inst.isUserActive = true;\n          inst.isInstNext = false;\n        } else {\n          inst.isUserActive = false;\n        }\n      });\n    } else {\n      store[playerId].isUserActive = isActive;\n    }\n    return playerId;\n  }\n  getActiveId() {\n    const keys = Object.keys(store);\n    for (let i = 0; i < keys.length; i++) {\n      const c = store[keys[i]];\n      if (c && c.isUserActive) {\n        return keys[i];\n      }\n    }\n    return null;\n  }\n  setNext(playerId, isNext = true) {\n    if (!store[playerId]) {\n      return;\n    }\n    if (isNext) {\n      this.forEach((inst) => {\n        if (playerId === inst.playerId) {\n          inst.isUserActive = false;\n          inst.isInstNext = true;\n        } else {\n          inst.isInstNext = false;\n        }\n      });\n    } else {\n      store[playerId].isInstNext = isNext;\n    }\n    return playerId;\n  }\n}\nfunction checkPlayerRoot(root) {\n  const keys = Object.keys(store);\n  for (let i = 0; i < keys.length; i++) {\n    const p = store[keys[i]];\n    if (p.root === root) {\n      return p;\n    }\n  }\n  return null;\n}\nexport { InstManager, checkPlayerRoot };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { READY, ERROR, LOADED_DATA, PLAY, CANPLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, REPLAY, FULLSCREEN_CHANGE, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, USER_ACTION, LOADING, PLAYNEXT, VIDEO_RESIZE } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nimport { InstManager, checkPlayerRoot } from \"./instManager.js\";\nconst PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nlet REAL_TIME_SPEED = 0;\nlet AVG_SPEED = 0;\nlet instManager = null;\nconst _Player = class extends MediaProxy {\n  constructor(options) {\n    const config = util.deepMerge(getDefaultConfig(), options);\n    super(config);\n    __publicField(this, \"canPlayFunc\", () => {\n      if (!this.config) {\n        return;\n      }\n      const { autoplay, defaultPlaybackRate } = this.config;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", this.__startTime);\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime > this.duration ? this.duration : this.__startTime;\n        this.__startTime = -1;\n      }\n      this.playbackRate = defaultPlaybackRate;\n      (autoplay || this._useAutoplay) && this.mediaPlay();\n      this.off(CANPLAY, this.canPlayFunc);\n      this.removeClass(STATE_CLASS.ENTER);\n    });\n    __publicField(this, \"onFullscreenChange\", (event, isFullScreen) => {\n      const delayResize = () => {\n        util.setTimeout(this, () => {\n          this.resize();\n        }, 100);\n      };\n      const fullEl = util.getFullScreenEl();\n      if (this._fullActionFrom) {\n        this._fullActionFrom = \"\";\n      } else {\n        this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: this.currentTime,\n          duration: this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      const isVideo = checkIsCurrentVideo(fullEl, this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === this._fullscreenEl || isVideo)) {\n        delayResize();\n        !this.config.closeFocusVideoFocus && this.media.focus();\n        this.fullscreen = true;\n        this.changeFullStyle(this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        this.emit(FULLSCREEN_CHANGE, true, this._fullScreenOffset);\n        if (this.cssfullscreen) {\n          this.exitCssFullscreen();\n        }\n      } else if (this.fullscreen) {\n        delayResize();\n        const { _fullScreenOffset, config } = this;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(this, () => {\n            this.fullscreen = false;\n            this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !this.config.closeFocusVideoFocus && this.media.focus();\n          this.fullscreen = false;\n          this._fullScreenOffset = null;\n        }\n        if (!this.cssfullscreen) {\n          this.recoverFullStyle(this.root, this._fullscreenEl, STATE_CLASS.FULLSCREEN);\n        } else {\n          this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        this._fullscreenEl = null;\n        this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    __publicField(this, \"_onWebkitbeginfullscreen\", (e) => {\n      this._fullscreenEl = this.media;\n      this.onFullscreenChange(e, true);\n    });\n    __publicField(this, \"_onWebkitendfullscreen\", (e) => {\n      this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(this, PlAYER_HOOKS);\n    this.config = config;\n    this._pluginInfoId = util.generateSessionId();\n    bindDebug(this);\n    const defaultPreset = this.constructor.defaultPreset;\n    const { presets } = this.config;\n    if (presets.length) {\n      const defaultIdx = presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      presets.push(defaultPreset);\n    }\n    this.userTimer = null;\n    this.waitTimer = null;\n    this.handleSource = true;\n    this._state = STATES.INITIAL;\n    this.isError = false;\n    this._hasStart = false;\n    this.isSeeking = false;\n    this.isCanplay = false;\n    this._useAutoplay = false;\n    this.__startTime = -1;\n    this.rotateDeg = 0;\n    this.isActive = false;\n    this.fullscreen = false;\n    this.cssfullscreen = false;\n    this.isRotateFullscreen = false;\n    this._fullscreenEl = null;\n    this.timeSegments = [];\n    this._cssfullscreenEl = null;\n    this.curDefinition = null;\n    this._orgCss = \"\";\n    this._fullScreenOffset = null;\n    this._videoHeight = 0;\n    this._videoWidth = 0;\n    this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    this.innerContainer = null;\n    this.topBar = null;\n    this.root = null;\n    this.__i18n = I18N.init(this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      this.config.autoplay = false;\n    }\n    this.database = new INDEXDB();\n    this.isUserActive = false;\n    this._onceSeekCanplay = null;\n    this._isPauseBeforeSeek = 0;\n    this.innerStates = {\n      isActiveLocked: false\n    };\n    this.instManager = instManager;\n    this._initMedia();\n    const { isNoRoot } = this.config;\n    const rootInit = !isNoRoot && this._initDOM();\n    if (!isNoRoot && !rootInit) {\n      console.error(\n        new Error(\n          `can't find the dom which id is ${this.config.id} or this.config.el does not exist`\n        )\n      );\n      return;\n    }\n    pluginsManager.init(this);\n    const { definition = {}, url } = this.config;\n    if (!url && definition.list && definition.list.length > 0) {\n      let defaultDefinitionObj = definition.list.find(\n        (e) => e.definition && e.definition === definition.defaultDefinition\n      );\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      this.config.url = defaultDefinitionObj.url;\n      this.curDefinition = defaultDefinitionObj;\n    }\n    this._bindEvents();\n    this._registerPresets();\n    this._registerPlugins();\n    pluginsManager.onPluginsReady(this);\n    this.getInitDefinition();\n    this.setState(STATES.READY);\n    util.setTimeout(this, () => {\n      this.emit(READY);\n    }, 0);\n    this.onReady && this.onReady();\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        this.start();\n      }\n    }\n  }\n  static set debugger(value) {\n    XG_DEBUG.config.debug = value;\n  }\n  static get version() {\n    return version;\n  }\n  static get debugger() {\n    return XG_DEBUG.config.debug;\n  }\n  static set instManager(value) {\n    instManager = value;\n  }\n  static get instManager() {\n    return instManager;\n  }\n  static getCurrentUserActivePlayerId() {\n    return instManager == null ? void 0 : instManager.getActiveId();\n  }\n  static setCurrentUserActive(playerId, isActive) {\n    instManager == null ? void 0 : instManager.setActive(playerId, isActive);\n  }\n  _initMedia() {\n    const XgVideoProxy = this.constructor.XgVideoProxy;\n    if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n      const el = this.innerContainer || this.root;\n      this.detachVideoEvents(this.media);\n      const _nVideo = new XgVideoProxy(el, this.config, this.mediaConfig);\n      this.attachVideoEvents(_nVideo);\n      this.media = _nVideo;\n    }\n    this.media.setAttribute(PLATER_ID, this.playerId);\n  }\n  _initDOM() {\n    const { id, el, isCustomRoot, controls, autoplay, isMobileSimulateMode } = this.config;\n    this.root = id ? document.getElementById(id) : null;\n    if (!this.root) {\n      if (el && el.nodeType === 1) {\n        this.root = el;\n      } else if (isCustomRoot) {\n        this.emit(\n          ERROR,\n          new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          })\n        );\n        console.error(\"this.confg.id or this.config.el can't be empty\");\n        return false;\n      } else {\n        this.root = util.createDom(\"div\", \"\", { id, class: STATE_CLASS.BUILTIN_CLASS });\n      }\n    }\n    const ret = checkPlayerRoot(this.root);\n    if (ret) {\n      XG_DEBUG.logWarn(\n        \"The is an Player instance already exists in this.root, destroy it and reinitialize\"\n      );\n      ret.destroy();\n    }\n    this.root.setAttribute(PLATER_ID, this.playerId);\n    instManager == null ? void 0 : instManager.add(this);\n    this._initBaseDoms();\n    const device = isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n    this.addClass(\n      `${STATE_CLASS.DEFAULT} ${STATE_CLASS.INACTIVE} xgplayer-${device} ${controls ? \"\" : STATE_CLASS.NO_CONTROLS}`\n    );\n    if (autoplay) {\n      this.addClass(STATE_CLASS.ENTER);\n    } else {\n      this.addClass(STATE_CLASS.NO_START);\n    }\n    if (this.config.fluid) {\n      let { width: width2, height: height2 } = this.config;\n      if (typeof width2 !== \"number\" || typeof height2 !== \"number\") {\n        width2 = 600;\n        height2 = 337.5;\n      }\n      const style = {\n        width: \"100%\",\n        height: \"0\",\n        \"max-width\": \"100%\",\n        \"padding-top\": `${height2 * 100 / width2}%`\n      };\n      Object.keys(style).forEach((key) => {\n        this.root.style[key] = style[key];\n      });\n    } else {\n      [\"width\", \"height\"].forEach((key) => {\n        if (this.config[key]) {\n          if (typeof this.config[key] !== \"number\") {\n            this.root.style[key] = this.config[key];\n          } else {\n            this.root.style[key] = `${this.config[key]}px`;\n          }\n        }\n      });\n    }\n    const { width, height, left, top } = this.root.getBoundingClientRect();\n    this.sizeInfo.width = width;\n    this.sizeInfo.height = height;\n    this.sizeInfo.left = left;\n    this.sizeInfo.top = top;\n    return true;\n  }\n  _initBaseDoms() {\n    this.topBar = null;\n    this.leftBar = null;\n    this.rightBar = null;\n    if (this.config.marginControls) {\n      this.innerContainer = util.createDom(\n        \"xg-video-container\",\n        \"\",\n        { \"data-index\": -1 },\n        \"xg-video-container\"\n      );\n      this.root.appendChild(this.innerContainer);\n    }\n  }\n  _bindEvents() {\n    [\"focus\", \"blur\"].forEach((item) => {\n      this.on(item, this[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n    });\n    FULLSCREEN_EVENTS.forEach((item) => {\n      document && document.addEventListener(item, this.onFullscreenChange);\n    });\n    if (sniffer.os.isIos) {\n      this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n    this.once(LOADED_DATA, this.resize);\n    this.playFunc = () => {\n      if (!this.config.closeFocusVideoFocus) {\n        this.media.focus();\n      }\n    };\n    this.once(PLAY, this.playFunc);\n  }\n  _unbindEvents() {\n    this.root && this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n    FULLSCREEN_EVENTS.forEach((item) => {\n      document.removeEventListener(item, this.onFullscreenChange);\n    });\n    this.playFunc && this.off(PLAY, this.playFunc);\n    this.off(CANPLAY, this.canPlayFunc);\n    this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n    this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n  }\n  _clearUserTimer() {\n    if (!this.userTimer) {\n      return;\n    }\n    util.clearTimeout(this, this.userTimer);\n    this.userTimer = null;\n  }\n  _startInit(url) {\n    if (!this.media) {\n      return;\n    }\n    if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n      url = \"\";\n      this.emit(URL_NULL);\n      XG_DEBUG.logWarn(\n        \"config.url is null, please get url and run player._startInit(url)\"\n      );\n      if (this.config.nullUrlStart) {\n        return;\n      }\n    }\n    if (this.handleSource) {\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        this._attachSourceEvents(this.media, url);\n      } else if (!this.media.src || this.media.src !== url) {\n        this.media.src = url;\n      } else if (!url) {\n        this.media.removeAttribute(\"src\");\n      }\n    }\n    if (util.typeOf(this.config.volume) === \"Number\") {\n      this.volume = this.config.volume;\n    }\n    const _root = this.innerContainer ? this.innerContainer : this.root;\n    if (_root && this.media instanceof window.Element && !_root.contains(this.media)) {\n      _root.insertBefore(this.media, _root.firstChild);\n    }\n    const { readyState } = this.media;\n    XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n    if (this.config.autoplay) {\n      !util.isMSE(this.media) && this.load();\n      (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n    }\n    const { startTime } = this.config;\n    this.__startTime = startTime > 0 ? startTime : -1;\n    this.config.startTime = 0;\n    if (readyState >= 2 && this.duration > 0) {\n      this.canPlayFunc();\n    } else {\n      this.on(CANPLAY, this.canPlayFunc);\n    }\n    if (!this.hasStart || this.state < STATES.ATTACHED) {\n      pluginsManager.afterInit(this);\n    }\n    this.hasStart = true;\n    this.setState(STATES.ATTACHED);\n    util.setTimeout(this, () => {\n      this.emit(COMPLETE);\n    }, 0);\n  }\n  _registerPlugins(isInit = true) {\n    this._loadingPlugins = [];\n    const ignores = this.config.ignores || [];\n    const plugins = this.config.plugins || [];\n    const i18n = this.config.i18n || [];\n    isInit && I18N.extend(i18n, this.__i18n);\n    const ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n    const cuPlugins = this.plugins;\n    plugins.forEach((plugin) => {\n      try {\n        const pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n        if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n          return null;\n        }\n        if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n          return;\n        }\n        if (plugin.lazy && plugin.loader) {\n          const loadingPlugin = pluginsManager.lazyRegister(this, plugin);\n          if (plugin.forceBeforeInit) {\n            loadingPlugin.then(() => {\n              this._loadingPlugins.splice(\n                this._loadingPlugins.indexOf(loadingPlugin),\n                1\n              );\n            }).catch((e) => {\n              XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n              this._loadingPlugins.splice(\n                this._loadingPlugins.indexOf(loadingPlugin),\n                1\n              );\n            });\n            this._loadingPlugins.push(loadingPlugin);\n          }\n          return;\n        }\n        return this.registerPlugin(plugin);\n      } catch (err) {\n        XG_DEBUG.logError(\"_registerPlugins:\", err);\n      }\n    });\n  }\n  _registerPresets() {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset);\n    });\n  }\n  _getRootByPosition(position) {\n    let _root = null;\n    switch (position) {\n      case POSITIONS.ROOT_RIGHT:\n        if (!this.rightBar) {\n          this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n        }\n        _root = this.rightBar;\n        break;\n      case POSITIONS.ROOT_LEFT:\n        if (!this.leftBar) {\n          this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n        }\n        _root = this.leftBar;\n        break;\n      case POSITIONS.ROOT_TOP:\n        if (!this.topBar) {\n          this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n          if (this.config.topBarAutoHide) {\n            util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n          }\n        }\n        _root = this.topBar;\n        break;\n      default:\n        _root = this.innerContainer || this.root;\n        break;\n    }\n    return _root;\n  }\n  registerPlugin(plugin, config) {\n    const _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n    const { PLUFGIN, options } = _retPlugin;\n    const { plugins } = this.config;\n    const exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n    !exits && plugins.push(PLUFGIN);\n    const _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n    _pConfig.root && (options.root = _pConfig.root);\n    _pConfig.position && (options.position = _pConfig.position);\n    const position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n    if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n      return this.controls && this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n    }\n    if (!options.root) {\n      options.root = PLUFGIN.pluginName === \"controls\" ? this.root : this._getRootByPosition(position);\n    }\n    return pluginsManager.register(this, PLUFGIN, options);\n  }\n  deregister(plugin) {\n    if (typeof plugin === \"string\") {\n      pluginsManager.unRegister(this, plugin);\n    } else if (plugin instanceof BasePlugin) {\n      pluginsManager.unRegister(this, plugin.pluginName);\n    }\n  }\n  unRegisterPlugin(plugin, removedFromConfig = false) {\n    this.deregister(plugin);\n    if (removedFromConfig) {\n      this.removePluginFromConfig(plugin);\n    }\n  }\n  removePluginFromConfig(plugin) {\n    let pluginName;\n    if (typeof plugin === \"string\") {\n      pluginName = plugin;\n    } else if (plugin instanceof BasePlugin) {\n      pluginName = plugin.pluginName;\n    }\n    if (!pluginName) {\n      return;\n    }\n    for (let i = this.config.plugins.length - 1; i > -1; i--) {\n      const plugin2 = this.config.plugins[i];\n      if (plugin2.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n        this.config.plugins.splice(i, 1);\n        break;\n      }\n    }\n  }\n  get plugins() {\n    return pluginsManager.getPlugins(this);\n  }\n  getPlugin(pluginName) {\n    const plugin = pluginsManager.findPlugin(this, pluginName);\n    return plugin && plugin.pluginName ? plugin : null;\n  }\n  addClass(className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className);\n    }\n  }\n  removeClass(className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className);\n  }\n  hasClass(className) {\n    if (!this.root) {\n      return;\n    }\n    return util.hasClass(this.root, className);\n  }\n  setAttribute(key, value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.setAttribute(key, value);\n  }\n  removeAttribute(key, value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.removeAttribute(key, value);\n  }\n  start(url) {\n    if (this.state > STATES.ATTACHING) {\n      return;\n    }\n    if (!url && !this.config.url) {\n      this.getInitDefinition();\n    }\n    this.hasStart = true;\n    this.setState(STATES.ATTACHING);\n    this._registerPlugins(false);\n    return pluginsManager.beforeInit(this).then(() => {\n      if (!this.config) {\n        return;\n      }\n      if (!url) {\n        url = this.url || this.config.url;\n      }\n      const _furl = this._preProcessUrl(url);\n      const ret = this._startInit(_furl.url);\n      return ret;\n    }).catch((e) => {\n      e.fileName = \"player\";\n      e.lineNumber = \"236\";\n      XG_DEBUG.logError(\"start:beforeInit:\", e);\n      throw e;\n    });\n  }\n  switchURL(url, options) {\n    let _src = url;\n    if (util.typeOf(url) === \"Object\") {\n      _src = url.url;\n    }\n    _src = this._preProcessUrl(_src).url;\n    const curTime = this.currentTime;\n    this.__startTime = curTime;\n    const isPaused = this.paused && !this.isError;\n    this.src = _src;\n    return new Promise((resolve, reject) => {\n      const _error = (e) => {\n        this.off(\"timeupdate\", _canplay);\n        this.off(\"canplay\", _canplay);\n        reject(e);\n      };\n      const _canplay = () => {\n        if (this.duration > 0 && this.__startTime > 0) {\n          this.currentTime = this.__startTime;\n          this.__startTime = -1;\n        }\n        if (isPaused) {\n          this.pause();\n        }\n        this.off(\"error\", _error);\n        resolve(true);\n      };\n      this.once(\"error\", _error);\n      if (!_src) {\n        this.errorHandler(\"error\", { code: 6, message: \"empty_src\" });\n        return;\n      }\n      if (sniffer.os.isAndroid) {\n        this.once(\"timeupdate\", _canplay);\n      } else {\n        this.once(\"canplay\", _canplay);\n      }\n      this.play();\n    });\n  }\n  videoPlay() {\n    this.mediaPlay();\n  }\n  mediaPlay() {\n    if (!this.hasStart && this.state < STATES.ATTACHED) {\n      this.removeClass(STATE_CLASS.NO_START);\n      this.addClass(STATE_CLASS.ENTER);\n      this.start();\n      this._useAutoplay = true;\n      return;\n    }\n    if (this.state < STATES.RUNNING) {\n      this.removeClass(STATE_CLASS.NO_START);\n      !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n    }\n    const playPromise = super.play();\n    if (playPromise !== void 0 && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n        this.addClass(STATE_CLASS.PLAYING);\n        if (this.state < STATES.RUNNING) {\n          XG_DEBUG.logInfo(\">>>>playPromise.then\");\n          this.setState(STATES.RUNNING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }).catch((e) => {\n        XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n        if (this.media && this.media.error) {\n          this.onError();\n          this.removeClass(STATE_CLASS.ENTER);\n          return;\n        }\n        if (e.name === \"NotAllowedError\") {\n          this._errorTimer = util.setTimeout(\n            this,\n            () => {\n              this._errorTimer = null;\n              this.emit(AUTOPLAY_PREVENTED);\n              this.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              this.removeClass(STATE_CLASS.ENTER);\n              this.pause();\n              this.setState(STATES.NOTALLOW);\n            },\n            0\n          );\n        }\n      });\n    } else {\n      XG_DEBUG.logWarn(\"video.play not return promise\");\n      if (this.state < STATES.RUNNING) {\n        this.setState(STATES.RUNNING);\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n        this.removeClass(STATE_CLASS.NO_START);\n        this.removeClass(STATE_CLASS.ENTER);\n        this.addClass(STATE_CLASS.PLAYING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n    }\n    return playPromise;\n  }\n  mediaPause() {\n    super.pause();\n  }\n  videoPause() {\n    super.pause();\n  }\n  play() {\n    this.removeClass(STATE_CLASS.PAUSED);\n    return runHooks(this, \"play\", () => {\n      return this.mediaPlay();\n    });\n  }\n  pause() {\n    runHooks(this, \"pause\", () => {\n      super.pause();\n    });\n  }\n  seek(time, status) {\n    if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n      return;\n    }\n    const { isSeekedPlay, seekedStatus } = this.config;\n    const _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n    time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n    !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n    this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n    this._onceSeekCanplay = () => {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.isSeeking = false;\n      switch (_status) {\n        case \"play\":\n          this.play();\n          break;\n        case \"pause\":\n          this.pause();\n          break;\n        default:\n          this._isPauseBeforeSeek > 1 || this.paused ? this.pause() : this.play();\n      }\n      this._isPauseBeforeSeek = 0;\n      this._onceSeekCanplay = null;\n    };\n    this.once(SEEKED, this._onceSeekCanplay);\n    if (this.state < STATES.RUNNING) {\n      this.removeClass(STATE_CLASS.NO_START);\n      this.currentTime = time;\n      this.play();\n    } else {\n      this.currentTime = time;\n    }\n  }\n  getInitDefinition() {\n    const { definition, url } = this.config;\n    if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n      definition.list.map((item) => {\n        if (item.definition === definition.defaultDefinition) {\n          this.config.url = item.url;\n          this.curDefinition = item;\n        }\n      });\n    }\n  }\n  changeDefinition(to, from) {\n    const { definition } = this.config;\n    if (Array.isArray(definition == null ? void 0 : definition.list)) {\n      definition.list.forEach((item) => {\n        if ((to == null ? void 0 : to.definition) === item.definition) {\n          this.curDefinition = item;\n        }\n      });\n    }\n    if ((to == null ? void 0 : to.bitrate) && typeof to.bitrate !== \"number\") {\n      to.bitrate = parseInt(to.bitrate, 10) || 0;\n    }\n    this.emit(DEFINITION_CHANGE, { from, to });\n    if (!this.hasStart) {\n      this.config.url = to.url;\n      return;\n    }\n    const ret = this.switchURL(to.url, {\n      seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\",\n      ...to\n    });\n    if (ret && ret.then) {\n      ret.then(() => {\n        this.emit(AFTER_DEFINITION_CHANGE, { from, to });\n      });\n    } else {\n      this.emit(AFTER_DEFINITION_CHANGE, { from, to });\n    }\n  }\n  reload() {\n    this.load();\n    this.reloadFunc = function() {\n      this.play();\n    };\n    this.once(LOADED_DATA, this.reloadFunc);\n  }\n  resetState() {\n    const {\n      NOT_ALLOW_AUTOPLAY,\n      PLAYING,\n      NO_START,\n      PAUSED,\n      REPLAY: REPLAY2,\n      ENTER,\n      ENDED,\n      ERROR: ERROR2,\n      LOADING: LOADING2\n    } = STATE_CLASS;\n    const clsList = [\n      NOT_ALLOW_AUTOPLAY,\n      PLAYING,\n      NO_START,\n      PAUSED,\n      REPLAY2,\n      ENTER,\n      ENDED,\n      ERROR2,\n      LOADING2\n    ];\n    this.hasStart = false;\n    this.isError = false;\n    this._useAutoplay = false;\n    this.mediaPause();\n    this._accPlayed.acc = 0;\n    this._accPlayed.t = 0;\n    this._accPlayed.loopAcc = 0;\n    clsList.forEach((cls) => {\n      this.removeClass(cls);\n    });\n    this.addClass(STATE_CLASS.NO_START);\n    this.emit(RESET);\n  }\n  reset(unregisterPlugins = [], isResetConfig) {\n    this.resetState();\n    const { plugins } = this;\n    if (!plugins) {\n      return;\n    }\n    unregisterPlugins.map((pn) => {\n      this.deregister(pn);\n    });\n    if (isResetConfig) {\n      const de = getDefaultConfig();\n      Object.keys(this.config).keys((k) => {\n        if (this.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n          this.config[k] = de[k];\n        }\n      });\n    }\n  }\n  destroy() {\n    const { innerContainer, root, media } = this;\n    if (!media) {\n      return;\n    }\n    this.hasStart = false;\n    this._useAutoplay = false;\n    root && root.removeAttribute(PLATER_ID);\n    this.updateAcc(\"destroy\");\n    this._unbindEvents();\n    this._detachSourceEvents(this.media);\n    util.clearAllTimers(this);\n    this.emit(DESTROY);\n    instManager == null ? void 0 : instManager.remove(this);\n    pluginsManager.destroy(this);\n    delHooksDescriptor(this);\n    super.destroy();\n    if (this.fullscreen && this._fullscreenEl === root) {\n      this.exitFullscreen();\n    }\n    if (innerContainer) {\n      const _c = innerContainer.children;\n      for (let i = 0; i < _c.length; i++) {\n        innerContainer.removeChild(_c[i]);\n      }\n    }\n    root && !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n    [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map((item) => {\n      this[item] && root.removeChild(this[item]);\n      this[item] = null;\n    });\n    const cList = root ? root.className.split(\" \") : [];\n    const isBuildIn = root && util.hasClass(root, STATE_CLASS.BUILTIN_CLASS);\n    if (cList.length > 0) {\n      root.className = cList.filter((name) => name.indexOf(\"xgplayer\") < 0).join(\" \");\n    } else {\n      root && (root.className = \"\");\n    }\n    this.removeAttribute(\"data-xgfill\");\n    [\n      \"isSeeking\",\n      \"isCanplay\",\n      \"isActive\",\n      \"cssfullscreen\",\n      \"fullscreen\"\n    ].forEach((key) => {\n      this[key] = false;\n    });\n    isBuildIn && this.root.parentNode && this.root.parentNode.removeChild(this.root);\n  }\n  replay() {\n    this.removeClass(STATE_CLASS.ENDED);\n    this.currentTime = 0;\n    this.isSeeking = false;\n    runHooks(this, \"replay\", () => {\n      this.once(SEEKED, () => {\n        const playPromise = this.mediaPlay();\n        if (playPromise && playPromise.catch) {\n          playPromise.catch((err) => {\n            console.log(err);\n          });\n        }\n      });\n      this.emit(REPLAY);\n      this.onPlay();\n    });\n  }\n  retry() {\n    this.removeClass(STATE_CLASS.ERROR);\n    this.addClass(STATE_CLASS.LOADING);\n    runHooks(this, \"retry\", () => {\n      const cur = this.currentTime;\n      const { url } = this.config;\n      const _srcRet = !util.isMSE(this.media) ? this._preProcessUrl(url) : { url };\n      this.src = _srcRet.url;\n      !this.config.isLive && (this.currentTime = cur);\n      this.once(CANPLAY, () => {\n        this.mediaPlay();\n      });\n    });\n  }\n  changeFullStyle(root, el, rootClass, pClassName) {\n    if (!root) {\n      return;\n    }\n    if (!pClassName) {\n      pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n    }\n    if (!this._orgCss) {\n      this._orgCss = util.filterStyleFromText(root);\n    }\n    util.addClass(root, rootClass);\n    if (el && el !== root && !this._orgPCss) {\n      this._orgPCss = util.filterStyleFromText(el);\n      util.addClass(el, pClassName);\n      el.setAttribute(PLATER_ID, this.playerId);\n    }\n  }\n  recoverFullStyle(root, el, rootClass, pClassName) {\n    if (!pClassName) {\n      pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n    }\n    if (this._orgCss) {\n      util.setStyleFromCsstext(root, this._orgCss);\n      this._orgCss = \"\";\n    }\n    util.removeClass(root, rootClass);\n    if (el && el !== root && this._orgPCss) {\n      util.setStyleFromCsstext(el, this._orgPCss);\n      this._orgPCss = \"\";\n      util.removeClass(el, pClassName);\n      el.removeAttribute(PLATER_ID);\n    }\n  }\n  getFullscreen(el = this.config.fullscreenTarget) {\n    const { root, media } = this;\n    if (!el) {\n      el = root;\n    }\n    this._fullScreenOffset = {\n      top: util.scrollTop(),\n      left: util.scrollLeft()\n    };\n    this._fullscreenEl = el;\n    this._fullActionFrom = \"get\";\n    const fullEl = util.getFullScreenEl();\n    if (fullEl === this._fullscreenEl) {\n      this.onFullscreenChange();\n      return Promise.resolve();\n    }\n    try {\n      for (let i = 0; i < GET_FULLSCREEN_API.length; i++) {\n        const key = GET_FULLSCREEN_API[i];\n        if (el[key]) {\n          const ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n          if (ret && ret.then) {\n            return ret;\n          } else {\n            return Promise.resolve();\n          }\n        }\n      }\n      if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n        media.webkitEnterFullscreen();\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(\"call getFullscreen fail\"));\n    } catch (err) {\n      return Promise.reject(new Error(\"call getFullscreen fail\"));\n    }\n  }\n  exitFullscreen(el) {\n    if (this.isRotateFullscreen) {\n      this.exitRotateFullscreen();\n    }\n    if (!this._fullscreenEl && !util.getFullScreenEl()) {\n      return;\n    }\n    const { root, media } = this;\n    this._fullActionFrom = \"exit\";\n    try {\n      for (let i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n        const key = EXIT_FULLSCREEN_API[i];\n        if (document[key]) {\n          const ret = document[key]();\n          if (ret && ret.then) {\n            return ret;\n          } else {\n            return Promise.resolve();\n          }\n        }\n      }\n      if (media && media.webkitSupportsFullscreen) {\n        media.webkitExitFullScreen();\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(\"call exitFullscreen fail\"));\n    } catch (err) {\n      return Promise.reject(new Error(\"call exitFullscreen fail\"));\n    }\n  }\n  getCssFullscreen(el = this.config.fullscreenTarget) {\n    if (this.isRotateFullscreen) {\n      this.exitRotateFullscreen();\n    } else if (this.fullscreen) {\n      this.exitFullscreen();\n    }\n    const _class = el ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.CSS_FULLSCREEN}` : STATE_CLASS.CSS_FULLSCREEN;\n    this.changeFullStyle(this.root, el, _class);\n    const { fullscreen = {} } = this.config;\n    const useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n    if (useCssFullscreen) {\n      this.fullscreen = true;\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n    this._cssfullscreenEl = el;\n    this.cssfullscreen = true;\n    this.emit(CSS_FULLSCREEN_CHANGE, true);\n  }\n  exitCssFullscreen() {\n    const _class = this._cssfullscreenEl ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.CSS_FULLSCREEN}` : STATE_CLASS.CSS_FULLSCREEN;\n    if (!this.fullscreen) {\n      this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n    } else {\n      const { fullscreen = {} } = this.config;\n      const useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n        this.fullscreen = false;\n        this.emit(FULLSCREEN_CHANGE, false);\n      } else {\n        this.removeClass(_class);\n      }\n    }\n    this._cssfullscreenEl = null;\n    this.cssfullscreen = false;\n    this.emit(CSS_FULLSCREEN_CHANGE, false);\n  }\n  getRotateFullscreen(el = this.config.fullscreenTarget) {\n    if (this.cssfullscreen) {\n      this.exitCssFullscreen(el);\n    }\n    const _class = el ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.ROTATE_FULLSCREEN}` : STATE_CLASS.ROTATE_FULLSCREEN;\n    this._fullscreenEl = el || this.root;\n    this.changeFullStyle(\n      this.root,\n      el,\n      _class,\n      STATE_CLASS.PARENT_ROTATE_FULLSCREEN\n    );\n    this.isRotateFullscreen = true;\n    this.fullscreen = true;\n    this.setRotateDeg(90);\n    this._rootStyle = this.root.getAttribute(\"style\");\n    this.root.style.width = `${window.innerHeight}px`;\n    this.emit(FULLSCREEN_CHANGE, true);\n  }\n  exitRotateFullscreen(el) {\n    const _class = this._fullscreenEl !== this.root ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.ROTATE_FULLSCREEN}` : STATE_CLASS.ROTATE_FULLSCREEN;\n    this.recoverFullStyle(\n      this.root,\n      this._fullscreenEl,\n      _class,\n      STATE_CLASS.PARENT_ROTATE_FULLSCREEN\n    );\n    this.isRotateFullscreen = false;\n    this.fullscreen = false;\n    this.setRotateDeg(0);\n    this.emit(FULLSCREEN_CHANGE, false);\n    if (this._rootStyle) {\n      this.root.style.style = this._rootStyle;\n      this._rootStyle = false;\n    }\n  }\n  setRotateDeg(deg) {\n    if (window.orientation === 90 || window.orientation === -90) {\n      this.rotateDeg = 0;\n    } else {\n      this.rotateDeg = deg;\n    }\n  }\n  focus(data = {\n    autoHide: !this.config.closeDelayBlur,\n    delay: this.config.inactive\n  }) {\n    if (this.isActive) {\n      this.onFocus(data);\n      return;\n    }\n    this.emit(PLAYER_FOCUS, {\n      paused: this.paused,\n      ended: this.ended,\n      ...data\n    });\n  }\n  blur(data = { ignorePaused: false }) {\n    if (!this.isActive) {\n      this.onBlur(data);\n      return;\n    }\n    this._clearUserTimer();\n    this.emit(PLAYER_BLUR, {\n      paused: this.paused,\n      ended: this.ended,\n      ...data\n    });\n  }\n  onFocus(data = { autoHide: true, delay: 3e3 }) {\n    const { innerStates } = this;\n    this.isActive = true;\n    this.removeClass(STATE_CLASS.INACTIVE);\n    this._clearUserTimer();\n    if (data.isLock !== void 0) {\n      innerStates.isActiveLocked = data.isLock;\n    }\n    if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n      this._clearUserTimer();\n      return;\n    }\n    const time = data && data.delay ? data.delay : this.config.inactive;\n    this.userTimer = util.setTimeout(this, () => {\n      this.userTimer = null;\n      this.blur();\n    }, time);\n  }\n  onBlur({ ignorePaused = false } = {}) {\n    if (this.innerStates.isActiveLocked) {\n      return;\n    }\n    const { closePauseVideoFocus } = this.config;\n    this.isActive = false;\n    if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.INACTIVE);\n    }\n  }\n  onEmptied() {\n    this.updateAcc(\"emptied\");\n  }\n  onCanplay() {\n    this.removeClass(STATE_CLASS.ENTER);\n    this.removeClass(STATE_CLASS.ERROR);\n    this.removeClass(STATE_CLASS.LOADING);\n    this.isCanplay = true;\n    this.waitTimer && util.clearTimeout(this, this.waitTimer);\n  }\n  onDurationchange() {\n    if (this.__startTime > 0 && this.duration > 0) {\n      this.currentTime = this.__startTime;\n      this.__startTime = -1;\n    }\n  }\n  onLoadeddata() {\n    this.isError = false;\n    this.isSeeking = false;\n  }\n  onLoadstart() {\n    this.removeClass(STATE_CLASS.ERROR);\n    this.isCanplay = false;\n  }\n  onPlay() {\n    if (this.state === STATES.ENDED) {\n      this.setState(STATES.RUNNING);\n    }\n    this.removeClass(STATE_CLASS.PAUSED);\n    this.ended && this.removeClass(STATE_CLASS.ENDED);\n    !this.config.closePlayVideoFocus && this.focus();\n  }\n  onPause() {\n    this.addClass(STATE_CLASS.PAUSED);\n    this.updateAcc(\"pause\");\n    if (!this.config.closePauseVideoFocus) {\n      this._clearUserTimer();\n      this.focus();\n    }\n  }\n  onEnded() {\n    this.updateAcc(\"ended\");\n    this.addClass(STATE_CLASS.ENDED);\n    this.setState(STATES.ENDED);\n  }\n  onError() {\n    this.isError = true;\n    this.updateAcc(\"error\");\n    this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n    this.removeClass(STATE_CLASS.NO_START);\n    this.removeClass(STATE_CLASS.ENTER);\n    this.removeClass(STATE_CLASS.LOADING);\n    this.addClass(STATE_CLASS.ERROR);\n  }\n  onSeeking() {\n    if (!this.isSeeking) {\n      this.updateAcc(\"seeking\");\n    }\n    this.isSeeking = true;\n    this.addClass(STATE_CLASS.SEEKING);\n  }\n  onSeeked() {\n    this.isSeeking = false;\n    if (this.waitTimer) {\n      util.clearTimeout(this, this.waitTimer);\n    }\n    this.removeClass(STATE_CLASS.LOADING);\n    this.removeClass(STATE_CLASS.SEEKING);\n  }\n  onWaiting() {\n    if (this.waitTimer) {\n      util.clearTimeout(this, this.waitTimer);\n    }\n    this.updateAcc(\"waiting\");\n    this.waitTimer = util.setTimeout(this, () => {\n      this.addClass(STATE_CLASS.LOADING);\n      this.emit(LOADING);\n      util.clearTimeout(this, this.waitTimer);\n      this.waitTimer = null;\n    }, this.config.minWaitDelay);\n  }\n  onPlaying() {\n    this.isError = false;\n    const { NO_START, PAUSED, ENDED, ERROR: ERROR2, REPLAY: REPLAY2, LOADING: LOADING2 } = STATE_CLASS;\n    const clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING2];\n    clsList.forEach((cls) => {\n      this.removeClass(cls);\n    });\n    if (!this._accPlayed.t && !this.paused && !this.ended) {\n      this._accPlayed.t = new Date().getTime();\n    }\n  }\n  onTimeupdate() {\n    !this._videoHeight && this.media.videoHeight && this.resize();\n    if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n      this.removeClass(STATE_CLASS.LOADING);\n      util.clearTimeout(this, this.waitTimer);\n      this.waitTimer = null;\n    }\n    if (!this.paused && this.state < STATES.RUNNING && this.duration) {\n      this.setState(STATES.RUNNING);\n      this.emit(AUTOPLAY_STARTED);\n    }\n    if (!this._accPlayed.t && !this.paused && !this.ended) {\n      this._accPlayed.t = new Date().getTime();\n    }\n  }\n  onVolumechange() {\n    util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n  }\n  onRatechange() {\n    this.config.defaultPlaybackRate = this.playbackRate;\n  }\n  emitUserAction(event, action, params) {\n    if (!this.media || !action || !event) {\n      return;\n    }\n    const eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n    if (params.props && util.typeOf(params.props) !== \"Array\") {\n      params.props = [params.props];\n    }\n    this.emit(USER_ACTION, {\n      eventType,\n      action,\n      currentTime: this.currentTime,\n      duration: this.duration,\n      ended: this.ended,\n      event,\n      ...params\n    });\n  }\n  updateAcc(endType) {\n    if (this._accPlayed.t) {\n      const _at = new Date().getTime() - this._accPlayed.t;\n      this._accPlayed.acc += _at;\n      this._accPlayed.t = 0;\n      if (endType === \"ended\" || this.ended) {\n        this._accPlayed.loopAcc = this._accPlayed.acc;\n      }\n    }\n  }\n  checkBuffer(time) {\n    const buffered = this.media.buffered;\n    if (!buffered || buffered.length === 0 || !this.duration) {\n      return true;\n    }\n    const currentTime = time || this.media.currentTime || 0.2;\n    const len = buffered.length;\n    for (let i = 0; i < len; i++) {\n      if (buffered.start(i) <= currentTime && buffered.end(i) > currentTime) {\n        return true;\n      }\n    }\n    return false;\n  }\n  resizePosition() {\n    const { vy, vx, h, w } = this.videoPos;\n    let rotate = this.videoPos.rotate;\n    if (rotate < 0 && h < 0 && w < 0) {\n      return;\n    }\n    let _pi = this.videoPos._pi;\n    if (!_pi && this.media.videoHeight) {\n      _pi = this.media.videoWidth / this.media.videoHeight * 100;\n    }\n    if (!_pi) {\n      return;\n    }\n    this.videoPos.pi = _pi;\n    rotate = rotate < 0 ? 0 : rotate;\n    const _pos = {\n      rotate\n    };\n    let offsetY = 0;\n    let offsetX = 0;\n    let scale = 1;\n    const _t = Math.abs(rotate / 90);\n    const { root, innerContainer } = this;\n    const width = root.offsetWidth;\n    const height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n    let rHeight = height;\n    let rWidth = width;\n    if (_t % 2 === 0) {\n      scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n      _pos.scale = scale;\n      offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n      _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n      offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n      _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n      this.media.style.width = `${rWidth}px`;\n      this.media.style.height = `${rHeight}px`;\n    } else if (_t % 2 === 1) {\n      rWidth = height;\n      rHeight = width;\n      const offset = height - width;\n      offsetX = -offset / 2 / rWidth * 100;\n      _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n      offsetY = offset / 2 / rHeight * 100;\n      _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n      _pos.scale = scale;\n      this.media.style.width = `${rWidth}px`;\n      this.media.style.height = `${rHeight}px`;\n    }\n    const formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n    this.media.style.transform = formStyle;\n    this.media.style.webkitTransform = formStyle;\n  }\n  position(pos = { h: 0, y: 0, x: 0, w: 0 }) {\n    if (!this.media || !pos || !pos.h) {\n      return;\n    }\n    const { videoPos } = this;\n    videoPos.h = pos.h * 100 || 0;\n    videoPos.w = pos.w * 100 || 0;\n    videoPos.vx = pos.x * 100 || 0;\n    videoPos.vy = pos.y * 100 || 0;\n    this.resizePosition();\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    Object.keys(config).map((key) => {\n      if (key !== \"plugins\") {\n        this.config[key] = config[key];\n        const plugin = this.plugins[key.toLowerCase()];\n        if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n          plugin.setConfig(config[key]);\n        }\n      }\n    });\n  }\n  playNext(config) {\n    this.resetState();\n    this.setConfig(config);\n    this._currentTime = 0;\n    this._duration = 0;\n    runHooks(this, \"playnext\", () => {\n      this.start();\n      this.emit(PLAYNEXT, config);\n    });\n  }\n  resize() {\n    if (!this.media || !this.root) {\n      return;\n    }\n    const containerSize = this.root.getBoundingClientRect();\n    this.sizeInfo.width = containerSize.width;\n    this.sizeInfo.height = containerSize.height;\n    this.sizeInfo.left = containerSize.left;\n    this.sizeInfo.top = containerSize.top;\n    const { videoWidth, videoHeight } = this.media;\n    const { fitVideoSize, videoFillMode } = this.config;\n    if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n      this.setAttribute(\"data-xgfill\", videoFillMode);\n    }\n    if (!videoHeight || !videoWidth) {\n      return;\n    }\n    this._videoHeight = videoHeight;\n    this._videoWidth = videoWidth;\n    const controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n    const width = containerSize.width;\n    const height = containerSize.height - controlsHeight;\n    const videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n    const fit = parseInt(width / height * 1e3, 10);\n    let rWidth = width;\n    let rHeight = height;\n    const _style = {};\n    if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n      rHeight = width / videoFit * 1e3;\n      if (this.config.fluid) {\n        _style.paddingTop = `${rHeight * 100 / rWidth}%`;\n      } else {\n        _style.height = `${rHeight + controlsHeight}px`;\n      }\n    } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n      rWidth = videoFit * height / 1e3;\n      _style.width = `${rWidth}px`;\n    }\n    if (!this.fullscreen && !this.cssfullscreen) {\n      Object.keys(_style).forEach((key) => {\n        this.root.style[key] = _style[key];\n      });\n    }\n    if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n      this.setAttribute(\"data-xgfill\", \"cover\");\n    }\n    const data = {\n      videoScale: videoFit,\n      vWidth: rWidth,\n      vHeight: rHeight,\n      cWidth: rWidth,\n      cHeight: rHeight + controlsHeight\n    };\n    this.resizePosition();\n    this.emit(VIDEO_RESIZE, data);\n  }\n  updateObjectPosition(left = 0, top = 0) {\n    if (this.media.updateObjectPosition) {\n      this.media.updateObjectPosition(left, top);\n      return;\n    }\n    this.media.style.objectPosition = `${left * 100}% ${top * 100}%`;\n  }\n  setState(newState) {\n    XG_DEBUG.logInfo(\n      \"setState\",\n      `state from:${STATE_ARRAY[this.state]} to:${STATE_ARRAY[newState]}`\n    );\n    this._state = newState;\n  }\n  _preProcessUrl(url, ext) {\n    const { preProcessUrl } = this.config;\n    return !util.isBlob(url) && typeof preProcessUrl === \"function\" ? preProcessUrl(url, ext) : { url };\n  }\n  get state() {\n    return this._state;\n  }\n  get isFullscreen() {\n    return this.fullscreen;\n  }\n  get isCssfullScreen() {\n    return this.cssfullscreen;\n  }\n  get hasStart() {\n    return this._hasStart;\n  }\n  set hasStart(bool) {\n    if (typeof bool === \"boolean\") {\n      this._hasStart = bool;\n      if (bool === false) {\n        this.setState(STATES.READY);\n      }\n      this.emit(\"hasstart\");\n    }\n  }\n  get isPlaying() {\n    return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n  }\n  set isPlaying(value) {\n    if (value) {\n      this.setState(STATES.RUNNING);\n    } else {\n      this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n    }\n  }\n  set definitionList(list) {\n    const { definition } = this.config;\n    let curDef = null;\n    let targetDef = null;\n    definition.list = list;\n    this.emit(\"resourceReady\", list);\n    list.forEach((item) => {\n      var _a;\n      if (((_a = this.curDefinition) == null ? void 0 : _a.definition) === item.definition) {\n        curDef = item;\n      }\n      if (definition.defaultDefinition === item.definition) {\n        targetDef = item;\n      }\n    });\n    if (!targetDef && list.length > 0) {\n      targetDef = list[0];\n    }\n    curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n  }\n  get definitionList() {\n    if (!this.config || !this.config.definition) {\n      return [];\n    }\n    return this.config.definition.list || [];\n  }\n  get videoFrameInfo() {\n    const ret = {\n      total: 0,\n      dropped: 0,\n      corrupted: 0,\n      droppedRate: 0,\n      droppedDuration: 0\n    };\n    if (!this.media || !this.media.getVideoPlaybackQuality) {\n      return ret;\n    }\n    const _quality = this.media.getVideoPlaybackQuality();\n    ret.dropped = _quality.droppedVideoFrames || 0;\n    ret.total = _quality.totalVideoFrames || 0;\n    ret.corrupted = _quality.corruptedVideoFrames || 0;\n    if (ret.total > 0) {\n      ret.droppedRate = ret.dropped / ret.total * 100;\n      ret.droppedDuration = parseInt(\n        this.cumulateTime / ret.total * ret.dropped,\n        0\n      );\n    }\n    return ret;\n  }\n  get controls() {\n    return this.plugins.controls;\n  }\n  set lang(lang) {\n    const result = I18N.langKeys.filter((key) => key === lang);\n    if (result.length === 0 && lang !== \"zh\") {\n      console.error(\n        `Sorry, set lang fail, because the language [${lang}] is not supported now, list of all supported languages is [${I18N.langKeys.join()}] `\n      );\n      return;\n    }\n    this.config.lang = lang;\n    pluginsManager.setLang(lang, this);\n  }\n  get lang() {\n    return this.config.lang;\n  }\n  get i18n() {\n    let _l = this.config.lang;\n    if (_l === \"zh\") {\n      _l = \"zh-cn\";\n    }\n    return this.__i18n.lang[_l] || this.__i18n.lang.en;\n  }\n  get i18nKeys() {\n    return this.__i18n.textKeys || {};\n  }\n  get version() {\n    return version;\n  }\n  get playerId() {\n    return this._pluginInfoId;\n  }\n  set url(url) {\n    this.__url = url;\n  }\n  get url() {\n    return this.__url || this.config.url;\n  }\n  set poster(posterUrl) {\n    this.plugins.poster && this.plugins.poster.update(posterUrl);\n  }\n  get poster() {\n    return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n  }\n  get readyState() {\n    return super.readyState;\n  }\n  get error() {\n    const key = super.error;\n    return this.i18n[key] || key;\n  }\n  get networkState() {\n    return super.networkState;\n  }\n  get fullscreenChanging() {\n    return !(this._fullScreenOffset === null);\n  }\n  get cumulateTime() {\n    const { acc, t } = this._accPlayed;\n    return t ? new Date().getTime() - t + acc : acc;\n  }\n  get zoom() {\n    return this.config.zoom;\n  }\n  set zoom(value) {\n    this.config.zoom = value;\n  }\n  set videoRotateDeg(val) {\n    val = util.convertDeg(val);\n    if (val % 90 !== 0 || val === this.videoPos.rotate) {\n      return;\n    }\n    this.videoPos.rotate = val;\n    this.resizePosition();\n  }\n  get videoRotateDeg() {\n    return this.videoPos.rotate;\n  }\n  set avgSpeed(val) {\n    AVG_SPEED = val;\n  }\n  get avgSpeed() {\n    return AVG_SPEED;\n  }\n  set realTimeSpeed(val) {\n    REAL_TIME_SPEED = val;\n  }\n  get realTimeSpeed() {\n    return REAL_TIME_SPEED;\n  }\n  get offsetCurrentTime() {\n    return this._offsetInfo.currentTime || 0;\n  }\n  set offsetCurrentTime(val) {\n    this._offsetInfo.currentTime = val;\n  }\n  get offsetDuration() {\n    return this._offsetInfo.duration || 0;\n  }\n  set offsetDuration(val) {\n    this._offsetInfo.duration = val || 0;\n  }\n  hook(hookName, handler, preset = { pre: null, next: null }) {\n    return hook.call(this, ...arguments);\n  }\n  useHooks(hookName, handler) {\n    return useHooks.call(this, ...arguments);\n  }\n  removeHooks(hookName, handler) {\n    return removeHooks.call(this, ...arguments);\n  }\n  usePluginHooks(pluginName, hookName, handler, ...args) {\n    return usePluginHooks.call(this, ...arguments);\n  }\n  removePluginHooks(pluginName, hookName, handler, ...args) {\n    return removePluginHooks.call(this, ...arguments);\n  }\n  setUserActive(isActive, isMuted) {\n    if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n      this.addInnerOP(\"volumechange\");\n      if (util.typeOf(isMuted) === Boolean) {\n        this.muted = isMuted;\n      }\n    }\n    instManager == null ? void 0 : instManager.setActive(this.playerId, isActive);\n  }\n  static isHevcSupported() {\n    return sniffer.isHevcSupported();\n  }\n  static probeConfigSupported(info) {\n    return sniffer.probeConfigSupported(info);\n  }\n  static install(name, descriptor) {\n    if (!_Player.plugins) {\n      _Player.plugins = {};\n    }\n    if (!_Player.plugins[name]) {\n      _Player.plugins[name] = descriptor;\n    }\n  }\n  static use(name, descriptor) {\n    if (!_Player.plugins) {\n      _Player.plugins = {};\n    }\n    _Player.plugins[name] = descriptor;\n  }\n};\nlet Player = _Player;\n__publicField(Player, \"defaultPreset\", null);\n__publicField(Player, \"XgVideoProxy\", null);\nPlayer.instManager = InstManager.getInstance();\nexport { Player as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nclass Controls extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { player, playerConfig } = this;\n      playerConfig.closeControlsBlur && player.focus({ autoHide: false });\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      const { player } = this;\n      player.focus();\n    });\n  }\n  static get pluginName() {\n    return \"controls\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: \"\",\n      initShow: false\n    };\n  }\n  beforeCreate(args) {\n    if (!args.config.mode && sniffer.device === \"mobile\") {\n      args.config.mode = \"flex\";\n    }\n    if (args.player.config.marginControls) {\n      args.config.autoHide = false;\n    }\n  }\n  afterCreate() {\n    const { disable, height, mode } = this.config;\n    if (disable) {\n      return;\n    }\n    mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n    const style = {\n      height: `${height}px`\n    };\n    Object.keys(style).map((key) => {\n      this.root.style[key] = style[key];\n    });\n    this.left = this.find(\"xg-left-grid\");\n    this.center = this.find(\"xg-center-grid\");\n    this.right = this.find(\"xg-right-grid\");\n    this.innerRoot = this.find(\"xg-inner-controls\");\n    this.on(MINI_STATE_CHANGE, (isMini) => {\n      isMini ? util.addClass(this.root, \"mini-controls\") : util.removeClass(this.root, \"mini-controls\");\n    });\n    const { isMobileSimulateMode } = this.playerConfig;\n    if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n      this.bind(\"mouseenter\", this.onMouseEnter);\n      this.bind(\"mouseleave\", this.onMouseLeave);\n    }\n  }\n  focus() {\n    this.player.focus({ autoHide: false });\n  }\n  focusAwhile() {\n    this.player.focus({ autoHide: true });\n  }\n  blur() {\n    this.player.blur({ ignorePaused: true });\n  }\n  recoverAutoHide() {\n    this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n  }\n  pauseAutoHide() {\n    util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n  }\n  show(value) {\n    this.root.style.display = \"\";\n    this.player.focus();\n  }\n  hide() {\n    this.root.style.display = \"none\";\n  }\n  get mode() {\n    return this.config.mode;\n  }\n  registerPlugin(plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    const defaultConfig = plugin.defaultConfig || {};\n    if (!options.root) {\n      const position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left;\n          break;\n        case POSITIONS.CONTROLS_RIGHT:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        case POSITIONS.CONTROLS:\n          options.root = this.root;\n          break;\n        default:\n          options.root = this.left;\n      }\n      return super.registerPlugin(plugin, options, name);\n    }\n  }\n  destroy() {\n    if (sniffer.device !== \"mobile\") {\n      this.unbind(\"mouseenter\", this.onMouseEnter);\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n    }\n  }\n  render() {\n    const { mode, autoHide, initShow, disable } = this.config;\n    if (disable) {\n      return;\n    }\n    const className = util.classNames(\n      { \"xgplayer-controls\": true },\n      { \"flex-controls\": mode === \"flex\" },\n      { \"bottom-controls\": mode === \"bottom\" },\n      { [STATE_CLASS.CONTROLS_AUTOHIDE]: autoHide },\n      { \"xgplayer-controls-initshow\": initShow || !autoHide }\n    );\n    return `<xg-controls class=\"${className}\" unselectable=\"on\">\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\n      <xg-left-grid class=\"xg-left-grid\">\n      </xg-left-grid>\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\n      <xg-right-grid class=\"xg-right-grid\">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>`;\n  }\n}\nexport { Controls as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nconst LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nclass XGLogger extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onTimeupdate\", () => {\n      this._state.isTimeUpdate = true;\n      if (this._state.autoplayStart) {\n        XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _onTimeupdate`);\n        this._sendFF(\"onTimeupdate\");\n      }\n    });\n    __publicField(this, \"_onAutoplayStart\", () => {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _onAutoplayStart`);\n      this._state.autoplayStart = true;\n      this.vt && this._sendFF(\"onAutoplayStart\");\n    });\n    __publicField(this, \"_onReset\", () => {\n      this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      this.vt = 0;\n      this.pt = 0;\n      this.fvt = 0;\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this._isSeeking = false;\n      this.seekingStart = 0;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this._isWaiting = false;\n      this._waitTimer && util.clearTimeout(this, this._waitTimer);\n      this._waittTimer && util.clearTimeout(this, this._waittTimer);\n      this._waitTimer = null;\n      this._waittTimer = null;\n      this._waitType = 0;\n    });\n    __publicField(this, \"_onSeeking\", () => {\n      if (this.seekingStart) {\n        return;\n      }\n      this.suspendWaitingStatus(\"seek\");\n      this.seekingStart = now();\n      this.emitLog(LOG_TYPES.SEEK_START, { start: now() });\n    });\n    __publicField(this, \"_onSeeked\", () => {\n      this.suspendSeekingStatus(\"seeked\");\n    });\n    __publicField(this, \"_onWaitingLoadStart\", () => {\n      if (this._isWaiting || this.vt) {\n        return;\n      }\n      this._isWaiting = true;\n      this.waitingStart = now();\n      this.fixedWaitingStart = now();\n      this._waitType = 1;\n      this.emitLog(LOG_TYPES.WAIT_START, { fixedStart: this.fixedWaitingStart, start: this.waitingStart, type: 1, endType: \"loadstart\" });\n    });\n    __publicField(this, \"_onWaiting\", () => {\n      if (this._isWaiting || !this.vt) {\n        return;\n      }\n      this._isWaiting = true;\n      if (!this.vt) {\n        this._waitType = 1;\n      } else if (this.seekingStart) {\n        this._waitType = 2;\n      } else {\n        this._waitType = 0;\n      }\n      this.fixedWaitingStart = now();\n      this._waitTimer = util.setTimeout(this, () => {\n        if (this._isWaiting) {\n          this.waitingStart = now();\n          util.clearTimeout(this, this._waitTimer);\n          this._waitTimer = null;\n          this._startWaitTimeout();\n          this.emitLog(LOG_TYPES.WAIT_START, { fixedStart: this.fixedWaitingStart, start: this.waitingStart, type: this._waitType, endType: this._waitType === 2 ? \"seek\" : \"playing\" });\n        }\n      }, 200);\n    });\n    __publicField(this, \"_onError\", () => {\n      this.suspendSeekingStatus(\"error\");\n      this.suspendWaitingStatus(\"error\");\n    });\n    __publicField(this, \"_onPlaying\", () => {\n      this._isWaiting && this.suspendWaitingStatus(\"playing\");\n    });\n  }\n  static get pluginName() {\n    return \"xgLogger\";\n  }\n  static get defaultConfig() {\n    return {\n      waitTimeout: 1e4\n    };\n  }\n  afterCreate() {\n    this._onReset();\n    this._waitType = \"firstFrame\";\n    this._initOnceEvents();\n    this.newPointTime = now();\n    this.loadedCostTime = 0;\n    this.startCostTime = 0;\n    this.on(LOAD_START, () => {\n      const { _state } = this;\n      const { autoplayStart, isFFSend } = _state;\n      this.startCostTime = now() - this.newPointTime;\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} LOAD_START`, `autoplayStart:${autoplayStart} isFFSend:${isFFSend} startCostTime:${this.startCostTime} newPointTime${this.newPointTime}`);\n      if (isFFSend) {\n        return;\n      }\n      !_state.isLs && this.emitLog(LOG_TYPES.LOAD_START, {});\n      _state.isLs = true;\n      _state.isTimeUpdate = false;\n      _state.isFFLoading = true;\n      this.pt = now();\n      this.vt = 0;\n      this.fvt = 0;\n      this._initOnceEvents();\n      this._onWaitingLoadStart();\n    });\n    this.on(LOADED_DATA, () => {\n      this.vt = now();\n      this.fvt = this.vt - this.pt;\n      this.loadedCostTime = this.vt - this.newPointTime;\n      const { isTimeUpdate, isFFSend, autoplayStart } = this._state;\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} LOADED_DATA`, `fvt:${this.fvt} isTimeUpdate:${this._state.isTimeUpdate} loadedCostTime:${this.loadedCostTime}`);\n      if (isTimeUpdate || autoplayStart) {\n        this._sendFF(\"loadedData\");\n      }\n      if (!isFFSend) {\n        this.emitLog(LOG_TYPES.LOADED_DATA, {});\n      }\n      this.suspendWaitingStatus(\"loadeddata\");\n    });\n    this.on(SEEKING, this._onSeeking);\n    this.on(SEEKED, this._onSeeked);\n    this.on(DESTROY, () => {\n      this.endState(\"destroy\");\n    });\n    this.on(URL_CHANGE, () => {\n      this.endState(\"urlChange\");\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} URL_CHANGE`);\n      this._state.isFFSend && this._onReset();\n    });\n    this.on([PLAYING, CANPLAY], this._onPlaying);\n    this.on(WAITING, this._onWaiting);\n    this.on(ERROR, this._onError);\n    this.on(RESET, () => {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} RESET`);\n      this.endState(\"reset\");\n      this._initOnceEvents();\n      this._onReset();\n    });\n  }\n  _initOnceEvents() {\n    this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n    this.off(TIME_UPDATE, this._onTimeupdate);\n    this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n    this.once(TIME_UPDATE, this._onTimeupdate);\n  }\n  _sendFF(endType) {\n    this.s = now();\n    const { isFFLoading, isFFSend } = this._state;\n    XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _sendFF`, `${endType} fvt:${this.fvt} isFFLoading:${isFFLoading} !isFFSend:${!isFFSend}`);\n    if (this.vt > 0 && isFFLoading && !isFFSend) {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} emitLog_firstFrame`, endType);\n      this._state.isFFLoading = false;\n      this._state.isFFSend = true;\n      this.emitLog(LOG_TYPES.FIRST_FRAME, { fvt: this.fvt, costTime: this.fvt, vt: this.vt, startCostTime: this.startCostTime, loadedCostTime: this.loadedCostTime });\n    }\n  }\n  _startWaitTimeout() {\n    if (this._waittTimer) {\n      util.clearTimeout(this, this._waittTimer);\n    }\n    this._waittTimer = util.setTimeout(this, () => {\n      this.suspendWaitingStatus(\"timeout\");\n      util.clearTimeout(this, this._waittTimer);\n      this._waittTimer = null;\n    }, this.config.waitTimeout);\n  }\n  endState(endType) {\n    this.suspendWaitingStatus(endType);\n    this.suspendSeekingStatus(endType);\n  }\n  suspendSeekingStatus(endType) {\n    if (!this.seekingStart) {\n      return;\n    }\n    const _now = now();\n    const _cost = _now - this.seekingStart;\n    this.seekingStart = 0;\n    this.emitLog(LOG_TYPES.SEEK_END, { end: _now, costTime: _cost, endType });\n  }\n  suspendWaitingStatus(endType) {\n    if (this._waitTimer) {\n      util.clearTimeout(this, this._waitTimer);\n      this._waitTimer = null;\n    }\n    if (this._waittTimer) {\n      util.clearTimeout(this, this._waittTimer);\n      this._waittTimer = null;\n    }\n    this._isWaiting = false;\n    if (!this.waitingStart) {\n      return;\n    }\n    const _now = now();\n    const _cost = _now - this.waitingStart;\n    const _fixedCost = _now - this.fixedWaitingStart;\n    const { waitTimeout } = this.config;\n    this._isWaiting = false;\n    this.waitingStart = 0;\n    this.fixedWaitingStart = 0;\n    this.emitLog(LOG_TYPES.WAIT_END, {\n      fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n      costTime: _cost > waitTimeout ? waitTimeout : _cost,\n      type: endType === \"loadeddata\" ? 1 : this._waitType,\n      endType: this._waitType === 2 ? \"seek\" : endType\n    });\n  }\n  emitLog(eventType, data) {\n    const { player } = this;\n    this.emit(XGLOG, {\n      t: now(),\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype,\n      eventType,\n      currentTime: this.player.currentTime,\n      readyState: player.video.readyState,\n      networkState: player.video.networkState,\n      ...data\n    });\n  }\n}\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nclass Replay extends Plugin {\n  static get pluginName() {\n    return \"replay\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: false\n    };\n  }\n  registerIcons() {\n    return {\n      replay: ReplaySvg\n    };\n  }\n  afterCreate() {\n    Plugin.insert(this.icons.replay, this.root, 0);\n    this.__handleReplay = this.hook(\"replayClick\", () => {\n      this.player.replay();\n    }, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    this.on(ENDED, () => {\n      if (!this.playerConfig.loop) {\n        util.addClass(this.player.root, \"replay\");\n      }\n      if (this.config.disable) {\n        return;\n      }\n      this.show();\n      const path = this.root.querySelector(\"path\");\n      if (path) {\n        const transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n        if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n          return null;\n        } else {\n          path.setAttribute(\"transform\", transform);\n        }\n      }\n    });\n    this.on(PLAY, () => {\n      this.hide();\n    });\n  }\n  handleReplay(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.player.replay();\n    util.removeClass(this.player.root, \"replay\");\n  }\n  show(value) {\n    if (this.config.disable) {\n      return;\n    }\n    this.root.style.display = \"flex\";\n  }\n  enable() {\n    this.config.disable = false;\n  }\n  disable() {\n    this.config.disable = true;\n    this.hide();\n  }\n  destroy() {\n    this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n  }\n  render() {\n    return `<xg-replay class=\"xgplayer-replay\">\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"${this.i18nKeys.REPLAY}\">${this.i18n.REPLAY}</xg-replay-txt>\n    </xg-replay>`;\n  }\n}\nexport { Replay as default };\n","import util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Poster extends Plugin {\n  static get pluginName() {\n    return \"poster\";\n  }\n  static get defaultConfig() {\n    return {\n      isEndedShow: true,\n      hideCanplay: false,\n      notHidden: false,\n      poster: \"\",\n      fillMode: \"fixWidth\"\n    };\n  }\n  set isEndedShow(value) {\n    this.config.isEndedShow = value;\n  }\n  get isEndedShow() {\n    return this.config.isEndedShow;\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.poster === \"string\") {\n      args.config.poster = args.player.config.poster;\n    }\n  }\n  afterCreate() {\n    this.on(ENDED, () => {\n      if (this.isEndedShow) {\n        util.removeClass(this.root, \"hide\");\n      }\n    });\n    if (this.config.hideCanplay) {\n      this.once(TIME_UPDATE, () => {\n        this.onTimeUpdate();\n      });\n      this.on(URL_CHANGE, () => {\n        util.removeClass(this.root, \"hide\");\n        util.addClass(this.root, \"xg-showplay\");\n        this.once(TIME_UPDATE, () => {\n          this.onTimeUpdate();\n        });\n      });\n    } else {\n      this.on(PLAY, () => {\n        util.addClass(this.root, \"hide\");\n      });\n    }\n  }\n  onTimeUpdate() {\n    if (!this.player.currentTime) {\n      this.once(TIME_UPDATE, () => {\n        this.onTimeUpdate();\n      });\n    } else {\n      util.removeClass(this.root, \"xg-showplay\");\n    }\n  }\n  update(poster) {\n    if (!poster) {\n      return;\n    }\n    this.config.poster = poster;\n    this.root.style.backgroundImage = `url(${poster})`;\n  }\n  getBgSize(mode) {\n    let _bg = \"\";\n    switch (mode) {\n      case \"cover\":\n        _bg = \"cover\";\n        break;\n      case \"contain\":\n        _bg = \"contain\";\n        break;\n      case \"fixHeight\":\n        _bg = \"auto 100%\";\n        break;\n      default:\n        _bg = \"\";\n    }\n    return _bg ? `background-size: ${_bg};` : \"\";\n  }\n  render() {\n    const { poster, hideCanplay, fillMode, notHidden } = this.config;\n    const _bg = this.getBgSize(fillMode);\n    const style = poster ? `background-image:url(${poster});${_bg}` : _bg;\n    const className = notHidden ? \"xg-not-hidden\" : hideCanplay ? \"xg-showplay\" : \"\";\n    return `<xg-poster class=\"xgplayer-poster ${className}\" style=\"${style}\">\n    </xg-poster>`;\n  }\n}\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nconst AnimateMap = {};\nfunction addAnimate(key, seconds, callback = { start: null, end: null }) {\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(() => {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map((key) => {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nclass Start extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onPlayerReset\", () => {\n      this.autoPlayStart = false;\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      this.setAttr(\"data-state\", \"play\");\n      util.removeClass(this.root, className);\n      this.show();\n    });\n    __publicField(this, \"onAutoplayStart\", () => {\n      if (this.autoPlayStart) {\n        return;\n      }\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(this.root, className);\n      this.autoPlayStart = true;\n      this.onPlayPause(\"play\");\n    });\n    this.autoPlayStart = false;\n  }\n  static get pluginName() {\n    return \"start\";\n  }\n  static get defaultConfig() {\n    return {\n      isShowPause: false,\n      isShowEnd: false,\n      disableAnimate: false,\n      mode: \"hide\"\n    };\n  }\n  afterCreate() {\n    const { player, playerConfig } = this;\n    this.initIcons();\n    this.once(READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === \"en\") {\n          util.addClass(player.root, \"lang-is-en\");\n        } else if (playerConfig.lang === \"jp\") {\n          util.addClass(player.root, \"lang-is-jp\");\n        }\n      }\n    });\n    this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n    if (!playerConfig.autoplay) {\n      this.show();\n    }\n    this.on(AUTOPLAY_PREVENTED, () => {\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      this.setAttr(\"data-state\", \"play\");\n      util.removeClass(this.root, className);\n      this.show();\n    });\n    this.on(PLAY, () => {\n      this.onPlayPause(\"play\");\n    });\n    this.on(PAUSE, () => {\n      this.onPlayPause(\"pause\");\n    });\n    this.on(RESET, () => {\n      this.onPlayerReset();\n    });\n    this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n      pre: (e) => {\n        e.cancelable && e.preventDefault();\n        e.stopPropagation();\n        const { paused } = this.player;\n        this.emitUserAction(e, \"switch_play_pause\", { props: \"paused\", from: paused, to: !paused });\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this.clickHandler);\n  }\n  registerIcons() {\n    return {\n      startPlay: { icon: PlaySvg, class: \"xg-icon-play\" },\n      startPause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\"xg-start-inner\", icons.startPlay);\n    this.appendChild(\"xg-start-inner\", icons.startPause);\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  focusHide() {\n    util.addClass(this.root, \"focus-hide\");\n  }\n  recover() {\n    util.removeClass(this.root, \"focus-hide\");\n  }\n  switchStatus(isAnimate) {\n    if (isAnimate) {\n      this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n    } else {\n      this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n    }\n  }\n  animate(endShow) {\n    this._animateId = addAnimate(\"pauseplay\", 400, {\n      start: () => {\n        util.addClass(this.root, \"interact\");\n        this.show();\n        this.switchStatus(true);\n      },\n      end: () => {\n        util.removeClass(this.root, \"interact\");\n        !endShow && this.hide();\n        this._animateId = null;\n      }\n    });\n  }\n  endAnimate() {\n    util.removeClass(this.root, \"interact\");\n    clearAnimation(this._animateId);\n    this._animateId = null;\n  }\n  switchPausePlay(e) {\n    const { player } = this;\n    e.cancelable && e.preventDefault();\n    e.stopPropagation();\n    if (player.state < STATES.READY) {\n      return;\n    }\n    const paused = this.player.paused;\n    if (!paused && player.state === STATES.RUNNING) {\n      player.pause();\n    } else {\n      player.play();\n    }\n  }\n  onPlayPause(status) {\n    const { config, player } = this;\n    if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n      return;\n    }\n    if (config.mode === \"show\") {\n      this.switchStatus();\n      this.show();\n      return;\n    }\n    if (config.mode === \"auto\") {\n      this.switchStatus();\n      return;\n    }\n    if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n      this.switchStatus();\n      this.show();\n      this.endAnimate();\n      return;\n    }\n    if (config.disableAnimate) {\n      this.switchStatus();\n      this.hide();\n      return;\n    }\n    if (status === \"play\") {\n      this.autoPlayStart ? this.animate() : this.hide();\n    } else {\n      if (!this.autoPlayStart || player.ended) {\n        return;\n      }\n      this.animate();\n    }\n  }\n  destroy() {\n    this.unbind([\"click\", \"touchend\"], this.clickHandler);\n    clearAnimation(this._animateId);\n  }\n  render() {\n    const className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n    return `\n    <xg-start class=\"xgplayer-start ${className}\">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>`;\n  }\n}\nexport { Start as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Enter extends Plugin {\n  static get pluginName() {\n    return \"enter\";\n  }\n  static get defaultConfig() {\n    return {\n      innerHtml: \"\",\n      logo: \"\"\n    };\n  }\n  render() {\n    const { innerHtml } = this.config;\n    const root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n    if (innerHtml && innerHtml instanceof window.HTMLElement) {\n      root.appendChild(innerHtml);\n    } else if (innerHtml && typeof innerHtml === \"string\") {\n      root.innerHTML = innerHtml;\n    } else {\n      let barStr = \"\";\n      for (let i = 1; i <= 12; i++) {\n        barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n      }\n      root.innerHTML = `<div class=\"xgplayer-enter-spinner\">${barStr}</div>`;\n    }\n    return root;\n  }\n}\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ` <div class=\"xg-tips ${isShow ? \"hide\" : \" \"}\" lang-key=\"${plugin.i18nKeys[textKey]}\">\n    ${plugin.i18n[textKey]}\n    </div>`;\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nclass MiniScreenIcon extends Plugin {\n  static get pluginName() {\n    return \"miniscreenIcon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 10\n    };\n  }\n  afterCreate() {\n    this.getMini = this.getMini.bind(this);\n    this.exitMini = this.exitMini.bind(this);\n    this.bind(\"click\", this.getMini);\n  }\n  getMini() {\n    this.config.onClick && this.config.onClick();\n  }\n  exitMini() {\n    this.config.onClick && this.config.onClick();\n  }\n  destroy() {\n    this.unbind([\"click\", \"touchend\"], this.getMini);\n  }\n  render() {\n    const langKey = \"MINISCREEN\";\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"${this.i18nKeys[langKey]}\">${this.i18n[langKey]}</span></div>\n      </xg-icon>`;\n  }\n}\nexport { MiniScreenIcon as default };\n","import EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  const num = parseFloat(value);\n  const isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nconst measurements = [\n  \"paddingLeft\",\n  \"paddingRight\",\n  \"paddingTop\",\n  \"paddingBottom\",\n  \"marginLeft\",\n  \"marginRight\",\n  \"marginTop\",\n  \"marginBottom\",\n  \"borderLeftWidth\",\n  \"borderRightWidth\",\n  \"borderTopWidth\",\n  \"borderBottomWidth\"\n];\nconst measurementsLength = measurements.length;\nfunction getZeroSize() {\n  const size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (let i = 0; i < measurementsLength; i++) {\n    const measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  const style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || typeof elem !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  const style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  const size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  const isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (let i = 0; i < measurementsLength; i++) {\n    const measurement = measurements[i];\n    const value = style[measurement];\n    const num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  const paddingWidth = size.paddingLeft + size.paddingRight;\n  const paddingHeight = size.paddingTop + size.paddingBottom;\n  const marginWidth = size.marginLeft + size.marginRight;\n  const marginHeight = size.marginTop + size.marginBottom;\n  const borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  const borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  const isBorderBoxSizeOuter = isBorderBox;\n  const styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  const styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (let i = 0; i < touches.length; i++) {\n    const touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nconst EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nconst POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nclass Draggabilly extends EventEmitter {\n  constructor(root, options = {}) {\n    super();\n    this.isEnabled = true;\n    this.isDragging = false;\n    this.isDown = false;\n    this.position = {};\n    this.downPoint = {};\n    this.dragPoint = { x: 0, y: 0 };\n    this.startPos = { x: 0, y: 0 };\n    this._root = root instanceof Element ? root : document.querySelector(root);\n    this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!this._root || !this._handlerDom) {\n      return;\n    }\n    this._bindStartEvent();\n  }\n  _bindStartEvent() {\n    if (\"ontouchstart\" in window) {\n      this._startKey = \"touchstart\";\n    } else {\n      this._startKey = \"mousedown\";\n    }\n    this[`on${this._startKey}`] = this[`on${this._startKey}`].bind(this);\n    this._handlerDom.addEventListener(this._startKey, this[`on${this._startKey}`]);\n    POST_START_EVENTS[this._startKey].map((key) => {\n      this[`on${key}`] = this[`on${key}`].bind(this);\n    });\n  }\n  _unbindStartEvent() {\n    this._handlerDom.removeEventListener(this._startKey, this[`on${this._startKey}`]);\n  }\n  _bindPostStartEvents(event) {\n    if (!event) {\n      return;\n    }\n    const events = POST_START_EVENTS[this._startKey];\n    events.map((eventName) => {\n      window.addEventListener(eventName, this[`on${eventName}`]);\n    });\n    this._boundPointerEvents = events;\n  }\n  _unbindPostStartEvents() {\n    if (!this._boundPointerEvents) {\n      return;\n    }\n    this._boundPointerEvents.map((eventName) => {\n      window.removeEventListener(eventName, this[`on${eventName}`]);\n    });\n    delete this._boundPointerEvents;\n  }\n  enable() {\n    this.isEnabled = true;\n  }\n  disable() {\n    this.isEnabled = false;\n    if (this.isDragging) {\n      this.onUp();\n    }\n  }\n  onDocUp(e) {\n    this.onUp();\n  }\n  animate() {\n    if (!this.isDragging) {\n      return;\n    }\n    this.positionDrag();\n    window.requestAnimationFrame(() => {\n      this.animate();\n    });\n  }\n  positionDrag() {\n    const transform = `translate3d(${this.dragPoint.x}px, ${this.dragPoint.y}px, 0)`;\n    this._root.style.transform = transform;\n    this._root.style.webKitTransform = transform;\n  }\n  setLeftTop() {\n    this._root.style.left = this.position.x + \"px\";\n    this._root.style.top = this.position.y + \"px\";\n  }\n  onmousedown(e) {\n    this.dragStart(e, e);\n  }\n  onmousemove(e) {\n    this.dragMove(e, e);\n  }\n  onmouseup(e) {\n    this.dragEnd(e, e);\n  }\n  ontouchstart(e) {\n    const touch = e.changedTouches[0];\n    this.dragStart(e, touch);\n    this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n    e.preventDefault();\n  }\n  ontouchmove(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragMove(e, touch);\n    }\n  }\n  ontouchend(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragEnd(e, touch);\n    }\n    e.preventDefault();\n  }\n  ontouchcancel(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragCancel(e, touch);\n    }\n  }\n  dragStart(e, pointer) {\n    if (!this._root || this.isDown || !this.isEnabled) {\n      return;\n    }\n    this.downPoint = pointer;\n    this.dragPoint.x = 0;\n    this.dragPoint.y = 0;\n    this._getPosition();\n    const size = getSize(this._root);\n    this.startPos.x = this.position.x;\n    this.startPos.y = this.position.y;\n    this.startPos.maxY = window.innerHeight - size.height;\n    this.startPos.maxX = window.innerWidth - size.width;\n    this.setLeftTop();\n    this.isDown = true;\n    this._bindPostStartEvents(e);\n  }\n  dragRealStart(e, pointer) {\n    this.isDragging = true;\n    this.animate();\n    this.emit(EVENTS.START, this.startPos);\n  }\n  dragEnd(e, pointer) {\n    if (!this._root) {\n      return;\n    }\n    this._unbindPostStartEvents();\n    if (this.isDragging) {\n      this._root.style.transform = \"\";\n      this.setLeftTop();\n      this.emit(EVENTS.ENDED);\n    }\n    this.presetInfo();\n  }\n  _dragPointerMove(e, pointer) {\n    const moveVector = {\n      x: pointer.pageX - this.downPoint.pageX,\n      y: pointer.pageY - this.downPoint.pageY\n    };\n    if (!this.isDragging && this.hasDragStarted(moveVector)) {\n      this.dragRealStart(e, pointer);\n    }\n    return moveVector;\n  }\n  dragMove(e, pointer) {\n    e = e || window.event;\n    if (!this.isDown) {\n      return;\n    }\n    const { x, y } = this.startPos;\n    const moveVector = this._dragPointerMove(e, pointer);\n    let dragX = moveVector.x;\n    let dragY = moveVector.y;\n    dragX = this.checkContain(\"x\", dragX, x);\n    dragY = this.checkContain(\"y\", dragY, y);\n    this.position.x = x + dragX;\n    this.position.y = y + dragY;\n    this.dragPoint.x = dragX;\n    this.dragPoint.y = dragY;\n    this.emit(EVENTS.MOVE, this.position);\n  }\n  dragCancel(e, pointer) {\n    this.dragEnd(e, pointer);\n  }\n  presetInfo() {\n    this.isDragging = false;\n    this.startPos = {\n      x: 0,\n      y: 0\n    };\n    this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    this.isDown = false;\n  }\n  destroy() {\n    this._unbindStartEvent();\n    this._unbindPostStartEvents();\n    if (this.isDragging) {\n      this.dragEnd();\n    }\n    this.removeAllListeners();\n    this._handlerDom = null;\n  }\n  hasDragStarted(moveVector) {\n    return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n  }\n  checkContain(axis, drag, grid) {\n    if (drag + grid < 0) {\n      return 0 - grid;\n    }\n    if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n      return this.startPos.maxX - grid;\n    }\n    if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n      return this.startPos.maxY - grid;\n    }\n    return drag;\n  }\n  _getPosition() {\n    const style = window.getComputedStyle(this._root);\n    const x = this._getPositionCoord(style.left, \"width\");\n    const y = this._getPositionCoord(style.top, \"height\");\n    this.position.x = Number.isNaN(x) ? 0 : x;\n    this.position.y = Number.isNaN(y) ? 0 : y;\n    this._addTransformPosition(style);\n  }\n  _addTransformPosition(style) {\n    const transform = style.transform;\n    if (transform.indexOf(\"matrix\") !== 0) {\n      return;\n    }\n    const matrixValues = transform.split(\",\");\n    const xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n    const translateX = parseInt(matrixValues[xIndex], 10);\n    const translateY = parseInt(matrixValues[xIndex + 1], 10);\n    this.position.x += translateX;\n    this.position.y += translateY;\n  }\n  _getPositionCoord(styleSide, measure) {\n    if (styleSide.indexOf(\"%\") !== -1) {\n      const parentSize = getSize(this._root.parentNode);\n      return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n    }\n    return parseInt(styleSide, 10);\n  }\n}\nexport { Draggabilly as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nclass MiniScreen extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onCancelClick\", (e) => {\n      this.exitMini();\n      this.isClose = true;\n    });\n    __publicField(this, \"onCenterClick\", (e) => {\n      const { player } = this;\n      player.paused ? player.play() : player.pause();\n    });\n    __publicField(this, \"onScroll\", (e) => {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - this.pos.scrollY) < 50) {\n        return;\n      }\n      let scrollHeight = parseInt(util.getCss(this.player.root, \"height\"));\n      scrollHeight += this.config.scrollTop;\n      this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !this.isMini && !this.isClose && this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        this.isMini && this.exitMini();\n        this.isClose = false;\n      }\n    });\n    this.isMini = false;\n    this.isClose = false;\n    const { config } = this;\n    this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: this.config.height,\n      width: this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    this.lastStyle = null;\n  }\n  static get pluginName() {\n    return \"miniscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 10,\n      disable: false,\n      width: 320,\n      height: 180,\n      left: -1,\n      top: -1,\n      isShowIcon: false,\n      isScrollSwitch: false,\n      scrollTop: 0,\n      disableDrag: false\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.mini === \"boolean\") {\n      args.config.isShowIcon = args.player.config.mini;\n    }\n  }\n  afterCreate() {\n    this.initIcons();\n    this.on(PAUSE, () => {\n      this.setAttr(\"data-state\", \"pause\");\n    });\n    this.on(PLAY, () => {\n      this.setAttr(\"data-state\", \"play\");\n    });\n  }\n  onPluginsReady() {\n    const { player, config } = this;\n    if (config.disable) {\n      return;\n    }\n    if (this.config.isShowIcon) {\n      const options = {\n        config: {\n          onClick: () => {\n            this.getMini();\n          }\n        }\n      };\n      player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n    }\n    const eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n    this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n    this.bind(\".play-icon\", eventName, this.onCenterClick);\n    if (!this.config.disableDrag) {\n      this._draggabilly = new Draggabilly(this.player.root, {\n        handle: this.root\n      });\n    }\n    if (this.config.isScrollSwitch) {\n      window.addEventListener(\"scroll\", this.onScroll);\n    }\n  }\n  registerIcons() {\n    return {\n      play: { icon: PlaySvg, class: \"xg-icon-play\" },\n      pause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".play-icon\", icons.play);\n    this.appendChild(\".play-icon\", icons.pause);\n  }\n  getMini() {\n    if (this.isMini) {\n      return;\n    }\n    const { player, playerConfig } = this;\n    const target = this.config.target || this.player.root;\n    this.lastStyle = {};\n    util.addClass(player.root, \"xgplayer-mini\");\n    [\"width\", \"height\", \"top\", \"left\"].map((key) => {\n      this.lastStyle[key] = target.style[key];\n      target.style[key] = `${this.pos[key]}px`;\n    });\n    if (playerConfig.fluid) {\n      target.style[\"padding-top\"] = \"\";\n    }\n    this.emit(MINI_STATE_CHANGE, true);\n    player.isMini = this.isMini = true;\n  }\n  exitMini() {\n    if (!this.isMini) {\n      return false;\n    }\n    const { player, playerConfig } = this;\n    const target = this.config.target || this.player.root;\n    util.removeClass(player.root, \"xgplayer-mini\");\n    if (this.lastStyle) {\n      Object.keys(this.lastStyle).map((key) => {\n        target.style[key] = this.lastStyle[key];\n      });\n    }\n    this.lastStyle = null;\n    if (playerConfig.fluid) {\n      player.root.style.width = \"100%\";\n      player.root.style.height = \"0\";\n      player.root.style[\"padding-top\"] = `${playerConfig.height * 100 / playerConfig.width}%`;\n    }\n    this.emit(MINI_STATE_CHANGE, false);\n    this.isMini = player.isMini = false;\n  }\n  destroy() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n    const eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n    this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n    this.unbind(\".play-icon\", eventName, this.onCenterClick);\n    this._draggabilly && this._draggabilly.destroy();\n    this._draggabilly = null;\n    this.exitMini();\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n      <xg-mini-layer class=\"xg-mini-layer\">\n      <xg-mini-header class=\"xgplayer-mini-header\">\n      ${xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips)}\n      </xg-mini-header>\n      <div class=\"mini-cancel-btn\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\n        </svg>\n      </div>\n      <div class=\"play-icon\">\n      </div>\n      </xg-mini-layer>`;\n  }\n}\nexport { MiniScreen as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { ENTER_PLAYER, LEAVE_PLAYER } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nconst MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nconst HOOKS = [\"videoClick\", \"videoDbClick\"];\nclass PCPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onMouseMove\", (e) => {\n      const { player, playerConfig } = this;\n      if (!player.isActive) {\n        player.focus({ autoHide: !playerConfig.closeDelayBlur });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { playerConfig, player } = this;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({ autoHide: false });\n      } else {\n        player.focus();\n      }\n      this.emit(ENTER_PLAYER);\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      const { closePlayerBlur, leavePlayerTime, closeDelayBlur } = this.playerConfig;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          this.player.focus({ autoHide: true, delay: leavePlayerTime });\n        } else {\n          this.player.blur({ ignorePaused: true });\n        }\n      }\n      this.emit(LEAVE_PLAYER);\n    });\n    __publicField(this, \"onVideoClick\", (e) => {\n      const { player, playerConfig } = this;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        this._clickCount++;\n        if (this.clickTimer) {\n          clearTimeout(this.clickTimer);\n          this.clickTimer = null;\n        }\n        this.clickTimer = setTimeout(() => {\n          if (!this._clickCount) {\n            return;\n          }\n          this._clickCount--;\n          runHooks(this, HOOKS[0], (plugin, data) => {\n            this.switchPlayPause(data.e);\n          }, { e, paused: player.paused });\n          clearTimeout(this.clickTimer);\n          this.clickTimer = null;\n        }, 300);\n      }\n    });\n    __publicField(this, \"onVideoDblClick\", (e) => {\n      const { player, playerConfig } = this;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && this._clickCount < 2) {\n        this._clickCount = 0;\n        return;\n      }\n      this._clickCount = 0;\n      if (this.clickTimer) {\n        clearTimeout(this.clickTimer);\n        this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(this, HOOKS[1], (plugin, data) => {\n        this.emitUserAction(data.e, \"switch_fullscreen\", { props: \"fullscreen\", from: player.fullscreen, to: !player.fullscreen });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, { e, fullscreen: player.fullscreen });\n    });\n  }\n  static get pluginName() {\n    return \"pc\";\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  afterCreate() {\n    this._clickCount = 0;\n    HOOKS.map((item) => {\n      this.__hooks[item] = null;\n    });\n    const { isMobileSimulateMode } = this.playerConfig;\n    if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n      return;\n    }\n    this.initEvents();\n  }\n  initEvents() {\n    const { media, root } = this.player;\n    const { enableContextmenu } = this.playerConfig;\n    root && root.addEventListener(\"click\", this.onVideoClick, false);\n    root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n    Object.keys(MOUSE_EVENTS).map((item) => {\n      root.addEventListener(item, this[MOUSE_EVENTS[item]], false);\n    });\n    !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n  }\n  switchPlayPause(e) {\n    const { player } = this;\n    this.emitUserAction(e, \"switch_play_pause\", { props: \"paused\", from: player.paused, to: !player.paused });\n    if (!player.ended) {\n      player.paused ? player.play() : player.pause();\n    } else {\n      player.duration !== Infinity && player.duration > 0 && player.replay();\n    }\n  }\n  onContextmenu(e) {\n    e = e || window.event;\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.returnValue = false;\n      e.cancelBubble = true;\n    }\n  }\n  destroy() {\n    const { video, root } = this.player;\n    this.clickTimer && clearTimeout(this.clickTimer);\n    root.removeEventListener(\"click\", this.onVideoClick, false);\n    root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n    video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n    Object.keys(MOUSE_EVENTS).map((item) => {\n      root.removeEventListener(item, this[MOUSE_EVENTS[item]], false);\n    });\n  }\n}\nexport { PCPlugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nconst TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nconst MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nclass Touche {\n  constructor(dom, config = { eventType: \"touch\" }) {\n    __publicField(this, \"onTouchStart\", (e) => {\n      const { _pos, root } = this;\n      const touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      this.__setPress(e);\n      root.addEventListener(this.events.end, this.onTouchEnd);\n      root.addEventListener(this.events.cancel, this.onTouchCancel);\n      root.addEventListener(this.events.move, this.onTouchMove);\n      this.trigger(EVENTS.TOUCH_START, e);\n    });\n    __publicField(this, \"onTouchCancel\", (e) => {\n      this.onTouchEnd(e);\n    });\n    __publicField(this, \"onTouchEnd\", (e) => {\n      const { _pos, root } = this;\n      this.__clearPress();\n      root.removeEventListener(this.events.cancel, this.onTouchCancel);\n      root.removeEventListener(this.events.end, this.onTouchEnd);\n      root.removeEventListener(this.events.move, this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    __publicField(this, \"onTouchMove\", (e) => {\n      const { _pos, config } = this;\n      const touch = getTouch(e.touches);\n      const x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      const y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      const diffx = x - _pos.x;\n      const diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      this.__clearPress();\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(config).map((key) => {\n      this.config[key] = config[key];\n    });\n    this.root = dom;\n    this.events = config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _initEvent() {\n    this.root.addEventListener(this.events.start, this.onTouchStart);\n  }\n  __setPress(e) {\n    const { config } = this;\n    if (this.pressIntrvalId) {\n      this.__clearPress();\n    }\n    this.pressIntrvalId = setTimeout(() => {\n      this.trigger(EVENTS.PRESS, e);\n      this._pos.press = true;\n      this.__clearPress();\n    }, config.pressDelay);\n  }\n  __clearPress() {\n    window.clearTimeout(this.pressIntrvalId);\n    this.pressIntrvalId = null;\n  }\n  __setDb(e) {\n    const { config } = this;\n    if (this.dbIntrvalId) {\n      this.__clearDb();\n      this.trigger(EVENTS.DOUBlE_CLICK, e);\n      return;\n    }\n    this.dbIntrvalId = setTimeout(() => {\n      this.__clearDb();\n      if (!this._pos.start && !this._pos.press && !this._pos.moving) {\n        this.trigger(EVENTS.CLICK, e);\n      }\n    }, config.dbClickDelay);\n  }\n  __clearDb() {\n    clearTimeout(this.dbIntrvalId);\n    this.dbIntrvalId = null;\n  }\n  on(event, handler) {\n    if (!this.__handlers[event]) {\n      this.__handlers[event] = [];\n    }\n    this.__handlers[event].push(handler);\n  }\n  off(event, handler) {\n    if (!this.__handlers[event]) {\n      return;\n    }\n    const handlers = this.__handlers[event];\n    let index = -1;\n    for (let i = 0; i < handlers.length; i++) {\n      if (handlers[i] === handler) {\n        index = i;\n        break;\n      }\n    }\n    if (index >= 0) {\n      this.__handlers[event].splice(index, 1);\n    }\n  }\n  trigger(event, e) {\n    if (!this.__handlers[event]) {\n      return;\n    }\n    this.__handlers[event].map((handler) => {\n      try {\n        handler(e);\n      } catch (error) {\n        console.error(`trigger>>:${event}`, error);\n      }\n    });\n  }\n  destroy() {\n    const map = {\n      touchend: \"onTouchEnd\",\n      touchmove: \"onTouchMove\",\n      touchstart: \"onTouchStart\"\n    };\n    Object.keys(map).forEach((key) => {\n      this.root.removeEventListener(key, this[map[key]]);\n    });\n  }\n}\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nconst ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nconst HOOKS = [\"videoClick\", \"videoDbClick\"];\nclass MobilePlugin extends Plugin {\n  constructor(options) {\n    super(options);\n    __publicField(this, \"onTouchStart\", (e) => {\n      const { player, config, pos, playerConfig } = this;\n      const touche = this.getTouche(e);\n      if (touche && !config.disableGesture && this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        this.timer && clearTimeout(this.timer);\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n        const rect = this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        const _x = parseInt(touche.pageX - pos.left, 10);\n        const _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    __publicField(this, \"onTouchMove\", (e) => {\n      const touche = this.getTouche(e);\n      const { pos, config, player } = this;\n      if (!touche || config.disableGesture || !this.duration || !pos.isStart) {\n        return;\n      }\n      const { miniMoveStep, hideControlsActive } = config;\n      const _x = parseInt(touche.pageX - pos.left, 10);\n      const _y = parseInt(touche.pageY - pos.top, 10);\n      const x = player.rotateDeg === 90 ? _y : _x;\n      const y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        const diffx = x - pos.x;\n        const diffy = y - pos.y;\n        let scope = pos.scope;\n        if (scope === -1) {\n          scope = this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({ autoHide: false }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        e.cancelable && e.preventDefault();\n        this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    __publicField(this, \"onTouchEnd\", (e) => {\n      const { player, pos, playerConfig } = this;\n      setTimeout(() => {\n        player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n      }, 10);\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      const { disableGesture, gestureX } = this.config;\n      if (!disableGesture && gestureX) {\n        this.endLastMove(pos.scope);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      this.changeAction(ACTIONS.AUTO);\n    });\n    __publicField(this, \"onRootTouchMove\", (e) => {\n      if (this.config.disableGesture || !this.config.gestureX) {\n        return;\n      }\n      if (this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!this.pos.isStart) {\n          this.onTouchStart(e);\n        } else {\n          this.onTouchMove(e);\n        }\n      }\n    });\n    __publicField(this, \"onRootTouchEnd\", (e) => {\n      if (this.pos.isStart && this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        this.onTouchEnd(e);\n      }\n    });\n    this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    this.timer = null;\n  }\n  static get pluginName() {\n    return \"mobile\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 0,\n      disableGesture: false,\n      gestureX: true,\n      gestureY: true,\n      gradient: \"normal\",\n      isTouchingSeek: false,\n      miniMoveStep: 5,\n      miniYPer: 5,\n      scopeL: 0.25,\n      scopeR: 0.25,\n      scopeM: 0.9,\n      pressRate: 2,\n      darkness: true,\n      maxDarkness: 0.8,\n      disableActive: false,\n      disableTimeProgress: false,\n      hideControlsActive: false,\n      hideControlsEnd: false,\n      moveDuration: 60 * 6 * 1e3,\n      closedbClick: false,\n      disablePress: true,\n      disableSeekIcon: false,\n      focusVideoClick: false\n    };\n  }\n  get duration() {\n    return this.playerConfig.customDuration || this.player.duration;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  registerIcons() {\n    return {\n      seekTipIcon: { icon: SeekTipIcon, class: \"xg-seek-pre\" }\n    };\n  }\n  afterCreate() {\n    HOOKS.map((item) => {\n      this.__hooks[item] = null;\n    });\n    const { playerConfig, config, player } = this;\n    if (playerConfig.closeVideoDblclick === true) {\n      config.closedbClick = true;\n    }\n    this.resetPos();\n    if (!util.isUndefined(playerConfig.disableGesture)) {\n      config.disableGesture = !!playerConfig.disableGesture;\n    }\n    this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n    this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n    player.root.appendChild(this.xgMask);\n    this.initCustomStyle();\n    this.registerThumbnail();\n    const eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n    this.touch = new Touche(this.root, { eventType, needPreventDefault: !this.config.disableGesture });\n    this.root.addEventListener(\"contextmenu\", (e) => {\n      e.preventDefault();\n    });\n    player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n    player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n    this.on(DURATION_CHANGE, () => {\n      const { player: player2, config: config2 } = this;\n      if (player2.duration * 1e3 < config2.moveDuration) {\n        config2.moveDuration = player2.duration * 1e3;\n      }\n    });\n    this.on([CANPLAY, ENDED], () => {\n      const { time, isStart } = this.pos;\n      if (!isStart && time > 0) {\n        this.pos.time = 0;\n      }\n    });\n    const eventsMap = {\n      touchstart: \"onTouchStart\",\n      touchmove: \"onTouchMove\",\n      touchend: \"onTouchEnd\",\n      press: \"onPress\",\n      pressend: \"onPressEnd\",\n      click: \"onClick\",\n      doubleclick: \"onDbClick\"\n    };\n    Object.keys(eventsMap).map((key) => {\n      this.touch.on(key, (e) => {\n        this[eventsMap[key]](e);\n      });\n    });\n    if (!config.disableActive) {\n      const progressPlugin = player.plugins.progress;\n      if (progressPlugin) {\n        progressPlugin.addCallBack(\"dragmove\", (data) => {\n          this.activeSeekNote(data.currentTime, data.forward);\n        });\n        [\"dragend\", \"click\"].forEach((key) => {\n          progressPlugin.addCallBack(key, () => {\n            this.changeAction(ACTIONS.AUTO);\n          });\n        });\n      }\n    }\n  }\n  registerThumbnail() {\n    const { player } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n      const timePreview = this.find(\".time-preview\");\n      timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n    }\n  }\n  initCustomStyle() {\n    const { commonStyle } = this.playerConfig || {};\n    const { playedColor, progressColor, timePreviewStyle, curTimeColor, durationColor } = commonStyle;\n    if (playedColor) {\n      this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n    }\n    if (progressColor) {\n      this.find(\".xg-bar\").style.backgroundColor = progressColor;\n    }\n    if (timePreviewStyle) {\n      const previewDom = this.find(\".time-preview\");\n      Object.keys(timePreviewStyle).forEach((key) => {\n        previewDom.style[key] = timePreviewStyle[key];\n      });\n    }\n    const curColor = curTimeColor || playedColor;\n    const durColor = durationColor;\n    curColor && (this.find(\".xg-cur\").style.color = curColor);\n    durColor && (this.find(\".xg-dur\").style.color = durColor);\n    this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n  }\n  resetPos(time = 0) {\n    if (this.pos) {\n      this.pos.isStart = false;\n      this.pos.scope = -1;\n      [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map((item) => {\n        this.pos[item] = 0;\n      });\n    } else {\n      this.pos = {\n        isStart: false,\n        x: 0,\n        y: 0,\n        volume: 0,\n        rate: 1,\n        light: 0,\n        width: 0,\n        height: 0,\n        scopeL: 0,\n        scopeR: 0,\n        scopeM1: 0,\n        scopeM2: 0,\n        scope: -1,\n        time: 0\n      };\n    }\n  }\n  changeAction(action) {\n    const { player, root } = this;\n    root.setAttribute(\"data-xg-action\", action);\n    const startPlugin = player.plugins.start;\n    startPlugin && startPlugin.recover();\n  }\n  getTouche(e) {\n    const rotateDeg = this.player.rotateDeg;\n    const touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n    return rotateDeg === 0 ? {\n      pageX: touche.pageX,\n      pageY: touche.pageY\n    } : {\n      pageX: touche.pageX,\n      pageY: touche.pageY\n    };\n  }\n  checkScope(x, y, diffx, diffy, pos) {\n    const { width } = pos;\n    let scope = -1;\n    if (x < 0 || x > width) {\n      return scope;\n    }\n    const mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n    if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n      scope = 0;\n    } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n      scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n    }\n    return scope;\n  }\n  executeMove(diffx, diffy, scope, width, height) {\n    switch (scope) {\n      case 0:\n        this.updateTime(diffx / width * this.config.scopeM);\n        break;\n      case 1:\n        this.updateBrightness(diffy / height);\n        break;\n      case 2:\n        if (!sniffer.os.isIos) {\n          this.updateVolume(diffy / height);\n        }\n        break;\n    }\n  }\n  endLastMove(lastScope) {\n    const { pos, player, config } = this;\n    const time = (pos.time - this.timeOffset) / 1e3;\n    switch (lastScope) {\n      case 0:\n        player.seek(Number(time).toFixed(1));\n        config.hideControlsEnd ? player.blur() : player.focus();\n        this.timer = setTimeout(() => {\n          this.pos.time = 0;\n        }, 500);\n        break;\n    }\n    this.changeAction(ACTIONS.AUTO);\n  }\n  checkIsRootTarget(e) {\n    const plugins = this.player.plugins || {};\n    if (plugins.progress && plugins.progress.root.contains(e.target)) {\n      return false;\n    }\n    return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n  }\n  sendUseAction(event) {\n    const { paused } = this.player;\n    this.emitUserAction(event, \"switch_play_pause\", {\n      prop: \"paused\",\n      from: paused,\n      to: !paused\n    });\n  }\n  clickHandler(e) {\n    const { player, config, playerConfig } = this;\n    if (player.state < STATES.RUNNING) {\n      if (!playerConfig.closeVideoClick) {\n        this.sendUseAction(util.createEvent(\"click\"));\n        player.play();\n      }\n      return;\n    }\n    if (!config.closedbClick || playerConfig.closeVideoClick) {\n      player.isActive ? player.blur() : player.focus();\n    } else if (!playerConfig.closeVideoClick) {\n      if (player.isActive || config.focusVideoClick) {\n        this.sendUseAction(util.createEvent(\"click\"));\n        this.switchPlayPause();\n      }\n      player.focus();\n    }\n  }\n  dbClickHandler(e) {\n    const { config, player } = this;\n    if (!config.closedbClick && player.state >= STATES.RUNNING) {\n      this.sendUseAction(util.createEvent(\"dblclick\"));\n      this.switchPlayPause();\n    }\n  }\n  onClick(e) {\n    const { player } = this;\n    runHooks(this, HOOKS[0], (plugin, data) => {\n      this.clickHandler(data.e);\n    }, { e, paused: player.paused });\n  }\n  onDbClick(e) {\n    const { player } = this;\n    runHooks(this, HOOKS[1], (plugin, data) => {\n      this.dbClickHandler(data.e);\n    }, { e, paused: player.paused });\n  }\n  onPress(e) {\n    const { pos, config, player } = this;\n    if (config.disablePress) {\n      return;\n    }\n    pos.rate = this.player.playbackRate;\n    this.emitUserAction(\"press\", \"change_rate\", {\n      prop: \"playbackRate\",\n      from: player.playbackRate,\n      to: config.pressRate\n    });\n    player.playbackRate = config.pressRate;\n    this.changeAction(ACTIONS.PLAYBACK);\n  }\n  onPressEnd(e) {\n    const { pos, config, player } = this;\n    if (config.disablePress) {\n      return;\n    }\n    this.emitUserAction(\"pressend\", \"change_rate\", { prop: \"playbackRate\", from: player.playbackRate, to: pos.rate });\n    player.playbackRate = pos.rate;\n    pos.rate = 1;\n    this.changeAction(ACTIONS.AUTO);\n  }\n  updateTime(percent) {\n    const { player, config } = this;\n    const { duration } = this.player;\n    percent = Number(percent.toFixed(4));\n    let time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n    time += this.pos.time;\n    time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n    player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n    player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n    this.activeSeekNote(time / 1e3, percent > 0);\n    if (config.isTouchingSeek) {\n      player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n    }\n    this.pos.time = time;\n  }\n  updateVolume(percent) {\n    if (this.player.rotateDeg) {\n      percent = -percent;\n    }\n    const { player, pos } = this;\n    percent = parseInt(percent * 100, 10);\n    pos.volume += percent;\n    if (Math.abs(pos.volume) < 10) {\n      return;\n    }\n    let volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n    volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n    player.volume = volume / 10;\n    pos.volume = 0;\n  }\n  updateBrightness(percent) {\n    if (this.player.rotateDeg) {\n      percent = -percent;\n    }\n    const { pos, config, xgMask } = this;\n    let light = pos.light + 0.8 * percent;\n    light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n    if (xgMask) {\n      xgMask.style.backgroundColor = `rgba(0,0,0,${light})`;\n    }\n    pos.light = light;\n  }\n  activeSeekNote(time, isForward = true) {\n    const { player, config } = this;\n    const isLive = !(this.duration !== Infinity && this.duration > 0);\n    if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n      return;\n    }\n    if (time < 0) {\n      time = 0;\n    } else if (time > player.duration) {\n      time = player.duration - 0.2;\n    }\n    this.changeAction(ACTIONS.SEEKING);\n    const startPlugin = player.plugins.start;\n    startPlugin && startPlugin.focusHide();\n    this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n    this.find(\".xg-cur\").innerHTML = util.format(time);\n    this.find(\".xg-curbar\").style.width = `${time / this.duration * 100}%`;\n    if (isForward) {\n      util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n    } else {\n      util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n    }\n    this.updateThumbnails(time);\n  }\n  updateThumbnails(time) {\n    const { player } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n    }\n  }\n  switchPlayPause() {\n    const { player } = this;\n    if (player.state < STATES.ATTACHED) {\n      return false;\n    } else if (!player.ended) {\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }\n  disableGesture() {\n    this.config.disableGesture = false;\n  }\n  enableGesture() {\n    this.config.disableGesture = true;\n  }\n  destroy() {\n    const { player } = this;\n    this.timer && clearTimeout(this.timer);\n    this.thumbnail = null;\n    player.root.removeChild(this.xgMask);\n    this.xgMask = null;\n    this.touch && this.touch.destroy();\n    this.touch = null;\n    player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n    player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n  }\n  render() {\n    const className = this.config.gradient !== \"normal\" ? `gradient ${this.config.gradient}` : \"gradient\";\n    return `\n     <xg-trigger class=\"trigger\">\n     <div class=\"${className}\"></div>\n        <div class=\"time-preview\">\n            <div class=\"xg-seek-show ${this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\"}\">\n              <i class=\"xg-seek-icon\"></i>\n              <span class=\"xg-cur\">00:00</span>\n              <span class=\"xg-separator\">/</span>\n              <span class=\"xg-dur\">00:00</span>\n            </div>\n              <div class=\"xg-bar xg-timebar\">\n                <div class=\"xg-curbar\"></div>\n              </div>\n        </div>\n        <div class=\"xg-playbackrate xg-top-note\">\n            <span><i>${this.config.pressRate}X</i>${this.i18n.FORWARD}</span>\n        </div>\n     </xg-trigger>\n    `;\n  }\n}\nexport { MobilePlugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  const tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nclass Keyboard extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onBodyKeyDown\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      const e = event || window.event;\n      const keyCode = e.keyCode;\n      const { _keyState, player } = this;\n      const { disable, disableBodyTrigger, isIgnoreUserActive } = this.config;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || this.config.isGlobalTrigger && !isDisableTag(e.target)) && this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && this.handleKeyDown(e);\n    });\n    __publicField(this, \"onBodyKeyUp\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n      this.handleKeyUp(event);\n    });\n    __publicField(this, \"onKeydown\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      const e = event || window.event;\n      const { _keyState } = this;\n      if (!e.repeat) {\n        if (this.config.disable || this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || this.checkCode(e.keyCode)) && (e.target === this.player.root || e.target === this.player.video || e.target === this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        this.player.root.addEventListener(\"keyup\", this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      this.handleKeyDown(e);\n    });\n    __publicField(this, \"onKeyup\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      this.handleKeyUp(event);\n    });\n  }\n  static get pluginName() {\n    return \"keyboard\";\n  }\n  static get defaultConfig() {\n    return {\n      seekStep: 10,\n      checkVisible: false,\n      disableBodyTrigger: false,\n      disableRootTrigger: false,\n      isGlobalTrigger: true,\n      keyCodeMap: {},\n      disable: false,\n      playbackRate: 2,\n      isIgnoreUserActive: true\n    };\n  }\n  mergekeyCodeMap() {\n    const extendkeyCodeMap = this.config.keyCodeMap;\n    if (extendkeyCodeMap) {\n      Object.keys(extendkeyCodeMap).map((key) => {\n        if (!this.keyCodeMap[key]) {\n          this.keyCodeMap[key] = extendkeyCodeMap[key];\n        } else {\n          [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map((key1) => {\n            extendkeyCodeMap[key][key1] && (this.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n          });\n        }\n      });\n    }\n  }\n  afterCreate() {\n    this.config.disable = !this.playerConfig.keyShortcut;\n    const seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n    if (!(!seekStep || typeof seekStep !== \"number\")) {\n      this.seekStep = seekStep;\n    }\n    this.keyCodeMap = {\n      space: {\n        keyCode: 32,\n        action: \"playPause\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: false\n      },\n      up: {\n        keyCode: 38,\n        action: \"upVolume\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: true\n      },\n      down: {\n        keyCode: 40,\n        action: \"downVolume\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: true\n      },\n      left: {\n        keyCode: 37,\n        action: \"seekBack\",\n        disablePress: false,\n        disable: false\n      },\n      right: {\n        keyCode: 39,\n        action: \"seek\",\n        pressAction: \"changePlaybackRate\",\n        disablePress: false,\n        disable: false\n      },\n      esc: {\n        keyCode: 27,\n        action: \"exitFullscreen\",\n        disablePress: true,\n        disable: false\n      }\n    };\n    this.mergekeyCodeMap();\n    this._keyState = {\n      isKeyDown: false,\n      isBodyKeyDown: false,\n      isPress: false,\n      tt: 0,\n      playbackRate: 0\n    };\n    this.player.root.addEventListener(\"keydown\", this.onKeydown);\n    document.addEventListener(\"keydown\", this.onBodyKeyDown);\n  }\n  setConfig(newConfig) {\n    Object.keys(newConfig).forEach((key) => {\n      this.config[key] = newConfig[key];\n    });\n  }\n  checkIsVisible() {\n    if (!this.config.checkVisible) {\n      return true;\n    }\n    const rec = this.player.root.getBoundingClientRect();\n    const { height, top, bottom } = rec;\n    const h = window.innerHeight;\n    if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n      return false;\n    }\n    return true;\n  }\n  checkCode(code, isBodyTarget) {\n    let flag = false;\n    Object.keys(this.keyCodeMap).map((key) => {\n      if (this.keyCodeMap[key] && code === this.keyCodeMap[key].keyCode && !this.keyCodeMap[key].disable) {\n        flag = !isBodyTarget || isBodyTarget && !this.keyCodeMap[key].noBodyTarget;\n      }\n    });\n    return flag;\n  }\n  downVolume(event) {\n    const { player } = this;\n    if (player.volume <= 0) {\n      return;\n    }\n    const val = parseFloat((player.volume - 0.1).toFixed(1));\n    const props = {\n      volume: {\n        from: player.volume,\n        to: val\n      }\n    };\n    this.emitUserAction(event, \"change_volume\", { props });\n    if (val >= 0) {\n      player.volume = val;\n    } else {\n      player.volume = 0;\n    }\n  }\n  upVolume(event) {\n    const { player } = this;\n    if (player.volume >= 1) {\n      return;\n    }\n    const val = parseFloat((player.volume + 0.1).toFixed(1));\n    const props = {\n      volume: {\n        from: player.volume,\n        to: val\n      }\n    };\n    this.emitUserAction(event, \"change_volume\", { props });\n    if (val <= 1) {\n      player.volume = val;\n    } else {\n      player.volume = 1;\n    }\n  }\n  seek(event) {\n    const { currentTime, offsetCurrentTime, duration, offsetDuration, timeSegments } = this.player;\n    let _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n    const _duration = offsetDuration || duration;\n    const _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n    if (_time + _step <= _duration) {\n      _time = _time + _step;\n    } else {\n      _time = _duration;\n    }\n    const _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n    const props = {\n      currentTime: {\n        from: currentTime,\n        to: _seekTime\n      }\n    };\n    this.emitUserAction(event, \"seek\", { props });\n    this.player.currentTime = _seekTime;\n  }\n  seekBack(event) {\n    const { currentTime, offsetCurrentTime, timeSegments } = this.player;\n    const _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n    const _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n    let _seekTime = _time - _step;\n    if (_seekTime < 0) {\n      _seekTime = 0;\n    }\n    _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n    const props = {\n      currentTime: {\n        from: currentTime,\n        to: _seekTime\n      }\n    };\n    this.emitUserAction(event, \"seek\", { props });\n    this.player.currentTime = _seekTime;\n  }\n  changePlaybackRate(event) {\n    const { _keyState, config, player } = this;\n    if (_keyState.playbackRate === 0) {\n      _keyState.playbackRate = player.playbackRate;\n      player.playbackRate = config.playbackRate;\n    }\n  }\n  playPause(event) {\n    const { player } = this;\n    if (!player) {\n      return;\n    }\n    this.emitUserAction(event, \"switch_play_pause\");\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n  exitFullscreen(event) {\n    const { player } = this;\n    const { fullscreen, cssfullscreen } = player;\n    if (fullscreen) {\n      this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n        prop: \"fullscreen\",\n        from: fullscreen,\n        to: !fullscreen\n      });\n      player.exitFullscreen();\n    }\n    if (cssfullscreen) {\n      this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n        prop: \"cssfullscreen\",\n        from: cssfullscreen,\n        to: !cssfullscreen\n      });\n      player.exitCssFullscreen();\n    }\n  }\n  handleKeyDown(e) {\n    const { _keyState } = this;\n    if (e.repeat) {\n      _keyState.isPress = true;\n      const _t = Date.now();\n      if (_t - _keyState.tt < 200) {\n        return;\n      }\n      _keyState.tt = _t;\n    }\n    this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n  }\n  handleKeyUp(e) {\n    const { _keyState } = this;\n    if (_keyState.playbackRate > 0) {\n      this.player.playbackRate = _keyState.playbackRate;\n      _keyState.playbackRate = 0;\n    }\n    _keyState.isKeyDown = false;\n    _keyState.isPress = false;\n    _keyState.tt = 0;\n  }\n  handleKeyCode(curKeyCode, event, isPress) {\n    const arr = Object.keys(this.keyCodeMap);\n    for (let i = 0; i < arr.length; i++) {\n      const { action, keyCode, disable, pressAction, disablePress } = this.keyCodeMap[arr[i]];\n      if (keyCode === curKeyCode) {\n        if (!disable && !(isPress && disablePress)) {\n          const _action = !isPress ? action : pressAction || action;\n          if (typeof _action === \"function\") {\n            action(event, this.player, isPress);\n          } else if (typeof _action === \"string\") {\n            if (typeof this[_action] === \"function\") {\n              this[_action](event, this.player, isPress);\n            }\n          }\n          this.emit(SHORTCUT, {\n            key: arr[i],\n            target: event.target,\n            isPress,\n            ...this.keyCodeMap[arr[i]]\n          });\n        }\n        preventDefault(event);\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n  destroy() {\n    this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n    document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n    this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n    document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n  }\n  disable() {\n    this.config.disable = true;\n  }\n  enable() {\n    this.config.disable = false;\n  }\n}\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nclass Loading extends Plugin {\n  static get pluginName() {\n    return \"loading\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.ROOT\n    };\n  }\n  registerIcons() {\n    return {\n      loadingIcon\n    };\n  }\n  afterCreate() {\n    this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n  }\n  render() {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>`;\n  }\n}\nexport { Loading as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nconst TPL = [\n  { tag: \"xg-cache\", className: \"xgplayer-progress-cache\", styleKey: \"cachedColor\" },\n  { tag: \"xg-played\", className: \"xgplayer-progress-played\", styleKey: \"playedColor\" }\n];\nclass InnerList {\n  constructor(args) {\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({ percent: 1 });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  updateDuration(duration) {\n    this.duration = duration;\n    let start = 0;\n    const { fragments } = this;\n    this.fragments = fragments.map((item) => {\n      item.start = parseInt(start, 10);\n      item.end = parseInt(start + item.percent * this.duration, 10);\n      item.duration = parseInt(item.percent * this.duration, 10);\n      start += item.percent * this.duration;\n      return item;\n    });\n  }\n  updateProgress(type = \"played\", data = { newIndex: 0, curIndex: 0, millisecond: 0 }) {\n    const { progressList, fragments } = this;\n    if (progressList.length < 1) {\n      return;\n    }\n    const { newIndex, curIndex, millisecond } = data;\n    if (newIndex !== curIndex) {\n      progressList.map((item, index) => {\n        if (index < newIndex) {\n          item[type].style.width = \"100%\";\n        } else if (index > newIndex) {\n          item[type].style.width = 0;\n        }\n      });\n    }\n    const curPFrag = fragments[newIndex];\n    const per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n    progressList[newIndex][type].style.width = per < 0 ? 0 : `${per * 100}%`;\n  }\n  updateFocus(data) {\n    if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n      return;\n    }\n    if (!data) {\n      if (this.focusIndex > -1) {\n        this.unHightLight(this.focusIndex);\n        const _data = {\n          index: -1,\n          preIndex: this.focusIndex,\n          fragment: null\n        };\n        this._callBack && this._callBack(_data);\n        this.focusIndex = -1;\n      }\n      return;\n    }\n    const newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n    if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n      this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n      this.setHightLight(newPIndex);\n      const _data = {\n        index: newPIndex,\n        preIndex: this.focusIndex,\n        fragment: this.fragments[this.focusIndex]\n      };\n      this.focusIndex = newPIndex;\n      this._callBack && this._callBack(_data);\n    }\n  }\n  update(data = { cached: 0, played: 0 }, duration) {\n    if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n      if (!duration && duration !== 0) {\n        return;\n      }\n      this.updateDuration(parseInt(duration * 1e3, 10));\n    }\n    const { playedIndex, cachedIndex } = this;\n    if (util.typeOf(data.played) !== \"Undefined\") {\n      const newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n      if (newPIndex < 0) {\n        return;\n      }\n      this.updateProgress(\"played\", {\n        newIndex: newPIndex,\n        curIndex: playedIndex,\n        millisecond: parseInt(data.played * 1e3, 10)\n      });\n      this.playedIndex = newPIndex;\n    }\n    if (util.typeOf(data.cached) !== \"Undefined\") {\n      const newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n      if (newCIndex < 0) {\n        return;\n      }\n      this.updateProgress(\"cached\", {\n        newIndex: newCIndex,\n        curIndex: cachedIndex,\n        millisecond: parseInt(data.cached * 1e3, 10)\n      });\n      this.cachedIndex = newCIndex;\n    }\n  }\n  findIndex(time, curIndex) {\n    const { fragments } = this;\n    if (!fragments || fragments.length === 0) {\n      return -1;\n    }\n    if (fragments.length === 1) {\n      return 0;\n    }\n    if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n      return curIndex;\n    }\n    if (time > fragments[fragments.length - 1].start) {\n      return fragments.length - 1;\n    }\n    for (let i = 0; i < fragments.length; i++) {\n      if (time > fragments[i].start && time <= fragments[i].end) {\n        curIndex = i;\n        break;\n      }\n    }\n    return curIndex;\n  }\n  findHightLight() {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n        return {\n          dom: children[i],\n          pos: children[i].getBoundingClientRect()\n        };\n      }\n    }\n  }\n  findFragment(index) {\n    const children = this.root.children;\n    if (index < 0 || index >= children.length) {\n      return null;\n    }\n    return {\n      dom: children[index],\n      pos: children[index].getBoundingClientRect()\n    };\n  }\n  unHightLight() {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      util.removeClass(children[i], this.fragConfig.fragFocusClass);\n    }\n  }\n  setHightLight(index) {\n    const children = this.root.children;\n    if (index < children.length) {\n      util.addClass(children[index], this.fragConfig.fragFocusClass);\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }\n  destroy() {\n    this.progressList = null;\n    this.fragments = null;\n    this.root.innerHTML = \"\";\n  }\n  reset(newOptions) {\n    Object.keys(this.fragConfig).forEach((key) => {\n      if (newOptions[key] !== void 0) {\n        this.fragConfig[key] = newOptions[key];\n      }\n    });\n    if (newOptions.fragments) {\n      this.fragments = newOptions.fragments.length === 0 ? [{ percent: 1 }] : newOptions.fragments;\n      this.updateDuration(this.duration);\n      this.playedIndex = 0;\n      this.cachedIndex = 0;\n      if (this.root) {\n        const _c = this.root.children;\n        while (_c.length > 0) {\n          this.root.removeChild(_c[0]);\n        }\n      }\n      this.render();\n    }\n  }\n  render() {\n    const { progressColor } = this.style;\n    if (!this.root) {\n      this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n    }\n    if (this.fragments) {\n      const { fragClass, fragFocusClass } = this.fragConfig;\n      this.progressList = this.fragments.map((item) => {\n        const inner = util.createDom(\"xg-inner\", \"\", {\n          style: progressColor ? `background:${progressColor}; flex: ${item.percent}` : `flex: ${item.percent}`\n        }, `${item.isFocus ? fragFocusClass : \"\"} xgplayer-progress-inner ${fragClass}`);\n        this.root.appendChild(inner);\n        TPL.forEach((item2) => {\n          inner.appendChild(util.createDom(item2.tag, \"\", {\n            style: item2.styleKey ? `background: ${this.style[item2.styleKey]}; width:0;` : \"width:0;\"\n          }, item2.className));\n        });\n        return {\n          cached: inner.children[0],\n          played: inner.children[1]\n        };\n      });\n    }\n    return this.root;\n  }\n}\nexport { InnerList as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nconst FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nclass Progress extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onMoveOnly\", (e, data) => {\n      const { pos, config, player } = this;\n      let ret = data;\n      if (e) {\n        util.event(e);\n        const _ePos = util.getEventPos(e, player.zoom);\n        const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = this.computeTime(e, x);\n      }\n      this.triggerCallbacks(\"dragmove\", ret, e);\n      this._updateInnerFocus(ret);\n    });\n    __publicField(this, \"onBodyClick\", (e) => {\n      if (!this.pos.isLocked) {\n        return;\n      }\n      this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    __publicField(this, \"_mouseDownHandler\", (event, data) => {\n      this._state.time = data.currentTime;\n      this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      this._updateInnerFocus(data);\n    });\n    __publicField(this, \"_mouseUpHandler\", (e, data) => {\n      const { pos } = this;\n      pos.moving && this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    __publicField(this, \"_mouseMoveHandler\", (e, data) => {\n      const { _state, pos, config, player } = this;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        this.triggerCallbacks(\"dragstart\", data, e);\n        this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      this.triggerCallbacks(\"dragmove\", data, e);\n      this._updateInnerFocus(data);\n    });\n    __publicField(this, \"onMouseDown\", (e) => {\n      const { _state, player, pos, config, playerConfig } = this;\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({ autoHide: false });\n      this.isProgressMoving = true;\n      util.addClass(this.progressBtn, \"active\");\n      const ret = this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      this._mouseDownHandlerHook(e, ret);\n      const eventType = e.type;\n      if (eventType === \"touchstart\") {\n        this.root.addEventListener(\"touchmove\", this.onMouseMove);\n        this.root.addEventListener(\"touchend\", this.onMouseUp);\n        this.root.addEventListener(\"touchcancel\", this.onMouseUp);\n      } else {\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        document.addEventListener(\"mousemove\", this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", this.onMouseUp, false);\n      }\n      return true;\n    });\n    __publicField(this, \"onMouseUp\", (e) => {\n      const { player, config, pos, playerConfig, _state } = this;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(this.progressBtn, \"active\");\n      const ret = this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        this.triggerCallbacks(\"dragend\", ret, e);\n        this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        this.triggerCallbacks(\"click\", ret, e);\n        this.emitUserAction(\"click\", \"click\", ret);\n      }\n      this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      const eventType = e.type;\n      if (eventType === \"touchend\" || eventType === \"touchcancel\") {\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n        this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        if (!pos.isEnter) {\n          this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && this.bind(\"mousemove\", this.onMoveOnly);\n        }\n      }\n      util.setTimeout(this, () => {\n        this.resetSeekState();\n      }, 10);\n      player.focus();\n    });\n    __publicField(this, \"onMouseMove\", (e) => {\n      const { _state, pos, player, config } = this;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      const diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      const ret = this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      this._mouseMoveHandlerHook(e, ret);\n    });\n    __publicField(this, \"onMouseOut\", (e) => {\n      this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    __publicField(this, \"onMouseOver\", (e) => {\n      this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { player, pos } = this;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      this.bind(\"mousemove\", this.onMoveOnly);\n      this.bind(\"mouseleave\", this.onMouseLeave);\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      const ret = this.computeTime(e, x);\n      this.triggerCallbacks(\"mouseenter\", ret, e);\n      this.focus();\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      this.triggerCallbacks(\"mouseleave\", null, e);\n      this.unlock();\n      this._updateInnerFocus(null);\n    });\n    __publicField(this, \"onVideoResize\", () => {\n      const { x, isDown, isEnter } = this.pos;\n      if (isEnter && !isDown) {\n        const ret = this.computeTime(null, x);\n        this.onMoveOnly(null, ret);\n      }\n    });\n    this.useable = false;\n    this.isProgressMoving = false;\n    this.__dragCallBacks = [];\n    this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    this._disableBlur = false;\n  }\n  static get pluginName() {\n    return \"progress\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_CENTER,\n      index: 0,\n      disable: false,\n      isDragingSeek: true,\n      closeMoveSeek: false,\n      isPauseMoving: false,\n      isCloseClickSeek: false,\n      fragments: [{ percent: 1 }],\n      fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n      fragClass: \"\",\n      fragAutoFocus: false,\n      miniMoveStep: 5,\n      miniStartStep: 2,\n      onMoveStart: () => {\n      },\n      onMoveEnd: () => {\n      },\n      endedDiff: 0.2\n    };\n  }\n  static get FRAGMENT_FOCUS_CLASS() {\n    return FRAGMENT_FOCUS_CLASS;\n  }\n  get offsetDuration() {\n    return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n  }\n  get duration() {\n    return this.playerConfig.customDuration || this.player.duration;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n  }\n  changeState(useable = true) {\n    this.useable = useable;\n  }\n  show(value) {\n    this.root && (this.root.style.display = \"flex\");\n  }\n  _initInner(fragments = [], config = {}) {\n    if (!fragments || fragments.length === 0) {\n      fragments = [{ percent: 1 }];\n    }\n    const _c = {\n      fragments,\n      ...config,\n      actionCallback: (data) => {\n        this.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n      }\n    };\n    if (!this.innerList) {\n      this.innerList = new InnerList(_c);\n      this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n      [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map((item) => {\n        this[item] = this.innerList[item].bind(this.innerList);\n      });\n    } else {\n      this.innerList.reset(_c);\n    }\n  }\n  _updateInnerFocus(data) {\n    this.innerList && this.innerList.updateFocus(data);\n  }\n  afterCreate() {\n    if (this.config.disable || this.playerConfig.isLive) {\n      return;\n    }\n    this.pos = {\n      x: 0,\n      y: 0,\n      moving: false,\n      isDown: false,\n      isEnter: false,\n      isLocked: false\n    };\n    this.outer = this.find(\"xg-outer\");\n    const { fragFocusClass, fragAutoFocus, fragClass } = this.config;\n    this._initInner(this.config.fragments, { fragFocusClass, fragAutoFocus, fragClass, style: this.playerConfig.commonStyle || {} });\n    if (sniffer.device === \"mobile\") {\n      this.config.isDragingSeek = false;\n      this.isMobile = true;\n    }\n    this.progressBtn = this.find(\".xgplayer-progress-btn\");\n    this.on(DURATION_CHANGE, () => {\n      this.onMouseLeave();\n    });\n    this.on(TIME_UPDATE, () => {\n      this.onTimeupdate();\n    });\n    this.on(SEEKED, () => {\n      this.onTimeupdate();\n      this.onCacheUpdate();\n    });\n    this.on(PROGRESS, () => {\n      this.onCacheUpdate();\n    });\n    this.on(ENDED, () => {\n      this.onCacheUpdate(true);\n      this.onTimeupdate(true);\n      this._state.now = 0;\n    });\n    this.on(EMPTIED, () => {\n      this.onReset();\n    });\n    this.on(VIDEO_RESIZE, () => {\n      this.onVideoResize();\n    });\n    this.bindDomEvents();\n    this.initCustomStyle();\n  }\n  setConfig(config) {\n    let frags = null;\n    Object.keys(config).forEach((key) => {\n      this.config[key] = config[key];\n      if (key === \"fragments\") {\n        frags = config[key];\n      }\n    });\n    if (frags) {\n      this._initInner(frags, config);\n    }\n  }\n  initCustomStyle() {\n    const { commonStyle } = this.playerConfig || {};\n    const { sliderBtnStyle } = commonStyle;\n    const { progressBtn } = this;\n    if (sliderBtnStyle) {\n      if (typeof sliderBtnStyle === \"string\") {\n        progressBtn.style.boxShadow = sliderBtnStyle;\n      } else if (typeof sliderBtnStyle === \"object\") {\n        Object.keys(sliderBtnStyle).map((key) => {\n          progressBtn.style[key] = sliderBtnStyle[key];\n        });\n      }\n    }\n  }\n  triggerCallbacks(type, data, event) {\n    if (this.__dragCallBacks.length > 0) {\n      this.__dragCallBacks.map((item) => {\n        if (item && item.handler && item.type === type) {\n          try {\n            item.handler(data, event);\n          } catch (error) {\n            console.error(`[XGPLAYER][triggerCallbacks] ${item} error`, error);\n          }\n        }\n      });\n    }\n  }\n  addCallBack(type, handle) {\n    if (handle && typeof handle === \"function\") {\n      this.__dragCallBacks.push({ type, handler: handle });\n    }\n  }\n  removeCallBack(type, event) {\n    const { __dragCallBacks } = this;\n    let _index = -1;\n    __dragCallBacks.map((item, index) => {\n      if (item && item.type === type && item.handler === event) {\n        _index = index;\n      }\n    });\n    if (_index > -1) {\n      __dragCallBacks.splice(_index, 1);\n    }\n  }\n  unlock() {\n    const { player, pos } = this;\n    pos.isEnter = false;\n    pos.isLocked = false;\n    if (player.isMini) {\n      return;\n    }\n    this.unbind(\"mousemove\", this.onMoveOnly);\n    if (pos.isDown) {\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n      return;\n    }\n    this.blur();\n  }\n  bindDomEvents() {\n    const { controls, config } = this.player;\n    this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n    this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n    this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n    if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n      this.root.addEventListener(\"touchstart\", this.onMouseDown);\n      if (controls) {\n        controls.root && controls.root.addEventListener(\"touchmove\", util.stopPropagation);\n        controls.center && controls.center.addEventListener(\"touchend\", util.stopPropagation);\n      }\n    }\n    if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n      this.bind(\"mousedown\", this.onMouseDown);\n      config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n      this.bind(\"mouseover\", this.onMouseOver);\n      this.bind(\"mouseout\", this.onMouseOut);\n      this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n    }\n  }\n  focus() {\n    this.player.controls.pauseAutoHide();\n    util.addClass(this.root, \"active\");\n  }\n  blur() {\n    if (this._disableBlur) {\n      return;\n    }\n    this.player.controls.recoverAutoHide();\n    util.removeClass(this.root, \"active\");\n  }\n  disableBlur() {\n    this._disableBlur = true;\n  }\n  enableBlur() {\n    this._disableBlur = false;\n  }\n  updateWidth(currentTime, seekTime, percent, type) {\n    const { config, player } = this;\n    if (config.isCloseClickSeek && type === 0) {\n      return;\n    }\n    const realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n    this.updatePercent(percent);\n    this.updateTime(currentTime);\n    if (type === 1 && (!config.isDragingSeek || player.config.mediaType === \"audio\")) {\n      return;\n    }\n    this._state.now = realTime;\n    this._state.direc = realTime > player.currentTime ? 0 : 1;\n    player.seek(realTime);\n  }\n  computeTime(e, x) {\n    const { player } = this;\n    const { width, height, top, left } = this.root.getBoundingClientRect();\n    let rWidth, rLeft;\n    const clientX = x;\n    if (player.rotateDeg === 90) {\n      rWidth = height;\n      rLeft = top;\n    } else {\n      rWidth = width;\n      rLeft = left;\n    }\n    let offset = clientX - rLeft;\n    offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n    let percent = offset / rWidth;\n    percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n    const currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n    const seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n    return {\n      percent,\n      currentTime,\n      seekTime,\n      offset,\n      width: rWidth,\n      left: rLeft,\n      e\n    };\n  }\n  updateTime(time) {\n    const { player, duration } = this;\n    if (time > duration) {\n      time = duration;\n    } else if (time < 0) {\n      time = 0;\n    }\n    const timeIcon = player.plugins.time;\n    if (timeIcon) {\n      timeIcon.updateTime(time);\n    }\n  }\n  resetSeekState() {\n    this.isProgressMoving = false;\n    const timeIcon = this.player.plugins.time;\n    timeIcon && timeIcon.resetActive();\n  }\n  updatePercent(percent, notSeek) {\n    this.isProgressMoving = true;\n    if (this.config.disable) {\n      return;\n    }\n    percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n    this.progressBtn.style.left = `${percent * 100}%`;\n    this.innerList.update({ played: percent * this.offsetDuration }, this.offsetDuration);\n    const { miniprogress } = this.player.plugins;\n    miniprogress && miniprogress.update({ played: percent * this.offsetDuration }, this.offsetDuration);\n  }\n  onTimeupdate(isEnded) {\n    const { player, _state, offsetDuration } = this;\n    if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n      return;\n    }\n    if (_state.now > -1) {\n      const abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n      if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n        _state.now = -1;\n        return;\n      } else {\n        _state.now = -1;\n      }\n    }\n    let time = this.currentTime;\n    time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n    this.innerList.update({ played: time }, offsetDuration);\n    this.progressBtn.style.left = `${time / offsetDuration * 100}%`;\n  }\n  onCacheUpdate(isEnded) {\n    const { player, duration } = this;\n    if (!player) {\n      return;\n    }\n    let _end = player.bufferedPoint.end;\n    _end = util.adjustTimeByDuration(_end, duration, isEnded);\n    this.innerList.update({ cached: _end }, duration);\n  }\n  onReset() {\n    this.innerList.update({ played: 0, cached: 0 }, 0);\n    this.progressBtn.style.left = \"0%\";\n  }\n  destroy() {\n    const { player } = this;\n    const { controls } = player;\n    this.thumbnailPlugin = null;\n    this.innerList.destroy();\n    this.innerList = null;\n    const { domEventType } = this;\n    if (domEventType === \"touch\" || domEventType === \"compatible\") {\n      this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n      this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n      this.root.removeEventListener(\"touchend\", this.onMouseUp);\n      this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n      if (controls) {\n        controls.root && controls.root.removeEventListener(\"touchmove\", util.stopPropagation);\n        controls.center && controls.center.removeEventListener(\"touchend\", util.stopPropagation);\n      }\n    }\n    if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n      this.unbind(\"mousedown\", this.onMouseDown);\n      this.unbind(\"mouseenter\", this.onMouseEnter);\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      player.root.removeEventListener(\"click\", this.onBodyClick, true);\n    }\n  }\n  render() {\n    if (this.config.disable || this.playerConfig.isLive) {\n      return;\n    }\n    const controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n    const className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n    return `\n    <xg-progress class=\"xgplayer-progress ${className}\">\n      <xg-outer class=\"xgplayer-progress-outer\">\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    `;\n  }\n}\nexport { Progress as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Icon extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onMouseenter\", (e) => {\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"_onMouseLeave\", (e) => {\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n    });\n  }\n  afterCreate() {\n    this.bind(\"mouseenter\", this._onMouseenter);\n    this.bind(\"mouseleave\", this._onMouseLeave);\n    if (this.config.disable) {\n      this.disable();\n    }\n  }\n  destroy() {\n    this.unbind(\"mouseenter\", this._onMouseenter);\n    this.unbind(\"mouseleave\", this._onMouseLeave);\n  }\n}\nexport { Icon as default };\n","import \"../../utils/util.js\";\nimport { PAUSE, ERROR, EMPTIED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nclass Play extends Icon {\n  static get pluginName() {\n    return \"play\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 0,\n      disable: false\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    const { player, config } = this;\n    if (config.disable) {\n      return;\n    }\n    this.initIcons();\n    this.btnClick = this.btnClick.bind(this);\n    this.bind([\"touchend\", \"click\"], this.btnClick);\n    this.on([PAUSE, ERROR, EMPTIED], () => {\n      this.animate(player.paused);\n    });\n    this.on(PLAY, () => {\n      this.animate(player.paused);\n    });\n    this.animate(true);\n  }\n  registerIcons() {\n    return {\n      play: { icon: PlaySvg, class: \"xg-icon-play\" },\n      pause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  btnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { player } = this;\n    this.emitUserAction(e, \"switch_play_pause\", { prop: \"paused\", from: player.paused, to: !player.paused });\n    if (player.ended) {\n      player.replay();\n    } else if (player.paused) {\n      player.play();\n      this.animate(false);\n    } else {\n      player.pause();\n      this.animate(true);\n    }\n    return false;\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.play);\n    this.appendChild(\".xgplayer-icon\", icons.pause);\n  }\n  animate(paused) {\n    if (!this.player) {\n      return;\n    }\n    const { i18nKeys } = this;\n    const tipDom = this.find(\".xg-tips\");\n    if (paused) {\n      this.setAttr(\"data-state\", \"pause\");\n      tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n    } else {\n      this.setAttr(\"data-state\", \"play\");\n      tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"touchend\", \"click\"], this.btnClick);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nclass TopBackIcon extends Plugin {\n  static get pluginName() {\n    return \"topbackicon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.ROOT_TOP,\n      index: 0\n    };\n  }\n  afterCreate() {\n    this.initIcons();\n    this.onClick = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.config.onClick(e);\n    };\n    this.bind([\"click\", \"touchend\"], this.onClick);\n  }\n  registerIcons() {\n    return {\n      screenBack: { icon: BackSVG, class: \"xg-fullscreen-back\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(this.root, icons.screenBack);\n  }\n  show() {\n    util.addClass(this.root, \"show\");\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n  }\n  render() {\n    return `<xg-icon class=\"xgplayer-back\">\n    </xg-icon>`;\n  }\n}\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nclass Fullscreen extends Icon {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onOrientationChange\", (e) => {\n      if (this.player.fullscreen && this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          this.player.setRotateDeg(0);\n        } else {\n          this.player.setRotateDeg(90);\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"fullscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 0,\n      useCssFullscreen: false,\n      rotateFullscreen: false,\n      useScreenOrientation: false,\n      lockOrientationType: \"landscape\",\n      switchCallback: null,\n      target: null,\n      disable: false,\n      needBackIcon: false\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    const { config, playerConfig } = this;\n    if (config.disable) {\n      return;\n    }\n    if (config.target) {\n      this.playerConfig.fullscreenTarget = this.config.target;\n    }\n    const fullEl = util.getFullScreenEl();\n    if (playerConfig.fullscreenTarget === fullEl) {\n      this.player.getFullscreen().catch((e) => {\n      });\n    }\n    this.initIcons();\n    this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n      pre: (e) => {\n        const { fullscreen } = this.player;\n        this.emitUserAction(e, \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n      }\n    });\n    this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n    this.on(FULLSCREEN_CHANGE, (isFullScreen) => {\n      const tipsDom = this.find(\".xg-tips\");\n      tipsDom && this.changeLangTextKey(tipsDom, isFullScreen ? this.i18nKeys.EXITFULLSCREEN_TIPS : this.i18nKeys.FULLSCREEN_TIPS);\n      this.animate(isFullScreen);\n    });\n    if (this.config.needBackIcon) {\n      this.topBackIcon = this.player.registerPlugin({\n        plugin: TopBackIcon,\n        options: {\n          config: {\n            onClick: (e) => {\n              this.handleFullscreen(e);\n            }\n          }\n        }\n      });\n    }\n    if (sniffer.device === \"mobile\") {\n      window.addEventListener(\"orientationchange\", this._onOrientationChange);\n    }\n  }\n  registerIcons() {\n    return {\n      fullscreen: { icon: FullScreenSvg, class: \"xg-get-fullscreen\" },\n      exitFullscreen: { icon: ExitFullScreenSvg, class: \"xg-exit-fullscreen\" }\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n    if (sniffer.device === \"mobile\") {\n      window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n    }\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n    this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n  }\n  toggleFullScreen(e) {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    const { player, config } = this;\n    const useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n    if (useCssFullscreen) {\n      if (player.fullscreen) {\n        player.exitCssFullscreen();\n      } else {\n        player.getCssFullscreen();\n      }\n      this.animate(player.fullscreen);\n    } else if (config.rotateFullscreen) {\n      if (player.fullscreen) {\n        player.exitRotateFullscreen();\n      } else {\n        player.getRotateFullscreen();\n      }\n      this.animate(player.fullscreen);\n    } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n      config.switchCallback(player.fullscreen);\n    } else {\n      if (player.fullscreen) {\n        player.exitFullscreen();\n        if (config.useScreenOrientation) {\n          this.unlockScreen();\n        }\n      } else {\n        player.getFullscreen().catch((e2) => {\n        });\n        if (config.useScreenOrientation && player.aspectRatio > 1) {\n          this.lockScreen(config.lockOrientationType);\n        }\n      }\n    }\n  }\n  animate(isFullScreen) {\n    isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n    if (this.topBackIcon) {\n      if (isFullScreen) {\n        this.topBackIcon.show();\n        this.hide();\n      } else {\n        this.topBackIcon.hide();\n        this.show();\n      }\n    }\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const langKey = \"FULLSCREEN_TIPS\";\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, langKey, this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n  lockScreen(orientation) {\n    try {\n      screen.orientation.lock(orientation).catch((e) => {\n      });\n    } catch (e) {\n    }\n  }\n  unlockScreen() {\n    try {\n      screen.orientation.unlock().catch((e) => {\n      });\n    } catch (e) {\n    }\n  }\n}\nexport { Fullscreen as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nclass Time extends Plugin {\n  static get pluginName() {\n    return \"time\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 2,\n      disable: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.isActiving = false;\n  }\n  get duration() {\n    const { offsetDuration, duration } = this.player;\n    return this.playerConfig.customDuration || offsetDuration || duration;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  afterCreate() {\n    const constrolsMode = this.player.controls.config.mode;\n    this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n    if (this.config.disable) {\n      return;\n    }\n    if (this.mode === \"flex\") {\n      this.createCenterTime();\n      this.root.style.display = \"none\";\n    }\n    this.durationDom = this.find(\".time-duration\");\n    this.timeDom = this.find(\".time-current\");\n    this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], (e) => {\n      if (e.eventName === \"durationchange\") {\n        this.isActiving = false;\n      }\n      this.onTimeUpdate();\n    });\n    this.on(ENDED, () => {\n      this.onTimeUpdate(true);\n    });\n    this.on(EMPTIED, () => {\n      this.onReset();\n    });\n  }\n  show(value) {\n    if (this.mode === \"flex\") {\n      this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n      this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n      return;\n    }\n    this.root.style.display = \"block\";\n  }\n  hide() {\n    if (this.mode === \"flex\") {\n      this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n      this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n      return;\n    }\n    this.root.style.display = \"none\";\n  }\n  onTimeUpdate(isEnded) {\n    const { player, config, duration } = this;\n    if (config.disable || this.isActiving || !player.hasStart) {\n      return;\n    }\n    let current = this.currentTime + this.timeOffset;\n    current = util.adjustTimeByDuration(current, duration, isEnded);\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n      if (duration !== Infinity && duration > 0) {\n        this.centerDurDom.innerHTML = util.format(duration);\n      }\n    } else {\n      this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n      if (duration !== Infinity && duration > 0) {\n        this.durationDom.innerHTML = util.format(duration);\n      }\n    }\n  }\n  onReset() {\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n      this.centerDurDom.innerHTML = util.format(0);\n    } else {\n      this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n      this.durationDom.innerHTML = util.format(0);\n    }\n  }\n  createCenterTime() {\n    const { player } = this;\n    if (!player.controls || !player.controls.center) {\n      return;\n    }\n    const center = player.controls.center;\n    this.centerCurDom = util.createDom(\n      \"xg-icon\",\n      \"00:00\",\n      {},\n      \"xgplayer-time xg-time-left\"\n    );\n    this.centerDurDom = util.createDom(\n      \"xg-icon\",\n      \"00:00\",\n      {},\n      \"xgplayer-time xg-time-right\"\n    );\n    center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n    center.appendChild(this.centerDurDom);\n  }\n  afterPlayerInit() {\n    const { config } = this;\n    if (this.duration === Infinity || this.playerConfig.isLive) {\n      util.hide(this.durationDom);\n      util.hide(this.timeDom);\n      util.hide(this.find(\".time-separator\"));\n      util.show(this.find(\".time-live-tag\"));\n    } else {\n      util.hide(this.find(\".time-live-tag\"));\n    }\n    if (config.hide) {\n      this.hide();\n      return;\n    }\n    this.show();\n  }\n  changeLiveState(isLive) {\n    if (isLive) {\n      util.hide(this.durationDom);\n      util.hide(this.timeDom);\n      util.hide(this.find(\".time-separator\"));\n      util.show(this.find(\".time-live-tag\"));\n    } else {\n      util.hide(this.find(\".time-live-tag\"));\n      util.show(this.find(\".time-separator\"));\n      util.show(this.durationDom);\n      util.show(this.timeDom);\n    }\n  }\n  updateTime(time) {\n    this.isActiving = true;\n    if (!time && time !== 0 || time > this.duration) {\n      return;\n    }\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n      return;\n    }\n    this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n  }\n  minWidthTime(timeStr) {\n    return timeStr.split(\":\").map((value) => `<span class=\"time-min-width\">${value}</span>`).join(\":\");\n  }\n  resetActive() {\n    const { player } = this;\n    const updateState = () => {\n      this.isActiving = false;\n    };\n    this.off(SEEKED, updateState);\n    if (player.isSeeking && player.media.seeking) {\n      this.once(SEEKED, updateState);\n    } else {\n      this.isActiving = false;\n    }\n  }\n  destroy() {\n    const { center } = this.player.controls;\n    this.centerCurDom && center.removeChild(this.centerCurDom);\n    this.centerCurDom = null;\n    this.centerDurDom && center.removeChild(this.centerDurDom);\n    this.centerDurDom = null;\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-time\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">${this.i18n.LIVE_TIP}</span>\n    </xg-icon>`;\n  }\n}\nexport { Time as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nclass TimeSegmentsControls extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onDurationChange\", () => {\n      this.updateSegments();\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const index = util.getIndexByTime(currentTime, timeSegments);\n      const time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      this.player.offsetCurrentTime = time;\n      this.changeIndex(index, timeSegments);\n    });\n    __publicField(this, \"_onLoadedData\", () => {\n      const { timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const time = util.getOffsetCurrentTime(0, timeSegments);\n      this.player.offsetCurrentTime = time;\n      this.changeIndex(0, timeSegments);\n      if (this.curPos.start > 0) {\n        this.player.currentTime = this.curPos.start;\n      }\n    });\n    __publicField(this, \"_onTimeupdate\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const _len = timeSegments.length;\n      this.lastCurrentTime = currentTime;\n      const index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== this.curIndex) {\n        this.changeIndex(index, timeSegments);\n      }\n      const curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      this.player.offsetCurrentTime = curTime;\n      if (!this.curPos) {\n        return;\n      }\n      const { start, end } = this.curPos;\n      if (currentTime < start) {\n        this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        this.player.pause();\n      }\n    });\n    __publicField(this, \"_onSeeking\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        const _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          const _seekTime = this.getSeekTime(currentTime, this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    __publicField(this, \"_onPlay\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        this.player.currentTime = timeSegments[0].start;\n      }\n    });\n  }\n  static get pluginName() {\n    return \"TimeSegmentsControls\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: true,\n      segments: []\n    };\n  }\n  afterCreate() {\n    this.curIndex = -1;\n    this.curPos = null;\n    this.lastCurrentTime = 0;\n    this.updateSegments();\n    this.on(DURATION_CHANGE, this._onDurationChange);\n    this.on(LOADED_DATA, this._onLoadedData);\n    this.on(TIME_UPDATE, this._onTimeupdate);\n    this.on(SEEKING, this._onSeeking);\n    this.on(PLAY, this._onPlay);\n  }\n  setConfig(newConfig) {\n    if (!newConfig) {\n      return;\n    }\n    const keys = Object.keys(newConfig);\n    if (keys.length < 1) {\n      return;\n    }\n    keys.forEach((key) => {\n      this.config[key] = newConfig[key];\n    });\n    this.updateSegments();\n  }\n  updateSegments() {\n    const { disable, segments } = this.config;\n    const { player } = this;\n    if (disable || !segments || segments.length === 0) {\n      player.timeSegments = [];\n      player.offsetDuration = 0;\n      player.offsetCurrentTime = -1;\n    } else {\n      const _segs = this.formatTimeSegments(segments, player.duration);\n      player.timeSegments = _segs;\n      player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n    }\n  }\n  formatTimeSegments(timeSegments, duration) {\n    const ret = [];\n    if (!timeSegments) {\n      return [];\n    }\n    timeSegments.sort((a, b) => {\n      return a.start - b.start;\n    });\n    timeSegments.forEach((item, index) => {\n      const _item = {};\n      _item.start = item.start < 0 ? 0 : item.start;\n      _item.end = duration > 0 && item.end > duration ? duration : item.end;\n      if (duration > 0 && _item.start > duration) {\n        return;\n      }\n      ret.push(_item);\n      const _segDuration = _item.end - _item.start;\n      if (index === 0) {\n        _item.offset = item.start;\n        _item.cTime = 0;\n        _item.segDuration = _segDuration;\n        _item.duration = _segDuration;\n      } else {\n        const last = ret[index - 1];\n        _item.offset = last.offset + (_item.start - last.end);\n        _item.cTime = last.duration + last.cTime;\n        _item.segDuration = _segDuration;\n        _item.duration = last.duration + _segDuration;\n      }\n    });\n    return ret;\n  }\n  getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n    let _time = -1;\n    const { start, end } = timeSegments[index];\n    if (currentTime >= start && currentTime <= end) {\n      return _time;\n    }\n    const diff = currentTime - lastCurrentTime;\n    if (diff < 0) {\n      if (currentTime < start) {\n        const diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n        _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n        return _time;\n      }\n    }\n    return -1;\n  }\n  _checkIfEnabled(segments) {\n    return !(!segments || segments.length < 1);\n  }\n  changeIndex(index, timeSegments) {\n    this.curIndex = index;\n    if (index >= 0 && timeSegments.length > 0) {\n      this.curPos = timeSegments[index];\n    } else {\n      this.curPos = null;\n    }\n  }\n}\nexport { TimeSegmentsControls as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nclass Volume extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onBarMousedown\", (e) => {\n      const { player } = this;\n      const bar = this.find(\".xgplayer-bar\");\n      util.event(e);\n      const barRect = bar.getBoundingClientRect();\n      const pos = util.getEventPos(e, player.zoom);\n      const height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", this.onBarMouseUp);\n      this._d.isStart = true;\n      return false;\n    });\n    __publicField(this, \"onBarMouseMove\", (e) => {\n      const { _d } = this;\n      if (!_d.isStart) {\n        return;\n      }\n      const { pos, player } = this;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      const w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      this.updateVolumePos(w, e);\n    });\n    __publicField(this, \"onBarMouseUp\", (e) => {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      const { _d } = this;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    __publicField(this, \"onMouseenter\", (e) => {\n      this._d.isActive = true;\n      this.focus();\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"onMouseleave\", (e) => {\n      this._d.isActive = false;\n      this.unFocus(100, false, e);\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"onVolumeChange\", (e) => {\n      if (!this.player) {\n        return;\n      }\n      const { muted, volume } = this.player;\n      if (!this._d.isMoving) {\n        this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : `${volume * 100}%`;\n        if (this.config.showValueLabel) {\n          this.updateVolumeValue();\n        }\n      }\n      this.animate(muted, volume);\n    });\n  }\n  static get pluginName() {\n    return \"volume\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 1,\n      disable: false,\n      showValueLabel: false,\n      default: 0.6,\n      miniVolume: 0.2\n    };\n  }\n  registerIcons() {\n    return {\n      volumeSmall: { icon: volumeSmallSvg, class: \"xg-volume-small\" },\n      volumeLarge: { icon: volumeLargeSvg, class: \"xg-volume\" },\n      volumeMuted: { icon: volumeMutedSvg, class: \"xg-volume-mute\" }\n    };\n  }\n  afterCreate() {\n    this._timerId = null;\n    this._d = {\n      isStart: false,\n      isMoving: false,\n      isActive: false\n    };\n    if (this.config.disable) {\n      return;\n    }\n    this.initIcons();\n    const { commonStyle, volume } = this.playerConfig;\n    if (commonStyle.volumeColor) {\n      this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n    }\n    this.changeMutedHandler = this.hook(\"mutedChange\", (e) => {\n      this.changeMuted(e);\n    }, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n    this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n    if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n      this.bind(\"mouseenter\", this._onMouseenterHandler);\n      this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n      this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n    }\n    this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n    this.on(VOLUME_CHANGE, this.onVolumeChange);\n    this.once(LOADED_DATA, this.onVolumeChange);\n    if (util.typeOf(volume) !== \"Number\") {\n      this.player.volume = this.config.default;\n    }\n    this.onVolumeChange();\n  }\n  updateVolumePos(height, event) {\n    const { player } = this;\n    const drag = this.find(\".xgplayer-drag\");\n    const bar = this.find(\".xgplayer-bar\");\n    if (!bar || !drag) {\n      return;\n    }\n    const now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n    drag.style.height = `${height}px`;\n    const to = Math.max(Math.min(now / 1e3, 1), 0);\n    const props = {\n      volume: {\n        from: player.volume,\n        to\n      }\n    };\n    if (player.muted) {\n      props.muted = {\n        from: true,\n        to: false\n      };\n    }\n    this.emitUserAction(event, \"change_volume\", { muted: player.muted, volume: player.volume, props });\n    player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n    player.muted && (player.muted = false);\n    if (this.config.showValueLabel) {\n      this.updateVolumeValue();\n    }\n  }\n  updateVolumeValue() {\n    const { volume, muted } = this.player;\n    const $labelValue = this.find(\".xgplayer-value-label\");\n    const vol = Math.max(Math.min(volume, 1), 0);\n    $labelValue.innerText = muted ? 0 : Math.ceil(vol * 100);\n  }\n  focus() {\n    const { player } = this;\n    player.focus({ autoHide: false });\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    util.addClass(this.root, \"slide-show\");\n  }\n  unFocus(delay = 100, isForce = true, e) {\n    const { _d, player } = this;\n    if (_d.isActive) {\n      return;\n    }\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    this._timerId = util.setTimeout(this, () => {\n      if (!_d.isActive) {\n        isForce ? player.blur() : player.focus();\n        util.removeClass(this.root, \"slide-show\");\n        _d.isStart && this.onBarMouseUp(e);\n      }\n      this._timerId = null;\n    }, delay);\n  }\n  changeMuted(e) {\n    e && e.stopPropagation();\n    const { player, _d } = this;\n    _d.isStart && this.onBarMouseUp(e);\n    this.emitUserAction(e, \"change_muted\", {\n      muted: player.muted,\n      volume: player.volume,\n      props: {\n        muted: {\n          from: player.muted,\n          to: !player.muted\n        }\n      }\n    });\n    if (player.volume > 0) {\n      player.muted = !player.muted;\n    }\n    if (player.volume < 0.01) {\n      player.volume = this.config.miniVolume;\n    }\n  }\n  animate(muted, volume) {\n    if (muted || volume === 0) {\n      this.setAttr(\"data-state\", \"mute\");\n    } else if (volume < 0.5 && this.icons.volumeSmall) {\n      this.setAttr(\"data-state\", \"small\");\n    } else {\n      this.setAttr(\"data-state\", \"normal\");\n    }\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n    this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n    this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n  }\n  destroy() {\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    this.unbind(\"mouseenter\", this.onMouseenter);\n    this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n    this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n    this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n    this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n    document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n    this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const volume = this.config.default || this.player.volume;\n    const isShowVolumeValue = this.config.showValueLabel;\n    return `\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        ${isShowVolumeValue ? `<div class=\"xgplayer-value-label\">${volume * 100}</div>` : \"\"}\n        <div class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>`;\n  }\n}\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g clip-path=\"url(#clip0)\">\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath id=\"clip0\">\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nclass Rotate extends Icon {\n  static get pluginName() {\n    return \"rotate\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 6,\n      innerRotate: true,\n      clockwise: false,\n      rotateDeg: 0,\n      disable: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.rotateDeg = this.config.rotateDeg || 0;\n  }\n  afterCreate() {\n    if (this.config.disable) {\n      return;\n    }\n    super.afterCreate();\n    this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    this.on(VIDEO_RESIZE, () => {\n      if (this.rotateDeg && this.config.innerRotate) {\n        util.setTimeout(this, () => {\n          this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n        }, 100);\n      }\n    });\n    const root = this.player.root;\n    this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n    this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n    if (this.rotateDeg) {\n      this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n  }\n  onBtnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.emitUserAction(e, \"rotate\");\n    this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n  }\n  updateRotateDeg(rotateDeg, innerRotate) {\n    if (!rotateDeg) {\n      rotateDeg = 0;\n    }\n    if (innerRotate) {\n      this.player.videoRotateDeg = rotateDeg;\n      return;\n    }\n    const { player, rootWidth, rootHeight } = this;\n    const { root, innerContainer } = player;\n    const video = player.media;\n    const width = root.offsetWidth;\n    const height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n    let rWidth = rootWidth;\n    let rHeight = rootHeight;\n    let x = 0;\n    let y = 0;\n    if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n      rWidth = `${height}px`;\n      rHeight = `${width}px`;\n      x = -(height - width) / 2;\n      y = -(width - height) / 2;\n    }\n    const _transform = `translate(${x}px,${y}px) rotate(${rotateDeg}turn)`;\n    const _styles = {\n      transformOrigin: \"center center\",\n      transform: _transform,\n      webKitTransform: _transform,\n      height: rHeight,\n      width: rWidth\n    };\n    const _target = innerRotate ? video : root;\n    const poster = innerRotate ? player.getPlugin(\"poster\") : null;\n    Object.keys(_styles).map((key) => {\n      _target.style[key] = _styles[key];\n      poster && poster.root && (poster.root.style[key] = _styles[key]);\n    });\n  }\n  rotate(clockwise = false, innerRotate = true, times = 1) {\n    const player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0;\n    }\n    const factor = clockwise ? 1 : -1;\n    this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n    this.updateRotateDeg(this.rotateDeg, innerRotate);\n    player.emit(ROTATE, this.rotateDeg * 360);\n  }\n  registerIcons() {\n    return {\n      rotate: RotateSvg\n    };\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      ${xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nconst PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nclass PIP extends Icon {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"switchPIP\", (e) => {\n      if (!this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (this.isPip) {\n        this.exitPIP();\n        this.emitUserAction(e, \"change_pip\", { props: \"pip\", from: true, to: false });\n        this.setAttr(\"data-state\", \"normal\");\n      } else if (this.player.media.readyState === 4) {\n        this.requestPIP();\n        this.emitUserAction(e, \"change_pip\", { props: \"pip\", from: false, to: true });\n        this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n  }\n  static get pluginName() {\n    return \"pip\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 6,\n      showIcon: false,\n      preferDocument: false,\n      width: void 0,\n      height: void 0,\n      docPiPNode: void 0,\n      docPiPStyle: void 0\n    };\n  }\n  static checkWebkitSetPresentationMode(video) {\n    return typeof video.webkitSetPresentationMode === \"function\";\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.pip === \"boolean\") {\n      args.config.showIcon = args.player.config.pip;\n    }\n  }\n  afterCreate() {\n    if (!this.isPIPAvailable()) {\n      return;\n    }\n    super.afterCreate();\n    this.pMode = PresentationMode.INLINE;\n    this.initPipEvents();\n    if (this.config.showIcon) {\n      this.initIcons();\n    }\n    this.once(COMPLETE, () => {\n      if (this.config.showIcon) {\n        util.removeClass(this.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n        this.bind(\"click\", this.switchPIP);\n      }\n    });\n  }\n  registerIcons() {\n    return {\n      pipIcon: { icon: PipIcon, class: \"xg-get-pip\" },\n      pipIconExit: { icon: PipIconExit, class: \"xg-exit-pip\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n    this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n  }\n  initPipEvents() {\n    const { player } = this;\n    this.leavePIPCallback = () => {\n      const paused = player.paused;\n      util.setTimeout(this, () => {\n        !paused && player.mediaPlay();\n      }, 0);\n      !paused && player.mediaPlay();\n      this.setAttr(\"data-state\", \"normal\");\n      this.pipWindow = null;\n      player.emit(PIP_CHANGE, false);\n    };\n    this.enterPIPCallback = (e) => {\n      player.emit(PIP_CHANGE, true);\n      if (e == null ? void 0 : e.pictureInPictureWindow) {\n        this.pipWindow = e.pictureInPictureWindow;\n      }\n      this.setAttr(\"data-state\", \"pip\");\n    };\n    this.onWebkitpresentationmodechanged = (e) => {\n      const mode = player.media.webkitPresentationMode;\n      if (this.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n        player.onFullscreenChange(null, false);\n      }\n      this.pMode = mode;\n      if (mode === PresentationMode.PIP) {\n        this.enterPIPCallback(e);\n      } else if (mode === PresentationMode.INLINE) {\n        this.leavePIPCallback(e);\n      }\n    };\n    if (player.media) {\n      player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n    }\n  }\n  copyStyleIntoPiPWindow(pipWin) {\n    const textContent = [...document.styleSheets].map((style2) => {\n      try {\n        return [...style2.cssRules].map((rule) => rule.cssText).join(\"\");\n      } catch (e) {\n        const link = document.createElement(\"link\");\n        link.rel = \"stylesheet\";\n        link.type = style2.type;\n        link.media = style2.media;\n        link.href = style2.href;\n        pipWin.document.head.appendChild(link);\n      }\n      return \"\";\n    }).filter(Boolean).join(\"\\n\");\n    const style = document.createElement(\"style\");\n    style.textContent = textContent;\n    pipWin.document.head.appendChild(style);\n  }\n  requestPIP() {\n    const { player, playerConfig, config } = this;\n    if (!this.isPIPAvailable() || this.isPip) {\n      return;\n    }\n    try {\n      const { poster } = playerConfig;\n      if (poster) {\n        player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n      }\n      if (config.preferDocument && this.isDocPIPAvailable()) {\n        const pipOptions = {};\n        if (config.width && config.height) {\n          pipOptions.width = config.width;\n          pipOptions.height = config.height;\n        } else {\n          const playerRect = player.root.getBoundingClientRect();\n          pipOptions.width = playerRect.width;\n          pipOptions.height = playerRect.height;\n        }\n        documentPictureInPicture.requestWindow(pipOptions).then((pipWin) => {\n          const { docPiPNode, docPiPStyle } = config;\n          this.enterPIPCallback();\n          const pipRoot = docPiPNode || player.root;\n          const parentNode = pipRoot.parentElement;\n          const previousSibling = pipRoot.previousSibling;\n          const nextSibling = pipRoot.nextSibling;\n          this.copyStyleIntoPiPWindow(pipWin);\n          const styles = document.createElement(\"style\");\n          styles.append(\"body{padding:0; margin:0;}\");\n          if (docPiPStyle) {\n            let cssContent = \"\";\n            if (typeof docPiPStyle === \"string\") {\n              cssContent = docPiPStyle;\n            } else if (typeof docPiPStyle === \"function\") {\n              cssContent = docPiPStyle.call(config);\n            }\n            if (cssContent) {\n              styles.append(cssContent);\n            }\n          } else if (pipRoot === player.root) {\n            styles.append(`\n              .xgplayer{width: 100%!important; height: 100%!important;}\n            `);\n          }\n          pipWin.document.head.append(styles);\n          pipWin.document.body.append(pipRoot);\n          pipWin.addEventListener(\"pagehide\", (event) => {\n            if (parentNode) {\n              if (nextSibling) {\n                parentNode.insertBefore(pipRoot, nextSibling);\n              } else if (previousSibling) {\n                parentNode.insertBefore(pipRoot, previousSibling.nextSibling);\n              } else {\n                parentNode.appendChild(pipRoot);\n              }\n            } else {\n            }\n            this.leavePIPCallback();\n          }, { once: true });\n        });\n      } else if (PIP.checkWebkitSetPresentationMode(player.media)) {\n        player.media.webkitSetPresentationMode(\"picture-in-picture\");\n      } else {\n        player.media.requestPictureInPicture();\n      }\n      return true;\n    } catch (reason) {\n      console.error(\"requestPiP\", reason);\n      return false;\n    }\n  }\n  exitPIP() {\n    const { player } = this;\n    try {\n      if (this.isPIPAvailable() && this.isPip) {\n        if (this.isDocPIPAvailable() && (documentPictureInPicture == null ? void 0 : documentPictureInPicture.window)) {\n          documentPictureInPicture.window.close();\n        } else if (PIP.checkWebkitSetPresentationMode(player.media)) {\n          player.media.webkitSetPresentationMode(\"inline\");\n        } else {\n          document.exitPictureInPicture();\n        }\n      }\n      return true;\n    } catch (reason) {\n      console.error(\"exitPIP\", reason);\n      return false;\n    }\n  }\n  get isPip() {\n    const { player } = this;\n    return !!(this.isDocPIPAvailable() && (documentPictureInPicture == null ? void 0 : documentPictureInPicture.window)) || document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n  }\n  isPIPAvailable() {\n    const video = this.player.media;\n    const _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : true;\n    return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\") || this.isDocPIPAvailable();\n  }\n  isDocPIPAvailable() {\n    return \"documentPictureInPicture\" in window && /^(https|file)/.test(location.protocol);\n  }\n  destroy() {\n    super.destroy();\n    const { player } = this;\n    player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n    player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n    PIP.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n    this.exitPIP();\n    this.unbind(\"click\", this.btnClick);\n  }\n  render() {\n    if (!this.config.showIcon || !this.isPIPAvailable()) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon xg-icon-disable\">\n      </div>\n      ${xgIconTips(this, \"PIP\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nclass PlayNextIcon extends Plugin {\n  constructor(options) {\n    super(options);\n    __publicField(this, \"playNext\", (e) => {\n      const { player } = this;\n      e.preventDefault();\n      e.stopPropagation();\n      if (this.idx + 1 < this.config.urlList.length) {\n        this.idx++;\n        this.nextHandler(this.config.urlList[this.idx], this.idx);\n        player.emit(PLAYNEXT, this.idx + 1);\n      } else {\n        this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    this.idx = -1;\n  }\n  static get pluginName() {\n    return \"playNext\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 1,\n      url: null,\n      urlList: []\n    };\n  }\n  afterCreate() {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n    this.initEvents();\n  }\n  registerIcons() {\n    return {\n      playNext: Next\n    };\n  }\n  initEvents() {\n    this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n    const event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this.bind(event, this.playNext);\n    this.show();\n  }\n  changeSrc(url) {\n    const { player } = this;\n    if (!url) {\n      return;\n    }\n    player.pause();\n    player.currentTime = 0;\n    if (player.switchURL) {\n      player.switchURL(url);\n    } else {\n      player.src = url;\n    }\n    player.config.url = url;\n    player.play();\n  }\n  destroy() {\n    this.unbind([\"touchend\", \"click\"], this.playNext);\n  }\n  render() {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return;\n    }\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      ${xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips)}\n     </xg-icon>\n    `;\n  }\n}\nexport { PlayNextIcon as default };\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nclass Download extends Icon {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"download\", (e) => {\n      if (this.isLock) {\n        return;\n      }\n      this.emitUserAction(e, \"download\");\n      const { url } = this.playerConfig;\n      let dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      const newUrl = this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      this.isLock = true;\n      this.timer = window.setTimeout(() => {\n        this.isLock = false;\n        window.clearTimeout(this.timer);\n        this.timer = null;\n      }, 300);\n    });\n    this.timer = null;\n    this.isLock = false;\n  }\n  static get pluginName() {\n    return \"download\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 3,\n      disable: true\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    if (this.config.disable) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", this.icons.download);\n    this._handler = this.hook(\"click\", this.download, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this._handler);\n  }\n  registerIcons() {\n    return {\n      download: DownloadSvg\n    };\n  }\n  getAbsoluteURL(url) {\n    if (!url.match(/^https?:\\/\\//)) {\n      const div = document.createElement(\"div\");\n      div.innerHTML = `<a href=\"${url}\">x</a>`;\n      url = div.firstChild.href;\n    }\n    return url;\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.download);\n    window.clearTimeout(this.timer);\n    this.timer = null;\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-download\">\n   <div class=\"xgplayer-icon\">\n   </div>\n   ${xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Download as default };\n","import \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nclass ScreenShot extends Icon {\n  static get pluginName() {\n    return \"screenShot\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 5,\n      quality: 0.92,\n      type: \"image/png\",\n      format: \".png\",\n      width: 600,\n      height: 337,\n      saveImg: true,\n      fitVideo: true,\n      disable: false,\n      name: \"screenshot\"\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.screenShot === \"boolean\") {\n      args.config.disable = !args.player.config.screenShot;\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n    const { config } = this;\n    this.initSize = (data) => {\n      if (config.fitVideo) {\n        config.width = data.vWidth;\n        config.height = data.vHeight;\n      }\n    };\n    this.once(VIDEO_RESIZE, this.initSize);\n  }\n  onPluginsReady() {\n    this.show();\n    this.onClickBtn = this.onClickBtn.bind(this);\n    this.bind([\"click\", \"touchend\"], this.onClickBtn);\n  }\n  saveScreenShot(data, filename) {\n    const saveLink = document.createElement(\"a\");\n    saveLink.href = data;\n    saveLink.download = filename;\n    const event = document.createEvent(\"MouseEvents\");\n    event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n    saveLink.dispatchEvent(event);\n  }\n  createCanvas(width, height) {\n    const canvas = document.createElement(\"canvas\");\n    const canvasCtx = canvas.getContext(\"2d\");\n    this.canvasCtx = canvasCtx;\n    this.canvas = canvas;\n    canvas.width = width || this.config.width;\n    canvas.height = height || this.config.height;\n    canvasCtx.imageSmoothingEnabled = true;\n    if (canvasCtx.imageSmoothingEnabled) {\n      canvasCtx.imageSmoothingQuality = \"high\";\n    }\n  }\n  onClickBtn(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.emitUserAction(e, \"shot\");\n    const { config } = this;\n    this.shot(config.width, config.height).then((data) => {\n      this.emit(SCREEN_SHOT, data);\n      if (config.saveImg) {\n        this.saveScreenShot(data, config.name + config.format);\n      }\n    });\n  }\n  shot(width, height, option = { quality: 0.92, type: \"image/png\" }) {\n    const { config, player } = this;\n    const quality = option.quality || config.quality;\n    const type = option.type || config.type;\n    return new Promise((resolve, reject) => {\n      let canvas = null;\n      let canvasCtx;\n      if (player.media.canvas) {\n        canvas = player.media.canvas;\n      } else {\n        if (!this.canvas) {\n          this.createCanvas(width, height);\n        } else {\n          this.canvas.width = width || config.width;\n          this.canvas.height = height || config.height;\n        }\n        canvas = this.canvas;\n        canvasCtx = this.canvasCtx;\n        const mediaRatio = player.media.videoWidth / player.media.videoHeight;\n        const canvasRatio = canvas.width / canvas.height;\n        const sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n        let dx, dy, dw, dh;\n        if (mediaRatio > canvasRatio) {\n          dw = canvas.width;\n          dh = canvas.width / mediaRatio;\n          dx = 0;\n          dy = Math.round((canvas.height - dh) / 2);\n        } else if (mediaRatio === canvasRatio) {\n          dw = canvas.width;\n          dh = canvas.height;\n          dx = 0;\n          dy = 0;\n        } else if (mediaRatio < canvasRatio) {\n          dw = canvas.height * mediaRatio;\n          dh = canvas.height;\n          dx = Math.round((canvas.width - dw) / 2);\n          dy = 0;\n        }\n        canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n      }\n      let src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n      src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n      resolve(src);\n    });\n  }\n  registerIcons() {\n    return {\n      screenshotIcon: null\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n    this.off(VIDEO_RESIZE, this.initSize);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n    const langKey = \"SCREENSHOT\";\n    return `\n      <xg-icon class=\"xgplayer-shot\">\n      <div class=\"${className}\">\n      ${this.icons.screenshotIcon ? \"\" : `<span lang-key=\"${this.i18nKeys[langKey]}\">${this.i18n[langKey]}</span>`}\n      </div>\n    </xg-icon>`;\n  }\n}\nexport { ScreenShot as default };\n","import util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass OptionList {\n  constructor(args) {\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, `xg-options-list xg-list-slide-scroll ${this.config.className}`);\n    args.root.appendChild(this.root);\n    const { maxHeight } = this.config;\n    if (maxHeight) {\n      this.setStyle({ maxHeight });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    const eventName = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  renderItemList(data) {\n    const { config, root } = this;\n    if (data) {\n      config.data = data;\n    } else {\n      data = config.data;\n    }\n    if (config.style) {\n      Object.keys(config.style).map((key) => {\n        root.style[key] = config[key];\n      });\n    }\n    if (data.length > 0) {\n      this.attrKeys = Object.keys(data[0]);\n    }\n    this.root.innerHTML = \"\";\n    data.map((item, index) => {\n      const className = item.selected ? \"option-item selected\" : \"option-item\";\n      item[\"data-index\"] = index;\n      this.root.appendChild(util.createDom(\"li\", `<span>${item.showText}</span>`, item, className));\n    });\n  }\n  onItemClick(e) {\n    if (!e.delegateTarget) {\n      e.delegateTarget = e.target;\n    }\n    const target = e.delegateTarget;\n    if (target && util.hasClass(target, \"selected\")) {\n      return false;\n    }\n    const changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n    const curSelected = this.root.querySelector(\".selected\");\n    util.addClass(target, \"selected\");\n    curSelected && util.removeClass(curSelected, \"selected\");\n    changeCallback(e, {\n      from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n      to: this.getAttrObj(target, this.attrKeys)\n    });\n  }\n  getAttrObj(dom, keys) {\n    if (!dom || !keys) {\n      return {};\n    }\n    const obj = {};\n    keys.map((key) => {\n      obj[key] = dom.getAttribute(key);\n    });\n    const index = dom.getAttribute(\"data-index\");\n    if (index) {\n      obj.index = Number(index);\n    }\n    return obj;\n  }\n  show() {\n    util.removeClass(this.root, \"hide\");\n    util.addClass(this.root, \"active\");\n  }\n  hide() {\n    util.removeClass(this.root, \"active\");\n    util.addClass(this.root, \"hide\");\n  }\n  setStyle(style) {\n    Object.keys(style).forEach((key) => {\n      this.root.style[key] = style[key];\n    });\n  }\n  destroy() {\n    if (this._delegates) {\n      this._delegates.map((item) => {\n        item.destroy && item.destroy();\n      });\n      this._delegates = null;\n    }\n    this.root.innerHTML = null;\n    this.parent.removeChild(this.root);\n    this.root = null;\n  }\n}\nexport { OptionList as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nconst LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\"\n};\nconst TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nconst IS_MOBILE = sniffer.device === \"mobile\";\nclass OptionsIcon extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onEnter\", (e) => {\n      e.stopPropagation();\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n      this.switchActiveState(e);\n    });\n    __publicField(this, \"switchActiveState\", (e) => {\n      e.stopPropagation();\n      const { toggleMode } = this.config;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        this.toggle(!this.isActive);\n      } else {\n        this.toggle(true);\n      }\n    });\n    __publicField(this, \"onLeave\", (e) => {\n      e.stopPropagation();\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n      if (this.config.listType !== LIST_TYPES.SIDE) {\n        this.isActive && this.toggle(false);\n      }\n    });\n    __publicField(this, \"onListEnter\", (e) => {\n      this.enterType = 2;\n    });\n    __publicField(this, \"onListLeave\", (e) => {\n      this.enterType = 0;\n      this.isActive && this.toggle(false);\n    });\n    this.isIcons = false;\n    this.isActive = false;\n    this.curValue = null;\n    this.curIndex = 0;\n  }\n  static get pluginName() {\n    return \"optionsIcon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 100,\n      list: [],\n      listType: \"middle\",\n      listStyle: {},\n      hidePortrait: true,\n      isShowIcon: false,\n      isItemClickHide: true,\n      toggleMode: TOGGLE_MODES.HOVER,\n      heightLimit: true\n    };\n  }\n  updateLang(value) {\n    this.renderItemList(this.config.list, this.curIndex);\n  }\n  afterCreate() {\n    const { config } = this;\n    this.initIcons();\n    if (IS_MOBILE && config.listType !== LIST_TYPES.MIDDLE) {\n      config.listType = LIST_TYPES.SIDE;\n    }\n    config.hidePortrait && util.addClass(this.root, \"portrait\");\n    this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], () => {\n      this._resizeList();\n    });\n    this.once(CANPLAY, () => {\n      if (config.list && config.list.length > 0) {\n        this.renderItemList(config.list);\n        this.show();\n      }\n    });\n    IS_MOBILE && this.on(PLAYER_FOCUS, () => {\n      if (!this.isActive) {\n        return;\n      }\n      this.optionsList && this.optionsList.hide();\n      this.isActive = false;\n    });\n    if (IS_MOBILE) {\n      config.toggleMode = TOGGLE_MODES.CLICK;\n      this.activeEvent = \"touchend\";\n    } else {\n      this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n    }\n    if (config.toggleMode === TOGGLE_MODES.CLICK) {\n      this.bind(this.activeEvent, this.switchActiveState);\n    } else {\n      this.bind(this.activeEvent, this.onEnter);\n      this.bind(\"mouseleave\", this.onLeave);\n    }\n    this.isIcons && this.bind(\"click\", this.onIconClick);\n  }\n  initIcons() {\n    const { icons } = this;\n    const _c = Object.keys(icons);\n    let _isIcons = false;\n    if (_c.length > 0) {\n      _c.forEach((key) => {\n        this.appendChild(\".xgplayer-icon\", icons[key]);\n        !_isIcons && (_isIcons = icons[key]);\n      });\n      this.isIcons = _isIcons;\n    }\n    if (_isIcons) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n    util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length < 2) {\n      return;\n    }\n    util.addClass(this.root, \"show\");\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n  }\n  getTextByLang(item, key, lang) {\n    if (item === void 0) {\n      return \"\";\n    }\n    const { list } = this.config;\n    !lang && (lang = this.player.lang);\n    key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n    typeof item === \"number\" && (item = list[item]);\n    try {\n      if (typeof item[key] === \"object\") {\n        return item[key][lang] || item[key].en;\n      } else {\n        return item[key];\n      }\n    } catch (err) {\n      console.warn(err);\n      return \"\";\n    }\n  }\n  toggle(isActive) {\n    if (isActive === this.isActive)\n      return;\n    const { controls } = this.player;\n    const { listType } = this.config;\n    if (isActive) {\n      listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n      this.optionsList && this.optionsList.show();\n    } else {\n      listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n      this.optionsList && this.optionsList.hide();\n    }\n    this.isActive = isActive;\n  }\n  onItemClick(e, data) {\n    e.stopPropagation();\n    const { listType, list } = this.config;\n    this.curIndex = data.to.index;\n    this.curItem = list[this.curIndex];\n    this.changeCurrentText();\n    const { isItemClickHide } = this.config;\n    (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n  }\n  onIconClick(e) {\n  }\n  changeCurrentText() {\n    if (this.isIcons) {\n      return;\n    }\n    const { list } = this.config;\n    const index = this.curIndex < list.length ? this.curIndex : 0;\n    const curItem = list[index];\n    if (!curItem)\n      return;\n    this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n  }\n  renderItemList(itemList, curIndex) {\n    const { config, optionsList, player } = this;\n    if (typeof curIndex === \"number\") {\n      this.curIndex = curIndex;\n      this.curItem = config.list[curIndex];\n    }\n    if (optionsList) {\n      optionsList.renderItemList(itemList);\n      this.changeCurrentText();\n      return;\n    }\n    const options = {\n      config: {\n        data: itemList || [],\n        className: getListClassName(config.listType, config.position),\n        onItemClick: (e, data) => {\n          this.onItemClick(e, data);\n        }\n      },\n      root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n    };\n    if (this.config.isShowIcon) {\n      const { height } = this.player.root.getBoundingClientRect();\n      const _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      if (_maxH && config.heightLimit) {\n        options.config.maxHeight = `${_maxH}px`;\n      }\n      this.optionsList = new OptionList(options);\n      this.changeCurrentText();\n      this.show();\n    }\n    this._resizeList();\n  }\n  _resizeList() {\n    if (!this.config.heightLimit) {\n      return;\n    }\n    const { height } = this.player.root.getBoundingClientRect();\n    const _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n    this.optionsList && this.optionsList.setStyle({ maxHeight: `${_maxH}px` });\n  }\n  destroy() {\n    const { config } = this;\n    if (config.toggleMode === TOGGLE_MODES.CLICK) {\n      this.unbind(this.activeEvent, this.switchActiveState);\n    } else {\n      this.unbind(this.activeEvent, this.onEnter);\n      this.unbind(\"mouseleave\", this.onLeave);\n    }\n    this.isIcons && this.unbind(\"click\", this.onIconClick);\n    if (this.optionsList) {\n      this.optionsList.destroy();\n      this.optionsList = null;\n    }\n  }\n  render() {\n    if (!this.config.isShowIcon) {\n      return;\n    }\n    return `<xg-icon class=\"xg-options-icon ${this.config.className || \"\"}\">\n    <div class=\"xgplayer-icon\">\n    </div>\n   </xg-icon>`;\n  }\n}\nexport { OptionsIcon as default };\n","import util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nclass DefinitionIcon extends OptionsIcon {\n  static get pluginName() {\n    return \"definition\";\n  }\n  static get defaultConfig() {\n    return {\n      ...OptionsIcon.defaultConfig,\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 3,\n      list: [],\n      defaultDefinition: \"\",\n      disable: false,\n      hidePortrait: false,\n      className: \"xgplayer-definition\",\n      isShowIcon: true\n    };\n  }\n  beforeCreate(args) {\n    const { list } = args.config;\n    if (Array.isArray(list) && list.length > 0) {\n      args.config.list = list.map((item) => {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n    }\n  }\n  constructor(args) {\n    super(args);\n    this.curTime = 0;\n    this.isPaused = true;\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.on(\"resourceReady\", (list) => {\n      this.changeDefinitionList(list);\n    });\n    this.on(DEFINITION_CHANGE, (data) => {\n      this.renderItemList(this.config.list, data.to);\n    });\n    if (this.player.definitionList.length < 2) {\n      this.hide();\n    }\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length < 2) {\n      return;\n    }\n    util.addClass(this.root, \"show\");\n  }\n  initDefinition() {\n    const { list, defaultDefinition } = this.config;\n    if (list.length > 0) {\n      let to = null;\n      list.map((item) => {\n        if (item.definition === defaultDefinition) {\n          to = item;\n        }\n      });\n      if (!to) {\n        to = list[0];\n      }\n      this.changeDefinition(to);\n    }\n  }\n  renderItemList(list = this.config.list || [], to) {\n    const targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n    if (to) {\n      list.forEach((item) => {\n        item.selected = false;\n      });\n    }\n    let curIndex = 0;\n    const items = list.map((item, index) => {\n      const showItem = {\n        ...item,\n        showText: this.getTextByLang(item) || item.definition,\n        selected: false\n      };\n      if (item.selected || item.definition && item.definition == targetDef) {\n        showItem.selected = true;\n        curIndex = index;\n      }\n      return showItem;\n    });\n    super.renderItemList(items, curIndex);\n  }\n  changeDefinitionList(list) {\n    if (!Array.isArray(list)) {\n      return;\n    }\n    this.config.list = list.map((item) => {\n      if (!item.text && item.name) {\n        item.text = item.name;\n      }\n      if (!item.text) {\n        item.text = item.definition;\n      }\n      return item;\n    });\n    this.renderItemList();\n    this.config.list.length < 2 ? this.hide() : this.show();\n  }\n  changeDefinition(to, from) {\n    this.player.changeDefinition(to, from);\n  }\n  onItemClick(e, data) {\n    const { definitionList } = this.player;\n    super.onItemClick(...arguments);\n    this.emitUserAction(e, \"change_definition\", { from: data.from, to: data.to });\n    for (let i = 0; i < definitionList.length; i++) {\n      if (data.to && definitionList[i].definition === data.to.definition) {\n        data.to.url = definitionList[i].url;\n      }\n      if (data.from && definitionList[i].definition === data.from.definition) {\n        data.from.url = definitionList[i].url;\n      }\n    }\n    this.player.changeDefinition(data.to, data.from);\n  }\n}\nexport { DefinitionIcon as default };\n","import \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nclass PlaybackRate extends OptionsIcon {\n  static get pluginName() {\n    return \"playbackRate\";\n  }\n  static get defaultConfig() {\n    return {\n      ...OptionsIcon.defaultConfig,\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 4,\n      list: [2, 1.5, 1, 0.75, 0.5],\n      className: \"xgplayer-playbackrate\",\n      isShowIcon: true,\n      hidePortrait: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.curRate = 1;\n  }\n  beforeCreate(args) {\n    const { playbackRate } = args.player.config;\n    const list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n    if (Array.isArray(list)) {\n      args.config.list = list.map((item) => {\n        if (typeof item === \"number\") {\n          item = {\n            rate: item,\n            text: `${item}x`\n          };\n        } else if (!item.text && item.rate) {\n          item.text = `${item.rate}x`;\n        }\n        return item;\n      });\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.on(RATE_CHANGE, () => {\n      if (this.curValue === this.player.playbackRate) {\n        return;\n      }\n      this.renderItemList();\n    });\n    this.renderItemList();\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length === 0) {\n      return;\n    }\n    super.show();\n  }\n  onItemClick(e, _data) {\n    super.onItemClick(e, _data);\n    const target = e.delegateTarget;\n    const rate = Number(target.getAttribute(\"rate\"));\n    if (!rate || rate === this.curValue) {\n      return false;\n    }\n    const props = {\n      playbackRate: {\n        from: this.player.playbackRate,\n        to: rate\n      }\n    };\n    this.emitUserAction(e, \"change_rate\", { props });\n    this.curValue = rate;\n    this.player.playbackRate = rate;\n  }\n  renderItemList() {\n    const playbackRate = this.player.playbackRate || 1;\n    this.curValue = playbackRate;\n    let curIndex = -1;\n    const items = this.config.list.map((item, index) => {\n      const itemInfo = {\n        rate: item.rate\n      };\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.selected = true;\n        curIndex = index;\n      }\n      itemInfo.showText = this.getTextByLang(item);\n      return itemInfo;\n    });\n    super.renderItemList(items, curIndex);\n  }\n  changeCurrentText() {\n    if (this.isIcons) {\n      return;\n    }\n    const { list } = this.config;\n    const index = this.curIndex < list.length ? this.curIndex : 0;\n    const curItem = list[index];\n    let _text = \"\";\n    if (!curItem || this.curIndex < 0) {\n      _text = `${this.player.playbackRate}x`;\n    } else {\n      _text = this.getTextByLang(curItem, \"iconText\");\n    }\n    this.find(\".icon-text\").innerHTML = _text;\n  }\n  destroy() {\n    super.destroy();\n  }\n}\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nclass CssFullScreen extends Icon {\n  static get pluginName() {\n    return \"cssFullscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 1,\n      disable: false,\n      target: null\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.cssFullscreen === \"boolean\") {\n      args.config.disable = !args.player.config.cssFullscreen;\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    if (this.config.disable) {\n      return;\n    }\n    if (this.config.target) {\n      this.playerConfig.fullscreenTarget = this.config.target;\n    }\n    this.initIcons();\n    this.on(CSS_FULLSCREEN_CHANGE, (isCssfullScreen) => {\n      this.animate(isCssfullScreen);\n    });\n    this.btnClick = this.btnClick.bind(this);\n    this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n  }\n  initIcons() {\n    const { icons } = this;\n    const contentIcon = this.find(\".xgplayer-icon\");\n    contentIcon.appendChild(icons.cssFullscreen);\n    contentIcon.appendChild(icons.exitCssFullscreen);\n  }\n  btnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { isCssfullScreen } = this.player;\n    this.emitUserAction(e, \"switch_cssfullscreen\", { cssfullscreen: isCssfullScreen });\n    if (!isCssfullScreen) {\n      this.player.getCssFullscreen();\n    } else {\n      this.player.exitCssFullscreen();\n    }\n  }\n  animate(isFullScreen) {\n    if (!this.root) {\n      return;\n    }\n    isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n    this.switchTips(isFullScreen);\n  }\n  switchTips(isFullScreen) {\n    const { i18nKeys } = this;\n    const tipDom = this.find(\".xg-tips\");\n    tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n  }\n  registerIcons() {\n    return {\n      cssFullscreen: { icon: CssFullSceenSvg, class: \"xg-get-cssfull\" },\n      exitCssFullscreen: { icon: ExitCssFullSceenSvg, class: \"xg-exit-cssfull\" }\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.btnClick);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { CssFullScreen as default };\n","import \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass ErrorPlugin extends Plugin {\n  static get pluginName() {\n    return \"error\";\n  }\n  afterCreate() {\n    this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.onError = this.hook(\"showError\", this.handleError);\n    this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    this.on(ERROR, (error) => {\n      this.onError(error);\n    });\n  }\n  errorRetry(e) {\n    this.emitUserAction(e, \"error_retry\", {});\n    this.player.retry();\n  }\n  handleError(error = {}) {\n    const { player } = this;\n    const type = error.errorType;\n    let errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n    if (!errorNote) {\n      switch (type) {\n        case \"decoder\":\n          errorNote = this.i18n.MEDIA_ERR_DECODE;\n          break;\n        case \"network\":\n          errorNote = this.i18n.MEDIA_ERR_NETWORK;\n          break;\n        default:\n          errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n      }\n    }\n    this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n    this.find(\".xgplayer-error-tips\").innerHTML = `${this.i18n.REFRESH_TIPS}<span class=\"xgplayer-error-refresh\">${this.i18n.REFRESH}</span>`;\n  }\n  destroy() {\n    this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n  }\n  render() {\n    return `<xg-error class=\"xgplayer-error\">\n      <div class=\"xgplayer-errornote\">\n       <span class=\"xgplayer-error-text\"></span>\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\n      </div>\n    </xg-error>`;\n  }\n}\nexport { ErrorPlugin as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nclass Prompt extends Plugin {\n  static get pluginName() {\n    return \"prompt\";\n  }\n  static get defaultConfig() {\n    return {\n      interval: 3e3,\n      style: {},\n      mode: \"arrow\",\n      autoHide: true,\n      detail: {\n        text: \"\",\n        highlight: \"\"\n      },\n      onClick: () => {\n      }\n    };\n  }\n  afterCreate() {\n    this.intervalId = 0;\n    this.customConfig = null;\n    this.bind(\".highlight\", [\"click\", \"touchend\"], (e) => {\n      if (this.config.onClick || this.customOnClick) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.customOnClick ? this.customOnClick(e) : this.config.onClick(e);\n      }\n    });\n    this.player.showPrompt = (...args) => {\n      this.showPrompt(...args);\n    };\n    this.player.hidePrompt = () => {\n      this.hide();\n    };\n  }\n  setStyle(style) {\n    Object.keys(style).map((key) => {\n      this.root.style[key] = style[key];\n    });\n  }\n  showPrompt(detail, config = {}, onClick = () => {\n  }) {\n    if (!detail) {\n      return;\n    }\n    this.customOnClick = onClick;\n    const { interval } = this.config;\n    if (this.intervalId) {\n      clearTimeout(this.intervalId);\n      this.intervalId = null;\n    }\n    util.addClass(this.root, \"show\");\n    config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n    if (typeof detail === \"string\") {\n      this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n    } else {\n      this.find(\".xgplayer-prompt-detail\").innerHTML = `${detail.text || \"\"}${detail.highlight ? `<i class=\"highlight\">${detail.highlight}</i>` : \"\"}`;\n    }\n    config.style && this.setStyle(config.style);\n    const autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n    if (autoHide) {\n      const hideinterval = config.interval || interval;\n      this.intervalId = setTimeout(() => {\n        this.hide();\n      }, hideinterval);\n    }\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n    util.removeClass(this.root, \"arrow\");\n    this.root.removeAttribute(\"style\");\n    this.customOnClick = null;\n  }\n  render() {\n    return `<xg-prompt class=\"xgplayer-prompt ${STATE_CLASS.CONTROLS_FOLLOW}\">\n    <span class=\"xgplayer-prompt-detail\"></span>\n    </xg-prompt>`;\n  }\n}\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nconst ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map((key) => {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nconst APIS = {\n  _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    const ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    const style = iSpot.style || {};\n    style.left = `${ret.left}%`;\n    style.width = `${ret.width}%`;\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map((key) => {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots() {\n    this._ispots.map((item) => {\n      this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot(iSpot, isNew = true) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    const ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    const style = iSpot.style || {};\n    style.left = `${ret.left}%`;\n    style.width = `${ret.width}%`;\n    let className = `xgspot_${iSpot.id} xgplayer-spot`;\n    ret.isMini && (className += \" mini\");\n    const _t = iSpot.template ? `<div class=\"xgplayer-spot-pop\">${iSpot.template}</div>` : \"\";\n    const dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map((key) => {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    const ret = this._ispots.filter((cur, index) => {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot(iSpot, needShow = false) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map((key) => {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    const dotDom = progress.find(`xg-spot[data-id=\"${iSpot.id}\"]`);\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot(id) {\n    const { _ispots } = this;\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const del = [];\n    for (let i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    const len = del.length;\n    for (let i = len - 1; i >= 0; i--) {\n      _ispots.splice(del[i], 1);\n      if (this.ispotsInit) {\n        const dotDom = progress.find(`xg-spot[data-id=\"${id}\"]`);\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (let i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots(iSpots = []) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    const len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (let i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach((ispot, index) => {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", `${ispot.id}`);\n        this._ispots.push(ispot);\n        this.updateDot(ispot);\n      } else {\n        this.createDot(ispot);\n      }\n    });\n  },\n  positionDots() {\n    const { _ispots, playerSize } = this;\n    const { sizeInfo } = this.player;\n    const { progress } = this.player.plugins;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach((item) => {\n      const dotDom = progress.find(`xg-spot[data-id=\"${item.id}\"]`);\n      dotDom && this.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot(dotDom, id) {\n    const _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    const pRect = this.playerSize;\n    const rect1 = dotDom.getBoundingClientRect();\n    const rect = _pop.getBoundingClientRect();\n    const _left = rect1.left - pRect.left;\n    const _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      const t = rect.width / 2 - _left;\n      _pop.style.left = `${t}px`;\n    } else if (_diff < rect.width / 2) {\n      const t = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = `${t}px`;\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const { _ispots } = this;\n    _ispots.forEach((item) => {\n      const dotDom = progress.find(`xg-spot[data-id=\"${item.id}\"]`);\n      this._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return [];\n    }\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom(id) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    return progress.find(`xg-spot[data-id=\"${id}\"]`);\n  }\n};\nfunction initDotsAPI(plugin) {\n  const { config, player } = plugin;\n  Object.keys(APIS).map((item) => {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  const ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map((item) => {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, () => {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, () => {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nconst CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nclass ProgressPreview extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onMousemove\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && this.config.isHideThumbnailHover) {\n        this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    __publicField(this, \"onMousedown\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    __publicField(this, \"onMouseup\", (e) => {\n      if (!this.isDrag) {\n        return;\n      }\n      const { progress } = this.player.plugins;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    __publicField(this, \"onDotMouseLeave\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      this._curDot.removeEventListener(\"mouseleave\", this.onDotMouseLeave);\n      this.blurDot(e.target);\n      this._curDot = null;\n      const { progress } = this.player.plugins;\n      progress && progress.enableBlur();\n      this.show();\n    });\n    __publicField(this, \"onProgressMouseOver\", (data, e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !this._curDot) {\n        this._curDot = e.target;\n        this.focusDot(e.target);\n        if (this._curDot.children.length > 0) {\n          this.hide();\n        }\n        const { progress } = this.player.plugins;\n        progress && progress.disableBlur();\n        this._curDot.addEventListener(\"mouseleave\", this.onDotMouseLeave);\n      }\n    });\n    this._ispots = [];\n    this.videoPreview = null;\n    this.videothumbnail = null;\n    this.thumbnail = null;\n    this.timeStr = \"\";\n    this._state = {\n      now: 0,\n      f: false\n    };\n  }\n  static get pluginName() {\n    return \"progresspreview\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 1,\n      miniWidth: 6,\n      ispots: [],\n      defaultText: \"\",\n      isFocusDots: true,\n      isHideThumbnailHover: true,\n      isShowThumbnail: true,\n      isShowCoverPreview: false,\n      mode: \"\",\n      disable: false,\n      width: 160,\n      height: 90\n    };\n  }\n  beforeCreate(args) {\n    const progress = args.player.plugins.progress;\n    if (progress) {\n      args.root = progress.root;\n    }\n  }\n  afterCreate() {\n    this._curDot = null;\n    this.handlerSpotClick = this.hook(\"spotClick\", (_event, data) => {\n      if (data.seekTime) {\n        this.player.seek(data.seekTime);\n      }\n    });\n    this.transformTimeHook = this.hook(\"transformTime\", (time) => {\n      this.setTimeContent(util.format(time));\n    });\n    initDotsAPI(this);\n    this.on(DURATION_CHANGE, () => {\n      this.show();\n    });\n    if (this.config.disable) {\n      this.disable();\n    }\n    this.extTextRoot = this.find(\".xg-spot-ext-text\");\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    Object.keys(config).map((key) => {\n      this.config[key] = config[key];\n    });\n  }\n  onPluginsReady() {\n    const { player } = this;\n    if (!player.plugins.progress) {\n      return;\n    }\n    this.previewLine = this.find(\".xg-spot-line\");\n    this.timePoint = this.find(\".xgplayer-progress-point\");\n    this.timeText = this.find(\".xg-spot-time\");\n    this.tipText = this.find(\".spot-inner-text\");\n    this._hasThumnail = false;\n    this.registerThumbnail();\n    this.bindEvents();\n  }\n  bindEvents() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    Object.keys(CALLBACK_MAP).map((key) => {\n      this[CALLBACK_MAP[key]] = this[CALLBACK_MAP[key]].bind(this);\n      progress.addCallBack(key, this[CALLBACK_MAP[key]]);\n    });\n    if (sniffer.device === \"mobile\")\n      return;\n    this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n    this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n    this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n    const fun = this.hook(\"previewClick\", (...args) => {\n    });\n    this.handlerPreviewClick = (e) => {\n      e.stopPropagation();\n      fun(parseInt(this._state.now * 1e3, 10) / 1e3, e);\n    };\n    this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n  }\n  onProgressMove(data, e) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n  }\n  onProgressDragStart(data) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.isDrag = true;\n    this.videoPreview && util.addClass(this.videoPreview, \"show\");\n  }\n  onProgressDragEnd(data) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.isDrag = false;\n    this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n  }\n  onProgressClick(data, e) {\n    if (this.config.disable) {\n      return;\n    }\n    if (util.hasClass(e.target, \"xgplayer-spot\")) {\n      e.stopPropagation();\n      e.preventDefault();\n      [\"time\", \"id\", \"text\"].map((key) => {\n        data[key] = e.target.getAttribute(`data-${key}`);\n      });\n      data.time && (data.time = Number(data.time));\n      this.handlerSpotClick(e, data);\n    }\n  }\n  updateLinePos(offset, cwidth) {\n    const { root, previewLine, player, config } = this;\n    const { mode } = player.controls;\n    const isflex = mode === \"flex\";\n    let lwidth = root.getBoundingClientRect().width;\n    if (!lwidth && this._hasThumnail) {\n      return;\n    }\n    lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n    let x = offset - lwidth / 2;\n    let _t;\n    if (x < 0 && !isflex) {\n      x = 0;\n      _t = offset - lwidth / 2;\n    } else if (x > cwidth - lwidth && !isflex) {\n      _t = x - (cwidth - lwidth);\n      x = cwidth - lwidth;\n    } else {\n      _t = 0;\n    }\n    _t !== void 0 && (previewLine.style.transform = `translateX(${_t.toFixed(2)}px)`);\n    root.style.transform = `translateX(${x.toFixed(2)}px) translateZ(0)`;\n  }\n  updateTimeText(timeStr) {\n    const { timeText, timePoint } = this;\n    timeText.innerHTML = timeStr;\n    !this.thumbnail && (timePoint.innerHTML = timeStr);\n  }\n  updatePosition(offset, cwidth, time, e) {\n    const { root, config, _state } = this;\n    if (!root) {\n      return;\n    }\n    _state.now = time;\n    this.transformTimeHook(time);\n    const timeStr = this.timeStr;\n    if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n      this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n      this.focusDot(e.target);\n      _state.f = true;\n      config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n    } else if (config.defaultText) {\n      _state.f = false;\n      this.showTips(config.defaultText, true, timeStr);\n    } else {\n      _state.f = false;\n      this.hideTips(\"\");\n    }\n    this.updateTimeText(timeStr);\n    this.updateThumbnails(_state.now);\n    this.updateLinePos(offset, cwidth);\n  }\n  setTimeContent(str) {\n    this.timeStr = str;\n  }\n  updateThumbnails(time) {\n    const { player, videoPreview, config } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n      const rect = videoPreview && videoPreview.getBoundingClientRect();\n      this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n    }\n  }\n  registerThumbnail(thumbnailConfig = {}) {\n    if (sniffer.device === \"mobile\") {\n      return;\n    }\n    const { player, config } = this;\n    const thumbnail = player.getPlugin(\"thumbnail\");\n    if (thumbnail) {\n      thumbnail.setConfig(thumbnailConfig);\n    }\n    if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n      util.addClass(this.root, \"short-line no-thumbnail\");\n      return;\n    } else {\n      util.removeClass(this.root, \"short-line no-thumbnail\");\n    }\n    if (config.mode === \"short\") {\n      util.addClass(this.root, \"short-line\");\n    }\n    this._hasThumnail = true;\n    const tRoot = this.find(\".xg-spot-thumbnail\");\n    this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n    if (config.isShowCoverPreview) {\n      this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n      player.root.appendChild(this.videoPreview);\n      this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n    }\n    this.updateThumbnails(0);\n  }\n  calcuPosition(time, duration) {\n    const { progress } = this.player.plugins;\n    const { player } = this;\n    const totalWidth = progress.root.getBoundingClientRect().width;\n    const widthPerSeconds = player.duration / totalWidth * 6;\n    if (time + duration > player.duration) {\n      duration = player.duration - time;\n    }\n    time / player.duration * 100;\n    duration / player.duration;\n    return {\n      left: time / player.duration * 100,\n      width: duration / player.duration * 100,\n      isMini: duration < widthPerSeconds\n    };\n  }\n  showDot(id) {\n    const dot = this.findDot(id);\n    if (dot) {\n      const rect = this.root.getBoundingClientRect();\n      const { width } = rect;\n      const offset = dot.time / this.player.duration * width;\n      this.updatePosition(offset, width, dot.time);\n    }\n  }\n  focusDot(target, id) {\n    if (!target) {\n      return;\n    }\n    if (!id) {\n      id = target.getAttribute(\"data-id\");\n    }\n    util.addClass(target, \"active\");\n    this._activeDotId = id;\n  }\n  blurDot(target) {\n    if (!target) {\n      const id = this._activeDotId;\n      target = this.getDotDom(id);\n    }\n    if (!target) {\n      return;\n    }\n    util.removeClass(target, \"active\");\n    this._activeDotId = null;\n  }\n  showTips(text, isDefault, timeStr = \"\") {\n    util.addClass(this.root, \"no-timepoint\");\n    if (!text) {\n      return;\n    }\n    util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n    if (isDefault && this.config.mode === \"production\") {\n      util.addClass(this.root, \"product\");\n      this.tipText.textContent = text;\n    } else {\n      util.removeClass(this.root, \"product\");\n      this.tipText.textContent = this._hasThumnail ? text : `${timeStr} ${text}`;\n    }\n  }\n  hideTips() {\n    util.removeClass(this.root, \"no-timepoint\");\n    this.tipText.textContent = \"\";\n    util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n    util.removeClass(this.root, \"product\");\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  enable() {\n    const { config, playerConfig } = this;\n    this.config.disable = false;\n    this.show();\n    if (!this.thumbnail && config.isShowThumbnail) {\n      this.registerThumbnail(playerConfig.thumbnail || {});\n    }\n  }\n  disable() {\n    this.config.disable = true;\n    this.hide();\n  }\n  destroy() {\n    const { progress } = this.player.plugins;\n    progress && Object.keys(CALLBACK_MAP).map((key) => {\n      progress.removeCallBack(key, this[CALLBACK_MAP[key]]);\n    });\n    this.videothumbnail = null;\n    this.thumbnail = null;\n    this.videoPreview && this.player.root.removeChild(this.videoPreview);\n    this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n    this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n    this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n    this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n  }\n  render() {\n    if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n      return \"\";\n    }\n    return `<div class=\"xg-spot-info hide ${this.config.mode === \"short\" ? \"short-line\" : \"\"}\">\n      <div class=\"xg-spot-content\">\n        <div class=\"xg-spot-thumbnail\">\n          <span class=\"xg-spot-time\"></span>\n        </div>\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\n      </div>\n      <div class=\"xgplayer-progress-point\">00:00</div>\n      <div class=\"xg-spot-ext-text\"></div>\n      <div class=\"xg-spot-line\"></div>\n    </div>`;\n  }\n}\nexport { ProgressPreview as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Thumbnail extends Plugin {\n  static get pluginName() {\n    return \"thumbnail\";\n  }\n  static get defaultConfig() {\n    return {\n      isShow: false,\n      urls: [],\n      pic_num: 0,\n      col: 0,\n      row: 0,\n      height: 90,\n      width: 160,\n      scale: 1,\n      className: \"\",\n      hidePortrait: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.ratio = 1;\n    this.interval = null;\n    this._preloadMark = {};\n  }\n  afterCreate() {\n    if (this.usable) {\n      this.initThumbnail();\n    }\n    this.on([DURATION_CHANGE], () => {\n      const { pic_num, interval } = this.config;\n      this.usable && (this.interval = interval > 0 ? interval : Math.round(this.player.duration * 1e3 / pic_num) / 1e3);\n    });\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    const keys = Object.keys(config);\n    if (keys.length < 1) {\n      return;\n    }\n    keys.forEach((key) => {\n      this.config[key] = config[key];\n    });\n    this.usable && this.initThumbnail();\n  }\n  get usable() {\n    const { urls, pic_num } = this.config;\n    return urls && urls.length > 0 && pic_num > 0;\n  }\n  initThumbnail() {\n    const { width, height, pic_num, interval } = this.config;\n    this.ratio = width / height * 100;\n    this.interval = interval || Math.round(this.player.duration / pic_num);\n    this._preloadMark = {};\n  }\n  getUrlByIndex(index) {\n    return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n  }\n  preload(index) {\n    if (this._preloadMark[index]) {\n      return;\n    }\n    const { urls } = this.config;\n    const len = urls.length;\n    const arr = [];\n    index > 0 && arr.push(index - 1);\n    arr.push(index);\n    index > 0 && index < len - 1 && arr.push(index + 1);\n    arr.map((item) => {\n      if (!this._preloadMark[item] && item >= 0 && item < len) {\n        this._preloadMark[item] = 1;\n        util.preloadImg(urls[item], () => {\n          this._preloadMark[item] = 2;\n        });\n      }\n    });\n  }\n  getPosition(now, containerWidth = 0, containerHeight = 0) {\n    const { pic_num, row, col, width, height } = this.config;\n    this.interval = Math.round(this.player.duration / pic_num);\n    let index = Math.ceil(now / this.interval);\n    index = index > pic_num ? pic_num : index;\n    const urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n    const indexInPage = index - urlIndex * (col * row);\n    const rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n    const colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n    let swidth = 0;\n    let sHeight = 0;\n    if (containerWidth && containerHeight) {\n      const per = containerWidth / containerHeight;\n      if (per < width / height) {\n        sHeight = containerHeight;\n        swidth = sHeight * (width / height);\n      } else {\n        swidth = containerWidth;\n        sHeight = swidth / (width / height);\n      }\n    } else if (!containerHeight) {\n      swidth = containerWidth || width;\n      sHeight = swidth / (width / height);\n    } else if (!containerWidth) {\n      sHeight = containerHeight || height;\n      swidth = sHeight * (width / height);\n    }\n    const url = this.getUrlByIndex(urlIndex);\n    return {\n      urlIndex,\n      rowIndex,\n      colIndex,\n      url,\n      height: sHeight,\n      width: swidth,\n      style: {\n        backgroundImage: `url(${url})`,\n        backgroundSize: `${swidth * col}px auto`,\n        backgroundPosition: `-${colIndex * swidth}px -${rowIndex * sHeight}px`,\n        width: `${swidth}px`,\n        height: `${sHeight}px`\n      }\n    };\n  }\n  update(dom, now, containerWidth = 0, containerHeight = 0, customStyle = \"\") {\n    const { pic_num, urls } = this.config;\n    if (pic_num <= 0 || !urls || urls.length === 0) {\n      return;\n    }\n    const pos = this.getPosition(now, containerWidth, containerHeight);\n    this.preload(pos.urlIndex);\n    Object.keys(pos.style).map((key) => {\n      dom.style[key] = pos.style[key];\n    });\n    Object.keys(customStyle).map((key) => {\n      dom.style[key] = customStyle[key];\n    });\n  }\n  changeConfig(newConfig = {}) {\n    this.setConfig(newConfig);\n  }\n  createThumbnail(root, className) {\n    const dom = util.createDom(\"xg-thumbnail\", \"\", {}, `thumbnail ${className}`);\n    root && root.appendChild(dom);\n    return dom;\n  }\n}\nexport { Thumbnail as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { TIME_UPDATE, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? `background:${color};` : \"\";\n}\nclass MiniProgress extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onTimeupdate\", () => {\n      const { ended } = this.player;\n      const { offsetDuration } = this;\n      let time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, ended);\n      this.update({ played: time }, offsetDuration);\n    });\n  }\n  static get pluginName() {\n    return \"MiniProgress\";\n  }\n  static get defaultConfig() {\n    return {\n      mode: \"auto\",\n      height: 2\n    };\n  }\n  get offsetDuration() {\n    return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n  }\n  afterCreate() {\n    if (!this.root) {\n      return;\n    }\n    this.on(TIME_UPDATE, this.onTimeupdate);\n    this.on(EMPTIED, () => {\n      this.reset();\n    });\n  }\n  reset() {\n    this.update({ played: 0, cached: 0 }, 0);\n  }\n  update(data = { cached: 0, played: 0 }, duration) {\n    if (!duration || !this.root) {\n      return;\n    }\n    if (data.cached) {\n      this.find(\"xg-mini-progress-cache\").style.width = `${data.cached / duration * 100}%`;\n    }\n    if (data.played) {\n      this.find(\"xg-mini-progress-played\").style.width = `${data.played / duration * 100}%`;\n    }\n  }\n  render() {\n    const { commonStyle, miniprogress } = this.playerConfig;\n    if (!miniprogress) {\n      return;\n    }\n    const { mode, height } = this.config;\n    const _style = {\n      cached: getBgColor(commonStyle.cachedColor),\n      played: getBgColor(commonStyle.playedColor),\n      progress: getBgColor(commonStyle.progressColor),\n      height: height > 0 && height !== 2 ? `height: ${height}px;` : \"\"\n    };\n    const stateClass = mode === \"show\" ? \"xg-mini-progress-show\" : \"\";\n    return `<xg-mini-progress class=\"xg-mini-progress ${stateClass}\" style=\"${_style.progress} ${_style.height}\">\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"${_style.cached}\"></xg-mini-progress-cache>\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"${_style.played}\"></xg-mini-progress-played>\n    </xg-mini-progress>`;\n  }\n}\nexport { MiniProgress as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START, TIME_UPDATE } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nconst MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    const ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nlet isSupportCanvas = null;\nclass DynamicBg extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onLoadedData\", (e) => {\n      if (!this.player) {\n        return;\n      }\n      this._frameCount = this.config.startFrameCount;\n      this.stop();\n      this.renderOnTimeupdate(e);\n      this.off(TIME_UPDATE, this.renderOnTimeupdate);\n      this.on(TIME_UPDATE, this.renderOnTimeupdate);\n    });\n    __publicField(this, \"onVisibilitychange\", (e) => {\n      if (document.visibilityState === \"visible\") {\n        this._checkIfCanStart() && this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        this.stop();\n      }\n    });\n    __publicField(this, \"renderOnTimeupdate\", (e) => {\n      if (this._frameCount > 0) {\n        this.renderOnce();\n        this._frameCount--;\n      } else {\n        this._isLoaded = true;\n        this.off(TIME_UPDATE, this.renderOnTimeupdate);\n        const { startInterval } = this.config;\n        !this.player.paused && this._checkIfCanStart() && this.start(0, startInterval);\n      }\n    });\n    __publicField(this, \"start\", (time, interval) => {\n      const video = this.player.video;\n      const _now = nowTime();\n      const _sVideo = this.checkVideoIsSupport(video);\n      if (!_sVideo || !this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = this.interval;\n      }\n      this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && this.update(_sVideo, this.videoPI);\n          this.preTime = _now;\n        } else if (_now - this.preTime >= interval) {\n          video && video.videoWidth && this.update(_sVideo, this.videoPI);\n          this.preTime = _now;\n        }\n      }\n      this.frameId = this._loopType === \"timer\" ? util.setTimeout(this, this.start, interval) : util.requestAnimationFrame(this.start);\n    });\n    __publicField(this, \"stop\", () => {\n      if (this.frameId) {\n        this._loopType === \"timer\" ? util.clearTimeout(this, this.frameId) : util.cancelAnimationFrame(this.frameId);\n        this.frameId = null;\n      }\n    });\n  }\n  static get pluginName() {\n    return \"dynamicBg\";\n  }\n  static get defaultConfig() {\n    return {\n      isInnerRender: false,\n      disable: true,\n      index: -1,\n      mode: \"framerate\",\n      frameRate: 10,\n      filter: \"blur(50px)\",\n      startFrameCount: 2,\n      startInterval: 0,\n      addMask: true,\n      multiple: 1.2,\n      maskBg: \"rgba(0,0,0,0.7)\"\n    };\n  }\n  static get isSupport() {\n    if (typeof isSupportCanvas === \"boolean\") {\n      return isSupportCanvas;\n    }\n    isSupportCanvas = checkIsSupportCanvas();\n    return isSupportCanvas;\n  }\n  static supportCanvasFilter() {\n    return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n  }\n  afterCreate() {\n    if (this.playerConfig.dynamicBg === true) {\n      this.config.disable = false;\n    }\n    if (!DynamicBg.isSupport) {\n      this.config.disable = true;\n    }\n    const { disable, mode, frameRate } = this.config;\n    if (disable) {\n      return;\n    }\n    this._pos = {\n      width: 0,\n      height: 0,\n      rwidth: 0,\n      rheight: 0,\n      x: 0,\n      y: 0,\n      pi: 0\n    };\n    this.isStart = false;\n    this._isLoaded = false;\n    this.videoPI = 0;\n    this.preTime = 0;\n    this.interval = parseInt(1e3 / frameRate, 10);\n    this.canvas = null;\n    this.canvasCtx = null;\n    this._frameCount = 0;\n    this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n    this.once(COMPLETE, () => {\n      if (!this.player) {\n        return;\n      }\n      this.init();\n      this.renderByPoster();\n      if (!this.player.paused) {\n        this.start();\n      }\n    });\n    if (mode === MODES.POSTER) {\n      return;\n    }\n    if (mode !== MODES.FIRST_FRAME) {\n      this.on(EMPTIED, () => {\n        this.stop();\n      });\n      this.on(PLAY, () => {\n        const { startInterval } = this.config;\n        this._checkIfCanStart() && this.start(0, startInterval);\n      });\n      this.on(PAUSE, () => {\n        this.stop();\n      });\n    }\n    this.on(LOADED_DATA, this.onLoadedData);\n    this.on(LOAD_START, () => {\n      this._isLoaded = false;\n      this.stop();\n    });\n    document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n  }\n  setConfig(config) {\n    Object.keys(config).forEach((key) => {\n      if (key === \"root\" && config[key] !== this.config[key]) {\n        this.reRender(config[key]);\n      } else if (key === \"frameRate\") {\n        this.interval = parseInt(1e3 / config[key], 10);\n      } else if (key === \"disable\" && config[key]) {\n        this.stop();\n      }\n      this.config[key] = config[key];\n    });\n  }\n  init(_root) {\n    const { player, config } = this;\n    this.canvasFilter = DynamicBg.supportCanvasFilter();\n    try {\n      let parent = _root || config.root;\n      if (!parent) {\n        parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n      }\n      parent.insertAdjacentHTML(\n        \"afterbegin\",\n        `<div class=\"xgplayer-dynamic-bg\" data-index=\"${config.index}\"><canvas>\n        </canvas><xgmask></xgmask></div>`\n      );\n      this.root = parent.children[0];\n      this.canvas = this.find(\"canvas\");\n      if (!this.canvasFilter) {\n        this.canvas.style.filter = config.filter;\n        this.canvas.style.webkitFilter = config.filter;\n      }\n      this.mask = this.find(\"xgmask\");\n      config.addMask && (this.mask.style.background = config.maskBg);\n      this.canvasCtx = this.canvas.getContext(\"2d\");\n    } catch (e) {\n      XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n    }\n  }\n  reRender(root) {\n    const { disable } = this.config;\n    if (!disable && !this.root) {\n      return;\n    }\n    this.stop();\n    const _p = this.root ? this.root.parentElement : null;\n    if (_p !== root) {\n      _p.removeChild(this.root);\n    }\n    if (!root) {\n      this.root = null;\n      return;\n    }\n    this.init(root);\n    this.renderOnce();\n    const { startInterval } = this.config;\n    this._checkIfCanStart() && this.start(0, startInterval);\n  }\n  checkVideoIsSupport(video) {\n    if (!video) {\n      return null;\n    }\n    const _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n    if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n      return _tVideo;\n    }\n    const _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n    if (_tagName === \"canvas\" || _tagName === \"img\") {\n      return _tVideo;\n    }\n    return null;\n  }\n  renderByPoster() {\n    const { poster } = this.playerConfig;\n    if (poster) {\n      const url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n      this.updateImg(url);\n    }\n  }\n  _checkIfCanStart() {\n    const { mode } = this.config;\n    return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n  }\n  renderOnce() {\n    const video = this.player.video;\n    if (!video.videoWidth || !video.videoHeight) {\n      return;\n    }\n    this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n    const _sVideo = this.checkVideoIsSupport(video);\n    _sVideo && this.update(_sVideo, this.videoPI);\n  }\n  updateImg(url) {\n    if (!url) {\n      return;\n    }\n    const { width, height } = this.canvas.getBoundingClientRect();\n    let image = new window.Image();\n    image.onload = () => {\n      if (!this.canvas || this.frameId || this.isStart) {\n        return;\n      }\n      this.canvas.height = height;\n      this.canvas.width = width;\n      const pi = parseInt(width / height * 100, 10);\n      this.update(image, pi);\n      image = null;\n    };\n    image.src = url;\n  }\n  update(video, sourcePI) {\n    if (!this.canvas || !this.canvasCtx || !sourcePI) {\n      return;\n    }\n    try {\n      const { _pos, config } = this;\n      const { width, height } = this.canvas.getBoundingClientRect();\n      if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n        const pi = parseInt(width / height * 100, 10);\n        _pos.pi = sourcePI;\n        _pos.width !== width && (_pos.width = this.canvas.width = width);\n        _pos.height !== height && (_pos.height = this.canvas.height = height);\n        let rheight = height;\n        let rwidth = width;\n        if (pi < sourcePI) {\n          rwidth = parseInt(height * sourcePI / 100, 10);\n        } else if (pi > sourcePI) {\n          rheight = parseInt(width * 100 / sourcePI, 10);\n        }\n        _pos.rwidth = rwidth * config.multiple;\n        _pos.rheight = rheight * config.multiple;\n        _pos.x = (width - _pos.rwidth) / 2;\n        _pos.y = (height - _pos.rheight) / 2;\n      }\n      this.canvasFilter && (this.canvasCtx.filter = config.filter);\n      this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n    } catch (e) {\n      XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n    }\n  }\n  destroy() {\n    this.stop();\n    document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n    this.canvasCtx = null;\n    this.canvas = null;\n  }\n  render() {\n    return \"\";\n  }\n}\nexport { DynamicBg as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport * as events from \"../../events.js\";\nimport { USER_ACTION } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nconst INFO = \"info\";\nconst { STATS_EVENTS } = events;\nclass Stats extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_recordUserActions\", (actionData) => {\n      const time = this._getTime();\n      const payload = Object.assign({}, actionData, { msg: actionData.msg || actionData.action });\n      this._stats[INFO].push({\n        type: \"userAction\",\n        ...time,\n        payload\n      });\n    });\n    __publicField(this, \"_onReset\", () => {\n      this.reset();\n    });\n    __publicField(this, \"_recordInfo\", (data) => {\n      this.info(data);\n    });\n    __publicField(this, \"_downloadStats\", () => {\n      const stats = this.getStats();\n      const blob = new Blob([JSON.stringify(stats)], { type: \"application/json\" });\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n  }\n  static get pluginName() {\n    return \"stats\";\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  _getTime() {\n    return {\n      timestamp: Date.now(),\n      timeFormat: new Date().toISOString()\n    };\n  }\n  afterCreate() {\n    this.reset();\n    this.on(USER_ACTION, this._recordUserActions);\n    this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n    this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n    this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n  }\n  destroy() {\n    this.offAll();\n  }\n  downloadStats() {\n    this._downloadStats();\n  }\n  info(data) {\n    if (data.profile) {\n      this._infoProfile(data);\n    } else {\n      this._info(data);\n    }\n  }\n  _info(data) {\n    const time = this._getTime();\n    this._stats[INFO].push({\n      ...time,\n      payload: data\n    });\n  }\n  _infoProfile(data) {\n    if (data && data.startMs) {\n      const endMs = Date.now();\n      const dur = endMs - data.startMs;\n      const profile = {\n        cat: \"function\",\n        dur,\n        name: data.name || data.msg,\n        ph: \"X\",\n        pid: 0,\n        tid: 0,\n        ts: data.startMs,\n        profile: true,\n        ...data\n      };\n      this._info(profile);\n    } else {\n      console.warn(\"infoProfile need object data, include startMs\");\n    }\n  }\n  reset() {\n    this._stats = {\n      [INFO]: [],\n      media: {}\n    };\n  }\n  getStats() {\n    const { player } = this;\n    const mediaElem = player.media;\n    const buffered = [];\n    for (let i = 0; i < mediaElem.buffered.length; i++) {\n      buffered.push({\n        start: mediaElem.buffered.start(i),\n        end: mediaElem.buffered.end(i)\n      });\n    }\n    const mediaInfo = {\n      currentTime: mediaElem.currentTime,\n      readyState: mediaElem.readyState,\n      buffered,\n      paused: mediaElem.paused,\n      ended: mediaElem.ended\n    };\n    this._stats.media = mediaInfo;\n    return {\n      raw: this._stats,\n      timestat: this._getTimeStats(),\n      profile: this._getProfile()\n    };\n  }\n  _getTimeStats() {\n    const allStat = this._stats[INFO];\n    const msgs = allStat.map((stat) => {\n      const data = stat.payload.data;\n      let msg = \"\";\n      try {\n        if (data instanceof Error) {\n          msg = data.msg;\n        } else if (data !== void 0) {\n          msg = JSON.stringify(data);\n        }\n      } catch (error) {\n        console.log(\"err\", error);\n      }\n      return `[${stat.timeFormat}] : ${stat.payload.msg} ${msg} `;\n    });\n    return msgs;\n  }\n  _getProfile() {\n    const profile = {\n      traceEvents: []\n    };\n    const allStat = this._stats[INFO];\n    allStat.forEach((stat) => {\n      if (stat.payload.profile) {\n        profile.traceEvents.push(stat.payload);\n      }\n    });\n    return profile;\n  }\n}\nexport { Stats as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass GapJump extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onGapJump\", () => {\n      const { player, config } = this;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && this.hasPlayed) {\n        return;\n      }\n      const buffered = player.media.buffered;\n      const smallGapLimit = config.smallGapLimit || 0.5;\n      const gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      const currentTime = player.media.currentTime;\n      const idx = this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      const jumpTo = buffered.start(idx) + 0.1;\n      const seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      const jumpSize = jumpTo - currentTime;\n      const isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        this.player && this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"gapJump\";\n  }\n  static get defaultConfig() {\n    return {\n      useGapJump: false,\n      smallGapLimit: 0.5,\n      gapDetectionThreshold: 0.3\n    };\n  }\n  afterCreate() {\n    const { useGapJump } = this.config;\n    if (useGapJump === false) {\n      return;\n    }\n    this.hasPlayed = false;\n    this.seekingEventReceived = false;\n    this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n    this.on(WAITING, this.onGapJump);\n    this.on(PLAY, () => {\n      this.hasPlayed = true;\n    });\n    this.on(SEEKING, () => {\n      this.seekingEventReceived = true;\n    });\n  }\n  _getIndex(buffered, time, threshold) {\n    if (!buffered || !buffered.length) {\n      return null;\n    }\n    if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n      return null;\n    }\n    const bufferedInfo = this._getBuffered(buffered);\n    let idx = null;\n    for (let i = 0; i < bufferedInfo.length; i++) {\n      const item = bufferedInfo[i];\n      if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n        idx = i;\n        break;\n      }\n    }\n    return idx;\n  }\n  _getBuffered(b) {\n    if (!b) {\n      return [];\n    }\n    const ret = [];\n    for (let i = 0; i < b.length; i++) {\n      ret.push({\n        start: b.start(i),\n        end: b.end(i)\n      });\n    }\n    return ret;\n  }\n}\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass WaitingTimeoutJump extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onWaiting\", () => {\n      const { config } = this;\n      if (this.jumpCnt > config.jumpCntMax || this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.timer = setTimeout(this.onJump, config.waitingTime * 1e3);\n    });\n    __publicField(this, \"onJump\", () => {\n      const { player, config } = this;\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && this.hasPlayed) {\n        return;\n      }\n      this.jumpSize = config.jumpSize * (this.jumpCnt + 1);\n      if (this.jumpCnt === config.jumpSize && this.jumpSize < 6) {\n        this.jumpSize = 6;\n      }\n      const jumpTo = player.currentTime + this.jumpSize;\n      const seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      console.log(\"waitintTimeout, currentTime:\", player.currentTime, \", jumpTo:\", jumpTo);\n      this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n  }\n  static get pluginName() {\n    return \"waitingTimeoutJump\";\n  }\n  static get defaultConfig() {\n    return {\n      useWaitingTimeoutJump: false,\n      waitingTime: 15,\n      jumpSize: 2,\n      jumpCntMax: 4\n    };\n  }\n  afterCreate() {\n    const { useWaitingTimeoutJump, jumpSize } = this.config;\n    if (useWaitingTimeoutJump === false) {\n      return;\n    }\n    this.hasPlayed = false;\n    this.jumpCnt = 0;\n    this.timer = null;\n    this.jumpSize = jumpSize;\n    this.on(WAITING, this.onWaiting);\n    this.on([PLAYING, CANPLAY], () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n      this.jumpSize = this.config.jumpSize;\n    });\n    this.on(PLAY, () => {\n      this.hasPlayed = true;\n    });\n  }\n}\nexport { WaitingTimeoutJump as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { LOADED_DATA, REPLAY, DOWNLOAD_SPEED_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nconst DEFAULT_SPEED_TYPE = \"cdn\";\nconst SPEED_TYPE = [\"cdn\"];\nclass TestSpeed extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"getSpeed\", (type = DEFAULT_SPEED_TYPE) => {\n      if (!this.speedListCache || !this.speedListCache[type])\n        return 0;\n      if (this.speedListCache[type].length <= 0)\n        return 0;\n      let total = 0;\n      this.speedListCache[type].map((item) => {\n        total += item;\n      });\n      return Math.floor(total / this.speedListCache[type].length);\n    });\n    __publicField(this, \"startTimer\", () => {\n      if (util.isMSE(this.player.video)) {\n        return;\n      }\n      this.initSpeedList();\n      this.cnt = 0;\n      this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n    });\n    __publicField(this, \"initSpeedList\", () => {\n      this.speedListCache = {};\n      SPEED_TYPE.forEach((type) => {\n        this.speedListCache[type] = [];\n      });\n    });\n    __publicField(this, \"_onRealSpeedChange\", (data) => {\n      data.speed && this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    __publicField(this, \"testSpeed\", () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (!this.player || !this.config.openSpeed)\n        return;\n      const { url, loadSize, testCnt, testTimeStep } = this.config;\n      const testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (this.cnt >= testCnt) {\n        return;\n      }\n      this.cnt++;\n      try {\n        const start = new Date().getTime();\n        let end = null;\n        const xhr = new XMLHttpRequest();\n        this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        const headers = {};\n        const random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach((k) => {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = () => {\n          if (xhr.readyState === 4) {\n            this.xhr = null;\n            end = new Date().getTime();\n            const size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            const speed = Math.round(size * 1e3 / (end - start));\n            this.appendList(speed);\n            this.timer = setTimeout(this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    __publicField(this, \"appendList\", (speed, type = DEFAULT_SPEED_TYPE) => {\n      if (!this.speedListCache || !this.speedListCache[type])\n        return;\n      const { saveSpeedMax } = this.config;\n      if (this.speedListCache[type].length >= saveSpeedMax) {\n        this.speedListCache[type].shift();\n      }\n      this.speedListCache[type].push(speed);\n      const { player } = this;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      this.updateSpeed(type);\n    });\n    __publicField(this, \"updateSpeed\", (type = DEFAULT_SPEED_TYPE) => {\n      const speed = this.getSpeed(type);\n      const { player } = this;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, { speed, realTimeSpeed: player.realTimeSpeed });\n          }\n        } else {\n          const speedName = this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, { speed, realTimeSpeed: player.realTimeSpeed });\n          }\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"testspeed\";\n  }\n  static get defaultConfig() {\n    return {\n      openSpeed: false,\n      testCnt: 3,\n      loadSize: 200 * 1024,\n      testTimeStep: 3e3,\n      url: \"\",\n      saveSpeedMax: 5,\n      addSpeedTypeList: []\n    };\n  }\n  afterCreate() {\n    const { openSpeed, addSpeedTypeList } = this.config;\n    if ((addSpeedTypeList == null ? void 0 : addSpeedTypeList.length) > 0) {\n      SPEED_TYPE.push(...addSpeedTypeList);\n    }\n    this.initSpeedList();\n    this.on(\"real_time_speed\", this._onRealSpeedChange);\n    this.timer = null;\n    this.cnt = 0;\n    this.xhr = null;\n    if (!openSpeed) {\n      return;\n    }\n    this.on([LOADED_DATA, REPLAY], this.startTimer);\n  }\n  getSpeedName(namePrefix, type) {\n    return namePrefix + \"Speed\" + type.toUpperCase();\n  }\n  set openSpeed(value) {\n    this.config.openSpeed = value;\n    if (!value && this.timer) {\n      clearTimeout(this.timer);\n      this.timer = null;\n      return;\n    }\n    if (this.config.openSpeed) {\n      if (this.timer)\n        return;\n      this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n    }\n  }\n  get openSpeed() {\n    return this.config.openSpeed;\n  }\n  destroy() {\n    this.off(\"real_time_speed\", this._onRealSpeedChange);\n    this.off([LOADED_DATA, REPLAY], this.startTimer);\n    SPEED_TYPE.forEach((type) => {\n      this.speedListCache && this.speedListCache[type] && (this.speedListCache[type] = []);\n    });\n    this.speedListCache && (this.speedListCache = {});\n    clearTimeout(this.timer);\n    this.timer = null;\n    if (this.xhr && this.xhr.readyState !== 4) {\n      this.xhr.cancel && this.xhr.cancel();\n      this.xhr = null;\n    }\n  }\n}\nexport { TestSpeed as default };\n","import \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass FpsDetect extends Plugin {\n  static get pluginName() {\n    return \"FpsDetect\";\n  }\n  static get defaultConfig() {\n    return {\n      disabled: false,\n      tick: 1e3,\n      stuckCount: 3,\n      reportFrame: 0\n    };\n  }\n  afterCreate() {\n    const { player, config } = this;\n    const media = player.media || player.video;\n    this.timer = null;\n    this._lastDecodedFrames = 0;\n    this._currentStuckCount = 0;\n    this._lastCheckPoint = null;\n    this._payload = [];\n    if (config.disabled)\n      return;\n    const getVideoPlaybackQuality = media.getVideoPlaybackQuality;\n    if (!getVideoPlaybackQuality)\n      return;\n    this.on(PLAY, () => {\n      this._startTick();\n    });\n    this.on(PAUSE, () => {\n      this._stopTick();\n    });\n    this.on(ENDED, () => {\n      this._stopTick();\n    });\n    this.on(EMPTIED, () => {\n      this._stopTick();\n    });\n  }\n  _startTick() {\n    this._stopTick();\n    this._timer = setTimeout(() => {\n      this._checkDecodeFPS();\n      this._startTick();\n    }, this.config.tick);\n  }\n  _stopTick() {\n    clearTimeout(this._timer);\n    this._timer = null;\n  }\n  _checkBuffer(curTime, buffered) {\n    let enoughBuffer = false;\n    const buffers = [];\n    for (let i = 0; i < buffered.length; i++) {\n      const start = buffered.start(i);\n      const end = buffered.end(i);\n      buffers.push({ start, end });\n      if (start <= curTime && curTime <= end - 1) {\n        enoughBuffer = true;\n        break;\n      }\n    }\n    return {\n      enoughBuffer,\n      buffers\n    };\n  }\n  _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n    const media = this.player.media || this.player.video;\n    const hidden = document.hidden;\n    const { paused, readyState, currentTime, buffered } = media;\n    if (hidden || paused || readyState < 4) {\n      return;\n    }\n    const { enoughBuffer, buffers } = this._checkBuffer(currentTime, buffered);\n    if (!enoughBuffer) {\n      return;\n    }\n    if (curDecodedFrames <= this.config.reportFrame) {\n      this._currentStuckCount++;\n      this._payload.push({ currentTime, buffers, curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval });\n      if (this._currentStuckCount >= this.config.stuckCount) {\n        this.emit(FPS_STUCK, this._payload);\n        this._reset();\n      }\n    } else {\n      this._reset();\n    }\n  }\n  _reset() {\n    this._payload = [];\n    this._currentStuckCount = 0;\n  }\n  _checkDecodeFPS() {\n    const media = this.player.media || this.player.video;\n    if (!media) {\n      return;\n    }\n    const { totalVideoFrames, droppedVideoFrames } = media.getVideoPlaybackQuality();\n    const currTime = performance.now();\n    if (totalVideoFrames) {\n      if (this._lastCheckPoint) {\n        const curDecoded = totalVideoFrames - this._lastDecodedFrames;\n        const checkInterval = currTime - this._lastCheckPoint;\n        this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n      }\n    }\n    this._lastDecodedFrames = totalVideoFrames;\n    this._lastCheckPoint = currTime;\n  }\n  destroy() {\n    this._stopTick();\n  }\n}\nexport { FpsDetect as default };\n","import sniffer from \"../utils/sniffer.js\";\nimport Controls from \"../plugins/controls/index.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nclass DefaultPreset {\n  constructor(options, playerConfig) {\n    const simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n    const { isLive, controls } = playerConfig;\n    const basePlugin = controls ? [Controls] : [];\n    const vodPlugins = isLive ? basePlugin : [...basePlugin, TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time];\n    const contolsIcons = [\n      ...vodPlugins,\n      Play,\n      Fullscreen,\n      Rotate,\n      PlayNextIcon,\n      DefinitionIcon,\n      PlaybackRate,\n      Download,\n      ScreenShot,\n      Volume,\n      PIP\n    ];\n    const layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n    this.plugins = [...contolsIcons, Stats, XGLogger, ...layers, GapJump, WaitingTimeoutJump];\n    const mode = simulateMode ? \"mobile\" : sniffer.device;\n    switch (mode) {\n      case \"pc\":\n        this.plugins.push(...[Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n        break;\n      case \"mobile\":\n        this.plugins.push(...[MobilePlugin]);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PCPlugin, CssFullScreen]);\n    }\n    if (sniffer.os.isIpad || mode === \"pc\") {\n      this.plugins.push(DynamicBg);\n    }\n    if (sniffer.os.isIpad) {\n      this.plugins.push(PCPlugin);\n    }\n    this.ignores = [];\n    this.i18n = [];\n  }\n}\nexport { DefaultPreset as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport { InstManager } from \"./instManager.js\";\nimport DefaultPreset from \"./presets/default.js\";\nclass PresetPlayer extends Player {\n}\n__publicField(PresetPlayer, \"defaultPreset\", DefaultPreset);\n__publicField(PresetPlayer, \"Util\", util);\n__publicField(PresetPlayer, \"Sniffer\", sniffer);\n__publicField(PresetPlayer, \"Errors\", Errors);\n__publicField(PresetPlayer, \"Events\", events);\n__publicField(PresetPlayer, \"Plugin\", Plugin);\n__publicField(PresetPlayer, \"BasePlugin\", BasePlugin);\n__publicField(PresetPlayer, \"I18N\", I18N);\n__publicField(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\n__publicField(PresetPlayer, \"InstManager\", InstManager);\nexport { PresetPlayer as default };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a = [null];\n      a.push.apply(a, args2);\n      var Constructor = Function.bind.apply(Parent2, a);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? /* @__PURE__ */ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _construct as construct, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeFunction as isNativeFunction, _isNativeReflectConstruct as isNativeReflectConstruct, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray, _wrapNativeSuper as wrapNativeSuper };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar _ERR_CODE;\nvar ERR = {\n  MANIFEST: \"manifest\",\n  NETWORK: \"network\",\n  NETWORK_TIMEOUT: \"network_timeout\",\n  NETWORK_FORBIDDEN: \"network_forbidden\",\n  NETWORK_NOTFOUND: \"network_notfound\",\n  NETWROK_RANGE_NOT_SATISFIABLE: \"network_range_not_satisfiable\",\n  DEMUX: \"demux\",\n  REMUX: \"remux\",\n  MEDIA: \"media\",\n  DRM: \"drm\",\n  OTHER: \"other\",\n  RUNTIME: \"runtime\",\n  SUB_TYPES: {\n    FLV: \"FLV\",\n    HLS: \"HLS\",\n    MP4: \"MP4\",\n    FMP4: \"FMP4\",\n    MSE_ADD_SB: \"MSE_ADD_SB\",\n    MSE_APPEND_BUFFER: \"MSE_APPEND_BUFFER\",\n    MSE_OTHER: \"MSE_OTHER\",\n    MSE_FULL: \"MSE_FULL\",\n    MSE_CHANGE_TYPE: \"MSE_CHANGE_TYPE\",\n    OPTION: \"OPTION\",\n    DASH: \"DASH\",\n    LICENSE: \"LICENSE\",\n    CUSTOM_LICENSE: \"CUSTOM_LICENSE\",\n    MSE_HIJACK: \"MSE_HIJACK\",\n    EME_HIJACK: \"EME_HIJACK\",\n    SIDX: \"SIDX\",\n    NO_CANPLAY_ERROR: \"NO_CANPLAY_ERROR\",\n    BUFFERBREAK_ERROR: \"BUFFERBREAK_ERROR\",\n    WAITING_TIMEOUT_ERROR: \"WAITING_TIMEOUT_ERROR\",\n    MEDIA_ERR_ABORTED: \"MEDIA_ERR_ABORTED\",\n    MEDIA_ERR_NETWORK: \"MEDIA_ERR_NETWORK\",\n    MEDIA_ERR_DECODE: \"MEDIA_ERR_DECODE\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"MEDIA_ERR_SRC_NOT_SUPPORTED\",\n    MEDIA_ERR_CODEC_NOT_SUPPORTED: \"MEDIA_ERR_CODEC_NOT_SUPPORTED\",\n    MEDIA_ERR_URL_EMPTY: \"MEDIA_ERR_URL_EMPTY\"\n  }\n};\nvar ERR_CODE = (_ERR_CODE = {}, _defineProperty(_ERR_CODE, ERR.MANIFEST, {\n  HLS: 1100,\n  DASH: 1200\n}), _defineProperty(_ERR_CODE, ERR.NETWORK, 2100), _defineProperty(_ERR_CODE, ERR.NETWORK_TIMEOUT, 2101), _defineProperty(_ERR_CODE, ERR.NETWORK_FORBIDDEN, 2103), _defineProperty(_ERR_CODE, ERR.NETWORK_NOTFOUND, 2104), _defineProperty(_ERR_CODE, ERR.NETWROK_RANGE_NOT_SATISFIABLE, 2116), _defineProperty(_ERR_CODE, ERR.DEMUX, {\n  FLV: 3100,\n  HLS: 3200,\n  MP4: 3300,\n  FMP4: 3400,\n  SIDX: 3410\n}), _defineProperty(_ERR_CODE, ERR.REMUX, {\n  FMP4: 4100,\n  MP4: 4200\n}), _defineProperty(_ERR_CODE, ERR.MEDIA, {\n  MEDIA_ERR_ABORTED: 5101,\n  MEDIA_ERR_NETWORK: 5102,\n  MEDIA_ERR_DECODE: 5103,\n  MEDIA_ERR_SRC_NOT_SUPPORTED: 5104,\n  MEDIA_ERR_CODEC_NOT_SUPPORTED: 5105,\n  MEDIA_ERR_URL_EMPTY: 5106,\n  MSE_ADD_SB: 5200,\n  MSE_APPEND_BUFFER: 5201,\n  MSE_OTHER: 5202,\n  MSE_FULL: 5203,\n  MSE_HIJACK: 5204,\n  MSE_CHANGE_TYPE: 5205,\n  EME_HIJACK: 5301\n}), _defineProperty(_ERR_CODE, ERR.DRM, {\n  LICENSE: 7100,\n  CUSTOM_LICENSE: 7200\n}), _defineProperty(_ERR_CODE, ERR.OTHER, 8e3), _defineProperty(_ERR_CODE, ERR.RUNTIME, {\n  NO_CANPLAY_ERROR: 9001,\n  BUFFERBREAK_ERROR: 9002,\n  WAITING_TIMEOUT_ERROR: 9003\n}), _ERR_CODE);\nvar StreamingError = /* @__PURE__ */ function(_Error) {\n  _inherits(StreamingError2, _Error);\n  var _super = _createSuper(StreamingError2);\n  function StreamingError2(type, subType, origin, payload, msg) {\n    var _this;\n    _classCallCheck(this, StreamingError2);\n    _this = _super.call(this, msg || (origin === null || origin === void 0 ? void 0 : origin.message));\n    _this.errorType = type === ERR.NETWORK_TIMEOUT ? ERR.NETWORK : type;\n    _this.originError = origin;\n    _this.ext = payload;\n    _this.errorCode = ERR_CODE[type][subType] || ERR_CODE[type];\n    _this.errorMessage = _this.message;\n    if (!_this.errorCode) {\n      _this.errorType = ERR.OTHER;\n      _this.errorCode = ERR_CODE[_this.errorType];\n    }\n    return _this;\n  }\n  _createClass(StreamingError2, null, [{\n    key: \"create\",\n    value: function create(type, subType, origin, payload, msg) {\n      if (type instanceof StreamingError2) {\n        return type;\n      } else if (type instanceof Error) {\n        origin = type;\n        type = \"\";\n      }\n      if (!type)\n        type = ERR.OTHER;\n      return new StreamingError2(type, subType, origin, payload, msg);\n    }\n  }, {\n    key: \"network\",\n    value: function network(error) {\n      var _error$response;\n      return new StreamingError2(error !== null && error !== void 0 && error.isTimeout ? ERR.NETWORK_TIMEOUT : ERR.NETWORK, null, error instanceof Error ? error : null, {\n        url: error === null || error === void 0 ? void 0 : error.url,\n        response: error === null || error === void 0 ? void 0 : error.response,\n        httpCode: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status\n      });\n    }\n  }]);\n  return StreamingError2;\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { ERR, ERR_CODE, StreamingError };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n  }\n  _createClass(Buffer2, null, [{\n    key: \"start\",\n    value: function start(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      if (buf.length === 1 && buf.start(0) < 0)\n        return 0;\n      return buf.start(0);\n    }\n  }, {\n    key: \"end\",\n    value: function end(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      return buf.end(buf.length - 1);\n    }\n  }, {\n    key: \"get\",\n    value: function get(b) {\n      if (!b)\n        return;\n      try {\n        return b.buffered;\n      } catch (error) {\n      }\n    }\n  }, {\n    key: \"buffers\",\n    value: function buffers(buf, maxHole) {\n      if (!buf || !buf.length)\n        return [];\n      var buffers2 = [];\n      for (var i = 0, l = buf.length; i < l; i++) {\n        var bufLen = buffers2.length;\n        if (!bufLen || !maxHole) {\n          buffers2.push([buf.start(i), buf.end(i)]);\n        } else {\n          var last = buffers2[bufLen - 1];\n          var lastEnd = last[1];\n          var start = buf.start(i);\n          if (start - lastEnd <= maxHole) {\n            var end = buf.end(i);\n            if (end > lastEnd) {\n              last[1] = end;\n            }\n          } else {\n            buffers2.push([buf.start(i), buf.end(i)]);\n          }\n        }\n      }\n      return buffers2;\n    }\n  }, {\n    key: \"totalLength\",\n    value: function totalLength(buffers) {\n      if (!buffers || !buffers.length)\n        return 0;\n      return buffers.reduce(function(a, c) {\n        return a += c[1] - c[0];\n      }, 0);\n    }\n  }, {\n    key: \"info\",\n    value: function info(buf) {\n      var pos = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var maxHole = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      if (!buf || !buf.length)\n        return {\n          start: 0,\n          end: 0,\n          buffers: []\n        };\n      var start = 0;\n      var end = 0;\n      var index = 0;\n      var nextStart = 0;\n      var nextEnd = 0;\n      var prevStart = 0;\n      var prevEnd = 0;\n      var buffers = Buffer2.buffers(buf, maxHole);\n      for (var i = 0, l = buffers.length; i < l; i++) {\n        var item = buffers[i];\n        if (pos + maxHole >= item[0] && pos <= item[1]) {\n          start = item[0];\n          end = item[1];\n          index = i;\n        } else if (pos + maxHole < item[0]) {\n          nextStart = item[0];\n          nextEnd = item[1];\n          break;\n        } else if (pos + maxHole > item[1]) {\n          prevStart = item[0];\n          prevEnd = item[1];\n        }\n      }\n      return {\n        start,\n        end,\n        index,\n        buffers,\n        nextStart,\n        nextEnd,\n        prevStart,\n        prevEnd,\n        currentTime: pos,\n        behind: pos - start,\n        remaining: end ? end - pos : 0,\n        length: Buffer2.totalLength && Buffer2.totalLength(buffers)\n      };\n    }\n  }, {\n    key: \"isBuffered\",\n    value: function isBuffered(media, pos) {\n      if (media) {\n        var buffered = Buffer2.get(media);\n        if (buffered !== null && buffered !== void 0 && buffered.length) {\n          for (var i = 0; i < buffered.length; i++) {\n            if (pos >= buffered.start(i) && pos <= buffered.end(i)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer };\n","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar LogCacheLevel = {\n  \"DEBUG\": 1,\n  \"LOG\": 2,\n  \"WARN\": 3,\n  \"ERROR\": 4\n};\nvar LOG_MAX_SIZE = 200 * 1024;\nvar SIMPLE_TYPE = [\"Boolean\", \"Number\", \"String\", \"Undefined\", \"Null\", \"Date\", \"Object\"];\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, config) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    this.logCacheLevel = (config === null || config === void 0 ? void 0 : config.logCacheLevel) || 3;\n    this.logMaxSize = (config === null || config === void 0 ? void 0 : config.logMaxSize) || LOG_MAX_SIZE;\n    this.logSize = 0;\n    this.logTextArray = [];\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.logCache.apply(this, [LogCacheLevel.DEBUG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console = console).debug.apply(_console, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      this.logCache.apply(this, [LogCacheLevel.LOG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console2 = console).log.apply(_console2, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      this.logCache.apply(this, [LogCacheLevel.WARN].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console3 = console).warn.apply(_console3, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      this.logCache.apply(this, [LogCacheLevel.ERROR].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console4 = console).error.apply(_console4, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"logCache\",\n    value: function logCache(logCacheLevel) {\n      if (logCacheLevel < this.logCacheLevel)\n        return;\n      var text = \"\";\n      try {\n        for (var _len5 = arguments.length, logText = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n          logText[_key5 - 1] = arguments[_key5];\n        }\n        var finLogText = logText.map(function(item) {\n          return logable(item);\n        });\n        text = \"[\".concat(nowTime(), \"]\") + this._prefix + JSON.stringify(finLogText);\n      } catch (e) {\n        return;\n      }\n      if (logCacheLevel >= this.logCacheLevel) {\n        this.logSize += text.length;\n        this.logTextArray.push(text);\n      }\n      if (this.logSize > this.logMaxSize) {\n        var delLog = this.logTextArray.shift();\n        this.logSize -= delLog.length;\n      }\n    }\n  }, {\n    key: \"getLogCache\",\n    value: function getLogCache() {\n      var logText = this.logTextArray.join(\"\\n\");\n      this.reset();\n      return logText;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.logTextArray = [];\n      this.logSize = 0;\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }, {\n    key: \"setLogLevel\",\n    value: function setLogLevel(val) {\n      this.logCacheLevel = val;\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nfunction nowTime() {\n  return new Date().toLocaleString();\n}\nfunction reduceDepth(val) {\n  if (_typeof(val) !== \"object\") {\n    return val;\n  }\n  var objType = Object.prototype.toString.call(val).slice(8, -1);\n  switch (objType) {\n    case \"Array\":\n    case \"Uint8Array\":\n    case \"ArrayBuffer\":\n      return objType + \"[\" + val.length + \"]\";\n    case \"Object\":\n      return \"{}\";\n    default:\n      return objType;\n  }\n}\nfunction logable(obj, maxDepth, depth) {\n  if (!depth)\n    depth = 1;\n  if (!maxDepth)\n    maxDepth = 2;\n  var result = {};\n  if (!obj || _typeof(obj) !== \"object\") {\n    return obj;\n  }\n  var objType = Object.prototype.toString.call(obj).slice(8, -1);\n  if (!SIMPLE_TYPE.includes(objType)) {\n    return objType;\n  }\n  if (depth > maxDepth) {\n    return void 0;\n  }\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (depth === maxDepth) {\n        result[key] = reduceDepth(obj[key]);\n      } else if (_typeof(obj[key]) === \"object\") {\n        result[key] = logable(obj[key], maxDepth, depth + 1);\n      } else {\n        result[key] = obj[key];\n      }\n    }\n  }\n  return result;\n}\nexport { LogCacheLevel, Logger };\n","function createPublicPromise() {\n  var res, rej;\n  var promise = new Promise(function(resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.used = false;\n  promise.resolve = function() {\n    promise.used = true;\n    return res.apply(void 0, arguments);\n  };\n  promise.reject = function() {\n    promise.used = true;\n    return rej.apply(void 0, arguments);\n  };\n  return promise;\n}\nfunction nowTime() {\n  try {\n    return parseInt(performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nvar SafeJSON = {\n  stringify: function stringify(obj) {\n    try {\n      return JSON.stringify(obj);\n    } catch (e) {\n      return \"\";\n    }\n  },\n  parse: function parse(obj) {\n    try {\n      return JSON.parse(obj);\n    } catch (e) {\n      return void 0;\n    }\n  }\n};\nexport { SafeJSON, createPublicPromise, nowTime };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper, typeof as _typeof, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"./buffer.js\";\nimport { isBrowser } from \"./env.js\";\nimport { StreamingError, ERR } from \"./error.js\";\nimport { Logger } from \"./logger.js\";\nimport { createPublicPromise, nowTime, SafeJSON } from \"./utils.js\";\nfunction getMediaSource() {\n  var preferMMS = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n  try {\n    if (!isBrowser)\n      return null;\n    if (preferMMS && typeof ManagedMediaSource !== \"undefined\")\n      return ManagedMediaSource;\n    return window.MediaSource;\n  } catch (e) {\n  }\n}\nfunction isMMS(mediaSource) {\n  return /ManagedMediaSource/gi.test(Object.prototype.toString.call(mediaSource));\n}\nfunction getTimeRanges(buffered) {\n  var ranges = [];\n  if (buffered instanceof TimeRanges) {\n    for (var i = 0; i < buffered.length; i++) {\n      ranges.push({\n        start: buffered.start(i),\n        end: buffered.end(i)\n      });\n    }\n  }\n  return ranges;\n}\nvar MSEErrorType = {\n  UPDATE_ERROR: \"updateError\"\n};\nvar OP_NAME = {\n  APPEND: \"appendBuffer\",\n  REMOVE: \"removeBuffer\",\n  UPDATE_DURATION: \"updateDuration\"\n};\nvar MSEError = /* @__PURE__ */ function(_Error) {\n  _inherits(MSEError2, _Error);\n  var _super = _createSuper(MSEError2);\n  function MSEError2(type, msg) {\n    var _this;\n    _classCallCheck(this, MSEError2);\n    _this = _super.call(this, msg || type);\n    _this.type = type;\n    _this.msg = msg;\n    return _this;\n  }\n  return _createClass(MSEError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nvar MSE = /* @__PURE__ */ function() {\n  function MSE2(media, config) {\n    var _this2 = this;\n    _classCallCheck(this, MSE2);\n    _defineProperty(this, \"media\", null);\n    _defineProperty(this, \"mediaSource\", null);\n    _defineProperty(this, \"_openPromise\", createPublicPromise());\n    _defineProperty(this, \"_queue\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_sourceBuffer\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_mseFullFlag\", {});\n    _defineProperty(this, \"_st\", 0);\n    _defineProperty(this, \"_opst\", 0);\n    _defineProperty(this, \"_logger\", null);\n    _defineProperty(this, \"_config\", null);\n    _defineProperty(this, \"_url\", null);\n    _defineProperty(this, \"_onStartStreaming\", function() {\n      _this2._logger.debug(\"startstreaming\");\n    });\n    _defineProperty(this, \"_onEndStreaming\", function() {\n      _this2._logger.debug(\"endstreaming\");\n    });\n    _defineProperty(this, \"_onSBUpdateEnd\", function(type) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (!((op === null || op === void 0 ? void 0 : op.opName) === OP_NAME.UPDATE_DURATION)) {\n          queue.shift();\n        }\n        if (op) {\n          var _this2$_sourceBuffer$, _op$context;\n          var costtime = nowTime() - _this2._opst;\n          _this2._logger.debug(\"UpdateEnd(\".concat(type, \"/\").concat(op.opName, \")\"), SafeJSON.stringify(getTimeRanges((_this2$_sourceBuffer$ = _this2._sourceBuffer[type]) === null || _this2$_sourceBuffer$ === void 0 ? void 0 : _this2$_sourceBuffer$.buffered)), costtime, op.context);\n          op.promise.resolve({\n            name: op.opName,\n            context: op.context,\n            costtime\n          });\n          var callback = (_op$context = op.context) === null || _op$context === void 0 ? void 0 : _op$context.callback;\n          if (callback && typeof callback === \"function\") {\n            callback(op.context);\n          }\n          _this2._startQueue(type);\n        }\n      }\n    });\n    _defineProperty(this, \"_onSBUpdateError\", function(type, event) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op) {\n          _this2._logger.error(\"UpdateError\", type, op.opName, op.context);\n          op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_APPEND_BUFFER, event));\n        }\n      }\n    });\n    this._config = Object.assign(MSE2.getDefaultConfig(), config);\n    if (media)\n      this.bindMedia(media);\n    this._logger = new Logger(\"MSE\");\n    if (this._config.openLog) {\n      Logger.enable();\n    }\n  }\n  _createClass(MSE2, [{\n    key: \"isOpened\",\n    get: function get() {\n      var _this$mediaSource;\n      return ((_this$mediaSource = this.mediaSource) === null || _this$mediaSource === void 0 ? void 0 : _this$mediaSource.readyState) === \"open\";\n    }\n  }, {\n    key: \"hasOpTasks\",\n    get: function get() {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this._queue).forEach(function(k) {\n        var queue = _this3._queue[k];\n        if (Array.isArray(queue)) {\n          flag || (flag = queue.length > 0);\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this._url;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      var _this$mediaSource2;\n      return ((_this$mediaSource2 = this.mediaSource) === null || _this$mediaSource2 === void 0 ? void 0 : _this$mediaSource2.duration) || -1;\n    }\n  }, {\n    key: \"isEnded\",\n    get: function get() {\n      return this.mediaSource ? this.mediaSource.readyState === \"ended\" : false;\n    }\n  }, {\n    key: \"streaming\",\n    get: function get() {\n      return isMMS(this.mediaSource) ? this.mediaSource.streaming : true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull(type) {\n      return type ? this._mseFullFlag[type] : this._mseFullFlag[MSE2.VIDEO];\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this4 = this;\n      var isReduceDuration = this.mediaSource && this.mediaSource.duration > duration;\n      if (this.mediaSource && this.mediaSource.duration > duration) {\n        var bufferEnd = 0;\n        Object.keys(this._sourceBuffer).forEach(function(k) {\n          try {\n            bufferEnd = Math.max(_this4.bufferEnd(k) || 0, bufferEnd);\n          } catch (error) {\n          }\n        });\n        if (duration < bufferEnd) {\n          return Promise.resolve();\n        }\n      }\n      return this._enqueueBlockingOp(function() {\n        if (_this4.isEnded) {\n          _this4._logger.debug(\"setDuration but ended\");\n          return;\n        }\n        if (_this4.mediaSource) {\n          _this4.mediaSource.duration = duration;\n          _this4._logger.debug(\"setDuration\", duration);\n        }\n      }, OP_NAME.UPDATE_DURATION, {\n        isReduceDuration\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this5 = this;\n      if (this._openPromise.used && !this.isOpened && this.mediaSource) {\n        var ms = this.mediaSource;\n        var onOpen = function onOpen2() {\n          var costTime = nowTime() - _this5._st;\n          _this5._logger.debug(\"sourceopen\", costTime);\n          ms.removeEventListener(\"sourceopen\", onOpen2);\n          _this5._openPromise.resolve({\n            costtime: costTime\n          });\n        };\n        ms.addEventListener(\"sourceopen\", onOpen);\n        this._openPromise = createPublicPromise();\n      }\n      return this._openPromise;\n    }\n  }, {\n    key: \"bindMedia\",\n    value: function() {\n      var _bindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(media) {\n        var _this6 = this;\n        var MediaSource2, ms, useMMS, onOpen;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.mediaSource || this.media)) {\n                  _context.next = 3;\n                  break;\n                }\n                _context.next = 3;\n                return this.unbindMedia();\n              case 3:\n                MediaSource2 = getMediaSource(this._config.preferMMS);\n                if (!(!media || !MediaSource2)) {\n                  _context.next = 6;\n                  break;\n                }\n                throw new Error(\"Param media or MediaSource does not exist\");\n              case 6:\n                this.media = media;\n                ms = this.mediaSource = new MediaSource2();\n                useMMS = isMMS(ms);\n                this._st = nowTime();\n                onOpen = function onOpen2() {\n                  var costTime = nowTime() - _this6._st;\n                  _this6._logger.debug(\"sourceopen\");\n                  ms.removeEventListener(\"sourceopen\", onOpen2);\n                  URL.revokeObjectURL(media.src);\n                  _this6._openPromise.resolve({\n                    costtime: costTime\n                  });\n                };\n                ms.addEventListener(\"sourceopen\", onOpen);\n                if (useMMS) {\n                  ms.addEventListener(\"startstreaming\", this._onStartStreaming);\n                  ms.addEventListener(\"endstreaming\", this._onEndStreaming);\n                }\n                this._url = URL.createObjectURL(ms);\n                media.src = this._url;\n                media.disableRemotePlayback = useMMS;\n                return _context.abrupt(\"return\", this._openPromise);\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function bindMedia(_x) {\n        return _bindMedia.apply(this, arguments);\n      }\n      return bindMedia;\n    }()\n  }, {\n    key: \"unbindMedia\",\n    value: function() {\n      var _unbindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        var _this7 = this;\n        var ms, hasMetadata, mseOpen;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._openPromise.used)\n                  this._openPromise.resolve();\n                ms = this.mediaSource;\n                if (ms) {\n                  Object.keys(this._queue).forEach(function(t) {\n                    var queue = _this7._queue[t];\n                    if (queue) {\n                      queue.forEach(function(x) {\n                        var _x$promise, _x$promise$resolve;\n                        return (_x$promise = x.promise) === null || _x$promise === void 0 ? void 0 : (_x$promise$resolve = _x$promise.resolve) === null || _x$promise$resolve === void 0 ? void 0 : _x$promise$resolve.call(_x$promise);\n                      });\n                    }\n                  });\n                  hasMetadata = !!this.media && this.media.readyState >= 1;\n                  mseOpen = ms.readyState === \"open\";\n                  if (hasMetadata && mseOpen) {\n                    try {\n                      ms.endOfStream();\n                    } catch (error) {\n                    }\n                  }\n                  Object.keys(this._sourceBuffer).forEach(function(k) {\n                    try {\n                      ms.removeSourceBuffer(_this7._sourceBuffer[k]);\n                    } catch (error) {\n                    }\n                  });\n                  if (isMMS(ms)) {\n                    ms.removeEventListener(\"startstreaming\", this._onStartStreaming);\n                    ms.removeEventListener(\"endstreaming\", this._onEndStreaming);\n                  }\n                }\n                if (this.media) {\n                  this.media.disableRemotePlayback = false;\n                  this.media.removeAttribute(\"src\");\n                  try {\n                    this.media.load();\n                  } catch (error) {\n                  }\n                  this.media = null;\n                }\n                this.mediaSource = null;\n                this._openPromise = createPublicPromise();\n                this._queue = /* @__PURE__ */ Object.create(null);\n                this._sourceBuffer = /* @__PURE__ */ Object.create(null);\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function unbindMedia() {\n        return _unbindMedia.apply(this, arguments);\n      }\n      return unbindMedia;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(type, mimeType) {\n      if (this._sourceBuffer[type] || !this.mediaSource)\n        return;\n      var sb;\n      try {\n        sb = this._sourceBuffer[type] = this.mediaSource.addSourceBuffer(mimeType);\n      } catch (error) {\n        throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_ADD_SB, error);\n      }\n      sb.mimeType = mimeType;\n      sb.addEventListener(\"updateend\", this._onSBUpdateEnd.bind(this, type));\n      sb.addEventListener(\"error\", this._onSBUpdateError.bind(this, type));\n    }\n  }, {\n    key: \"changeType\",\n    value: function changeType(type, mimeType) {\n      var _this8 = this;\n      var sb = this._sourceBuffer[type];\n      if (!this.mediaSource || !sb || sb.mimeType === mimeType)\n        return Promise.resolve();\n      if (typeof sb.changeType !== \"function\") {\n        return Promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, new Error(\"changeType is not a function\")));\n      }\n      return this._enqueueOp(type, function() {\n        try {\n          sb.changeType(mimeType);\n        } catch (e) {\n          throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, e);\n        }\n        sb.mimeType = mimeType;\n        _this8._onSBUpdateEnd(type);\n      }, \"changeType\", {\n        mimeType\n      });\n    }\n  }, {\n    key: \"createOrChangeSource\",\n    value: function createOrChangeSource(type, mimeType) {\n      this.createSource(type, mimeType);\n      return this.changeType(type, mimeType);\n    }\n  }, {\n    key: \"append\",\n    value: function append(type, buffer, context) {\n      var _this9 = this;\n      if (!buffer || !buffer.byteLength) {\n        return Promise.resolve();\n      }\n      if (!this._sourceBuffer[type])\n        return Promise.resolve();\n      return this._enqueueOp(type, function() {\n        var _this9$_sourceBuffer$;\n        if (!_this9.mediaSource || _this9.media.error)\n          return;\n        _this9._logger.debug(\"MSE APPEND START\", context);\n        _this9._opst = nowTime();\n        (_this9$_sourceBuffer$ = _this9._sourceBuffer[type]) === null || _this9$_sourceBuffer$ === void 0 ? void 0 : _this9$_sourceBuffer$.appendBuffer(buffer);\n      }, OP_NAME.APPEND, context);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, startTime, endTime, context) {\n      var _this10 = this;\n      var isInsertHead = false;\n      if (this._mseFullFlag[type]) {\n        isInsertHead = true;\n      }\n      return this._enqueueOp(type, function() {\n        if (!_this10.mediaSource || _this10.media.error)\n          return;\n        var sb = _this10._sourceBuffer[type];\n        if (startTime >= endTime || !sb) {\n          _this10._onSBUpdateEnd(type);\n          return;\n        }\n        _this10._opst = nowTime();\n        _this10._logger.debug(\"MSE REMOVE START\", type, startTime, endTime, context);\n        sb.remove(startTime, endTime);\n      }, OP_NAME.REMOVE, context, isInsertHead);\n    }\n  }, {\n    key: \"clearBuffer\",\n    value: function clearBuffer(startTime, endTime) {\n      var _this11 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        p = _this11.remove(k, startTime, endTime);\n      });\n      return p || Promise.resolve();\n    }\n  }, {\n    key: \"clearAllBuffer\",\n    value: function clearAllBuffer() {\n      var _this12 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        var sb = _this12._sourceBuffer[k];\n        p = _this12.remove(k, 0, Buffer.end(Buffer.get(sb)));\n      });\n      return p;\n    }\n  }, {\n    key: \"clearOpQueues\",\n    value: function clearOpQueues(type, allClear) {\n      var _this$_queue$type;\n      this._logger.debug(\"MSE clearOpQueue START\");\n      var queue = this._queue[type];\n      if (allClear && queue) {\n        this._queue[type] = [];\n        return;\n      }\n      if (!queue || !queue[type] || queue.length < 5)\n        return;\n      var initQueue = [];\n      queue.forEach(function(op) {\n        if (op.context && op.context.isinit) {\n          initQueue.push(op);\n        }\n      });\n      this._queue[type] = queue.slice(0, 2);\n      initQueue.length > 0 && (_this$_queue$type = this._queue[type]).push.apply(_this$_queue$type, initQueue);\n    }\n  }, {\n    key: \"endOfStream\",\n    value: function endOfStream(reason) {\n      var _this13 = this;\n      if (!this.mediaSource || this.mediaSource.readyState !== \"open\")\n        return Promise.resolve();\n      return this._enqueueBlockingOp(function() {\n        var ms = _this13.mediaSource;\n        if (!ms || ms.readyState !== \"open\")\n          return;\n        _this13._logger.debug(\"MSE endOfStream START\");\n        if (reason) {\n          ms.endOfStream(reason);\n        } else {\n          ms.endOfStream();\n        }\n      }, \"endOfStream\");\n    }\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function setLiveSeekableRange(start, end) {\n      var ms = this.mediaSource;\n      if (start < 0 || end < start || !(ms !== null && ms !== void 0 && ms.setLiveSeekableRange) || ms.readyState !== \"open\")\n        return;\n      ms.setLiveSeekableRange(start, end);\n    }\n  }, {\n    key: \"getSourceBuffer\",\n    value: function getSourceBuffer(type) {\n      return this._sourceBuffer[type];\n    }\n  }, {\n    key: \"buffered\",\n    value: function buffered(type) {\n      return Buffer.get(this._sourceBuffer[type]);\n    }\n  }, {\n    key: \"bufferStart\",\n    value: function bufferStart(type) {\n      return Buffer.start(this.buffered(type));\n    }\n  }, {\n    key: \"bufferEnd\",\n    value: function bufferEnd(type) {\n      return Buffer.end(this.buffered(type));\n    }\n  }, {\n    key: \"_enqueueOp\",\n    value: function _enqueueOp(type, exec, opName, context, isInsertHead) {\n      var _this14 = this;\n      if (!this.mediaSource)\n        return Promise.resolve();\n      var queue = this._queue[type] = this._queue[type] || [];\n      var op = {\n        exec,\n        promise: createPublicPromise(),\n        opName,\n        context\n      };\n      if (isInsertHead) {\n        queue.splice(0, 0, op);\n        this._mseFullFlag[type] = false;\n        this._startQueue(type);\n      } else {\n        queue.push(op);\n      }\n      if (this.isOpened || this.isEnded) {\n        if (queue.length === 1) {\n          this._startQueue(type);\n        }\n      } else {\n        this._openPromise.then(function() {\n          if (queue.length === 1) {\n            _this14._startQueue(type);\n          }\n        });\n      }\n      return op.promise;\n    }\n  }, {\n    key: \"_enqueueBlockingOp\",\n    value: function() {\n      var _enqueueBlockingOp2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(exec, opName, context) {\n        var _this15 = this;\n        var types, waiters;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.mediaSource) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\", Promise.resolve());\n              case 2:\n                types = Object.keys(this._sourceBuffer);\n                if (types.length) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\", exec());\n              case 5:\n                waiters = [];\n                types.forEach(function(t) {\n                  var queue = _this15._queue[t];\n                  var prom = createPublicPromise();\n                  waiters.push(prom);\n                  queue.push({\n                    exec: function exec2() {\n                      prom.resolve();\n                    },\n                    promise: prom,\n                    opName,\n                    context\n                  });\n                  if (queue.length === 1) {\n                    _this15._startQueue(t);\n                  }\n                });\n                return _context3.abrupt(\"return\", Promise.all(waiters).then(function() {\n                  try {\n                    return exec();\n                  } finally {\n                    types.forEach(function(t) {\n                      var queue = _this15._queue[t];\n                      var sb = _this15._sourceBuffer[t];\n                      queue === null || queue === void 0 ? void 0 : queue.shift();\n                      if (!sb || !sb.updating) {\n                        _this15._startQueue(t);\n                      }\n                    });\n                  }\n                }));\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _enqueueBlockingOp(_x2, _x3, _x4) {\n        return _enqueueBlockingOp2.apply(this, arguments);\n      }\n      return _enqueueBlockingOp;\n    }()\n  }, {\n    key: \"_startQueue\",\n    value: function _startQueue(type) {\n      var queue = this._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op && !this._mseFullFlag[type]) {\n          try {\n            op.exec();\n          } catch (error) {\n            if (error && error.message && error.message.indexOf(\"SourceBuffer is full\") >= 0) {\n              this._mseFullFlag[type] = true;\n              if (op.context && _typeof(op.context) === \"object\") {\n                op.context.isFull = true;\n              }\n              this._logger.error(\"[MSE error],  context,\", op.context, \" ,name,\", op.opName, \",err,SourceBuffer is full\");\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_FULL, error));\n            } else {\n              this._logger.error(error);\n              op.promise.reject(error.constructor === StreamingError ? error : new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_OTHER, error));\n              queue.shift();\n              this._startQueue(type);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setTimeoffset\",\n    value: function setTimeoffset(type, timestampOffset, context) {\n      var _this16 = this;\n      return this._enqueueOp(type, function() {\n        if (timestampOffset < 0) {\n          timestampOffset += 1e-3;\n        }\n        _this16._sourceBuffer[type].timestampOffset = timestampOffset;\n        _this16._onSBUpdateEnd(type);\n      }, \"setTimeoffset\", context);\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(type, context) {\n      var _this17 = this;\n      if (!this.isOpened) {\n        return Promise.resolve();\n      }\n      return this._enqueueOp(type, function() {\n        _this17._sourceBuffer[type].abort();\n        _this17._onSBUpdateEnd(type);\n      }, \"abort\", context);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n      var MediaSource2 = getMediaSource();\n      if (!MediaSource2)\n        return false;\n      try {\n        return MediaSource2.isTypeSupported(mime);\n      } catch (error) {\n        this._logger.error(mime, error);\n        return false;\n      }\n    }\n  }, {\n    key: \"isMMSOnly\",\n    value: function isMMSOnly() {\n      return typeof ManagedMediaSource !== \"undefined\" && typeof MediaSource === \"undefined\";\n    }\n  }, {\n    key: \"getDefaultConfig\",\n    value: function getDefaultConfig() {\n      return {\n        openLog: false,\n        preferMMS: false\n      };\n    }\n  }]);\n  return MSE2;\n}();\n_defineProperty(MSE, \"VIDEO\", \"video\");\n_defineProperty(MSE, \"AUDIO\", \"audio\");\nexport { MSE, MSEError, MSEErrorType };\n","var EVENT = {\n  ERROR: \"error\",\n  TTFB: \"core.ttfb\",\n  LOAD_START: \"core.loadstart\",\n  LOAD_RESPONSE_HEADERS: \"core.loadresponseheaders\",\n  LOAD_COMPLETE: \"core.loadcomplete\",\n  LOAD_RETRY: \"core.loadretry\",\n  SOURCEBUFFER_CREATED: \"core.sourcebuffercreated\",\n  MEDIASOURCE_OPENED: \"core.mediasourceopened\",\n  ANALYZE_DURATION_EXCEEDED: \"core.analyzedurationexceeded\",\n  APPEND_BUFFER: \"core.appendbuffer\",\n  REMOVE_BUFFER: \"core.removebuffer\",\n  BUFFEREOS: \"core.buffereos\",\n  KEYFRAME: \"core.keyframe\",\n  CHASEFRAME: \"core.chaseframe\",\n  METADATA_PARSED: \"core.metadataparsed\",\n  SEI: \"core.sei\",\n  SEI_IN_TIME: \"core.seiintime\",\n  FLV_SCRIPT_DATA: \"core.flvscriptdata\",\n  LOWDECODE: \"core.lowdecode\",\n  SWITCH_URL_SUCCESS: \"core.switchurlsuccess\",\n  SWITCH_URL_FAILED: \"core.switchurlfailed\",\n  SPEED: \"core.speed\",\n  HLS_MANIFEST_LOADED: \"core.hlsmanifestloaded\",\n  HLS_LEVEL_LOADED: \"core.hlslevelloaded\",\n  DEMUXED_TRACK: \"core.demuxedtrack\",\n  STREAM_EXCEPTION: \"core.streamexception\",\n  LARGE_AV_FIRST_FRAME_GAP_DETECT: \"LARGE_AV_FIRST_FRAME_GAP_DETECT\",\n  LARGE_VIDEO_DTS_GAP_DETECT: \"LARGE_VIDEO_DTS_GAP_DETECT\",\n  LARGE_AUDIO_DTS_GAP_DETECT: \"LARGE_AUDIO_DTS_GAP_DETECT\",\n  AUDIO_GAP_DETECT: \"AUDIO_GAP_DETECT\",\n  AUDIO_OVERLAP_DETECT: \"AUDIO_OVERLAP_DETECT\",\n  MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT: \"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT\",\n  REAL_TIME_SPEED: \"real_time_speed\"\n};\nexport { EVENT };\n","function isMediaPlaying(media) {\n  return media && !media.paused && !media.ended && media.playbackRate !== 0 && media.readyState !== 0;\n}\nfunction getVideoPlaybackQuality(video) {\n  if (!video)\n    return {};\n  if (typeof video.getVideoPlaybackQuality === \"function\") {\n    var info = video.getVideoPlaybackQuality();\n    return {\n      droppedVideoFrames: info.droppedVideoFrames || info.corruptedVideoFrames,\n      totalVideoFrames: info.totalVideoFrames,\n      creationTime: info.creationTime\n    };\n  }\n  return {\n    droppedVideoFrames: video.webkitDroppedFrameCount,\n    totalVideoFrames: video.webkitDecodedFrameCount,\n    creationTime: performance.now()\n  };\n}\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  if (arr.length < 2)\n    return arr[0];\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nfunction sleep() {\n  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  return new Promise(function(resolve) {\n    return setTimeout(resolve, t);\n  });\n}\nexport { concatUint8Array, getVideoPlaybackQuality, isMediaPlaying, sleep };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"../event.js\";\nvar SeiService = /* @__PURE__ */ function() {\n  function SeiService2(emitter) {\n    var _this = this;\n    _classCallCheck(this, SeiService2);\n    _defineProperty(this, \"_seiSet\", /* @__PURE__ */ new Set());\n    this.emitter = emitter;\n    emitter.on(EVENT.SEI, function(sei) {\n      if (sei)\n        _this._seiSet.add(sei);\n    });\n  }\n  _createClass(SeiService2, [{\n    key: \"throw\",\n    value: function _throw(currentTime, isLive) {\n      var _this2 = this;\n      if (currentTime === null || currentTime === void 0 || !this._seiSet.size)\n        return;\n      var min = currentTime - 0.2;\n      var max = currentTime + 0.2;\n      var toThrow = [];\n      this._seiSet.forEach(function(sei) {\n        if (sei.time >= min && sei.time <= max) {\n          toThrow.push(sei);\n        }\n      });\n      toThrow.forEach(function(sei) {\n        _this2._seiSet.delete(sei);\n        _this2.emitter.emit(EVENT.SEI_IN_TIME, sei);\n      });\n      if (!isLive)\n        return;\n      this._seiSet.forEach(function(s) {\n        if (s.time < currentTime - 5) {\n          _this2._seiSet.delete(s);\n        }\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._seiSet.clear();\n    }\n  }]);\n  return SeiService2;\n}();\nexport { SeiService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"../buffer.js\";\nvar GapService = /* @__PURE__ */ function() {\n  function GapService2() {\n    _classCallCheck(this, GapService2);\n    _defineProperty(this, \"_prevCurrentTime\", 0);\n  }\n  _createClass(GapService2, [{\n    key: \"do\",\n    value: function _do(media) {\n      var maxJumpDistance = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n      var isLive = arguments.length > 2 ? arguments[2] : void 0;\n      var seekThreshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;\n      if (!media)\n        return;\n      var currentTime = media.currentTime;\n      var jumpTo = 0;\n      if (this._prevCurrentTime === currentTime) {\n        var info = Buffer.info(Buffer.get(media), currentTime);\n        if (!info.buffers.length)\n          return;\n        if (isLive && info.nextStart || info.nextStart && info.nextStart - currentTime < maxJumpDistance) {\n          jumpTo = info.nextStart + 0.1;\n        } else if (info.end && info.end - currentTime > seekThreshold && !media.seeking) {\n          jumpTo = currentTime + 0.1;\n        }\n      }\n      this._prevCurrentTime = currentTime;\n      if (jumpTo && currentTime !== jumpTo) {\n        media.currentTime = jumpTo;\n      }\n    }\n  }]);\n  return GapService2;\n}();\nexport { GapService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../mse.js\";\nimport { EVENT } from \"../event.js\";\nimport \"eventemitter3\";\nimport \"../logger.js\";\nimport \"../error.js\";\nvar Stats = /* @__PURE__ */ function() {\n  function Stats2(timescale) {\n    _classCallCheck(this, Stats2);\n    _defineProperty(this, \"encodeType\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"domain\", \"\");\n    _defineProperty(this, \"fps\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"samplerate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"gop\", 0);\n    _defineProperty(this, \"_bitsAccumulateSize\", 0);\n    _defineProperty(this, \"_bitsAccumulateDuration\", 0);\n    _defineProperty(this, \"_startGopId\", -1);\n    this._timescale = timescale;\n  }\n  _createClass(Stats2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return {\n        encodeType: this.encodeType,\n        audioCodec: this.audioCodec,\n        videoCodec: this.videoCodec,\n        domain: this.domain,\n        fps: this.fps,\n        bitrate: this.bitrate,\n        width: this.width,\n        height: this.height,\n        samplerate: this.samplerate,\n        channelCount: this.channelCount,\n        gop: this.gop\n      };\n    }\n  }, {\n    key: \"setEncodeType\",\n    value: function setEncodeType(encode) {\n      this.encodeType = encode;\n    }\n  }, {\n    key: \"setFpsFromScriptData\",\n    value: function setFpsFromScriptData(_ref) {\n      var _data$onMetaData;\n      var data = _ref.data;\n      var fps = data === null || data === void 0 ? void 0 : (_data$onMetaData = data.onMetaData) === null || _data$onMetaData === void 0 ? void 0 : _data$onMetaData.framerate;\n      if (fps && fps > 0 && fps < 100) {\n        this.fps = fps;\n      }\n    }\n  }, {\n    key: \"setVideoMeta\",\n    value: function setVideoMeta(track) {\n      this.width = track.width;\n      this.height = track.height;\n      this.videoCodec = track.codec;\n      this.encodeType = track.codecType;\n      if (track.fpsNum && track.fpsDen) {\n        var fps = track.fpsNum / track.fpsDen;\n        if (fps > 0 && fps < 100) {\n          this.fps = fps;\n        }\n      }\n    }\n  }, {\n    key: \"setAudioMeta\",\n    value: function setAudioMeta(track) {\n      this.audioCodec = track.codec;\n      this.samplerate = track.sampleRate;\n      this.channelCount = track.channelCount;\n    }\n  }, {\n    key: \"setDomain\",\n    value: function setDomain(responseUrl) {\n      this.domain = responseUrl.split(\"/\").slice(2, 3)[0];\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(samples) {\n      var _this = this;\n      if (!this.fps || this.fps >= 100) {\n        if (samples.length) {\n          var duration = samples.reduce(function(a, b) {\n            return a += b.duration;\n          }, 0) / samples.length;\n          this.fps = Math.round(this._timescale / duration);\n        }\n      }\n      samples.forEach(function(sample) {\n        if (_this._startGopId === -1) {\n          _this._startGopId = sample.gopId;\n        }\n        if (sample.gopId === _this._startGopId) {\n          _this.gop++;\n        }\n        _this._bitsAccumulateDuration += sample.duration / (_this._timescale / 1e3);\n        _this._bitsAccumulateSize += sample.units.reduce(function(a, c) {\n          return a += c.length;\n        }, 0);\n        if (_this._bitsAccumulateDuration >= 1e3) {\n          _this.bitrate = _this._bitsAccumulateSize * 8;\n          _this._bitsAccumulateDuration = 0;\n          _this._bitsAccumulateSize = 0;\n        }\n      });\n    }\n  }]);\n  return Stats2;\n}();\nvar MediaStatsService = /* @__PURE__ */ function() {\n  function MediaStatsService2(core) {\n    var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;\n    _classCallCheck(this, MediaStatsService2);\n    _defineProperty(this, \"_core\", null);\n    _defineProperty(this, \"_samples\", []);\n    this._core = core;\n    this._timescale = timescale;\n    this._stats = new Stats(timescale);\n    this._bindEvents();\n  }\n  _createClass(MediaStatsService2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      var _this$_core, _this$_core2, _this$_core2$speedInf, _this$_core3, _this$_core3$speedInf, _this$_core4, _this$_core4$speedInf, _this$_core5, _this$_core5$speedInf, _this$_core6, _this$_core6$bufferIn;\n      var _ref2 = ((_this$_core = this._core) === null || _this$_core === void 0 ? void 0 : _this$_core.media) || {}, _ref2$currentTime = _ref2.currentTime, currentTime = _ref2$currentTime === void 0 ? 0 : _ref2$currentTime, _ref2$decodeFps = _ref2.decodeFps, decodeFps = _ref2$decodeFps === void 0 ? 0 : _ref2$decodeFps;\n      return _objectSpread2(_objectSpread2({}, this._stats.getStats()), {}, {\n        downloadSpeed: ((_this$_core2 = this._core) === null || _this$_core2 === void 0 ? void 0 : (_this$_core2$speedInf = _this$_core2.speedInfo) === null || _this$_core2$speedInf === void 0 ? void 0 : _this$_core2$speedInf.call(_this$_core2).speed) || 0,\n        avgSpeed: ((_this$_core3 = this._core) === null || _this$_core3 === void 0 ? void 0 : (_this$_core3$speedInf = _this$_core3.speedInfo) === null || _this$_core3$speedInf === void 0 ? void 0 : _this$_core3$speedInf.call(_this$_core3).avgSpeed) || 0,\n        totalReceivedByte: ((_this$_core4 = this._core) === null || _this$_core4 === void 0 ? void 0 : (_this$_core4$speedInf = _this$_core4.speedInfo) === null || _this$_core4$speedInf === void 0 ? void 0 : _this$_core4$speedInf.call(_this$_core4).totalSize) || 0,\n        totalReceivedCost: ((_this$_core5 = this._core) === null || _this$_core5 === void 0 ? void 0 : (_this$_core5$speedInf = _this$_core5.speedInfo) === null || _this$_core5$speedInf === void 0 ? void 0 : _this$_core5$speedInf.call(_this$_core5).totalCost) || 0,\n        currentTime,\n        bufferEnd: ((_this$_core6 = this._core) === null || _this$_core6 === void 0 ? void 0 : (_this$_core6$bufferIn = _this$_core6.bufferInfo()) === null || _this$_core6$bufferIn === void 0 ? void 0 : _this$_core6$bufferIn.remaining) || 0,\n        decodeFps\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n      this._core.on(EVENT.DEMUXED_TRACK, function(_ref3) {\n        var videoTrack = _ref3.videoTrack;\n        return _this2._stats.updateBitrate(videoTrack.samples);\n      });\n      this._core.on(EVENT.FLV_SCRIPT_DATA, function(data) {\n        _this2._stats.setFpsFromScriptData(data);\n      });\n      this._core.on(EVENT.METADATA_PARSED, function(e) {\n        if (e.type === \"video\") {\n          _this2._stats.setVideoMeta(e.track);\n        } else {\n          _this2._stats.setAudioMeta(e.track);\n        }\n      });\n      this._core.on(EVENT.TTFB, function(e) {\n        _this2._stats.setDomain(e.responseUrl);\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._samples = [];\n      this._stats = new Stats(this._timescale);\n    }\n  }]);\n  return MediaStatsService2;\n}();\nexport { MediaStatsService };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _unsupportedIterableToArray as unsupportedIterableToArray };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n  }\n  _createClass(Logger2, [{\n    key: \"warn\",\n    value: function warn() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).warn.apply(_console, [this._prefix].concat(args));\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","var TrackType = {\n  VIDEO: \"video\",\n  AUDIO: \"audio\",\n  METADATA: \"metadata\"\n};\nvar VideoCodecType = {\n  AV1: \"av1\",\n  AVC: \"avc\",\n  HEVC: \"hevc\"\n};\nvar AudioCodecType = {\n  AAC: \"aac\",\n  G711PCMA: \"g7110a\",\n  G711PCMU: \"g7110m\",\n  OPUS: \"opus\"\n};\nvar WarningType = {\n  LARGE_AV_SHIFT: \"LARGE_AV_SHIFT\",\n  LARGE_VIDEO_GAP: \"LARGE_VIDEO_GAP\",\n  LARGE_VIDEO_GAP_BETWEEN_CHUNK: \"LARGE_VIDEO_GAP_BETWEEN_CHUNK\",\n  LARGE_AUDIO_GAP: \"LARGE_AUDIO_GAP\",\n  AUDIO_FILLED: \"AUDIO_FILLED\",\n  AUDIO_DROPPED: \"AUDIO_DROPPED\"\n};\nexport { AudioCodecType, TrackType, VideoCodecType, WarningType };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar AudioSample = /* @__PURE__ */ _createClass(\n  function AudioSample2(pts, data, duration, sampleOffset) {\n    _classCallCheck(this, AudioSample2);\n    _defineProperty(this, \"duration\", 1024);\n    _defineProperty(this, \"flag\", {\n      dependsOn: 2,\n      isNonSyncSample: 0\n    });\n    _defineProperty(this, \"keyframe\", true);\n    this.originPts = this.pts = this.dts = pts;\n    this.data = data;\n    this.size = data.byteLength;\n    this.sampleOffset = sampleOffset;\n    if (duration)\n      this.duration = duration;\n  }\n);\nexport { AudioSample };\n","var isBrowser = typeof window !== \"undefined\";\nvar ua = isBrowser && navigator.userAgent.toLocaleLowerCase();\nvar isSafari = isBrowser && /^((?!chrome|android).)*safari/.test(ua);\nvar isFirefox = isBrowser && ua.includes(\"firefox\");\nvar isAndroid = isBrowser && ua.includes(\"android\");\nexport { isAndroid, isBrowser, isFirefox, isSafari };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../utils/logger.js\";\nimport { isFirefox, isAndroid } from \"../utils/env.js\";\nvar AAC = /* @__PURE__ */ function() {\n  function AAC2() {\n    _classCallCheck(this, AAC2);\n  }\n  _createClass(AAC2, null, [{\n    key: \"getRateIndexByRate\",\n    value: function getRateIndexByRate(rate) {\n      return AAC2.FREQ.indexOf(rate);\n    }\n  }, {\n    key: \"parseADTS\",\n    value: function parseADTS(data, pts) {\n      var len = data.length;\n      var i = 0;\n      while (i + 2 < len) {\n        if (data[i] === 255 && (data[i + 1] & 246) === 240) {\n          break;\n        }\n        i++;\n      }\n      if (i >= len)\n        return;\n      var skip = i;\n      var frames = [];\n      var samplingFrequencyIndex = (data[i + 2] & 60) >>> 2;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        throw new Error(\"Invalid sampling index: \".concat(samplingFrequencyIndex));\n      var objectType = ((data[i + 2] & 192) >>> 6) + 1;\n      var channelCount = (data[i + 2] & 1) << 2 | (data[i + 3] & 192) >>> 6;\n      var _AAC$_getConfig = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig.config, codec = _AAC$_getConfig.codec;\n      var protectionSkipBytes;\n      var frameLength;\n      var frameIndex = 0;\n      var duration = AAC2.getFrameDuration(sampleRate);\n      while (i + 7 < len) {\n        if (data[i] !== 255 || (data[i + 1] & 246) !== 240) {\n          i++;\n          continue;\n        }\n        frameLength = (data[i + 3] & 3) << 11 | data[i + 4] << 3 | (data[i + 5] & 224) >> 5;\n        if (!frameLength || len - i < frameLength)\n          break;\n        protectionSkipBytes = (~data[i + 1] & 1) * 2;\n        frames.push({\n          pts: pts + frameIndex * duration,\n          data: data.subarray(i + 7 + protectionSkipBytes, i + frameLength)\n        });\n        frameIndex++;\n        i += frameLength;\n      }\n      return {\n        skip,\n        remaining: i >= len ? void 0 : data.subarray(i),\n        frames,\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        codec,\n        config,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"parseAudioSpecificConfig\",\n    value: function parseAudioSpecificConfig(data) {\n      if (!data.length)\n        return;\n      var objectType = data[0] >>> 3;\n      var samplingFrequencyIndex = (data[0] & 7) << 1 | data[1] >>> 7;\n      var channelCount = (data[1] & 120) >>> 3;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        return;\n      var _AAC$_getConfig2 = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig2.config, codec = _AAC$_getConfig2.codec;\n      return {\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        config,\n        codec,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getFrameDuration\",\n    value: function getFrameDuration(rate) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      return 1024 * timescale / rate;\n    }\n  }, {\n    key: \"_getConfig\",\n    value: function _getConfig(samplingIndex, channelCount, originObjectType) {\n      var config = [];\n      var objectType;\n      var extensionSamplingIndex;\n      if (isFirefox) {\n        if (samplingIndex >= 6) {\n          objectType = 5;\n          extensionSamplingIndex = samplingIndex - 3;\n        } else {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      } else if (isAndroid) {\n        objectType = 2;\n        extensionSamplingIndex = samplingIndex;\n      } else {\n        objectType = originObjectType === 2 || originObjectType === 5 ? originObjectType : 5;\n        extensionSamplingIndex = samplingIndex;\n        if (samplingIndex >= 6) {\n          extensionSamplingIndex = samplingIndex - 3;\n        } else if (channelCount === 1) {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      }\n      config[0] = objectType << 3;\n      config[0] |= (samplingIndex & 14) >> 1;\n      config[1] = (samplingIndex & 1) << 7;\n      config[1] |= channelCount << 3;\n      if (objectType === 5) {\n        config[1] |= (extensionSamplingIndex & 14) >> 1;\n        config[2] = (extensionSamplingIndex & 1) << 7;\n        config[2] |= 2 << 2;\n        config[3] = 0;\n      }\n      return {\n        config,\n        codec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getSilentFrame\",\n    value: function getSilentFrame(codec, channelCount) {\n      switch (codec) {\n        case \"mp4a.40.2\":\n          if (channelCount === 1) {\n            return new Uint8Array([0, 200, 0, 128, 35, 128]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);\n          }\n          if (channelCount === 4) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);\n          }\n          if (channelCount === 5) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);\n          }\n          if (channelCount === 6) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);\n          }\n          break;\n        default:\n          if (channelCount === 1) {\n            return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          break;\n      }\n    }\n  }]);\n  return AAC2;\n}();\n_defineProperty(AAC, \"FREQ\", [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]);\nexport { AAC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType } from \"../model/types.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport \"../utils/logger.js\";\nimport { isSafari } from \"../utils/env.js\";\nvar LARGE_AV_FIRST_FRAME_GAP = 9e4 / 2;\nvar AUDIO_GAP_OVERLAP_THRESHOLD_COUNT = 3;\nvar MAX_SILENT_FRAME_DURATION = 9e4;\nvar AUDIO_EXCETION_LOG_EMIT_DURATION = 5 * 9e4;\nvar MAX_VIDEO_FRAME_DURATION = 9e4;\nvar MAX_DTS_DELTA_WITH_NEXT_CHUNK = 9e4 / 2;\nvar LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD = 9e4 * 5;\nvar TsFixer = /* @__PURE__ */ function() {\n  function TsFixer2(videoTrack, audioTrack, metadataTrack, fixerConfig) {\n    _classCallCheck(this, TsFixer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    this.metadataTrack = metadataTrack;\n    this._baseDts = -1;\n    this._baseVideoDts = -1;\n    this._baseAudioDts = -1;\n    this._baseDtsInited = false;\n    this._audioNextPts = void 0;\n    this._videoNextDts = void 0;\n    this._audioTimestampBreak = false;\n    this._videoTimestampBreak = false;\n    this._lastAudioExceptionGapDot = 0;\n    this._lastAudioExceptionOverlapDot = 0;\n    this._lastAudioExceptionLargeGapDot = 0;\n    this._needForceFixLargeGap = fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.forceFixLargeGap;\n    this._largeGapThreshold = (fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.largeGapThreshold) || LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD;\n  }\n  _createClass(TsFixer2, [{\n    key: \"fix\",\n    value: function fix() {\n      var _this = this;\n      var startTime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      startTime = Math.round(startTime * 9e4);\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var vSamples = videoTrack.samples;\n      var aSamples = audioTrack.samples;\n      if (!vSamples.length && !aSamples.length)\n        return;\n      var firstVideoSample = vSamples[0];\n      var firstAudioSample = aSamples[0];\n      var vaDelta = 0;\n      if (vSamples.length && aSamples.length) {\n        vaDelta = firstVideoSample.dts - firstAudioSample.pts;\n      }\n      if (!this._baseDtsInited) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n      }\n      if (discontinuity) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        this._baseDts -= startTime;\n        this._baseAudioDts -= startTime;\n        this._baseVideoDts -= startTime;\n      }\n      if (!contiguous) {\n        this._videoNextDts = vaDelta > 0 ? startTime + vaDelta : startTime;\n        this._audioNextPts = vaDelta > 0 ? startTime : startTime - vaDelta;\n        if (this._needForceFixLargeGap) {\n          this._videoNextDts = 0;\n          this._audioNextPts = 0;\n        }\n        var vDeltaToNextDts = firstVideoSample ? firstVideoSample.dts - this._baseDts - this._videoNextDts : 0;\n        var aDeltaToNextDts = firstAudioSample ? firstAudioSample.pts - this._baseDts - this._audioNextPts : 0;\n        if (Math.abs(vDeltaToNextDts || aDeltaToNextDts) > MAX_VIDEO_FRAME_DURATION) {\n          this._calculateBaseDts(this.audioTrack, this.videoTrack);\n          this._baseDts -= startTime;\n        }\n      }\n      this._resetBaseDtsWhenStreamBreaked();\n      this._fixAudio(audioTrack);\n      this._fixVideo(videoTrack);\n      if (this.metadataTrack.exist()) {\n        var timescale = this.metadataTrack.timescale;\n        this.metadataTrack.seiSamples.forEach(function(s) {\n          s.pts = s.originPts - _this._baseDts;\n          s.time = Math.max(0, s.pts) / timescale;\n        });\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].dts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts * audioTrack.timescale / 9e4;\n      }\n    }\n  }, {\n    key: \"_fixVideo\",\n    value: function _fixVideo(videoTrack) {\n      var _this2 = this;\n      var samples = videoTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.dts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n        x.pts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n      });\n      if (this._videoNextDts === void 0) {\n        var samp0 = samples[0];\n        this._videoNextDts = samp0.dts;\n      }\n      var len = samples.length;\n      var sampleDuration = 0;\n      var firstSample = samples[0];\n      var nextSample = samples[1];\n      var vDelta = this._videoNextDts - firstSample.dts;\n      if (Math.abs(vDelta) > MAX_DTS_DELTA_WITH_NEXT_CHUNK) {\n        var _samples$;\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK,\n          nextDts: this._videoNextDts / 90,\n          firstSampleDts: firstSample.dts / 90,\n          nextSampleDts: (((_samples$ = samples[1]) === null || _samples$ === void 0 ? void 0 : _samples$.dts) || 0) / 90,\n          sampleDuration: vDelta / 90\n        });\n        firstSample.dts += vDelta;\n        firstSample.pts += vDelta;\n        if (nextSample && Math.abs(nextSample.dts - firstSample.dts) > MAX_VIDEO_FRAME_DURATION) {\n          this._videoTimestampBreak = true;\n          samples.forEach(function(x, i2) {\n            if (i2 === 0)\n              return;\n            x.dts += vDelta;\n            x.pts += vDelta;\n          });\n        } else {\n          for (var i = 1; i < len - 1; i++) {\n            var _samples$i;\n            var dts = (_samples$i = samples[i]) === null || _samples$i === void 0 ? void 0 : _samples$i.dts;\n            var prevDts = samples[i - 1].dts;\n            if (dts && dts - prevDts < 0) {\n              samples[i].dts += vDelta;\n              samples[i].pts += vDelta;\n            }\n          }\n        }\n      }\n      var refSampleDurationInt;\n      if (videoTrack.fpsNum && videoTrack.fpsDen) {\n        refSampleDurationInt = videoTrack.timescale * (videoTrack.fpsDen / videoTrack.fpsNum);\n      }\n      if (refSampleDurationInt < 90 * 10) {\n        refSampleDurationInt = 0;\n      }\n      if (!refSampleDurationInt) {\n        var first = videoTrack.samples[0];\n        var second = videoTrack.samples[1];\n        refSampleDurationInt = len === 1 ? 9e3 : Math.floor(second.dts - first.dts);\n      }\n      for (var _i = 0; _i < len; _i++) {\n        var _dts = samples[_i].dts;\n        var _nextSample = samples[_i + 1];\n        if (_i < len - 1) {\n          sampleDuration = _nextSample.dts - _dts;\n        } else if (samples[_i - 1]) {\n          sampleDuration = Math.min(_dts - samples[_i - 1].dts, refSampleDurationInt);\n        } else {\n          sampleDuration = refSampleDurationInt;\n        }\n        if (sampleDuration > MAX_VIDEO_FRAME_DURATION || sampleDuration < 0) {\n          this._videoTimestampBreak = true;\n          sampleDuration = this._audioTimestampBreak ? refSampleDurationInt : Math.max(sampleDuration, 30 * 90);\n          var expectFragEnd = this._audioNextPts || 0;\n          if (_nextSample && _nextSample.dts > expectFragEnd) {\n            sampleDuration = refSampleDurationInt;\n          }\n          videoTrack.warnings.push({\n            type: WarningType.LARGE_VIDEO_GAP,\n            time: _dts / videoTrack.timescale,\n            dts: _dts,\n            originDts: samples[_i].originDts,\n            nextDts: this._videoNextDts,\n            sampleDuration,\n            refSampleDuration: refSampleDurationInt\n          });\n        }\n        samples[_i].duration = sampleDuration;\n        this._videoNextDts += sampleDuration;\n      }\n    }\n  }, {\n    key: \"_fixAudio\",\n    value: function _fixAudio(audioTrack) {\n      var _this3 = this;\n      var samples = audioTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.pts -= _this3._needForceFixLargeGap ? _this3._baseAudioDts : _this3._baseDts;\n        x.dts = x.pts;\n      });\n      this._doFixAudioInternal(audioTrack, samples, 9e4);\n    }\n  }, {\n    key: \"_calculateBaseDts\",\n    value: function _calculateBaseDts(audioTrack, videoTrack) {\n      var audioSamps = audioTrack.samples;\n      var videoSamps = videoTrack.samples;\n      if (!audioSamps.length && !videoSamps.length) {\n        return false;\n      }\n      var audioBasePts = Infinity;\n      var videoBaseDts = Infinity;\n      if (audioSamps.length) {\n        audioTrack.baseDts = audioBasePts = audioSamps[0].pts;\n        this._baseAudioDts = audioBasePts;\n      }\n      if (videoSamps.length) {\n        videoTrack.baseDts = videoBaseDts = videoSamps[0].dts;\n        this._baseVideoDts = videoBaseDts;\n      }\n      this._baseDts = Math.min(audioBasePts, videoBaseDts);\n      var delta = videoBaseDts - audioBasePts;\n      var largeGap = false;\n      if (Number.isFinite(delta) && Math.abs(delta) > LARGE_AV_FIRST_FRAME_GAP) {\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_AV_SHIFT,\n          videoBaseDts,\n          audioBasePts,\n          baseDts: this._baseDts,\n          delta\n        });\n      }\n      if (Number.isFinite(delta) && Math.abs(delta) > this._largeGapThreshold * MAX_SILENT_FRAME_DURATION) {\n        largeGap = true;\n      }\n      if (!this._baseDtsInited) {\n        if (largeGap && this._needForceFixLargeGap) {\n          this._needForceFixLargeGap = true;\n        } else {\n          this._needForceFixLargeGap = false;\n        }\n      }\n      this._baseDtsInited = true;\n      return true;\n    }\n  }, {\n    key: \"_resetBaseDtsWhenStreamBreaked\",\n    value: function _resetBaseDtsWhenStreamBreaked() {\n      if (this._baseDtsInited && this._videoTimestampBreak && this._audioTimestampBreak) {\n        var calc = this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        if (!calc)\n          return;\n        this._baseDts -= Math.min(this._audioNextPts, this._videoNextDts);\n        this._audioLastSample = null;\n        this._videoLastSample = null;\n        this._videoTimestampBreak = false;\n        this._audioTimestampBreak = false;\n      }\n    }\n  }, {\n    key: \"_doFixAudioInternal\",\n    value: function _doFixAudioInternal(audioTrack, samples, timescale) {\n      if (!audioTrack.sampleDuration)\n        audioTrack.sampleDuration = AAC.getFrameDuration(audioTrack.timescale, timescale);\n      var refSampleDuration = audioTrack.sampleDuration;\n      if (this._audioNextPts === void 0) {\n        var samp0 = samples[0];\n        this._audioNextPts = samp0.pts;\n      }\n      for (var i = 0; i < samples.length; i++) {\n        var nextPts = this._audioNextPts;\n        var sample = samples[i];\n        var delta = sample.pts - nextPts;\n        if (!this._audioTimestampBreak && delta >= AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta <= MAX_SILENT_FRAME_DURATION && !isSafari) {\n          var silentFrame = AAC.getSilentFrame(audioTrack.codec, audioTrack.channelCount) || samples[0].data.subarray();\n          var count = Math.floor(delta / refSampleDuration);\n          if (Math.abs(sample.pts - this._lastAudioExceptionGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionGapDot = sample.pts;\n          }\n          audioTrack.warnings.push({\n            type: WarningType.AUDIO_FILLED,\n            pts: sample.pts / 90,\n            originPts: sample.originPts,\n            count,\n            nextPts: nextPts / 90,\n            refSampleDuration\n          });\n          for (var j = 0; j < count; j++) {\n            var silentSample = new AudioSample(Math.floor(nextPts), silentFrame);\n            silentSample.originPts = Math.floor(this._baseDts + nextPts);\n            samples.splice(i, 0, silentSample);\n            this._audioNextPts += refSampleDuration;\n            i++;\n          }\n          i--;\n        } else if (delta <= -AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta >= -1 * MAX_SILENT_FRAME_DURATION) {\n          if (Math.abs(sample.pts - this._lastAudioExceptionOverlapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionOverlapDot = sample.pts;\n            audioTrack.warnings.push({\n              type: WarningType.AUDIO_DROPPED,\n              pts: sample.pts / 90,\n              originPts: sample.originPts,\n              nextPts: nextPts / 90,\n              refSampleDuration\n            });\n          }\n          samples.splice(i, 1);\n          i--;\n        } else {\n          if (Math.abs(delta) >= MAX_SILENT_FRAME_DURATION) {\n            this._audioTimestampBreak = true;\n            if (Math.abs(sample.pts - this._lastAudioExceptionLargeGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n              this._lastAudioExceptionLargeGapDot = sample.pts;\n              audioTrack.warnings.push({\n                type: WarningType.LARGE_AUDIO_GAP,\n                time: sample.pts / 1e3,\n                pts: sample.pts / 90,\n                originPts: sample.originPts,\n                nextPts: nextPts / 90,\n                sampleDuration: delta,\n                refSampleDuration\n              });\n            }\n          }\n          sample.dts = sample.pts = nextPts;\n          this._audioNextPts += refSampleDuration;\n        }\n      }\n    }\n  }]);\n  return TsFixer2;\n}();\nexport { TsFixer };\n","export { Logger } from \"./logger.js\";\nexport { isAndroid, isBrowser, isFirefox, isSafari } from \"./env.js\";\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nvar MAX_SIZE = Math.pow(2, 32);\nfunction readBig16(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 8) + (data[i + 1] || 0);\n}\nfunction readBig24(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 16) + (data[i + 1] << 8) + (data[i + 2] || 0);\n}\nfunction readBig32(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 24 >>> 0) + (data[i + 1] << 16) + (data[i + 2] << 8) + (data[i + 3] || 0);\n}\nfunction readBig64(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return readBig32(data, i) * MAX_SIZE + readBig32(data, i + 4);\n}\nfunction getAvcCodec(codecs) {\n  var codec = \"avc1.\";\n  var h;\n  for (var i = 0; i < 3; i++) {\n    h = codecs[i].toString(16);\n    if (h.length < 2)\n      h = \"0\".concat(h);\n    codec += h;\n  }\n  return codec;\n}\nfunction formatIV(arr) {\n  var iv = \"\";\n  arr.forEach(function(value) {\n    iv += bufferToString(value);\n  });\n  if (iv.length <= 32) {\n    var len = 32 - iv.length;\n    for (var i = 0; i < len; i++) {\n      iv += \"0\";\n    }\n  }\n  return iv;\n}\nfunction parse(a) {\n  if (!Array.isArray(a)) {\n    var arr = [];\n    var value = \"\";\n    for (var i = 0; i < a.length; i++) {\n      if (i % 2) {\n        value = a[i - 1] + a[i];\n        arr.push(parseInt(value, 16));\n        value = \"\";\n      }\n    }\n    return arr;\n  }\n  return a.map(function(item) {\n    return parseInt(item, 16);\n  });\n}\nfunction bufferToString(value) {\n  return (\"0\" + Number(value).toString(16)).slice(-2).toUpperCase();\n}\nfunction combineToFloat(integer, decimal) {\n  return Number(integer + \".\" + decimal);\n}\nfunction toDegree(matrix) {\n  if (matrix.length < 5)\n    return 0;\n  var scaled0 = Math.hypot(matrix[0], matrix[3]), scaled1 = Math.hypot(matrix[1], matrix[4]);\n  return 0 === scaled0 || 0 === scaled1 ? 0 : 180 * Math.atan2(matrix[1] / scaled1, matrix[0] / scaled0) / Math.PI;\n}\nexport { MAX_SIZE, combineToFloat, concatUint8Array, formatIV, getAvcCodec, parse, readBig16, readBig24, readBig32, readBig64, toDegree };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { readBig32 } from \"../utils/index.js\";\nvar NALu = /* @__PURE__ */ function() {\n  function NALu2() {\n    _classCallCheck(this, NALu2);\n  }\n  _createClass(NALu2, null, [{\n    key: \"parseAnnexB\",\n    value: function parseAnnexB(data) {\n      var len = data.length;\n      var start = 2;\n      var end = 0;\n      while (data[start] !== null && data[start] !== void 0 && data[start] !== 1) {\n        start++;\n      }\n      start++;\n      end = start + 2;\n      if (end >= len)\n        return [];\n      var units = [];\n      while (end < len) {\n        switch (data[end]) {\n          case 0:\n            if (data[end - 1] !== 0) {\n              end += 2;\n              break;\n            } else if (data[end - 2] !== 0) {\n              end++;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            do {\n              end++;\n            } while (data[end] !== 1 && end < len);\n            start = end + 1;\n            end = start + 2;\n            break;\n          case 1:\n            if (data[end - 1] !== 0 || data[end - 2] !== 0) {\n              end += 3;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            start = end + 1;\n            end = start + 2;\n            break;\n          default:\n            end += 3;\n            break;\n        }\n      }\n      if (start < len)\n        units.push(data.subarray(start));\n      return units;\n    }\n  }, {\n    key: \"parseAvcC\",\n    value: function parseAvcC(data) {\n      var size = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 4;\n      if (data.length < 4)\n        return;\n      var dataLen = data.length;\n      var units = [];\n      var offset = 0;\n      var length;\n      while (offset + size < dataLen) {\n        length = readBig32(data, offset);\n        if (size === 3)\n          length >>>= 8;\n        offset += size;\n        if (!length)\n          continue;\n        if (offset + length > dataLen) {\n          break;\n        }\n        units.push(data.subarray(offset, offset + length));\n        offset += length;\n      }\n      return units;\n    }\n  }, {\n    key: \"parseSEI\",\n    value: function parseSEI(unit, isHevc) {\n      var len = unit.length;\n      var i = isHevc ? 2 : 1;\n      var type = 0;\n      var size = 0;\n      var uuid = \"\";\n      while (unit[i] === 255) {\n        type += 255;\n        i++;\n      }\n      type += unit[i++];\n      while (unit[i] === 255) {\n        size += 255;\n        i++;\n      }\n      size += unit[i++];\n      if (type === 5 && len > i + 16) {\n        for (var j = 0; j < 16; j++) {\n          uuid += unit[i].toString(16);\n          i++;\n        }\n      }\n      return {\n        payload: unit.subarray(i, i + size),\n        type,\n        size,\n        uuid\n      };\n    }\n  }, {\n    key: \"removeEPB\",\n    value: function removeEPB(uint) {\n      var length = uint.byteLength;\n      var emulationPreventionBytesPositions = [];\n      var i = 1;\n      while (i < length - 2) {\n        if (uint[i] === 0 && uint[i + 1] === 0 && uint[i + 2] === 3) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n      if (!emulationPreventionBytesPositions.length)\n        return uint;\n      var newLength = length - emulationPreventionBytesPositions.length;\n      var newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          sourceIndex++;\n          emulationPreventionBytesPositions.shift();\n        }\n        newData[i] = uint[sourceIndex];\n      }\n      return newData;\n    }\n  }]);\n  return NALu2;\n}();\nexport { NALu };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ExpGolomb = /* @__PURE__ */ function() {\n  function ExpGolomb2(data) {\n    _classCallCheck(this, ExpGolomb2);\n    _defineProperty(this, \"_bytesAvailable\", void 0);\n    _defineProperty(this, \"_bitsAvailable\", 0);\n    _defineProperty(this, \"_word\", 0);\n    if (!data)\n      throw new Error(\"ExpGolomb data params is required\");\n    this._data = data;\n    this._bytesAvailable = data.byteLength;\n    if (this._bytesAvailable)\n      this._loadWord();\n  }\n  _createClass(ExpGolomb2, [{\n    key: \"bitsAvailable\",\n    get: function get() {\n      return this._bitsAvailable;\n    }\n  }, {\n    key: \"_loadWord\",\n    value: function _loadWord() {\n      var position = this._data.byteLength - this._bytesAvailable;\n      var availableBytes = Math.min(4, this._bytesAvailable);\n      if (availableBytes === 0)\n        throw new Error(\"No bytes available\");\n      var workingBytes = new Uint8Array(4);\n      workingBytes.set(this._data.subarray(position, position + availableBytes));\n      this._word = new DataView(workingBytes.buffer).getUint32(0);\n      this._bitsAvailable = availableBytes * 8;\n      this._bytesAvailable -= availableBytes;\n    }\n  }, {\n    key: \"skipBits\",\n    value: function skipBits(count) {\n      if (this._bitsAvailable > count) {\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      } else {\n        count -= this._bitsAvailable;\n        var skipBytes = Math.floor(count / 8);\n        count -= skipBytes * 8;\n        this._bytesAvailable -= skipBytes;\n        this._loadWord();\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      }\n    }\n  }, {\n    key: \"readBits\",\n    value: function readBits(size) {\n      if (size > 32) {\n        throw new Error(\"Cannot read more than 32 bits\");\n      }\n      var bits = Math.min(this._bitsAvailable, size);\n      var val = this._word >>> 32 - bits;\n      this._bitsAvailable -= bits;\n      if (this._bitsAvailable > 0) {\n        this._word <<= bits;\n      } else if (this._bytesAvailable > 0) {\n        this._loadWord();\n      }\n      bits = size - bits;\n      if (bits > 0 && this._bitsAvailable) {\n        return val << bits | this.readBits(bits);\n      }\n      return val;\n    }\n  }, {\n    key: \"skipLZ\",\n    value: function skipLZ() {\n      var leadingZeroCount;\n      for (leadingZeroCount = 0; leadingZeroCount < this._bitsAvailable; ++leadingZeroCount) {\n        if ((this._word & 2147483648 >>> leadingZeroCount) !== 0) {\n          this._word <<= leadingZeroCount;\n          this._bitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n      this._loadWord();\n      return leadingZeroCount + this.skipLZ();\n    }\n  }, {\n    key: \"skipUEG\",\n    value: function skipUEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n  }, {\n    key: \"readUEG\",\n    value: function readUEG() {\n      var clz = this.skipLZ();\n      return this.readBits(clz + 1) - 1;\n    }\n  }, {\n    key: \"readEG\",\n    value: function readEG() {\n      var val = this.readUEG();\n      if (1 & val) {\n        return 1 + val >>> 1;\n      }\n      return -1 * (val >>> 1);\n    }\n  }, {\n    key: \"readBool\",\n    value: function readBool() {\n      return this.readBits(1) === 1;\n    }\n  }, {\n    key: \"readUByte\",\n    value: function readUByte() {\n      return this.readBits(8);\n    }\n  }, {\n    key: \"skipScalingList\",\n    value: function skipScalingList(count) {\n      var lastScale = 8;\n      var nextScale = 8;\n      var deltaScale;\n      for (var j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = this.readEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n  }]);\n  return ExpGolomb2;\n}();\nexport { ExpGolomb };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { getAvcCodec } from \"../utils/index.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nvar AVC = /* @__PURE__ */ function() {\n  function AVC2() {\n    _classCallCheck(this, AVC2);\n  }\n  _createClass(AVC2, null, [{\n    key: \"parseAVCDecoderConfigurationRecord\",\n    value: function parseAVCDecoderConfigurationRecord(data) {\n      if (data.length < 7)\n        return;\n      var nalUnitSize = (data[4] & 3) + 1;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var offset = 6;\n      var spsCount = data[5] & 31;\n      var spsSize;\n      for (var i = 0; i < spsCount; i++) {\n        spsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!spsSize)\n          continue;\n        var sps = data.subarray(offset, offset + spsSize);\n        offset += spsSize;\n        spsArr.push(sps);\n        if (!spsParsed) {\n          spsParsed = AVC2.parseSPS(NALu.removeEPB(sps));\n        }\n      }\n      var ppsCount = data[offset];\n      offset++;\n      var ppsSize;\n      for (var _i = 0; _i < ppsCount; _i++) {\n        ppsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!ppsSize)\n          continue;\n        ppsArr.push(data.subarray(offset, offset + ppsSize));\n        offset += ppsSize;\n      }\n      return {\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      var profileIdc = eg.readUByte();\n      var profileCompatibility = eg.readUByte();\n      var levelIdc = eg.readUByte();\n      eg.skipUEG();\n      var chromaFormat = 420;\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128 || profileIdc === 138 || profileIdc === 144) {\n        var chromaFormatIdc = eg.readUEG();\n        if (chromaFormatIdc <= 3)\n          chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n        if (chromaFormatIdc === 3)\n          eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        eg.skipBits(1);\n        if (eg.readBool()) {\n          var scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n          for (var i = 0; i < scalingListCount; i++) {\n            if (eg.readBool()) {\n              if (i < 6) {\n                eg.skipScalingList(16);\n              } else {\n                eg.skipScalingList(64);\n              }\n            }\n          }\n        }\n      }\n      eg.skipUEG();\n      var picOrderCntType = eg.readUEG();\n      if (picOrderCntType === 0) {\n        eg.readUEG();\n      } else if (picOrderCntType === 1) {\n        eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        var numRefFramesInPicOrderCntCycle = eg.readUEG();\n        for (var _i2 = 0; _i2 < numRefFramesInPicOrderCntCycle; _i2++) {\n          eg.skipUEG();\n        }\n      }\n      eg.skipUEG();\n      eg.skipBits(1);\n      var picWidthInMbsMinus1 = eg.readUEG();\n      var picHeightInMapUnitsMinus1 = eg.readUEG();\n      var frameMbsOnlyFlag = eg.readBits(1);\n      if (frameMbsOnlyFlag === 0)\n        eg.skipBits(1);\n      eg.skipBits(1);\n      var frameCropLeftOffset = 0;\n      var frameCropRightOffset = 0;\n      var frameCropTopOffset = 0;\n      var frameCropBottomOffset = 0;\n      if (eg.readBool()) {\n        frameCropLeftOffset = eg.readUEG();\n        frameCropRightOffset = eg.readUEG();\n        frameCropTopOffset = eg.readUEG();\n        frameCropBottomOffset = eg.readUEG();\n      }\n      var sarRatio;\n      var fixedFrame;\n      var fpsNum;\n      var fpsDen;\n      var fps;\n      if (eg.readBool()) {\n        if (eg.readBool()) {\n          var aspectRatioIdc = eg.readUByte();\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];\n              break;\n            case 2:\n              sarRatio = [12, 11];\n              break;\n            case 3:\n              sarRatio = [10, 11];\n              break;\n            case 4:\n              sarRatio = [16, 11];\n              break;\n            case 5:\n              sarRatio = [40, 33];\n              break;\n            case 6:\n              sarRatio = [24, 11];\n              break;\n            case 7:\n              sarRatio = [20, 11];\n              break;\n            case 8:\n              sarRatio = [32, 11];\n              break;\n            case 9:\n              sarRatio = [80, 33];\n              break;\n            case 10:\n              sarRatio = [18, 11];\n              break;\n            case 11:\n              sarRatio = [15, 11];\n              break;\n            case 12:\n              sarRatio = [64, 33];\n              break;\n            case 13:\n              sarRatio = [160, 99];\n              break;\n            case 14:\n              sarRatio = [4, 3];\n              break;\n            case 15:\n              sarRatio = [3, 2];\n              break;\n            case 16:\n              sarRatio = [2, 1];\n              break;\n            case 255: {\n              sarRatio = [eg.readUByte() << 8 | eg.readUByte(), eg.readUByte() << 8 | eg.readUByte()];\n              break;\n            }\n          }\n        }\n        if (eg.readBool())\n          eg.readBool();\n        if (eg.readBool()) {\n          eg.readBits(4);\n          if (eg.readBool())\n            eg.readBits(24);\n        }\n        if (eg.readBool()) {\n          eg.readUEG();\n          eg.readUEG();\n        }\n        if (eg.readBool()) {\n          var numUnitsInTick = eg.readBits(32);\n          var timeScale = eg.readBits(32);\n          fixedFrame = eg.readBool();\n          fpsNum = timeScale;\n          fpsDen = numUnitsInTick * 2;\n          fps = fpsNum / fpsDen;\n        }\n      }\n      return {\n        codec: getAvcCodec(unit.subarray(1, 4)),\n        profileIdc,\n        profileCompatibility,\n        levelIdc,\n        chromaFormat,\n        width: Math.ceil((picWidthInMbsMinus1 + 1) * 16 - 2 * (frameCropLeftOffset + frameCropRightOffset)),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset),\n        sarRatio,\n        fpsNum,\n        fpsDen,\n        fps,\n        fixedFrame\n      };\n    }\n  }]);\n  return AVC2;\n}();\nexport { AVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nimport \"../utils/logger.js\";\nimport \"../utils/env.js\";\nvar HEVC = /* @__PURE__ */ function() {\n  function HEVC2() {\n    _classCallCheck(this, HEVC2);\n  }\n  _createClass(HEVC2, null, [{\n    key: \"parseHEVCDecoderConfigurationRecord\",\n    value: function parseHEVCDecoderConfigurationRecord(data) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (data.length < 23)\n        return;\n      hvcC = hvcC || {};\n      var nalUnitSize = (data[21] & 3) + 1;\n      var vpsParsed;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var vpsArr = [];\n      var offset = 23;\n      var numOfArrays = data[22];\n      var nalUnitType;\n      var numNalus;\n      var nalSize;\n      for (var i = 0; i < numOfArrays; i++) {\n        nalUnitType = data[offset] & 63;\n        numNalus = data[offset + 1] << 8 | data[offset + 2];\n        offset += 3;\n        for (var j = 0; j < numNalus; j++) {\n          nalSize = data[offset] << 8 | data[offset + 1];\n          offset += 2;\n          if (!nalSize)\n            continue;\n          switch (nalUnitType) {\n            case 32:\n              {\n                var vps = data.subarray(offset, offset + nalSize);\n                if (!vpsParsed)\n                  vpsParsed = HEVC2.parseVPS(NALu.removeEPB(vps), hvcC);\n                vpsArr.push(vps);\n              }\n              break;\n            case 33:\n              {\n                var sps = data.subarray(offset, offset + nalSize);\n                if (!spsParsed)\n                  spsParsed = HEVC2.parseSPS(NALu.removeEPB(sps), hvcC);\n                spsArr.push(sps);\n              }\n              break;\n            case 34:\n              ppsArr.push(data.subarray(offset, offset + nalSize));\n              break;\n          }\n          offset += nalSize;\n        }\n      }\n      return {\n        hvcC,\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        vpsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseVPS\",\n    value: function parseVPS(unit, hvcC) {\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(12);\n      var vpsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(hvcC.numTemporalLayers || 0, vpsMaxSubLayersMinus1 + 1);\n      eg.readBits(17);\n      HEVC2._parseProfileTierLevel(eg, vpsMaxSubLayersMinus1, hvcC);\n      return hvcC;\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(4);\n      var spsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(spsMaxSubLayersMinus1 + 1, hvcC.numTemporalLayers || 0);\n      hvcC.temporalIdNested = eg.readBits(1);\n      HEVC2._parseProfileTierLevel(eg, spsMaxSubLayersMinus1, hvcC);\n      eg.readUEG();\n      var chromaFormatIdc = hvcC.chromaFormatIdc = eg.readUEG();\n      var chromaFormat = 420;\n      if (chromaFormatIdc <= 3)\n        chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n      var separateColourPlaneFlag = 0;\n      if (chromaFormatIdc === 3) {\n        separateColourPlaneFlag = eg.readBits(1);\n      }\n      var width = eg.readUEG();\n      var height = eg.readUEG();\n      var conformanceWindowFlag = eg.readBits(1);\n      var confWinLeftOffset;\n      var confWinRightOffset;\n      var confWinTopOffset;\n      var confWinBottomOffset;\n      if (conformanceWindowFlag === 1) {\n        confWinLeftOffset = eg.readUEG();\n        confWinRightOffset = eg.readUEG();\n        confWinTopOffset = eg.readUEG();\n        confWinBottomOffset = eg.readUEG();\n      }\n      hvcC.bitDepthLumaMinus8 = eg.readUEG();\n      hvcC.bitDepthChromaMinus8 = eg.readUEG();\n      if (conformanceWindowFlag === 1) {\n        var subWidthC = (chromaFormatIdc === 1 || chromaFormatIdc === 2) && separateColourPlaneFlag === 0 ? 2 : 1;\n        var subHeightC = chromaFormatIdc === 1 && separateColourPlaneFlag === 0 ? 2 : 1;\n        width -= subWidthC * (confWinRightOffset + confWinLeftOffset);\n        height -= subHeightC * (confWinBottomOffset + confWinTopOffset);\n      }\n      return {\n        codec: \"hev1.1.6.L93.B0\",\n        width,\n        height,\n        chromaFormat,\n        hvcC\n      };\n    }\n  }, {\n    key: \"_parseProfileTierLevel\",\n    value: function _parseProfileTierLevel(eg, maxSubLayersMinus1, hvcC) {\n      var generalTierFlag = hvcC.generalTierFlag || 0;\n      hvcC.generalProfileSpace = eg.readBits(2);\n      hvcC.generalTierFlag = Math.max(eg.readBits(1), generalTierFlag);\n      hvcC.generalProfileIdc = Math.max(eg.readBits(5), hvcC.generalProfileIdc || 0);\n      hvcC.generalProfileCompatibilityFlags = eg.readBits(32);\n      hvcC.generalConstraintIndicatorFlags = [eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8)];\n      var generalLevelIdc = eg.readBits(8);\n      if (generalTierFlag < hvcC.generalTierFlag) {\n        hvcC.generalLevelIdc = generalLevelIdc;\n      } else {\n        hvcC.generalLevelIdc = Math.max(generalLevelIdc, hvcC.generalLevelIdc || 0);\n      }\n      var subLayerProfilePresentFlag = [];\n      var subLayerLevelPresentFlag = [];\n      if (maxSubLayersMinus1 > eg.bitsAvailable) {\n        throw new Error(\"maxSubLayersMinus inavlid size \".concat(maxSubLayersMinus1));\n      }\n      for (var j = 0; j < maxSubLayersMinus1; j++) {\n        subLayerProfilePresentFlag[j] = eg.readBits(1);\n        subLayerLevelPresentFlag[j] = eg.readBits(1);\n      }\n      if (maxSubLayersMinus1 > 0) {\n        eg.readBits((8 - maxSubLayersMinus1) * 2);\n      }\n      for (var i = 0; i < maxSubLayersMinus1; i++) {\n        if (subLayerProfilePresentFlag[i] !== 0) {\n          eg.readBits(2);\n          eg.readBits(1);\n          eg.readBits(5);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(4);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(12);\n        }\n        if (subLayerLevelPresentFlag[i] !== 0) {\n          eg.readBits(8);\n        }\n      }\n    }\n  }]);\n  return HEVC2;\n}();\nexport { HEVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"./types.js\";\nvar VideoTrack = /* @__PURE__ */ function() {\n  function VideoTrack2() {\n    _classCallCheck(this, VideoTrack2);\n    _defineProperty(this, \"id\", 1);\n    _defineProperty(this, \"type\", TrackType.VIDEO);\n    _defineProperty(this, \"codecType\", VideoCodecType.AVC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"hvcC\", void 0);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"pps\", []);\n    _defineProperty(this, \"sps\", []);\n    _defineProperty(this, \"vps\", []);\n    _defineProperty(this, \"fpsNum\", 0);\n    _defineProperty(this, \"fpsDen\", 0);\n    _defineProperty(this, \"sarRatio\", []);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"nalUnitSize\", 4);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"isVideo\", true);\n    _defineProperty(this, \"lastKeyFrameDts\", 0);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"pssh\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(VideoTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = this.width = this.height = this.fpsDen = this.fpsNum = this.duration = this.baseMediaDecodeTime = this.timescale = 0;\n      this.codec = \"\";\n      this.present = false;\n      this.pid = -1;\n      this.pps = [];\n      this.sps = [];\n      this.vps = [];\n      this.sarRatio = [];\n      this.samples = [];\n      this.warnings = [];\n      this.hvcC = null;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      if (/av01/.test(this.codec)) {\n        return true;\n      }\n      return !!(this.pps.length && this.sps.length && this.codec);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isVideoEncryption;\n    }\n  }]);\n  return VideoTrack2;\n}();\nexport { VideoTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, AudioCodecType } from \"./types.js\";\nvar AudioTrack = /* @__PURE__ */ function() {\n  function AudioTrack2() {\n    _classCallCheck(this, AudioTrack2);\n    _defineProperty(this, \"id\", 2);\n    _defineProperty(this, \"type\", TrackType.AUDIO);\n    _defineProperty(this, \"codecType\", AudioCodecType.AAC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"sampleDuration\", 0);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"sampleSize\", 16);\n    _defineProperty(this, \"sampleRate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"objectType\", 0);\n    _defineProperty(this, \"sampleRateIndex\", 0);\n    _defineProperty(this, \"config\", []);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(AudioTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = 0;\n      this.timescale = 0;\n      this.sampleDuration = 0;\n      this.sampleRate = 0;\n      this.channelCount = 0;\n      this.baseMediaDecodeTime = 0;\n      this.present = false;\n      this.pid = -1;\n      this.codec = \"\";\n      this.samples = [];\n      this.config = [];\n      this.warnings = [];\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.sampleRate && this.channelCount && this.codec && (this.codecType === AudioCodecType.AAC || this.codecType === AudioCodecType.G711PCMA || this.codecType === AudioCodecType.G711PCMU || this.codecType === AudioCodecType.OPUS));\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isAudioEncryption;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }]);\n  return AudioTrack2;\n}();\nexport { AudioTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar VideoSample = /* @__PURE__ */ function() {\n  function VideoSample2(pts, dts, units) {\n    _classCallCheck(this, VideoSample2);\n    _defineProperty(this, \"flag\", {});\n    _defineProperty(this, \"keyframe\", false);\n    _defineProperty(this, \"gopId\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"size\", 0);\n    _defineProperty(this, \"units\", []);\n    _defineProperty(this, \"chromaFormat\", 420);\n    this.originPts = this.pts = pts;\n    this.originDts = this.dts = dts;\n    if (units)\n      this.units = units;\n  }\n  _createClass(VideoSample2, [{\n    key: \"cts\",\n    get: function get() {\n      return this.pts - this.dts;\n    }\n  }, {\n    key: \"setToKeyframe\",\n    value: function setToKeyframe() {\n      this.keyframe = true;\n      this.flag.dependsOn = 2;\n      this.flag.isNonSyncSample = 0;\n    }\n  }]);\n  return VideoSample2;\n}();\nexport { VideoSample };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType } from \"./types.js\";\nvar Sample = /* @__PURE__ */ _createClass(\n  function Sample2(data, pts) {\n    _classCallCheck(this, Sample2);\n    _defineProperty(this, \"time\", 0);\n    this.data = data;\n    this.originPts = this.pts = pts;\n  }\n);\nvar FlvScriptSample = /* @__PURE__ */ function(_Sample) {\n  _inherits(FlvScriptSample2, _Sample);\n  var _super = _createSuper(FlvScriptSample2);\n  function FlvScriptSample2() {\n    _classCallCheck(this, FlvScriptSample2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(FlvScriptSample2);\n}(Sample);\nvar SeiSample = /* @__PURE__ */ function(_Sample2) {\n  _inherits(SeiSample2, _Sample2);\n  var _super2 = _createSuper(SeiSample2);\n  function SeiSample2() {\n    _classCallCheck(this, SeiSample2);\n    return _super2.apply(this, arguments);\n  }\n  return _createClass(SeiSample2);\n}(Sample);\nvar MetadataTrack = /* @__PURE__ */ function() {\n  function MetadataTrack2() {\n    _classCallCheck(this, MetadataTrack2);\n    _defineProperty(this, \"id\", 3);\n    _defineProperty(this, \"type\", TrackType.METADATA);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"flvScriptSamples\", []);\n    _defineProperty(this, \"seiSamples\", []);\n  }\n  _createClass(MetadataTrack2, [{\n    key: \"exist\",\n    value: function exist() {\n      return !!((this.flvScriptSamples.length || this.seiSamples.length) && this.timescale);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.timescale = 0;\n      this.flvScriptSamples = [];\n      this.seiSamples = [];\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!(this.flvScriptSamples.length || this.seiSamples.length);\n    }\n  }]);\n  return MetadataTrack2;\n}();\nexport { FlvScriptSample, MetadataTrack, SeiSample };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsFixer } from \"./fixer.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { AVC } from \"../codec/avc.js\";\nimport { HEVC } from \"../codec/hevc.js\";\nimport { NALu } from \"../codec/nalu.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack, SeiSample } from \"../model/metadata-track.js\";\nimport { VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nvar logger = new Logger(\"TsDemuxer\");\nvar TsDemuxer = /* @__PURE__ */ function() {\n  function TsDemuxer2(videoTrack, audioTrack, metadataTrack) {\n    var fixerConfig = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n    _classCallCheck(this, TsDemuxer2);\n    _defineProperty(this, \"_pmtId\", -1);\n    _defineProperty(this, \"_remainingPacketData\", null);\n    _defineProperty(this, \"_videoPesData\", []);\n    _defineProperty(this, \"_audioPesData\", []);\n    _defineProperty(this, \"_gopId\", 0);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n    this._fixer = new TsFixer(this.videoTrack, this.audioTrack, this.metadataTrack, fixerConfig);\n  }\n  _createClass(TsDemuxer2, [{\n    key: \"demux\",\n    value: function demux(data) {\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      var audioTrack = this.audioTrack, videoTrack = this.videoTrack, metadataTrack = this.metadataTrack;\n      if (discontinuity) {\n        this._pmtId = -1;\n        videoTrack.reset();\n        audioTrack.reset();\n        metadataTrack.reset();\n      }\n      if (!contiguous || discontinuity) {\n        this._remainingPacketData = null;\n        this._videoPesData = [];\n        this._audioPesData = [];\n      } else {\n        videoTrack.samples = [];\n        audioTrack.samples = [];\n        metadataTrack.seiSamples = [];\n        videoTrack.warnings = [];\n        audioTrack.warnings = [];\n        if (this._remainingPacketData) {\n          data = concatUint8Array(this._remainingPacketData, data);\n          this._remainingPacketData = null;\n        }\n      }\n      var dataLen = data.length;\n      var remainingLength = dataLen % 188;\n      if (remainingLength) {\n        this._remainingPacketData = data.subarray(dataLen - remainingLength);\n        dataLen -= remainingLength;\n      }\n      var videoPid = videoTrack.pid;\n      var audioPid = audioTrack.pid;\n      for (var start = 0; start < dataLen; start += 188) {\n        if (data[start] !== 71)\n          throw new Error(\"TS packet did not start with 0x47\");\n        var payloadUnitStartIndicator = !!(data[start + 1] & 64);\n        var pid = ((data[start + 1] & 31) << 8) + data[start + 2];\n        var adaptationFiledControl = (data[start + 3] & 48) >> 4;\n        var offset = void 0;\n        if (adaptationFiledControl > 1) {\n          offset = start + 5 + data[start + 4];\n          if (offset === start + 188)\n            continue;\n        } else {\n          offset = start + 4;\n        }\n        switch (pid) {\n          case 0:\n            if (payloadUnitStartIndicator)\n              offset += data[offset] + 1;\n            this._pmtId = (data[offset + 10] & 31) << 8 | data[offset + 11];\n            break;\n          case this._pmtId:\n            {\n              if (payloadUnitStartIndicator)\n                offset += data[offset] + 1;\n              var tableEnd = offset + 3 + ((data[offset + 1] & 15) << 8 | data[offset + 2]) - 4;\n              var programInfoLength = (data[offset + 10] & 15) << 8 | data[offset + 11];\n              offset += 12 + programInfoLength;\n              while (offset < tableEnd) {\n                var esPid = (data[offset + 1] & 31) << 8 | data[offset + 2];\n                switch (data[offset]) {\n                  case 15:\n                    audioTrack.pid = audioPid = esPid;\n                    break;\n                  case 27:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.AVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  case 36:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.HEVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  default:\n                    logger.warn(\"Unsupported stream. type: \".concat(data[offset], \", pid: \").concat(esPid));\n                }\n                offset += ((data[offset + 3] & 15) << 8 | data[offset + 4]) + 5;\n              }\n            }\n            break;\n          case videoPid:\n            if (payloadUnitStartIndicator && this._videoPesData.length) {\n              this._parseVideoData();\n            }\n            this._videoPesData.push(data.subarray(offset, start + 188));\n            break;\n          case audioPid:\n            if (payloadUnitStartIndicator && this._audioPesData.length) {\n              this._parseAudioData();\n            }\n            this._audioPesData.push(data.subarray(offset, start + 188));\n            break;\n          case 17:\n          case 8191:\n            break;\n          default:\n            logger.warn(\"Unknown pid: \".concat(pid));\n        }\n      }\n      this._parseVideoData();\n      this._parseAudioData();\n      audioTrack.formatTimescale = videoTrack.formatTimescale = videoTrack.timescale = metadataTrack.timescale = 9e4;\n      audioTrack.timescale = audioTrack.sampleRate || 0;\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack\n      };\n    }\n  }, {\n    key: \"fix\",\n    value: function fix(startTime, discontinuity, contiguous) {\n      this._fixer.fix(startTime, discontinuity, contiguous);\n      return {\n        videoTrack: this.videoTrack,\n        audioTrack: this.audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demuxAndFix\",\n    value: function demuxAndFix(data, discontinuity, contiguous, startTime) {\n      this.demux(data, discontinuity, contiguous);\n      return this.fix(startTime, discontinuity, contiguous);\n    }\n  }, {\n    key: \"_parseVideoData\",\n    value: function _parseVideoData() {\n      if (!this._videoPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._videoPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse video pes\", this._videoPesData);\n        return;\n      }\n      var units = NALu.parseAnnexB(pes.data);\n      if (units) {\n        this._createVideoSample(units, pes.pts, pes.dts);\n      } else {\n        logger.warn(\"Cannot parse avc units\", pes);\n      }\n      this._videoPesData = [];\n    }\n  }, {\n    key: \"_createVideoSample\",\n    value: function _createVideoSample(units, pts, dts) {\n      var _this = this;\n      if (!units.length)\n        return;\n      var track = this.videoTrack;\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var sample = new VideoSample(pts, dts);\n      units.forEach(function(unit) {\n        var type = isHevc ? unit[0] >>> 1 & 63 : unit[0] & 31;\n        switch (type) {\n          case 5:\n          case 16:\n          case 17:\n          case 18:\n          case 19:\n          case 20:\n          case 21:\n          case 22:\n          case 23:\n            if (!isHevc && type !== 5 || isHevc && type === 5)\n              break;\n            sample.setToKeyframe();\n            _this._gopId++;\n            break;\n          case 6:\n          case 39:\n          case 40:\n            if (!isHevc && type !== 6 || isHevc && type === 6)\n              break;\n            _this.metadataTrack.seiSamples.push(new SeiSample(NALu.parseSEI(NALu.removeEPB(unit), isHevc), pts));\n            return;\n          case 32:\n            if (!isHevc)\n              break;\n            if (!track.vps.length) {\n              var hvcC = HEVC.parseVPS(NALu.removeEPB(unit), track.hvcC);\n              track.hvcC = track.hvcC || hvcC;\n              track.vps = [unit];\n            }\n            break;\n          case 7:\n          case 33:\n            if (!isHevc && type !== 7 || isHevc && type === 7)\n              break;\n            if (!track.sps.length) {\n              var data = NALu.removeEPB(unit);\n              var spsInfo = isHevc ? HEVC.parseSPS(data, track.hvcC) : AVC.parseSPS(data);\n              track.sps = [unit];\n              track.hvcC = track.hvcC || spsInfo.hvcC;\n              track.codec = spsInfo.codec;\n              track.width = spsInfo.width;\n              track.height = spsInfo.height;\n              track.sarRatio = spsInfo.sarRatio;\n              track.fpsNum = spsInfo.fpsNum;\n              track.fpsDen = spsInfo.fpsDen;\n            }\n            break;\n          case 8:\n          case 34:\n            if (!isHevc && type !== 8 || isHevc && type === 8)\n              break;\n            if (!track.pps.length)\n              track.pps = [unit];\n            break;\n          case 9:\n          case 35:\n            break;\n          case 38:\n            if (isHevc) {\n              var ffByteFound = false;\n              for (var i = 2; i < unit.byteLength; i++) {\n                if (unit[i] === 255) {\n                  ffByteFound = true;\n                  break;\n                }\n              }\n              if (!ffByteFound) {\n                return;\n              }\n            }\n            break;\n        }\n        sample.units.push(unit);\n      });\n      sample.gopId = this._gopId;\n      this._pushVideoSample(track, sample);\n    }\n  }, {\n    key: \"_pushVideoSample\",\n    value: function _pushVideoSample(track, sample) {\n      if (sample.units.length) {\n        if (sample.pts === null || sample.pts === void 0) {\n          logger.warn(\"Video sample no pts\", sample);\n          var lastSample = track.samples[track.samples.length - 1];\n          if (lastSample) {\n            sample.pts = lastSample.pts;\n            sample.dts = lastSample.dts;\n          } else {\n            logger.warn(\"Drop video sample\", sample);\n          }\n        } else {\n          track.samples.push(sample);\n        }\n      }\n    }\n  }, {\n    key: \"_parseAudioData\",\n    value: function _parseAudioData() {\n      if (!this._audioPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._audioPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse audio pes\", this._audioPesData);\n        return;\n      }\n      this._parseAacData(pes);\n      this._audioPesData = [];\n    }\n  }, {\n    key: \"_parseAacData\",\n    value: function _parseAacData(pes) {\n      var track = this.audioTrack;\n      var pts = pes.pts;\n      if (pts === null || pts === void 0) {\n        logger.warn(\"AAC pes not pts\", track);\n        if (!track.samples.length || !track.sampleRate) {\n          return;\n        }\n        pts = track.samples[track.samples.length - 1].pts + AAC.getFrameDuration(track.sampleRate);\n      }\n      var ret = AAC.parseADTS(pes.data, pts);\n      if (ret) {\n        var _track$samples;\n        track.codec = ret.codec;\n        track.channelCount = ret.channelCount;\n        track.sampleRate = ret.sampleRate;\n        track.objectType = ret.objectType;\n        track.sampleRateIndex = ret.samplingFrequencyIndex;\n        track.config = ret.config;\n        (_track$samples = track.samples).push.apply(_track$samples, _toConsumableArray(ret.frames.map(function(s) {\n          return new AudioSample(s.pts, s.data);\n        })));\n        if (ret.skip) {\n          logger.warn(\"Skip aac adts \".concat(ret.skip, \" bits\"));\n        }\n        if (ret.remaining) {\n          logger.warn(\"Remaining aac adts \".concat(ret.remaining, \" bits\"));\n        }\n      } else {\n        logger.warn(\"Cannot parse aac adts\", pes);\n      }\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      if (!data.length)\n        return false;\n      return data[0] === 71 && data[188] === 71 && data[376] === 71;\n    }\n  }, {\n    key: \"_parsePES\",\n    value: function _parsePES(data) {\n      var headerDataLen = data[8];\n      if (headerDataLen === null || headerDataLen === void 0 || data.length < headerDataLen + 9)\n        return;\n      var startPrefix = data[0] << 16 | data[1] << 8 | data[2];\n      if (startPrefix !== 1)\n        return;\n      var pesLen = (data[4] << 8) + data[5];\n      if (pesLen && pesLen > data.length - 6)\n        return;\n      var pts;\n      var dts;\n      var ptsDtsFlags = data[7];\n      if (ptsDtsFlags & 192) {\n        pts = (data[9] & 14) * 536870912 + (data[10] & 255) * 4194304 + (data[11] & 254) * 16384 + (data[12] & 255) * 128 + (data[13] & 254) / 2;\n        if (ptsDtsFlags & 64) {\n          dts = (data[14] & 14) * 536870912 + (data[15] & 255) * 4194304 + (data[16] & 254) * 16384 + (data[17] & 255) * 128 + (data[18] & 254) / 2;\n          if (pts - dts > 60 * 9e4)\n            pts = dts;\n        } else {\n          dts = pts;\n        }\n      }\n      return {\n        data: data.subarray(9 + headerDataLen),\n        pts,\n        dts\n      };\n    }\n  }]);\n  return TsDemuxer2;\n}();\nexport { TsDemuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ByteReader = /* @__PURE__ */ function() {\n  function ByteReader2(buf, offset, len) {\n    _classCallCheck(this, ByteReader2);\n    this.dv = new DataView(buf);\n    this.start = this.offset = offset || this.dv.byteOffset;\n    this.end = len ? this.start + len : this.start + this.dv.byteLength;\n  }\n  _createClass(ByteReader2, [{\n    key: \"buffer\",\n    get: function get() {\n      return this.dv.buffer;\n    }\n  }, {\n    key: \"unreadLength\",\n    get: function get() {\n      return Math.max(this.end - this.offset, 0);\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.end - this.start;\n    }\n  }, {\n    key: \"readFloat\",\n    value: function readFloat(byteNum) {\n      var val = 0;\n      switch (byteNum) {\n        case 4:\n          val = this.dv.getFloat32(this.offset);\n          break;\n        case 8:\n          val = this.dv.getFloat64(this.offset);\n          break;\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte float is not supported\"));\n      }\n      this.offset += byteNum;\n      return val;\n    }\n  }, {\n    key: \"back\",\n    value: function back(byteNum) {\n      this.offset -= byteNum;\n    }\n  }, {\n    key: \"skip\",\n    value: function skip(byteNum) {\n      this.offset += byteNum;\n    }\n  }, {\n    key: \"readInt\",\n    value: function readInt(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getInt8(offset);\n        case 2:\n          return this.dv.getInt16(offset);\n        case 4:\n          return this.dv.getInt32(offset);\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"read\",\n    value: function read(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getUint8(offset);\n        case 2:\n          return this.dv.getUint16(offset);\n        case 3:\n          return (this.dv.getUint16(offset) << 8) + this.dv.getUint8(offset + 2);\n        case 4:\n          return this.dv.getUint32(offset);\n        default:\n          this.back(byteNum - 4);\n          return this.read(byteNum - 4) + this.dv.getUint32(offset) * Math.pow(256, byteNum - 4);\n      }\n    }\n  }, {\n    key: \"write\",\n    value: function write(byteNum, val) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.setUint8(offset, val);\n        case 2:\n          return this.dv.setUint16(offset, val);\n        case 3:\n          return this.dv.setUint8(offset, val >>> 16), this.dv.setUint16(offset + 1, 65535 & val);\n        case 4:\n          return this.dv.setUint32(offset, val);\n        default:\n          throw new Error(\"write \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"readToBuffer\",\n    value: function readToBuffer(len) {\n      var buffer;\n      if (this.offset || len) {\n        buffer = this.dv.buffer.slice(this.offset, len ? this.offset + len : this.end);\n      } else {\n        buffer = this.dv.buffer;\n      }\n      this.offset += buffer.byteLength;\n      return buffer;\n    }\n  }, {\n    key: \"readToUint8\",\n    value: function readToUint8(len) {\n      var uint8 = new Uint8Array(this.dv.buffer, this.offset, len || this.unreadLength);\n      this.offset += uint8.byteLength;\n      return uint8;\n    }\n  }, {\n    key: \"readString\",\n    value: function readString(len) {\n      var i = 0, str = \"\";\n      for (; i < len; i++) {\n        str += String.fromCharCode(this.dv.getUint8(this.offset));\n        this.offset++;\n      }\n      return str;\n    }\n  }], [{\n    key: \"fromUint8\",\n    value: function fromUint8(uint8) {\n      return new ByteReader2(uint8.buffer, uint8.byteOffset, uint8.byteLength);\n    }\n  }, {\n    key: \"concatUint8s\",\n    value: function concatUint8s(args) {\n      var uint8 = new Uint8Array(args.reduce(function(ret, v) {\n        return ret + v.byteLength;\n      }, 0));\n      var offset = 0;\n      args.forEach(function(v) {\n        uint8.set(v, offset);\n        offset += v.byteLength;\n      });\n      return uint8;\n    }\n  }, {\n    key: \"concatUint8\",\n    value: function concatUint8() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this.concatUint8s(args);\n    }\n  }]);\n  return ByteReader2;\n}();\nexport { ByteReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar BitReader = /* @__PURE__ */ function() {\n  function BitReader2(val, size) {\n    _classCallCheck(this, BitReader2);\n    this.offset = 0;\n    this.val = val;\n    this.size = size;\n  }\n  _createClass(BitReader2, [{\n    key: \"skip\",\n    value: function skip(len) {\n      this.offset += len;\n    }\n  }, {\n    key: \"read\",\n    value: function read(len) {\n      var unreadLength = this.size - this.offset - len;\n      if (unreadLength >= 0) {\n        var bits = 0, i = 0;\n        this.offset += len;\n        if (this.size > 31) {\n          for (; i < len; i++) {\n            bits += Math.pow(2, i);\n          }\n          return this.val / Math.pow(2, unreadLength) & bits;\n        } else {\n          for (; i < len; i++) {\n            bits += 1 << i;\n          }\n          return this.val >>> unreadLength & bits;\n        }\n      }\n      throw new Error(\"the number of the read operation exceeds the total length limit of bits\");\n    }\n  }], [{\n    key: \"fromByte\",\n    value: function fromByte(byte, len) {\n      return new BitReader2(byte.read(len), len << 3);\n    }\n  }]);\n  return BitReader2;\n}();\nexport { BitReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { readBig32, readBig64, readBig24, readBig16, combineToFloat, toDegree, getAvcCodec } from \"../utils/index.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { ByteReader } from \"../utils/byte-reader.js\";\nimport { BitReader } from \"../utils/bit-reader.js\";\nvar MP4Parser = /* @__PURE__ */ function() {\n  function MP4Parser2() {\n    _classCallCheck(this, MP4Parser2);\n  }\n  _createClass(MP4Parser2, null, [{\n    key: \"findBox\",\n    value: function findBox(data, names) {\n      var start = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var ret = [];\n      if (!data)\n        return ret;\n      var size = 0;\n      var type = \"\";\n      var headerSize = 0;\n      while (data.length > 7) {\n        size = readBig32(data);\n        type = String.fromCharCode.apply(null, data.subarray(4, 8));\n        headerSize = 8;\n        if (size === 1) {\n          size = readBig64(data, 8);\n          headerSize += 8;\n        } else if (!size) {\n          size = data.length;\n        }\n        if (!names[0] || type === names[0]) {\n          var subData = data.subarray(0, size);\n          if (names.length < 2) {\n            ret.push({\n              start,\n              size,\n              headerSize,\n              type,\n              data: subData\n            });\n          } else {\n            return MP4Parser2.findBox(subData.subarray(headerSize), names.slice(1), start + headerSize);\n          }\n        }\n        start += size;\n        data = data.subarray(size);\n      }\n      return ret;\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.trackId = readBig32(data);\n        var start = 4;\n        var baseDataOffsetPresent = ret.flags & 255 & 1;\n        var sampleDescriptionIndexPresent = ret.flags & 255 & 2;\n        var defaultSampleDurationPresent = ret.flags & 255 & 8;\n        var defaultSampleSizePresent = ret.flags & 255 & 16;\n        var defaultSampleFlagsPresent = ret.flags & 255 & 32;\n        if (baseDataOffsetPresent) {\n          start += 4;\n          ret.baseDataOffset = readBig32(data, start);\n          start += 4;\n        }\n        if (sampleDescriptionIndexPresent) {\n          ret.sampleDescriptionIndex = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleDurationPresent) {\n          ret.defaultSampleDuration = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleSizePresent) {\n          ret.defaultSampleSize = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleFlagsPresent) {\n          ret.defaultSampleFlags = readBig32(data, start);\n        }\n      });\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        ret.reference_ID = readBig32(data, start);\n        start += 4;\n        ret.timescale = readBig32(data, start);\n        start += 4;\n        if (ret.version === 0) {\n          ret.earliest_presentation_time = readBig32(data, start);\n          start += 4;\n          ret.first_offset = readBig32(data, start);\n          start += 4;\n        } else {\n          ret.earliest_presentation_time = readBig64(data, start);\n          start += 8;\n          ret.first_offset = readBig64(data, start);\n          start += 8;\n        }\n        start += 2;\n        ret.references = [];\n        var count = readBig16(data, start);\n        start += 2;\n        for (var i = 0; i < count; i++) {\n          var ref = {};\n          ret.references.push(ref);\n          var tmp32 = readBig32(data, start);\n          start += 4;\n          ref.reference_type = tmp32 >> 31 & 1;\n          ref.referenced_size = tmp32 & 2147483647;\n          ref.subsegment_duration = readBig32(data, start);\n          start += 4;\n          tmp32 = readBig32(data, start);\n          start += 4;\n          ref.starts_with_SAP = tmp32 >> 31 & 1;\n          ref.SAP_type = tmp32 >> 28 & 7;\n          ref.SAP_delta_time = tmp32 & 268435455;\n        }\n      });\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mvhd = MP4Parser2.mvhd(MP4Parser2.findBox(data, [\"mvhd\"], start)[0]);\n        ret.trak = MP4Parser2.findBox(data, [\"trak\"], start).map(function(trak) {\n          return MP4Parser2.trak(trak);\n        });\n        ret.pssh = MP4Parser2.pssh(MP4Parser2.findBox(data, [\"pssh\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        ret.nextTrackId = readBig32(data, start + 76);\n      });\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tkhd = MP4Parser2.tkhd(MP4Parser2.findBox(data, [\"tkhd\"], start)[0]);\n        ret.mdia = MP4Parser2.mdia(MP4Parser2.findBox(data, [\"mdia\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        if (ret.version === 1) {\n          byte.read(8);\n          byte.read(8);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(8);\n        } else {\n          byte.read(4);\n          byte.read(4);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(4);\n        }\n        byte.skip(16);\n        ret.matrix = [];\n        for (var i = 0; i < 36; i++) {\n          ret.matrix.push(byte.read(1));\n        }\n        byte.back(36);\n        var caculatedMatrix = [];\n        for (var _i = 0, int32; _i < 3; _i++) {\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          int32 = byte.readInt(4);\n          caculatedMatrix.push(combineToFloat(int32 >> 30, int32 & 1073741823));\n        }\n        ret.rotation = toDegree(caculatedMatrix);\n        ret.width = byte.read(4);\n        ret.height = byte.read(4);\n      });\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mdhd = MP4Parser2.mdhd(MP4Parser2.findBox(data, [\"mdhd\"], start)[0]);\n        ret.hdlr = MP4Parser2.hdlr(MP4Parser2.findBox(data, [\"hdlr\"], start)[0]);\n        ret.minf = MP4Parser2.minf(MP4Parser2.findBox(data, [\"minf\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        var lang = readBig16(data, start);\n        ret.language = String.fromCharCode((lang >> 10 & 31) + 96, (lang >> 5 & 31) + 96, (lang & 31) + 96);\n      });\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 0) {\n          ret.handlerType = String.fromCharCode.apply(null, data.subarray(4, 8));\n        }\n      });\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.vmhd = MP4Parser2.vmhd(MP4Parser2.findBox(data, [\"vmhd\"], start)[0]);\n        ret.smhd = MP4Parser2.smhd(MP4Parser2.findBox(data, [\"smhd\"], start)[0]);\n        ret.stbl = MP4Parser2.stbl(MP4Parser2.findBox(data, [\"stbl\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"vmhd\",\n    value: function vmhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.graphicsmode = readBig16(data);\n        ret.opcolor = [readBig16(data, 2), readBig16(data, 4), readBig16(data, 6)];\n      });\n    }\n  }, {\n    key: \"smhd\",\n    value: function smhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.balance = readBig16(data);\n      });\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var _ret$stsd$entries$, _ret$stsd$entries$$si, _ret$stsd$entries$$si2;\n        ret.stsd = MP4Parser2.stsd(MP4Parser2.findBox(data, [\"stsd\"], start)[0]);\n        ret.stts = MP4Parser2.stts(MP4Parser2.findBox(data, [\"stts\"], start)[0]);\n        ret.ctts = MP4Parser2.ctts(MP4Parser2.findBox(data, [\"ctts\"], start)[0]);\n        ret.stsc = MP4Parser2.stsc(MP4Parser2.findBox(data, [\"stsc\"], start)[0]);\n        ret.stsz = MP4Parser2.stsz(MP4Parser2.findBox(data, [\"stsz\"], start)[0]);\n        ret.stco = MP4Parser2.stco(MP4Parser2.findBox(data, [\"stco\"], start)[0]);\n        if (!ret.stco) {\n          ret.co64 = MP4Parser2.co64(MP4Parser2.findBox(data, [\"co64\"], start)[0]);\n          ret.stco = ret.co64;\n        }\n        var default_IV_size = (_ret$stsd$entries$ = ret.stsd.entries[0]) === null || _ret$stsd$entries$ === void 0 ? void 0 : (_ret$stsd$entries$$si = _ret$stsd$entries$.sinf) === null || _ret$stsd$entries$$si === void 0 ? void 0 : (_ret$stsd$entries$$si2 = _ret$stsd$entries$$si.schi) === null || _ret$stsd$entries$$si2 === void 0 ? void 0 : _ret$stsd$entries$$si2.tenc.default_IV_size;\n        ret.stss = MP4Parser2.stss(MP4Parser2.findBox(data, [\"stss\"], start)[0]);\n        ret.senc = MP4Parser2.senc(MP4Parser2.findBox(data, [\"senc\"], start)[0], default_IV_size);\n      });\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(box) {\n      var iv = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        var sampleCount = readBig32(data, start);\n        start += 4;\n        ret.samples = [];\n        for (var i = 0; i < sampleCount; i++) {\n          var sample = {};\n          sample.InitializationVector = [];\n          for (var j = 0; j < iv; j++) {\n            sample.InitializationVector[j] = data[start + j];\n          }\n          start += iv;\n          if (ret.flags & 2) {\n            sample.subsamples = [];\n            var subsampleCount = readBig16(data, start);\n            start += 2;\n            for (var _j = 0; _j < subsampleCount; _j++) {\n              var subsample = {};\n              subsample.BytesOfClearData = readBig16(data, start);\n              start += 2;\n              subsample.BytesOfProtectedData = readBig32(data, start);\n              start += 4;\n              sample.subsamples.push(subsample);\n            }\n          }\n          ret.samples.push(sample);\n        }\n      });\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(box) {\n      return parseBox(box, true, function(ret, data) {\n        var keyIds = [];\n        var systemId = [];\n        var start = 0;\n        for (var i = 0; i < 16; i++) {\n          systemId.push(toHex(data[start + i]));\n        }\n        start += 16;\n        if (ret.version > 0) {\n          var numKeyIds = readBig32(data, start);\n          start += 4;\n          for (var _i2 = 0; _i2 < (\"\" + numKeyIds).length; _i2++) {\n            for (var j = 0; j < 16; j++) {\n              var keyId = data[start];\n              start += 1;\n              keyIds.push(toHex(keyId));\n            }\n          }\n        }\n        var dataSize = readBig32(data, start);\n        ret.data_size = dataSize;\n        start += 4;\n        ret.kid = keyIds;\n        ret.system_id = systemId;\n        ret.buffer = data;\n      });\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(box) {\n      return parseBox(box, true, function(ret, data, start) {\n        ret.entryCount = readBig32(data);\n        ret.entries = MP4Parser2.findBox(data.subarray(4), [], start + 4).map(function(b) {\n          switch (b.type) {\n            case \"av01\":\n              return MP4Parser2.av01(b);\n            case \"avc1\":\n            case \"avc2\":\n            case \"avc3\":\n            case \"avc4\":\n              return MP4Parser2.avc1(b);\n            case \"hvc1\":\n            case \"hev1\":\n              return MP4Parser2.hvc1(b);\n            case \"mp4a\":\n              return MP4Parser2.mp4a(b);\n            case \"alaw\":\n            case \"ulaw\":\n              return MP4Parser2.alaw(b);\n            case \"enca\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.channelCount = readBig16(data2, 16);\n                ret2.samplesize = readBig16(data2, 18);\n                ret2.sampleRate = readBig32(data2, 24) / (1 << 16);\n                data2 = data2.subarray(28);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.esds = MP4Parser2.esds(MP4Parser2.findBox(data2, [\"esds\"], start2)[0]);\n              });\n            case \"encv\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.width = readBig16(data2, 24);\n                ret2.height = readBig16(data2, 26);\n                ret2.horizresolution = readBig32(data2, 28);\n                ret2.vertresolution = readBig32(data2, 32);\n                data2 = data2.subarray(78);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.avcC = MP4Parser2.avcC(MP4Parser2.findBox(data2, [\"avcC\"], start2)[0]);\n                ret2.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(data2, [\"hvcC\"], start2)[0]);\n                ret2.pasp = MP4Parser2.pasp(MP4Parser2.findBox(data2, [\"pasp\"], start2)[0]);\n              });\n          }\n        }).filter(Boolean);\n      });\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(box) {\n      return parseBox(box, false, function(ret, data) {\n        var start = 6;\n        ret.default_IsEncrypted = data[start];\n        start += 1;\n        ret.default_IV_size = data[start];\n        start += 1;\n        ret.default_KID = [];\n        for (var i = 0; i < 16; i++) {\n          ret.default_KID.push(toHex(data[start]));\n          start += 1;\n        }\n      });\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tenc = MP4Parser2.tenc(MP4Parser2.findBox(data, [\"tenc\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.schi = MP4Parser2.schi(MP4Parser2.findBox(data, [\"schi\"], start)[0]);\n        ret.frma = MP4Parser2.frma(MP4Parser2.findBox(data, [\"frma\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"frma\",\n    value: function frma(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data_format = \"\";\n        for (var i = 0; i < 4; i++) {\n          ret.data_format += String.fromCharCode(data[i]);\n        }\n      });\n    }\n  }, {\n    key: \"colr\",\n    value: function colr(box) {\n      return parseBox(box, false, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        ret.data = box.data;\n        ret.colorType = byte.readString(4);\n        if (ret.colorType === \"nclx\") {\n          ret.colorPrimaries = byte.read(2);\n          ret.transferCharacteristics = byte.read(2);\n          ret.matrixCoefficients = byte.read(2);\n          ret.fullRangeFlag = byte.read(1) >> 7;\n        } else if (ret.colorType === \"rICC\" || ret.colorType === \"prof\") {\n          ret.iccProfile = data.readToUint8();\n        }\n      });\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.av1C = MP4Parser2.av1C(MP4Parser2.findBox(bodyData, [\"av1C\"], start)[0]);\n        ret.colr = MP4Parser2.colr(MP4Parser2.findBox(bodyData, [\"colr\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"av1C\",\n    value: function av1C(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        var byte = ByteReader.fromUint8(data);\n        var bit = BitReader.fromByte(byte, 4);\n        ret.marker = bit.read(1);\n        ret.version = bit.read(7);\n        ret.seqProfile = bit.read(3);\n        ret.seqLevelIdx0 = bit.read(5);\n        ret.seqTier0 = bit.read(1);\n        ret.highBitdepth = bit.read(1);\n        ret.twelveBit = bit.read(1);\n        ret.monochrome = bit.read(1);\n        ret.chromaSubsamplingX = bit.read(1);\n        ret.chromaSubsamplingY = bit.read(1);\n        ret.chromaSamplePosition = bit.read(2);\n        ret.reserved = bit.read(3);\n        ret.initialPresentationDelayPresent = bit.read(1);\n        if (ret.initialPresentationDelayPresent) {\n          ret.initialPresentationDelayMinusOne = bit.read(4);\n        } else {\n          ret.initialPresentationDelayMinusOne = 0;\n        }\n        ret.configOBUs = byte.readToUint8();\n        var bitdepth;\n        if (ret.seqLevelIdx0 === 2 && ret.highBitdepth === 1) {\n          bitdepth = ret.twelveBit === 1 ? \"12\" : \"10\";\n        } else if (ret.seqProfile <= 2) {\n          bitdepth = ret.highBitdepth === 1 ? \"10\" : \"08\";\n        }\n        ret.codec = [\"av01\", ret.seqProfile, (ret.seqLevelIdx0 < 10 ? \"0\" + ret.seqLevelIdx0 : ret.seqLevelIdx0) + (ret.seqTier0 ? \"H\" : \"M\"), bitdepth].join(\".\");\n      });\n    }\n  }, {\n    key: \"avc1\",\n    value: function avc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.avcC = MP4Parser2.avcC(MP4Parser2.findBox(bodyData, [\"avcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.configurationVersion = data[0];\n        ret.AVCProfileIndication = data[1];\n        ret.profileCompatibility = data[2];\n        ret.AVCLevelIndication = data[3];\n        ret.codec = getAvcCodec([data[1], data[2], data[3]]);\n        ret.lengthSizeMinusOne = data[4] & 3;\n        ret.spsLength = data[5] & 31;\n        ret.sps = [];\n        var start = 6;\n        for (var i = 0; i < ret.spsLength; i++) {\n          var size = readBig16(data, start);\n          start += 2;\n          ret.sps.push(data.subarray(start, start + size));\n          start += size;\n        }\n        ret.ppsLength = data[start];\n        start += 1;\n        ret.pps = [];\n        for (var _i3 = 0; _i3 < ret.ppsLength; _i3++) {\n          var _size = readBig16(data, start);\n          start += 2;\n          ret.pps.push(data.subarray(start, start += _size));\n          start += _size;\n        }\n      });\n    }\n  }, {\n    key: \"hvc1\",\n    value: function hvc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(bodyData, [\"hvcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.codec = \"hev1.1.6.L93.B0\";\n        ret.configurationVersion = data[0];\n        var tmp = data[1];\n        ret.generalProfileSpace = tmp >> 6;\n        ret.generalTierFlag = (tmp & 32) >> 5;\n        ret.generalProfileIdc = tmp & 31;\n        ret.generalProfileCompatibility = readBig32(data, 2);\n        ret.generalConstraintIndicatorFlags = data.subarray(6, 12);\n        ret.generalLevelIdc = data[12];\n        ret.avgFrameRate = readBig16(data, 19);\n        ret.numOfArrays = data[22];\n        ret.vps = [];\n        ret.sps = [];\n        ret.pps = [];\n        var start = 23;\n        var type = 0;\n        var numNalus = 0;\n        var size = 0;\n        for (var i = 0; i < ret.numOfArrays; i++) {\n          type = data[start] & 63;\n          numNalus = readBig16(data, start + 1);\n          start += 3;\n          var nalus = [];\n          for (var j = 0; j < numNalus; j++) {\n            size = readBig16(data, start);\n            start += 2;\n            nalus.push(data.subarray(start, start + size));\n            start += size;\n          }\n          if (type === 32) {\n            var _ret$vps;\n            (_ret$vps = ret.vps).push.apply(_ret$vps, nalus);\n          } else if (type === 33) {\n            var _ret$sps;\n            (_ret$sps = ret.sps).push.apply(_ret$sps, nalus);\n          } else if (type === 34) {\n            var _ret$pps;\n            (_ret$pps = ret.pps).push.apply(_ret$pps, nalus);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.hSpacing = readBig32(data);\n        ret.vSpacing = readBig32(data, 4);\n      });\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseAudioSampleEntry(ret, data);\n        ret.esds = MP4Parser2.esds(MP4Parser2.findBox(data.subarray(bodyStart), [\"esds\"], start + bodyStart)[0]);\n      });\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.codec = \"mp4a.\";\n        var start = 0;\n        var byteRead = 0;\n        var size = 0;\n        var tag = 0;\n        while (data.length) {\n          start = 0;\n          tag = data[start];\n          byteRead = data[start + 1];\n          start += 2;\n          while (byteRead & 128) {\n            size = (byteRead & 127) << 7;\n            byteRead = data[start];\n            start += 1;\n          }\n          size += byteRead & 127;\n          if (tag === 3) {\n            data = data.subarray(start + 3);\n          } else if (tag === 4) {\n            ret.codec += (data[start].toString(16) + \".\").padStart(3, \"0\");\n            data = data.subarray(start + 13);\n          } else if (tag === 5) {\n            var config = ret.config = data.subarray(start, start + size);\n            var objectType = (config[0] & 248) >> 3;\n            if (objectType === 31 && config.length >= 2) {\n              objectType = 32 + ((config[0] & 7) << 3) + ((config[1] & 224) >> 5);\n            }\n            ret.objectType = objectType;\n            ret.codec += objectType.toString(16);\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          } else {\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"alaw\",\n    value: function alaw(box) {\n      return parseBox(box, false, function(ret, data) {\n        parseAudioSampleEntry(ret, data);\n      });\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            count: readBig32(data, start),\n            delta: readBig32(data, start + 4)\n          });\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        if (ret.version === 1) {\n          for (var i = 0; i < entryCount; i++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: readBig32(data, start + 4)\n            });\n            start += 8;\n          }\n        } else {\n          for (var _i4 = 0; _i4 < entryCount; _i4++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: -(~readBig32(data, start + 4) + 1)\n            });\n            start += 8;\n          }\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            firstChunk: readBig32(data, start),\n            samplesPerChunk: readBig32(data, start + 4),\n            sampleDescriptionIndex: readBig32(data, start + 8)\n          });\n          start += 12;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(box) {\n      return parseBox(box, true, function(ret, data) {\n        var sampleSize = readBig32(data);\n        var sampleCount = readBig32(data, 4);\n        var entrySizes = [];\n        if (!sampleSize) {\n          var start = 8;\n          for (var i = 0; i < sampleCount; i++) {\n            entrySizes.push(readBig32(data, start));\n            start += 4;\n          }\n        }\n        ret.sampleSize = sampleSize;\n        ret.sampleCount = sampleCount;\n        ret.entrySizes = entrySizes;\n      });\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"co64\",\n    value: function co64(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig64(data, start));\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mfhd = MP4Parser2.mfhd(MP4Parser2.findBox(data, [\"mfhd\"], start)[0]);\n        ret.traf = MP4Parser2.findBox(data, [\"traf\"], start).map(function(t) {\n          return MP4Parser2.traf(t);\n        });\n      });\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.sequenceNumber = readBig32(data);\n      });\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tfhd = MP4Parser2.tfhd(MP4Parser2.findBox(data, [\"tfhd\"], start)[0]);\n        ret.tfdt = MP4Parser2.tfdt(MP4Parser2.findBox(data, [\"tfdt\"], start)[0]);\n        ret.trun = MP4Parser2.trun(MP4Parser2.findBox(data, [\"trun\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(box) {\n      return parseBox(box, true, function(ret, data) {\n        var version = ret.version, flags = ret.flags;\n        var dataLen = data.length;\n        var sampleCount = ret.sampleCount = readBig32(data);\n        var offset = 4;\n        if (dataLen > offset && flags & 1) {\n          ret.dataOffset = -(~readBig32(data, offset) + 1);\n          offset += 4;\n        }\n        if (dataLen > offset && flags & 4) {\n          ret.firstSampleFlags = readBig32(data, offset);\n          offset += 4;\n        }\n        ret.samples = [];\n        if (dataLen > offset) {\n          var sample;\n          for (var i = 0; i < sampleCount; i++) {\n            sample = {};\n            if (flags & 256) {\n              sample.duration = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 512) {\n              sample.size = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 1024) {\n              sample.flags = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 2048) {\n              if (version) {\n                sample.cts = -(~readBig32(data, offset + 4) + 1);\n              } else {\n                sample.cts = readBig32(data, offset);\n              }\n              offset += 4;\n            }\n            ret.samples.push(sample);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 1) {\n          ret.baseMediaDecodeTime = readBig64(data);\n        } else {\n          ret.baseMediaDecodeTime = readBig32(data);\n        }\n      });\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(data) {\n      return !!MP4Parser2.findBox(data, [\"ftyp\"]);\n    }\n  }, {\n    key: \"parseSampleFlags\",\n    value: function parseSampleFlags(flags) {\n      return {\n        isLeading: (flags[0] & 12) >>> 2,\n        dependsOn: flags[0] & 3,\n        isDependedOn: (flags[1] & 192) >>> 6,\n        hasRedundancy: (flags[1] & 48) >>> 4,\n        paddingValue: (flags[1] & 14) >>> 1,\n        isNonSyncSample: flags[1] & 1,\n        degradationPriority: flags[2] << 8 | flags[3]\n      };\n    }\n  }, {\n    key: \"moovToTrack\",\n    value: function moovToTrack(moov, videoTrack, audioTrack) {\n      var _e$esds, _e$esds2;\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia, _t$mdia$hdlr;\n        return ((_t$mdia = t.mdia) === null || _t$mdia === void 0 ? void 0 : (_t$mdia$hdlr = _t$mdia.hdlr) === null || _t$mdia$hdlr === void 0 ? void 0 : _t$mdia$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia2, _t$mdia2$hdlr;\n        return ((_t$mdia2 = t.mdia) === null || _t$mdia2 === void 0 ? void 0 : (_t$mdia2$hdlr = _t$mdia2.hdlr) === null || _t$mdia2$hdlr === void 0 ? void 0 : _t$mdia2$hdlr.handlerType) === \"soun\";\n      });\n      if (vTrack && videoTrack) {\n        var _vTrack$tkhd, _vTrack$mdia, _vTrack$mdia$minf, _vTrack$mdia$minf$stb, _vTrack$mdia2, _vTrack$mdia2$minf, _vTrack$mdia2$minf$st;\n        var v = videoTrack;\n        var _vTrackId = (_vTrack$tkhd = vTrack.tkhd) === null || _vTrack$tkhd === void 0 ? void 0 : _vTrack$tkhd.trackId;\n        if (_vTrackId !== null && _vTrackId !== void 0)\n          v.id = vTrack.tkhd.trackId;\n        v.tkhdDuration = vTrack.tkhd.duration;\n        v.mvhdDurtion = moov.mvhd.duration;\n        v.mvhdTimecale = moov.mvhd.timescale;\n        v.timescale = v.formatTimescale = vTrack.mdia.mdhd.timescale;\n        v.duration = vTrack.mdia.mdhd.duration || v.mvhdDurtion / v.mvhdTimecale * v.timescale;\n        v.rotation = vTrack.tkhd.rotation;\n        v.matrix = vTrack.tkhd.matrix;\n        var e1 = vTrack.mdia.minf.stbl.stsd.entries[0];\n        v.width = e1.width;\n        v.height = e1.height;\n        if (e1.pasp) {\n          v.sarRatio = [e1.pasp.hSpacing, e1.pasp.vSpacing];\n        }\n        if (e1.av1C) {\n          v.codecType = VideoCodecType.AV1;\n          v.codec = e1.av1C.codec;\n          v.av1C = e1.av1C.data;\n          v.colr = e1.colr.data;\n        } else if (e1.hvcC) {\n          v.codecType = VideoCodecType.HEVC;\n          v.codec = e1.hvcC.codec;\n          v.vps = e1.hvcC.vps;\n          v.sps = e1.hvcC.sps;\n          v.pps = e1.hvcC.pps;\n          v.hvcC = e1.hvcC.data;\n        } else if (e1.avcC) {\n          v.codec = e1.avcC.codec;\n          v.sps = e1.avcC.sps;\n          v.pps = e1.avcC.pps;\n        } else {\n          throw new Error(\"unknown video stsd entry\");\n        }\n        v.present = true;\n        v.ext = {};\n        v.ext.stss = (_vTrack$mdia = vTrack.mdia) === null || _vTrack$mdia === void 0 ? void 0 : (_vTrack$mdia$minf = _vTrack$mdia.minf) === null || _vTrack$mdia$minf === void 0 ? void 0 : (_vTrack$mdia$minf$stb = _vTrack$mdia$minf.stbl) === null || _vTrack$mdia$minf$stb === void 0 ? void 0 : _vTrack$mdia$minf$stb.stss;\n        v.ext.ctts = (_vTrack$mdia2 = vTrack.mdia) === null || _vTrack$mdia2 === void 0 ? void 0 : (_vTrack$mdia2$minf = _vTrack$mdia2.minf) === null || _vTrack$mdia2$minf === void 0 ? void 0 : (_vTrack$mdia2$minf$st = _vTrack$mdia2$minf.stbl) === null || _vTrack$mdia2$minf$st === void 0 ? void 0 : _vTrack$mdia2$minf$st.ctts;\n        if (e1 && e1.type === \"encv\") {\n          var _e1$sinf, _e1$sinf$schi, _e1$sinf2, _e1$sinf2$schi, _e1$sinf3, _e1$sinf3$schi, _e1$sinf4, _e1$sinf4$frma;\n          v.isVideoEncryption = true;\n          e1.default_KID = (_e1$sinf = e1.sinf) === null || _e1$sinf === void 0 ? void 0 : (_e1$sinf$schi = _e1$sinf.schi) === null || _e1$sinf$schi === void 0 ? void 0 : _e1$sinf$schi.tenc.default_KID;\n          e1.default_IsEncrypted = (_e1$sinf2 = e1.sinf) === null || _e1$sinf2 === void 0 ? void 0 : (_e1$sinf2$schi = _e1$sinf2.schi) === null || _e1$sinf2$schi === void 0 ? void 0 : _e1$sinf2$schi.tenc.default_IsEncrypted;\n          e1.default_IV_size = (_e1$sinf3 = e1.sinf) === null || _e1$sinf3 === void 0 ? void 0 : (_e1$sinf3$schi = _e1$sinf3.schi) === null || _e1$sinf3$schi === void 0 ? void 0 : _e1$sinf3$schi.tenc.default_IV_size;\n          v.videoSenc = vTrack.mdia.minf.stbl.senc && vTrack.mdia.minf.stbl.senc.samples;\n          e1.data_format = (_e1$sinf4 = e1.sinf) === null || _e1$sinf4 === void 0 ? void 0 : (_e1$sinf4$frma = _e1$sinf4.frma) === null || _e1$sinf4$frma === void 0 ? void 0 : _e1$sinf4$frma.data_format;\n          v.useEME = moov.useEME;\n          v.kidValue = moov.kidValue;\n          v.pssh = moov.pssh;\n          v.encv = e1;\n        }\n      }\n      if (aTrack && audioTrack) {\n        var _aTrack$tkhd, _e$esds3, _e$esds4, _aTrack$mdia, _aTrack$mdia$minf, _aTrack$mdia$minf$stb, _aTrack$mdia2, _aTrack$mdia2$minf, _aTrack$mdia2$minf$st;\n        var a = audioTrack;\n        var _aTrackId = (_aTrack$tkhd = aTrack.tkhd) === null || _aTrack$tkhd === void 0 ? void 0 : _aTrack$tkhd.trackId;\n        if (_aTrackId !== null && _aTrackId !== void 0)\n          a.id = aTrack.tkhd.trackId;\n        a.tkhdDuration = aTrack.tkhd.duration;\n        a.mvhdDurtion = moov.mvhd.duration;\n        a.mvhdTimecale = moov.mvhd.timescale;\n        a.timescale = a.formatTimescale = aTrack.mdia.mdhd.timescale;\n        a.duration = aTrack.mdia.mdhd.duration || a.mvhdDurtion / a.mvhdTimecale * a.timescale;\n        var _e = aTrack.mdia.minf.stbl.stsd.entries[0];\n        a.sampleSize = _e.sampleSize;\n        a.sampleRate = _e.sampleRate;\n        a.channelCount = _e.channelCount;\n        a.present = true;\n        switch (_e.type) {\n          case \"alaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMA;\n            a.sampleRate = 8e3;\n            break;\n          case \"ulaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMU;\n            a.sampleRate = 8e3;\n            break;\n          default:\n            a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n            a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n            a.objectType = ((_e$esds = _e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.objectType) || 2;\n            if (_e.esds)\n              a.config = Array.from(_e.esds.config);\n            a.codec = ((_e$esds2 = _e.esds) === null || _e$esds2 === void 0 ? void 0 : _e$esds2.codec) || \"mp4a.40.2\";\n            break;\n        }\n        a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n        a.objectType = ((_e$esds3 = _e.esds) === null || _e$esds3 === void 0 ? void 0 : _e$esds3.objectType) || 2;\n        if (_e.esds) {\n          if (_e.esds.config) {\n            a.config = Array.from(_e.esds.config);\n          } else {\n            console.warn(\"esds config is null\");\n          }\n        }\n        a.codec = ((_e$esds4 = _e.esds) === null || _e$esds4 === void 0 ? void 0 : _e$esds4.codec) || \"mp4a.40.2\";\n        a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n        a.ext = {};\n        a.ext.stss = (_aTrack$mdia = aTrack.mdia) === null || _aTrack$mdia === void 0 ? void 0 : (_aTrack$mdia$minf = _aTrack$mdia.minf) === null || _aTrack$mdia$minf === void 0 ? void 0 : (_aTrack$mdia$minf$stb = _aTrack$mdia$minf.stbl) === null || _aTrack$mdia$minf$stb === void 0 ? void 0 : _aTrack$mdia$minf$stb.stss;\n        a.ext.ctts = (_aTrack$mdia2 = aTrack.mdia) === null || _aTrack$mdia2 === void 0 ? void 0 : (_aTrack$mdia2$minf = _aTrack$mdia2.minf) === null || _aTrack$mdia2$minf === void 0 ? void 0 : (_aTrack$mdia2$minf$st = _aTrack$mdia2$minf.stbl) === null || _aTrack$mdia2$minf$st === void 0 ? void 0 : _aTrack$mdia2$minf$st.ctts;\n        a.present = true;\n        if (_e && _e.type === \"enca\") {\n          var _e$sinf, _e$sinf$frma, _e$sinf2, _e$sinf2$schi, _e$sinf3, _e$sinf3$schi, _e$sinf4, _e$sinf4$schi;\n          a.isAudioEncryption = true;\n          _e.data_format = (_e$sinf = _e.sinf) === null || _e$sinf === void 0 ? void 0 : (_e$sinf$frma = _e$sinf.frma) === null || _e$sinf$frma === void 0 ? void 0 : _e$sinf$frma.data_format;\n          _e.default_KID = (_e$sinf2 = _e.sinf) === null || _e$sinf2 === void 0 ? void 0 : (_e$sinf2$schi = _e$sinf2.schi) === null || _e$sinf2$schi === void 0 ? void 0 : _e$sinf2$schi.tenc.default_KID;\n          _e.default_IsEncrypted = (_e$sinf3 = _e.sinf) === null || _e$sinf3 === void 0 ? void 0 : (_e$sinf3$schi = _e$sinf3.schi) === null || _e$sinf3$schi === void 0 ? void 0 : _e$sinf3$schi.tenc.default_IsEncrypted;\n          _e.default_IV_size = (_e$sinf4 = _e.sinf) === null || _e$sinf4 === void 0 ? void 0 : (_e$sinf4$schi = _e$sinf4.schi) === null || _e$sinf4$schi === void 0 ? void 0 : _e$sinf4$schi.tenc.default_IV_size;\n          a.audioSenc = aTrack.mdia.minf.stbl.senc && aTrack.mdia.minf.stbl.senc.samples;\n          a.useEME = moov.useEME;\n          a.kidValue = moov.kidValue;\n          a.enca = _e;\n        }\n      }\n      audioTrack && (audioTrack.isVideoEncryption = videoTrack ? videoTrack.isVideoEncryption : false);\n      videoTrack && (videoTrack.isAudioEncryption = audioTrack ? audioTrack.isAudioEncryption : false);\n      if (videoTrack !== null && videoTrack !== void 0 && videoTrack.encv || audioTrack !== null && audioTrack !== void 0 && audioTrack.enca) {\n        var _videoTrack$encv, _audioTrack$enca;\n        var vkid = videoTrack === null || videoTrack === void 0 ? void 0 : (_videoTrack$encv = videoTrack.encv) === null || _videoTrack$encv === void 0 ? void 0 : _videoTrack$encv.default_KID;\n        var akid = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$enca = audioTrack.enca) === null || _audioTrack$enca === void 0 ? void 0 : _audioTrack$enca.default_KID;\n        var kid = vkid || akid ? (vkid || akid).join(\"\") : null;\n        videoTrack && (videoTrack.kid = kid);\n        audioTrack && (audioTrack.kid = kid);\n      }\n      videoTrack && (videoTrack.flags = 3841);\n      audioTrack && (audioTrack.flags = 1793);\n      return {\n        videoTrack,\n        audioTrack\n      };\n    }\n  }, {\n    key: \"evaluateDefaultDuration\",\n    value: function evaluateDefaultDuration(videoTrack, audioTrack, videoSampleCount) {\n      var _audioTrack$samples;\n      var audioSampleCount = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$samples = audioTrack.samples) === null || _audioTrack$samples === void 0 ? void 0 : _audioTrack$samples.length;\n      if (!audioSampleCount)\n        return 1024;\n      var segmentDuration = 1024 * audioSampleCount / audioTrack.timescale;\n      return segmentDuration * videoTrack.timescale / videoSampleCount;\n    }\n  }, {\n    key: \"moofToSamples\",\n    value: function moofToSamples(moof, videoTrack, audioTrack) {\n      var ret = {};\n      if (moof.mfhd) {\n        if (videoTrack)\n          videoTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n        if (audioTrack)\n          audioTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n      }\n      moof.traf.forEach(function(_ref) {\n        var tfhd = _ref.tfhd, tfdt = _ref.tfdt, trun = _ref.trun;\n        if (!tfhd || !trun)\n          return;\n        if (tfdt) {\n          if (videoTrack && videoTrack.id === tfhd.trackId)\n            videoTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n          if (audioTrack && audioTrack.id === tfhd.trackId)\n            audioTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n        }\n        var defaultSize = tfhd.defaultSampleSize || 0;\n        var defaultDuration = tfhd.defaultSampleDuration || MP4Parser2.evaluateDefaultDuration(videoTrack, audioTrack, trun.samples.length || trun.sampleCount);\n        var offset = trun.dataOffset || 0;\n        var dts = 0;\n        var gopId = -1;\n        if (!trun.samples.length && trun.sampleCount) {\n          ret[tfhd.trackId] = [];\n          for (var i = 0; i < trun.sampleCount; i++) {\n            ret[tfhd.trackId].push({\n              offset,\n              dts,\n              duration: defaultDuration,\n              size: defaultSize\n            });\n            dts += defaultDuration;\n            offset += defaultSize;\n          }\n        } else {\n          ret[tfhd.trackId] = trun.samples.map(function(s, index) {\n            s = {\n              offset,\n              dts,\n              pts: dts + (s.cts || 0),\n              duration: s.duration || defaultDuration,\n              size: s.size || defaultSize,\n              gopId,\n              keyframe: index === 0 || s.flags !== null && s.flags !== void 0 && (s.flags & 65536) >>> 0 !== 65536\n            };\n            if (s.keyframe) {\n              gopId++;\n              s.gopId = gopId;\n            }\n            dts += s.duration;\n            offset += s.size;\n            return s;\n          });\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"moovToSamples\",\n    value: function moovToSamples(moov) {\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia3, _t$mdia3$hdlr;\n        return ((_t$mdia3 = t.mdia) === null || _t$mdia3 === void 0 ? void 0 : (_t$mdia3$hdlr = _t$mdia3.hdlr) === null || _t$mdia3$hdlr === void 0 ? void 0 : _t$mdia3$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia4, _t$mdia4$hdlr;\n        return ((_t$mdia4 = t.mdia) === null || _t$mdia4 === void 0 ? void 0 : (_t$mdia4$hdlr = _t$mdia4.hdlr) === null || _t$mdia4$hdlr === void 0 ? void 0 : _t$mdia4$hdlr.handlerType) === \"soun\";\n      });\n      if (!vTrack && !aTrack)\n        return;\n      var videoSamples;\n      var audioSamples;\n      if (vTrack) {\n        var _vTrack$mdia3, _vTrack$mdia3$minf;\n        var videoStbl = (_vTrack$mdia3 = vTrack.mdia) === null || _vTrack$mdia3 === void 0 ? void 0 : (_vTrack$mdia3$minf = _vTrack$mdia3.minf) === null || _vTrack$mdia3$minf === void 0 ? void 0 : _vTrack$mdia3$minf.stbl;\n        if (!videoStbl)\n          return;\n        var stts = videoStbl.stts, stsc = videoStbl.stsc, stsz = videoStbl.stsz, stco = videoStbl.stco, stss = videoStbl.stss, ctts = videoStbl.ctts;\n        if (!stts || !stsc || !stsz || !stco || !stss)\n          return;\n        videoSamples = getSamples(stts, stsc, stsz, stco, ctts, stss);\n      }\n      if (aTrack) {\n        var _aTrack$mdia3, _aTrack$mdia3$minf, _aTrack$mdia$mdhd;\n        var audioStbl = (_aTrack$mdia3 = aTrack.mdia) === null || _aTrack$mdia3 === void 0 ? void 0 : (_aTrack$mdia3$minf = _aTrack$mdia3.minf) === null || _aTrack$mdia3$minf === void 0 ? void 0 : _aTrack$mdia3$minf.stbl;\n        if (!audioStbl)\n          return;\n        var timescale = (_aTrack$mdia$mdhd = aTrack.mdia.mdhd) === null || _aTrack$mdia$mdhd === void 0 ? void 0 : _aTrack$mdia$mdhd.timescale;\n        var _stts = audioStbl.stts, _stsc = audioStbl.stsc, _stsz = audioStbl.stsz, _stco = audioStbl.stco;\n        if (!timescale || !_stts || !_stsc || !_stsz || !_stco)\n          return;\n        audioSamples = getSamples(_stts, _stsc, _stsz, _stco);\n      }\n      return {\n        videoSamples,\n        audioSamples\n      };\n    }\n  }]);\n  return MP4Parser2;\n}();\nfunction getSamples(stts, stsc, stsz, stco, ctts, stss) {\n  var samples = [];\n  var cttsEntries = ctts === null || ctts === void 0 ? void 0 : ctts.entries;\n  var stscEntries = stsc.entries;\n  var stcoEntries = stco.entries;\n  var stszEntrySizes = stsz.entrySizes;\n  var stssEntries = stss === null || stss === void 0 ? void 0 : stss.entries;\n  var keyframeMap;\n  if (stssEntries) {\n    keyframeMap = {};\n    stssEntries.forEach(function(x) {\n      keyframeMap[x - 1] = true;\n    });\n  }\n  var cttsArr;\n  if (cttsEntries) {\n    cttsArr = [];\n    cttsEntries.forEach(function(_ref2) {\n      var count = _ref2.count, offset = _ref2.offset;\n      for (var i = 0; i < count; i++) {\n        cttsArr.push(offset);\n      }\n    });\n  }\n  var sample;\n  var gopId = -1;\n  var dts = 0;\n  var pos = 0;\n  var chunkIndex = 0;\n  var chunkRunIndex = 0;\n  var offsetInChunk = 0;\n  var lastSampleInChunk = stscEntries[0].samplesPerChunk;\n  var lastChunkInRun = stscEntries[1] ? stscEntries[1].firstChunk - 1 : Infinity;\n  stts.entries.forEach(function(_ref3) {\n    var count = _ref3.count, delta = _ref3.delta;\n    for (var i = 0; i < count; i++) {\n      sample = {\n        dts,\n        duration: delta,\n        size: stszEntrySizes[pos] || stsz.sampleSize,\n        offset: stcoEntries[chunkIndex] + offsetInChunk,\n        index: pos\n      };\n      if (stssEntries) {\n        sample.keyframe = keyframeMap[pos];\n        if (sample.keyframe) {\n          gopId++;\n        }\n        sample.gopId = gopId;\n      }\n      if (cttsArr && pos < cttsArr.length) {\n        sample.pts = sample.dts + cttsArr[pos];\n      }\n      samples.push(sample);\n      dts += delta;\n      pos++;\n      if (pos < lastSampleInChunk) {\n        offsetInChunk += sample.size;\n      } else {\n        chunkIndex++;\n        offsetInChunk = 0;\n        if (chunkIndex >= lastChunkInRun) {\n          chunkRunIndex++;\n          lastChunkInRun = stscEntries[chunkRunIndex + 1] ? stscEntries[chunkRunIndex + 1].firstChunk - 1 : Infinity;\n        }\n        lastSampleInChunk += stscEntries[chunkRunIndex].samplesPerChunk;\n      }\n    }\n  });\n  return samples;\n}\nfunction parseVisualSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.width = readBig16(data, 24);\n  ret.height = readBig16(data, 26);\n  ret.horizresolution = readBig32(data, 28);\n  ret.vertresolution = readBig32(data, 32);\n  ret.frameCount = readBig16(data, 40);\n  ret.depth = readBig16(data, 74);\n  return 78;\n}\nfunction parseAudioSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.channelCount = readBig16(data, 16);\n  ret.sampleSize = readBig16(data, 18);\n  ret.sampleRate = readBig32(data, 24) / (1 << 16);\n  return 28;\n}\nfunction parseBox(box, isFullBox, parse) {\n  if (!box)\n    return;\n  if (box.size !== box.data.length) {\n    throw new Error(\"box \".concat(box.type, \" size !== data.length\"));\n  }\n  var ret = {\n    start: box.start,\n    size: box.size,\n    headerSize: box.headerSize,\n    type: box.type\n  };\n  if (isFullBox) {\n    ret.version = box.data[box.headerSize];\n    ret.flags = readBig24(box.data, box.headerSize + 1);\n    ret.headerSize += 4;\n  }\n  parse(ret, box.data.subarray(ret.headerSize), ret.start + ret.headerSize);\n  return ret;\n}\nvar padStart = function padStart2(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nvar toHex = function toHex2() {\n  var hex = [];\n  for (var _len = arguments.length, value = new Array(_len), _key = 0; _key < _len; _key++) {\n    value[_key] = arguments[_key];\n  }\n  value.forEach(function(item) {\n    hex.push(padStart(Number(item).toString(16), 2, 0));\n  });\n  return hex[0];\n};\nexport { MP4Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { concatUint8Array } from \"xgplayer-streaming-shared\";\nvar Decryptor = /* @__PURE__ */ function() {\n  function Decryptor2() {\n    _classCallCheck(this, Decryptor2);\n    var crypto = window.crypto || window.msCrypto;\n    this.subtle = crypto && (crypto.subtle || crypto.webkitSubtle);\n    this.externalDecryptor = null;\n  }\n  _createClass(Decryptor2, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$externalDecrypt;\n      if ((_this$externalDecrypt = this.externalDecryptor) !== null && _this$externalDecrypt !== void 0 && _this$externalDecrypt.destroy) {\n        this.externalDecryptor.destroy();\n      }\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(video, audio) {\n      if (!video && !audio)\n        return;\n      var ret = [];\n      if (video) {\n        ret[0] = this._decryptSegment(video);\n      }\n      if (audio) {\n        ret[1] = this._decryptSegment(audio);\n      }\n      return Promise.all(ret);\n    }\n  }, {\n    key: \"_decryptSegment\",\n    value: function() {\n      var _decryptSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(seg) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = seg.data;\n                if (!seg.key) {\n                  _context2.next = 5;\n                  break;\n                }\n                _context2.next = 4;\n                return this._decryptData(seg.data, seg.key, seg.keyIv);\n              case 4:\n                data = _context2.sent;\n              case 5:\n                if (seg.map) {\n                  _context2.next = 7;\n                  break;\n                }\n                return _context2.abrupt(\"return\", data);\n              case 7:\n                return _context2.abrupt(\"return\", concatUint8Array(seg.map, data));\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function _decryptSegment(_x4) {\n        return _decryptSegment2.apply(this, arguments);\n      }\n      return _decryptSegment;\n    }()\n  }, {\n    key: \"_decryptData\",\n    value: function() {\n      var _decryptData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(data, key, iv) {\n        var aesKey;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.externalDecryptor) {\n                  _context3.next = 6;\n                  break;\n                }\n                _context3.next = 3;\n                return this.externalDecryptor.decrypt(data, key, iv);\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n              case 6:\n                if (this.subtle) {\n                  _context3.next = 8;\n                  break;\n                }\n                throw new Error(\"crypto is not defined\");\n              case 8:\n                _context3.next = 10;\n                return this.subtle.importKey(\"raw\", key, {\n                  name: \"AES-CBC\"\n                }, false, [\"encrypt\", \"decrypt\"]);\n              case 10:\n                aesKey = _context3.sent;\n                _context3.t0 = Uint8Array;\n                _context3.next = 14;\n                return this.subtle.decrypt({\n                  name: \"AES-CBC\",\n                  iv\n                }, aesKey, data);\n              case 14:\n                _context3.t1 = _context3.sent;\n                return _context3.abrupt(\"return\", new _context3.t0(_context3.t1));\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _decryptData(_x5, _x6, _x7) {\n        return _decryptData2.apply(this, arguments);\n      }\n      return _decryptData;\n    }()\n  }]);\n  return Decryptor2;\n}();\nexport { Decryptor };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack } from \"../model/metadata-track.js\";\nimport { concatUint8Array, readBig32 } from \"../utils/index.js\";\nimport { MP4Parser } from \"./mp4-parser.js\";\nvar FMP4Demuxer = /* @__PURE__ */ function() {\n  function FMP4Demuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, FMP4Demuxer2);\n    _defineProperty(this, \"__loadedMoofWraps\", []);\n    _defineProperty(this, \"__lastRemainData\", null);\n    _defineProperty(this, \"__lastRemainDataStart\", 0);\n    _defineProperty(this, \"__nextMoofStart\", -1);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n  }\n  _createClass(FMP4Demuxer2, [{\n    key: \"demuxPart\",\n    value: function demuxPart(partData, partDataStart, moov) {\n      var _this = this;\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      var isAV01 = /av01/.test(videoTrack.codec);\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      var data = partData;\n      var dataStart = partDataStart;\n      if (this.__lastRemainData) {\n        var lastRemainDataEnd = this.__lastRemainDataStart + this.__lastRemainData.byteLength;\n        var continuous = partDataStart <= lastRemainDataEnd && partDataStart > this.__lastRemainDataStart && partDataStart + partData.byteLength > lastRemainDataEnd;\n        if (continuous) {\n          var noDuplicateData = partData.subarray(this.__lastRemainData.byteLength + this.__lastRemainDataStart - partDataStart);\n          data = concatUint8Array(this.__lastRemainData, noDuplicateData);\n          dataStart = this.__lastRemainDataStart;\n          this.__lastRemainData = null;\n        } else {\n          this.__lastRemainData = null;\n          this.__lastRemainDataStart = 0;\n          this.__nextMoofStart = -1;\n        }\n      }\n      if (!moov) {\n        var moovBox = MP4Parser.findBox(data, [\"moov\"])[0];\n        if (!moovBox)\n          throw new Error(\"cannot found moov box\");\n        moov = MP4Parser.moov(moovBox);\n      }\n      if (data) {\n        var dataEnd = dataStart + data.byteLength;\n        if (!videoExist && !audioExist) {\n          MP4Parser.moovToTrack(moov, videoTrack, audioTrack);\n        }\n        var moofBoxes = [];\n        if (this.__nextMoofStart < 0) {\n          MP4Parser.findBox(data, [\"moof\"], dataStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        } else if (this.__nextMoofStart >= dataStart && this.__nextMoofStart <= dataEnd - 8) {\n          MP4Parser.findBox(data.subarray(this.__nextMoofStart - dataStart), [\"moof\"], this.__nextMoofStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        }\n        moofBoxes.filter(function(moofBox) {\n          return moofBox.size <= moofBox.data.length;\n        }).forEach(function(moofBox) {\n          var moof = MP4Parser.moof(moofBox);\n          _this.__nextMoofStart = moof.start + Math.max.apply(Math, _toConsumableArray(moof.traf.map(function(v) {\n            return v.trun.samples.reduce(function(ret, w) {\n              return ret + w.size;\n            }, v.trun.dataOffset || 0);\n          })));\n          _this.__loadedMoofWraps.push({\n            start: moof.start,\n            nextMoofStart: _this.__nextMoofStart,\n            moof\n          });\n          _this.__loadedMoofWraps.sort(function(p, n) {\n            return p.start - n.start;\n          });\n        });\n        var _iterator = _createForOfIteratorHelper(this.__loadedMoofWraps), _step;\n        try {\n          var _loop = function _loop2() {\n            var moofWrap = _step.value;\n            if (moofWrap.start > dataEnd || moofWrap.nextMoofStart < dataStart) {\n              return \"continue\";\n            }\n            var moofStart = moofWrap.start;\n            var tracks = MP4Parser.moofToSamples(moofWrap.moof, videoTrack, audioTrack);\n            var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n            var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n            var nalSize;\n            Object.keys(tracks).forEach(function(k) {\n              if (videoTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset += moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                  sample.duration = x.duration;\n                  sample.gopId = x.gopId;\n                  if (x.keyframe)\n                    sample.setToKeyframe();\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  sample.data = sampleData;\n                  if (!isAV01) {\n                    var start = 0;\n                    var len = sampleData.length - 1;\n                    while (start < len) {\n                      nalSize = readBig32(sampleData, start);\n                      start += 4;\n                      sample.units.push(sampleData.subarray(start, start + nalSize));\n                      start += nalSize;\n                    }\n                  }\n                  _this.__lastRemainDataStart = xStart + x.size;\n                  videoTrack.samples.push(sample);\n                });\n              } else if (audioTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset + moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n                  _this.__lastRemainDataStart = xStart + x.size;\n                });\n              }\n            });\n          };\n          for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n            var _ret = _loop();\n            if (_ret === \"continue\")\n              continue;\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      if (this.__lastRemainDataStart > dataStart && this.__lastRemainDataStart < data.byteLength + dataStart) {\n        this.__lastRemainData = data.subarray(this.__lastRemainDataStart - dataStart);\n      } else {\n        this.__lastRemainData = data;\n        this.__lastRemainDataStart = dataStart;\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].pts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts;\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demux\",\n    value: function demux(videoData, audioData) {\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      if (audioData) {\n        if (!audioExist) {\n          var moovBox = MP4Parser.findBox(audioData, [\"moov\"])[0];\n          if (!moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(moovBox), null, audioTrack);\n        }\n        var moofBox = MP4Parser.findBox(audioData, [\"moof\"])[0];\n        if (moofBox) {\n          var samples = MP4Parser.moofToSamples(MP4Parser.moof(moofBox), null, audioTrack)[audioTrack.id];\n          var baseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          if (samples) {\n            var baseOffset = moofBox.start;\n            samples.map(function(x) {\n              x.offset += baseOffset;\n              var sampleData = audioData.subarray(x.offset, x.offset + x.size);\n              audioTrack.samples.push(new AudioSample(x.dts + baseMediaDecodeTime, sampleData, x.duration));\n            });\n          }\n        }\n      }\n      if (videoData) {\n        if (!videoExist && !audioExist) {\n          var _moovBox = MP4Parser.findBox(videoData, [\"moov\"])[0];\n          if (!_moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(_moovBox), videoTrack, audioTrack);\n        }\n        var _moofBox = MP4Parser.findBox(videoData, [\"moof\"])[0];\n        if (_moofBox) {\n          var tracks = MP4Parser.moofToSamples(MP4Parser.moof(_moofBox), videoTrack, audioTrack);\n          var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n          var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          var _baseOffset = _moofBox.start;\n          var nalSize;\n          Object.keys(tracks).forEach(function(k) {\n            if (videoTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                sample.duration = x.duration;\n                sample.gopId = x.gopId;\n                if (x.keyframe)\n                  sample.setToKeyframe();\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                sample.data = sampleData;\n                var start = 0;\n                var len = sampleData.length - 1;\n                while (start < len) {\n                  nalSize = readBig32(sampleData, start);\n                  start += 4;\n                  sample.units.push(sampleData.subarray(start, start + nalSize));\n                  start += nalSize;\n                }\n                videoTrack.samples.push(sample);\n              });\n            } else if (audioTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n              });\n            }\n          });\n        }\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n      this.metadataTrack.reset();\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      return MP4Parser.probe(data);\n    }\n  }]);\n  return FMP4Demuxer2;\n}();\nexport { FMP4Demuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction Concat(ResultConstructor) {\n  var totalLength = 0;\n  for (var _len = arguments.length, arrays = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    arrays[_key - 1] = arguments[_key];\n  }\n  arrays.forEach(function(arr) {\n    totalLength += arr.length;\n  });\n  var result = new ResultConstructor(totalLength);\n  var offset = 0;\n  arrays.forEach(function(arr) {\n    result.set(arr, offset);\n    offset += arr.length;\n  });\n  return result;\n}\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n    this.buffer = new Uint8Array(0);\n  }\n  _createClass(Buffer2, [{\n    key: \"write\",\n    value: function write() {\n      var self = this;\n      for (var _len2 = arguments.length, buffer = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        buffer[_key2] = arguments[_key2];\n      }\n      buffer.forEach(function(item) {\n        if (item) {\n          self.buffer = Concat(Uint8Array, self.buffer, item);\n        } else {\n          window.console.warn(item);\n        }\n      });\n    }\n  }], [{\n    key: \"writeUint16\",\n    value: function writeUint16(value) {\n      return new Uint8Array([value >> 8 & 255, value & 255]);\n    }\n  }, {\n    key: \"writeUint32\",\n    value: function writeUint32(value) {\n      return new Uint8Array([value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255]);\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer as default };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray, slicedToArray as _slicedToArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { concatUint8Array, parse } from \"../utils/index.js\";\nimport Buffer from \"./buffer.js\";\nvar UINT32_MAX = Math.pow(2, 32) - 1;\nvar MP4 = /* @__PURE__ */ function() {\n  function MP42() {\n    _classCallCheck(this, MP42);\n  }\n  _createClass(MP42, null, [{\n    key: \"box\",\n    value: function box(type) {\n      for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        payload[_key - 1] = arguments[_key];\n      }\n      payload = payload.filter(Boolean);\n      var size = 8 + payload.reduce(function(p, c) {\n        return p + c.byteLength;\n      }, 0);\n      var ret = new Uint8Array(size);\n      ret[0] = size >> 24 & 255;\n      ret[1] = size >> 16 & 255;\n      ret[2] = size >> 8 & 255;\n      ret[3] = size & 255;\n      ret.set(type, 4);\n      var offset = 8;\n      payload.forEach(function(data) {\n        ret.set(data, offset);\n        offset += data.byteLength;\n      });\n      return ret;\n    }\n  }, {\n    key: \"ftyp\",\n    value: function ftyp(tracks) {\n      var isHevc = tracks.find(function(t) {\n        return t.type === TrackType.VIDEO && t.codecType === VideoCodecType.HEVC;\n      });\n      return isHevc ? MP42.FTYPHEV1 : MP42.FTYPAVC1;\n    }\n  }, {\n    key: \"initSegment\",\n    value: function initSegment(tracks) {\n      var ftyp = MP42.ftyp(tracks);\n      var init = concatUint8Array(ftyp, MP42.moov(tracks));\n      return init;\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(data) {\n      var content = new Uint8Array([\n        1,\n        0,\n        0,\n        0\n      ].concat([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75], [0, 0, 0, 1], parse(data.kid), [0, 0, 0, 0]));\n      return MP42.box(MP42.types.pssh, content);\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(tracks) {\n      if (tracks[0].useEME && (tracks[0].encv || tracks[0].enca)) {\n        if (!tracks[0].pssh) {\n          tracks[0].pssh = {\n            kid: tracks[0].kid\n          };\n        }\n        var pssh = this.pssh(tracks[0].pssh);\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale), MP42.mvex(tracks)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [pssh]));\n      } else {\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [MP42.mvex(tracks)]));\n      }\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mvhd2 = MP42.box(MP42.types.mvhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        1,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        255,\n        255,\n        255,\n        255\n      ]));\n      return mvhd2;\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(track) {\n      var trak2 = MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.tkhdDuration || 0, track.width, track.height), MP42.mdia(track));\n      return trak2;\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(id, duration) {\n      var width = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var height = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var tkhd2 = MP42.box(MP42.types.tkhd, new Uint8Array([\n        0,\n        0,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        id >> 24 & 255,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        0,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        0,\n        0,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        0\n      ]));\n      return tkhd2;\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(track) {\n      var mdia2 = MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minf(track));\n      return mdia2;\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mdhd2 = MP42.box(MP42.types.mdhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        85,\n        196,\n        0,\n        0\n      ]));\n      return mdhd2;\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(type) {\n      var hdlr2 = MP42.box(MP42.types.hdlr, MP42.HDLR_TYPES[type]);\n      return hdlr2;\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(track) {\n      var minf2 = MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stbl(track));\n      return minf2;\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(track) {\n      var extBox = [];\n      if (track && track.ext) {\n        track.ext.stss && extBox.push(MP42.stss(track.ext.stss.entries));\n      }\n      var stbl2 = MP42.box(MP42.types.stbl, MP42.stsd(track), MP42.STTS, extBox[0], MP42.STSC, MP42.STSZ, MP42.STCO);\n      return stbl2;\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(track) {\n      var content;\n      if (track.type === \"audio\") {\n        if (track.useEME && track.enca) {\n          content = MP42.enca(track);\n        } else {\n          if (track.codecType === AudioCodecType.OPUS) {\n            content = MP42.opus(track);\n          } else {\n            content = MP42.mp4a(track);\n          }\n        }\n      } else if (track.useEME && track.encv) {\n        content = MP42.encv(track);\n      } else if (track.av1C) {\n        content = MP42.av01(track);\n      } else {\n        content = MP42.avc1hev1(track);\n      }\n      var stsd2 = MP42.box(MP42.types.stsd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]), content);\n      return stsd2;\n    }\n  }, {\n    key: \"enca\",\n    value: function enca(data) {\n      var channelCount = data.enca.channelCount;\n      var sampleRate = data.enca.sampleRate;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        sampleRate >> 8 & 255,\n        sampleRate & 255,\n        0,\n        0\n      ]);\n      var esds = MP42.esds(data.config);\n      var sinf = MP42.sinf(data.enca);\n      return MP42.box(MP42.types.enca, content, esds, sinf);\n    }\n  }, {\n    key: \"encv\",\n    value: function encv(track) {\n      var _concat$concat, _ref;\n      var sps = track.sps.length > 0 ? track.sps[0] : [];\n      var pps = track.pps.length > 0 ? track.pps[0] : [];\n      var width = track.width;\n      var height = track.height;\n      var hSpacing = track.sarRatio[0];\n      var vSpacing = track.sarRatio[1];\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        18,\n        100,\n        97,\n        105,\n        108,\n        121,\n        109,\n        111,\n        116,\n        105,\n        111,\n        110,\n        47,\n        104,\n        108,\n        115,\n        46,\n        106,\n        115,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]);\n      var avcc = new Uint8Array((_concat$concat = (_ref = [\n        1,\n        sps[1],\n        sps[2],\n        sps[3],\n        252 | 3,\n        224 | 1,\n        sps.length >>> 8 & 255,\n        sps.length & 255\n      ]).concat.apply(_ref, _toConsumableArray(sps)).concat([1, pps.length >>> 8 & 255, pps.length & 255])).concat.apply(_concat$concat, _toConsumableArray(pps)));\n      var btrt = new Uint8Array([0, 0, 88, 57, 0, 15, 200, 192, 0, 4, 86, 72]);\n      var sinf = MP42.sinf(track.encv);\n      var pasp = new Uint8Array([\n        hSpacing >> 24,\n        hSpacing >> 16 & 255,\n        hSpacing >> 8 & 255,\n        hSpacing & 255,\n        vSpacing >> 24,\n        vSpacing >> 16 & 255,\n        vSpacing >> 8 & 255,\n        vSpacing & 255\n      ]);\n      return MP42.box(MP42.types.encv, content, MP42.box(MP42.types.avcC, avcc), MP42.box(MP42.types.btrt, btrt), sinf, MP42.box(MP42.types.pasp, pasp));\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(data) {\n      var content = new Uint8Array([]);\n      var tenc = MP42.tenc(data);\n      return MP42.box(MP42.types.schi, content, tenc);\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(data) {\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.default_IsEncrypted & 255,\n        data.default_IV_size & 255\n      ].concat(parse(data.default_KID)));\n      return MP42.box(MP42.types.tenc, content);\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(data) {\n      var content = new Uint8Array([]);\n      var frma = new Uint8Array([data.data_format.charCodeAt(0), data.data_format.charCodeAt(1), data.data_format.charCodeAt(2), data.data_format.charCodeAt(3)]);\n      var schm = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        99,\n        101,\n        110,\n        99,\n        0,\n        1,\n        0,\n        0\n      ]);\n      var schi = MP42.schi(data);\n      return MP42.box(MP42.types.sinf, content, MP42.box(MP42.types.frma, frma), MP42.box(MP42.types.schm, schm), schi);\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(track) {\n      return MP42.box(MP42.types.av01, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), track.av1C, track.colr);\n    }\n  }, {\n    key: \"avc1hev1\",\n    value: function avc1hev1(track) {\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var typ = isHevc ? MP42.types.hvc1 : MP42.types.avc1;\n      var config = isHevc ? MP42.hvcC(track) : MP42.avcC(track);\n      var boxes = [new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), config];\n      if (isHevc) {\n        boxes.push(MP42.box(MP42.types.fiel, new Uint8Array([1, 0])));\n      } else if (track.sarRatio && track.sarRatio.length > 1) {\n        boxes.push(MP42.pasp(track.sarRatio));\n      }\n      return MP42.box.apply(MP42, [typ].concat(boxes));\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(track) {\n      var _concat$concat2, _ref2;\n      var sps = [];\n      var pps = [];\n      var len;\n      track.sps.forEach(function(s) {\n        len = s.byteLength;\n        sps.push(len >>> 8 & 255);\n        sps.push(len & 255);\n        sps.push.apply(sps, _toConsumableArray(s));\n      });\n      track.pps.forEach(function(p) {\n        len = p.byteLength;\n        pps.push(len >>> 8 & 255);\n        pps.push(len & 255);\n        pps.push.apply(pps, _toConsumableArray(p));\n      });\n      return MP42.box(MP42.types.avcC, new Uint8Array((_concat$concat2 = (_ref2 = [\n        1,\n        sps[3],\n        sps[4],\n        sps[5],\n        252 | 3,\n        224 | track.sps.length\n      ]).concat.apply(_ref2, sps).concat([track.pps.length])).concat.apply(_concat$concat2, pps)));\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(track) {\n      var hvcC2 = track.hvcC;\n      if (hvcC2 instanceof ArrayBuffer || hvcC2 instanceof Uint8Array)\n        return hvcC2;\n      var vps = track.vps, sps = track.sps, pps = track.pps;\n      var data;\n      if (hvcC2) {\n        var pcf = hvcC2.generalProfileCompatibilityFlags;\n        var cif = hvcC2.generalConstraintIndicatorFlags;\n        var numOfArrays = (vps.length && 1) + (sps.length && 1) + (pps.length && 1);\n        data = [\n          1,\n          hvcC2.generalProfileSpace << 6 | hvcC2.generalTierFlag << 5 | hvcC2.generalProfileIdc,\n          pcf >>> 24,\n          pcf >>> 16,\n          pcf >>> 8,\n          pcf,\n          cif[0],\n          cif[1],\n          cif[2],\n          cif[3],\n          cif[4],\n          cif[5],\n          hvcC2.generalLevelIdc,\n          240,\n          0,\n          252,\n          hvcC2.chromaFormatIdc | 252,\n          hvcC2.bitDepthLumaMinus8 | 248,\n          hvcC2.bitDepthChromaMinus8 | 248,\n          0,\n          0,\n          hvcC2.numTemporalLayers << 3 | hvcC2.temporalIdNested << 2 | 3,\n          numOfArrays\n        ];\n        var write = function write2(x) {\n          var _data;\n          data.push(x.length >> 8, x.length);\n          (_data = data).push.apply(_data, _toConsumableArray(x));\n        };\n        if (vps.length) {\n          data.push(160, 0, vps.length);\n          vps.forEach(write);\n        }\n        if (sps.length) {\n          data.push(161, 0, sps.length);\n          sps.forEach(write);\n        }\n        if (pps.length) {\n          data.push(162, 0, pps.length);\n          pps.forEach(write);\n        }\n      } else {\n        data = [\n          1,\n          1,\n          96,\n          0,\n          0,\n          0,\n          144,\n          0,\n          0,\n          0,\n          0,\n          0,\n          93,\n          240,\n          0,\n          252,\n          253,\n          248,\n          248,\n          0,\n          0,\n          15,\n          3,\n          160,\n          0,\n          1,\n          0,\n          24,\n          64,\n          1,\n          12,\n          1,\n          255,\n          255,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          153,\n          152,\n          9,\n          161,\n          0,\n          1,\n          0,\n          45,\n          66,\n          1,\n          1,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          160,\n          2,\n          128,\n          128,\n          45,\n          22,\n          89,\n          153,\n          164,\n          147,\n          43,\n          154,\n          128,\n          128,\n          128,\n          130,\n          0,\n          0,\n          3,\n          0,\n          2,\n          0,\n          0,\n          3,\n          0,\n          50,\n          16,\n          162,\n          0,\n          1,\n          0,\n          7,\n          68,\n          1,\n          193,\n          114,\n          180,\n          98,\n          64\n        ];\n      }\n      return MP42.box(MP42.types.hvcC, new Uint8Array(data));\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2), hSpacing = _ref4[0], vSpacing = _ref4[1];\n      return MP42.box(MP42.types.pasp, new Uint8Array([hSpacing >> 24, hSpacing >> 16 & 255, hSpacing >> 8 & 255, hSpacing & 255, vSpacing >> 24, vSpacing >> 16 & 255, vSpacing >> 8 & 255, vSpacing & 255]));\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(track) {\n      return MP42.box(MP42.types.mp4a, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]), track.config.length ? MP42.esds(track.config) : void 0);\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(config) {\n      var len = config.length;\n      var esds2 = MP42.box(MP42.types.esds, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        3,\n        23 + len,\n        0,\n        0,\n        0,\n        4,\n        15 + len,\n        64,\n        21,\n        0,\n        6,\n        0,\n        0,\n        0,\n        218,\n        192,\n        0,\n        0,\n        218,\n        192,\n        5\n      ].concat([len]).concat(config).concat(\n        [6, 1, 2]\n      )));\n      return esds2;\n    }\n  }, {\n    key: \"opus\",\n    value: function opus(track) {\n      var opusAudioDescription = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]);\n      var opusSpecificConfig = track.config.length ? MP42.dOps(track) : [];\n      return MP42.box(MP42.types.Opus, opusAudioDescription, opusSpecificConfig);\n    }\n  }, {\n    key: \"dOps\",\n    value: function dOps(track) {\n      if (track.config) {\n        track.config[4] = track.sampleRate >>> 24 & 255;\n        track.config[5] = track.sampleRate >>> 16 & 255;\n        track.config[6] = track.sampleRate >>> 8 & 255;\n        track.config[7] = track.sampleRate & 255;\n        return MP42.box(MP42.types.dOps, track.config);\n      }\n    }\n  }, {\n    key: \"mvex\",\n    value: function mvex(tracks) {\n      var mvex2 = MP42.box.apply(MP42, [MP42.types.mvex].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trex(t.id);\n      }))));\n      return mvex2;\n    }\n  }, {\n    key: \"trex\",\n    value: function trex(id) {\n      var trex2 = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        1\n      ]));\n      return trex2;\n    }\n  }, {\n    key: \"trex1\",\n    value: function trex1(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"trex2\",\n    value: function trex2(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(tracks) {\n      var moof2 = MP42.box.apply(MP42, [MP42.types.moof, MP42.mfhd(tracks[0].samples ? tracks[0].samples[0].gopId : 0)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.traf(t);\n      }))));\n      return moof2;\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(sequenceNumber) {\n      var mfhd2 = MP42.box(MP42.types.mfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        sequenceNumber >> 24,\n        sequenceNumber >> 16 & 255,\n        sequenceNumber >> 8 & 255,\n        sequenceNumber & 255\n      ]));\n      return mfhd2;\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(track) {\n      var tfhd = MP42.tfhd(track.id);\n      var tfdt = MP42.tfdt(track, track.baseMediaDecodeTime);\n      var sencLength = 0;\n      var samples;\n      if (track.isVideo && track.videoSenc) {\n        samples = track.videoSenc;\n        samples.forEach(function(item) {\n          sencLength = sencLength + 8;\n          if (item.subsamples && item.subsamples.length) {\n            sencLength = sencLength + 2;\n            sencLength = sencLength + item.subsamples.length * 6;\n          }\n        });\n      }\n      track.videoSencLength = sencLength;\n      if (!track.useEME || !track.isVideoEncryption && !track.isAudioEncryption) {\n        var sdtp = MP42.sdtp(track);\n        var offset = 16 + 20 + 8 + 16 + 8 + 8;\n        return MP42.box(MP42.types.traf, tfhd, tfdt, sdtp, MP42.trun(track.samples, sdtp.byteLength + offset));\n      } else if (track.isVideoEncryption) {\n        if (track.isVideo) {\n          var saiz = MP42.saiz(track);\n          var saio = MP42.saio(track);\n          var trun = MP42.trun1(track);\n          var senc = MP42.senc(track);\n          var traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, saiz, saio, trun, senc);\n          return traf2;\n        } else {\n          if (!track.isAudioEncryption) {\n            var sbgp = MP42.sbgp();\n            var _trun = MP42.trun1(track);\n            return MP42.box(MP42.types.traf, tfhd, tfdt, sbgp, _trun);\n          } else {\n            var _sbgp = MP42.sbgp();\n            var _saiz = MP42.saiz(track);\n            var _saio = MP42.saio(track);\n            var _senc = MP42.senc(track);\n            var _trun2 = MP42.trun1(track);\n            var _traf = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp, _saiz, _saio, _senc, _trun2);\n            return _traf;\n          }\n        }\n      } else {\n        if (track.isVideo) {\n          var _trun3 = MP42.trun1(track);\n          return MP42.box(MP42.types.traf, tfhd, tfdt, _trun3);\n        } else {\n          var _sbgp2 = MP42.sbgp();\n          var _saiz2 = MP42.saiz(track);\n          var _saio2 = MP42.saio(track);\n          var _senc2 = MP42.senc(track);\n          var _trun4 = MP42.trun1(track);\n          var _traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp2, _saiz2, _saio2, _senc2, _trun4);\n          return _traf2;\n        }\n      }\n    }\n  }, {\n    key: \"sdtp\",\n    value: function sdtp(data) {\n      var buffer = new Buffer();\n      data.samples.forEach(function(item) {\n        buffer.write(new Uint8Array(data.isVideo ? [item.keyframe ? 32 : 16] : [16]));\n      });\n      return MP42.box(MP42.types.sdtp, this.extension(0, 0), buffer.buffer);\n    }\n  }, {\n    key: \"trun1\",\n    value: function trun1(data) {\n      var buffer = new Buffer();\n      var sampleCount = Buffer.writeUint32(data.samples.length);\n      var offset = null;\n      if (data.isVideo) {\n        var sencLength = data.videoSencLength;\n        offset = Buffer.writeUint32(data.samples.length * 16 + sencLength + 149);\n        if (!data.isVideoEncryption && data.isAudioEncryption) {\n          offset = Buffer.writeUint32(data.samples.length * 16 + 92);\n        }\n      } else {\n        var len = data.samples.length * 12 + 124;\n        if (data.isAudioEncryption) {\n          len = data.samples.length * 12 + 8 * data.audioSenc.length + 177;\n        }\n        offset = Buffer.writeUint32(len);\n      }\n      data.samples.forEach(function(item) {\n        buffer.write(Buffer.writeUint32(item.duration));\n        buffer.write(Buffer.writeUint32(item.size));\n        buffer.write(Buffer.writeUint32(item.keyframe ? 33554432 : 65536));\n        if (data.isVideo) {\n          buffer.write(Buffer.writeUint32(item.cts ? item.cts : 0));\n        }\n      });\n      return MP42.box(MP42.types.trun, this.extension(0, data.flags), sampleCount, offset, buffer.buffer);\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(data) {\n      var buffer = new Buffer();\n      var len = data.samples.length;\n      var ceil = data.isVideo ? 16 : 8;\n      var flag = data.isVideo ? 2 : 0;\n      var samples = [];\n      var samplesLength = 0;\n      if (data.isVideo) {\n        samples = data.videoSenc;\n        samplesLength = data.videoSencLength;\n      } else {\n        samples = data.audioSenc;\n      }\n      samplesLength = samplesLength || ceil * len;\n      buffer.write(Buffer.writeUint32(16 + samplesLength), MP42.types.senc, this.extension(0, flag));\n      buffer.write(Buffer.writeUint32(len));\n      samples.forEach(function(item) {\n        for (var i = 0; i < item.InitializationVector.length; i++) {\n          buffer.write(new Uint8Array([item.InitializationVector[i]]));\n        }\n        if (item.subsamples && item.subsamples.length) {\n          buffer.write(Buffer.writeUint16(item.subsamples.length));\n          item.subsamples.forEach(function(value) {\n            buffer.write(Buffer.writeUint16(value.BytesOfClearData));\n            buffer.write(Buffer.writeUint32(value.BytesOfProtectedData));\n          });\n        }\n      });\n      return buffer.buffer;\n    }\n  }, {\n    key: \"saio\",\n    value: function saio(data) {\n      var length = data.samples.length * 12 + 141;\n      if (!data.isVideo && data.isAudioEncryption) {\n        length = 149;\n      }\n      var content = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, length >> 24 & 255, length >> 16 & 255, length >> 8 & 255, length & 255]);\n      return MP42.box(MP42.types.saio, content);\n    }\n  }, {\n    key: \"saiz\",\n    value: function saiz(data) {\n      var samplesLength = data.samples.length;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        16,\n        samplesLength >> 24 & 255,\n        samplesLength >> 16 & 255,\n        samplesLength >> 8 & 255,\n        samplesLength & 255\n      ]);\n      return MP42.box(MP42.types.saiz, content);\n    }\n  }, {\n    key: \"sbgp\",\n    value: function sbgp() {\n      var content = new Uint8Array([\n        114,\n        111,\n        108,\n        108,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        1,\n        25,\n        0,\n        0,\n        0,\n        1\n      ]);\n      return MP42.box(MP42.types.sbgp, this.extension(0, 0), content);\n    }\n  }, {\n    key: \"extension\",\n    value: function extension(version, flag) {\n      return new Uint8Array([version, flag >> 16 & 255, flag >> 8 & 255, flag & 255]);\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(id) {\n      return MP42.box(MP42.types.tfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255\n      ]));\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(data, baseMediaDecodeTime) {\n      var upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));\n      var lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));\n      if (data.useEME && (data.isVideoEncryption || data.isAudioEncryption)) {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          0,\n          0,\n          0,\n          0,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      } else {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          1,\n          0,\n          0,\n          0,\n          upperWordBaseMediaDecodeTime >> 24,\n          upperWordBaseMediaDecodeTime >> 16 & 255,\n          upperWordBaseMediaDecodeTime >> 8 & 255,\n          upperWordBaseMediaDecodeTime & 255,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      }\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(samples, offset) {\n      var sampleLen = samples.length;\n      var dataLen = 12 + 16 * sampleLen;\n      offset += 8 + dataLen;\n      var data = new Uint8Array(dataLen);\n      data.set([\n        0,\n        0,\n        15,\n        1,\n        sampleLen >>> 24 & 255,\n        sampleLen >>> 16 & 255,\n        sampleLen >>> 8 & 255,\n        sampleLen & 255,\n        offset >>> 24 & 255,\n        offset >>> 16 & 255,\n        offset >>> 8 & 255,\n        offset & 255\n      ], 0);\n      for (var i = 0; i < sampleLen; i++) {\n        var _samples$i = samples[i], duration = _samples$i.duration, size = _samples$i.size, _samples$i$flag = _samples$i.flag, flag = _samples$i$flag === void 0 ? {} : _samples$i$flag, _samples$i$cts = _samples$i.cts, cts = _samples$i$cts === void 0 ? 0 : _samples$i$cts;\n        data.set([\n          duration >>> 24 & 255,\n          duration >>> 16 & 255,\n          duration >>> 8 & 255,\n          duration & 255,\n          size >>> 24 & 255,\n          size >>> 16 & 255,\n          size >>> 8 & 255,\n          size & 255,\n          flag.isLeading << 2 | (flag.dependsOn === null || flag.dependsOn === void 0 ? 1 : flag.dependsOn),\n          flag.isDependedOn << 6 | flag.hasRedundancy << 4 | flag.paddingValue << 1 | (flag.isNonSyncSample === null || flag.isNonSyncSample === void 0 ? 1 : flag.isNonSyncSample),\n          flag.degradationPriority & 240 << 8,\n          flag.degradationPriority & 15,\n          cts >>> 24 & 255,\n          cts >>> 16 & 255,\n          cts >>> 8 & 255,\n          cts & 255\n        ], 12 + 16 * i);\n      }\n      return MP42.box(MP42.types.trun, data);\n    }\n  }, {\n    key: \"moovMP4\",\n    value: function moovMP4(tracks) {\n      return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].duration, tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trackMP4(t);\n      }))));\n    }\n  }, {\n    key: \"trackMP4\",\n    value: function trackMP4(track) {\n      return MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.duration, track.width, track.height), MP42.mdiaMP4(track));\n    }\n  }, {\n    key: \"mdiaMP4\",\n    value: function mdiaMP4(track) {\n      return MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minfMP4(track));\n    }\n  }, {\n    key: \"minfMP4\",\n    value: function minfMP4(track) {\n      return MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stblMP4(track));\n    }\n  }, {\n    key: \"stblMP4\",\n    value: function stblMP4(track) {\n      var ext = track.ext;\n      var boxes = [MP42.stsd(track), MP42.stts(ext.stts), MP42.stsc(ext.stsc), MP42.stsz(ext.stsz), MP42.stco(ext.stco)];\n      if (ext.stss.length) {\n        boxes.push(MP42.stss(ext.stss));\n      }\n      if (ext.ctts.length) {\n        boxes.push(MP42.ctts(ext.ctts));\n      }\n      return MP42.box.apply(MP42, [MP42.types.stbl].concat(boxes));\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref5) {\n        var value = _ref5.value, count = _ref5.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.stts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(entries) {\n      var len = entries.length;\n      var data = new Uint8Array(12 * len);\n      var offset = 0;\n      entries.forEach(function(_ref6) {\n        var firstChunk = _ref6.firstChunk, samplesPerChunk = _ref6.samplesPerChunk, sampleDescIndex = _ref6.sampleDescIndex;\n        data.set([firstChunk >> 24, firstChunk >> 16 & 255, firstChunk >> 8 & 255, firstChunk & 255, samplesPerChunk >> 24, samplesPerChunk >> 16 & 255, samplesPerChunk >> 8 & 255, samplesPerChunk & 255, sampleDescIndex >> 24, sampleDescIndex >> 16 & 255, sampleDescIndex >> 8 & 255, sampleDescIndex & 255], offset);\n        offset += 12;\n      });\n      return MP42.box(MP42.types.stsc, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(samplesSizes) {\n      var len = samplesSizes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      samplesSizes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stsz, concatUint8Array(new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(offsets) {\n      var len = offsets.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      offsets.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stco, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(keyframeIndexes) {\n      var len = keyframeIndexes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      keyframeIndexes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stss, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref7) {\n        var value = _ref7.value, count = _ref7.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.ctts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"styp\",\n    value: function styp() {\n      return MP42.box(MP42.types.styp, new Uint8Array([109, 115, 100, 104, 0, 0, 0, 0, 109, 115, 100, 104, 109, 115, 105, 120]));\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(data) {\n      var timescale = data.timescale;\n      var duration = data.samples[0].duration;\n      var durationCount = duration * data.samples.length;\n      var earliestTime = data.samples[0].sampleOffset * duration;\n      var mdatSize = 8;\n      data.samples.forEach(function(item) {\n        mdatSize += item.size;\n      });\n      var length = 0;\n      if (data.isVideo) {\n        var sencLength = 0;\n        var samples;\n        if (data.videoSenc) {\n          samples = data.videoSenc;\n        }\n        if (data.isVideo) {\n          samples.forEach(function(item) {\n            sencLength = sencLength + 8;\n            if (item.subsamples && item.subsamples.length) {\n              sencLength = sencLength + 2;\n              sencLength = sencLength + item.subsamples.length * 6;\n            }\n          });\n        }\n        data.videoSencLength = sencLength;\n        length = mdatSize + 141 + data.samples.length * 16 + sencLength;\n        if (data.useEME && data.isAudioEncryption && !data.isVideoEncryption) {\n          length = mdatSize + data.samples.length * 16 + 84;\n        }\n      } else {\n        length = mdatSize + 116 + data.samples.length * 12;\n        if (data.useEME && data.isAudioEncryption) {\n          length = mdatSize + 169 + data.samples.length * 12 + 8 * data.audioSenc.length;\n        }\n      }\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.id & 255,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        earliestTime >> 24 & 255,\n        earliestTime >> 16 & 255,\n        earliestTime >> 8 & 255,\n        earliestTime & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        length >> 16 & 255,\n        length >> 8 & 255,\n        length & 255,\n        durationCount >> 24 & 255,\n        durationCount >> 16 & 255,\n        durationCount >> 8 & 255,\n        durationCount & 255,\n        144,\n        0,\n        0,\n        0\n      ]);\n      return MP42.box(MP42.types.sidx, content);\n    }\n  }, {\n    key: \"mdat\",\n    value: function mdat(data) {\n      var mdat2 = MP42.box(MP42.types.mdat, data);\n      return mdat2;\n    }\n  }]);\n  return MP42;\n}();\n_defineProperty(MP4, \"types\", [\"Opus\", \"dOps\", \"av01\", \"av1C\", \"avc1\", \"avcC\", \"hvc1\", \"hvcC\", \"dinf\", \"dref\", \"esds\", \"ftyp\", \"hdlr\", \"mdat\", \"mdhd\", \"mdia\", \"mfhd\", \"minf\", \"moof\", \"moov\", \"mp4a\", \"mvex\", \"mvhd\", \"pasp\", \"stbl\", \"stco\", \"stsc\", \"stsd\", \"stsz\", \"stts\", \"tfdt\", \"tfhd\", \"traf\", \"trak\", \"trex\", \"tkhd\", \"vmhd\", \"smhd\", \"ctts\", \"stss\", \"styp\", \"pssh\", \"sidx\", \"sbgp\", \"saiz\", \"saio\", \"senc\", \"trun\", \"encv\", \"enca\", \"sinf\", \"btrt\", \"frma\", \"tenc\", \"schm\", \"schi\", \"mehd\", \"fiel\", \"sdtp\"].reduce(function(p, c) {\n  p[c] = [c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2), c.charCodeAt(3)];\n  return p;\n}, /* @__PURE__ */ Object.create(null)));\n_defineProperty(MP4, \"HDLR_TYPES\", {\n  video: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    118,\n    105,\n    100,\n    101,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    86,\n    105,\n    100,\n    101,\n    111,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ]),\n  audio: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    115,\n    111,\n    117,\n    110,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    83,\n    111,\n    117,\n    110,\n    100,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ])\n});\n_defineProperty(MP4, \"FTYPAVC1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  97,\n  118,\n  99,\n  49\n])));\n_defineProperty(MP4, \"FTYPHEV1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  104,\n  101,\n  118,\n  49\n])));\n_defineProperty(MP4, \"DINF\", MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  12,\n  117,\n  114,\n  108,\n  32,\n  0,\n  0,\n  0,\n  1\n]))));\n_defineProperty(MP4, \"VMHD\", MP4.box(MP4.types.vmhd, new Uint8Array([\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"SMHD\", MP4.box(MP4.types.smhd, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"StblTable\", new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n]));\n_defineProperty(MP4, \"STTS\", MP4.box(MP4.types.stts, MP4.StblTable));\n_defineProperty(MP4, \"STSC\", MP4.box(MP4.types.stsc, MP4.StblTable));\n_defineProperty(MP4, \"STSZ\", MP4.box(MP4.types.stsz, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"STCO\", MP4.box(MP4.types.stco, MP4.StblTable));\nexport { MP4 };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, enable) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    Logger2.disabled = enable;\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).debug.apply(_console, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      if (Logger2.disabled)\n        return;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      (_console2 = console).log.apply(_console2, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      if (Logger2.disabled)\n        return;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      (_console3 = console).warn.apply(_console3, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      if (Logger2.disabled)\n        return;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      (_console4 = console).error.apply(_console4, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MP4 } from \"./mp4.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"./logger.js\";\nvar FMP4Remuxer = /* @__PURE__ */ function() {\n  function FMP4Remuxer2(videoTrack, audioTrack, options) {\n    _classCallCheck(this, FMP4Remuxer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    var browserVersions = /Chrome\\/([^.]+)/.exec(navigator.userAgent);\n    this.forceFirstIDR = browserVersions && Number(browserVersions[1]) < 50;\n    this.log = new Logger(\"FMP4Remuxer\", options && options.openLog ? !options.openLog : true);\n  }\n  _createClass(FMP4Remuxer2, [{\n    key: \"remux\",\n    value: function remux() {\n      var createInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var hasVideo = videoTrack.exist();\n      var hasAudio = audioTrack.exist();\n      var videoInitSegment;\n      var audioInitSegment;\n      var initSegment;\n      var tracks = [];\n      if (createInit) {\n        if (options && options.initMerge) {\n          if (hasVideo) {\n            tracks.push(this.videoTrack);\n          }\n          if (hasAudio) {\n            tracks.push(this.audioTrack);\n          }\n          initSegment = MP4.initSegment(tracks);\n        } else {\n          if (hasVideo)\n            videoInitSegment = MP4.initSegment([this.videoTrack]);\n          if (hasAudio)\n            audioInitSegment = MP4.initSegment([this.audioTrack]);\n        }\n      }\n      var videoSegment;\n      var audioSegment;\n      if (hasVideo && videoTrack.hasSample()) {\n        videoSegment = this._remuxVideo();\n      }\n      if (hasAudio && audioTrack.hasSample()) {\n        audioSegment = this._remuxAudio();\n      }\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      return {\n        initSegment,\n        videoInitSegment,\n        audioInitSegment,\n        videoSegment,\n        audioSegment\n      };\n    }\n  }, {\n    key: \"_remuxVideo\",\n    value: function _remuxVideo() {\n      var track = this.videoTrack;\n      if (this.forceFirstIDR) {\n        track.samples[0].flag = {\n          dependsOn: 2,\n          isNonSyncSample: 0\n        };\n      }\n      var samples = track.samples;\n      var isAV01 = /av01/.test(track.codec);\n      var mdatSize = 0;\n      if (isAV01) {\n        samples.forEach(function(s) {\n          mdatSize += s.data.byteLength;\n        });\n      } else {\n        samples.forEach(function(s) {\n          mdatSize += s.units.reduce(function(t, c) {\n            return t + c.byteLength;\n          }, 0);\n          mdatSize += s.units.length * 4;\n        });\n      }\n      var mdata = new Uint8Array(mdatSize);\n      if (isAV01) {\n        for (var i = 0, l = samples.length, offset = 0, sample; i < l; i++) {\n          sample = samples[i];\n          mdata.set(sample.data, offset);\n          sample.size = sample.data.byteLength;\n          offset += sample.size;\n        }\n      } else {\n        var mdatView = new DataView(mdata.buffer);\n        var _loop = function _loop2(_offset2, _sample2) {\n          _sample2 = samples[_i];\n          var sampleSize = 0;\n          _sample2.units.forEach(function(u) {\n            mdatView.setUint32(_offset2, u.byteLength);\n            _offset2 += 4;\n            mdata.set(u, _offset2);\n            _offset2 += u.byteLength;\n            sampleSize += 4 + u.byteLength;\n          });\n          _sample2.size = sampleSize;\n          _offset = _offset2, _sample = _sample2;\n        };\n        for (var _i = 0, _l = samples.length, _offset = 0, _sample; _i < _l; _i++) {\n          _loop(_offset, _sample);\n        }\n      }\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"_remuxAudio\",\n    value: function _remuxAudio() {\n      var track = this.audioTrack;\n      var mdata = new Uint8Array(track.samples.reduce(function(t, c) {\n        return t + c.size;\n      }, 0));\n      track.samples.reduce(function(offset, s) {\n        mdata.set(s.data, offset);\n        return offset + s.size;\n      }, 0);\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n    }\n  }]);\n  return FMP4Remuxer2;\n}();\nexport { FMP4Remuxer };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nvar Event = _objectSpread2(_objectSpread2({}, EVENT), {}, {\n  STREAM_PARSED: \"core.streamparsed\",\n  NO_AUDIO_TRACK: \"core.noaudiotrack\",\n  SUBTITLE_SEGMENTS: \"core.subtitlesegments\",\n  SUBTITLE_PLAYLIST: \"core.subtitleplaylist\",\n  SEI_PAYLOAD_TIME: \"core.seipayloadtime\",\n  APPEND_COST: \"core.appendcost\"\n});\nexport { Event };\n","import { createClass as _createClass, objectSpread2 as _objectSpread2, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger, concatUint8Array, StreamingError, ERR } from \"xgplayer-streaming-shared\";\nimport { TrackType, WarningType, FMP4Demuxer, TsDemuxer, FMP4Remuxer } from \"xgplayer-transmuxer\";\nimport { Event } from \"../../constants.js\";\nvar logger = new Logger(\"Transmuxer\");\nvar Transmuxer = /* @__PURE__ */ function() {\n  function Transmuxer2(hls, isMP4, needRemux, fixerConfig) {\n    _classCallCheck(this, Transmuxer2);\n    _defineProperty(this, \"_initSegmentId\", \"\");\n    this.hls = hls;\n    this._demuxer = isMP4 ? new FMP4Demuxer() : new TsDemuxer(null, null, null, fixerConfig);\n    this._isMP4 = isMP4;\n    if (needRemux)\n      this._remuxer = new FMP4Remuxer(this._demuxer.videoTrack, this._demuxer.audioTrack);\n  }\n  _createClass(Transmuxer2, [{\n    key: \"transmux\",\n    value: function transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, needInit) {\n      var demuxer = this._demuxer;\n      try {\n        if (this._isMP4) {\n          demuxer.demux(videoChunk, audioChunk);\n        } else {\n          demuxer.demuxAndFix(concatUint8Array(videoChunk, audioChunk), discontinuity, contiguous, startTime);\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.DEMUX, ERR.SUB_TYPES.HLS, error);\n      }\n      var videoTrack = demuxer.videoTrack, audioTrack = demuxer.audioTrack, metadataTrack = demuxer.metadataTrack;\n      var vParsed = {\n        codec: videoTrack.codec,\n        timescale: videoTrack.timescale,\n        firstDts: videoTrack.firstDts / videoTrack.timescale,\n        firstPts: videoTrack.firstPts / videoTrack.timescale,\n        duration: videoTrack.samplesDuration / videoTrack.timescale\n      };\n      var aParsed = {\n        codec: audioTrack.codec,\n        timescale: audioTrack.timescale,\n        firstDts: audioTrack.firstDts / videoTrack.timescale,\n        firstPts: audioTrack.firstPts / videoTrack.timescale,\n        duration: audioTrack.samplesDuration / videoTrack.timescale\n      };\n      var newId = \"\".concat(videoTrack.codec, \"/\").concat(videoTrack.width, \"/\").concat(videoTrack.height, \"/\").concat(audioTrack.codec, \"/\").concat(audioTrack.config);\n      if (newId !== this._initSegmentId) {\n        this._initSegmentId = newId;\n        needInit = true;\n      }\n      this._fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity || needInit);\n      this.hls.emit(Event.DEMUXED_TRACK, {\n        videoTrack,\n        audioTrack\n      });\n      if (this._remuxer) {\n        if (needInit && this.hls.isLive && !this.hls.config.mseLowLatency) {\n          videoTrack.duration = this.hls.totalDuration * videoTrack.timescale;\n          audioTrack.duration = this.hls.totalDuration * audioTrack.timescale;\n        }\n        try {\n          var _this$_remuxer$remux = this._remuxer.remux(needInit), videoInitSegment = _this$_remuxer$remux.videoInitSegment, videoSegment = _this$_remuxer$remux.videoSegment, audioInitSegment = _this$_remuxer$remux.audioInitSegment, audioSegment = _this$_remuxer$remux.audioSegment;\n          var v = concatUint8Array(videoInitSegment, videoSegment);\n          var a = concatUint8Array(audioInitSegment, audioSegment);\n          return [v ? _objectSpread2(_objectSpread2({}, vParsed), {}, {\n            data: v\n          }) : void 0, a ? _objectSpread2(_objectSpread2({}, aParsed), {}, {\n            data: a\n          }) : void 0];\n        } catch (error) {\n          throw new StreamingError(ERR.REMUX, ERR.SUB_TYPES.FMP4, error);\n        }\n      } else {\n        return [videoTrack, audioTrack];\n      }\n    }\n  }, {\n    key: \"_fireEvents\",\n    value: function _fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity) {\n      var _this = this;\n      var tracks = [videoTrack, audioTrack];\n      var logCC = \"discontinuity: \".concat(discontinuity);\n      tracks.forEach(function(track) {\n        var _track$samples;\n        if ((_track$samples = track.samples) !== null && _track$samples !== void 0 && _track$samples.length) {\n          logCC += \"; \".concat(track.samples.length, \" \").concat(track.type === TrackType.VIDEO ? \"video\" : \"audio\", \" samples, firstDts/firstPts/duration: \").concat((track.firstDts / track.timescale).toFixed(3), \"/\").concat((track.firstPts / track.timescale).toFixed(3), \"/\").concat((track.samplesDuration / track.timescale).toFixed(3));\n        }\n        if (discontinuity && track.exist()) {\n          _this.hls.emit(Event.METADATA_PARSED, {\n            type: track.type,\n            track,\n            meta: _objectSpread2({\n              codec: track.codec,\n              timescale: track.timescale,\n              baseDts: track.baseDts\n            }, track.type === TrackType.VIDEO ? {\n              width: track.width,\n              height: track.height,\n              sarRatio: track.sarRatio\n            } : {\n              codec: track.codec,\n              channelCount: track.channelCount,\n              sampleRate: track.sampleRate\n            })\n          });\n        }\n      });\n      logger.debug(logCC);\n      videoTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AV_SHIFT:\n            type = Event.LARGE_AV_FIRST_FRAME_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP:\n            type = Event.LARGE_VIDEO_DTS_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK:\n            type = Event.MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"video exception\", warn);\n      });\n      audioTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AUDIO_GAP:\n            type = Event.LARGE_AUDIO_DTS_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_FILLED:\n            type = Event.AUDIO_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_DROPPED:\n            type = Event.AUDIO_OVERLAP_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"audio exception\", warn);\n      });\n      videoTrack.samples.forEach(function(sample) {\n        if (sample.keyframe) {\n          _this.hls.emit(Event.KEYFRAME, {\n            pts: sample.pts\n          });\n        }\n      });\n      metadataTrack.seiSamples.forEach(function(sei) {\n        _this.hls.emit(Event.SEI, _objectSpread2(_objectSpread2({}, sei), {}, {\n          originPts: sei.originPts / 90,\n          sei: {\n            code: sei.data.type,\n            content: sei.data.payload,\n            dts: sei.pts\n          }\n        }));\n      });\n    }\n  }]);\n  return Transmuxer2;\n}();\nexport { Transmuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray, objectWithoutProperties as _objectWithoutProperties } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsDemuxer, MP4Parser } from \"xgplayer-transmuxer\";\nimport { Logger, StreamingError, ERR, MSE, EVENT, Buffer } from \"xgplayer-streaming-shared\";\nimport { Decryptor } from \"./decrypt/index.js\";\nimport { Transmuxer } from \"./transmuxer/index.js\";\nimport { Event } from \"../constants.js\";\nvar _excluded = [\"data\"], _excluded2 = [\"data\"];\nvar logger = new Logger(\"BufferService\");\nvar BufferService = /* @__PURE__ */ function() {\n  function BufferService2(hls) {\n    var _this = this;\n    _classCallCheck(this, BufferService2);\n    _defineProperty(this, \"_decryptor\", new Decryptor());\n    _defineProperty(this, \"_transmuxer\", null);\n    _defineProperty(this, \"_mse\", null);\n    _defineProperty(this, \"_softVideo\", null);\n    _defineProperty(this, \"_sourceCreated\", false);\n    _defineProperty(this, \"_needInitSegment\", true);\n    _defineProperty(this, \"_directAppend\", false);\n    this.hls = hls;\n    if (hls.config.softDecode) {\n      this._softVideo = hls.media;\n    } else {\n      this._mse = new MSE(null, {\n        preferMMS: hls.config.preferMMS\n      });\n      if (hls.config.url) {\n        this._mse.bindMedia(hls.media).then(function(e) {\n          _this.hls.emit(EVENT.MEDIASOURCE_OPENED, e);\n        });\n      }\n    }\n    if (hls.config.decryptor) {\n      this._decryptor.externalDecryptor = hls.config.decryptor;\n    }\n  }\n  _createClass(BufferService2, [{\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_transmuxer, _this$_transmuxer$_de, _this$_transmuxer$_de2;\n      return (_this$_transmuxer = this._transmuxer) === null || _this$_transmuxer === void 0 ? void 0 : (_this$_transmuxer$_de = _this$_transmuxer._demuxer) === null || _this$_transmuxer$_de === void 0 ? void 0 : (_this$_transmuxer$_de2 = _this$_transmuxer$_de._fixer) === null || _this$_transmuxer$_de2 === void 0 ? void 0 : _this$_transmuxer$_de2._baseDts;\n    }\n  }, {\n    key: \"nbSb\",\n    get: function get() {\n      var _this$_mse;\n      if (!((_this$_mse = this._mse) !== null && _this$_mse !== void 0 && _this$_mse._sourceBuffer))\n        return 0;\n      return Object.keys(this._mse._sourceBuffer).length;\n    }\n  }, {\n    key: \"msIsOpened\",\n    get: function get() {\n      var _this$_mse2;\n      return (_this$_mse2 = this._mse) === null || _this$_mse2 === void 0 ? void 0 : _this$_mse2.isOpened;\n    }\n  }, {\n    key: \"msHasOpTasks\",\n    get: function get() {\n      var _this$_mse3;\n      return (_this$_mse3 = this._mse) === null || _this$_mse3 === void 0 ? void 0 : _this$_mse3.hasOpTasks;\n    }\n  }, {\n    key: \"msStreaming\",\n    get: function get() {\n      var _this$_mse4;\n      return (_this$_mse4 = this._mse) === null || _this$_mse4 === void 0 ? void 0 : _this$_mse4.streaming;\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function() {\n      var _updateDuration = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(duration) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                logger.debug(\"update duration\", duration);\n                if (!this._mse) {\n                  _context.next = 9;\n                  break;\n                }\n                if (this._mse.isOpened) {\n                  _context.next = 5;\n                  break;\n                }\n                _context.next = 5;\n                return this._mse.open();\n              case 5:\n                _context.next = 7;\n                return this._mse.updateDuration(duration);\n              case 7:\n                _context.next = 10;\n                break;\n              case 9:\n                if (this._softVideo) {\n                  this._softVideo.duration = duration;\n                }\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function updateDuration(_x) {\n        return _updateDuration.apply(this, arguments);\n      }\n      return updateDuration;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(videoChunk, audioChunk, videoCodec, audioCodec) {\n      if (this._sourceCreated)\n        return;\n      var chunk = videoChunk || audioChunk;\n      if (!chunk)\n        return;\n      if (TsDemuxer.probe(chunk)) {\n        if (!this._transmuxer)\n          this._transmuxer = new Transmuxer(this.hls, false, !this._softVideo, this.hls.config.fixerConfig);\n      } else if (MP4Parser.probe(chunk)) {\n        if (this._softVideo) {\n          if (!this._transmuxer)\n            this._transmuxer = new Transmuxer(this.hls, true, null, this.hls.config.fixerConfig);\n        } else {\n          this._directAppend = true;\n          var mix = false;\n          if (videoChunk && !videoCodec) {\n            MP4Parser.findBox(videoChunk, [\"moov\", \"trak\"]).forEach(function(t) {\n              var box = MP4Parser.findBox(t.data, [\"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"])[0];\n              if (box) {\n                var e = MP4Parser.stsd(box).entries[0];\n                if (e) {\n                  if (e.hvcC) {\n                    videoCodec = e.hvcC.codec || \"hev1.1.6.L93.B0\";\n                  } else if (e.avcC) {\n                    videoCodec = e.avcC.codec;\n                  } else if (e.sampleRate || e.esds) {\n                    var _e$esds;\n                    audioCodec = ((_e$esds = e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.codec) || \"mp4a.40.2\";\n                    mix = true;\n                  }\n                }\n              }\n            });\n          }\n          if (audioChunk && !audioCodec) {\n            MP4Parser.findBox(audioChunk, [\"moov\", \"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"]).forEach(function(stsd) {\n              var e = MP4Parser.stsd(stsd).entries[0];\n              if (e && e.esds)\n                audioCodec = e.esds.codec;\n            });\n          }\n          if (videoChunk && !videoCodec)\n            videoCodec = \"avc1.42e01e\";\n          if (audioChunk && !audioCodec)\n            audioCodec = \"mp4a.40.2\";\n          if (mix) {\n            videoCodec += \", \".concat(audioCodec);\n            audioCodec = \"\";\n          }\n          this._createMseSource(videoCodec, audioCodec);\n        }\n      } else {\n        throw new StreamingError(ERR.OTHER, null, null, null, \"unsupported stream\");\n      }\n      if (this._softVideo)\n        this._sourceCreated = true;\n    }\n  }, {\n    key: \"appendBuffer\",\n    value: function() {\n      var _appendBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(segment, audioSegment, videoChunk, audioChunk, discontinuity, contiguous, startTime) {\n        var _this2 = this;\n        var afterAppend, p, needInit, _this$_transmuxer$tra, _this$_transmuxer$tra2, video, audio, isFirstAppend, mse, _p, videoData, videoRest, audioData, audioRest;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!(videoChunk !== null && videoChunk !== void 0 && videoChunk.length) && !(audioChunk !== null && audioChunk !== void 0 && audioChunk.length))) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                afterAppend = function afterAppend2() {\n                  var _this2$hls;\n                  if ((_this2$hls = _this2.hls) !== null && _this2$hls !== void 0 && _this2$hls.emit) {\n                    var _this2$hls2;\n                    (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.emit(EVENT.APPEND_BUFFER, {\n                      start: segment.start,\n                      end: segment.end\n                    });\n                  }\n                };\n                if (!this._directAppend) {\n                  _context2.next = 8;\n                  break;\n                }\n                p = [];\n                if (videoChunk)\n                  p.push(this._mse.append(MSE.VIDEO, videoChunk));\n                if (audioChunk)\n                  p.push(this._mse.append(MSE.AUDIO, audioChunk));\n                return _context2.abrupt(\"return\", Promise.all(p).then(afterAppend));\n              case 8:\n                needInit = this._needInitSegment || discontinuity;\n                _this$_transmuxer$tra = this._transmuxer.transmux(videoChunk, audioChunk, needInit, contiguous, startTime, this._needInitSegment || discontinuity), _this$_transmuxer$tra2 = _slicedToArray(_this$_transmuxer$tra, 2), video = _this$_transmuxer$tra2[0], audio = _this$_transmuxer$tra2[1];\n                if (audioChunk && audioSegment) {\n                  audioSegment === null || audioSegment === void 0 ? void 0 : audioSegment.setTrackExist(false, true);\n                }\n                if (audioChunk && segment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(true, false);\n                }\n                if (!audioSegment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(!!video, !!audio);\n                }\n                if (video && !audio) {\n                  this.hls.emit(Event.NO_AUDIO_TRACK);\n                }\n                if (!this._softVideo) {\n                  _context2.next = 20;\n                  break;\n                }\n                this._softVideo.appendBuffer(video, audio);\n                this._needInitSegment = false;\n                afterAppend();\n                _context2.next = 30;\n                break;\n              case 20:\n                if (!this._mse) {\n                  _context2.next = 30;\n                  break;\n                }\n                isFirstAppend = !this._sourceCreated;\n                if (isFirstAppend) {\n                  this._createMseSource(video === null || video === void 0 ? void 0 : video.codec, audio === null || audio === void 0 ? void 0 : audio.codec);\n                }\n                this._needInitSegment = false;\n                mse = this._mse;\n                _p = [];\n                if (needInit && !isFirstAppend) {\n                  this._handleCodecChange(video, audio).forEach(function(task) {\n                    return _p.push(task);\n                  });\n                }\n                if (video) {\n                  videoData = video.data, videoRest = _objectWithoutProperties(video, _excluded);\n                  _p.push(mse.append(MSE.VIDEO, videoData, videoRest));\n                }\n                if (audio) {\n                  audioData = audio.data, audioRest = _objectWithoutProperties(audio, _excluded2);\n                  _p.push(mse.append(MSE.AUDIO, audioData, audioRest));\n                }\n                return _context2.abrupt(\"return\", Promise.all(_p).then(afterAppend));\n              case 30:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function appendBuffer(_x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n        return _appendBuffer.apply(this, arguments);\n      }\n      return appendBuffer;\n    }()\n  }, {\n    key: \"removeBuffer\",\n    value: function() {\n      var _removeBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n        var _this3 = this;\n        var start, end, media, _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                start = _args3.length > 0 && _args3[0] !== void 0 ? _args3[0] : 0;\n                end = _args3.length > 1 && _args3[1] !== void 0 ? _args3[1] : Infinity;\n                media = this.hls.media;\n                if (!(!this._mse || !media || start < 0 || end < start || start >= this._mse.duration)) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 5:\n                return _context3.abrupt(\"return\", this._mse.clearBuffer(start, end).then(function() {\n                  return _this3.hls.emit(EVENT.REMOVE_BUFFER, {\n                    start,\n                    end,\n                    removeEnd: end\n                  });\n                }));\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function removeBuffer() {\n        return _removeBuffer.apply(this, arguments);\n      }\n      return removeBuffer;\n    }()\n  }, {\n    key: \"evictBuffer\",\n    value: function() {\n      var _evictBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(bufferBehind) {\n        var media, currentTime, removeEnd, start;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                media = this.hls.media;\n                if (!(!this._mse || !media || !bufferBehind || bufferBehind < 0)) {\n                  _context4.next = 3;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 3:\n                currentTime = media.currentTime;\n                removeEnd = currentTime - bufferBehind;\n                if (!(removeEnd <= 0)) {\n                  _context4.next = 7;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 7:\n                start = Buffer.start(Buffer.get(media));\n                if (!(start + 1 >= removeEnd)) {\n                  _context4.next = 10;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 10:\n                return _context4.abrupt(\"return\", this.removeBuffer(0, removeEnd));\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function evictBuffer(_x9) {\n        return _evictBuffer.apply(this, arguments);\n      }\n      return evictBuffer;\n    }()\n  }, {\n    key: \"clearAllBuffer\",\n    value: function() {\n      var _clearAllBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this._mse) {\n                  _context5.next = 2;\n                  break;\n                }\n                return _context5.abrupt(\"return\", this._mse.clearAllBuffer());\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function clearAllBuffer() {\n        return _clearAllBuffer.apply(this, arguments);\n      }\n      return clearAllBuffer;\n    }()\n  }, {\n    key: \"decryptBuffer\",\n    value: function decryptBuffer(video, audio) {\n      return this._decryptor.decrypt(video, audio);\n    }\n  }, {\n    key: \"reset\",\n    value: function() {\n      var _reset = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6() {\n        var reuseMse, _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                reuseMse = _args6.length > 0 && _args6[0] !== void 0 ? _args6[0] : false;\n                if (!(this._mse && !reuseMse)) {\n                  _context6.next = 8;\n                  break;\n                }\n                this._transmuxer = null;\n                this._sourceCreated = false;\n                _context6.next = 6;\n                return this._mse.unbindMedia();\n              case 6:\n                _context6.next = 8;\n                return this._mse.bindMedia(this.hls.media);\n              case 8:\n                this._needInitSegment = true;\n                this._directAppend = false;\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function reset() {\n        return _reset.apply(this, arguments);\n      }\n      return reset;\n    }()\n  }, {\n    key: \"endOfStream\",\n    value: function() {\n      var _endOfStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this._mse) {\n                  _context7.next = 5;\n                  break;\n                }\n                if (!this._sourceCreated) {\n                  _context7.next = 5;\n                  break;\n                }\n                _context7.next = 4;\n                return this._mse.endOfStream();\n              case 4:\n                this.hls.emit(EVENT.BUFFEREOS);\n              case 5:\n                if (this._softVideo) {\n                  this._softVideo.endOfStream();\n                }\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this);\n      }));\n      function endOfStream() {\n        return _endOfStream.apply(this, arguments);\n      }\n      return endOfStream;\n    }()\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function() {\n      var _setLiveSeekableRange = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(start, end) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (this._mse)\n                  this._mse.setLiveSeekableRange(start, end);\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this);\n      }));\n      function setLiveSeekableRange(_x10, _x11) {\n        return _setLiveSeekableRange.apply(this, arguments);\n      }\n      return setLiveSeekableRange;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9() {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!this._mse) {\n                  _context9.next = 3;\n                  break;\n                }\n                _context9.next = 3;\n                return this._mse.unbindMedia();\n              case 3:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10() {\n        var _this$_decryptor;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                (_this$_decryptor = this._decryptor) === null || _this$_decryptor === void 0 ? void 0 : _this$_decryptor.destroy();\n                _context10.next = 3;\n                return this.detachMedia();\n              case 3:\n                this._decryptor = null;\n                this._mse = null;\n                this._softVideo = null;\n              case 6:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_createMseSource\",\n    value: function _createMseSource(videoCodec, audioCodec) {\n      logger.debug(\"create mse source, videoCodec=\".concat(videoCodec, \", audioCodec=\").concat(audioCodec));\n      var mse = this._mse;\n      if (!mse)\n        return;\n      if (videoCodec) {\n        mse.createSource(MSE.VIDEO, \"video/mp4;codecs=\".concat(videoCodec));\n        this._sourceCreated = true;\n      }\n      if (audioCodec) {\n        mse.createSource(MSE.AUDIO, \"audio/mp4;codecs=\".concat(audioCodec));\n        this._sourceCreated = true;\n      }\n      this.hls.emit(EVENT.SOURCEBUFFER_CREATED);\n    }\n  }, {\n    key: \"_handleCodecChange\",\n    value: function _handleCodecChange(video, audio) {\n      var tasks = [];\n      var mse = this._mse;\n      var codecList = [{\n        type: MSE.VIDEO,\n        codecs: video === null || video === void 0 ? void 0 : video.codec\n      }, {\n        type: MSE.AUDIO,\n        codecs: audio === null || audio === void 0 ? void 0 : audio.codec\n      }];\n      codecList.filter(function(item) {\n        return !!item.codecs;\n      }).forEach(function(_ref) {\n        var type = _ref.type, codecs = _ref.codecs;\n        var sourceBuffer = mse.getSourceBuffer(type);\n        if (sourceBuffer) {\n          var codec = codecs.split(\",\")[0];\n          if (!new RegExp(codec, \"ig\").test(sourceBuffer.mimeType)) {\n            tasks.push(mse.changeType(type, \"\".concat(type, \"/mp4;codecs=\").concat(codecs)));\n          }\n        }\n      });\n      return tasks;\n    }\n  }, {\n    key: \"seamlessSwitch\",\n    value: function seamlessSwitch() {\n      this._needInitSegment = true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull() {\n      var _this$_mse5;\n      var mediaType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : MSE.VIDEO;\n      return (_this$_mse5 = this._mse) === null || _this$_mse5 === void 0 ? void 0 : _this$_mse5.isFull(mediaType);\n    }\n  }]);\n  return BufferService2;\n}();\nexport { BufferService };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction getConfig(cfg) {\n  var media = (cfg === null || cfg === void 0 ? void 0 : cfg.media) || document.createElement(\"video\");\n  return _objectSpread2(_objectSpread2({\n    maxPlaylistSize: 50,\n    retryCount: 3,\n    retryDelay: 1e3,\n    pollRetryCount: 2,\n    loadTimeout: 1e4,\n    manifestLoadTimeout: 1e4,\n    preloadTime: 30,\n    softDecode: false,\n    bufferBehind: 10,\n    maxJumpDistance: 3,\n    startTime: 0,\n    useLowLatency: true,\n    targetLatency: 10,\n    maxLatency: 20,\n    allowedStreamTrackChange: true,\n    seiInTime: false,\n    manifestList: [],\n    minSegmentsStartPlay: 3,\n    preferMMS: false,\n    preferMMSStreaming: false,\n    mseLowLatency: true,\n    fixerConfig: {\n      forceFixLargeGap: false,\n      largeGapThreshold: 5\n    }\n  }, cfg), {}, {\n    media\n  });\n}\nexport { getConfig };\n","var LoaderType = {\n  FETCH: \"fetch\",\n  XHR: \"xhr\"\n};\nvar ResponseType = {\n  ARRAY_BUFFER: \"arraybuffer\",\n  TEXT: \"text\",\n  JSON: \"json\"\n};\nexport { LoaderType, ResponseType };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, wrapNativeSuper as _wrapNativeSuper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType } from \"./types.js\";\nvar NetError = /* @__PURE__ */ function(_Error) {\n  _inherits(NetError2, _Error);\n  var _super = _createSuper(NetError2);\n  function NetError2(url, request, response, msg) {\n    var _this;\n    _classCallCheck(this, NetError2);\n    _this = _super.call(this, msg);\n    _defineProperty(_assertThisInitialized(_this), \"retryCount\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"isTimeout\", false);\n    _defineProperty(_assertThisInitialized(_this), \"loaderType\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"startTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"endTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"options\", {});\n    _this.url = url;\n    _this.request = request;\n    _this.response = response;\n    return _this;\n  }\n  return _createClass(NetError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { NetError };\n","import { typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar toString = Object.prototype.toString;\nfunction isObject(a) {\n  return a !== null && _typeof(a) === \"object\";\n}\nfunction isPlainObject(val) {\n  if (toString.call(val) !== \"[object Object]\") {\n    return false;\n  }\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\nfunction isDate(a) {\n  return toString.call(a) === \"[object Date]\";\n}\nexport { isDate, isObject, isPlainObject };\n","import { isDate, isObject } from \"../is.js\";\nfunction getRangeValue(value) {\n  if (!value || value[0] === null || value[0] === void 0 || value[0] === 0 && (value[1] === null || value[1] === void 0)) {\n    return;\n  }\n  var ret = \"bytes=\" + value[0] + \"-\";\n  if (value[1])\n    ret += value[1];\n  return ret;\n}\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\nfunction setUrlParams(url, params) {\n  if (!url)\n    return;\n  if (!params)\n    return url;\n  var v;\n  var str = Object.keys(params).map(function(k) {\n    v = params[k];\n    if (v === null || v === void 0)\n      return;\n    if (Array.isArray(v)) {\n      k = k + \"[]\";\n    } else {\n      v = [v];\n    }\n    return v.map(function(x) {\n      if (isDate(x)) {\n        x = x.toISOString();\n      } else if (isObject(x)) {\n        x = JSON.stringify(x);\n      }\n      return \"\".concat(encode(k), \"=\").concat(encode(x));\n    }).join(\"&\");\n  }).filter(Boolean).join(\"&\");\n  if (str) {\n    var hashIndex = url.indexOf(\"#\");\n    if (hashIndex !== -1) {\n      url = url.slice(0, hashIndex);\n    }\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + str;\n  }\n  return url;\n}\nfunction createResponse(data, done, response, contentLength, age, startTime, firstByteTime, index, range, vid, priOptions) {\n  age = age !== null && age !== void 0 ? parseFloat(age) : null;\n  contentLength = parseInt(contentLength || \"0\", 10);\n  if (Number.isNaN(contentLength))\n    contentLength = 0;\n  var options = {\n    range,\n    vid,\n    index,\n    contentLength,\n    age,\n    startTime,\n    firstByteTime,\n    endTime: Date.now(),\n    priOptions\n  };\n  return {\n    data,\n    done,\n    options,\n    response\n  };\n}\nfunction calculateSpeed(byteLen, milliSecond) {\n  return Math.round(byteLen * 8 * 1e3 / milliSecond / 1024);\n}\nexport { calculateSpeed, createResponse, getRangeValue, setUrlParams };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, createResponse, calculateSpeed } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar CACHESIZE = 2 * 1024 * 1024;\nvar FetchLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(FetchLoader2, _EventEmitter);\n  var _super = _createSuper(FetchLoader2);\n  function FetchLoader2() {\n    var _this;\n    _classCallCheck(this, FetchLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_abortController\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_reader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_response\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_running\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_onProcessMinLen\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(FetchLoader2, [{\n    key: \"load\",\n    value: function load(_ref) {\n      var _this$_abortControlle, _this2 = this;\n      var url = _ref.url, vid = _ref.vid, timeout = _ref.timeout, responseType = _ref.responseType, onProgress = _ref.onProgress, index = _ref.index, onTimeout = _ref.onTimeout, onCancel = _ref.onCancel, range = _ref.range, transformResponse = _ref.transformResponse, request = _ref.request, params = _ref.params, logger = _ref.logger, method = _ref.method, headers = _ref.headers, body = _ref.body, mode = _ref.mode, credentials = _ref.credentials, cache = _ref.cache, redirect = _ref.redirect, referrer = _ref.referrer, referrerPolicy = _ref.referrerPolicy, onProcessMinLen = _ref.onProcessMinLen, priOptions = _ref.priOptions;\n      this._logger = logger;\n      this._aborted = false;\n      this._onProcessMinLen = onProcessMinLen;\n      this._onCancel = onCancel;\n      this._abortController = typeof AbortController !== \"undefined\" && new AbortController();\n      this._running = true;\n      this._index = index;\n      this._range = range || [0, 0];\n      this._vid = vid || url;\n      this._priOptions = priOptions || {};\n      var init = {\n        method,\n        headers,\n        body,\n        mode,\n        credentials,\n        cache,\n        redirect,\n        referrer,\n        referrerPolicy,\n        signal: (_this$_abortControlle = this._abortController) === null || _this$_abortControlle === void 0 ? void 0 : _this$_abortControlle.signal\n      };\n      var isTimeout = false;\n      clearTimeout(this._timeoutTimer);\n      url = setUrlParams(url, params);\n      var rangeValue = getRangeValue(range);\n      if (rangeValue) {\n        if (request) {\n          headers = request.headers;\n        } else {\n          headers = init.headers = init.headers || (Headers ? new Headers() : {});\n        }\n        if (Headers && headers instanceof Headers) {\n          headers.append(\"Range\", rangeValue);\n        } else {\n          headers.Range = rangeValue;\n        }\n      }\n      if (timeout) {\n        this._timeoutTimer = setTimeout(function() {\n          isTimeout = true;\n          _this2.cancel();\n          if (onTimeout) {\n            var error = new NetError(url, init, null, \"timeout\");\n            error.isTimeout = true;\n            onTimeout(error, {\n              index: _this2._index,\n              range: _this2._range,\n              vid: _this2._vid,\n              priOptions: _this2._priOptions\n            });\n          }\n        }, timeout);\n      }\n      var startTime = Date.now();\n      this._logger.debug(\"[fetch load start], index,\", index, \",range,\", range);\n      return new Promise(function(resolve, reject) {\n        fetch(request || url, request ? void 0 : init).then(/* @__PURE__ */ function() {\n          var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(response) {\n            var firstByteTime, data, costTime, speed;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1)\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    clearTimeout(_this2._timeoutTimer);\n                    _this2._response = response;\n                    if (!(_this2._aborted || !_this2._running)) {\n                      _context.next = 4;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 4:\n                    if (transformResponse) {\n                      response = transformResponse(response, url) || response;\n                    }\n                    if (response.ok) {\n                      _context.next = 7;\n                      break;\n                    }\n                    throw new NetError(url, init, response, \"bad network response\");\n                  case 7:\n                    firstByteTime = Date.now();\n                    if (!(responseType === ResponseType.TEXT)) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 11;\n                    return response.text();\n                  case 11:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 15:\n                    if (!(responseType === ResponseType.JSON)) {\n                      _context.next = 22;\n                      break;\n                    }\n                    _context.next = 18;\n                    return response.json();\n                  case 18:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 22:\n                    if (!onProgress) {\n                      _context.next = 29;\n                      break;\n                    }\n                    _this2.resolve = resolve;\n                    _this2.reject = reject;\n                    _this2._loadChunk(response, onProgress, startTime, firstByteTime);\n                    return _context.abrupt(\"return\");\n                  case 29:\n                    _context.next = 31;\n                    return response.arrayBuffer();\n                  case 31:\n                    data = _context.sent;\n                    data = new Uint8Array(data);\n                    _this2._running = false;\n                    costTime = Date.now() - startTime;\n                    speed = calculateSpeed(data.byteLength, costTime);\n                    _this2.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: data.byteLength,\n                      time: costTime,\n                      vid: _this2._vid,\n                      index: _this2._index,\n                      range: _this2._range,\n                      priOptions: _this2._priOptions\n                    });\n                  case 37:\n                    _this2._logger.debug(\"[fetch load end], index,\", index, \",range,\", range);\n                    resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), startTime, firstByteTime, index, range, _this2._vid, _this2._priOptions));\n                  case 39:\n                  case \"end\":\n                    return _context.stop();\n                }\n            }, _callee);\n          }));\n          return function(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }()).catch(function(error) {\n          var _error;\n          clearTimeout(_this2._timeoutTimer);\n          _this2._running = false;\n          if (_this2._aborted && !isTimeout)\n            return;\n          error = error instanceof NetError ? error : new NetError(url, init, null, (_error = error) === null || _error === void 0 ? void 0 : _error.message);\n          error.startTime = startTime;\n          error.endTime = Date.now();\n          error.isTimeout = isTimeout;\n          error.options = {\n            index: _this2._index,\n            range: _this2._range,\n            vid: _this2._vid,\n            priOptions: _this2._priOptions\n          };\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._aborted) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                this._aborted = true;\n                this._running = false;\n                if (!this._response) {\n                  _context2.next = 14;\n                  break;\n                }\n                _context2.prev = 5;\n                if (!this._reader) {\n                  _context2.next = 9;\n                  break;\n                }\n                _context2.next = 9;\n                return this._reader.cancel();\n              case 9:\n                _context2.next = 13;\n                break;\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](5);\n              case 13:\n                this._response = this._reader = null;\n              case 14:\n                if (this._abortController) {\n                  try {\n                    this._abortController.abort();\n                  } catch (error) {\n                  }\n                  this._abortController = null;\n                }\n                if (this._onCancel) {\n                  this._onCancel({\n                    index: this._index,\n                    range: this._range,\n                    vid: this._vid,\n                    priOptions: this._priOptions\n                  });\n                }\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this, [[5, 11]]);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_loadChunk\",\n    value: function _loadChunk(response, onProgress, st, firstByteTime) {\n      var _this3 = this;\n      if (!response.body || !response.body.getReader) {\n        this._running = false;\n        var err = new NetError(response.url, \"\", response, \"onProgress of bad response.body.getReader\");\n        err.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this.reject(err);\n        return;\n      }\n      if (this._onProcessMinLen > 0) {\n        this._cache = new Uint8Array(CACHESIZE);\n        this._writeIdx = 0;\n      }\n      var reader = this._reader = response.body.getReader();\n      var data;\n      var startTime;\n      var endTime;\n      var pump = /* @__PURE__ */ function() {\n        var _ref3 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n          var _this3$_range;\n          var startRange, startByte, curLen, retData, temp, costTime, speed;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1)\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  startTime = Date.now();\n                  _context3.prev = 1;\n                  _context3.next = 4;\n                  return reader.read();\n                case 4:\n                  data = _context3.sent;\n                  endTime = Date.now();\n                  _context3.next = 13;\n                  break;\n                case 8:\n                  _context3.prev = 8;\n                  _context3.t0 = _context3[\"catch\"](1);\n                  endTime = Date.now();\n                  if (!_this3._aborted) {\n                    _this3._running = false;\n                    _context3.t0.options = {\n                      index: _this3._index,\n                      range: _this3._range,\n                      vid: _this3._vid,\n                      priOptions: _this3._priOptions\n                    };\n                    _this3.reject(_context3.t0);\n                  }\n                  return _context3.abrupt(\"return\");\n                case 13:\n                  startRange = ((_this3$_range = _this3._range) === null || _this3$_range === void 0 ? void 0 : _this3$_range.length) > 0 ? _this3._range[0] : 0;\n                  startByte = startRange + _this3._receivedLength;\n                  if (!_this3._aborted) {\n                    _context3.next = 19;\n                    break;\n                  }\n                  _this3._running = false;\n                  onProgress(void 0, false, {\n                    range: [startByte, startByte],\n                    vid: _this3._vid,\n                    index: _this3._index,\n                    startTime,\n                    endTime,\n                    st,\n                    firstByteTime,\n                    priOptions: _this3._priOptions\n                  }, response);\n                  return _context3.abrupt(\"return\");\n                case 19:\n                  curLen = data.value ? data.value.byteLength : 0;\n                  _this3._receivedLength += curLen;\n                  _this3._logger.debug(\"\\u3010fetchLoader,onProgress call\\u3011,task,\", _this3._range, \", start,\", startByte, \", end,\", startRange + _this3._receivedLength, \", done,\", data.done);\n                  if (_this3._onProcessMinLen > 0) {\n                    if (_this3._writeIdx + curLen >= _this3._onProcessMinLen || data.done) {\n                      retData = new Uint8Array(_this3._writeIdx + curLen);\n                      retData.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                      curLen > 0 && retData.set(data.value, _this3._writeIdx);\n                      _this3._writeIdx = 0;\n                      _this3._logger.debug(\"\\u3010fetchLoader,onProgress enough\\u3011,done,\", data.done, \",len,\", retData.byteLength, \", writeIdx,\", _this3._writeIdx);\n                    } else {\n                      if (curLen > 0 && _this3._writeIdx + curLen < CACHESIZE) {\n                        _this3._cache.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress cache\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      } else if (curLen > 0) {\n                        temp = new Uint8Array(_this3._writeIdx + curLen + 2048);\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra start\\u3011,size,\", _this3._writeIdx + curLen + 2048, \", datalen,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                        temp.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                        curLen > 0 && temp.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        delete _this3._cache;\n                        _this3._cache = temp;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra end\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      }\n                    }\n                  } else {\n                    retData = data.value;\n                  }\n                  if (retData && retData.byteLength > 0 || data.done) {\n                    onProgress(retData, data.done, {\n                      range: [_this3._range[0] + _this3._receivedLength - (retData ? retData.byteLength : 0), _this3._range[0] + _this3._receivedLength],\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      startTime,\n                      endTime,\n                      st,\n                      firstByteTime,\n                      priOptions: _this3._priOptions\n                    }, response);\n                  }\n                  if (!data.done) {\n                    pump();\n                  } else {\n                    costTime = Date.now() - st;\n                    speed = calculateSpeed(_this3._receivedLength, costTime);\n                    _this3.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: _this3._receivedLength,\n                      time: costTime,\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      range: _this3._range,\n                      priOptions: _this3._priOptions\n                    });\n                    _this3._running = false;\n                    _this3._logger.debug(\"[fetchLoader onProgress end],task,\", _this3._range, \",done,\", data.done);\n                    _this3.resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), st, firstByteTime, _this3._index, _this3._range, _this3._vid, _this3._priOptions));\n                  }\n                case 25:\n                case \"end\":\n                  return _context3.stop();\n              }\n          }, _callee3, null, [[1, 8]]);\n        }));\n        return function pump2() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      pump();\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return !!(typeof fetch !== \"undefined\");\n    }\n  }]);\n  return FetchLoader2;\n}(EventEmitter);\nexport { FetchLoader };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType, ResponseType } from \"./types.js\";\nfunction getConfig(cfg) {\n  return _objectSpread2({\n    loaderType: LoaderType.FETCH,\n    retry: 0,\n    retryDelay: 0,\n    timeout: 0,\n    request: null,\n    onTimeout: void 0,\n    onProgress: void 0,\n    onRetryError: void 0,\n    transformRequest: void 0,\n    transformResponse: void 0,\n    transformError: void 0,\n    responseType: ResponseType.TEXT,\n    range: void 0,\n    url: \"\",\n    params: void 0,\n    method: \"GET\",\n    headers: {},\n    body: void 0,\n    mode: void 0,\n    credentials: void 0,\n    cache: void 0,\n    redirect: void 0,\n    referrer: void 0,\n    referrerPolicy: void 0,\n    integrity: void 0,\n    onProcessMinLen: 0\n  }, cfg);\n}\nexport { getConfig };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, calculateSpeed, createResponse } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar XhrLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(XhrLoader2, _EventEmitter);\n  var _super = _createSuper(XhrLoader2);\n  function XhrLoader2() {\n    var _this;\n    _classCallCheck(this, XhrLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_url\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_onProgress\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_headers\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_currentChunkSizeKB\", 384);\n    _defineProperty(_assertThisInitialized(_this), \"_timeout\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_withCredentials\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_startTime\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteResolve\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteReject\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_runing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_responseType\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_credentials\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_method\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_transformResponse\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_firstRtt\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(XhrLoader2, [{\n    key: \"load\",\n    value: function load(req) {\n      var _this2 = this;\n      clearTimeout(this._timeoutTimer);\n      this._logger = req.logger;\n      this._range = req.range;\n      this._onProgress = req.onProgress;\n      this._index = req.index;\n      this._headers = req.headers;\n      this._withCredentials = req.credentials === \"include\" || req.credentials === \"same-origin\";\n      this._body = req.body || null;\n      req.method && (this._method = req.method);\n      this._timeout = req.timeout || null;\n      this._runing = true;\n      this._vid = req.vid || req.url;\n      this._responseType = req.responseType;\n      this._firstRtt = -1;\n      this._onTimeout = req.onTimeout;\n      this._onCancel = req.onCancel;\n      this._request = req.request;\n      this._priOptions = req.priOptions || {};\n      this._logger.debug(\"\\u3010xhrLoader task\\u3011, range\", this._range);\n      this._url = setUrlParams(req.url, req.params);\n      var startTime = Date.now();\n      return new Promise(function(resolve, reject) {\n        _this2._loadCompleteResolve = resolve;\n        _this2._loadCompleteReject = reject;\n        _this2._startLoad();\n      }).catch(function(error) {\n        clearTimeout(_this2._timeoutTimer);\n        _this2._runing = false;\n        if (_this2._aborted)\n          return;\n        error = error instanceof NetError ? error : new NetError(_this2._url, _this2._request);\n        error.startTime = startTime;\n        error.endTime = Date.now();\n        error.options = {\n          index: _this2._index,\n          vid: _this2._vid,\n          priOptions: _this2._priOptions\n        };\n        throw error;\n      });\n    }\n  }, {\n    key: \"_startLoad\",\n    value: function _startLoad() {\n      var range = null;\n      if (this._responseType === ResponseType.ARRAY_BUFFER && this._range && this._range.length > 1) {\n        if (this._onProgress) {\n          this._firstRtt = -1;\n          var chunkSize = this._currentChunkSizeKB * 1024;\n          var from = this._range[0] + this._receivedLength;\n          var to = this._range[1];\n          if (chunkSize < this._range[1] - from) {\n            to = from + chunkSize;\n          }\n          range = [from, to];\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", SubRange, \", range);\n        } else {\n          range = this._range;\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", allRange, \", range);\n        }\n      }\n      this._internalOpen(range);\n    }\n  }, {\n    key: \"_internalOpen\",\n    value: function _internalOpen(range) {\n      var _this3 = this;\n      try {\n        this._startTime = Date.now();\n        var xhr = this._xhr = new XMLHttpRequest();\n        xhr.open(this._method || \"GET\", this._url, true);\n        xhr.responseType = this._responseType;\n        this._timeout && (xhr.timeout = this._timeout);\n        xhr.withCredentials = this._withCredentials;\n        xhr.onload = this._onLoad.bind(this);\n        xhr.onreadystatechange = this._onReadyStatechange.bind(this);\n        xhr.onerror = function(errorEvent) {\n          var _errorEvent$currentTa, _errorEvent$currentTa2, _errorEvent$currentTa3;\n          _this3._running = false;\n          var error = new NetError(_this3._url, _this3._request, errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa = errorEvent.currentTarget) === null || _errorEvent$currentTa === void 0 ? void 0 : _errorEvent$currentTa.response, \"xhr.onerror.status:\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa2 = errorEvent.currentTarget) === null || _errorEvent$currentTa2 === void 0 ? void 0 : _errorEvent$currentTa2.status) + \",statusText,\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa3 = errorEvent.currentTarget) === null || _errorEvent$currentTa3 === void 0 ? void 0 : _errorEvent$currentTa3.statusText));\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        xhr.ontimeout = function(event) {\n          _this3.cancel();\n          var error = new NetError(_this3._url, _this3._request, {\n            status: 408\n          }, \"timeout\");\n          if (_this3._onTimeout) {\n            error.isTimeout = true;\n            _this3._onTimeout(error, {\n              index: _this3._index,\n              range: _this3._range,\n              vid: _this3._vid,\n              priOptions: _this3._priOptions\n            });\n          }\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        var headers = this._headers || {};\n        var rangeValue = getRangeValue(range);\n        if (rangeValue) {\n          headers.Range = rangeValue;\n        }\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        this._logger.debug(\"[xhr.send->] tast,\", this._range, \",load sub range, \", range);\n        xhr.send(this._body);\n      } catch (e) {\n        e.options = {\n          index: this._index,\n          range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this._loadCompleteReject(e);\n      }\n    }\n  }, {\n    key: \"_onReadyStatechange\",\n    value: function _onReadyStatechange(e) {\n      var xhr = e.target;\n      if (xhr.readyState === 2) {\n        this._firstRtt < 0 && (this._firstRtt = Date.now());\n      }\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(e) {\n      var _this$_range;\n      var status = e.target.status;\n      if (status < 200 || status > 299) {\n        var error = new NetError(this._url, null, _objectSpread2(_objectSpread2({}, e.target.response), {}, {\n          status\n        }), \"bad response,status:\" + status);\n        error.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        return this._loadCompleteReject(error);\n      }\n      var data = null;\n      var done = false;\n      var byteStart;\n      var startRange = ((_this$_range = this._range) === null || _this$_range === void 0 ? void 0 : _this$_range.length) > 0 ? this._range[0] : 0;\n      if (this._responseType === ResponseType.ARRAY_BUFFER) {\n        var _this$_range2;\n        var chunk = new Uint8Array(e.target.response);\n        byteStart = startRange + this._receivedLength;\n        if (chunk && chunk.byteLength > 0) {\n          this._receivedLength += chunk.byteLength;\n          var costTime = Date.now() - this._startTime;\n          var speed = calculateSpeed(this._receivedLength, costTime);\n          this.emit(EVENT.REAL_TIME_SPEED, {\n            speed,\n            len: this._receivedLength,\n            time: costTime,\n            vid: this._vid,\n            index: this._index,\n            range: [byteStart, startRange + this._receivedLength],\n            priOptions: this._priOptions\n          });\n        }\n        data = chunk;\n        if (((_this$_range2 = this._range) === null || _this$_range2 === void 0 ? void 0 : _this$_range2.length) > 1 && this._range[1] && this._receivedLength < this._range[1] - this._range[0]) {\n          done = false;\n        } else {\n          done = true;\n        }\n        this._logger.debug(\"[xhr load done->], tast :\", this._range, \", start\", byteStart, \"end \", startRange + this._receivedLength, \",dataLen,\", chunk ? chunk.byteLength : 0, \",receivedLength\", this._receivedLength, \",index,\", this._index, \", done,\", done);\n      } else {\n        done = true;\n        data = e.target.response;\n      }\n      var response = {\n        ok: status >= 200 && status < 300,\n        status,\n        statusText: this._xhr.statusText,\n        url: this._xhr.responseURL,\n        headers: this._getHeaders(this._xhr),\n        body: this._xhr.response\n      };\n      if (this._transformResponse) {\n        response = this._transformResponse(response, this._url) || response;\n      }\n      if (this._onProgress) {\n        this._onProgress(data, done, {\n          index: this._index,\n          vid: this._vid,\n          range: [byteStart, startRange + this._receivedLength],\n          startTime: this._startTime,\n          endTime: Date.now(),\n          priOptions: this._priOptions\n        }, response);\n      }\n      if (!done) {\n        this._startLoad();\n      } else {\n        this._runing = false;\n        this._loadCompleteResolve && this._loadCompleteResolve(createResponse(this._onProgress ? null : data, done, response, response.headers[\"content-length\"], response.headers.age, this._startTime, this._firstRtt, this._index, this._range, this._vid, this._priOptions));\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._aborted)\n        return;\n      this._aborted = true;\n      this._runing = false;\n      _get(_getPrototypeOf(XhrLoader2.prototype), \"removeAllListeners\", this).call(this);\n      if (this._onCancel) {\n        this._onCancel({\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        });\n      }\n      if (this._xhr) {\n        return this._xhr.abort();\n      }\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(xhr) {\n      var headerLines = xhr.getAllResponseHeaders().trim().split(\"\\r\\n\");\n      var headers = {};\n      var _iterator = _createForOfIteratorHelper(headerLines), _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n          var header = _step.value;\n          var parts = header.split(\": \");\n          headers[parts[0].toLowerCase()] = parts.slice(1).join(\": \");\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return headers;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof XMLHttpRequest !== \"undefined\";\n    }\n  }]);\n  return XhrLoader2;\n}(EventEmitter);\nexport { XhrLoader };\n","import { createClass as _createClass, objectWithoutProperties as _objectWithoutProperties, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { XhrLoader } from \"./xhr.js\";\nimport { LoaderType } from \"./types.js\";\nimport { createPublicPromise } from \"../utils.js\";\nimport { Logger } from \"../logger.js\";\nvar _excluded = [\"retry\", \"retryDelay\", \"onRetryError\", \"transformError\"];\nvar Task = /* @__PURE__ */ function() {\n  function Task2(type, config) {\n    _classCallCheck(this, Task2);\n    this.promise = createPublicPromise();\n    this.alive = !!config.onProgress;\n    !config.logger && (config.logger = new Logger(\"Loader\"));\n    this._loaderType = type;\n    this._loader = type === LoaderType.FETCH && typeof fetch !== \"undefined\" ? new FetchLoader() : new XhrLoader();\n    this._config = config;\n    this._retryCount = 0;\n    this._retryTimer = null;\n    this._canceled = false;\n    this._retryCheckFunc = config.retryCheckFunc;\n    this._logger = config.logger;\n  }\n  _createClass(Task2, [{\n    key: \"exec\",\n    value: function exec() {\n      var _this = this;\n      var _this$_config = this._config, retry = _this$_config.retry, retryDelay = _this$_config.retryDelay, onRetryError = _this$_config.onRetryError, transformError = _this$_config.transformError, rest = _objectWithoutProperties(_this$_config, _excluded);\n      var request = /* @__PURE__ */ function() {\n        var _ref = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n          var response, error, isRetry;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1)\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return _this._loader.load(rest);\n                case 3:\n                  response = _context.sent;\n                  _this.promise.resolve(response);\n                  _context.next = 27;\n                  break;\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](0);\n                  _this._loader.running = false;\n                  _this._logger.debug(\"[task request catch err]\", _context.t0);\n                  if (!_this._canceled) {\n                    _context.next = 13;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 13:\n                  _context.t0.loaderType = _this._loaderType;\n                  _context.t0.retryCount = _this._retryCount;\n                  error = _context.t0;\n                  if (transformError) {\n                    error = transformError(error) || error;\n                  }\n                  if (onRetryError && _this._retryCount > 0)\n                    onRetryError(error, _this._retryCount, {\n                      index: rest.index,\n                      vid: rest.vid,\n                      range: rest.range,\n                      priOptions: rest.priOptions\n                    });\n                  _this._retryCount++;\n                  isRetry = true;\n                  if (_this._retryCheckFunc) {\n                    isRetry = _this._retryCheckFunc(_context.t0);\n                  }\n                  if (!(isRetry && _this._retryCount <= retry)) {\n                    _context.next = 26;\n                    break;\n                  }\n                  clearTimeout(_this._retryTimer);\n                  _this._logger.debug(\"[task request setTimeout],retry\", _this._retryCount, \",retry range,\", rest.range);\n                  _this._retryTimer = setTimeout(request, retryDelay);\n                  return _context.abrupt(\"return\");\n                case 26:\n                  _this.promise.reject(error);\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n          }, _callee, null, [[0, 7]]);\n        }));\n        return function request2() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      request();\n      return this.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(this._retryTimer);\n                this._canceled = true;\n                this._loader.running = false;\n                return _context2.abrupt(\"return\", this._loader.cancel());\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._loader && this._loader.running;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._loader;\n    }\n  }]);\n  return Task2;\n}();\nexport { Task };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { LoaderType } from \"./types.js\";\nexport { LoaderType, ResponseType } from \"./types.js\";\nimport { getConfig } from \"./config.js\";\nimport { Task } from \"./task.js\";\nimport { isPlainObject } from \"../is.js\";\nimport { sleep } from \"../streaming-helper.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar NetLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(NetLoader2, _EventEmitter);\n  var _super = _createSuper(NetLoader2);\n  function NetLoader2(cfg) {\n    var _this;\n    _classCallCheck(this, NetLoader2);\n    _this = _super.call(this, cfg);\n    _defineProperty(_assertThisInitialized(_this), \"type\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"_queue\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_alive\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_currentTask\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_finnalUrl\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_config\", void 0);\n    _this._config = getConfig(cfg);\n    if (_this._config.loaderType === LoaderType.XHR || !FetchLoader.isSupported()) {\n      _this.type = LoaderType.XHR;\n    }\n    _this.log = cfg.logger;\n    return _this;\n  }\n  _createClass(NetLoader2, [{\n    key: \"isFetch\",\n    value: function isFetch() {\n      return this.type === LoaderType.FETCH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (typeof url === \"string\" || !url) {\n        config.url = url || config.url || this._config.url;\n      } else {\n        config = url;\n      }\n      config = Object.assign({}, this._config, config);\n      if (config.params)\n        config.params = Object.assign({}, config.params);\n      if (config.headers && isPlainObject(config.headers))\n        config.headers = Object.assign({}, config.headers);\n      if (config.body && isPlainObject(config.body))\n        config.body = Object.assign({}, config.body);\n      if (config.transformRequest) {\n        config = config.transformRequest(config) || config;\n      }\n      config.logger = this.log;\n      var task = new Task(this.type, config);\n      task.loader.on(EVENT.REAL_TIME_SPEED, function(data) {\n        _this2.emit(EVENT.REAL_TIME_SPEED, data);\n      });\n      this._queue.push(task);\n      if (this._queue.length === 1 && (!this._currentTask || !this._currentTask.running)) {\n        this._processTask();\n      }\n      return task.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n        var cancels;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                cancels = this._queue.map(function(t) {\n                  return t.cancel();\n                }).concat(this._alive.map(function(t) {\n                  return t.cancel();\n                }));\n                if (this._currentTask) {\n                  cancels.push(this._currentTask.cancel());\n                }\n                this._queue = [];\n                this._alive = [];\n                _context.next = 6;\n                return Promise.all(cancels);\n              case 6:\n                _context.next = 8;\n                return sleep();\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_processTask\",\n    value: function _processTask() {\n      var _this3 = this;\n      this._currentTask = this._queue.shift();\n      if (!this._currentTask)\n        return;\n      if (this._currentTask.alive) {\n        this._alive.push(this._currentTask);\n      }\n      var req = this._currentTask.exec().catch(function(e) {\n      });\n      if (!(req && typeof req.finally === \"function\"))\n        return;\n      req.finally(function() {\n        var _this3$_currentTask, _this3$_alive;\n        if ((_this3$_currentTask = _this3._currentTask) !== null && _this3$_currentTask !== void 0 && _this3$_currentTask.alive && ((_this3$_alive = _this3._alive) === null || _this3$_alive === void 0 ? void 0 : _this3$_alive.length) > 0) {\n          _this3._alive = _this3._alive.filter(function(task) {\n            return task && task !== _this3._currentTask;\n          });\n        }\n        _this3._processTask();\n      });\n    }\n  }], [{\n    key: \"isFetchSupport\",\n    value: function isFetchSupport() {\n      return FetchLoader.isSupported();\n    }\n  }]);\n  return NetLoader2;\n}(EventEmitter);\nexport { NetLoader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, assertThisInitialized as _assertThisInitialized } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nvar MasterPlaylist = /* @__PURE__ */ _createClass(function MasterPlaylist2() {\n  _classCallCheck(this, MasterPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"streams\", []);\n  _defineProperty(this, \"isMaster\", true);\n});\nvar MediaType = {\n  Audio: \"AUDIO\",\n  Video: \"VIDEO\",\n  SubTitle: \"SUBTITLE\",\n  ClosedCaptions: \"CLOSED-CAPTIONS\"\n};\nvar KeySystems = {\n  CLEAR_KEY: \"org.w3.clearkey\",\n  FAIRPLAY: [\"urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2\", \"com.apple.streamingkeydelivery\"],\n  WIDEVINE: [\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\", \"com.widevine.alpha\", \"com.widevine\"],\n  PLAYREADY: [\"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\", \"com.microsoft.playready\"]\n};\nfunction flatArray(arr) {\n  var ret = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      ret = ret.concat(flatArray(arr[i]));\n    } else {\n      ret.push(arr[i]);\n    }\n  }\n  return ret;\n}\nvar MediaStream = /* @__PURE__ */ _createClass(function MediaStream2() {\n  _classCallCheck(this, MediaStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"default\", false);\n  _defineProperty(this, \"autoSelect\", false);\n  _defineProperty(this, \"forced\", false);\n  _defineProperty(this, \"group\", \"\");\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"lang\", \"\");\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"endSN\", 0);\n});\nvar AudioStream = /* @__PURE__ */ function(_MediaStream) {\n  _inherits(AudioStream2, _MediaStream);\n  var _super = _createSuper(AudioStream2);\n  function AudioStream2() {\n    var _this;\n    _classCallCheck(this, AudioStream2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"mediaType\", MediaType.Audio);\n    _defineProperty(_assertThisInitialized(_this), \"channels\", 0);\n    return _this;\n  }\n  return _createClass(AudioStream2);\n}(MediaStream);\nvar SubTitleStream = /* @__PURE__ */ function(_MediaStream3) {\n  _inherits(SubTitleStream2, _MediaStream3);\n  var _super3 = _createSuper(SubTitleStream2);\n  function SubTitleStream2() {\n    var _this3;\n    _classCallCheck(this, SubTitleStream2);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this3 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this3), \"mediaType\", MediaType.SubTitle);\n    return _this3;\n  }\n  return _createClass(SubTitleStream2);\n}(MediaStream);\nvar MasterStream = /* @__PURE__ */ _createClass(function MasterStream2() {\n  _classCallCheck(this, MasterStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"bitrate\", 0);\n  _defineProperty(this, \"width\", 0);\n  _defineProperty(this, \"height\", 0);\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"audioCodec\", \"\");\n  _defineProperty(this, \"videoCodec\", \"\");\n  _defineProperty(this, \"textCodec\", \"\");\n  _defineProperty(this, \"audioGroup\", \"\");\n  _defineProperty(this, \"audioStreams\", []);\n  _defineProperty(this, \"subtitleStreams\", []);\n  _defineProperty(this, \"closedCaptionsStream\", []);\n});\nvar MediaPlaylist = /* @__PURE__ */ _createClass(function MediaPlaylist2() {\n  _classCallCheck(this, MediaPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"type\", \"\");\n  _defineProperty(this, \"startCC\", 0);\n  _defineProperty(this, \"endCC\", 0);\n  _defineProperty(this, \"startSN\", 0);\n  _defineProperty(this, \"endSN\", 0);\n  _defineProperty(this, \"totalDuration\", 0);\n  _defineProperty(this, \"targetDuration\", 0);\n  _defineProperty(this, \"partTargetDuration\", 0);\n  _defineProperty(this, \"canSkipUntil\", 0);\n  _defineProperty(this, \"canSkipDateRanges\", false);\n  _defineProperty(this, \"skippedSegments\", 0);\n  _defineProperty(this, \"canBlockReload\", false);\n  _defineProperty(this, \"partHoldBack\", 0);\n  _defineProperty(this, \"live\", true);\n  _defineProperty(this, \"lowLatency\", false);\n  _defineProperty(this, \"endPartIndex\", 0);\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"dateRanges\", {});\n  _defineProperty(this, \"skippedSegments\", 0);\n});\nvar MediaSegment = /* @__PURE__ */ function() {\n  function MediaSegment2(parentUrl) {\n    _classCallCheck(this, MediaSegment2);\n    _defineProperty(this, \"sn\", 0);\n    _defineProperty(this, \"cc\", 0);\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"parentUrl\", \"\");\n    _defineProperty(this, \"title\", \"\");\n    _defineProperty(this, \"start\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"dataTime\", \"\");\n    _defineProperty(this, \"key\", null);\n    _defineProperty(this, \"byteRange\", null);\n    _defineProperty(this, \"isInitSegment\", false);\n    _defineProperty(this, \"initSegment\", null);\n    _defineProperty(this, \"isLast\", false);\n    _defineProperty(this, \"hasAudio\", false);\n    _defineProperty(this, \"hasVideo\", false);\n    _defineProperty(this, \"independent\", false);\n    _defineProperty(this, \"partIndex\", 0);\n    this.parentUrl = parentUrl;\n  }\n  _createClass(MediaSegment2, [{\n    key: \"end\",\n    get: function get() {\n      return this.start + this.duration;\n    }\n  }, {\n    key: \"setTrackExist\",\n    value: function setTrackExist(v, a) {\n      this.hasVideo = v;\n      this.hasAudio = a;\n    }\n  }, {\n    key: \"setByteRange\",\n    value: function setByteRange(data, prevSegment) {\n      this.byteRange = [0];\n      var bytes = data.split(\"@\");\n      if (bytes.length === 1 && prevSegment && prevSegment.byteRange) {\n        this.byteRange[0] = prevSegment.byteRange[1] || 0;\n        if (this.byteRange[0])\n          this.byteRange[0] += 1;\n      } else {\n        this.byteRange[0] = parseInt(bytes[1]);\n      }\n      this.byteRange[1] = this.byteRange[0] + parseInt(bytes[0]) - 1;\n    }\n  }]);\n  return MediaSegment2;\n}();\nvar MediaSegmentKey = /* @__PURE__ */ function() {\n  function MediaSegmentKey2(segKey) {\n    _classCallCheck(this, MediaSegmentKey2);\n    _defineProperty(this, \"method\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"iv\", null);\n    _defineProperty(this, \"keyFormat\", \"\");\n    _defineProperty(this, \"keyFormatVersions\", \"\");\n    if (segKey instanceof MediaSegmentKey2) {\n      this.method = segKey.method;\n      this.url = segKey.url;\n      this.keyFormat = segKey.keyFormat;\n      this.keyFormatVersions = segKey.keyFormatVersions;\n      if (segKey.iv)\n        this.iv = new Uint8Array(segKey.iv);\n    }\n  }\n  _createClass(MediaSegmentKey2, [{\n    key: \"clone\",\n    value: function clone(sn) {\n      var key = new MediaSegmentKey2(this);\n      if (sn !== null && sn !== void 0)\n        key.setIVFromSN(sn);\n      return key;\n    }\n  }, {\n    key: \"setIVFromSN\",\n    value: function setIVFromSN(sn) {\n      if (!this.iv && this.method === \"AES-128\" && typeof sn === \"number\" && this.url) {\n        this.iv = new Uint8Array(16);\n        for (var i = 12; i < 16; i++) {\n          this.iv[i] = sn >> 8 * (15 - i) & 255;\n        }\n      }\n    }\n  }, {\n    key: \"isSegmentEncrypted\",\n    value: function isSegmentEncrypted() {\n      var method = this.method;\n      return method === \"AES-128\";\n    }\n  }, {\n    key: \"isValidKeySystem\",\n    value: function isValidKeySystem() {\n      var isKeyFormatValid = flatArray([KeySystems.CLEAR_KEY, KeySystems.FAIRPLAY, KeySystems.WIDEVINE, KeySystems.PLAYREADY]).indexOf(this.keyFormat) > -1;\n      if (!isKeyFormatValid) {\n        return false;\n      }\n      var isMethodValid = [\"SAMPLE-AES\", \"SAMPLE-AES-CENC\", \"SAMPLE-AES-CTR\"].indexOf(this.method) > -1;\n      if (!isMethodValid) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      if (!this.method) {\n        return false;\n      }\n      if (this.isSegmentEncrypted()) {\n        return true;\n      } else if (this.isValidKeySystem()) {\n        return true;\n      }\n      return false;\n    }\n  }]);\n  return MediaSegmentKey2;\n}();\nexport { AudioStream, MasterPlaylist, MasterStream, MediaPlaylist, MediaSegment, MediaSegmentKey, MediaStream, SubTitleStream };\n","var REGEXP_TAG = /^#(EXT[^:]*)(?::(.*))?$/;\nvar REGEXP_ATTR = /([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;\nvar REGEXP_ABSOLUTE_URL = /^(?:[a-zA-Z0-9+\\-.]+:)?\\/\\//;\nvar REGEXP_URL_PAIR = /^((?:[a-zA-Z0-9+\\-.]+:)?\\/\\/[^/?#]*)?([^?#]*\\/)?/;\nfunction getLines(text) {\n  return text.split(/[\\r\\n]/).map(function(x) {\n    return x.trim();\n  }).filter(Boolean);\n}\nfunction parseTag(text) {\n  var ret = text.match(REGEXP_TAG);\n  if (!ret || !ret[1])\n    return;\n  return [ret[1].replace(\"EXT-X-\", \"\"), ret[2]];\n}\nfunction parseAttr(text) {\n  var ret = {};\n  var match = REGEXP_ATTR.exec(text);\n  while (match) {\n    ret[match[1]] = match[2] || match[3];\n    match = REGEXP_ATTR.exec(text);\n  }\n  return ret;\n}\nfunction getAbsoluteUrl(url, parentUrl) {\n  if (!parentUrl || !url || REGEXP_ABSOLUTE_URL.test(url))\n    return url;\n  var pairs = REGEXP_URL_PAIR.exec(parentUrl);\n  if (!pairs)\n    return url;\n  if (url[0] === \"/\")\n    return pairs[1] + url;\n  return pairs[1] + pairs[2] + url;\n}\nvar CODECS_REGEXP = {\n  audio: [/^mp4a/, /^vorbis$/, /^opus$/, /^flac$/, /^[ae]c-3$/],\n  video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/],\n  text: [/^vtt$/, /^wvtt/, /^stpp/]\n};\nfunction getCodecs(type, codecs) {\n  var re = CODECS_REGEXP[type];\n  if (!re || !codecs || !codecs.length)\n    return;\n  for (var i = 0; i < re.length; i++) {\n    for (var j = 0; j < codecs.length; j++) {\n      if (re[i].test(codecs[j]))\n        return codecs[j];\n    }\n  }\n}\nfunction isValidDaterange(attr, dateRangeWithSameId) {\n  var _badValueForSameId;\n  if (dateRangeWithSameId) {\n    for (var key in dateRangeWithSameId) {\n      if (Object.prototype.hasOwnProperty.call(dateRangeWithSameId, key) && attr[key] !== dateRangeWithSameId[key]) {\n        _badValueForSameId = key;\n        break;\n      }\n    }\n  }\n  var duration = null;\n  if (attr.DURATION) {\n    duration = parseFloat(attr.DURATION);\n    if (!Number.isFinite(duration)) {\n      duration = null;\n    } else if (attr._endDate) {\n      duration = (attr._endDate.getTime() - attr._startDate.getTime()) / 1e3;\n    }\n  }\n  var cue = enumeratedStringList(attr.CUE || attr[\"X-CUE\"], {\n    pre: false,\n    post: false,\n    once: false\n  });\n  return !!attr.ID && !_badValueForSameId && Number.isFinite(attr._startDate.getTime()) && (duration === null || duration >= 0) && (!(attr.END_ON_NEXT === \"YES\") || !!attr.CLASS) && (!attr.CUE || !cue.pre && !cue.post || cue.pre !== cue.post) && (!(attr.CLASS === \"com.apple.hls.interstitial\") || \"X-ASSET-URI\" in attr || \"X-ASSET-LIST\" in attr);\n}\nfunction enumeratedStringList(attrValue, dict) {\n  return (attrValue ? attrValue.split(/[ ,]+/) : []).reduce(function(result, identifier) {\n    result[identifier.toLowerCase()] = true;\n    return result;\n  }, dict);\n}\nexport { getAbsoluteUrl, getCodecs, getLines, isValidDaterange, parseAttr, parseTag };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MasterPlaylist, MediaStream, SubTitleStream, AudioStream, MasterStream } from \"./model.js\";\nimport { parseTag, parseAttr, getAbsoluteUrl, getCodecs } from \"./utils.js\";\nfunction parseMasterPlaylist(lines, parentUrl) {\n  var master = new MasterPlaylist();\n  var index = 0;\n  var line;\n  var audioStreams = [];\n  var subtitleStreams = [];\n  while (line = lines[index++]) {\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    if (name === \"VERSION\") {\n      master.version = parseInt(data);\n    } else if (name === \"MEDIA\" && data) {\n      var attr = parseAttr(data);\n      var stream = void 0;\n      switch (attr.TYPE) {\n        case \"AUDIO\":\n          stream = new AudioStream();\n          break;\n        case \"SUBTITLES\":\n          stream = new SubTitleStream();\n          break;\n        default:\n          stream = new MediaStream();\n      }\n      stream.url = getAbsoluteUrl(attr.URI, parentUrl);\n      stream.default = attr.DEFAULT === \"YES\";\n      stream.autoSelect = attr.AUTOSELECT === \"YES\";\n      stream.group = attr[\"GROUP-ID\"];\n      stream.name = attr.NAME;\n      stream.lang = attr.LANGUAGE;\n      if (attr.CHANNELS) {\n        stream.channels = Number(attr.CHANNELS.split(\"/\")[0]);\n        if (Number.isNaN(stream.channels))\n          stream.channels = 0;\n      }\n      if (attr.TYPE === \"AUDIO\" && attr.URI) {\n        audioStreams.push(stream);\n      }\n      if (attr.TYPE === \"SUBTITLES\") {\n        subtitleStreams.push(stream);\n      }\n    } else if (name === \"STREAM-INF\" && data) {\n      var _stream = new MasterStream();\n      var _attr = parseAttr(data);\n      _stream.bitrate = parseInt(_attr[\"AVERAGE-BANDWIDTH\"] || _attr.BANDWIDTH);\n      _stream.name = _attr.NAME;\n      _stream.url = getAbsoluteUrl(lines[index++], parentUrl);\n      if (_attr.RESOLUTION) {\n        var _attr$RESOLUTION$spli = _attr.RESOLUTION.split(\"x\"), _attr$RESOLUTION$spli2 = _slicedToArray(_attr$RESOLUTION$spli, 2), w = _attr$RESOLUTION$spli2[0], h = _attr$RESOLUTION$spli2[1];\n        _stream.width = parseInt(w);\n        _stream.height = parseInt(h);\n      }\n      if (_attr.CODECS) {\n        var codecs = _attr.CODECS.split(/[ ,]+/).filter(Boolean);\n        _stream.videoCodec = getCodecs(\"video\", codecs);\n        _stream.audioCodec = getCodecs(\"audio\", codecs);\n        _stream.textCodec = getCodecs(\"text\", codecs);\n      }\n      _stream.audioGroup = _attr.AUDIO;\n      _stream.subtitleGroup = _attr.SUBTITLES;\n      master.streams.push(_stream);\n    }\n  }\n  master.streams.forEach(function(s, i) {\n    s.id = i;\n  });\n  if (audioStreams.length) {\n    audioStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.audioGroup) {\n        stream2.audioStreams = audioStreams.filter(function(x) {\n          return x.group === stream2.audioGroup;\n        });\n      }\n    });\n  }\n  if (subtitleStreams.length) {\n    subtitleStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.subtitleGroup) {\n        stream2.subtitleStreams = subtitleStreams.filter(function(x) {\n          return x.group === stream2.subtitleGroup;\n        });\n      }\n    });\n  }\n  return master;\n}\nexport { parseMasterPlaylist };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MediaPlaylist, MediaSegment, MediaSegmentKey } from \"./model.js\";\nimport { getAbsoluteUrl, parseTag, parseAttr, isValidDaterange } from \"./utils.js\";\nfunction parseMediaPlaylist(lines, parentUrl, useLowLatency) {\n  var media = new MediaPlaylist();\n  media.url = parentUrl;\n  var curSegment = new MediaSegment(parentUrl);\n  var curInitSegment = null;\n  var curKey = null;\n  var totalDuration = 0;\n  var curSN = 0;\n  var curCC = 0;\n  var index = 0;\n  var line;\n  var endOfList = false;\n  var partSegmentIndex = 0;\n  while (line = lines[index++]) {\n    if (line[0] !== \"#\") {\n      if (media.lowLatency) {\n        curSN++;\n        continue;\n      }\n      curSegment.sn = curSN;\n      curSegment.cc = curCC;\n      curSegment.url = getAbsoluteUrl(line, parentUrl);\n      if (curKey)\n        curSegment.key = curKey.clone(curSN);\n      if (curInitSegment)\n        curSegment.initSegment = curInitSegment;\n      media.segments.push(curSegment);\n      curSegment = new MediaSegment(parentUrl);\n      curSN++;\n      continue;\n    }\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    switch (name) {\n      case \"VERSION\":\n        media.version = parseInt(data);\n        break;\n      case \"PLAYLIST-TYPE\":\n        media.type = data === null || data === void 0 ? void 0 : data.toUpperCase();\n        break;\n      case \"TARGETDURATION\":\n        media.targetDuration = parseFloat(data);\n        break;\n      case \"PART-INF\":\n        {\n          if (useLowLatency) {\n            media.lowLatency = true;\n          }\n          var attr = parseAttr(data);\n          if (attr[\"PART-TARGET\"]) {\n            media.partTargetDuration = parseFloat(attr[\"PART-TARGET\"]);\n          }\n        }\n        break;\n      case \"SERVER-CONTROL\":\n        {\n          var _attr = parseAttr(data);\n          media.canBlockReload = _attr[\"CAN-BLOCK-RELOAD\"] === \"YES\";\n          media.partHoldBack = parseFloat(_attr[\"PART-HOLD-BACK\"] || 0);\n          media.canSkipUntil = parseFloat(_attr[\"CAN-SKIP-UNTIL\"] || 0);\n          media.canSkipDateRanges = _attr[\"CAN-SKIP-DATERANGES\"] === \"YES\";\n        }\n        break;\n      case \"ENDLIST\":\n        {\n          endOfList = true;\n        }\n        break;\n      case \"MEDIA-SEQUENCE\":\n        curSN = media.startSN = parseInt(data);\n        break;\n      case \"DISCONTINUITY-SEQUENCE\":\n        curCC = media.startCC = parseInt(data);\n        break;\n      case \"DISCONTINUITY\":\n        curCC++;\n        break;\n      case \"BYTERANGE\":\n        curSegment.setByteRange(data, media.segments[media.segments.length - 1]);\n        break;\n      case \"PART\":\n        {\n          if (!media.lowLatency)\n            break;\n          var _attr2 = parseAttr(data);\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          curSegment.independent = _attr2[\"INDEPENDENT\"] === \"YES\";\n          curSegment.sn = curSN;\n          curSegment.cc = curCC;\n          curSegment.partIndex = partSegmentIndex;\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          totalDuration += curSegment.duration;\n          curSegment.url = getAbsoluteUrl(_attr2[\"URI\"], parentUrl);\n          if (curKey)\n            curSegment.key = curKey.clone(curSN);\n          if (curInitSegment)\n            curSegment.initSegment = curInitSegment;\n          media.segments.push(curSegment);\n          curSegment = new MediaSegment(parentUrl);\n          partSegmentIndex++;\n        }\n        break;\n      case \"PRELOAD-HINT\":\n        break;\n      case \"PROGRAM-DATE-TIME\":\n        curSegment.dataTime = data;\n        break;\n      case \"EXTINF\":\n        {\n          if (media.lowLatency) {\n            partSegmentIndex = 0;\n            break;\n          }\n          var _data$split = data.split(\",\"), _data$split2 = _slicedToArray(_data$split, 2), duration = _data$split2[0], title = _data$split2[1];\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(duration);\n          totalDuration += curSegment.duration;\n          curSegment.title = title;\n        }\n        break;\n      case \"KEY\":\n        {\n          var _attr3 = parseAttr(data);\n          if (_attr3.METHOD === \"NONE\") {\n            curKey = null;\n            break;\n          }\n          curKey = new MediaSegmentKey();\n          curKey.method = _attr3.METHOD;\n          curKey.url = /^blob:/.test(_attr3.URI) ? _attr3.URI : getAbsoluteUrl(_attr3.URI, parentUrl);\n          curKey.keyFormat = _attr3.KEYFORMAT || \"identity\";\n          curKey.keyFormatVersions = _attr3.KEYFORMATVERSIONS;\n          if (!curKey.isSupported()) {\n            throw new Error(\"encrypt \".concat(_attr3.METHOD, \"/\").concat(_attr3.KEYFORMAT, \" is not supported\"));\n          }\n          if (_attr3.IV) {\n            var str = _attr3.IV.slice(2);\n            str = (str.length & 1 ? \"0\" : \"\") + str;\n            curKey.iv = new Uint8Array(str.length / 2);\n            for (var i = 0, l = str.length / 2; i < l; i++) {\n              curKey.iv[i] = parseInt(str.slice(i * 2, i * 2 + 2), 16);\n            }\n          }\n        }\n        break;\n      case \"MAP\":\n        {\n          var _attr4 = parseAttr(data);\n          curSegment.url = getAbsoluteUrl(_attr4.URI, parentUrl);\n          if (_attr4.BYTERANGE)\n            curSegment.setByteRange(_attr4.BYTERANGE);\n          curSegment.isInitSegment = true;\n          curSegment.sn = 0;\n          if (curKey) {\n            curSegment.key = curKey.clone(0);\n          }\n          curInitSegment = curSegment;\n          curSegment = new MediaSegment(parentUrl);\n        }\n        break;\n      case \"SKIP\":\n        {\n          var _attr5 = parseAttr(data);\n          var skippedSegments = parseInt(_attr5[\"SKIPPED-SEGMENTS\"], 10);\n          if (skippedSegments <= Number.MAX_SAFE_INTEGER) {\n            media.skippedSegments += skippedSegments;\n          }\n        }\n        break;\n      case \"DATERANGE\":\n        {\n          var _attr6 = parseAttr(data);\n          var dateRangeWithSameId = media.dateRanges[_attr6.ID];\n          _attr6._startDate = dateRangeWithSameId ? dateRangeWithSameId._startDate : new Date(_attr6[\"START-DATE\"]);\n          var endDate = (dateRangeWithSameId === null || dateRangeWithSameId === void 0 ? void 0 : dateRangeWithSameId._endDate) || new Date(_attr6.END_DATE);\n          if (Number.isFinite(endDate)) {\n            _attr6._endDate = endDate;\n          }\n          if (isValidDaterange(_attr6, dateRangeWithSameId) || media.skippedSegments) {\n            media.dateRanges[_attr6.ID] = _attr6;\n          }\n        }\n        break;\n    }\n  }\n  media.segments = media.segments.filter(function(x) {\n    return x.duration !== 0;\n  });\n  var lastSegment = media.segments[media.segments.length - 1];\n  if (lastSegment) {\n    if (endOfList) {\n      lastSegment.isLast = true;\n    }\n    media.endSN = lastSegment.sn;\n    media.endPartIndex = lastSegment.partIndex;\n  }\n  if (endOfList) {\n    media.live = false;\n  }\n  media.totalDuration = totalDuration;\n  media.endCC = curCC;\n  return media;\n}\nexport { parseMediaPlaylist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { parseMasterPlaylist } from \"./master.js\";\nimport { parseMediaPlaylist } from \"./media.js\";\nimport { getLines } from \"./utils.js\";\nvar M3U8Parser = /* @__PURE__ */ function() {\n  function M3U8Parser2() {\n    _classCallCheck(this, M3U8Parser2);\n  }\n  _createClass(M3U8Parser2, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n      var parentUrl = arguments.length > 1 ? arguments[1] : void 0;\n      var useLowLatency = arguments.length > 2 ? arguments[2] : void 0;\n      if (!text.includes(\"#EXTM3U\"))\n        throw new Error(\"Invalid m3u8 file\");\n      var lines = getLines(text);\n      if (M3U8Parser2.isMediaPlaylist(text)) {\n        return parseMediaPlaylist(lines, parentUrl, useLowLatency);\n      }\n      return parseMasterPlaylist(lines, parentUrl);\n    }\n  }, {\n    key: \"isMediaPlaylist\",\n    value: function isMediaPlaylist(text) {\n      return text.includes(\"#EXTINF:\") || text.includes(\"#EXT-X-TARGETDURATION:\");\n    }\n  }]);\n  return M3U8Parser2;\n}();\nexport { M3U8Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, NetLoader, ERR } from \"xgplayer-streaming-shared\";\nimport { M3U8Parser } from \"./parser/index.js\";\nimport { Event } from \"../constants.js\";\nvar ManifestLoader = /* @__PURE__ */ function() {\n  function ManifestLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, ManifestLoader2);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(Event.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._timer = null;\n    this._useLowLatency = hls.config.useLowLatency;\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, manifestLoadTimeout = _this$hls$config.manifestLoadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._loader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._subtitleLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(ManifestLoader2, [{\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(url, audioUrl, subtitleUrl) {\n        var toLoad, videoText, audioText, subtitleText, videoResUrl, audioResUrl, subtitleResUrl, _yield$Promise$all, _yield$Promise$all2, video, audio, subtitle, _audio$response, _subtitle$response, _audio$response2, onPreM3U8Parse, playlist, audioPlaylist, subtitlePlaylist, _playlist;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [this._loader.load(url)];\n                if (audioUrl) {\n                  toLoad.push(this._audioLoader.load(audioUrl));\n                }\n                if (subtitleUrl) {\n                  toLoad.push(this._subtitleLoader.load(subtitleUrl));\n                }\n                _context.prev = 3;\n                _context.next = 6;\n                return Promise.all(toLoad);\n              case 6:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                video = _yield$Promise$all2[0];\n                audio = _yield$Promise$all2[1];\n                subtitle = _yield$Promise$all2[2];\n                if (video) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\", []);\n              case 13:\n                this._emitOnLoaded(video, url);\n                videoText = video.data;\n                videoResUrl = video.response.url || url;\n                if (audioUrl) {\n                  audioText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleText = subtitle === null || subtitle === void 0 ? void 0 : subtitle.data;\n                  audioResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response = audio.response) === null || _audio$response === void 0 ? void 0 : _audio$response.url) || audioUrl;\n                  subtitleResUrl = (subtitle === null || subtitle === void 0 ? void 0 : (_subtitle$response = subtitle.response) === null || _subtitle$response === void 0 ? void 0 : _subtitle$response.url) || subtitleUrl;\n                  audioText && this._emitOnLoaded(audio, audioUrl);\n                  subtitleText && this._emitOnLoaded(subtitle, subtitleUrl);\n                } else {\n                  subtitleText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response2 = audio.response) === null || _audio$response2 === void 0 ? void 0 : _audio$response2.url) || subtitleUrl;\n                  subtitleText && this._emitOnLoaded(audio, subtitleUrl);\n                }\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](3);\n                throw StreamingError.network(_context.t0);\n              case 22:\n                onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n                _context.prev = 23;\n                if (onPreM3U8Parse) {\n                  videoText = onPreM3U8Parse(videoText) || videoText;\n                  if (audioText)\n                    audioText = onPreM3U8Parse(audioText, true) || audioText;\n                  if (subtitleText)\n                    subtitleText = onPreM3U8Parse(subtitleText, true) || subtitleText;\n                }\n                playlist = M3U8Parser.parse(videoText, videoResUrl, this._useLowLatency);\n                if (!(((_playlist = playlist) === null || _playlist === void 0 ? void 0 : _playlist.live) === false && playlist.segments && !playlist.segments.length)) {\n                  _context.next = 28;\n                  break;\n                }\n                throw new Error(\"empty segments list\");\n              case 28:\n                if (audioText) {\n                  audioPlaylist = M3U8Parser.parse(audioText, audioResUrl, this._useLowLatency);\n                }\n                if (subtitleText) {\n                  subtitlePlaylist = M3U8Parser.parse(subtitleText, subtitleResUrl, this._useLowLatency);\n                }\n                _context.next = 35;\n                break;\n              case 32:\n                _context.prev = 32;\n                _context.t1 = _context[\"catch\"](23);\n                throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, _context.t1);\n              case 35:\n                if (playlist) {\n                  if (playlist.isMaster) {\n                    this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n                      playlist\n                    });\n                  } else {\n                    this.hls.emit(Event.HLS_LEVEL_LOADED, {\n                      playlist\n                    });\n                  }\n                }\n                return _context.abrupt(\"return\", [playlist, audioPlaylist, subtitlePlaylist]);\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this, [[3, 19], [23, 32]]);\n      }));\n      function load(_x, _x2, _x3) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"parseText\",\n    value: function parseText(videoText, url) {\n      var onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n      var playlist;\n      try {\n        var _playlist2;\n        if (onPreM3U8Parse) {\n          videoText = onPreM3U8Parse(videoText) || videoText;\n        }\n        playlist = M3U8Parser.parse(videoText, url, this._useLowLatency);\n        if (((_playlist2 = playlist) === null || _playlist2 === void 0 ? void 0 : _playlist2.live) === false && playlist.segments && !playlist.segments.length) {\n          throw new Error(\"empty segments list\");\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, error);\n      }\n      if (playlist) {\n        if (playlist.isMaster) {\n          this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n            playlist\n          });\n        } else {\n          this.hls.emit(Event.HLS_LEVEL_LOADED, {\n            playlist\n          });\n        }\n      }\n      return [playlist];\n    }\n  }, {\n    key: \"poll\",\n    value: function poll(url, audioUrl, subtitleUrl, cb, errorCb, time) {\n      var _this2 = this;\n      clearTimeout(this._timer);\n      time = time || 3e3;\n      var retryCount = this.hls.config.pollRetryCount;\n      var fn = /* @__PURE__ */ function() {\n        var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1)\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  clearTimeout(_this2._timer);\n                  _context2.prev = 1;\n                  _context2.next = 4;\n                  return _this2.load(url, audioUrl, subtitleUrl);\n                case 4:\n                  res = _context2.sent;\n                  if (res[0]) {\n                    _context2.next = 7;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 7:\n                  retryCount = _this2.hls.config.pollRetryCount;\n                  cb(res[0], res[1], res[2]);\n                  _context2.next = 15;\n                  break;\n                case 11:\n                  _context2.prev = 11;\n                  _context2.t0 = _context2[\"catch\"](1);\n                  retryCount--;\n                  if (retryCount <= 0) {\n                    errorCb(_context2.t0);\n                  }\n                case 15:\n                  _this2._timer = setTimeout(fn, time);\n                case 16:\n                case \"end\":\n                  return _context2.stop();\n              }\n          }, _callee2, null, [[1, 11]]);\n        }));\n        return function fn2() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n      this._timer = setTimeout(fn, time);\n    }\n  }, {\n    key: \"stopPoll\",\n    value: function stopPoll() {\n      clearTimeout(this._timer);\n      return this.cancel();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      return Promise.all([this._loader.cancel(), this._audioLoader.cancel()]);\n    }\n  }]);\n  return ManifestLoader2;\n}();\nexport { ManifestLoader };\n","function clamp(num, min, max) {\n  if (min > max) {\n    max = min;\n  }\n  return Math.min(Math.max(num, min), max);\n}\nexport { clamp };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger } from \"xgplayer-streaming-shared\";\nvar logger = new Logger(\"playlist\");\nvar Stream = /* @__PURE__ */ function() {\n  function Stream2(playlist, audioPlaylist, subtitlePlaylist) {\n    _classCallCheck(this, Stream2);\n    _defineProperty(this, \"live\", void 0);\n    _defineProperty(this, \"id\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"name\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"textCodec\", \"\");\n    _defineProperty(this, \"startCC\", 0);\n    _defineProperty(this, \"endCC\", 0);\n    _defineProperty(this, \"startSN\", 0);\n    _defineProperty(this, \"endSN\", -1);\n    _defineProperty(this, \"totalDuration\", 0);\n    _defineProperty(this, \"targetDuration\", 0);\n    _defineProperty(this, \"partTargetDuration\", 0);\n    _defineProperty(this, \"canSkipUntil\", 0);\n    _defineProperty(this, \"canSkipDateRanges\", false);\n    _defineProperty(this, \"skippedSegments\", 0);\n    _defineProperty(this, \"canBlockReload\", false);\n    _defineProperty(this, \"partHoldBack\", 0);\n    _defineProperty(this, \"lowLatency\", false);\n    _defineProperty(this, \"endPartIndex\", 0);\n    _defineProperty(this, \"snDiff\", null);\n    _defineProperty(this, \"segments\", []);\n    _defineProperty(this, \"audioStreams\", []);\n    _defineProperty(this, \"subtitleStreams\", []);\n    _defineProperty(this, \"closedCaptions\", []);\n    _defineProperty(this, \"currentAudioStream\", null);\n    _defineProperty(this, \"currentSubtitleStream\", null);\n    this.update(this._setLLPlaybackPoint(playlist), audioPlaylist, subtitlePlaylist);\n  }\n  _createClass(Stream2, [{\n    key: \"lastSegment\",\n    get: function get() {\n      if (this.segments.length) {\n        return this.segments[this.segments.length - 1];\n      }\n      return null;\n    }\n  }, {\n    key: \"segmentDuration\",\n    get: function get() {\n      var _this$segments$;\n      return this.targetDuration || ((_this$segments$ = this.segments[0]) === null || _this$segments$ === void 0 ? void 0 : _this$segments$.duration) || 0;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      return this.endTime;\n    },\n    set: function set(end) {\n      this.endTime = end;\n    }\n  }, {\n    key: \"endTime\",\n    get: function get() {\n      var _this$lastSegment;\n      return ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.end) || 0;\n    },\n    set: function set(end) {\n      var lastSeg = this.lastSegment;\n      if (lastSeg)\n        lastSeg.duration = end - lastSeg.start;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentSubtitle;\n      return ((_this$currentSubtitle = this.currentSubtitleStream) === null || _this$currentSubtitle === void 0 ? void 0 : _this$currentSubtitle.endSN) || 0;\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment(startTime, pointer) {\n      if (this.currentAudioStream) {\n        this._clearSegments(startTime, pointer);\n      }\n      return this._clearSegments(startTime, pointer);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      if (!seg || !this.currentAudioStream)\n        return;\n      var sn = seg.sn - this.snDiff;\n      return this.currentAudioStream.segments.find(function(x) {\n        return x.sn === sn;\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(playlist, audioPlaylist) {\n      this.url = playlist.url;\n      if (Array.isArray(playlist.segments)) {\n        if (this.live === null || this.live === void 0)\n          this.live = playlist.live;\n        this._updateSegments(playlist, this);\n        this.startCC = playlist.startCC;\n        this.endCC = playlist.endCC;\n        this.startSN = playlist.startSN;\n        this.endSN = playlist.endSN || -1;\n        this.totalDuration = playlist.totalDuration;\n        this.targetDuration = playlist.targetDuration;\n        this.live = playlist.live;\n        this.lowLatency = playlist.lowLatency;\n        this.canBlockReload = playlist.canBlockReload;\n        this.canSkipDateRanges = playlist.canSkipDateRanges;\n        this.canSkipUntil = playlist.canSkipUntil;\n        this.partHoldBack = playlist.partHoldBack;\n        this.partTargetDuration = playlist.partTargetDuration;\n        this.skippedSegments = playlist.skippedSegments;\n        this.endPartIndex = playlist.endPartIndex;\n        if (audioPlaylist && this.currentAudioStream && Array.isArray(audioPlaylist.segments)) {\n          this._updateSegments(audioPlaylist, this.currentAudioStream);\n          if ((this.snDiff === null || this.snDiff === void 0) && playlist.segments.length && audioPlaylist.segments.length) {\n            this.snDiff = playlist.segments[0].sn - audioPlaylist.segments[0].sn;\n          }\n        }\n      } else {\n        this.id = playlist.id;\n        this.bitrate = playlist.bitrate;\n        this.width = playlist.width;\n        this.height = playlist.height;\n        this.name = playlist.name;\n        this.audioCodec = playlist.audioCodec;\n        this.videoCodec = playlist.videoCodec;\n        this.textCodec = playlist.textCodec;\n        this.audioStreams = playlist.audioStreams;\n        this.subtitleStreams = playlist.subtitleStreams;\n        if (!this.currentAudioStream && this.audioStreams.length) {\n          this.currentAudioStream = this.audioStreams.find(function(x) {\n            return x.default;\n          }) || this.audioStreams[0];\n        }\n        if (!this.currentSubtitleStream && this.subtitleStreams.length) {\n          this.currentSubtitleStream = this.subtitleStreams.find(function(x) {\n            return x.default;\n          }) || this.subtitleStreams[0];\n        }\n      }\n    }\n  }, {\n    key: \"updateSubtitle\",\n    value: function updateSubtitle(subtitlePlaylist) {\n      var _this = this;\n      if (!(subtitlePlaylist && this.currentSubtitleStream && Array.isArray(subtitlePlaylist.segments)))\n        return;\n      var newSegs = this._updateSegments(subtitlePlaylist, this.currentSubtitleStream);\n      var segs = this.currentSubtitleStream.segments;\n      if (segs.length > 100) {\n        this.currentSubtitleStream.segments = segs.slice(100);\n      }\n      if (!newSegs)\n        return;\n      return newSegs.map(function(x) {\n        return {\n          sn: x.sn,\n          url: x.url,\n          duration: x.duration,\n          start: x.start,\n          end: x.end,\n          lang: _this.currentSubtitleStream.lang\n        };\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var toSwitch = this.subtitleStreams.find(function(x) {\n        return x.lang === lang;\n      });\n      var origin = this.currentSubtitleStream;\n      if (toSwitch) {\n        this.currentSubtitleStream = toSwitch;\n        origin.segments = [];\n      }\n    }\n  }, {\n    key: \"_setLLPlaybackPoint\",\n    value: function _setLLPlaybackPoint(playlist) {\n      if (!playlist.lowLatency || !playlist.segments.length)\n        return playlist;\n      var maxStartPoint = playlist.totalDuration - playlist.partHoldBack;\n      var segs = playlist.segments;\n      var index = 0;\n      for (var i = 0, l = segs.length; i < l; i++) {\n        if (segs[i].start <= maxStartPoint && segs[i].independent) {\n          index = i;\n        }\n      }\n      var usefulSegs = segs.slice(index);\n      var endTime = 0;\n      usefulSegs.forEach(function(s) {\n        s.start = endTime;\n        endTime = s.end;\n      });\n      playlist.segments = usefulSegs;\n      playlist.totalDuration = endTime;\n      playlist.startSN = usefulSegs[0].sn;\n      playlist.startCC = usefulSegs[0].cc;\n      logger.log(\"set ll-hls playback point: SN=\".concat(playlist.startSN, \" partIndex=\").concat(usefulSegs[0].partIndex, \", duration=\").concat(endTime));\n      return playlist;\n    }\n  }, {\n    key: \"_clearSegments\",\n    value: function _clearSegments(startTime, pointer) {\n      var sliceStart = 0;\n      var segments = this.segments;\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].end >= startTime) {\n          sliceStart = i;\n          break;\n        }\n      }\n      if (sliceStart > pointer) {\n        sliceStart = pointer;\n      }\n      if (sliceStart) {\n        this.segments = this.segments.slice(sliceStart);\n        if (this.currentAudioStream) {\n          this.currentAudioStream.segments = this.currentAudioStream.segments.slice(sliceStart);\n        }\n      }\n      return pointer - sliceStart;\n    }\n  }, {\n    key: \"_updateSegments\",\n    value: function _updateSegments(playlist, segObj) {\n      var segments = segObj.segments;\n      if (this.live) {\n        var _endSeg$sn;\n        var lowLatency = playlist.lowLatency;\n        var endSeg = segments[segments.length - 1];\n        var endSN = (_endSeg$sn = endSeg === null || endSeg === void 0 ? void 0 : endSeg.sn) !== null && _endSeg$sn !== void 0 ? _endSeg$sn : -1;\n        var endPartIndex = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.partIndex) || 0;\n        var hasNew = endSN < playlist.endSN && playlist.segments.length;\n        if (lowLatency) {\n          hasNew = hasNew || endPartIndex < playlist.endPartIndex;\n        }\n        if (hasNew) {\n          logger.log(\"update segments: endSN:\".concat(endSN, \", partIndex:\").concat(endPartIndex, \" --> endSN:\").concat(playlist.endSN, \", partIndex:\").concat(playlist.endPartIndex));\n          var index = playlist.segments.findIndex(function(x) {\n            return x.sn === endSN && x.partIndex === endPartIndex;\n          });\n          var toAppend = index < 0 ? playlist.segments : playlist.segments.slice(index + 1);\n          if (segments.length && toAppend.length) {\n            var endTime = endSeg.end;\n            var endTimeBeforeAppend = endTime;\n            toAppend.forEach(function(seg) {\n              seg.start = endTime;\n              endTime = seg.end;\n            });\n            logger.log(\"liveEdge: \".concat(endTimeBeforeAppend, \" -> \").concat(endTime));\n            var lastCC = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.cc) || -1;\n            if (lastCC > toAppend[0].cc) {\n              toAppend.forEach(function(seg) {\n                return seg.cc += lastCC;\n              });\n            }\n          }\n          segObj.endSN = playlist.endSN;\n          segObj.segments = segments.concat(toAppend);\n          return toAppend;\n        }\n      } else {\n        segObj.segments = playlist.segments;\n      }\n    }\n  }]);\n  return Stream2;\n}();\nexport { Stream };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { clamp } from \"../utils.js\";\nimport { Stream } from \"./stream.js\";\nimport { Event } from \"../constants.js\";\nvar Playlist = /* @__PURE__ */ function() {\n  function Playlist2(hls) {\n    _classCallCheck(this, Playlist2);\n    _defineProperty(this, \"streams\", []);\n    _defineProperty(this, \"currentStream\", null);\n    _defineProperty(this, \"dvrWindow\", 0);\n    _defineProperty(this, \"_segmentPointer\", -1);\n    this.hls = hls;\n  }\n  _createClass(Playlist2, [{\n    key: \"lowLatency\",\n    get: function get() {\n      var _this$currentStream;\n      return (_this$currentStream = this.currentStream) === null || _this$currentStream === void 0 ? void 0 : _this$currentStream.lowLatency;\n    }\n  }, {\n    key: \"lastSegment\",\n    get: function get() {\n      var _this$currentStream2;\n      return (_this$currentStream2 = this.currentStream) === null || _this$currentStream2 === void 0 ? void 0 : _this$currentStream2.lastSegment;\n    }\n  }, {\n    key: \"currentSegment\",\n    get: function get() {\n      var _this$currentSegments;\n      return (_this$currentSegments = this.currentSegments) === null || _this$currentSegments === void 0 ? void 0 : _this$currentSegments[this._segmentPointer];\n    }\n  }, {\n    key: \"nextSegment\",\n    get: function get() {\n      var _this$currentSegments2;\n      return (_this$currentSegments2 = this.currentSegments) === null || _this$currentSegments2 === void 0 ? void 0 : _this$currentSegments2[this._segmentPointer + 1];\n    }\n  }, {\n    key: \"currentSegments\",\n    get: function get() {\n      var _this$currentStream3;\n      return (_this$currentStream3 = this.currentStream) === null || _this$currentStream3 === void 0 ? void 0 : _this$currentStream3.segments;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentStream4;\n      return (_this$currentStream4 = this.currentStream) === null || _this$currentStream4 === void 0 ? void 0 : _this$currentStream4.currentSubtitleEndSn;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      var _this$currentStream5;\n      return (_this$currentStream5 = this.currentStream) === null || _this$currentStream5 === void 0 ? void 0 : _this$currentStream5.liveEdge;\n    },\n    set: function set(end) {\n      if (this.currentStream) {\n        this.currentStream.liveEdge = end;\n      }\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      var _this$currentStream6;\n      return ((_this$currentStream6 = this.currentStream) === null || _this$currentStream6 === void 0 ? void 0 : _this$currentStream6.totalDuration) || 0;\n    }\n  }, {\n    key: \"seekRange\",\n    get: function get() {\n      var segments = this.currentSegments;\n      if (!segments || !segments.length)\n        return;\n      return [segments[0].start, segments[segments.length - 1].end];\n    }\n  }, {\n    key: \"nbSegments\",\n    get: function get() {\n      var _this$currentSegments3;\n      return ((_this$currentSegments3 = this.currentSegments) === null || _this$currentSegments3 === void 0 ? void 0 : _this$currentSegments3.length) || 0;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      var _this$currentSegments4;\n      return !((_this$currentSegments4 = this.currentSegments) !== null && _this$currentSegments4 !== void 0 && _this$currentSegments4.length);\n    }\n  }, {\n    key: \"isLive\",\n    get: function get() {\n      var _this$currentStream7;\n      return (_this$currentStream7 = this.currentStream) === null || _this$currentStream7 === void 0 ? void 0 : _this$currentStream7.live;\n    }\n  }, {\n    key: \"hadSegmentLoaded\",\n    get: function get() {\n      return this._segmentPointer !== -1;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      var _this$currentStream8;\n      return !!((_this$currentStream8 = this.currentStream) !== null && _this$currentStream8 !== void 0 && _this$currentStream8.currentSubtitleStream);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      var _this$currentStream9;\n      return (_this$currentStream9 = this.currentStream) === null || _this$currentStream9 === void 0 ? void 0 : _this$currentStream9.getAudioSegment(seg);\n    }\n  }, {\n    key: \"moveSegmentPointer\",\n    value: function moveSegmentPointer(pos) {\n      var _this$currentSegments5;\n      if (pos === null || pos === void 0)\n        pos = this._segmentPointer + 1;\n      this._segmentPointer = clamp(pos, -1, (_this$currentSegments5 = this.currentSegments) === null || _this$currentSegments5 === void 0 ? void 0 : _this$currentSegments5.length);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.streams = [];\n      this.currentStream = null;\n      this.dvrWindow = 0;\n      this._segmentPointer = -1;\n    }\n  }, {\n    key: \"getSegmentByIndex\",\n    value: function getSegmentByIndex(index) {\n      var _this$currentSegments6;\n      return (_this$currentSegments6 = this.currentSegments) === null || _this$currentSegments6 === void 0 ? void 0 : _this$currentSegments6[index];\n    }\n  }, {\n    key: \"setNextSegmentByIndex\",\n    value: function setNextSegmentByIndex() {\n      var index = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      this._segmentPointer = index - 1;\n    }\n  }, {\n    key: \"setNextSegmentBySN\",\n    value: function setNextSegmentBySN() {\n      var _this$currentSegments7;\n      var sn = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var preIndex = (_this$currentSegments7 = this.currentSegments) === null || _this$currentSegments7 === void 0 ? void 0 : _this$currentSegments7.findIndex(function(x) {\n        return x.sn === sn;\n      });\n      if (preIndex !== -1) {\n        this.setNextSegmentByIndex(preIndex + 1);\n      }\n      return preIndex;\n    }\n  }, {\n    key: \"findSegmentIndexByTime\",\n    value: function findSegmentIndexByTime(time) {\n      var segments = this.currentSegments;\n      if (segments) {\n        for (var i = 0, l = segments.length, seg; i < l; i++) {\n          seg = segments[i];\n          if (time >= seg.start && time < seg.end) {\n            return i;\n          }\n        }\n        var lastSegment = segments[segments.length - 1];\n        if (Math.abs(time - (lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.end)) < 0.2)\n          return segments.length - 1;\n      }\n    }\n  }, {\n    key: \"upsertPlaylist\",\n    value: function upsertPlaylist(playlist, audioPlaylist, subtitlePlaylist) {\n      var _this = this;\n      if (!playlist)\n        return;\n      if (playlist.isMaster) {\n        this.streams.length = playlist.streams.length;\n        playlist.streams.filter(function(x) {\n          return x.url;\n        }).forEach(function(stream2, i) {\n          if (_this.streams[i]) {\n            _this.streams[i].update(stream2);\n          } else {\n            _this.streams[i] = new Stream(stream2);\n          }\n        });\n        this.currentStream = this.streams[0];\n      } else if (Array.isArray(playlist.segments)) {\n        var stream = this.currentStream;\n        if (stream) {\n          stream.update(playlist, audioPlaylist, subtitlePlaylist);\n          var newSubtitleSegs = stream.updateSubtitle(subtitlePlaylist);\n          if (newSubtitleSegs) {\n            this.hls.emit(Event.SUBTITLE_SEGMENTS, {\n              list: newSubtitleSegs\n            });\n          }\n        } else {\n          this.reset();\n          this.currentStream = this.streams[0] = new Stream(playlist, audioPlaylist, subtitlePlaylist);\n        }\n      }\n      var currentStream = this.currentStream;\n      if (currentStream) {\n        if (this.hls.isLive && !this.dvrWindow) {\n          this.dvrWindow = this.currentSegments.reduce(function(a, c) {\n            a += c.duration;\n            return a;\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"updateSegmentsRanges\",\n    value: function updateSegmentsRanges(sn, start) {\n      var _this$currentSegments8;\n      var segs = (_this$currentSegments8 = this.currentSegments) === null || _this$currentSegments8 === void 0 ? void 0 : _this$currentSegments8.filter(function(x) {\n        return x.sn >= sn;\n      });\n      segs.forEach(function(s) {\n        s.start = start;\n        start = s.end;\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var _this$currentStream10;\n      (_this$currentStream10 = this.currentStream) === null || _this$currentStream10 === void 0 ? void 0 : _this$currentStream10.switchSubtitle(lang);\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment() {\n      var maxPlaylistSize = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 50;\n      var stream = this.currentStream;\n      if (!this.dvrWindow || !stream)\n        return;\n      var startTime = stream.endTime - this.dvrWindow;\n      if (startTime <= 0)\n        return;\n      var segments = stream.segments;\n      if (segments.length <= maxPlaylistSize)\n        return;\n      this._segmentPointer = stream.clearOldSegment(startTime, this._segmentPointer);\n    }\n  }, {\n    key: \"checkSegmentTrackChange\",\n    value: function checkSegmentTrackChange(cTime, nbSb) {\n      var index = this.findSegmentIndexByTime(cTime);\n      var seg = this.getSegmentByIndex(index);\n      if (!seg)\n        return;\n      if (!seg.hasAudio && !seg.hasVideo)\n        return;\n      if (nbSb !== 2 && seg.hasAudio && seg.hasVideo)\n        return seg;\n      if (seg.end - cTime > 0.3)\n        return;\n      var next = this.getSegmentByIndex(index + 1);\n      if (!next)\n        return;\n      if (!next.hasAudio && !next.hasVideo)\n        return;\n      if (next.hasAudio !== seg.hasAudio || next.hasVideo !== seg.hasVideo)\n        return next;\n    }\n  }, {\n    key: \"feedbackLiveEdge\",\n    value: function feedbackLiveEdge(segment, bufferEnd) {\n      var _this$lastSegment;\n      var segs = this.currentSegments;\n      if (!segs)\n        return;\n      var isLast = ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.sn) === segment.sn;\n      if (isLast) {\n        this.liveEdge = bufferEnd;\n        return;\n      }\n      this.updateSegmentsRanges(segment.sn + 1, bufferEnd);\n    }\n  }]);\n  return Playlist2;\n}();\nexport { Playlist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar SKIP_SMALL_CHUNK = 1e3;\nvar MAX_CHUNK_SAVE_SIZE = 50;\nvar MAX_SEGMENT_SAVE_SIZE = 3;\nvar LONGTIME_NO_RECEIVE = 3e3;\nvar BandwidthService = /* @__PURE__ */ function() {\n  function BandwidthService2(opts) {\n    _classCallCheck(this, BandwidthService2);\n    _defineProperty(this, \"_chunkSpeed\", 0);\n    _defineProperty(this, \"_chunkCache\", []);\n    _defineProperty(this, \"_speeds\", []);\n    _defineProperty(this, \"_totalSize\", 0);\n    _defineProperty(this, \"_totalCost\", 0);\n    this._opts = opts || {};\n  }\n  _createClass(BandwidthService2, [{\n    key: \"addRecord\",\n    value: function addRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._speeds.push(8e3 * totalByte / ms);\n      this._speeds = this._speeds.slice(-MAX_SEGMENT_SAVE_SIZE);\n    }\n  }, {\n    key: \"addChunkRecord\",\n    value: function addChunkRecord(totalByte, ms) {\n      var _this$_opts, _this$_opts2;\n      if (!totalByte || !ms || totalByte < (((_this$_opts = this._opts) === null || _this$_opts === void 0 ? void 0 : _this$_opts.skipChunkSize) || SKIP_SMALL_CHUNK))\n        return;\n      this._totalSize += totalByte;\n      this._totalCost += ms;\n      this._chunkSpeed = 8e3 * totalByte / ms;\n      this._chunkCache.push({\n        size: totalByte,\n        duration: ms,\n        timestamp: performance.now()\n      });\n      var size = ((_this$_opts2 = this._opts) === null || _this$_opts2 === void 0 ? void 0 : _this$_opts2.chunkCountForSpeed) || MAX_CHUNK_SAVE_SIZE;\n      if (this._chunkCache.length > size) {\n        this._chunkCache = this._chunkCache.slice(-size);\n      }\n    }\n  }, {\n    key: \"getAvgSpeed\",\n    value: function getAvgSpeed() {\n      var _this$_opts3;\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds.reduce(function(a, c) {\n          return a += c;\n        }) / this._speeds.length;\n      }\n      var lastSample = this._chunkCache[this._chunkCache.length - 1];\n      var cost = performance.now() - lastSample.timestamp;\n      if (cost > (((_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : _this$_opts3.longtimeNoReceived) || LONGTIME_NO_RECEIVE)) {\n        this._chunkCache.push({\n          size: 0,\n          duration: cost,\n          timestamp: performance.now()\n        });\n      }\n      var totalSize = this._chunkCache.reduce(function(a, c) {\n        return a += c.size;\n      }, 0);\n      var totalDuration = this._chunkCache.reduce(function(a, c) {\n        return a += c.duration;\n      }, 0);\n      return 8e3 * totalSize / totalDuration;\n    }\n  }, {\n    key: \"getLatestSpeed\",\n    value: function getLatestSpeed() {\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds[this._speeds.length - 1];\n      }\n      return this._chunkSpeed;\n    }\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      return this._totalSize;\n    }\n  }, {\n    key: \"getTotalCost\",\n    value: function getTotalCost() {\n      return this._totalCost;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._chunkCache = [];\n      this._speeds = [];\n      this._totalSize = 0;\n      this._totalCost = 0;\n    }\n  }]);\n  return BandwidthService2;\n}();\nexport { BandwidthService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, BandwidthService, NetLoader } from \"xgplayer-streaming-shared\";\nvar SegmentLoader = /* @__PURE__ */ function() {\n  function SegmentLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, SegmentLoader2);\n    _defineProperty(this, \"error\", null);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var data = res.data, response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this._bandwidthService.addRecord(contentLength || data.byteLength, time);\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(EVENT.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._bandwidthService = new BandwidthService();\n    this._mapCache = {};\n    this._keyCache = {};\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, loadTimeout = _this$hls$config.loadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._segmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioSegmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._keyLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(SegmentLoader2, [{\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return {\n        speed: this._bandwidthService.getLatestSpeed(),\n        avgSpeed: this._bandwidthService.getAvgSpeed()\n      };\n    }\n  }, {\n    key: \"load\",\n    value: function load(seg, audioSeg, loadInit) {\n      var loadAudioInit = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : loadInit;\n      var toLoad = [];\n      if (seg)\n        toLoad[0] = this.loadVideoSegment(seg, loadInit);\n      if (audioSeg)\n        toLoad[1] = this.loadAudioSegment(audioSeg, loadAudioInit);\n      return Promise.all(toLoad);\n    }\n  }, {\n    key: \"loadVideoSegment\",\n    value: function loadVideoSegment(seg, loadInit) {\n      return this._loadSegment(this._segmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"loadAudioSegment\",\n    value: function loadAudioSegment(seg, loadInit) {\n      return this._loadSegment(this._audioSegmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"_loadSegment\",\n    value: function() {\n      var _loadSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(segLoader, seg, loadInit) {\n        var _this2 = this, _seg$key;\n        var map, key, keyIv, mapKey, mapKeyIv, toLoad, _seg$initSegment$key, mapUrl, _keyUrl, keyUrl, _yield$Promise$all, _yield$Promise$all2, s, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [];\n                this.hls.emit(EVENT.LOAD_START, {\n                  url: seg.url\n                });\n                toLoad[0] = segLoader.load(seg.url);\n                if (loadInit && seg.initSegment) {\n                  mapUrl = seg.initSegment.url;\n                  map = this._mapCache[mapUrl];\n                  if (!map) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: mapUrl\n                    });\n                    toLoad[1] = segLoader.load(mapUrl).then(function(r) {\n                      if (r) {\n                        var l = Object.keys(_this2._mapCache);\n                        if (l > 30)\n                          _this2._mapCache = {};\n                        map = _this2._mapCache[mapUrl] = r.data;\n                        _this2._emitOnLoaded(r, mapUrl);\n                      }\n                    });\n                  }\n                  _keyUrl = (_seg$initSegment$key = seg.initSegment.key) === null || _seg$initSegment$key === void 0 ? void 0 : _seg$initSegment$key.url;\n                  if (_keyUrl) {\n                    mapKeyIv = seg.initSegment.key.iv;\n                    mapKey = this._keyCache[_keyUrl];\n                    if (!mapKey) {\n                      this.hls.emit(EVENT.LOAD_START, {\n                        url: _keyUrl\n                      });\n                      toLoad[2] = this._keyLoader.load(_keyUrl).then(function(r) {\n                        if (r) {\n                          mapKey = _this2._keyCache[_keyUrl] = r.data;\n                          _this2._emitOnLoaded(r, _keyUrl);\n                        }\n                      });\n                    }\n                  }\n                }\n                keyUrl = (_seg$key = seg.key) === null || _seg$key === void 0 ? void 0 : _seg$key.url;\n                if (keyUrl && seg.key.isSegmentEncrypted()) {\n                  keyIv = seg.key.iv;\n                  key = this._keyCache[keyUrl];\n                  if (!key) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: keyUrl\n                    });\n                    toLoad[3] = this._keyLoader.load(keyUrl).then(function(r) {\n                      if (r) {\n                        key = _this2._keyCache[keyUrl] = r.data;\n                        _this2._emitOnLoaded(r, keyUrl);\n                      }\n                    });\n                  }\n                }\n                _context.next = 8;\n                return Promise.all(toLoad);\n              case 8:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 1);\n                s = _yield$Promise$all2[0];\n                if (s) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 13:\n                data = s.data;\n                this._emitOnLoaded(s, seg.url);\n                return _context.abrupt(\"return\", {\n                  data,\n                  map,\n                  key,\n                  mapKey,\n                  keyIv,\n                  mapKeyIv\n                });\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function _loadSegment(_x, _x2, _x3) {\n        return _loadSegment2.apply(this, arguments);\n      }\n      return _loadSegment;\n    }()\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.error = null;\n      this._mapCache = {};\n      this._keyCache = {};\n      this._bandwidthService.reset();\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Promise.all([this._keyLoader.cancel(), this._segmentLoader.cancel(), this._audioSegmentLoader.cancel()]);\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }]);\n  return SegmentLoader2;\n}();\nexport { SegmentLoader };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, slicedToArray as _slicedToArray, regeneratorRuntime as _regeneratorRuntime, typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport { Logger, Buffer, StreamingError, isMediaPlaying, SeiService, GapService, MediaStatsService, MSE, getVideoPlaybackQuality, ERR } from \"xgplayer-streaming-shared\";\nimport { Logger as Logger$1 } from \"xgplayer-transmuxer\";\nimport { BufferService } from \"./buffer-service/index.js\";\nimport { getConfig } from \"./config.js\";\nexport { getConfig } from \"./config.js\";\nimport { Event } from \"./constants.js\";\nimport { ManifestLoader } from \"./manifest-loader/index.js\";\nexport { ManifestLoader } from \"./manifest-loader/index.js\";\nimport { Playlist } from \"./playlist/index.js\";\nexport { Playlist } from \"./playlist/index.js\";\nimport { SegmentLoader } from \"./segment-loader/index.js\";\nexport { SegmentLoader } from \"./segment-loader/index.js\";\nimport { clamp } from \"./utils.js\";\nvar logger = new Logger(\"hls\");\nvar Hls = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Hls2, _EventEmitter);\n  var _super = _createSuper(Hls2);\n  function Hls2(_cfg) {\n    var _this;\n    _classCallCheck(this, Hls2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"version\", Hls2.version);\n    _defineProperty(_assertThisInitialized(_this), \"media\", null);\n    _defineProperty(_assertThisInitialized(_this), \"config\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_manifestLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_playlist\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_bufferService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_gapService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_seiService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_stats\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegSn\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegCc\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickInterval\", 500);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentProcessing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_reloadOnPlay\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_switchUrlOpts\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_isProcessQuotaExceeded\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_loadSegment\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n      var _this$_playlist, nextSegment, lastSegment, _assertThisInitialize, config, minFrameDuration, maxBufferThroughout, bInfo, bufferThroughout;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1)\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this._segmentProcessing || !_this.media)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              _this$_playlist = _this._playlist, nextSegment = _this$_playlist.nextSegment, lastSegment = _this$_playlist.lastSegment;\n              _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n              minFrameDuration = 0.016;\n              maxBufferThroughout = Math.min(Math.max((lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.duration) - minFrameDuration / 2 || 0, minFrameDuration), 0.1);\n              if (nextSegment) {\n                _context.next = 8;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 8:\n              if (_this.isLive) {\n                _context.next = 18;\n                break;\n              }\n              bInfo = _this.bufferInfo();\n              if (_this.media.paused && !_this.media.currentTime) {\n                bInfo = _this.bufferInfo(bInfo.nextStart || 0.5);\n              }\n              bufferThroughout = Math.abs(bInfo.end - _this.media.duration) < maxBufferThroughout;\n              if (!(bInfo.remaining >= config.preloadTime || bufferThroughout)) {\n                _context.next = 15;\n                break;\n              }\n              _this._tryEos();\n              return _context.abrupt(\"return\");\n            case 15:\n              if (!(config.preferMMSStreaming && !_this._bufferService.msStreaming)) {\n                _context.next = 17;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 17:\n              if (!_this._urlSwitching && _this._prevSegSn !== nextSegment.sn - 1 && bInfo.end && Math.abs(nextSegment.start - bInfo.end) > 1) {\n                _this._playlist.setNextSegmentByIndex(_this._playlist.findSegmentIndexByTime(bInfo.end + 0.1));\n              }\n            case 18:\n              return _context.abrupt(\"return\", _this._loadSegmentDirect());\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n      }, _callee);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadeddata\", function() {\n      if (_this.isLive && !_this.config.mseLowLatency) {\n        if (_this.media.duration !== Infinity) {\n          _this._bufferService.updateDuration(Infinity).catch(function(e) {\n          });\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1)\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this.media.seeking && _this.media.currentTime === 0)) {\n                _context2.next = 3;\n                break;\n              }\n              logger.debug(\"replay currentTime 0, return\");\n              return _context2.abrupt(\"return\");\n            case 3:\n              clearTimeout(_this._disconnectTimer);\n              if (!_this._reloadOnPlay) {\n                _context2.next = 9;\n                break;\n              }\n              _this._reloadOnPlay = false;\n              _this.replay(true);\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.next = 11;\n              return _this._loadSegment();\n            case 11:\n              _this._startTick();\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n      }, _callee2);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPause\", function() {\n      if (_this.isLive) {\n        if (!_this._reloadOnPlay) {\n          var disconnectTime = _this.config.disconnectTime;\n          if (disconnectTime === null || disconnectTime === void 0)\n            disconnectTime = _this._playlist.dvrWindow;\n          if (!Number.isFinite(disconnectTime))\n            return;\n          clearTimeout(_this._disconnectTimer);\n          _this._disconnectTimer = setTimeout(function() {\n            _this._reloadOnPlay = true;\n            _this._clear();\n          }, disconnectTime || 0);\n        }\n      } else {\n        _this._stopTick();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n      var seekTime, seekRange, newSeekTime, curSeg, info, segIndex, seg;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1)\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.media) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 2:\n              _this._onCheckQuotaExceeded();\n              seekTime = _this.media.currentTime;\n              seekRange = _this._playlist.seekRange;\n              if (!seekRange) {\n                _context3.next = 10;\n                break;\n              }\n              newSeekTime = clamp(seekTime, seekRange[0], _this.isLive ? seekRange[1] : _this.media.duration);\n              if (!(newSeekTime >= 0 && Math.abs(seekTime - newSeekTime) >= 0.1)) {\n                _context3.next = 10;\n                break;\n              }\n              _this.media.currentTime = newSeekTime;\n              return _context3.abrupt(\"return\");\n            case 10:\n              curSeg = _this._playlist.currentSegment;\n              info = Buffer.info(Buffer.get(_this.media), seekTime, 0.1);\n              if (!curSeg) {\n                _context3.next = 17;\n                break;\n              }\n              if (!(info.end && Math.abs(info.end - curSeg.end) < 0.2)) {\n                _context3.next = 15;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 15:\n              if (!(_this.isLive && info.end)) {\n                _context3.next = 17;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 17:\n              segIndex = _this._playlist.findSegmentIndexByTime(seekTime);\n              seg = _this._playlist.getSegmentByIndex(segIndex);\n              if (!(segIndex === null || segIndex === void 0 || !seg || _this._segmentProcessing && seg === _this._playlist.nextSegment)) {\n                _context3.next = 21;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 21:\n              logger.debug(\"seek to\", seekTime, seg);\n              _this._playlist.setNextSegmentByIndex(segIndex);\n              _this._stopTick();\n              _context3.next = 26;\n              return _this._segmentLoader.cancel();\n            case 26:\n              _this._segmentProcessing = false;\n              if (!(!info.end || _this.isLive)) {\n                _context3.next = 30;\n                break;\n              }\n              _context3.next = 30;\n              return _this._loadSegmentDirect(true);\n            case 30:\n              _this._startTick();\n            case 31:\n            case \"end\":\n              return _context3.stop();\n          }\n      }, _callee3);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      if (!_this.media)\n        return;\n      var cfg = _this.config;\n      if (cfg.isLive && cfg.maxLatency && cfg.targetLatency && _this.media) {\n        var liveEdge = _this._playlist.liveEdge;\n        if (!liveEdge)\n          return;\n        var latency = liveEdge - _this.media.currentTime;\n        if (latency >= cfg.maxLatency) {\n          logger.debug(\"latency jump, currentTime:\".concat(_this.media.currentTime, \", liveEdge:\").concat(liveEdge, \",  latency=\").concat(latency));\n          _this.media.currentTime = liveEdge - cfg.targetLatency;\n        }\n      }\n      if (cfg.seiInTime) {\n        var _this$_seiService;\n        (_this$_seiService = _this._seiService) === null || _this$_seiService === void 0 ? void 0 : _this$_seiService.throw(_this.media.currentTime);\n      }\n      if (_this.config.allowedStreamTrackChange && !_this.config.softDecode) {\n        _this._checkStreamTrackChange(_this.media.currentTime);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_tick\", function() {\n      if (!_this.media)\n        return;\n      _this._startTick();\n      var media = _this.media;\n      var buffered = Buffer.get(media);\n      var segLoaderError = _this._segmentLoader.error;\n      _this._onCheckQuotaExceeded();\n      if (_this._isProcessQuotaExceeded) {\n        if (!_this._bufferService.isFull()) {\n          _this._isProcessQuotaExceeded = false;\n          _this._segmentProcessing = false;\n        }\n      }\n      if (segLoaderError) {\n        var bufferMaxHoleTolerance = 0.5;\n        if (!media.readyState || _this.bufferInfo(bufferMaxHoleTolerance).remaining < 1) {\n          segLoaderError.fatal = true;\n          _this._emitError(StreamingError.network(segLoaderError));\n        }\n        return;\n      }\n      if (Buffer.end(buffered) >= 0.1 && media.readyState) {\n        if (isMediaPlaying(media)) {\n          _this._loadSegment();\n          if (_this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, _this.isLive);\n          }\n        } else {\n          if (media.readyState < 2 && _this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, !media.currentTime ? true : _this.isLive);\n          }\n        }\n      }\n      if (!_this.isLive) {\n        _this._tryEos();\n      }\n    });\n    _this.config = _cfg = getConfig(_cfg);\n    _this.media = _this.config.media;\n    _this._manifestLoader = new ManifestLoader(_assertThisInitialized(_this));\n    _this._segmentLoader = new SegmentLoader(_assertThisInitialized(_this));\n    _this._playlist = new Playlist(_assertThisInitialized(_this));\n    _this._bufferService = new BufferService(_assertThisInitialized(_this));\n    if (_cfg.seiInTime) {\n      _this._seiService = new SeiService(_assertThisInitialized(_this));\n    }\n    if (!_cfg.softDecode)\n      _this._gapService = new GapService();\n    _this._stats = new MediaStatsService(_assertThisInitialized(_this), 9e4);\n    _this.media.addEventListener(\"loadeddata\", _this._onLoadeddata);\n    _this.media.addEventListener(\"play\", _this._onPlay);\n    _this.media.addEventListener(\"pause\", _this._onPause);\n    _this.media.addEventListener(\"seeking\", _this._onSeeking);\n    _this.media.addEventListener(\"timeupdate\", _this._onTimeupdate);\n    return _this;\n  }\n  _createClass(Hls2, [{\n    key: \"isLive\",\n    get: function get() {\n      return this._playlist.isLive;\n    }\n  }, {\n    key: \"streams\",\n    get: function get() {\n      return this._playlist.streams;\n    }\n  }, {\n    key: \"currentStream\",\n    get: function get() {\n      return this._playlist.currentStream;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      return this._playlist.hasSubtitle;\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      return this._playlist.totalDuration;\n    }\n  }, {\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_bufferService;\n      return (_this$_bufferService = this._bufferService) === null || _this$_bufferService === void 0 ? void 0 : _this$_bufferService.baseDts;\n    }\n  }, {\n    key: \"abrSwitchPoint\",\n    get: function get() {\n      var targetSeg = this._urlSwitching ? this._playlist.currentSegment : this._playlist.nextSegment;\n      return targetSeg ? targetSeg.start + targetSeg.duration / 2 : null;\n    }\n  }, {\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return this._segmentLoader.speedInfo();\n    }\n  }, {\n    key: \"bufferInfo\",\n    value: function bufferInfo() {\n      var _this$media;\n      var maxHole = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0.1;\n      return Buffer.info(Buffer.get(this.media), (_this$media = this.media) === null || _this$media === void 0 ? void 0 : _this$media.currentTime, maxHole);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      return this._stats.getStats();\n    }\n  }, {\n    key: \"playbackQuality\",\n    value: function playbackQuality() {\n      return getVideoPlaybackQuality(this.media);\n    }\n  }, {\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4() {\n        var url, options, reuseMse, _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                url = _args4.length > 0 && _args4[0] !== void 0 ? _args4[0] : \"\";\n                options = _args4.length > 1 && _args4[1] !== void 0 ? _args4[1] : {};\n                reuseMse = typeof options === \"boolean\" ? options : !!(options !== null && options !== void 0 && options.reuseMse);\n                if (_typeof(options) === \"object\" && options !== null && options !== void 0 && options.clearSwitchStatus) {\n                  this._urlSwitching = false;\n                  this._switchUrlOpts = null;\n                  this.config.startTime = void 0;\n                }\n                if (url)\n                  this.config.url = url;\n                url = this.config.url;\n                _context4.next = 8;\n                return this._reset(reuseMse);\n              case 8:\n                _context4.next = 10;\n                return this._loadData(url);\n              case 10:\n                this._startTick();\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function load() {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"_loadData\",\n    value: function() {\n      var _loadData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5(url) {\n        var manifest, currentStream, preIndex, _this$_switchUrlOpts, _this$_switchUrlOpts3, _this$_switchUrlOpts4, _this$_switchUrlOpts2, switchTimePoint, segIdx, nextSeg, bufferClearStartPoint, startTime, _this$_switchUrlOpts5;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                try {\n                  if (url)\n                    url = url.trim();\n                } catch (e) {\n                }\n                if (url) {\n                  _context5.next = 3;\n                  break;\n                }\n                throw this._emitError(new StreamingError(ERR.OTHER, ERR.SUB_TYPES.OPTION, null, null, \"m3u8 url is missing\"));\n              case 3:\n                _context5.next = 5;\n                return this._loadM3U8(url);\n              case 5:\n                manifest = _context5.sent;\n                currentStream = this._playlist.currentStream;\n                if (!this._urlSwitching) {\n                  _context5.next = 23;\n                  break;\n                }\n                if (!this.isLive) {\n                  _context5.next = 14;\n                  break;\n                }\n                preIndex = this._playlist.setNextSegmentBySN(this._prevSegSn);\n                logger.log(\"segment nb=\".concat(this._prevSegSn, \" index of \").concat(preIndex, \" in the new playlist\"));\n                if (preIndex === -1) {\n                  this._prevSegCc = null;\n                  this._prevSegSn = null;\n                }\n                _context5.next = 23;\n                break;\n              case 14:\n                if (currentStream.bitrate === 0 && (_this$_switchUrlOpts = this._switchUrlOpts) !== null && _this$_switchUrlOpts !== void 0 && _this$_switchUrlOpts.bitrate) {\n                  currentStream.bitrate = (_this$_switchUrlOpts2 = this._switchUrlOpts) === null || _this$_switchUrlOpts2 === void 0 ? void 0 : _this$_switchUrlOpts2.bitrate;\n                }\n                switchTimePoint = typeof ((_this$_switchUrlOpts3 = this._switchUrlOpts) === null || _this$_switchUrlOpts3 === void 0 ? void 0 : _this$_switchUrlOpts3.startTime) === \"number\" ? (_this$_switchUrlOpts4 = this._switchUrlOpts) === null || _this$_switchUrlOpts4 === void 0 ? void 0 : _this$_switchUrlOpts4.startTime : this._getSeamlessSwitchPoint();\n                this.config.startTime = switchTimePoint;\n                segIdx = this._playlist.findSegmentIndexByTime(switchTimePoint);\n                nextSeg = this._playlist.getSegmentByIndex(segIdx + 1);\n                if (!nextSeg) {\n                  _context5.next = 23;\n                  break;\n                }\n                bufferClearStartPoint = nextSeg.start;\n                _context5.next = 23;\n                return this._bufferService.removeBuffer(bufferClearStartPoint);\n              case 23:\n                if (manifest) {\n                  _context5.next = 25;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 25:\n                if (!this.isLive) {\n                  _context5.next = 36;\n                  break;\n                }\n                this._bufferService.setLiveSeekableRange(0, 4294967295);\n                logger.log(\"totalDuration first time got:\", this._playlist.totalDuration);\n                logger.log(\"nb segments got:\", this._playlist.nbSegments);\n                if (this.config.targetLatency < this._playlist.totalDuration) {\n                  this.config.targetLatency = this._playlist.totalDuration;\n                  this.config.maxLatency = 1.5 * this.config.targetLatency;\n                }\n                if (!manifest.isMaster)\n                  this._pollM3U8(url);\n                if (!(this._playlist.nbSegments < this.config.minSegmentsStartPlay)) {\n                  _context5.next = 33;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 33:\n                _context5.next = 35;\n                return this._loadSegment();\n              case 35:\n                return _context5.abrupt(\"return\");\n              case 36:\n                _context5.next = 38;\n                return this._bufferService.updateDuration(currentStream.totalDuration);\n              case 38:\n                startTime = this.config.startTime;\n                if (startTime) {\n                  if (!((_this$_switchUrlOpts5 = this._switchUrlOpts) !== null && _this$_switchUrlOpts5 !== void 0 && _this$_switchUrlOpts5.seamless)) {\n                    this.media.currentTime = startTime;\n                  }\n                  this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(startTime) || 0);\n                }\n                _context5.next = 42;\n                return this._loadSegment();\n              case 42:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function _loadData(_x) {\n        return _loadData2.apply(this, arguments);\n      }\n      return _loadData;\n    }()\n  }, {\n    key: \"replay\",\n    value: function() {\n      var _replay = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6(isPlayEmit) {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.config.startTime = 0;\n                this._urlSwitching = false;\n                this._switchUrlOpts = null;\n                _context6.next = 5;\n                return this.load();\n              case 5:\n                this._reloadOnPlay = false;\n                return _context6.abrupt(\"return\", this.media.play(!isPlayEmit));\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function replay(_x2) {\n        return _replay.apply(this, arguments);\n      }\n      return replay;\n    }()\n  }, {\n    key: \"switchURL\",\n    value: function() {\n      var _switchURL = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7(url) {\n        var options, defaultOpts, key, _options, seamless, startTime, appended, _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                options = _args7.length > 1 && _args7[1] !== void 0 ? _args7[1] : {};\n                defaultOpts = {\n                  seamless: false,\n                  startTime: 0,\n                  bitrate: 0\n                };\n                _context7.t0 = _typeof(options);\n                _context7.next = _context7.t0 === \"number\" ? 5 : _context7.t0 === \"boolean\" ? 7 : _context7.t0 === \"object\" ? 9 : 11;\n                break;\n              case 5:\n                options = {\n                  startTime: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 7:\n                options = {\n                  seamless: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 9:\n                for (key in options) {\n                  if (options[key] === void 0 || options[key] === null) {\n                    delete options[key];\n                  }\n                }\n                return _context7.abrupt(\"break\", 12);\n              case 11:\n                throw \"unsupported switchURL args: \".concat(options);\n              case 12:\n                options = Object.assign({}, defaultOpts, options);\n                _options = options, seamless = _options.seamless, startTime = _options.startTime;\n                this.config.url = url;\n                this.config.startTime = startTime;\n                this._switchUrlOpts = options;\n                if (seamless) {\n                  _context7.next = 38;\n                  break;\n                }\n                _context7.prev = 18;\n                if (!this.config.softDecode) {\n                  _context7.next = 23;\n                  break;\n                }\n                _context7.t1 = this.load(url);\n                _context7.next = 26;\n                break;\n              case 23:\n                _context7.next = 25;\n                return this.load(url);\n              case 25:\n                _context7.t1 = _context7.sent;\n              case 26:\n                appended = _context7.t1;\n                _context7.next = 33;\n                break;\n              case 29:\n                _context7.prev = 29;\n                _context7.t2 = _context7[\"catch\"](18);\n                this.emit(Event.SWITCH_URL_FAILED, _context7.t2);\n                throw _context7.t2;\n              case 33:\n                this._reloadOnPlay = false;\n                if (appended) {\n                  this.emit(Event.SWITCH_URL_SUCCESS, {\n                    url\n                  });\n                }\n                return _context7.abrupt(\"return\", this.media.play(true));\n              case 38:\n                this._urlSwitching = true;\n                if (!this.isLive) {\n                  this._prevSegSn = null;\n                  this._prevSegCc = null;\n                }\n                this._playlist.reset();\n                this._bufferService.seamlessSwitch();\n                _context7.next = 44;\n                return this._clear();\n              case 44:\n                _context7.next = 46;\n                return this._loadData(url);\n              case 46:\n                this._startTick();\n              case 47:\n                this._switchUrlOpts = null;\n              case 48:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this, [[18, 29]]);\n      }));\n      function switchURL(_x3) {\n        return _switchURL.apply(this, arguments);\n      }\n      return switchURL;\n    }()\n  }, {\n    key: \"switchStream\",\n    value: function() {\n      var _switchStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(id) {\n        var force, curStream, streams, toSwitch, curId, _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                force = _args8.length > 1 && _args8[1] !== void 0 ? _args8[1] : true;\n                curStream = this.currentStream;\n                streams = this.streams;\n                if (!(!curStream || curStream.id === id || !streams || streams.length < 2)) {\n                  _context8.next = 5;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 5:\n                toSwitch = streams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context8.next = 8;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 8:\n                _context8.prev = 8;\n                _context8.next = 11;\n                return this._clear();\n              case 11:\n                if (!force) {\n                  _context8.next = 14;\n                  break;\n                }\n                _context8.next = 14;\n                return this._bufferService.clearAllBuffer();\n              case 14:\n                _context8.next = 19;\n                break;\n              case 16:\n                _context8.prev = 16;\n                _context8.t0 = _context8[\"catch\"](8);\n                throw this._emitError(StreamingError.create(_context8.t0));\n              case 19:\n                if (curStream.currentAudioStream && toSwitch.audioStreams.length > 2) {\n                  curId = curStream.currentAudioStream.id;\n                  toSwitch.currentAudioStream = toSwitch.audioStreams.find(function(x) {\n                    return x.id === curId;\n                  }) || toSwitch.currentAudioStream;\n                }\n                this._playlist.currentStream = toSwitch;\n                _context8.prev = 21;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context8.next = 25;\n                  break;\n                }\n                _context8.next = 25;\n                return this._refreshM3U8();\n              case 25:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context8.next = 29;\n                return this._loadSegmentDirect();\n              case 29:\n                _context8.next = 35;\n                break;\n              case 31:\n                _context8.prev = 31;\n                _context8.t1 = _context8[\"catch\"](21);\n                this._playlist.currentStream = curStream;\n                throw _context8.t1;\n              case 35:\n                this._startTick();\n                return _context8.abrupt(\"return\", toSwitch);\n              case 37:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this, [[8, 16], [21, 31]]);\n      }));\n      function switchStream(_x4) {\n        return _switchStream.apply(this, arguments);\n      }\n      return switchStream;\n    }()\n  }, {\n    key: \"switchAudioStream\",\n    value: function() {\n      var _switchAudioStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9(id) {\n        var force, curStream, audioStream, toSwitch, _args9 = arguments;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                force = _args9.length > 1 && _args9[1] !== void 0 ? _args9[1] : true;\n                curStream = this.currentStream;\n                if (curStream) {\n                  _context9.next = 4;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 4:\n                audioStream = curStream.currentAudioStream;\n                if (!(!audioStream || audioStream.id === id || curStream.audioStreams.length < 2)) {\n                  _context9.next = 7;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 7:\n                toSwitch = curStream.audioStreams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context9.next = 10;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 10:\n                _context9.prev = 10;\n                _context9.next = 13;\n                return this._clear();\n              case 13:\n                if (!force) {\n                  _context9.next = 16;\n                  break;\n                }\n                _context9.next = 16;\n                return this._bufferService.clearAllBuffer();\n              case 16:\n                _context9.next = 21;\n                break;\n              case 18:\n                _context9.prev = 18;\n                _context9.t0 = _context9[\"catch\"](10);\n                throw this._emitError(StreamingError.create(_context9.t0));\n              case 21:\n                curStream.currentAudioStream = toSwitch;\n                _context9.prev = 22;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context9.next = 26;\n                  break;\n                }\n                _context9.next = 26;\n                return this._refreshM3U8();\n              case 26:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context9.next = 30;\n                return this._loadSegmentDirect();\n              case 30:\n                _context9.next = 36;\n                break;\n              case 32:\n                _context9.prev = 32;\n                _context9.t1 = _context9[\"catch\"](22);\n                curStream.currentAudioStream = audioStream;\n                throw _context9.t1;\n              case 36:\n                this._startTick();\n                return _context9.abrupt(\"return\", toSwitch);\n              case 38:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this, [[10, 18], [22, 32]]);\n      }));\n      function switchAudioStream(_x5) {\n        return _switchAudioStream.apply(this, arguments);\n      }\n      return switchAudioStream;\n    }()\n  }, {\n    key: \"switchSubtitleStream\",\n    value: function() {\n      var _switchSubtitleStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10(lang) {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this._playlist.switchSubtitle(lang);\n                _context10.next = 3;\n                return this._manifestLoader.stopPoll();\n              case 3:\n                _context10.next = 5;\n                return this._refreshM3U8();\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function switchSubtitleStream(_x6) {\n        return _switchSubtitleStream.apply(this, arguments);\n      }\n      return switchSubtitleStream;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee11() {\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1)\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (!this._bufferService) {\n                  _context11.next = 3;\n                  break;\n                }\n                _context11.next = 3;\n                return this._bufferService.detachMedia();\n              case 3:\n              case \"end\":\n                return _context11.stop();\n            }\n        }, _callee11, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee12() {\n        var _this$_seiService2;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1)\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (this.media) {\n                  _context12.next = 2;\n                  break;\n                }\n                return _context12.abrupt(\"return\");\n              case 2:\n                this.removeAllListeners();\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService2 = this._seiService) === null || _this$_seiService2 === void 0 ? void 0 : _this$_seiService2.reset();\n                this.media.removeEventListener(\"loadeddata\", this._onLoadeddata);\n                this.media.removeEventListener(\"play\", this._onPlay);\n                this.media.removeEventListener(\"pause\", this._onPause);\n                this.media.removeEventListener(\"seeking\", this._onSeeking);\n                this.media.removeEventListener(\"timeupdate\", this._onTimeupdate);\n                _context12.next = 13;\n                return Promise.all([this._clear(), this._bufferService.destroy()]);\n              case 13:\n                this.media = null;\n              case 14:\n              case \"end\":\n                return _context12.stop();\n            }\n        }, _callee12, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_loadM3U8\",\n    value: function() {\n      var _loadM3U = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee13(url) {\n        var playlist, _this$config$manifest, _this$config$manifest2, manifest, _ref4, _ref5, _this$_playlist$curre;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1)\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.prev = 0;\n                manifest = (_this$config$manifest = this.config.manifestList) === null || _this$config$manifest === void 0 ? void 0 : (_this$config$manifest2 = _this$config$manifest.filter(function(x) {\n                  return x.url === url;\n                })[0]) === null || _this$config$manifest2 === void 0 ? void 0 : _this$config$manifest2.manifest;\n                if (!manifest) {\n                  _context13.next = 6;\n                  break;\n                }\n                _context13.t0 = this._manifestLoader.parseText(manifest, url);\n                _context13.next = 9;\n                break;\n              case 6:\n                _context13.next = 8;\n                return this._manifestLoader.load(url);\n              case 8:\n                _context13.t0 = _context13.sent;\n              case 9:\n                _ref4 = _context13.t0;\n                _ref5 = _slicedToArray(_ref4, 1);\n                playlist = _ref5[0];\n                _context13.next = 17;\n                break;\n              case 14:\n                _context13.prev = 14;\n                _context13.t1 = _context13[\"catch\"](0);\n                throw this._emitError(StreamingError.create(_context13.t1));\n              case 17:\n                if (playlist) {\n                  _context13.next = 19;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 19:\n                this._playlist.upsertPlaylist(playlist);\n                if (!playlist.isMaster) {\n                  _context13.next = 24;\n                  break;\n                }\n                if ((_this$_playlist$curre = this._playlist.currentStream.subtitleStreams) !== null && _this$_playlist$curre !== void 0 && _this$_playlist$curre.length) {\n                  this.emit(Event.SUBTITLE_PLAYLIST, {\n                    list: this._playlist.currentStream.subtitleStreams\n                  });\n                }\n                _context13.next = 24;\n                return this._refreshM3U8();\n              case 24:\n                this.emit(Event.STREAM_PARSED);\n                return _context13.abrupt(\"return\", playlist);\n              case 26:\n              case \"end\":\n                return _context13.stop();\n            }\n        }, _callee13, this, [[0, 14]]);\n      }));\n      function _loadM3U8(_x7) {\n        return _loadM3U.apply(this, arguments);\n      }\n      return _loadM3U8;\n    }()\n  }, {\n    key: \"_refreshM3U8\",\n    value: function _refreshM3U8() {\n      var _stream$currentAudioS, _stream$currentSubtit, _this2 = this;\n      var stream = this._playlist.currentStream;\n      if (!stream || !stream.url)\n        throw this._emitError(StreamingError.create(null, null, new Error(\"m3u8 url is not defined\")));\n      var url = stream.url;\n      var audioUrl = (_stream$currentAudioS = stream.currentAudioStream) === null || _stream$currentAudioS === void 0 ? void 0 : _stream$currentAudioS.url;\n      var subtitleUrl = (_stream$currentSubtit = stream.currentSubtitleStream) === null || _stream$currentSubtit === void 0 ? void 0 : _stream$currentSubtit.url;\n      return this._manifestLoader.load(url, audioUrl, subtitleUrl).then(function(_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3), mediaPlaylist = _ref7[0], audioPlaylist = _ref7[1], subtitlePlaylist = _ref7[2];\n        if (!mediaPlaylist)\n          return;\n        _this2._playlist.upsertPlaylist(mediaPlaylist, audioPlaylist, subtitlePlaylist);\n        if (!_this2.isLive)\n          return;\n        _this2._pollM3U8(url, audioUrl, subtitleUrl);\n      }).catch(function(err) {\n        throw _this2._emitError(StreamingError.create(err));\n      });\n    }\n  }, {\n    key: \"_pollM3U8\",\n    value: function _pollM3U8(url, audioUrl, subtitleUrl) {\n      var _this3 = this;\n      var isEmpty = this._playlist.isEmpty;\n      var pollInterval;\n      if (this._playlist.lowLatency) {\n        pollInterval = (this._playlist.currentStream.partTargetDuration || 0) * 1e3;\n      } else {\n        var _this$_playlist$lastS;\n        pollInterval = (((_this$_playlist$lastS = this._playlist.lastSegment) === null || _this$_playlist$lastS === void 0 ? void 0 : _this$_playlist$lastS.duration) || 0) * 1e3;\n      }\n      this._manifestLoader.poll(\n        url,\n        audioUrl,\n        subtitleUrl,\n        function(p1, p2, p3) {\n          _this3._playlist.upsertPlaylist(p1, p2, p3);\n          _this3._playlist.clearOldSegment();\n          var switchToNoEmpty = p1 && isEmpty && !_this3._playlist.isEmpty;\n          if (switchToNoEmpty || !_this3._playlist.hadSegmentLoaded && _this3._playlist.nbSegments >= _this3.config.minSegmentsStartPlay) {\n            _this3._loadSegment();\n          }\n          if (isEmpty)\n            isEmpty = _this3._playlist.isEmpty;\n        },\n        function(err) {\n          _this3._emitError(StreamingError.create(err));\n        },\n        pollInterval\n      );\n    }\n  }, {\n    key: \"_loadSegmentDirect\",\n    value: function() {\n      var _loadSegmentDirect2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee14(loadOnce) {\n        var seg, appended, cachedError, _this$_playlist$curre2, bufferEnd, sameStream;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1)\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                seg = this._playlist.nextSegment;\n                if (seg) {\n                  _context14.next = 3;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 3:\n                appended = false;\n                cachedError = null;\n                _context14.prev = 5;\n                this._segmentProcessing = true;\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", [\").concat(seg.start, \", \").concat(seg.end, \"], partIndex:\").concat(seg.partIndex));\n                _context14.next = 10;\n                return this._reqAndBufferSegment(seg, this._playlist.getAudioSegment(seg));\n              case 10:\n                appended = _context14.sent;\n                _context14.next = 16;\n                break;\n              case 13:\n                _context14.prev = 13;\n                _context14.t0 = _context14[\"catch\"](5);\n                cachedError = _context14.t0;\n              case 16:\n                _context14.prev = 16;\n                this._segmentProcessing = false;\n                return _context14.finish(16);\n              case 19:\n                if (!cachedError) {\n                  _context14.next = 26;\n                  break;\n                }\n                if (!this._bufferService.isFull()) {\n                  _context14.next = 25;\n                  break;\n                }\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                this._segmentProcessing = true;\n                this._isProcessQuotaExceeded = true;\n                return _context14.abrupt(\"return\", false);\n              case 25:\n                return _context14.abrupt(\"return\", this._emitError(StreamingError.create(cachedError)));\n              case 26:\n                if (appended) {\n                  bufferEnd = this.bufferInfo().end;\n                  if (this.isLive && !this.media.seeking && bufferEnd && Math.abs(seg.end - bufferEnd) > 1) {\n                    logger.warn(\"segment: \".concat(seg.sn, \" expected end=\").concat(seg.end, \", real end=\").concat(bufferEnd));\n                    this._playlist.feedbackLiveEdge(seg, bufferEnd);\n                  }\n                  sameStream = ((_this$_playlist$curre2 = this._playlist.currentStream) === null || _this$_playlist$curre2 === void 0 ? void 0 : _this$_playlist$curre2.url) === seg.parentUrl;\n                  if (this._urlSwitching && !sameStream) {\n                    logger.warn(\"pre playlist segment appended!\");\n                    this._bufferService.seamlessSwitch();\n                  }\n                  if (this.isLive && this._urlSwitching && sameStream) {\n                    this._urlSwitching = false;\n                    this.emit(Event.SWITCH_URL_SUCCESS, {\n                      url: this.config.url\n                    });\n                  }\n                  this._playlist.moveSegmentPointer();\n                  if (seg.isLast) {\n                    this._end();\n                  } else if (!loadOnce) {\n                    this._loadSegment();\n                  }\n                }\n                return _context14.abrupt(\"return\", appended);\n              case 28:\n              case \"end\":\n                return _context14.stop();\n            }\n        }, _callee14, this, [[5, 13, 16, 19]]);\n      }));\n      function _loadSegmentDirect(_x8) {\n        return _loadSegmentDirect2.apply(this, arguments);\n      }\n      return _loadSegmentDirect;\n    }()\n  }, {\n    key: \"_reqAndBufferSegment\",\n    value: function() {\n      var _reqAndBufferSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee15(seg, audioSeg) {\n        var _this$_bufferService2;\n        var cc, discontinuity, responses, data, sn, start, stream, before, contiguous, segStart;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1)\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                cc = seg ? seg.cc : audioSeg.cc;\n                discontinuity = this._prevSegCc !== cc;\n                responses = [];\n                _context15.prev = 3;\n                _context15.next = 6;\n                return this._segmentLoader.load(seg, audioSeg, discontinuity);\n              case 6:\n                responses = _context15.sent;\n                _context15.next = 14;\n                break;\n              case 9:\n                _context15.prev = 9;\n                _context15.t0 = _context15[\"catch\"](3);\n                _context15.t0.fatal = false;\n                this._segmentLoader.error = _context15.t0;\n                throw _context15.t0;\n              case 14:\n                if (responses[0]) {\n                  _context15.next = 16;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 16:\n                _context15.next = 18;\n                return (_this$_bufferService2 = this._bufferService).decryptBuffer.apply(_this$_bufferService2, _toConsumableArray(responses));\n              case 18:\n                data = _context15.sent;\n                if (data) {\n                  _context15.next = 21;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 21:\n                sn = seg ? seg.sn : audioSeg.sn;\n                start = seg ? seg.start : audioSeg.start;\n                stream = this._playlist.currentStream;\n                this._bufferService.createSource(data[0], data[1], stream === null || stream === void 0 ? void 0 : stream.videoCodec, stream === null || stream === void 0 ? void 0 : stream.audioCodec);\n                before = Date.now();\n                contiguous = this._prevSegSn === sn - 1;\n                if (this.isLive && this._urlSwitching) {\n                  segStart = this.bufferInfo().end;\n                  this._playlist.updateSegmentsRanges(sn, segStart);\n                  logger.warn(\"update the new playlist liveEdge, segment id=\".concat(sn, \", buffer start=\").concat(segStart, \", liveEdge=\").concat(this._playlist.liveEdge));\n                  start = segStart;\n                }\n                _context15.next = 30;\n                return this._bufferService.appendBuffer(seg, audioSeg, data[0], data[1], discontinuity, contiguous, start);\n              case 30:\n                this.emit(Event.APPEND_COST, {\n                  elapsed: Date.now() - before,\n                  url: seg.url\n                });\n                _context15.next = 33;\n                return this._bufferService.evictBuffer(this.config.bufferBehind);\n              case 33:\n                this._prevSegCc = cc;\n                this._prevSegSn = sn;\n                return _context15.abrupt(\"return\", true);\n              case 36:\n              case \"end\":\n                return _context15.stop();\n            }\n        }, _callee15, this, [[3, 9]]);\n      }));\n      function _reqAndBufferSegment(_x9, _x10) {\n        return _reqAndBufferSegment2.apply(this, arguments);\n      }\n      return _reqAndBufferSegment;\n    }()\n  }, {\n    key: \"_onCheckQuotaExceeded\",\n    value: function() {\n      var _onCheckQuotaExceeded2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee16() {\n        var seekTime, buffered, inBuffered, i, bufferBehind, mediaTime;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1)\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                seekTime = this.media.currentTime;\n                buffered = this.media.buffered;\n                inBuffered = false;\n                i = 0;\n              case 4:\n                if (!(i < buffered.length)) {\n                  _context16.next = 11;\n                  break;\n                }\n                if (!(buffered.start(0) >= seekTime && seekTime < buffered.end(i))) {\n                  _context16.next = 8;\n                  break;\n                }\n                inBuffered = true;\n                return _context16.abrupt(\"break\", 11);\n              case 8:\n                i++;\n                _context16.next = 4;\n                break;\n              case 11:\n                if (!this._bufferService.isFull()) {\n                  _context16.next = 17;\n                  break;\n                }\n                bufferBehind = inBuffered ? this.config.bufferBehind : 5;\n                mediaTime = this.media.currentTime;\n                if (!(mediaTime - bufferBehind > 0)) {\n                  _context16.next = 17;\n                  break;\n                }\n                _context16.next = 17;\n                return this._bufferService.removeBuffer(0, mediaTime - bufferBehind);\n              case 17:\n              case \"end\":\n                return _context16.stop();\n            }\n        }, _callee16, this);\n      }));\n      function _onCheckQuotaExceeded() {\n        return _onCheckQuotaExceeded2.apply(this, arguments);\n      }\n      return _onCheckQuotaExceeded;\n    }()\n  }, {\n    key: \"_checkStreamTrackChange\",\n    value: function _checkStreamTrackChange(time) {\n      var changedSeg = this._playlist.checkSegmentTrackChange(time, this._bufferService.nbSb);\n      if (!changedSeg)\n        return;\n      this.switchURL(this.config.url, changedSeg.start + 0.2);\n    }\n  }, {\n    key: \"_clear\",\n    value: function() {\n      var _clear2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee17() {\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1)\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                clearTimeout(this._disconnectTimer);\n                this._stopTick();\n                _context17.next = 4;\n                return Promise.all([this._segmentLoader.cancel(), this._manifestLoader.stopPoll()]);\n              case 4:\n                this._segmentProcessing = false;\n              case 5:\n              case \"end\":\n                return _context17.stop();\n            }\n        }, _callee17, this);\n      }));\n      function _clear() {\n        return _clear2.apply(this, arguments);\n      }\n      return _clear;\n    }()\n  }, {\n    key: \"_reset\",\n    value: function() {\n      var _reset2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee18() {\n        var _this$_seiService3;\n        var reuseMse, _args18 = arguments;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1)\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                reuseMse = _args18.length > 0 && _args18[0] !== void 0 ? _args18[0] : false;\n                this._reloadOnPlay = false;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._switchUrlOpts = null;\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService3 = this._seiService) === null || _this$_seiService3 === void 0 ? void 0 : _this$_seiService3.reset();\n                this._stats.reset();\n                _context18.next = 11;\n                return this._clear();\n              case 11:\n                return _context18.abrupt(\"return\", this._bufferService.reset(reuseMse));\n              case 12:\n              case \"end\":\n                return _context18.stop();\n            }\n        }, _callee18, this);\n      }));\n      function _reset() {\n        return _reset2.apply(this, arguments);\n      }\n      return _reset;\n    }()\n  }, {\n    key: \"_end\",\n    value: function _end() {\n      this._clear();\n      this._bufferService.endOfStream();\n      if (this.media.readyState <= 2 || this.media.buffered.length > 1) {\n        this._startTick();\n      }\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      if (this._tickTimer) {\n        clearTimeout(this._tickTimer);\n      }\n      this._tickTimer = null;\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      this._stopTick();\n      this._tickTimer = setTimeout(this._tick, this._tickInterval);\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(error) {\n      var _error$originError;\n      var endOfStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      if (((_error$originError = error.originError) === null || _error$originError === void 0 ? void 0 : _error$originError.fatal) === false) {\n        logger.warn(error);\n      } else {\n        var _this$media2, _this$media3, _this$_seiService4;\n        logger.table(error);\n        logger.error(error);\n        logger.error((_this$media2 = this.media) === null || _this$media2 === void 0 ? void 0 : _this$media2.error);\n        if ((_this$media3 = this.media) !== null && _this$media3 !== void 0 && _this$media3.readyState) {\n          this.media.pause();\n        }\n        this._stopTick();\n        if (this._urlSwitching) {\n          this._urlSwitching = false;\n          this.emit(Event.SWITCH_URL_FAILED, error);\n        }\n        this.emit(Event.ERROR, error);\n        if (endOfStream)\n          this._end();\n        (_this$_seiService4 = this._seiService) === null || _this$_seiService4 === void 0 ? void 0 : _this$_seiService4.reset();\n      }\n      return error;\n    }\n  }, {\n    key: \"_getSeamlessSwitchPoint\",\n    value: function _getSeamlessSwitchPoint() {\n      var media = this.media;\n      var nextLoadPoint = media.currentTime;\n      if (!media.paused) {\n        var _this$_stats;\n        var segIdx = this._playlist.findSegmentIndexByTime(media.currentTime);\n        var curSeg = this._playlist.getSegmentByIndex(segIdx);\n        var latestKbps = (_this$_stats = this._stats) === null || _this$_stats === void 0 ? void 0 : _this$_stats.getStats().downloadSpeed;\n        if (latestKbps && curSeg) {\n          var delay = curSeg.duration * this._playlist.currentStream.bitrate / latestKbps + 1;\n          nextLoadPoint += delay;\n        } else {\n          nextLoadPoint += 5;\n        }\n      }\n      return nextLoadPoint;\n    }\n  }, {\n    key: \"_tryEos\",\n    value: function _tryEos() {\n      var _this$_bufferService3, _this$_bufferService4;\n      var media = this.media;\n      var _this$_playlist2 = this._playlist, nextSegment = _this$_playlist2.nextSegment, lastSegment = _this$_playlist2.lastSegment;\n      var eosAllowed = (!nextSegment || lastSegment && Buffer.isBuffered(media, lastSegment.start + lastSegment.duration / 2)) && media.readyState && media.duration > 0 && ((_this$_bufferService3 = this._bufferService) === null || _this$_bufferService3 === void 0 ? void 0 : _this$_bufferService3.msIsOpened) && !((_this$_bufferService4 = this._bufferService) !== null && _this$_bufferService4 !== void 0 && _this$_bufferService4.msHasOpTasks);\n      if (!eosAllowed) {\n        return;\n      }\n      var bInfo = this.bufferInfo();\n      if (media.paused && !media.currentTime) {\n        bInfo = this.bufferInfo(bInfo.nextStart || 0.5);\n      }\n      var bufferThroughout = Math.abs(bInfo.end - media.duration) < 0.1 || !this.isLive && lastSegment && bInfo.end >= lastSegment.start + lastSegment.duration;\n      if (bufferThroughout) {\n        this._bufferService.endOfStream();\n      }\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(mediaType) {\n      if (!mediaType || mediaType === \"video\" || mediaType === \"audio\") {\n        return MSE.isSupported();\n      }\n      return typeof WebAssembly !== \"undefined\";\n    }\n  }, {\n    key: \"enableLogger\",\n    value: function enableLogger() {\n      Logger.enable();\n      Logger$1.enable();\n    }\n  }, {\n    key: \"disableLogger\",\n    value: function disableLogger() {\n      Logger.disable();\n      Logger$1.disable();\n    }\n  }]);\n  return Hls2;\n}(EventEmitter);\n_defineProperty(Hls, \"version\", \"3.0.20\");\ntry {\n  if (localStorage.getItem(\"xgd\")) {\n    Hls.enableLogger();\n  } else {\n    Hls.disableLogger();\n  }\n} catch (error) {\n}\nexport { Hls, logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Event } from \"./hls/constants.js\";\nvar PluginExtension = /* @__PURE__ */ function() {\n  function PluginExtension2(opts, plugin) {\n    var _this = this;\n    _classCallCheck(this, PluginExtension2);\n    _defineProperty(this, \"_opts\", null);\n    _defineProperty(this, \"_plugin\", null);\n    _defineProperty(this, \"_onLowDecode\", function() {\n      var _this$_plugin, _this$_plugin$player, _this$_plugin2, _this$_plugin2$player;\n      var _this$_opts = _this._opts, media = _this$_opts.media, innerDegrade = _this$_opts.innerDegrade;\n      (_this$_plugin = _this._plugin) === null || _this$_plugin === void 0 ? void 0 : (_this$_plugin$player = _this$_plugin.player) === null || _this$_plugin$player === void 0 ? void 0 : _this$_plugin$player.emit(\"lowdecode\", media.degradeInfo);\n      (_this$_plugin2 = _this._plugin) === null || _this$_plugin2 === void 0 ? void 0 : (_this$_plugin2$player = _this$_plugin2.player) === null || _this$_plugin2$player === void 0 ? void 0 : _this$_plugin2$player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, media.degradeInfo), {}, {\n        eventName: Event.LOWDECODE\n      }));\n      if (innerDegrade === 1) {\n        _this._degrade(media.src);\n      }\n    });\n    _defineProperty(this, \"_degrade\", function(url) {\n      var player = _this._plugin.player;\n      var originVideo = player.video;\n      if (originVideo && originVideo.TAG !== \"MVideo\")\n        return;\n      var newVideo = player.video.degradeVideo;\n      player.video = newVideo;\n      originVideo.degrade(url);\n      if (url) {\n        player.config.url = url;\n      }\n      var firstChild = player.root.firstChild;\n      if (firstChild.TAG === \"MVideo\") {\n        player.root.replaceChild(newVideo, firstChild);\n      }\n      var hlsPlugin = _this._plugin.constructor.pluginName.toLowerCase();\n      player.unRegisterPlugin(hlsPlugin);\n      player.once(\"canplay\", function() {\n        player.play();\n      });\n    });\n    _defineProperty(this, \"forceDegradeToVideo\", function(url) {\n      var innerDegrade = _this._opts.innerDegrade;\n      if (innerDegrade === 1) {\n        _this._degrade(url);\n      }\n    });\n    this._opts = opts;\n    this._plugin = plugin;\n    this._init();\n  }\n  _createClass(PluginExtension2, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this$_opts2 = this._opts, media = _this$_opts2.media, preloadTime = _this$_opts2.preloadTime, innerDegrade = _this$_opts2.innerDegrade, isLive = _this$_opts2.isLive;\n      if (!media)\n        return;\n      if (!isLive && media.setPlayMode) {\n        media.setPlayMode(\"VOD\");\n        return;\n      }\n      if (innerDegrade) {\n        media.setAttribute(\"innerdegrade\", innerDegrade);\n      }\n      if (preloadTime) {\n        media.setAttribute(\"preloadtime\", preloadTime);\n      }\n      this._bindEvents();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var media = this._opts.media;\n      media.addEventListener(\"lowdecode\", this._onLowDecode);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$_opts3, _this$_opts3$media;\n      (_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : (_this$_opts3$media = _this$_opts3.media) === null || _this$_opts3$media === void 0 ? void 0 : _this$_opts3$media.removeEventListener(\"lowdecode\", this._onLowDecode);\n      this._plugin = null;\n    }\n  }]);\n  return PluginExtension2;\n}();\nexport { PluginExtension as default };\n","import { defineProperty as _defineProperty, typeof as _typeof, objectWithoutProperties as _objectWithoutProperties, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { BasePlugin, Events, Errors } from \"xgplayer\";\nimport { MSE, EVENT } from \"xgplayer-streaming-shared\";\nimport { Hls, logger } from \"./hls/index.js\";\nimport { Event } from \"./hls/constants.js\";\nimport PluginExtension from \"./plugin-extension.js\";\nvar _excluded = [\"currentTime\"];\nfunction parseSwitchUrlArgs(args, plugin) {\n  var player = plugin.player;\n  var curTime = player.currentTime;\n  var options = {\n    startTime: curTime\n  };\n  switch (_typeof(args)) {\n    case \"boolean\":\n      options.seamless = args;\n      break;\n    case \"object\": {\n      var currentTime = args.currentTime, rest = _objectWithoutProperties(args, _excluded);\n      Object.assign(options, rest);\n      if (typeof currentTime === \"number\") {\n        options.startTime = currentTime;\n      }\n      break;\n    }\n  }\n  return options;\n}\nvar HlsPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(HlsPlugin2, _BasePlugin);\n  var _super = _createSuper(HlsPlugin2);\n  function HlsPlugin2() {\n    var _this;\n    _classCallCheck(this, HlsPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"logger\", logger);\n    _defineProperty(_assertThisInitialized(_this), \"hls\", null);\n    _defineProperty(_assertThisInitialized(_this), \"pluginExtension\", null);\n    _defineProperty(_assertThisInitialized(_this), \"getStats\", function() {\n      var _this$hls;\n      return (_this$hls = _this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.getStats();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchSubtitle\", function(_ref) {\n      var _this$hls2;\n      var lang = _ref.lang;\n      (_this$hls2 = _this.hls) === null || _this$hls2 === void 0 ? void 0 : _this$hls2.switchSubtitleStream(lang);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_keepPauseStatus\", function() {\n      var paused = _this.player.paused;\n      if (!paused)\n        return;\n      _this.player.once(\"canplay\", function() {\n        _this.player.pause();\n      });\n    });\n    return _this;\n  }\n  _createClass(HlsPlugin2, [{\n    key: \"core\",\n    get: function get() {\n      return this.hls;\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      var _this$hls3;\n      return (_this$hls3 = this.hls) === null || _this$hls3 === void 0 ? void 0 : _this$hls3.version;\n    }\n  }, {\n    key: \"softDecode\",\n    get: function get() {\n      var _this$player, _this$player$config;\n      var mediaType = (_this$player = this.player) === null || _this$player === void 0 ? void 0 : (_this$player$config = _this$player.config) === null || _this$player$config === void 0 ? void 0 : _this$player$config.mediaType;\n      return !!mediaType && mediaType !== \"video\" && mediaType !== \"audio\";\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n      var _this2 = this;\n      var config = this.player.config;\n      var mediaElem = this.player.media || this.player.video;\n      var hlsOpts = config.hls || {};\n      if (!config.url && !config.__allowHlsEmptyUrl__ || !hlsOpts.preferMMS && MSE.isMMSOnly()) {\n        return;\n      }\n      if (this.hls)\n        this.hls.destroy();\n      var descriptor = Object.getOwnPropertyDescriptor(this.player, \"switchURL\");\n      if (!descriptor || descriptor.writable) {\n        this.player.switchURL = function(url, args) {\n          return new Promise(function(resolve, reject) {\n            var player = _this2.player, hls = _this2.hls;\n            if (hls) {\n              var _this2$player$config, _this2$player$config$;\n              var options = parseSwitchUrlArgs(args, _this2);\n              player.config.url = url;\n              hls.switchURL(url, options).then(function() {\n                return resolve(true);\n              }).catch(reject);\n              if (!options.seamless && (_this2$player$config = _this2.player.config) !== null && _this2$player$config !== void 0 && (_this2$player$config$ = _this2$player$config.hls) !== null && _this2$player$config$ !== void 0 && _this2$player$config$.keepStatusAfterSwitch) {\n                _this2._keepPauseStatus();\n              }\n            } else {\n              reject();\n            }\n          });\n        };\n      }\n      var onSwitchUrl = this.player.switchURL;\n      this.player.handleSource = false;\n      hlsOpts.innerDegrade = hlsOpts.innerDegrade || config.innerDegrade;\n      if (hlsOpts.disconnectTime === null || hlsOpts.disconnectTime === void 0)\n        hlsOpts.disconnectTime = 0;\n      this.hls = new Hls(_objectSpread2({\n        softDecode: this.softDecode,\n        isLive: config.isLive,\n        media: mediaElem,\n        startTime: config.startTime,\n        url: config.url\n      }, hlsOpts));\n      if (!this.softDecode) {\n        BasePlugin.defineGetterOrSetter(this.player, {\n          url: {\n            get: function get() {\n              var _this2$hls, _this2$hls$media;\n              return (_this2$hls = _this2.hls) === null || _this2$hls === void 0 ? void 0 : (_this2$hls$media = _this2$hls.media) === null || _this2$hls$media === void 0 ? void 0 : _this2$hls$media.src;\n            },\n            configurable: true\n          }\n        });\n      }\n      if (this.softDecode) {\n        this.pluginExtension = new PluginExtension(_objectSpread2({\n          isLive: config.isLive,\n          media: mediaElem\n        }, hlsOpts), this);\n        this.player.forceDegradeToVideo = function() {\n          var _this2$pluginExtensio;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return (_this2$pluginExtensio = _this2.pluginExtension) === null || _this2$pluginExtensio === void 0 ? void 0 : _this2$pluginExtensio.forceDegradeToVideo.apply(_this2$pluginExtensio, args);\n        };\n      }\n      if (config.isLive) {\n        var _this$player2;\n        (_this$player2 = this.player) === null || _this$player2 === void 0 ? void 0 : _this$player2.useHooks(\"replay\", function() {\n          var _this2$hls2;\n          return (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.replay();\n        });\n      }\n      this.on(Events.URL_CHANGE, onSwitchUrl);\n      this.on(Events.SWITCH_SUBTITLE || \"switch_subtitle\", this._onSwitchSubtitle);\n      this.on(Events.DESTROY, this.destroy.bind(this));\n      this._transError();\n      this._transCoreEvent(EVENT.TTFB);\n      this._transCoreEvent(EVENT.LOAD_START);\n      this._transCoreEvent(EVENT.LOAD_RESPONSE_HEADERS);\n      this._transCoreEvent(EVENT.LOAD_COMPLETE);\n      this._transCoreEvent(EVENT.LOAD_RETRY);\n      this._transCoreEvent(EVENT.SOURCEBUFFER_CREATED);\n      this._transCoreEvent(EVENT.MEDIASOURCE_OPENED);\n      this._transCoreEvent(EVENT.APPEND_BUFFER);\n      this._transCoreEvent(EVENT.REMOVE_BUFFER);\n      this._transCoreEvent(EVENT.BUFFEREOS);\n      this._transCoreEvent(EVENT.KEYFRAME);\n      this._transCoreEvent(EVENT.METADATA_PARSED);\n      this._transCoreEvent(EVENT.DEMUXED_TRACK);\n      this._transCoreEvent(EVENT.SEI);\n      this._transCoreEvent(EVENT.SEI_IN_TIME);\n      this._transCoreEvent(EVENT.SPEED);\n      this._transCoreEvent(EVENT.HLS_MANIFEST_LOADED);\n      this._transCoreEvent(EVENT.HLS_LEVEL_LOADED);\n      this._transCoreEvent(EVENT.STREAM_EXCEPTION);\n      this._transCoreEvent(EVENT.SWITCH_URL_SUCCESS);\n      this._transCoreEvent(EVENT.SWITCH_URL_FAILED);\n      this._transCoreEvent(Event.NO_AUDIO_TRACK);\n      this._transCoreEvent(Event.STREAM_PARSED);\n      this._transCoreEvent(Event.SUBTITLE_SEGMENTS);\n      this._transCoreEvent(Event.SUBTITLE_PLAYLIST);\n      this._transCoreEvent(Event.APPEND_COST);\n      if (config.url) {\n        this.hls.load(config.url, {\n          reuseMse: true\n        }).catch(function(e) {\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$pluginExtension;\n      if (this.hls) {\n        this.hls.destroy();\n        this.hls = null;\n      }\n      (_this$pluginExtension = this.pluginExtension) === null || _this$pluginExtension === void 0 ? void 0 : _this$pluginExtension.destroy();\n      this.pluginExtension = null;\n    }\n  }, {\n    key: \"_transError\",\n    value: function _transError() {\n      var _this3 = this;\n      this.hls.on(Event.ERROR, function(err) {\n        if (_this3.player) {\n          _this3.player.emit(Events.ERROR, new Errors(_this3.player, err));\n        }\n      });\n    }\n  }, {\n    key: \"_transCoreEvent\",\n    value: function _transCoreEvent(eventName) {\n      var _this4 = this;\n      this.hls.on(eventName, function(e) {\n        if (_this4.player) {\n          _this4.player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, e), {}, {\n            eventName\n          }));\n          if (eventName === EVENT.SEI_IN_TIME && _this4.hls.hasSubtitle) {\n            _this4._emitSeiPaylodTime(e);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_emitSeiPaylodTime\",\n    value: function _emitSeiPaylodTime(e) {\n      try {\n        var seiJson = JSON.parse(Array.from(e.data.payload).map(function(x) {\n          return String.fromCharCode(x);\n        }).join(\"\").slice(0, -1));\n        if (!seiJson[\"rtmp_dts\"])\n          return;\n        this.player.emit(\"core_event\", {\n          eventName: Event.SEI_PAYLOAD_TIME,\n          time: seiJson[\"rtmp_dts\"]\n        });\n      } catch (e2) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"hls\";\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported(mediaType, codec) {\n      return Hls.isSupported(mediaType, codec);\n    }\n  }]);\n  return HlsPlugin2;\n}(BasePlugin);\n_defineProperty(HlsPlugin, \"Hls\", Hls);\n_defineProperty(HlsPlugin, \"EVENT\", Event);\nexport { HlsPlugin, parseSwitchUrlArgs };\n","import { render } from \"./index.vue?vue&type=template&id=d9ee5164&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=d9ee5164&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=d9ee5164&lang=scss&scoped=true\"\nimport \"./index.vue?vue&type=style&index=2&id=d9ee5164&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d9ee5164\"]])\n\nexport default __exports__"],"names":["DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","module","exports","require","_delegate","type","callback","useCapture","listenerFn","listener","apply","this","arguments","addEventListener","destroy","removeEventListener","delegate","elements","bind","document","querySelectorAll","Array","map","call","e","delegateTarget","target","root","factory","define","download","data","strFileName","strMimeType","blob","reader","self","window","defaultMime","mimeType","payload","url","anchor","createElement","toString","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","length","split","pop","href","indexOf","ajax","XMLHttpRequest","open","responseType","onload","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","i","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","decoder","atob","decodeURIComponent","binData","uiArr","winMode","setAttribute","className","innerHTML","style","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","replace","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","has","Object","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","slice","getOwnPropertySymbols","concat","listeners","handlers","l","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","undefined","j","on","removeAllListeners","off","prefixed","class","_createElementBlock","_hoisted_1","_createElementVNode","disabled","$props","currentPage","onClick","_cache","$options","goToPreviousTenPages","_createVNode","_component_van_icon","_hoisted_2","key","$data","componentKey","_Fragment","_renderList","visiblePages","page","_normalizeClass","active","_ctx","activePages","$event","goToPage","_hoisted_3","totalPages","goToNextTenPages","_hoisted_4","props","Number","required","emits","watch","handler","newVal","updateActivePages","immediate","computed","startPage","Math","floor","endPage","min","from","_","methods","forEach","$emit","newPage","max","__exports__","render","_ads","item","_component_van_image","goAd","link","fit","position","picUrl","loading","_withCtx","_component_van_loading","size","_hoisted_5","goHome","goCategory","classifyName","_createTextVNode","_toDisplayString","title","_hoisted_6","_hoisted_7","id","_hoisted_8","language","_hoisted_9","_createCommentVNode","_hoisted_10","titleUs","_hoisted_11","titleCn","_hoisted_12","_hoisted_13","_imports_0","alt","watchTimes","_hoisted_14","_imports_1","formatTime","createdAt","titleChinese","_hoisted_15","_hoisted_16","_hoisted_17","videos","_hoisted_18","_createBlock","_component_Card","classifyId","specialId","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_component_Pagination","total","pageNum","onPageChange","handlePageChange","XG_DEBUG_OPEN","STYLE","info","error","warn","XGTAG","XG_DEBUG","config","debug","logInfo","message","optionalParams","console","log","logWarn","logError","_fun","bindDebug","player","XgplayerTimeRange","bufferedList","start","index","end","util","checkIsIn","list","isObject","value","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","requestAnimationFrame","invokeFunc","time","thisArg","startTimer","pendingFunc","wait2","cancelAnimationFrame","cancelTimer","clearTimeout","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","Date","now","trailingEdge","cancel","flush","pending","debounced","isInvoking","throttle","getLang","lang","documentElement","getAttribute","toLocaleLowerCase","checkIsCurrentVideo","playerId","pid","tagName","createDom","el","tpl","attrs","cname","dom","keys","createDomFromHtml","html","classname","doc","children","addClass","err","hasClass","some","classList","orgClassName","match","RegExp","add","removeClass","remove","reg","toggleClass","classNames","typeOf","join","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","maxlen","ceil","chars","r","substring","format","isNaN","round","hour","minute","second","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","obj","deepCopy","dst","Node","deepMerge","getBgImage","backgroundImage","copyDom","back","attributes","node","setInterval","eventName","intervalFunc","frequency","_interval","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","btn","w","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","styleArr","arr","filterStyleFromText","_cssText","cssText","ret","remain","getStyleFromCsstext","preloadImg","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","b","diff","buffered2","buf2len","buf2end","getEventPos","zoom","x","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","media","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","d","getTime","performance","uuid","c","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","stylesKeys","lastIndex","convertDeg","abs","getIndexByTime","segments","_len","_index","getOffsetCurrentTime","currentTime","cTime","offset","getCurrentTimeByOffset","offsetTime","VERSION_REG","android","ios","H264_MIMETYPES","sniffer","device","os","isPc","browser","ua","toLowerCase","ie","firefox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","osVersion","_match","exec","version","isWeixin","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","i18n","ended","readyState","networkState","_errc","code","playerVersion","stack","host","ex","msg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","LOADED_METADATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","LEAVE_PLAYER","ENTER_PLAYER","LOADING","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","emitVideoEvent","eventKey","errorHandler","getVideoEventHandler","_err","eData","originalEvent","detail","timeStamp","paused","isInternalOp","_internalOp","muted","volume","vtype","removeInnerOP","_currentTime","_rate","playbackRate","_duration","isMutedChange","_lastMuted","mediaEventMiddleware","MediaProxy","super","_hasStart","mediaConfig","assign","controls","autoplay","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","mediaType","videoAttributes","playerType","x5VideoPlayerType","loop","autoplayMuted","defaultPlaybackRate","attachVideoEvents","setEventsMiddleware","middlewares","removeEventsMiddleware","_evHandlers","funName","charAt","toUpperCase","detachVideoEvents","_attachSourceEvents","urls","removeAttribute","load","_c","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","_detachSourceEvents","_e","pause","k","play","getBufferedRange","range","isTrue","bufferedPoint","_buffered","crossOrigin","defaultMuted","errorNote","status","rate","Infinity","played","preload","seekable","seeking","onWaiting","vol","aspectRatio","videoWidth","videoHeight","addInnerOP","offAll","INDEXDB","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","openDB","request","onsuccess","onupgradeneeded","transaction","objectStoreNames","contains","createObjectStore","keyPath","deletedb","deleteDatabase","closeDB","close","addData","storename","store","objectStore","putData","put","getDataByKey","get","deleteData","delete","clearData","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","next","then","args2","hook","hookName","preset","pre","__hooks","pluginName","preRet","isContinue","catch","useHooks","removeHooks","usePluginHooks","plugins","plugin","removePluginHooks","hooksDescriptor","instance","presetHooks","defineProperty","delHooksDescriptor","runHooks","showErrorMsg","BasePlugin","defineGetterOrSetter","Obj","defaultConfig","beforeCreate","__args","__events","__onceEvents","playerConfig","__init","afterCreate","beforePlayerInit","onPluginsReady","afterPlayerInit","logger","updateLang","i18nKeys","domEventType","isArray","res","emitUserAction","action","params","nParams","registerPlugin","getPlugin","__destroy","unRegisterPlugin","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","PLUGIN_STATE_CLASS","ICON_DISABLE","ICON_HIDE","isUrl","mergeIconClass","icon","mergeIconAttr","attr","createIcon","newIcon","key2","tag","registerIconsObj","iconsConfig","_icons","icons","orgIcon","registerTextObj","textConfig","langText","Plugin","insert","parent","insertIdx","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","eventType","capture","dels","__delegates","_parent","_el","_orgicons","registerIcons","defaultTexConfig","registerLanguageTexts","renderStr","Error","setAttr","setStyle","__registerChildren","_children","_plugin","Plugin2","checkChildren","langKey","langTextShow","changeLangTextKey","disable","find","enable","qs","bindEL","unbind","unbindEL","setHtml","htmlStr","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","pdom","child","__defProp","__defNormalProp","enumerable","configurable","writable","__publicField","ResizeObserver","entries","t","__runHandler","__handlers","observer","__trigger","addObserver","observe","_pid","unObserver","unobserve","destroyObserver","disconnect","resizeObserver","pluginsManager","pluginGroup","init","cgid","_pluginInfoId","closeResizeObserver","resize","_originalOptions","_plugins","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","lazyRegister","lazyPlugin","timeout","race","loader","__esModule","default","register","reject","originalOptions","isSupported","codecType","unRegister","_instance","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","prevTask","_loadingPlugins","all","pluginsRet","pName","afterInit","setLang","reRender","_pList","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","BUILTIN_CLASS","MOBILE","MINI","getDefaultConfig","isNoRoot","isCustomRoot","nullUrlStart","fluid","fitVideoSize","videoFillMode","isLive","videoInit","poster","isMobileSimulateMode","execBeforePluginsCall","allowSeekAfterEnded","enableContextmenu","closeVideoClick","closeVideoDblclick","closePlayerBlur","closeDelayBlur","leavePlayerTime","closePlayVideoFocus","closePauseVideoFocus","closeFocusVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","miniprogress","disableSwipeHandler","enableSwipeHandler","preProcessUrl","ignores","whitelist","inactive","marginControls","fullscreenTarget","screenShot","pip","mini","cssFullscreen","keyShortcut","presets","definition","customDuration","timeOffset","thumbnail","isHideTips","minWaitDelay","commonStyle","progressColor","playedColor","cachedColor","sliderBtnStyle","volumeColor","usePreset","Preset","presetInst","_ci18n","EN","LANG","TEXT","network","mse","parse","runtime","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","extend","i18nTextList","i18nLangs","lang2","keyLang","use","langData","_clang","texts","pId","I18N","zh","STATES","INITIAL","ATTACHING","ATTACHED","NOTALLOW","RUNNING","DESTROYED","STATE_ARRAY","InstManager","getInstance","setActive","isUserActive","_iterate","endEarly","flag","findAll","isActive","inst","isInstNext","getActiveId","setNext","isNext","checkPlayerRoot","p","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","instManager","_Player","__startTime","_useAutoplay","mediaPlay","canPlayFunc","isFullScreen","delayResize","fullEl","_fullActionFrom","prop","to","isVideo","_fullscreenEl","focus","fullscreen","changeFullStyle","_fullScreenOffset","cssfullscreen","exitCssFullscreen","needFullscreenScroll","scrollTo","left","top","recoverFullStyle","onFullscreenChange","defaultPreset","defaultIdx","userTimer","waitTimer","handleSource","_state","isError","isSeeking","isCanplay","rotateDeg","isRotateFullscreen","timeSegments","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","pi","vy","vx","sizeInfo","_accPlayed","acc","loopAcc","_offsetInfo","innerContainer","topBar","__i18n","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","_initMedia","rootInit","_initDOM","defaultDefinitionObj","defaultDefinition","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","hasStart","state","debugger","getCurrentUserActivePlayerId","setCurrentUserActive","XgVideoProxy","_nVideo","vid","line","handle","_initBaseDoms","width2","height2","getBoundingClientRect","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","_unbindEvents","mousemoveFunc","_clearUserTimer","_startInit","_root","firstChild","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","_getRootByPosition","_retPlugin","exits","deregister","removedFromConfig","removePluginFromConfig","plugin2","_furl","_preProcessUrl","lineNumber","switchURL","_src","curTime","isPaused","_error","_canplay","videoPlay","playPromise","onError","_errorTimer","mediaPause","videoPause","seek","isSeekedPlay","_status","changeDefinition","bitrate","seamless","reload","reloadFunc","resetState","REPLAY2","ERROR2","LOADING2","clsList","cls","reset","unregisterPlugins","isResetConfig","pn","de","updateAcc","exitFullscreen","cList","isBuildIn","replay","onPlay","retry","cur","_srcRet","rootClass","pClassName","_orgPCss","getFullscreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","exitRotateFullscreen","webkitExitFullScreen","getCssFullscreen","_class","useCssFullscreen","getRotateFullscreen","setRotateDeg","_rootStyle","innerHeight","deg","orientation","autoHide","delay","onFocus","blur","ignorePaused","onBlur","isLock","onEmptied","onCanplay","onDurationchange","onLoadeddata","onLoadstart","onPause","onEnded","onSeeking","onSeeked","onPlaying","onTimeupdate","onVolumechange","onRatechange","endType","_at","checkBuffer","resizePosition","_pi","_pos","offsetWidth","offsetHeight","rHeight","rWidth","formStyle","transform","webkitTransform","setConfig","playNext","containerSize","controlsHeight","videoFit","_style","paddingTop","videoScale","vWidth","vHeight","cWidth","cHeight","updateObjectPosition","objectPosition","newState","isFullscreen","isCssfullScreen","bool","isPlaying","definitionList","curDef","targetDef","_a","videoFrameInfo","dropped","corrupted","droppedRate","droppedDuration","getVideoPlaybackQuality","_quality","droppedVideoFrames","totalVideoFrames","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","update","fullscreenChanging","videoRotateDeg","avgSpeed","realTimeSpeed","offsetCurrentTime","offsetDuration","setUserActive","isMuted","Boolean","install","descriptor","Player","Controls","initShow","center","right","innerRoot","isMini","onMouseEnter","onMouseLeave","focusAwhile","recoverAutoHide","pauseAutoHide","LOG_TYPES","FIRST_FRAME","WAIT_START","WAIT_END","SEEK_START","SEEK_END","XGLogger","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","_startWaitTimeout","waitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","costTime","_now","_cost","_fixedCost","fixedCostTime","ReplaySvg","DOMParser","parseFromString","Replay","__handleReplay","preventDefault","path","handleReplay","Poster","isEndedShow","hideCanplay","notHidden","fillMode","onTimeUpdate","getBgSize","_bg","PlaySvg","PauseSvg","AnimateMap","addAnimate","seconds","clearAnimation","Start","autoPlayStart","onPlayPause","isShowPause","isShowEnd","disableAnimate","initIcons","onAutoplayStart","onPlayerReset","clickHandler","switchPausePlay","cancelable","startPlay","startPause","focusHide","recover","switchStatus","isAnimate","animate","endShow","_animateId","endAnimate","Enter","innerHtml","logo","HTMLElement","barStr","xgIconTips","textKey","isShow","MiniScreenIcon","getMini","exitMini","getStyleSize","num","isValid","measurements","measurementsLength","getZeroSize","innerWidth","outerWidth","outerHeight","measurement","getStyle","elem","getSize","isBorderBox","boxSizing","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","START","MOVE","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","isEnabled","isDragging","isDown","downPoint","dragPoint","startPos","_handlerDom","_bindStartEvent","_startKey","_unbindStartEvent","_bindPostStartEvents","_boundPointerEvents","_unbindPostStartEvents","onUp","onDocUp","positionDrag","webKitTransform","setLeftTop","onmousedown","dragStart","onmousemove","dragMove","onmouseup","dragEnd","ontouchstart","touchIdentifier","pointerId","ontouchmove","ontouchend","ontouchcancel","dragCancel","pointer","_getPosition","maxY","maxX","dragRealStart","presetInfo","_dragPointerMove","moveVector","hasDragStarted","dragX","dragY","checkContain","axis","drag","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","isClose","scrollY","scrollHeight","lastStyle","isShowIcon","isScrollSwitch","disableDrag","onCancelClick","onCenterClick","_draggabilly","onScroll","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","switchPlayPause","initEvents","onVideoClick","onVideoDblClick","onContextmenu","returnValue","cancelBubble","PRESS","PRESS_END","DOUBlE_CLICK","CLICK","TOUCH_MOVE","TOUCH_START","TOUCH_END","TOUCHS","move","MOUSES","pressDelay","dbClickDelay","disablePress","disableDbClick","miniStep","needPreventDefault","Touche","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","moving","press","__setDb","diffx","diffy","pressIntrvalId","dbIntrvalId","_initEvent","onTouchStart","__clearDb","touchend","touchmove","SeekTipIcon","ACTIONS","AUTO","PLAYBACK","LIGHT","MobilePlugin","touche","getTouche","disableGesture","isStart","timer","rect","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","miniMoveStep","hideControlsActive","scope","checkScope","gestureY","gestureX","executeMove","resetSeekState","endLastMove","resetPos","changeAction","checkIsRootTarget","light","gradient","isTouchingSeek","miniYPer","pressRate","darkness","maxDarkness","disableActive","disableTimeProgress","hideControlsEnd","moveDuration","closedbClick","disableSeekIcon","focusVideoClick","seekTipIcon","xgMask","initCustomStyle","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","eventsMap","pressend","doubleclick","progressPlugin","progress","addCallBack","activeSeekNote","forward","usable","createThumbnail","timePreview","timePreviewStyle","curTimeColor","durationColor","backgroundColor","previewDom","curColor","durColor","color","startPlugin","mold","updateTime","updateBrightness","updateVolume","lastScope","toFixed","sendUseAction","dbClickHandler","onDbClick","onPress","onPressEnd","percent","updatePercent","isForward","updateThumbnails","enableGesture","isDisableTag","isContentEditable","Keyboard","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","seekStep","checkVisible","keyCodeMap","mergekeyCodeMap","extendkeyCodeMap","key1","space","noBodyTarget","up","down","pressAction","esc","isPress","tt","onKeydown","onBodyKeyDown","newConfig","rec","bottom","isBodyTarget","downVolume","upVolume","_time","_step","_seekTime","seekBack","changePlaybackRate","playPause","handleKeyCode","curKeyCode","_action","loadingIcon","Loading","TPL","styleKey","InnerList","fragments","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedIndex","playedIndex","focusIndex","updateDuration","updateProgress","newIndex","curIndex","millisecond","progressList","curPFrag","per","updateFocus","unHightLight","_data","preIndex","fragment","newPIndex","findIndex","setHightLight","cached","newCIndex","findHightLight","findFragment","newOptions","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","_ePos","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","isPauseMoving","closeMoveSeek","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","onMoveEnd","_mouseUpHandlerHook","isEnter","miniStartStep","_mouseMoveHandlerHook","unlock","useable","__dragCallBacks","direc","_disableBlur","isDragingSeek","isCloseClickSeek","endedDiff","changeState","_initInner","innerList","outer","isMobile","onCacheUpdate","onReset","onVideoResize","bindDomEvents","frags","boxShadow","removeCallBack","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","onMouseOver","onMouseOut","onBodyClick","disableBlur","enableBlur","realTime","rLeft","timeIcon","resetActive","notSeek","_end","thumbnailPlugin","controlsMode","Icon","_onMouseenter","_onMouseLeave","Play","btnClick","tipDom","BackSVG","TopBackIcon","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","rotateFullscreen","useScreenOrientation","lockOrientationType","switchCallback","needBackIcon","handleFullscreen","toggleFullScreen","tipsDom","topBackIcon","_onOrientationChange","unlockScreen","e2","lockScreen","screen","lock","Time","isActiving","constrolsMode","createCenterTime","durationDom","timeDom","centerCurDom","centerDurDom","current","minWidthTime","changeLiveState","timeStr","updateState","TimeSegmentsControls","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","getSeekTime","_onDurationChange","_onLoadedData","_onPlay","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","diff2","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isMoving","unFocus","showValueLabel","updateVolumeValue","miniVolume","volumeSmall","volumeLarge","volumeMuted","_timerId","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","$labelValue","innerText","isForce","isShowVolumeValue","RotateSvg","Rotate","innerRotate","clockwise","onBtnClick","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","_transform","_styles","transformOrigin","times","factor","PipIcon","PipIconExit","PresentationMode","INLINE","isPIPAvailable","isPip","exitPIP","requestPIP","showIcon","preferDocument","docPiPNode","docPiPStyle","checkWebkitSetPresentationMode","webkitSetPresentationMode","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","pipWindow","enterPIPCallback","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","copyStyleIntoPiPWindow","pipWin","textContent","styleSheets","style2","cssRules","rule","rel","head","isDocPIPAvailable","pipOptions","playerRect","documentPictureInPicture","requestWindow","pipRoot","parentElement","previousSibling","nextSibling","append","cssContent","requestPictureInPicture","reason","exitPictureInPicture","pictureInPictureElement","_isEnabled","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","protocol","Next","PlayNextIcon","idx","urlList","nextHandler","changeSrc","DownloadSvg","Download","dUrl","newUrl","getAbsoluteURL","downloadUtil","_handler","div","ScreenShot","quality","saveImg","fitVideo","screenshotIcon","initSize","onClickBtn","saveScreenShot","filename","saveLink","initMouseEvent","dispatchEvent","createCanvas","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","option","mediaRatio","canvasRatio","sx","sy","sw","sh","dx","dy","dw","dh","drawImage","toDataURL","OptionList","maxHeight","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","changeCallback","curSelected","getAttrObj","LIST_TYPES","SIDE","MIDDLE","TOGGLE_MODES","HOVER","getListClassName","listType","IS_MOBILE","OptionsIcon","switchActiveState","toggleMode","toggle","enterType","isIcons","curValue","listStyle","hidePortrait","isItemClickHide","heightLimit","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","getTextByLang","curItem","changeCurrentText","itemList","_maxH","DefinitionIcon","changeDefinitionList","initDefinition","items","showItem","PlaybackRate","curRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","handleCssFullscreen","contentIcon","switchTips","ErrorPlugin","errorRetry","handleError","Prompt","interval","highlight","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","updateDot","needShow","dot","showDot","deleteDot","del","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","_pop","pRect","rect1","_left","_diff","getAllDotsDom","getDotDom","initDotsAPI","ispots","progressDot","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","isHideThumbnailHover","isDrag","_curDot","onDotMouseLeave","blurDot","focusDot","videoPreview","videothumbnail","miniWidth","defaultText","isFocusDots","isShowThumbnail","isShowCoverPreview","handlerSpotClick","_event","transformTimeHook","setTimeContent","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","onProgressMove","updatePosition","onProgressDragStart","onProgressDragEnd","onProgressClick","updateLinePos","cwidth","isflex","lwidth","updateTimeText","showTips","hideTips","thumbnailConfig","tRoot","totalWidth","widthPerSeconds","_activeDotId","isDefault","Thumbnail","pic_num","col","row","ratio","_preloadMark","initThumbnail","getUrlByIndex","getPosition","containerWidth","containerHeight","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","backgroundPosition","customStyle","changeConfig","getBgColor","MiniProgress","stateClass","MODES","REAL_TIME","FRAME_RATE","POSTER","nowTime","checkIsSupportCanvas","ctx","isSupportCanvas","DynamicBg","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","isInnerRender","frameRate","addMask","multiple","maskBg","supportCanvasFilter","dynamicBg","rwidth","rheight","renderByPoster","onLoadedData","onVisibilitychange","canvasFilter","webkitFilter","mask","background","_p","_tVideo","HTMLVideoElement","flyVideo","_tagName","updateImg","image","sourcePI","ZH","INFO","Stats","actionData","_getTime","_stats","stats","getStats","JSON","stringify","downloadUrl","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","downloadStats","profile","_infoProfile","_info","startMs","endMs","dur","cat","ph","tid","ts","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","allStat","msgs","stat","traceEvents","GapJump","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","seekEnd","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","DEFAULT_SPEED_TYPE","SPEED_TYPE","TestSpeed","speedListCache","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","headers","Range","setRequestHeader","onreadystatechange","getResponseHeader","saveSpeedMax","shift","getSpeedName","updateSpeed","getSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","tick","stuckCount","reportFrame","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","_startTick","_stopTick","_timer","_checkDecodeFPS","_checkBuffer","enoughBuffer","buffers","_checkStuck","curDecodedFrames","checkInterval","hidden","_reset","currTime","curDecoded","DefaultPreset","simulateMode","basePlugin","vodPlugins","contolsIcons","layers","PresetPlayer","_iterableToArrayLimit","_i","Symbol","iterator","_r","_arr","_n","done","return","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_regeneratorRuntime","Op","hasOwn","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","value2","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","next2","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","async","iter","reverse","skipTempReset","prev","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_typeof","obj2","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_classCallCheck","Constructor","_defineProperties","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","o2","p2","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_slicedToArray","_arrayWithHoles","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","minLen","n","arr2","_toPrimitive","input","hint","prim","toPrimitive","_construct","Parent","Class","Parent2","Class2","Function","_isNativeFunction","_wrapNativeSuper","Map","set","Wrapper","_superPropBase","property","_get","receiver","base","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","step","_ERR_CODE","Buffer","Buffer2","buf","maxHole","buffers2","bufLen","lastEnd","reduce","nextStart","nextEnd","prevStart","prevEnd","behind","remaining","totalLength","isBrowser","ERR","MANIFEST","NETWORK","NETWORK_TIMEOUT","NETWORK_FORBIDDEN","NETWORK_NOTFOUND","NETWROK_RANGE_NOT_SATISFIABLE","DEMUX","REMUX","MEDIA","DRM","OTHER","RUNTIME","SUB_TYPES","FLV","HLS","MP4","FMP4","MSE_ADD_SB","MSE_APPEND_BUFFER","MSE_OTHER","MSE_FULL","MSE_CHANGE_TYPE","OPTION","DASH","LICENSE","CUSTOM_LICENSE","MSE_HIJACK","EME_HIJACK","SIDX","NO_CANPLAY_ERROR","BUFFERBREAK_ERROR","WAITING_TIMEOUT_ERROR","MEDIA_ERR_CODEC_NOT_SUPPORTED","MEDIA_ERR_URL_EMPTY","ERR_CODE","StreamingError","_Error","StreamingError2","_super","subType","origin","_this","_error$response","isTimeout","httpCode","LogCacheLevel","LOG_MAX_SIZE","SIMPLE_TYPE","Logger","Logger2","_prefix","logCacheLevel","logMaxSize","logSize","logTextArray","_console","_key","logCache","DEBUG","_console2","_len2","_key2","LOG","_console3","_len3","_key3","WARN","_console4","_len4","_key4","_len5","logText","_key5","finLogText","logable","delLog","_console5","group","table","groupEnd","toLocaleString","reduceDepth","objType","maxDepth","depth","includes","createPublicPromise","rej","promise","used","SafeJSON","getMediaSource","preferMMS","ManagedMediaSource","isMMS","mediaSource","getTimeRanges","ranges","TimeRanges","OP_NAME","APPEND","REMOVE","UPDATE_DURATION","MSE","MSE2","_this2","queue","_queue","op","opName","_this2$_sourceBuffer$","_op$context","costtime","_opst","_sourceBuffer","_startQueue","_config","bindMedia","openLog","_this$mediaSource","_this3","_url","_this$mediaSource2","streaming","_mseFullFlag","VIDEO","_this4","isReduceDuration","bufferEnd","_enqueueBlockingOp","_this5","_openPromise","isOpened","ms","onOpen","onOpen2","_st","_bindMedia","_callee","MediaSource2","useMMS","_this6","_context","unbindMedia","_onStartStreaming","_onEndStreaming","disableRemotePlayback","_unbindMedia","_callee2","hasMetadata","mseOpen","_this7","_context2","_x$promise","_x$promise$resolve","endOfStream","removeSourceBuffer","sb","addSourceBuffer","_onSBUpdateEnd","_onSBUpdateError","_this8","changeType","_enqueueOp","createSource","buffer","_this9","byteLength","_this9$_sourceBuffer$","appendBuffer","endTime","_this10","isInsertHead","_this11","_this12","allClear","_this$_queue$type","initQueue","isinit","_this13","setLiveSeekableRange","_this14","_enqueueBlockingOp2","_callee3","types","waiters","_this15","_context3","prom","updating","_x2","_x3","_x4","isFull","timestampOffset","_this16","_this17","abort","EVENT","TTFB","LOAD_RESPONSE_HEADERS","LOAD_COMPLETE","LOAD_RETRY","SOURCEBUFFER_CREATED","MEDIASOURCE_OPENED","ANALYZE_DURATION_EXCEEDED","APPEND_BUFFER","REMOVE_BUFFER","BUFFEREOS","KEYFRAME","CHASEFRAME","METADATA_PARSED","SEI","SEI_IN_TIME","FLV_SCRIPT_DATA","LOWDECODE","SWITCH_URL_SUCCESS","SWITCH_URL_FAILED","SPEED","HLS_MANIFEST_LOADED","HLS_LEVEL_LOADED","DEMUXED_TRACK","STREAM_EXCEPTION","LARGE_AV_FIRST_FRAME_GAP_DETECT","LARGE_VIDEO_DTS_GAP_DETECT","LARGE_AUDIO_DTS_GAP_DETECT","AUDIO_GAP_DETECT","AUDIO_OVERLAP_DETECT","MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT","isMediaPlaying","creationTime","webkitDroppedFrameCount","webkitDecodedFrameCount","concatUint8Array","prevLen","sleep","SeiService","SeiService2","Set","sei","_seiSet","toThrow","GapService","GapService2","maxJumpDistance","seekThreshold","_prevCurrentTime","Stats2","timescale","_timescale","encodeType","audioCodec","videoCodec","fps","samplerate","channelCount","gop","encode","_ref","_data$onMetaData","onMetaData","framerate","track","codec","fpsNum","fpsDen","sampleRate","responseUrl","samples","sample","_startGopId","gopId","_bitsAccumulateDuration","_bitsAccumulateSize","units","MediaStatsService","MediaStatsService2","core","_core","_this$_core","_this$_core2","_this$_core2$speedInf","_this$_core3","_this$_core3$speedInf","_this$_core4","_this$_core4$speedInf","_this$_core5","_this$_core5$speedInf","_this$_core6","_this$_core6$bufferIn","_ref2","_ref2$currentTime","_ref2$decodeFps","decodeFps","downloadSpeed","speedInfo","totalReceivedByte","totalSize","totalReceivedCost","totalCost","bufferInfo","_ref3","videoTrack","updateBitrate","setFpsFromScriptData","setVideoMeta","setAudioMeta","setDomain","_samples","TrackType","AUDIO","METADATA","VideoCodecType","AV1","AVC","HEVC","AudioCodecType","AAC","G711PCMA","G711PCMU","OPUS","WarningType","LARGE_AV_SHIFT","LARGE_VIDEO_GAP","LARGE_VIDEO_GAP_BETWEEN_CHUNK","LARGE_AUDIO_GAP","AUDIO_FILLED","AUDIO_DROPPED","AudioSample","AudioSample2","pts","sampleOffset","dependsOn","isNonSyncSample","originPts","dts","isFirefox","AAC2","FREQ","skip","frames","samplingFrequencyIndex","protectionSkipBytes","frameLength","objectType","_AAC$_getConfig","_getConfig","frameIndex","getFrameDuration","subarray","originCodec","_AAC$_getConfig2","samplingIndex","originObjectType","extensionSamplingIndex","LARGE_AV_FIRST_FRAME_GAP","AUDIO_GAP_OVERLAP_THRESHOLD_COUNT","MAX_SILENT_FRAME_DURATION","AUDIO_EXCETION_LOG_EMIT_DURATION","MAX_VIDEO_FRAME_DURATION","MAX_DTS_DELTA_WITH_NEXT_CHUNK","LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD","TsFixer","TsFixer2","audioTrack","metadataTrack","fixerConfig","_baseDts","_baseVideoDts","_baseAudioDts","_baseDtsInited","_audioNextPts","_videoNextDts","_audioTimestampBreak","_videoTimestampBreak","_lastAudioExceptionGapDot","_lastAudioExceptionOverlapDot","_lastAudioExceptionLargeGapDot","_needForceFixLargeGap","forceFixLargeGap","_largeGapThreshold","largeGapThreshold","discontinuity","contiguous","vSamples","aSamples","firstVideoSample","firstAudioSample","vaDelta","_calculateBaseDts","vDeltaToNextDts","aDeltaToNextDts","_resetBaseDtsWhenStreamBreaked","_fixAudio","_fixVideo","exist","seiSamples","baseMediaDecodeTime","samp0","_samples$","refSampleDurationInt","sampleDuration","firstSample","nextSample","vDelta","warnings","nextDts","firstSampleDts","nextSampleDts","i2","_samples$i","prevDts","first","_dts","_nextSample","expectFragEnd","originDts","refSampleDuration","_doFixAudioInternal","audioSamps","videoSamps","audioBasePts","videoBaseDts","baseDts","delta","largeGap","isFinite","calc","_audioLastSample","_videoLastSample","nextPts","silentFrame","getSilentFrame","count","silentSample","MAX_SIZE","pow","readBig16","readBig24","readBig32","readBig64","getAvcCodec","codecs","combineToFloat","integer","decimal","toDegree","matrix","scaled0","hypot","scaled1","atan2","PI","NALu","NALu2","dataLen","isHevc","uint","emulationPreventionBytesPositions","newLength","newData","sourceIndex","ExpGolomb","ExpGolomb2","_bytesAvailable","_loadWord","_bitsAvailable","availableBytes","workingBytes","_word","DataView","getUint32","skipBytes","bits","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","deltaScale","lastScale","nextScale","readEG","AVC2","spsParsed","spsSize","nalUnitSize","spsArr","ppsArr","spsCount","sps","parseSPS","removeEPB","ppsSize","ppsCount","eg","readUByte","profileIdc","profileCompatibility","levelIdc","skipUEG","chromaFormat","chromaFormatIdc","readBool","scalingListCount","skipScalingList","picOrderCntType","numRefFramesInPicOrderCntCycle","_i2","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","sarRatio","fixedFrame","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","aspectRatioIdc","numUnitsInTick","timeScale","HEVC2","hvcC","vpsParsed","nalUnitType","numNalus","nalSize","vpsArr","numOfArrays","vps","parseVPS","vpsMaxSubLayersMinus1","numTemporalLayers","_parseProfileTierLevel","spsMaxSubLayersMinus1","temporalIdNested","separateColourPlaneFlag","confWinLeftOffset","confWinRightOffset","confWinTopOffset","confWinBottomOffset","conformanceWindowFlag","bitDepthLumaMinus8","bitDepthChromaMinus8","subWidthC","subHeightC","maxSubLayersMinus1","generalTierFlag","generalProfileSpace","generalProfileIdc","generalProfileCompatibilityFlags","generalConstraintIndicatorFlags","generalLevelIdc","subLayerProfilePresentFlag","subLayerLevelPresentFlag","bitsAvailable","VideoTrack","VideoTrack2","sequenceNumber","present","pps","isVideoEncryption","AudioTrack","AudioTrack2","isAudioEncryption","VideoSample","VideoSample2","keyframe","Sample","Sample2","SeiSample","_Sample2","SeiSample2","_super2","MetadataTrack","MetadataTrack2","flvScriptSamples","TsDemuxer","TsDemuxer2","_fixer","_pmtId","_remainingPacketData","_videoPesData","_audioPesData","remainingLength","videoPid","audioPid","payloadUnitStartIndicator","adaptationFiledControl","tableEnd","programInfoLength","esPid","_parseVideoData","_parseAudioData","formatTimescale","fix","demux","pes","_parsePES","parseAnnexB","_createVideoSample","setToKeyframe","_gopId","parseSEI","spsInfo","ffByteFound","_pushVideoSample","lastSample","_parseAacData","_track$samples","parseADTS","sampleRateIndex","headerDataLen","startPrefix","pesLen","ptsDtsFlags","ByteReader","ByteReader2","dv","byteOffset","byteNum","getFloat32","getFloat64","getInt8","getInt16","getInt32","getUint8","getUint16","read","setUint8","setUint16","setUint32","uint8","unreadLength","fromCharCode","v","concatUint8s","BitReader","BitReader2","byte","MP4Parser","MP4Parser2","headerSize","subData","findBox","box","parseBox","trackId","baseDataOffsetPresent","flags","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","baseDataOffset","sampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","reference_ID","earliest_presentation_time","first_offset","references","ref","tmp32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","mvhd","trak","pssh","nextTrackId","tkhd","mdia","fromUint8","int32","caculatedMatrix","readInt","rotation","mdhd","hdlr","minf","handlerType","vmhd","smhd","stbl","graphicsmode","opcolor","balance","_ret$stsd$entries$","_ret$stsd$entries$$si","_ret$stsd$entries$$si2","stsd","stts","ctts","stsc","stsz","stco","co64","default_IV_size","sinf","schi","tenc","stss","senc","iv","sampleCount","InitializationVector","subsamples","subsampleCount","_j","subsample","BytesOfClearData","BytesOfProtectedData","keyIds","systemId","toHex","numKeyIds","keyId","dataSize","data_size","kid","system_id","entryCount","av01","avc1","hvc1","mp4a","alaw","ret2","data2","start2","samplesize","esds","horizresolution","vertresolution","avcC","pasp","default_IsEncrypted","default_KID","frma","data_format","colorType","readString","colorPrimaries","transferCharacteristics","matrixCoefficients","fullRangeFlag","iccProfile","readToUint8","bodyStart","parseVisualSampleEntry","bodyData","av1C","colr","bitdepth","bit","fromByte","marker","seqProfile","seqLevelIdx0","seqTier0","highBitdepth","twelveBit","monochrome","chromaSubsamplingX","chromaSubsamplingY","chromaSamplePosition","reserved","initialPresentationDelayPresent","initialPresentationDelayMinusOne","configOBUs","configurationVersion","AVCProfileIndication","AVCLevelIndication","lengthSizeMinusOne","spsLength","ppsLength","_i3","_size","tmp","generalProfileCompatibility","avgFrameRate","_ret$vps","nalus","_ret$sps","_ret$pps","hSpacing","vSpacing","parseAudioSampleEntry","byteRead","_i4","firstChunk","samplesPerChunk","sampleSize","entrySizes","mfhd","traf","tfhd","tfdt","trun","dataOffset","firstSampleFlags","cts","isLeading","isDependedOn","hasRedundancy","paddingValue","degradationPriority","moov","_e$esds","_e$esds2","tracks","vTrack","_t$mdia","_t$mdia$hdlr","aTrack","_t$mdia2","_t$mdia2$hdlr","_vTrack$tkhd","_vTrack$mdia","_vTrack$mdia$minf","_vTrack$mdia$minf$stb","_vTrack$mdia2","_vTrack$mdia2$minf","_vTrack$mdia2$minf$st","_vTrackId","tkhdDuration","mvhdDurtion","mvhdTimecale","_e1$sinf","_e1$sinf$schi","_e1$sinf2","_e1$sinf2$schi","_e1$sinf3","_e1$sinf3$schi","_e1$sinf4","_e1$sinf4$frma","e1","videoSenc","useEME","kidValue","encv","_aTrack$tkhd","_e$esds3","_e$esds4","_aTrack$mdia","_aTrack$mdia$minf","_aTrack$mdia$minf$stb","_aTrack$mdia2","_aTrack$mdia2$minf","_aTrack$mdia2$minf$st","_aTrackId","_e$sinf","_e$sinf$frma","_e$sinf2","_e$sinf2$schi","_e$sinf3","_e$sinf3$schi","_e$sinf4","_e$sinf4$schi","getRateIndexByRate","audioSenc","enca","_videoTrack$encv","_audioTrack$enca","vkid","akid","videoSampleCount","_audioTrack$samples","audioSampleCount","segmentDuration","moof","defaultSize","defaultDuration","evaluateDefaultDuration","_t$mdia3","_t$mdia3$hdlr","_t$mdia4","_t$mdia4$hdlr","videoSamples","audioSamples","_vTrack$mdia3","_vTrack$mdia3$minf","videoStbl","getSamples","_aTrack$mdia3","_aTrack$mdia3$minf","_aTrack$mdia$mdhd","audioStbl","_stts","_stsc","_stsz","_stco","keyframeMap","cttsArr","cttsEntries","stscEntries","stcoEntries","stszEntrySizes","stssEntries","chunkIndex","chunkRunIndex","offsetInChunk","lastSampleInChunk","lastChunkInRun","dataReferenceIndex","frameCount","isFullBox","Decryptor","Decryptor2","crypto","msCrypto","subtle","webkitSubtle","externalDecryptor","_this$externalDecrypt","_decryptSegment","_decryptSegment2","seg","_decryptData","keyIv","_decryptData2","aesKey","decrypt","importKey","t0","t1","_x5","_x6","_x7","FMP4Demuxer","FMP4Demuxer2","partData","partDataStart","videoExist","audioExist","isAV01","dataStart","__lastRemainData","lastRemainDataEnd","__lastRemainDataStart","continuous","noDuplicateData","__nextMoofStart","moovBox","dataEnd","moovToTrack","moofBoxes","moofBox","__loadedMoofWraps","nextMoofStart","_iterator","_loop","moofWrap","moofStart","moofToSamples","videoBaseMediaDecodeTime","audioBaseMediaDecodeTime","xStart","sampleData","videoData","audioData","baseOffset","_moovBox","_moofBox","_baseOffset","probe","Concat","ResultConstructor","arrays","UINT32_MAX","MP42","FTYPHEV1","FTYPAVC1","ftyp","content","mvex","mvhd2","trak2","tkhd2","mdia2","mdhd2","hdlr2","HDLR_TYPES","minf2","VMHD","SMHD","DINF","extBox","stbl2","STTS","STSC","STSZ","STCO","opus","avc1hev1","stsd2","_concat$concat","avcc","btrt","schm","typ","boxes","fiel","_concat$concat2","hvcC2","ArrayBuffer","pcf","cif","write","_ref4","esds2","opusAudioDescription","opusSpecificConfig","dOps","Opus","mvex2","trex","trex2","moof2","mfhd2","sencLength","videoSencLength","saiz","saio","trun1","traf2","_sbgp","sbgp","_saiz","_saio","_senc","_trun2","_traf","_trun","_trun3","_sbgp2","_saiz2","_saio2","_senc2","_trun4","_traf2","sdtp","extension","writeUint32","samplesLength","writeUint16","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","sampleLen","_samples$i$flag","_samples$i$cts","trackMP4","mdiaMP4","minfMP4","stblMP4","_ref5","_ref6","sampleDescIndex","samplesSizes","offsets","keyframeIndexes","_ref7","styp","durationCount","earliestTime","mdatSize","sidx","mdat2","mdat","dinf","dref","StblTable","FMP4Remuxer","FMP4Remuxer2","browserVersions","forceFirstIDR","videoInitSegment","audioInitSegment","initSegment","videoSegment","audioSegment","createInit","hasVideo","hasAudio","initMerge","hasSample","_remuxVideo","_remuxAudio","mdata","_sample","mdatView","_offset2","_sample2","u","_offset","STREAM_PARSED","NO_AUDIO_TRACK","SUBTITLE_SEGMENTS","SUBTITLE_PLAYLIST","SEI_PAYLOAD_TIME","APPEND_COST","Transmuxer","Transmuxer2","hls","isMP4","needRemux","_demuxer","_isMP4","_remuxer","videoChunk","audioChunk","needInit","demuxer","demuxAndFix","vParsed","firstDts","firstPts","samplesDuration","aParsed","newId","_initSegmentId","_fireEvents","mseLowLatency","totalDuration","_this$_remuxer$remux","remux","logCC","meta","_excluded","_excluded2","BufferService","BufferService2","softDecode","_softVideo","_mse","decryptor","_decryptor","_this$_transmuxer","_this$_transmuxer$_de","_this$_transmuxer$_de2","_transmuxer","_this$_mse","_this$_mse2","_this$_mse3","hasOpTasks","_this$_mse4","_updateDuration","_sourceCreated","chunk","_directAppend","mix","_createMseSource","_appendBuffer","segment","afterAppend","_this$_transmuxer$tra","_this$_transmuxer$tra2","isFirstAppend","videoRest","audioRest","_this2$hls","_this2$hls2","_needInitSegment","transmux","setTrackExist","_handleCodecChange","task","_x8","_removeBuffer","_args3","clearBuffer","removeEnd","removeBuffer","_evictBuffer","_callee4","bufferBehind","_context4","evictBuffer","_x9","_clearAllBuffer","_callee5","_context5","clearAllBuffer","_callee6","reuseMse","_args6","_context6","_endOfStream","_callee7","_context7","_setLiveSeekableRange","_callee8","_context8","_x10","_x11","_detachMedia","_callee9","_context9","detachMedia","_destroy","_callee10","_this$_decryptor","_context10","tasks","codecList","sourceBuffer","getSourceBuffer","_this$_mse5","getConfig","cfg","maxPlaylistSize","retryCount","retryDelay","pollRetryCount","loadTimeout","manifestLoadTimeout","preloadTime","useLowLatency","targetLatency","maxLatency","allowedStreamTrackChange","seiInTime","manifestList","minSegmentsStartPlay","preferMMSStreaming","LoaderType","FETCH","XHR","ResponseType","ARRAY_BUFFER","NetError","NetError2","isPlainObject","isDate","getRangeValue","setUrlParams","hashIndex","createResponse","contentLength","age","firstByteTime","priOptions","calculateSpeed","byteLen","milliSecond","CACHESIZE","FetchLoader","_EventEmitter","FetchLoader2","_this$_abortControlle","onProgress","onTimeout","onCancel","transformResponse","credentials","cache","redirect","referrer","referrerPolicy","onProcessMinLen","_aborted","_onProcessMinLen","_onCancel","_abortController","AbortController","_running","_range","_vid","_priOptions","signal","_timeoutTimer","rangeValue","Headers","fetch","_response","ok","json","_loadChunk","arrayBuffer","_cancel","_reader","st","getReader","_writeIdx","pump","_this3$_range","startRange","startByte","curLen","retData","temp","_receivedLength","loaderType","onRetryError","transformRequest","transformError","integrity","XhrLoader","XhrLoader2","req","_onProgress","_headers","_withCredentials","_body","_method","_timeout","_runing","_responseType","_firstRtt","_onTimeout","_request","_loadCompleteResolve","_loadCompleteReject","_startLoad","chunkSize","_currentChunkSizeKB","_internalOpen","_startTime","_xhr","withCredentials","_onLoad","_onReadyStatechange","errorEvent","_errorEvent$currentTa","_errorEvent$currentTa2","_errorEvent$currentTa3","currentTarget","statusText","ontimeout","_this$_range","byteStart","_this$_range2","responseURL","_getHeaders","_transformResponse","headerLines","getAllResponseHeaders","header","Task","Task2","alive","_loaderType","_loader","_retryCount","_retryTimer","_canceled","_retryCheckFunc","retryCheckFunc","_this$_config","rest","isRetry","running","NetLoader","NetLoader2","_currentTask","_processTask","cancels","_alive","finally","_this3$_currentTask","_this3$_alive","MasterPlaylist","MasterPlaylist2","MediaType","Audio","Video","SubTitle","ClosedCaptions","KeySystems","CLEAR_KEY","FAIRPLAY","WIDEVINE","PLAYREADY","flatArray","MediaStream","MediaStream2","AudioStream","_MediaStream","AudioStream2","SubTitleStream","_MediaStream3","SubTitleStream2","_super3","MasterStream","MasterStream2","MediaPlaylist","MediaPlaylist2","MediaSegment","MediaSegment2","parentUrl","prevSegment","byteRange","bytes","MediaSegmentKey","MediaSegmentKey2","segKey","keyFormat","keyFormatVersions","sn","setIVFromSN","isKeyFormatValid","isMethodValid","isSegmentEncrypted","isValidKeySystem","REGEXP_TAG","REGEXP_ATTR","REGEXP_ABSOLUTE_URL","REGEXP_URL_PAIR","getLines","parseTag","parseAttr","getAbsoluteUrl","pairs","CODECS_REGEXP","getCodecs","re","isValidDaterange","dateRangeWithSameId","_badValueForSameId","DURATION","_endDate","_startDate","cue","enumeratedStringList","CUE","post","ID","END_ON_NEXT","CLASS","attrValue","dict","parseMasterPlaylist","lines","master","audioStreams","subtitleStreams","_tag","stream","TYPE","URI","autoSelect","AUTOSELECT","NAME","LANGUAGE","CHANNELS","channels","_stream","_attr","BANDWIDTH","RESOLUTION","_attr$RESOLUTION$spli","_attr$RESOLUTION$spli2","CODECS","textCodec","audioGroup","subtitleGroup","SUBTITLES","streams","stream2","parseMediaPlaylist","curSegment","curInitSegment","curKey","curSN","curCC","endOfList","partSegmentIndex","targetDuration","lowLatency","partTargetDuration","canBlockReload","partHoldBack","canSkipUntil","canSkipDateRanges","startSN","startCC","setByteRange","_attr2","independent","cc","partIndex","clone","dataTime","_data$split","_data$split2","_attr3","METHOD","KEYFORMAT","KEYFORMATVERSIONS","IV","_attr4","BYTERANGE","isInitSegment","_attr5","skippedSegments","MAX_SAFE_INTEGER","_attr6","dateRanges","endDate","END_DATE","lastSegment","isLast","endSN","endPartIndex","live","endCC","M3U8Parser","M3U8Parser2","isMediaPlaylist","ManifestLoader","ManifestLoader2","elapsed","retryTime","_useLowLatency","_this$hls$config","fetchOptions","_onLoaderRetry","_audioLoader","_subtitleLoader","_load","audioUrl","subtitleUrl","toLoad","videoText","audioText","subtitleText","videoResUrl","audioResUrl","subtitleResUrl","_yield$Promise$all","_yield$Promise$all2","subtitle","_audio$response","_subtitle$response","_audio$response2","onPreM3U8Parse","playlist","audioPlaylist","subtitlePlaylist","_playlist","_emitOnLoaded","isMaster","_playlist2","cb","errorCb","clamp","Stream","Stream2","_setLLPlaybackPoint","_this$segments$","_this$lastSegment","lastSeg","_this$currentSubtitle","currentSubtitleStream","currentAudioStream","_clearSegments","snDiff","_updateSegments","newSegs","segs","toSwitch","maxStartPoint","usefulSegs","sliceStart","segObj","_endSeg$sn","endSeg","hasNew","toAppend","endTimeBeforeAppend","lastCC","Playlist","Playlist2","_this$currentStream","currentStream","_this$currentStream2","_this$currentSegments","currentSegments","_segmentPointer","_this$currentSegments2","_this$currentStream3","_this$currentStream4","currentSubtitleEndSn","_this$currentStream5","liveEdge","_this$currentStream6","_this$currentSegments3","_this$currentSegments4","_this$currentStream7","_this$currentStream8","_this$currentStream9","getAudioSegment","_this$currentSegments5","dvrWindow","_this$currentSegments6","_this$currentSegments7","setNextSegmentByIndex","newSubtitleSegs","updateSubtitle","_this$currentSegments8","_this$currentStream10","switchSubtitle","clearOldSegment","nbSb","findSegmentIndexByTime","getSegmentByIndex","updateSegmentsRanges","SKIP_SMALL_CHUNK","MAX_CHUNK_SAVE_SIZE","MAX_SEGMENT_SAVE_SIZE","LONGTIME_NO_RECEIVE","BandwidthService","BandwidthService2","opts","_opts","totalByte","_speeds","_this$_opts","_this$_opts2","skipChunkSize","_totalSize","_totalCost","_chunkSpeed","_chunkCache","chunkCountForSpeed","_this$_opts3","cost","longtimeNoReceived","SegmentLoader","SegmentLoader2","_bandwidthService","addRecord","_mapCache","_keyCache","_segmentLoader","_audioSegmentLoader","_keyLoader","getLatestSpeed","getAvgSpeed","audioSeg","loadInit","loadAudioInit","loadVideoSegment","loadAudioSegment","_loadSegment","_loadSegment2","segLoader","_seg$key","mapKey","mapKeyIv","_seg$initSegment$key","mapUrl","_keyUrl","keyUrl","Hls","Hls2","_cfg","_this$_playlist","nextSegment","_assertThisInitialize","minFrameDuration","maxBufferThroughout","bInfo","bufferThroughout","_segmentProcessing","_tryEos","_bufferService","msStreaming","_urlSwitching","_prevSegSn","_loadSegmentDirect","_disconnectTimer","_reloadOnPlay","disconnectTime","_clear","seekRange","newSeekTime","curSeg","segIndex","_onCheckQuotaExceeded","currentSegment","_this$_seiService","latency","_seiService","throw","_checkStreamTrackChange","segLoaderError","_isProcessQuotaExceeded","bufferMaxHoleTolerance","fatal","_emitError","_gapService","do","_manifestLoader","_onLoadeddata","_onPause","hasSubtitle","_this$_bufferService","targetSeg","_this$media","_args4","clearSwitchStatus","_switchUrlOpts","_loadData","_loadData2","manifest","_this$_switchUrlOpts","_this$_switchUrlOpts3","_this$_switchUrlOpts4","_this$_switchUrlOpts2","switchTimePoint","segIdx","nextSeg","bufferClearStartPoint","_this$_switchUrlOpts5","_loadM3U8","setNextSegmentBySN","_prevSegCc","_getSeamlessSwitchPoint","nbSegments","_pollM3U8","_replay","isPlayEmit","_switchURL","defaultOpts","_options","appended","_args7","t2","seamlessSwitch","_switchStream","force","curStream","curId","_args8","_refreshM3U8","switchStream","_switchAudioStream","audioStream","_args9","switchAudioStream","_switchSubtitleStream","stopPoll","switchSubtitleStream","_callee11","_context11","_callee12","_this$_seiService2","_context12","_loadM3U","_callee13","_this$config$manifest","_this$config$manifest2","_this$_playlist$curre","_context13","parseText","upsertPlaylist","_stream$currentAudioS","_stream$currentSubtit","mediaPlaylist","pollInterval","_this$_playlist$lastS","isEmpty","poll","p1","p3","switchToNoEmpty","hadSegmentLoaded","_loadSegmentDirect2","_callee14","loadOnce","cachedError","_this$_playlist$curre2","sameStream","_context14","_reqAndBufferSegment","feedbackLiveEdge","moveSegmentPointer","_reqAndBufferSegment2","_callee15","_this$_bufferService2","responses","before","segStart","_context15","decryptBuffer","_onCheckQuotaExceeded2","_callee16","inBuffered","mediaTime","_context16","changedSeg","checkSegmentTrackChange","_clear2","_callee17","_context17","_reset2","_callee18","_this$_seiService3","_args18","_context18","_tickTimer","_tick","_tickInterval","_error$originError","_this$media2","_this$media3","_this$_seiService4","nextLoadPoint","_this$_stats","latestKbps","_this$_bufferService3","_this$_bufferService4","_this$_playlist2","eosAllowed","isBuffered","msIsOpened","msHasOpTasks","WebAssembly","Logger$1","localStorage","getItem","enableLogger","disableLogger","PluginExtension","PluginExtension2","_this$_plugin","_this$_plugin$player","_this$_plugin2","_this$_plugin2$player","innerDegrade","degradeInfo","_degrade","originVideo","TAG","newVideo","degradeVideo","degrade","replaceChild","hlsPlugin","_init","setPlayMode","_onLowDecode","_this$_opts3$media","parseSwitchUrlArgs","HlsPlugin","_BasePlugin","HlsPlugin2","_this$hls","_this$hls2","_this$hls3","_this$player","_this$player$config","hlsOpts","__allowHlsEmptyUrl__","isMMSOnly","_this2$player$config","_this2$player$config$","keepStatusAfterSwitch","_keepPauseStatus","_this$player2","onSwitchUrl","_this2$hls$media","pluginExtension","forceDegradeToVideo","_this2$pluginExtensio","_onSwitchSubtitle","_transError","_transCoreEvent","_this$pluginExtension","_emitSeiPaylodTime","seiJson","components","Title","Card","Pagination","relatedMap","moreRelatedMap","pageSize","mapState","ads","common","menus","nv","$route","query","initData","mapActions","toggleLoading","getVideos","moment","getVideoInfo","api","initPlayer","getMenuInfo","classifyInfo","rows","$router","videoCover","dispose","$nextTick","beforeUnmount"],"sourceRoot":""}