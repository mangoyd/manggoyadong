{"version":3,"file":"js/576.fe0875a7.js","mappings":"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CA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,OAEF,OAAOq9F,CACT,GACC,CACD94G,IAAK,OACLmH,MAAO,SAAcqrF,GACnB,IAAIumB,EAAQP,EAAKrR,IAAIqR,EAAKvqB,MAAM6a,KAAM0P,EAAKvP,KAAKzW,EAAMzyF,GAAIyyF,EAAMke,cAAgB,EAAGle,EAAMz8E,MAAOy8E,EAAMx8E,QAASwiG,EAAKtP,KAAK1W,IACzH,OAAOumB,CACT,GACC,CACD/4G,IAAK,OACLmH,MAAO,SAAcpH,EAAI0b,GACvB,IAAI1F,EAAQlf,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EACzEmf,EAASnf,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EAC1EmiH,EAAQR,EAAKrR,IAAIqR,EAAKvqB,MAAMgb,KAAM,IAAIxuG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAsF,GAAM,GAAK,IACXA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA0b,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA1F,GAAS,EAAI,IACL,IAARA,EACA,EACA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,KAEF,OAAOgjG,CACT,GACC,CACDh5G,IAAK,OACLmH,MAAO,SAAcqrF,GACnB,IAAIymB,EAAQT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ACA,EACA,IACA,IACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,IACA,EACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,GACA,IAGJ,OAAOwgH,EAAKrR,IAAIqR,EAAKvqB,MAAM8S,KAAM,IAAItmG,WAAWzC,GAClD,GACC,CACDgI,IAAK,OACLmH,MAAO,SAAcotF,GACnB,IAAIumB,EAAQ/4B,GAAewS,EAAO,GAAI0Z,EAAW6M,EAAM,GAAI5M,EAAW4M,EAAM,GAC5E,OAAOtC,EAAKrR,IAAIqR,EAAKvqB,MAAM0e,KAAM,IAAIlyG,WAAW,CAACwzG,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,EAAgBC,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,IACzL,GACC,CACDluG,IAAK,OACLmH,MAAO,SAAcqrF,GACnB,OAAOgmB,EAAKrR,IAAIqR,EAAKvqB,MAAMie,KAAM,IAAIzxG,WAAW,CAC9C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA+3F,EAAMN,aACN,EACA,GACA,EACA,EACA,EACA,EACAM,EAAMI,YAAc,EAAI,IACL,IAAnBJ,EAAMI,WACN,EACA,IACEJ,EAAMvnF,OAAO5R,OAASm/G,EAAKjM,KAAK/Z,EAAMvnF,aAAU,EACtD,GACC,CACDjL,IAAK,OACLmH,MAAO,SAAc8D,GACnB,IAAI5L,EAAM4L,EAAO5R,OACb0hH,EAAQvC,EAAKrR,IAAIqR,EAAKvqB,MAAMse,KAAM,IAAI9xG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,GAAK4E,EACL,EACA,EACA,EACA,EACA,GAAKA,EACL,GACA,GACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,EACA,IACA,IACA,GACAb,OAAO,CAACa,IAAMb,OAAOyM,GAAQzM,OAC7B,CAAC,EAAG,EAAG,MAET,OAAOu8G,CACT,GACC,CACD/6G,IAAK,OACLmH,MAAO,SAAcuoG,GACnB,IAAIsL,EAAQxC,EAAKrR,IAAIxwG,MAAM6hH,EAAM,CAACA,EAAKvqB,MAAM4qB,MAAMr6G,OAAO6K,GAAmBqmG,EAAOn4G,KAAI,SAASu+B,GAC/F,OAAO0iF,EAAKyC,KAAKnlF,EAAE/1B,GACrB,OACA,OAAOi7G,CACT,GACC,CACDh7G,IAAK,OACLmH,MAAO,SAAcpH,GACnB,IAAIm7G,EAAQ1C,EAAKrR,IAAIqR,EAAKvqB,MAAMgtB,KAAM,IAAIxgH,WAAW,CACnD,EACA,EACA,EACA,EACAsF,GAAM,GACNA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,KAEF,OAAOm7G,CACT,GACC,CACDl7G,IAAK,QACLmH,MAAO,SAAepH,GACpB,IAAIk7G,EAAOzC,EAAKrR,IAAIqR,EAAKvqB,MAAMgtB,KAAM,IAAIxgH,WAAW,CAClD,EACA,EACA,EACA,EACAsF,GAAM,GACNA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,KAEF,OAAOk7G,CACT,GACC,CACDj7G,IAAK,QACLmH,MAAO,SAAepH,GACpB,IAAIk7G,EAAOzC,EAAKrR,IAAIqR,EAAKvqB,MAAMgtB,KAAM,IAAIxgH,WAAW,CAClD,EACA,EACA,EACA,EACAsF,GAAM,GACNA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL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WAAW,GAAIwgB,EAAExgB,WAAW,GAAIwgB,EAAExgB,WAAW,GAAIwgB,EAAExgB,WAAW,IACjEkN,CACT,GAAmB/K,OAAOkB,OAAO,QACjC8H,GAAgBu/E,GAAK,aAAc,CACjC5qE,MAAO,IAAIhgB,WAAW,CACpB,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IAEF4lB,MAAO,IAAI5lB,WAAW,CACpB,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,MAGJqL,GAAgBu/E,GAAK,WAAYA,GAAI8hB,IAAI9hB,GAAI4I,MAAM0qB,KAAM,IAAIl+G,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,OAEFqL,GAAgBu/E,GAAK,WAAYA,GAAI8hB,IAAI9hB,GAAI4I,MAAM0qB,KAAM,IAAIl+G,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,OAEFqL,GAAgBu/E,GAAK,OAAQA,GAAI8hB,IAAI9hB,GAAI4I,MAAMqwB,KAAMj5B,GAAI8hB,IAAI9hB,GAAI4I,MAAMswB,KAAM,IAAI9jH,WAAW,CAC1F,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,GACA,EACA,EACA,EACA,OAEFqL,GAAgBu/E,GAAK,OAAQA,GAAI8hB,IAAI9hB,GAAI4I,MAAMsb,KAAM,IAAI9uG,WAAW,CAClE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,E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","sources":["webpack://new-web/./node_modules/_delegate@3.2.0@delegate/src/closest.js","webpack://new-web/./node_modules/_delegate@3.2.0@delegate/src/delegate.js","webpack://new-web/./node_modules/_downloadjs@1.4.7@downloadjs/download.js","webpack://new-web/./node_modules/_eventemitter3@4.0.7@eventemitter3/index.js","webpack://new-web/./src/views/info/index.vue","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/utils/debug.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/utils/xgplayerTimeRange.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/utils/util.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/utils/sniffer.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/version.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/error.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/events.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/mediaProxy.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/utils/database.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/constant.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugin/hooksDescriptor.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugin/basePlugin.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugin/plugin.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugin/resizeObserver.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugin/pluginsManager.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/stateClassMap.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/defaultConfig.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugin/preset.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/lang/en.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/lang/i18n.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/state.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/player.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/controls/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/logger/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/replay.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/replay/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/poster/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/play.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/pause.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/start/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/enter/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/common/iconTools.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/miniScreen/miniScreenIcon.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/utils/draggabilly.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/miniScreen/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/pc/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/mobile/touch.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/seekicon.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/mobile/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/keyboard/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/loading.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/loading/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/progress/innerList.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/progress/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/common/iconPlugin.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/play/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/back.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/fullscreen/backicon.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/requestFull.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/exitFull.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/fullscreen/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/time/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/time/timesegments.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/volumeLarge.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/volumeSmall.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/volumeMuted.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/volume/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/rotate.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/rotate/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/pipIcon.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/pipIconExit.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/pip/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/playNext.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/playNext/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/download.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/download/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/screenShot/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/common/optionList.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/common/optionsIcon.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/definition/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/playbackRate/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/requestCssFull.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/assets/exitCssFull.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/cssFullScreen/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/error/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/prompt/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/progressPreview/dotsApi.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/progressPreview/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/common/thumbnail.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/progress/miniProgress.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/dynamicBg/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/lang/zh-cn.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/stats/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/gapJump/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/waitingTimeoutJump/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/testspeed/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/plugins/fpsDetect/index.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/presets/default.js","webpack://new-web/./node_modules/_xgplayer@3.1.0-alpha.7@xgplayer/es/index.umd.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/buffer.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/error.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/env.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/logger.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/utils.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/mse.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/event.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/streaming-helper.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/services/sei.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/services/gap.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/services/stats.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/utils/logger.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/model/types.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/model/audio-sample.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/utils/env.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/codec/aac.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/mpeg-ts/fixer.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/utils/index.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/codec/nalu.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/utils/exp-golomb.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/codec/avc.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/codec/hevc.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/model/video-track.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/model/audio-track.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/model/video-sample.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/model/metadata-track.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/mpeg-ts/index.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/mp4/mp4-parser.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/buffer-service/decrypt/index.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/mp4/fmp4-demuxer.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/mp4/buffer.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/mp4/mp4.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/mp4/logger.js","webpack://new-web/./node_modules/_xgplayer-transmuxer@3.0.17@xgplayer-transmuxer/es/mp4/fmp4-remuxer.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/constants.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/buffer-service/transmuxer/index.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/buffer-service/index.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/config.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/net/types.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/net/error.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/is.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/net/helper.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/net/fetch.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/net/config.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/net/xhr.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/net/task.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/net/index.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/manifest-loader/parser/model.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/manifest-loader/parser/utils.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/manifest-loader/parser/master.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/manifest-loader/parser/media.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/manifest-loader/parser/index.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/manifest-loader/index.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/utils.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/playlist/stream.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/playlist/index.js","webpack://new-web/./node_modules/_xgplayer-streaming-shared@3.0.17@xgplayer-streaming-shared/es/services/bandwidth.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/segment-loader/index.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/hls/index.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/plugin-extension.js","webpack://new-web/./node_modules/_xgplayer-hls@3.0.17@xgplayer-hls/es/plugin.js","webpack://new-web/./src/views/info/index.vue?32b3"],"sourcesContent":["var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","<template>\r\n  <div class=\"info-container\">\r\n    <div class=\"info-wrapper\">\r\n      <div class=\"ads pc-hide\" style=\"padding-top: 0;margin-top: 0px;\">\r\n        <div class=\"ads-item\" v-for=\"item in _ads.slice(0, 8)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"video-location h5-hide\">\r\n        <div class=\"line\"></div>\r\n        <span class=\"link\" @click=\"goHome\">HOME</span>\r\n        <span class=\"arrow\">▷</span>\r\n        <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n        <span class=\"arrow\">▷</span>\r\n        {{data.title}}\r\n      </div>\r\n      <div class=\"video-info\">\r\n        <div class=\"h5-video-location pc-hide\">\r\n          <div class=\"line\"></div>\r\n          <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n          <span class=\"arrow\">▷</span>\r\n          {{data.title}}\r\n        </div>\r\n        <div id=\"mse\"></div>\r\n        <div class=\"video-wrapper\">\r\n          <div class=\"video-img\" id=\"video-info\"></div>\r\n        </div>\r\n        <div class=\"video-name\">\r\n           <span v-if=\"language == 'ko-KR'\">\r\n            {{data.title}}\r\n          </span>\r\n          <span v-if=\"language == 'en-US'\">\r\n            {{data.titleUs}}\r\n          </span>\r\n          <span v-if=\"language == 'zh-CN'\">\r\n            {{data.titleCn}}\r\n          </span>\r\n        </div>\r\n        <div class=\"info\">\r\n          <div class=\"viewed\">\r\n            <img src=\"@/assets/imgs/view.png\" alt=\"\">\r\n            <span>조회수 : {{data.watchTimes}}</span>\r\n          </div>\r\n          <div class=\"time\">\r\n            <img src=\"@/assets/imgs/flag.png\" alt=\"\">\r\n            <span>등록일 : {{formatTime(data.createdAt)}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"video-desc\" v-if=\"data.titleChinese\">\r\n          {{data.titleChinese}}\r\n        </div>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(0, 16).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(0, 16)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n<!--      <Title class=\"page-title h5-hide\" :name=\"relatedMap[language]\" :more=\"false\"></Title>-->\r\n      <div class=\"list\" v-if=\"videos.slice(0, 8).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(0, 8)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(16, 24).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(16, 24)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\" v-if=\"videos.slice(8, 16).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(8, 16)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(24,32).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(24,32)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\" v-if=\"videos.slice(16, 24).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(16, 24)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(32, 40).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(32, 40)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"more\" @click=\"goCategory\">{{moreRelatedMap[language]}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as api from '@/api'\r\n  import moment from 'moment';\r\n  import Card from \"@/components/Card.vue\";\r\n  import Title from \"@/components/Title.vue\";\r\n  import {mapActions,mapState} from 'vuex';\r\n  import 'video.js/dist/video-js.css';\r\n  import VideoJs from 'video.js';\r\n  import Player from 'xgplayer';\r\n  import 'xgplayer/dist/index.min.css';\r\n  import HlsPlugin from 'xgplayer-hls'\r\n  import MobilePreset from 'xgplayer/es/presets/mobile'\r\n  export default {\r\n    name: \"Info\",\r\n    components: {Title,Card},\r\n    data() {\r\n      return {\r\n        id: '',\r\n        data: {},\r\n        _ads: [],\r\n        videos: [],\r\n        player: null,\r\n        relatedMap: {\r\n          'ko-KR': '관련동영상',\r\n          'en-US': 'Related videos',\r\n          'zh-CN': '相关视频'\r\n        },\r\n        moreRelatedMap: {\r\n          'ko-KR': '관련 영상 더 보기',\r\n          'en-US': 'More related videos',\r\n          'zh-CN': '更多相关视频'\r\n        },\r\n        classifyName: '',\r\n        classifyId: '',\r\n        specialId: '',\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ads: state => state.common.ads,\r\n        menus: state => state.common.menus,\r\n        language: state => state.common.language,\r\n      }),\r\n    },\r\n    watch: {\r\n      '$route': {\r\n        handler(nv) {\r\n          if(nv.name == 'info') {\r\n            this.id = this.$route.query.id\r\n            this.initData();\r\n\r\n            this.classifyName = this.$route.query.classifyName\r\n            this.classifyId = this.$route.query.classifyId\r\n            this.specialId = this.$route.query.specialId\r\n          }\r\n        },\r\n        immediate: true\r\n      },\r\n      ads(nv) {\r\n        this._ads = JSON.parse(JSON.stringify(nv));\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions({\r\n        toggleLoading: 'common/toggleLoading',\r\n      }),\r\n      goAd(url) {\r\n        window.open(url)\r\n      },\r\n      formatTime(time) {\r\n        return moment(time).format('YYYY-MM-DD')\r\n      },\r\n      async getVideoInfo() {\r\n        this.toggleLoading(true);\r\n        try {\r\n          let {data, code} = await api.getVideoInfo({id: this.id})\r\n          if (code == 200) {\r\n            this.data = data;\r\n            this.initPlayer()\r\n            this.getMenuInfo()\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getMenuInfo() {\r\n        try {\r\n          let {data, code} = await api.getMenuInfo({id: this.data.classifyId})\r\n          if (code == 200) {\r\n            this.classifyInfo = data;\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getVideos() {\r\n        try {\r\n          let {rows, code} = await api.getVideos({\r\n            pageNum: 1,\r\n            pageSize: 20,\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId\r\n          })\r\n          if (code == 200) {\r\n            this.videos = rows\r\n          }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n        }\r\n      },\r\n      goHome() {\r\n        this.$router.push('index')\r\n      },\r\n      goCategory() {\r\n        this.$router.push({\r\n          name: 'category',\r\n          query: {\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId,\r\n            classifyName: ''\r\n          }\r\n        })\r\n      },\r\n      initPlayer() {\r\n        const config = {\r\n          \"id\": \"video-info\",\r\n          fluid: true,\r\n          volume: 0.9,\r\n          autoplay: false,\r\n          videoInit: true,\r\n          loop: true,\r\n          // playbackRate: [0.5, 0.75, 1, 1.5, 2],\r\n          defaultPlaybackRate: 1,\r\n          \"url\": this.data.video,\r\n          \"playsinline\": true,\r\n          \"poster\": this.data.videoCover,\r\n          \"plugins\": [HlsPlugin],\r\n          \"isLive\": false,\r\n          \"playbackRate\": [\r\n                    null\r\n          ],\r\n          \"rotate\": {\r\n                    \"clockwise\": true,\r\n                    \"innerRotate\": true\r\n          },\r\n          \"pip\": true,\r\n          rotateFullscreen: true\r\n        }\r\n        let player = new Player(config)\r\n        // setTimeout(() => {\r\n        // let player = new Player(config)},0)\r\n        // document.getElementById('video-info').innerHTML = `<video id=\"video-js\" class=\"video-js\"></video>`\r\n        // setTimeout(() => {\r\n        //   this.player = VideoJs(document.getElementById('video-js'), {\r\n        //     controls: true,\r\n        //     muted: true,\r\n        //     fluid: true,\r\n        //     reload: \"auto\",\r\n        //     poster: this.data.videoCover,\r\n        //     sources: [\r\n        //       {\r\n        //         src: this.data.video,\r\n        //         type: 'application/x-mpegURL',\r\n        //       },\r\n        //     ],\r\n        //   }, function onPlayerReady() {\r\n        //   })\r\n        // }, 0)\r\n      },\r\n      initData() {\r\n        if (this.player) {\r\n          this.player.dispose()\r\n        }\r\n        this.id = this.$route.query.id\r\n        this.getVideoInfo()\r\n        if (this.menus && this.menus.length) {\r\n          let count = (this.menus.length + 1) * 24 + 1;\r\n          let times = Math.ceil(count / this.ads.length);\r\n          let ads = [];\r\n          for (let i = 0;i < times;i++) {\r\n            ads = ads.concat(this.ads);\r\n          }\r\n          ads.shift()\r\n          this._ads = ads;\r\n        }\r\n        this.getVideos();\r\n      }\r\n    },\r\n    beforeUnmount() {\r\n      if (this.player) {\r\n        this.player.dispose()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .info-container{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .info-wrapper{\r\n      width: 100%;\r\n      padding-top: 23px;\r\n      .video-location{\r\n        background: #172231;\r\n        height: 48px;\r\n        @include clear();\r\n        box-shadow: 0px 10px 10px rgba(255,255,225,0.1) inset,\r\n        0px -10px 10px rgba(0,0,0,0.3) inset;\r\n        margin-bottom: 60px;\r\n        line-height: 48px;\r\n        font-size: 24px;\r\n        .line{\r\n          width: 8px;\r\n          height: 30px;\r\n          background: $main-color;\r\n          margin-top: 9px;\r\n          float: left;\r\n          margin-left: 23px;\r\n          margin-right: 10px;\r\n        }\r\n        width: 100%;\r\n        color: #fff;\r\n        @include ellipsis;\r\n        .link{\r\n          transition: 0.3s ease;\r\n          &:hover{\r\n            color: $main-color;\r\n          }\r\n          cursor: pointer;\r\n        }\r\n        .arrow{\r\n          margin: 0 20px;\r\n        }\r\n      }\r\n      .video-info{\r\n        width: 100%;\r\n        margin-bottom: 110px;\r\n\r\n        .h5-video-location{\r\n          height: 50px;\r\n          line-height: 50px;\r\n          font-size: 18px;\r\n          color: #fff;\r\n          box-sizing: border-box;\r\n          @include ellipsis;\r\n          box-shadow: 0px 5px 5px rgba(255,255,225,0.1) inset,\r\n          0px -5px 5px rgba(0,0,0,0.3) inset;\r\n          background: #0e141d;\r\n          margin-bottom: 30px;\r\n          @include clear;\r\n          .line{\r\n            width: 5px;\r\n            height: 36px;\r\n            background: $main-color;\r\n            margin-top: 7px;\r\n            float: left;\r\n            margin-left: 7px;\r\n            margin-right: 10px;\r\n          }\r\n          .first{\r\n            color: $main-color;\r\n            margin-right: 10px;\r\n          }\r\n          @include ellipsis;\r\n          .link{\r\n            transition: 0.3s ease;\r\n            &:hover{\r\n              color: $main-color;\r\n            }\r\n            cursor: pointer;\r\n          }\r\n          .arrow{\r\n            margin: 0 10px;\r\n            position: relative;\r\n            top: -1px;\r\n          }\r\n        }\r\n        .video-wrapper{\r\n          box-sizing: border-box;\r\n          max-width: 75%;\r\n          margin: 0 auto;\r\n          background: #172231;\r\n        }\r\n        .video-img{\r\n          width: 100%;\r\n          background: #000;\r\n          .video-js{\r\n            width: 100%;\r\n            /*object-fit: cover;*/\r\n            /*object-position: center;*/\r\n          }\r\n        }\r\n        .info-h5{\r\n          width: 100%;\r\n          font-size: 12px;\r\n          color: #adadad;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          box-sizing: border-box;\r\n          padding: 10px;\r\n          .viewed{\r\n            display: flex;\r\n            align-items: center;\r\n            img{\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n        }\r\n        .info{\r\n          width: 700px;\r\n          margin: 0 auto;\r\n          height: 54px;\r\n          box-sizing: border-box;\r\n          line-height: 54px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          font-size: 30px;\r\n          color: #bababa;\r\n          img{\r\n            margin-right: 10px;\r\n            vertical-align: middle;\r\n          }\r\n          span{\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n        .video-name{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          font-size: 30px;\r\n          color: #d0d0d0;\r\n          height: 48px;\r\n          line-height: 48px;\r\n          margin-top: 30px;\r\n          margin-bottom: 50px;\r\n          @include ellipsis;\r\n          box-sizing: border-box;\r\n          text-align: center;\r\n        }\r\n        .video-desc{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding: 0 150px 0 25px;\r\n          font-size: 24px;\r\n          color: #8b8b8b;\r\n        }\r\n      }\r\n      .list{\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        flex-direction:row;\r\n        box-sizing: border-box;\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n        .video-card{\r\n          margin-bottom: 13px;\r\n        }\r\n      }\r\n      .page-title{\r\n        margin-bottom: 11px;\r\n      }\r\n      .ads{\r\n        width: 100%;\r\n        padding: 23px 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        box-sizing: border-box;\r\n        padding-top: 0px;\r\n        padding-bottom: 11px;\r\n        .ads-item{\r\n          width: calc((100% - 27px) / 4);\r\n          margin-bottom: 7px;\r\n          height: 125px;\r\n          @include border2;\r\n          box-sizing: border-box;\r\n          cursor: pointer;\r\n          border-radius: 2px;\r\n          :deep(.van-image){\r\n            width: 100%;\r\n            height: 100%;\r\n            .van-image__loading{\r\n              background: none;\r\n            }\r\n            .van-image__error{\r\n              background: none;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .more{\r\n        width: 788px;\r\n        height: 74px;\r\n        line-height: 74px;\r\n        font-size: 30px;\r\n        color: #fff;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        background: #343945;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  @media screen and (min-width: 1280px) and (max-width: 1600px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        .video-info{\r\n          .video-img{}\r\n          .video-desc{\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n  @media screen and (min-width: 750px) and (max-width: 1280px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        width: 750px;\r\n        .video-info{\r\n          .video-img{}\r\n          .video-wrapper{\r\n            padding-left: 50px;\r\n            padding-right: 50px;\r\n          }\r\n          .info{\r\n            height: 50px;\r\n            line-height: 50px;\r\n            font-size: 24px;\r\n          }\r\n          .video-name{\r\n            font-size: 24px;\r\n          }\r\n          .video-desc{\r\n            font-size: 21px;\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n        .ads{\r\n          .ads-item{\r\n            height: 100px;\r\n          }\r\n        }\r\n        .more{\r\n          width: 750px;\r\n        }\r\n      }\r\n    }\r\n    .sidebar{\r\n      display: none;\r\n    }\r\n  }\r\n  @media screen and (max-width: 750px) {\r\n    .h5-hide{\r\n      display: none!important;\r\n    }\r\n    .pc-hide{\r\n      display: flex!important;\r\n    }\r\n    .info-container{\r\n      width: 100%;\r\n      .info-wrapper{\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding-left: 2px;\r\n        padding-right: 2px;\r\n        .ads{\r\n          padding-left: 14px;\r\n          padding-right: 14px;\r\n          .ads-item{\r\n            width: 100%;\r\n            height: 130px;\r\n            margin-bottom: 6px;\r\n            border: 1px solid #d7d7d8;\r\n            &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4), {\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        .list{\r\n          margin-bottom: 25px;\r\n          .video-card{\r\n            width: 100%;\r\n            margin-bottom: 18px;\r\n          }\r\n        }\r\n        .more{\r\n          display: none;\r\n        }\r\n        .video-info{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding-bottom: 0px;\r\n          margin-bottom: 70px;\r\n          .pc-hide{\r\n            display: block!important;\r\n          }\r\n          .video-wrapper{\r\n            max-width: 100%;\r\n            padding: 0px;\r\n          }\r\n          .info-h5{\r\n            display: flex!important;\r\n          }\r\n          .info{\r\n            width: 100%;\r\n            font-size: 14px;\r\n            padding-left: 40px;\r\n            padding-right: 40px;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n          .video-img{\r\n            @include border;\r\n          }\r\n          .video-name{\r\n            width: 100%;\r\n            font-size: 16px;\r\n            color: #fff;\r\n            height: auto;\r\n            padding: 0 13px;\r\n            margin-top: 13px;\r\n            line-height: 24px;\r\n            margin-bottom: 20px;\r\n          }\r\n          .video-desc{\r\n            font-size: 14px;\r\n            color: #fff;\r\n            padding: 10px;\r\n            padding-top: 0px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n      .sidebar{\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  @media screen and (max-width: 750px) {\r\n    .xgplayer xg-icon svg{\r\n      width: 16px;\r\n    }\r\n  }\r\n\r\n</style>\r\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","var XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nvar STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nvar XGTAG = \"%c[xgplayer]\";\nvar XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function logInfo(message) {\n    var _console;\n    for (var _len = arguments.length, optionalParams = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      optionalParams[_key - 1] = arguments[_key];\n    }\n    this.config.debug >= 3 && (_console = console).log.apply(_console, [XGTAG, STYLE.info, message].concat(optionalParams));\n  },\n  logWarn: function logWarn(message) {\n    var _console2;\n    for (var _len2 = arguments.length, optionalParams = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      optionalParams[_key2 - 1] = arguments[_key2];\n    }\n    this.config.debug >= 1 && (_console2 = console).warn.apply(_console2, [XGTAG, STYLE.warn, message].concat(optionalParams));\n  },\n  logError: function logError(message) {\n    var _console3;\n    if (this.config.debug < 1) {\n      return;\n    }\n    var _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    for (var _len3 = arguments.length, optionalParams = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      optionalParams[_key3 - 1] = arguments[_key3];\n    }\n    (_console3 = console)[_fun].apply(_console3, [XGTAG, STYLE.error, message].concat(optionalParams));\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar XgplayerTimeRange = /* @__PURE__ */ function() {\n  function XgplayerTimeRange2(bufferedList) {\n    _classCallCheck(this, XgplayerTimeRange2);\n    this.bufferedList = bufferedList;\n  }\n  _createClass(XgplayerTimeRange2, [{\n    key: \"start\",\n    value: function start(index) {\n      return this.bufferedList[index].start;\n    }\n  }, {\n    key: \"end\",\n    value: function end(index) {\n      return this.bufferedList[index].end;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.bufferedList.length;\n    }\n  }]);\n  return XgplayerTimeRange2;\n}();\nexport { XgplayerTimeRange as default };\n","import { typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nvar util = {};\nutil.createDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"div\";\n  var tpl = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var attrs = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  var cname = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : \"\";\n  var dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach(function(item) {\n    var key = item;\n    var value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html) {\n  var attrs = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  try {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    var dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach(function(key) {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, function(item) {\n      return item === className;\n    });\n  } catch (e) {\n    var orgClassName = el.className && _typeof(el.className) === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && _typeof(el.className) === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach(function(item) {\n        var reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && _typeof(el.className) === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach(function(item) {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  var _arguments = arguments;\n  var classname = [];\n  var _loop = function _loop2(i2) {\n    if (util.typeOf(_arguments[i2]) === \"String\") {\n      classname.push(_arguments[i2]);\n    } else if (util.typeOf(_arguments[i2]) === \"Object\") {\n      Object.keys(_arguments[i2]).map(function(key) {\n        if (_arguments[i2][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  };\n  for (var i = 0; i < arguments.length; i++) {\n    _loop(i);\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : document;\n  var sel = arguments.length > 1 ? arguments[1] : void 0;\n  var dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  var hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  var minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  var second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    var touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach(function(key) {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map(function(key) {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        var _dst$key;\n        (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  var url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  var a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    var back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, function(node) {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  var id = setTimeout(function() {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (var i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map(function(item) {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  var btn = util.createDom(\"xg-\".concat(name), \"\", {}, \"xgplayer-\".concat(name, \"-img\"));\n  btn.style.backgroundImage = 'url(\"'.concat(imgUrl, '\")');\n  if (width && height) {\n    var w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every(function(item) {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = \"\".concat(w).concat(unit);\n    btn.style.height = \"\".concat(h).concat(unit);\n    btn.style.backgroundSize = \"\".concat(w).concat(unit, \" \").concat(h).concat(unit);\n    if (name === \"start\") {\n      btn.style.margin = \"-\".concat(h / 2).concat(unit, \" auto auto -\").concat(w / 2).concat(unit);\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  var rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    var sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return \"rgba(\".concat(rgb.join(\",\"), \", \").concat(alpha, \")\");\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && _typeof(obj) === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    var styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map(function(item) {\n      if (item) {\n        var arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map(function(key) {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (var i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom) {\n  var list = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"];\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  var remain = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map(function(key) {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = function(url) {\n  var onload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : function() {\n  };\n  var onerror = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n  };\n  if (!url) {\n    return;\n  }\n  var img = new window.Image();\n  img.onload = function(e) {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = function(e) {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = function(e) {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = function(vbuffered) {\n  var maxHoleDuration = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0.5;\n  var buffered = [];\n  for (var i = 0; i < vbuffered.length; i++) {\n    buffered.push({\n      start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i),\n      end: vbuffered.end(i)\n    });\n  }\n  buffered.sort(function(a, b) {\n    var diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  var buffered2 = [];\n  if (maxHoleDuration) {\n    for (var _i = 0; _i < buffered.length; _i++) {\n      var buf2len = buffered2.length;\n      if (buf2len) {\n        var buf2end = buffered2[buf2len - 1].end;\n        if (buffered[_i].start - buf2end < maxHoleDuration) {\n          if (buffered[_i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[_i].end;\n          }\n        } else {\n          buffered2.push(buffered[_i]);\n        }\n      } else {\n        buffered2.push(buffered[_i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e) {\n  var zoom = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  var _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  var results = url.split(\"/\");\n  var domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  var _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function() {\n  var did = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  var d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  var event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  var dom = util.createDom(\"xg-bar\", \"\", {\n    \"data-index\": -1\n  }, className);\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function() {\n  var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n    x: 0,\n    y: 0,\n    scale: 1,\n    rotate: 0\n  };\n  var transformValue = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var styles = {\n    scale: \"\".concat(pos.scale || 1),\n    translate: \"\".concat(pos.x || 0, \"%, \").concat(pos.y || 0, \"%\"),\n    rotate: \"\".concat(pos.rotate || 0, \"deg\")\n  };\n  var stylesKeys = Object.keys(styles);\n  stylesKeys.forEach(function(key) {\n    var reg = new RegExp(\"\".concat(key, \"\\\\([^\\\\(]+\\\\)\"), \"g\");\n    var fn = \"\".concat(key, \"(\").concat(styles[key], \")\");\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += \"\".concat(fn, \" \");\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  var _len = segments.length;\n  var _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (var i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments) {\n  var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;\n  var _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  var _len = segments.length;\n  var _segments$_index = segments[_index], start = _segments$_index.start, end = _segments$_index.end, cTime = _segments$_index.cTime, offset = _segments$_index.offset;\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  var _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (var i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    var start = segments[_index].start;\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  var type = _typeof(value);\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  var lastInvokeTime = 0;\n  var leading = false;\n  var maxing = false;\n  var trailing = true;\n  var useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs;\n    var thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    var timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced() {\n    var time = Date.now();\n    var isInvoking = shouldInvoke(time);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  var leading = true;\n  var trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  var lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  var pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","var VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nvar H264_MIMETYPES = [\"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"avc1.42E01E\", \"mp4v.20.8\", \"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"mp4v.20.8, mp4a.40.2\", \"mp4v.20.240, mp4a.40.2\"];\nvar sniffer = {\n  get device() {\n    var r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    var reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter(function(key) {\n      return reg[key].test(ua);\n    }))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    var ua = navigator.userAgent;\n    var isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    var isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    var isAndroid = /(?:Android)/.test(ua);\n    var isFireFox = /(?:Firefox)/.test(ua);\n    var isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    var isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    var isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    var isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    var ua = navigator.userAgent;\n    var reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    var _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      var version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    var reg = /(micromessenger)\\/([\\d.]+)/;\n    var match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4: function isSupportMP4() {\n    var result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    var a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map(function(key) {\n        if (a.canPlayType('video/mp4; codecs=\"'.concat(key, '\"')) === \"probably\") {\n          result.isSupport = true;\n          result.mime += \"||\".concat(key);\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport: function isMSESupport() {\n    var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported: function isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported: function probeConfigSupported(info) {\n    var defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      var videoConfig = info.video || {};\n      var audioConfig = info.audio || {};\n      try {\n        var videoSupported = MediaSource.isTypeSupported(videoConfig.contentType);\n        var audioSupported = MediaSource.isTypeSupported(audioConfig.contentType);\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.1.0-alpha.7\";\nexport { version as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport version from \"./version.js\";\nimport util from \"./utils/util.js\";\nvar ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nvar ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nvar Errors = /* @__PURE__ */ _createClass(\n  function Errors2(player) {\n    var errorInfo = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      errorType: \"\",\n      errorCode: 0,\n      errorMessage: \"\",\n      originError: \"\",\n      ext: {},\n      mediaError: null\n    };\n    _classCallCheck(this, Errors2);\n    var ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      var mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      var duration = player.duration, currentTime = player.currentTime, ended = player.ended, src = player.src, currentSrc = player.currentSrc;\n      var _player$media = player.media, readyState = _player$media.readyState, networkState = _player$media.networkState;\n      var _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      var r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map(function(key) {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        var _r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        var arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (var i = 0; i < arguments.length; i++) {\n          _r[arr[i]] = arguments[i];\n        }\n        _r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return _r;\n      }\n    }\n  }\n);\nexport { ERROR_TYPE_MAP, Errors as default };\n","var PLAY = \"play\";\nvar PLAYING = \"playing\";\nvar ENDED = \"ended\";\nvar PAUSE = \"pause\";\nvar ERROR = \"error\";\nvar SEEKING = \"seeking\";\nvar SEEKED = \"seeked\";\nvar TIME_UPDATE = \"timeupdate\";\nvar WAITING = \"waiting\";\nvar CANPLAY = \"canplay\";\nvar CANPLAY_THROUGH = \"canplaythrough\";\nvar DURATION_CHANGE = \"durationchange\";\nvar VOLUME_CHANGE = \"volumechange\";\nvar LOADED_DATA = \"loadeddata\";\nvar LOADED_METADATA = \"loadedmetadata\";\nvar RATE_CHANGE = \"ratechange\";\nvar PROGRESS = \"progress\";\nvar LOAD_START = \"loadstart\";\nvar EMPTIED = \"emptied\";\nvar STALLED = \"stalled\";\nvar SUSPEND = \"suspend\";\nvar ABORT = \"abort\";\nvar BUFFER_CHANGE = \"bufferedChange\";\nvar PLAYER_FOCUS = \"focus\";\nvar PLAYER_BLUR = \"blur\";\nvar READY = \"ready\";\nvar URL_NULL = \"urlNull\";\nvar AUTOPLAY_STARTED = \"autoplay_started\";\nvar AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nvar COMPLETE = \"complete\";\nvar REPLAY = \"replay\";\nvar DESTROY = \"destroy\";\nvar URL_CHANGE = \"urlchange\";\nvar DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nvar FULLSCREEN_CHANGE = \"fullscreen_change\";\nvar CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nvar MINI_STATE_CHANGE = \"mini_state_change\";\nvar DEFINITION_CHANGE = \"definition_change\";\nvar BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nvar AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nvar SEI_PARSED = \"SEI_PARSED\";\nvar RETRY = \"retry\";\nvar VIDEO_RESIZE = \"video_resize\";\nvar PIP_CHANGE = \"pip_change\";\nvar ROTATE = \"rotate\";\nvar SCREEN_SHOT = \"screenShot\";\nvar PLAYNEXT = \"playnext\";\nvar SHORTCUT = \"shortcut\";\nvar XGLOG = \"xglog\";\nvar USER_ACTION = \"user_action\";\nvar RESET = \"reset\";\nvar SOURCE_ERROR = \"source_error\";\nvar SOURCE_SUCCESS = \"source_success\";\nvar SWITCH_SUBTITLE = \"switch_subtitle\";\nvar VIDEO_EVENTS = [\"play\", \"playing\", \"ended\", \"pause\", \"error\", \"seeking\", \"seeked\", \"timeupdate\", \"waiting\", \"canplay\", \"canplaythrough\", \"durationchange\", \"volumechange\", \"loadeddata\", \"loadedmetadata\", \"ratechange\", \"progress\", \"loadstart\", \"emptied\", \"stalled\", \"suspend\", \"abort\", \"lowdecode\"];\nvar STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nvar FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LOADED_DATA, LOADED_METADATA, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, defineProperty as _defineProperty, get as _get, getPrototypeOf as _getPrototypeOf } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return function(e, _err) {\n    var eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      var _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      var callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nvar MediaProxy = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(MediaProxy2, _EventEmitter);\n  var _super = _createSuper(MediaProxy2);\n  function MediaProxy2(options) {\n    var _this;\n    _classCallCheck(this, MediaProxy2);\n    _this = _super.call(this, options);\n    _this._hasStart = false;\n    _this._currentTime = 0;\n    _this._duration = 0;\n    _this._internalOp = {};\n    _this._lastMuted = false;\n    _this.vtype = \"MP4\";\n    _this._rate = -1;\n    _this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    var playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      _this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete _this.mediaConfig.playsinline;\n      delete _this.mediaConfig[\"webkit-playsinline\"];\n      delete _this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      _this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(_this.mediaConfig, \"muted\")) {\n      _this.mediaConfig.muted = true;\n    }\n    _this.media = util.createDom(_this.mediaConfig.mediaType, \"\", _this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      _this.media.defaultPlaybackRate = _this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      _this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      _this.media.muted = true;\n      _this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      _this.media.autoplay = true;\n    }\n    _this._interval = {};\n    _this.mediaEventMiddleware = {};\n    _this.attachVideoEvents();\n    return _this;\n  }\n  _createClass(MediaProxy2, [{\n    key: \"setEventsMiddleware\",\n    value: function setEventsMiddleware(middlewares) {\n      var _this2 = this;\n      Object.keys(middlewares).map(function(key) {\n        _this2.mediaEventMiddleware[key] = middlewares[key];\n      });\n    }\n  }, {\n    key: \"removeEventsMiddleware\",\n    value: function removeEventsMiddleware(middlewares) {\n      var _this3 = this;\n      Object.keys(middlewares).map(function(key) {\n        delete _this3.mediaEventMiddleware[key];\n      });\n    }\n  }, {\n    key: \"attachVideoEvents\",\n    value: function attachVideoEvents() {\n      var _this4 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      if (!this._evHandlers) {\n        this._evHandlers = VIDEO_EVENTS.map(function(eventKey) {\n          var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n          if (typeof _this4[funName] === \"function\") {\n            _this4.on(eventKey, _this4[funName]);\n          }\n          return _defineProperty({}, eventKey, getVideoEventHandler(eventKey, _this4));\n        });\n      }\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.addEventListener(eventKey, item[eventKey], false);\n      });\n    }\n  }, {\n    key: \"detachVideoEvents\",\n    value: function detachVideoEvents() {\n      var _this5 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.removeEventListener(eventKey, item[eventKey], false);\n      });\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n        if (typeof _this5[funName] === \"function\") {\n          _this5.off(eventKey, _this5[funName]);\n        }\n      });\n      this._evHandlers = null;\n    }\n  }, {\n    key: \"_attachSourceEvents\",\n    value: function _attachSourceEvents(video, urls) {\n      var _this6 = this;\n      video.removeAttribute(\"src\");\n      video.load();\n      urls.forEach(function(item, index) {\n        _this6.media.appendChild(util.createDom(\"source\", \"\", {\n          src: \"\".concat(item.src),\n          type: \"\".concat(item.type || \"\"),\n          \"data-index\": index + 1\n        }));\n      });\n      var _c = video.children;\n      if (!_c) {\n        return;\n      }\n      this._videoSourceCount = _c.length;\n      this._videoSourceIndex = _c.length;\n      this._vLoadeddata = function(e) {\n        _this6.emit(SOURCE_SUCCESS, {\n          src: e.target.currentSrc,\n          host: util.getHostFromUrl(e.target.currentSrc)\n        });\n      };\n      var _eHandler = null;\n      for (var i = 0; i < this._evHandlers.length; i++) {\n        if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n          _eHandler = this._evHandlers[i];\n          break;\n        }\n      }\n      !this._sourceError && (this._sourceError = function(e) {\n        var _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n        _this6._videoSourceIndex--;\n        if (_this6._videoSourceIndex === 0 || _dIndex >= _this6._videoSourceCount) {\n          var _err = {\n            code: 4,\n            message: \"sources_load_error\"\n          };\n          _eHandler ? _eHandler.error(e, _err) : _this6.errorHandler(\"error\", _err);\n        }\n        var type = ERROR_TYPE_MAP[4];\n        _this6.emit(SOURCE_ERROR, new Errors(_this6, {\n          errorType: type,\n          errorCode: 4,\n          errorMessage: \"sources_load_error\",\n          mediaError: {\n            code: 4,\n            message: \"sources_load_error\"\n          },\n          src: e.target.src\n        }));\n      });\n      for (var _i = 0; _i < _c.length; _i++) {\n        _c[_i].addEventListener(\"error\", this._sourceError);\n      }\n      video.addEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"_detachSourceEvents\",\n    value: function _detachSourceEvents(video) {\n      var _c = video.children;\n      if (!_c || _c.length === 0 || !this._sourceError) {\n        return;\n      }\n      for (var i = 0; i < _c.length; i++) {\n        _c[i].removeEventListener(\"error\", this._sourceError);\n      }\n      while (_c.length > 0) {\n        video.removeChild(_c[0]);\n      }\n      this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"errorHandler\",\n    value: function errorHandler(name) {\n      var error = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n      if (this.media && (this.media.error || error)) {\n        var _e = this.media.error || error;\n        var type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n        var message = _e.message;\n        if (!this.media.currentSrc) {\n          message = \"empty_src\";\n          _e = {\n            code: 6,\n            message\n          };\n        }\n        this.emit(name, new Errors(this, {\n          errorType: type,\n          errorCode: _e.code,\n          errorMessage: _e.message || \"\",\n          mediaError: _e\n        }));\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.media) {\n        if (this.media.pause) {\n          this.media.pause();\n          this.media.muted = true;\n        }\n        this.media.removeAttribute(\"src\");\n        this.media.load();\n      }\n      this._currentTime = 0;\n      this._duration = 0;\n      this.mediaConfig = null;\n      for (var k in this._interval) {\n        if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n          clearInterval(this._interval[k]);\n          this._interval[k] = null;\n        }\n      }\n      this.detachVideoEvents();\n      this.media = null;\n      this.mediaEventMiddleware = {};\n      this.removeAllListeners();\n    }\n  }, {\n    key: \"video\",\n    get: function get() {\n      return this.media;\n    },\n    set: function set(media) {\n      this.media = media;\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var ret = this.media ? this.media.play() : null;\n      return ret;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.media && this.media.pause();\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      this.media && this.media.load();\n    }\n  }, {\n    key: \"canPlayType\",\n    value: function canPlayType(type) {\n      return this.media ? this.media.canPlayType(type) : false;\n    }\n  }, {\n    key: \"getBufferedRange\",\n    value: function getBufferedRange(buffered) {\n      var range = [0, 0];\n      if (!this.media) {\n        return range;\n      }\n      if (!buffered) {\n        buffered = this.media.buffered;\n      }\n      var currentTime = this.media.currentTime;\n      if (buffered) {\n        for (var i = 0, len = buffered.length; i < len; i++) {\n          range[0] = buffered.start(i);\n          range[1] = buffered.end(i);\n          if (range[0] <= currentTime && currentTime <= range[1]) {\n            break;\n          }\n        }\n      }\n      if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n        return range;\n      } else {\n        return [0, 0];\n      }\n    }\n  }, {\n    key: \"autoplay\",\n    get: function get() {\n      return this.media ? this.media.autoplay : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.autoplay = isTrue);\n    }\n  }, {\n    key: \"buffered\",\n    get: function get() {\n      return this.media ? this.media.buffered : null;\n    }\n  }, {\n    key: \"buffered2\",\n    get: function get() {\n      return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n    }\n  }, {\n    key: \"bufferedPoint\",\n    get: function get() {\n      var ret = {\n        start: 0,\n        end: 0\n      };\n      if (!this.media) {\n        return ret;\n      }\n      var _buffered = this.media.buffered;\n      if (!_buffered || _buffered.length === 0) {\n        return ret;\n      }\n      for (var i = 0; i < _buffered.length; i++) {\n        if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n          return {\n            start: _buffered.start(i),\n            end: _buffered.end(i)\n          };\n        }\n      }\n      return ret;\n    }\n  }, {\n    key: \"crossOrigin\",\n    get: function get() {\n      return this.media ? this.media.crossOrigin : \"\";\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.crossOrigin = isTrue);\n    }\n  }, {\n    key: \"currentSrc\",\n    get: function get() {\n      return this.media ? this.media.currentSrc : \"\";\n    },\n    set: function set(src) {\n      this.media && (this.media.currentSrc = src);\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      if (!this.media) {\n        return 0;\n      }\n      return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n    },\n    set: function set(time) {\n      this.media && (this.media.currentTime = time);\n    }\n  }, {\n    key: \"defaultMuted\",\n    get: function get() {\n      return this.media ? this.media.defaultMuted : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.defaultMuted = isTrue);\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this._duration;\n    }\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.media ? this.media.ended : false;\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      return this.media.error;\n    }\n  }, {\n    key: \"errorNote\",\n    get: function get() {\n      var err = this.media.error;\n      if (!err) {\n        return \"\";\n      }\n      var status = [\"MEDIA_ERR_ABORTED\", \"MEDIA_ERR_NETWORK\", \"MEDIA_ERR_DECODE\", \"MEDIA_ERR_SRC_NOT_SUPPORTED\"];\n      return status[this.media.error.code - 1];\n    }\n  }, {\n    key: \"loop\",\n    get: function get() {\n      return this.media ? this.media.loop : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.loop = isTrue);\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.media ? this.media.muted : false;\n    },\n    set: function set(isTrue) {\n      if (!this.media || this.media.muted === isTrue) {\n        return;\n      }\n      this._lastMuted = this.media.muted;\n      this.media.muted = isTrue;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return this.media.networkState;\n    }\n  }, {\n    key: \"paused\",\n    get: function get() {\n      return this.media ? this.media.paused : true;\n    }\n  }, {\n    key: \"playbackRate\",\n    get: function get() {\n      return this.media ? this.media.playbackRate : 0;\n    },\n    set: function set(rate) {\n      if (!this.media || rate === Infinity) {\n        return;\n      }\n      this.media.defaultPlaybackRate = rate;\n      this.media.playbackRate = rate;\n    }\n  }, {\n    key: \"played\",\n    get: function get() {\n      return this.media ? this.media.played : null;\n    }\n  }, {\n    key: \"preload\",\n    get: function get() {\n      return this.media ? this.media.preload : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.preload = isTrue);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return this.media.readyState;\n    }\n  }, {\n    key: \"seekable\",\n    get: function get() {\n      return this.media ? this.media.seekable : false;\n    }\n  }, {\n    key: \"seeking\",\n    get: function get() {\n      return this.media ? this.media.seeking : false;\n    }\n  }, {\n    key: \"src\",\n    get: function get() {\n      return this.media ? this.media.src : \"\";\n    },\n    set: function set(url) {\n      if (!this.media) {\n        return;\n      }\n      this.emit(URL_CHANGE, url);\n      this.emit(WAITING);\n      this._currentTime = 0;\n      this._duration = 0;\n      if (util.isMSE(this.media)) {\n        this.onWaiting();\n        return;\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\") {\n        this._attachSourceEvents(this.media, url);\n      } else if (url) {\n        this.media.src = url;\n      } else {\n        this.media.removeAttribute(\"src\");\n      }\n      this.load();\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.media ? this.media.volume : 0;\n    },\n    set: function set(vol) {\n      if (vol === Infinity || !this.media) {\n        return;\n      }\n      this.media.volume = vol;\n    }\n  }, {\n    key: \"addInnerOP\",\n    value: function addInnerOP(event) {\n      this._internalOp[event] = true;\n    }\n  }, {\n    key: \"removeInnerOP\",\n    value: function removeInnerOP(event) {\n      delete this._internalOp[event];\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event, data) {\n      var _get2;\n      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n      (_get2 = _get(_getPrototypeOf(MediaProxy2.prototype), \"emit\", this)).call.apply(_get2, [this, event, data].concat(args));\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _get3;\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      (_get3 = _get(_getPrototypeOf(MediaProxy2.prototype), \"on\", this)).call.apply(_get3, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _get4;\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      (_get4 = _get(_getPrototypeOf(MediaProxy2.prototype), \"once\", this)).call.apply(_get4, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _get5;\n      for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n        args[_key4 - 2] = arguments[_key4];\n      }\n      (_get5 = _get(_getPrototypeOf(MediaProxy2.prototype), \"off\", this)).call.apply(_get5, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      _get(_getPrototypeOf(MediaProxy2.prototype), \"removeAllListeners\", this).call(this);\n    }\n  }]);\n  return MediaProxy2;\n}(EventEmitter);\nexport { MediaProxy as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar INDEXDB = /* @__PURE__ */ function() {\n  function INDEXDB2() {\n    var mydb = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n      name: \"xgplayer\",\n      version: 1,\n      db: null,\n      ojstore: {\n        name: \"xg-m4a\",\n        keypath: \"vid\"\n      }\n    };\n    _classCallCheck(this, INDEXDB2);\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  _createClass(INDEXDB2, [{\n    key: \"openDB\",\n    value: function openDB(callback) {\n      var _this = this;\n      var self = this;\n      var version = this.myDB.version || 1;\n      var request = self.indexedDB.open(self.myDB.name, version);\n      request.onerror = function(e) {\n      };\n      request.onsuccess = function(e) {\n        _this.myDB.db = e.target.result;\n        callback.call(self);\n      };\n      request.onupgradeneeded = function(e) {\n        var db = e.target.result;\n        e.target.transaction;\n        if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n          db.createObjectStore(self.myDB.ojstore.name, {\n            keyPath: self.myDB.ojstore.keypath\n          });\n        }\n      };\n    }\n  }, {\n    key: \"deletedb\",\n    value: function deletedb() {\n      var self = this;\n      self.indexedDB.deleteDatabase(this.myDB.name);\n    }\n  }, {\n    key: \"closeDB\",\n    value: function closeDB() {\n      this.myDB.db.close();\n    }\n  }, {\n    key: \"addData\",\n    value: function addData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.add(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"putData\",\n    value: function putData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.put(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"getDataByKey\",\n    value: function getDataByKey(storename, key, callback) {\n      var self = this;\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request = store.get(key);\n      request.onerror = function() {\n        callback.call(self, null);\n      };\n      request.onsuccess = function(e) {\n        var result = e.target.result;\n        callback.call(self, result);\n      };\n    }\n  }, {\n    key: \"deleteData\",\n    value: function deleteData(storename, key) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.delete(key);\n    }\n  }, {\n    key: \"clearData\",\n    value: function clearData(storename) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.clear();\n    }\n  }]);\n  return INDEXDB2;\n}();\nexport { INDEXDB as default };\n","var FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nvar GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nvar EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nvar PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction callHandler(obj, handler, next) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n  var ret = handler.call.apply(handler, [obj].concat(args));\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then(function() {\n      for (var _len2 = arguments.length, args2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args2[_key2] = arguments[_key2];\n      }\n      next.call.apply(next, [obj].concat(args2));\n    });\n  } else {\n    next.call.apply(next, [obj].concat(args));\n  }\n}\nfunction hook(hookName, handler) {\n  var preset = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    pre: null,\n    next: null\n  };\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    var _arguments = arguments, _this = this;\n    if (preset.pre) {\n      try {\n        var _preset$pre;\n        (_preset$pre = preset.pre).call.apply(_preset$pre, [this].concat(Array.prototype.slice.call(arguments)));\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \":pre error] >> \").concat(e.message);\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        var _this$__hooks$hookNam;\n        var preRet = (_this$__hooks$hookNam = this.__hooks[hookName]).call.apply(_this$__hooks$hookNam, [this, this].concat(Array.prototype.slice.call(arguments)));\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then(function(isContinue) {\n              if (isContinue !== false) {\n                callHandler.apply(void 0, [_this, handler, preset.next].concat(_toConsumableArray(_arguments)));\n              }\n            }).catch(function(e) {\n              throw e;\n            });\n          } else {\n            callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n          }\n        } else if (preRet === void 0) {\n          callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n        }\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \"] >> \").concat(e.message);\n        throw e;\n      }\n    } else {\n      callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n    }\n  }.bind(this);\n}\nfunction useHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(\"has no supported hook which name [\".concat(hookName, \"]\"));\n    return false;\n  }\n  __hooks && (__hooks[hookName] = handler);\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n  return plugin.useHooks && plugin.useHooks.apply(plugin, args);\n}\nfunction removePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n    return plugin.removeHooks && plugin.removeHooks.apply(plugin, args);\n  }\n}\nfunction hooksDescriptor(instance) {\n  var presetHooks = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n  instance.__hooks = {};\n  presetHooks && presetHooks.map(function(item) {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: function get() {\n      return instance.__hooks && Object.keys(instance.__hooks).map(function(key) {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n  if (obj.__hooks && obj.__hooks[hookName]) {\n    var _obj$__hooks$hookName;\n    var ret = (_obj$__hooks$hookName = obj.__hooks[hookName]).call.apply(_obj$__hooks$hookName, [obj, obj].concat(args));\n    if (ret && ret.then) {\n      ret.then(function(data) {\n        return data === false ? null : handler.call.apply(handler, [obj, obj].concat(args));\n      }).catch(function(e) {\n        console.warn(\"[runHooks]\".concat(hookName, \" reject\"), e.message);\n      });\n    } else if (ret !== false) {\n      return handler.call.apply(handler, [obj, obj].concat(args));\n    }\n  } else {\n    return handler.call.apply(handler, [obj, obj].concat(args));\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(\"[\".concat(pluginName, \"] event or callback cant be undefined or null when call \").concat(msg));\n}\nvar BasePlugin = /* @__PURE__ */ function() {\n  function BasePlugin2(args) {\n    _classCallCheck(this, BasePlugin2);\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  _createClass(BasePlugin2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__init\",\n    value: function __init(args) {\n      this.player = args.player;\n      this.playerConfig = args.player && args.player.config;\n      this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n      this.logger = args.player && args.player.logger;\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this.player.i18n;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.player.i18nKeys;\n    }\n  }, {\n    key: \"domEventType\",\n    get: function get() {\n      var _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n      if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n        _e = this.playerConfig.domEventType;\n      }\n      return _e;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _this = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__events[event] = callback;\n        this.player.on(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this.__events[item] = callback;\n          _this.player.on(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _this2 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__onceEvents[event] = callback;\n        this.player.once(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this2.__onceEvents[item] = callback;\n          _this2.player.once(event, callback);\n        });\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _this3 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        delete this.__events[event];\n        this.player.off(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          delete _this3.__events[event];\n          _this3.player.off(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      var _this4 = this;\n      [\"__events\", \"__onceEvents\"].forEach(function(key) {\n        Object.keys(_this4[key]).forEach(function(item) {\n          _this4[key][item] && _this4.off(item, _this4[key][item]);\n          item && delete _this4[key][item];\n        });\n      });\n      this.__events = {};\n      this.__onceEvents = {};\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      var _this$player;\n      if (!this.player) {\n        return;\n      }\n      for (var _len = arguments.length, res = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        res[_key - 1] = arguments[_key];\n      }\n      (_this$player = this.player).emit.apply(_this$player, [event].concat(res));\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action) {\n      var params = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n      if (!this.player) {\n        return;\n      }\n      var nParams = _objectSpread2(_objectSpread2({}, params), {}, {\n        pluginName: this.pluginName\n      });\n      this.player.emitUserAction(event, action, nParams);\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      if (!this.player) {\n        return;\n      }\n      name && (options.pluginName = name);\n      return this.player.registerPlugin({\n        plugin,\n        options\n      });\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.player ? this.player.getPlugin(name) : null;\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this5 = this;\n      var player = this.player;\n      var pluginName = this.pluginName;\n      this.offAll();\n      util.clearAllTimers(this);\n      if (util.checkIsFunction(this.destroy)) {\n        this.destroy();\n      }\n      [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map(function(item) {\n        _this5[item] = null;\n      });\n      player.unRegisterPlugin(pluginName);\n      delHooksDescriptor(this);\n    }\n  }], [{\n    key: \"defineGetterOrSetter\",\n    value: function defineGetterOrSetter(Obj, map) {\n      for (var key in map) {\n        if (Object.prototype.hasOwnProperty.call(map, key)) {\n          Object.defineProperty(Obj, key, map[key]);\n        }\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"pluginName\",\n    get: function get() {\n      return \"pluginName\";\n    }\n  }]);\n  return BasePlugin2;\n}();\nexport { BasePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, get as _get, getPrototypeOf as _getPrototypeOf, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport BasePlugin from \"./basePlugin.js\";\nimport _delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nvar ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nvar POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (_typeof(icon) === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return \"\".concat(classname, \" \").concat(icon.class);\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (_typeof(icon) === \"object\" && icon.attr && _typeof(icon.attr) === \"object\") {\n    Object.keys(icon.attr).map(function(key) {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key) {\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  var attr = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n  var pluginName = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n  var newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map(function(key2) {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, \"xg-img \".concat(classname));\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map(function(key2) {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is a function mast return an Element Object\"));\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(\"Plugin named [\".concat(pluginName, \"]:createIcon\"), e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is invalid\"));\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  var _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map(function(key) {\n    var orgIcon = iconsConfig[key];\n    var classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    var attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    var newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map(function(key) {\n    Object.defineProperty(plugin.langText, key, {\n      get: function get() {\n        var lang = plugin.lang, i18n = plugin.i18n;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nvar Plugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Plugin2, _BasePlugin);\n  var _super = _createSuper(Plugin2);\n  function Plugin2() {\n    var _this;\n    var args = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _classCallCheck(this, Plugin2);\n    _this = _super.call(this, args);\n    _this.__delegates = [];\n    return _this;\n  }\n  _createClass(Plugin2, [{\n    key: \"__init\",\n    value: function __init(args) {\n      _get(_getPrototypeOf(Plugin2.prototype), \"__init\", this).call(this, args);\n      if (!args.root) {\n        return;\n      }\n      var _parent = args.root;\n      var _el = null;\n      this.icons = {};\n      this.root = null;\n      this.parent = null;\n      var _orgicons = this.registerIcons() || {};\n      registerIconsObj(_orgicons, this);\n      this.langText = {};\n      var defaultTexConfig = this.registerLanguageTexts() || {};\n      registerTextObj(defaultTexConfig, this);\n      var renderStr = \"\";\n      try {\n        renderStr = this.render();\n      } catch (e) {\n        XG_DEBUG.logError(\"Plugin:\".concat(this.pluginName, \":render\"), e);\n        throw new Error(\"Plugin:\".concat(this.pluginName, \":render:\").concat(e.message));\n      }\n      if (renderStr) {\n        _el = Plugin2.insert(renderStr, _parent, args.index);\n        _el.setAttribute(\"data-index\", args.index);\n      } else if (args.tag) {\n        _el = util.createDom(args.tag, \"\", args.attr, args.name);\n        _el.setAttribute(\"data-index\", args.index);\n        _parent.appendChild(_el);\n      } else {\n        return;\n      }\n      this.root = _el;\n      this.parent = _parent;\n      var attr = this.config.attr || {};\n      var style = this.config.style || {};\n      this.setAttr(attr);\n      this.setStyle(style);\n      if (this.config.index) {\n        this.root.setAttribute(\"data-index\", this.config.index);\n      }\n      this.__registerChildren();\n    }\n  }, {\n    key: \"__registerChildren\",\n    value: function __registerChildren() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      this._children = [];\n      var children = this.children();\n      if (children && _typeof(children) === \"object\") {\n        if (Object.keys(children).length > 0) {\n          Object.keys(children).map(function(item) {\n            var name = item;\n            var _plugin = children[name];\n            var options = {\n              root: _this2.root\n            };\n            var config, _Plugin;\n            if (typeof _plugin === \"function\") {\n              config = _this2.config[name] || {};\n              _Plugin = _plugin;\n            } else if (_typeof(_plugin) === \"object\" && typeof _plugin.plugin === \"function\") {\n              config = _plugin.options ? util.deepCopy(_this2.config[name] || {}, _plugin.options) : _this2.config[name] || {};\n              _Plugin = _plugin.plugin;\n            }\n            options.config = config;\n            config.index !== void 0 && (options.index = config.index);\n            config.root && (options.root = config.root);\n            _this2.registerPlugin(_Plugin, options, name);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n      function checkChildren(node, callback) {\n        for (var i = 0; i < node.children.length; i++) {\n          if (node.children[i].children.length > 0) {\n            checkChildren(node.children[i], callback);\n          } else {\n            callback(node.children[i]);\n          }\n        }\n      }\n      var root = this.root, i18n = this.i18n, langText = this.langText;\n      if (root) {\n        checkChildren(root, function(node) {\n          var langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n          if (!langKey) {\n            return;\n          }\n          var langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n          if (langTextShow) {\n            node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"changeLangTextKey\",\n    value: function changeLangTextKey(dom) {\n      var key = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n      var i18n = this.i18n || {};\n      var langText = this.langText;\n      dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n      var text = i18n[key] || langText[key] || \"\";\n      if (text) {\n        dom.innerHTML = text;\n      }\n    }\n  }, {\n    key: \"plugins\",\n    value: function plugins() {\n      return this._children;\n    }\n  }, {\n    key: \"children\",\n    value: function children() {\n      return {};\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      options.root = options.root || this.root;\n      var _c = _get(_getPrototypeOf(Plugin2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      this._children.push(_c);\n      return _c;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {};\n    }\n  }, {\n    key: \"registerLanguageTexts\",\n    value: function registerLanguageTexts() {\n      return {};\n    }\n  }, {\n    key: \"find\",\n    value: function find(qs) {\n      if (!this.root) {\n        return;\n      }\n      return this.root.querySelector(qs);\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(querySelector, eventType, callback) {\n      var _this3 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this3.bindEL(item, eventType);\n          });\n        } else {\n          this.bindEL(querySelector, eventType);\n        }\n      } else {\n        var ret = Plugin2.delegate.call(this, this.root, querySelector, eventType, callback);\n        this.__delegates = this.__delegates.concat(ret);\n      }\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(querySelector, eventType) {\n      var _this4 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this4.unbindEL(item, eventType);\n          });\n        } else {\n          this.unbindEL(querySelector, eventType);\n        }\n      } else {\n        var key = \"\".concat(querySelector, \"_\").concat(eventType);\n        for (var i = 0; i < this.__delegates.length; i++) {\n          if (this.__delegates[i].key === key) {\n            this.__delegates[i].destroy();\n            this.__delegates.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(name, value) {\n      var _this5 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.style[name] = value;\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this5.root.style[key] = name[key];\n        });\n      }\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(name, value) {\n      var _this6 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.setAttribute(name, value);\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this6.root.setAttribute(key, name[key]);\n        });\n      }\n    }\n  }, {\n    key: \"setHtml\",\n    value: function setHtml(htmlStr, callback) {\n      if (!this.root) {\n        return;\n      }\n      this.root.innerHTML = htmlStr;\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    }\n  }, {\n    key: \"bindEL\",\n    value: function bindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.addEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"unbindEL\",\n    value: function unbindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.removeEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.style.display = value !== void 0 ? value : \"block\";\n      var cs = window.getComputedStyle(this.root, null);\n      var cssDisplayValue = cs.getPropertyValue(\"display\");\n      if (cssDisplayValue === \"none\") {\n        return this.root.style.display = \"block\";\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root && (this.root.style.display = \"none\");\n    }\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(pdom, child) {\n      if (!this.root) {\n        return null;\n      }\n      if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n        return this.root.appendChild(arguments[0]);\n      }\n      if (!child || !(child instanceof window.Element)) {\n        return null;\n      }\n      try {\n        if (typeof pdom === \"string\") {\n          return this.find(pdom).appendChild(child);\n        } else {\n          return pdom.appendChild(child);\n        }\n      } catch (err) {\n        XG_DEBUG.logError(\"Plugin:appendChild\", err);\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this7 = this;\n      var player = this.player;\n      this.__delegates.map(function(item) {\n        item.destroy();\n      });\n      this.__delegates = [];\n      if (this._children instanceof Array) {\n        this._children.map(function(item) {\n          player.unRegisterPlugin(item.pluginName);\n        });\n        this._children = null;\n      }\n      if (this.root) {\n        if (this.root.hasOwnProperty(\"remove\")) {\n          this.root.remove();\n        } else if (this.root.parentNode) {\n          this.root.parentNode.removeChild(this.root);\n        }\n      }\n      _get(_getPrototypeOf(Plugin2.prototype), \"__destroy\", this).call(this);\n      this.icons = {};\n      [\"root\", \"parent\"].map(function(item) {\n        _this7[item] = null;\n      });\n    }\n  }], [{\n    key: \"insert\",\n    value: function insert(html, parent) {\n      var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var len = parent.children.length;\n      var insertIdx = Number(index);\n      var isDomElement = html instanceof window.Node;\n      if (len) {\n        var i = 0;\n        var coordinate = null;\n        var mode = \"\";\n        for (; i < len; i++) {\n          coordinate = parent.children[i];\n          var curIdx = Number(coordinate.getAttribute(\"data-index\"));\n          if (curIdx >= insertIdx) {\n            mode = \"beforebegin\";\n            break;\n          } else if (curIdx < insertIdx) {\n            mode = \"afterend\";\n          }\n        }\n        if (isDomElement) {\n          if (mode === \"afterend\") {\n            parent.appendChild(html);\n          } else {\n            parent.insertBefore(html, coordinate);\n          }\n        } else {\n          coordinate.insertAdjacentHTML(mode, html);\n        }\n        return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n      } else {\n        isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n        return parent.children[parent.children.length - 1];\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"delegate\",\n    value: function delegate(root, querySelector, eventType, callback) {\n      var capture = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n      var dels = [];\n      if (root instanceof window.Node && typeof callback === \"function\") {\n        if (Array.isArray(eventType)) {\n          eventType.forEach(function(item) {\n            var ret2 = _delegate(root, querySelector, item, callback, capture);\n            ret2.key = \"\".concat(querySelector, \"_\").concat(item);\n            dels.push(ret2);\n          });\n        } else {\n          var ret = _delegate(root, querySelector, eventType, callback, capture);\n          ret.key = \"\".concat(querySelector, \"_\").concat(eventType);\n          dels.push(ret);\n        }\n      }\n      return dels;\n    }\n  }, {\n    key: \"ROOT_TYPES\",\n    get: function get() {\n      return ROOT_TYPES;\n    }\n  }, {\n    key: \"POSITIONS\",\n    get: function get() {\n      return POSITIONS;\n    }\n  }]);\n  return Plugin2;\n}(BasePlugin);\nexport { POSITIONS, ROOT_TYPES, Plugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nvar ResizeObserver = /* @__PURE__ */ function() {\n  function ResizeObserver2() {\n    var _this = this;\n    _classCallCheck(this, ResizeObserver2);\n    _defineProperty(this, \"__trigger\", function(entries) {\n      var t = new Date().getTime();\n      _this.timeStamp = t;\n      for (var i = 0; i < entries.length; i++) {\n        _this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, {\n        trailing: true\n      }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  _createClass(ResizeObserver2, [{\n    key: \"addObserver\",\n    value: function addObserver2(target, handler) {\n      if (!this.observer) {\n        return;\n      }\n      this.observer && this.observer.observe(target);\n      var _pid = target.getAttribute(PLATER_ID);\n      var __handlers = this.__handlers;\n      var index = -1;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.__handlers[index].handler = handler;\n      } else {\n        this.__handlers.push({\n          target,\n          handler,\n          playerId: _pid\n        });\n      }\n    }\n  }, {\n    key: \"unObserver\",\n    value: function unObserver2(target) {\n      var i = -1;\n      this.__handlers.map(function(item, index) {\n        if (target === item.target) {\n          i = index;\n        }\n      });\n      try {\n        this.observer && this.observer.unobserve(target);\n      } catch (e) {\n      }\n      this.observer && this.observer.unobserve(target);\n      i > -1 && this.__handlers.splice(i, 1);\n    }\n  }, {\n    key: \"destroyObserver\",\n    value: function destroyObserver() {\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n      this.__handlers = null;\n    }\n  }, {\n    key: \"__runHandler\",\n    value: function __runHandler(target) {\n      var __handlers = this.__handlers;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          try {\n            __handlers[i].handler(target);\n          } catch (error) {\n            console.error(error);\n          }\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return ResizeObserver2;\n}();\nvar resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nvar pluginsManager = {\n  pluginGroup: {},\n  init: function init(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = util.generateSessionId();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && player.root && addObserver(player.root, function() {\n      player.resize();\n    });\n    if (Object.keys(this.pluginGroup).length === 0) {\n      player.isUserActive = true;\n    }\n    this.pluginGroup[cgid] = {\n      _player: player,\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  checkPlayerRoot: function checkPlayerRoot(root) {\n    if (this.pluginGroup) {\n      var _keys = Object.keys(this.pluginGroup);\n      for (var i = 0; i < _keys.length; i++) {\n        var _p = this.pluginGroup[_keys[i]]._player;\n        if (_p.root === root) {\n          return _p;\n        }\n      }\n      return null;\n    }\n    return null;\n  },\n  formatPluginInfo: function formatPluginInfo(plugin, config) {\n    var PLUFGIN = null;\n    var options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits: function checkPluginIfExits(pluginName, plugins) {\n    for (var i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig: function getRootByConfig(pluginName, playerConfig) {\n    var keys = Object.keys(playerConfig);\n    var _pConfig = null;\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister: function lazyRegister(player, lazyPlugin) {\n    var _this = this;\n    var timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([lazyPlugin.loader().then(function(plugin) {\n      var result;\n      if (plugin && plugin.__esModule) {\n        result = plugin.default;\n      } else {\n        result = plugin;\n      }\n      _this.register(player, result, plugin.options);\n    }), new Promise(function(resolve, reject) {\n      setTimeout(function() {\n        reject(new Error(\"timeout\"));\n      }, timeout);\n    })]);\n  },\n  register: function register(player, plugin) {\n    var options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    var originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = this.pluginGroup[cgid]._player;\n    var pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(\"not supported plugin [\".concat(pluginName, \"]\"));\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    var keys = Object.keys(originalOptions);\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        var config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach(function(key) {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(\"the is one plugin with same pluginName [\".concat(pluginName, \"] exist, destroy the old instance\"));\n      }\n      var _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister: function unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      var plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(\"[unRegister:\".concat(name, \"] cgid:[\").concat(cgid, \"] error\"), e);\n    }\n  },\n  deletePlugin: function deletePlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins: function getPlugins(player) {\n    var cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin: function findPlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    var cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit: function beforeInit(player) {\n    var _this2 = this;\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise(function(resolve) {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise(function(resolve) {\n      if (!_this2.pluginGroup) {\n        return;\n      }\n      var prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(function() {\n        var cgid = player._pluginInfoId;\n        if (!_this2.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        var plugins = _this2.pluginGroup[cgid]._plugins;\n        var pluginsRet = [];\n        Object.keys(plugins).forEach(function(pName) {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              var ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([].concat(pluginsRet)).then(function() {\n          resolve();\n        }).catch(function(e) {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit: function afterInit(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang: function setLang(lang, player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(item) {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(\"\".concat(item, \" setLang\"));\n        }\n      }\n    });\n  },\n  reRender: function reRender(player) {\n    var _this3 = this;\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var _pList = [];\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        _this3.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach(function(item) {\n      _this3.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady: function onPluginsReady(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach(function(key) {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  setCurrentUserActive: function setCurrentUserActive(playerId, isActive) {\n    if (!this.pluginGroup[playerId]) {\n      return;\n    }\n    if (!isActive) {\n      this.pluginGroup[playerId]._player.isUserActive = isActive;\n      return playerId;\n    }\n    var keys = Object.keys(this.pluginGroup);\n    for (var i = 0; i < keys.length; i++) {\n      var c = this.pluginGroup[keys[i]];\n      if (c && c._player) {\n        this.pluginGroup[keys[i]]._player.isUserActive = false;\n      }\n    }\n    this.pluginGroup[playerId]._player.isUserActive = isActive;\n    return playerId;\n  },\n  getCurrentUseActiveId: function getCurrentUseActiveId() {\n    if (!this.pluginGroup) {\n      return;\n    }\n    var keys = Object.keys(this.pluginGroup);\n    for (var i = 0; i < keys.length; i++) {\n      var c = this.pluginGroup[keys[i]];\n      if (c && c._player && c._player.isUserActive) {\n        return keys[i];\n      }\n    }\n    return null;\n  },\n  destroy: function destroy(player) {\n    var cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    player.root && unObserver(player.root);\n    var plugins = this.pluginGroup[cgid]._plugins;\n    for (var _i = 0, _Object$keys = Object.keys(plugins); _i < _Object$keys.length; _i++) {\n      var item = _Object$keys[_i];\n      this.unRegister(cgid, item);\n    }\n    var _isUseActive = player.isUseActive;\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n    if (_isUseActive) {\n      var keys = Object.keys(this.pluginGroup);\n      if (keys.length > 0) {\n        this.setCurrentUserActive(keys[keys.length - 1], true);\n      }\n    }\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  BUILTIN_CLASS: \"xgplayer-built-in\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    isNoRoot: false,\n    isCustomRoot: true,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: function disableSwipeHandler() {\n    },\n    enableSwipeHandler: function enableSwipeHandler() {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: {\n      list: []\n    },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar usePreset = function usePreset2(player, Preset) {\n  var _player$config$plugin, _player$config$ignore;\n  var presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  var _presetInst = presetInst, _presetInst$plugins = _presetInst.plugins, plugins = _presetInst$plugins === void 0 ? [] : _presetInst$plugins, _presetInst$ignores = _presetInst.ignores, ignores = _presetInst$ignores === void 0 ? [] : _presetInst$ignores, _presetInst$icons = _presetInst.icons, icons = _presetInst$icons === void 0 ? {} : _presetInst$icons, _presetInst$i18n = _presetInst.i18n, i18n = _presetInst$i18n === void 0 ? [] : _presetInst$i18n;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  (_player$config$plugin = player.config.plugins).push.apply(_player$config$plugin, _toConsumableArray(plugins));\n  (_player$config$ignore = player.config.ignores).push.apply(_player$config$ignore, _toConsumableArray(ignores));\n  Object.keys(icons).map(function(key) {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  var _ci18n = player.config.i18n || [];\n  i18n.push.apply(i18n, _toConsumableArray(_ci18n));\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nvar XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach(function(key) {\n    var _s = util.typeOf(src[key]);\n    var _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      var _dst$key;\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map(function(key) {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  var ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map(function(lang2) {\n      var keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  var _i18nLangs = i18nLangs, lang = _i18nLangs.lang;\n  ext.map(function(item) {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  var _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  var texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  var _ret$langKeys;\n  var ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  (_ret$langKeys = ret.langKeys).push.apply(_ret$langKeys, _toConsumableArray(XGI18nLang.langKeys));\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nvar I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    var ret = {};\n    XGI18nLang.langKeys.map(function(key) {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","var STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nvar STATE_ARRAY = [\"ERROR\", \"INITIAL\", \"READY\", \"ATTACHING\", \"ATTACHED\", \"NOTALLOW\", \"RUNNING\", \"ENDED\", \"DESTROYED\"];\nexport { STATES, STATE_ARRAY };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, possibleConstructorReturn as _possibleConstructorReturn, get as _get, getPrototypeOf as _getPrototypeOf, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { CANPLAY, USER_ACTION, FULLSCREEN_CHANGE, READY, ERROR, LOADED_DATA, PLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, VIDEO_RESIZE, REPLAY, PLAYNEXT } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nvar PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nvar REAL_TIME_SPEED = 0;\nvar AVG_SPEED = 0;\nvar Player = /* @__PURE__ */ function(_MediaProxy) {\n  _inherits(Player2, _MediaProxy);\n  var _super = _createSuper(Player2);\n  function Player2(options) {\n    var _this;\n    _classCallCheck(this, Player2);\n    var _config = util.deepMerge(getDefaultConfig(), options);\n    _this = _super.call(this, _config);\n    _defineProperty(_assertThisInitialized(_this), \"canPlayFunc\", function() {\n      if (!_this.config) {\n        return;\n      }\n      var _this$config = _this.config, autoplay = _this$config.autoplay, defaultPlaybackRate = _this$config.defaultPlaybackRate;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", _this.__startTime);\n      if (_this.__startTime > 0 && _this.duration > 0) {\n        _this.currentTime = _this.__startTime > _this.duration ? _this.duration : _this.__startTime;\n        _this.__startTime = -1;\n      }\n      _this.playbackRate = defaultPlaybackRate;\n      (autoplay || _this._useAutoplay) && _this.mediaPlay();\n      _this.off(CANPLAY, _this.canPlayFunc);\n      _this.removeClass(STATE_CLASS.ENTER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onFullscreenChange\", function(event, isFullScreen) {\n      var delayResize = function delayResize2() {\n        util.setTimeout(_assertThisInitialized(_this), function() {\n          _this.resize();\n        }, 100);\n      };\n      var fullEl = util.getFullScreenEl();\n      if (_this._fullActionFrom) {\n        _this._fullActionFrom = \"\";\n      } else {\n        _this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: _this.currentTime,\n          duration: _this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      var isVideo = checkIsCurrentVideo(fullEl, _this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === _this._fullscreenEl || isVideo)) {\n        delayResize();\n        !_this.config.closeFocusVideoFocus && _this.media.focus();\n        _this.fullscreen = true;\n        _this.changeFullStyle(_this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        _this.emit(FULLSCREEN_CHANGE, true, _this._fullScreenOffset);\n        if (_this.cssfullscreen) {\n          _this.exitCssFullscreen();\n        }\n      } else if (_this.fullscreen) {\n        delayResize();\n        var _assertThisInitialize = _assertThisInitialized(_this), _fullScreenOffset = _assertThisInitialize._fullScreenOffset, config = _assertThisInitialize.config;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(_assertThisInitialized(_this), function() {\n            _this.fullscreen = false;\n            _this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !_this.config.closeFocusVideoFocus && _this.media.focus();\n          _this.fullscreen = false;\n          _this._fullScreenOffset = null;\n        }\n        if (!_this.cssfullscreen) {\n          _this.recoverFullStyle(_this.root, _this._fullscreenEl, STATE_CLASS.FULLSCREEN);\n        } else {\n          _this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        _this._fullscreenEl = null;\n        _this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitbeginfullscreen\", function(e) {\n      _this._fullscreenEl = _this.media;\n      _this.onFullscreenChange(e, true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitendfullscreen\", function(e) {\n      _this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(_assertThisInitialized(_this), PlAYER_HOOKS);\n    _this.config = _config;\n    _this._pluginInfoId = util.generateSessionId();\n    bindDebug(_assertThisInitialized(_this));\n    var defaultPreset = _this.constructor.defaultPreset;\n    var presets = _this.config.presets;\n    if (presets.length) {\n      var defaultIdx = presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      presets.push(defaultPreset);\n    }\n    _this.userTimer = null;\n    _this.waitTimer = null;\n    _this._state = STATES.INITIAL;\n    _this.isError = false;\n    _this._hasStart = false;\n    _this.isSeeking = false;\n    _this.isCanplay = false;\n    _this._useAutoplay = false;\n    _this.__startTime = -1;\n    _this.rotateDeg = 0;\n    _this.isActive = false;\n    _this.fullscreen = false;\n    _this.cssfullscreen = false;\n    _this.isRotateFullscreen = false;\n    _this._fullscreenEl = null;\n    _this.timeSegments = [];\n    _this._cssfullscreenEl = null;\n    _this.curDefinition = null;\n    _this._orgCss = \"\";\n    _this._fullScreenOffset = null;\n    _this._videoHeight = 0;\n    _this._videoWidth = 0;\n    _this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    _this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    _this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    _this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    _this.innerContainer = null;\n    _this.topBar = null;\n    _this.root = null;\n    _this.__i18n = I18N.init(_this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      _this.config.autoplay = false;\n    }\n    _this.database = new INDEXDB();\n    _this.isUserActive = false;\n    _this._onceSeekCanplay = null;\n    _this._isPauseBeforeSeek = 0;\n    _this.innerStates = {\n      isActiveLocked: false\n    };\n    _this._initMedia();\n    var isNoRoot = _this.config.isNoRoot;\n    var rootInit = !isNoRoot && _this._initDOM();\n    if (!isNoRoot && !rootInit) {\n      console.error(new Error(\"can't find the dom which id is \".concat(_this.config.id, \" or this.config.el does not exist\")));\n      return _possibleConstructorReturn(_this);\n    }\n    pluginsManager.init(_assertThisInitialized(_this));\n    var _this$config2 = _this.config, _this$config2$definit = _this$config2.definition, definition = _this$config2$definit === void 0 ? {} : _this$config2$definit, url = _this$config2.url;\n    if (!url && definition.list && definition.list.length > 0) {\n      var defaultDefinitionObj = definition.list.find(function(e) {\n        return e.definition && e.definition === definition.defaultDefinition;\n      });\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      _this.config.url = defaultDefinitionObj.url;\n      _this.curDefinition = defaultDefinitionObj;\n    }\n    _this._bindEvents();\n    _this._registerPresets();\n    _this._registerPlugins();\n    pluginsManager.onPluginsReady(_assertThisInitialized(_this));\n    _this.getInitDefinition();\n    _this.setState(STATES.READY);\n    util.setTimeout(_assertThisInitialized(_this), function() {\n      _this.emit(READY);\n    }, 0);\n    _this.onReady && _this.onReady();\n    if (_this.config.videoInit || _this.config.autoplay) {\n      if (!_this.hasStart || _this.state < STATES.ATTACHED) {\n        _this.start();\n      }\n    }\n    return _this;\n  }\n  _createClass(Player2, [{\n    key: \"_initMedia\",\n    value: function _initMedia() {\n      var XgVideoProxy = this.constructor.XgVideoProxy;\n      if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n        var el = this.innerContainer || this.root;\n        this.detachVideoEvents(this.media);\n        var _nVideo = new XgVideoProxy(el, this.config, this.mediaConfig);\n        this.attachVideoEvents(_nVideo);\n        this.media = _nVideo;\n      }\n      this.media.setAttribute(PLATER_ID, this.playerId);\n    }\n  }, {\n    key: \"_initDOM\",\n    value: function _initDOM() {\n      var _this2 = this;\n      var _this$config3 = this.config, id = _this$config3.id, el = _this$config3.el, isCustomRoot = _this$config3.isCustomRoot, controls = _this$config3.controls, autoplay = _this$config3.autoplay, isMobileSimulateMode = _this$config3.isMobileSimulateMode;\n      this.root = id ? document.getElementById(id) : null;\n      if (!this.root) {\n        if (el && el.nodeType === 1) {\n          this.root = el;\n        } else if (isCustomRoot) {\n          this.emit(ERROR, new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          }));\n          console.error(\"this.confg.id or this.config.el can't be empty\");\n          return false;\n        } else {\n          this.root = util.createDom(\"div\", \"\", {\n            id,\n            class: STATE_CLASS.BUILTIN_CLASS\n          });\n        }\n      }\n      var ret = pluginsManager.checkPlayerRoot(this.root);\n      if (ret) {\n        XG_DEBUG.logWarn(\"The is an Player instance already exists in this.root, destroy it and reinitialize\");\n        ret.destroy();\n      }\n      this.root.setAttribute(PLATER_ID, this.playerId);\n      this._initBaseDoms();\n      var device = isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n      this.addClass(\"\".concat(STATE_CLASS.DEFAULT, \" \").concat(STATE_CLASS.INACTIVE, \" xgplayer-\").concat(device, \" \").concat(controls ? \"\" : STATE_CLASS.NO_CONTROLS));\n      if (autoplay) {\n        this.addClass(STATE_CLASS.ENTER);\n      } else {\n        this.addClass(STATE_CLASS.NO_START);\n      }\n      if (this.config.fluid) {\n        var _this$config4 = this.config, _width = _this$config4.width, _height = _this$config4.height;\n        if (typeof _width !== \"number\" || typeof _height !== \"number\") {\n          _width = 600;\n          _height = 337.5;\n        }\n        var style = {\n          width: \"100%\",\n          height: \"0\",\n          \"max-width\": \"100%\",\n          \"padding-top\": \"\".concat(_height * 100 / _width, \"%\")\n        };\n        Object.keys(style).forEach(function(key) {\n          _this2.root.style[key] = style[key];\n        });\n      } else {\n        [\"width\", \"height\"].forEach(function(key) {\n          if (_this2.config[key]) {\n            if (typeof _this2.config[key] !== \"number\") {\n              _this2.root.style[key] = _this2.config[key];\n            } else {\n              _this2.root.style[key] = \"\".concat(_this2.config[key], \"px\");\n            }\n          }\n        });\n      }\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, left = _this$root$getBoundin.left, top = _this$root$getBoundin.top;\n      this.sizeInfo.width = width;\n      this.sizeInfo.height = height;\n      this.sizeInfo.left = left;\n      this.sizeInfo.top = top;\n      return true;\n    }\n  }, {\n    key: \"_initBaseDoms\",\n    value: function _initBaseDoms() {\n      this.topBar = null;\n      this.leftBar = null;\n      this.rightBar = null;\n      if (this.config.marginControls) {\n        this.innerContainer = util.createDom(\"xg-video-container\", \"\", {\n          \"data-index\": -1\n        }, \"xg-video-container\");\n        this.root.appendChild(this.innerContainer);\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this3 = this;\n      [\"focus\", \"blur\"].forEach(function(item) {\n        _this3.on(item, _this3[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n      });\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document && document.addEventListener(item, _this3.onFullscreenChange);\n      });\n      if (sniffer.os.isIos) {\n        this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n        this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n      }\n      this.once(LOADED_DATA, this.resize);\n      this.playFunc = function() {\n        if (!_this3.config.closeFocusVideoFocus) {\n          _this3.media.focus();\n        }\n      };\n      this.once(PLAY, this.playFunc);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      var _this4 = this;\n      this.root && this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document.removeEventListener(item, _this4.onFullscreenChange);\n      });\n      this.playFunc && this.off(PLAY, this.playFunc);\n      this.off(CANPLAY, this.canPlayFunc);\n      this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n  }, {\n    key: \"_startInit\",\n    value: function _startInit(url) {\n      var _this5 = this;\n      if (!this.media) {\n        return;\n      }\n      if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n        url = \"\";\n        this.emit(URL_NULL);\n        XG_DEBUG.logWarn(\"config.url is null, please get url and run player._startInit(url)\");\n        if (this.config.nullUrlStart) {\n          return;\n        }\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        this._attachSourceEvents(this.media, url);\n      } else if (!this.media.src || this.media.src !== url) {\n        this.media.src = url;\n      } else if (!url) {\n        this.media.removeAttribute(\"src\");\n      }\n      if (util.typeOf(this.config.volume) === \"Number\") {\n        this.volume = this.config.volume;\n      }\n      var _root = this.innerContainer ? this.innerContainer : this.root;\n      if (_root && this.media instanceof window.Element && !_root.contains(this.media)) {\n        _root.insertBefore(this.media, _root.firstChild);\n      }\n      var readyState = this.media.readyState;\n      XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n      if (this.config.autoplay) {\n        !util.isMSE(this.media) && this.load();\n        (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n      }\n      var startTime = this.config.startTime;\n      this.__startTime = startTime > 0 ? startTime : -1;\n      this.config.startTime = 0;\n      if (readyState >= 2 && this.duration > 0) {\n        this.canPlayFunc();\n      } else {\n        this.on(CANPLAY, this.canPlayFunc);\n      }\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        pluginsManager.afterInit(this);\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHED);\n      util.setTimeout(this, function() {\n        _this5.emit(COMPLETE);\n      }, 0);\n    }\n  }, {\n    key: \"_registerPlugins\",\n    value: function _registerPlugins() {\n      var _this6 = this;\n      var isInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this._loadingPlugins = [];\n      var ignores = this.config.ignores || [];\n      var plugins = this.config.plugins || [];\n      var i18n = this.config.i18n || [];\n      isInit && I18N.extend(i18n, this.__i18n);\n      var ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n      var cuPlugins = this.plugins;\n      plugins.forEach(function(plugin) {\n        try {\n          var pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n          if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n            return null;\n          }\n          if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n            return;\n          }\n          if (plugin.lazy && plugin.loader) {\n            var loadingPlugin = pluginsManager.lazyRegister(_this6, plugin);\n            if (plugin.forceBeforeInit) {\n              loadingPlugin.then(function() {\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              }).catch(function(e) {\n                XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              });\n              _this6._loadingPlugins.push(loadingPlugin);\n            }\n            return;\n          }\n          return _this6.registerPlugin(plugin);\n        } catch (err) {\n          XG_DEBUG.logError(\"_registerPlugins:\", err);\n        }\n      });\n    }\n  }, {\n    key: \"_registerPresets\",\n    value: function _registerPresets() {\n      var _this7 = this;\n      this.config.presets.forEach(function(preset) {\n        usePreset(_this7, preset);\n      });\n    }\n  }, {\n    key: \"_getRootByPosition\",\n    value: function _getRootByPosition(position) {\n      var _root = null;\n      switch (position) {\n        case POSITIONS.ROOT_RIGHT:\n          if (!this.rightBar) {\n            this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n          }\n          _root = this.rightBar;\n          break;\n        case POSITIONS.ROOT_LEFT:\n          if (!this.leftBar) {\n            this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n          }\n          _root = this.leftBar;\n          break;\n        case POSITIONS.ROOT_TOP:\n          if (!this.topBar) {\n            this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n            if (this.config.topBarAutoHide) {\n              util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n            }\n          }\n          _root = this.topBar;\n          break;\n        default:\n          _root = this.innerContainer || this.root;\n          break;\n      }\n      return _root;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin, config) {\n      var _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n      var PLUFGIN = _retPlugin.PLUFGIN, options = _retPlugin.options;\n      var plugins = this.config.plugins;\n      var exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n      !exits && plugins.push(PLUFGIN);\n      var _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n      _pConfig.root && (options.root = _pConfig.root);\n      _pConfig.position && (options.position = _pConfig.position);\n      var position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n      if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n        return this.controls && this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n      }\n      if (!options.root) {\n        options.root = PLUFGIN.pluginName === \"controls\" ? this.root : this._getRootByPosition(position);\n      }\n      return pluginsManager.register(this, PLUFGIN, options);\n    }\n  }, {\n    key: \"deregister\",\n    value: function deregister(plugin) {\n      if (typeof plugin === \"string\") {\n        pluginsManager.unRegister(this, plugin);\n      } else if (plugin instanceof BasePlugin) {\n        pluginsManager.unRegister(this, plugin.pluginName);\n      }\n    }\n  }, {\n    key: \"unRegisterPlugin\",\n    value: function unRegisterPlugin(plugin) {\n      var removedFromConfig = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      this.deregister(plugin);\n      if (removedFromConfig) {\n        this.removePluginFromConfig(plugin);\n      }\n    }\n  }, {\n    key: \"removePluginFromConfig\",\n    value: function removePluginFromConfig(plugin) {\n      var pluginName;\n      if (typeof plugin === \"string\") {\n        pluginName = plugin;\n      } else if (plugin instanceof BasePlugin) {\n        pluginName = plugin.pluginName;\n      }\n      if (!pluginName) {\n        return;\n      }\n      for (var i = this.config.plugins.length - 1; i > -1; i--) {\n        var _plugin = this.config.plugins[i];\n        if (_plugin.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n          this.config.plugins.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return pluginsManager.getPlugins(this);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(pluginName) {\n      var plugin = pluginsManager.findPlugin(this, pluginName);\n      return plugin && plugin.pluginName ? plugin : null;\n    }\n  }, {\n    key: \"addClass\",\n    value: function addClass(className) {\n      if (!this.root) {\n        return;\n      }\n      if (!util.hasClass(this.root, className)) {\n        util.addClass(this.root, className);\n      }\n    }\n  }, {\n    key: \"removeClass\",\n    value: function removeClass(className) {\n      if (!this.root) {\n        return;\n      }\n      util.removeClass(this.root, className);\n    }\n  }, {\n    key: \"hasClass\",\n    value: function hasClass(className) {\n      if (!this.root) {\n        return;\n      }\n      return util.hasClass(this.root, className);\n    }\n  }, {\n    key: \"setAttribute\",\n    value: function setAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.setAttribute(key, value);\n    }\n  }, {\n    key: \"removeAttribute\",\n    value: function removeAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.removeAttribute(key, value);\n    }\n  }, {\n    key: \"start\",\n    value: function start(url) {\n      var _this8 = this;\n      if (this.state > STATES.ATTACHING) {\n        return;\n      }\n      if (!url && !this.config.url) {\n        this.getInitDefinition();\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHING);\n      this._registerPlugins(false);\n      return pluginsManager.beforeInit(this).then(function() {\n        if (!_this8.config) {\n          return;\n        }\n        if (!url) {\n          url = _this8.url || _this8.config.url;\n        }\n        var _furl = _this8.preProcessUrl(url);\n        var ret = _this8._startInit(_furl.url);\n        return ret;\n      }).catch(function(e) {\n        e.fileName = \"player\";\n        e.lineNumber = \"236\";\n        XG_DEBUG.logError(\"start:beforeInit:\", e);\n        throw e;\n      });\n    }\n  }, {\n    key: \"switchURL\",\n    value: function switchURL(url, options) {\n      var _this9 = this;\n      var _src = url;\n      if (util.typeOf(url) === \"Object\") {\n        _src = url.url;\n      }\n      _src = this.preProcessUrl(_src).url;\n      var curTime = this.currentTime;\n      this.__startTime = curTime;\n      var isPaused = this.paused && !this.isError;\n      this.src = _src;\n      return new Promise(function(resolve, reject) {\n        var _error = function _error2(e) {\n          _this9.off(\"timeupdate\", _canplay);\n          _this9.off(\"canplay\", _canplay);\n          reject(e);\n        };\n        var _canplay = function _canplay2() {\n          if (_this9.duration > 0 && _this9.__startTime > 0) {\n            _this9.currentTime = _this9.__startTime;\n            _this9.__startTime = -1;\n          }\n          if (isPaused) {\n            _this9.pause();\n          }\n          _this9.off(\"error\", _error);\n          resolve(true);\n        };\n        _this9.once(\"error\", _error);\n        if (!_src) {\n          _this9.errorHandler(\"error\", {\n            code: 6,\n            message: \"empty_src\"\n          });\n          return;\n        }\n        if (sniffer.os.isAndroid) {\n          _this9.once(\"timeupdate\", _canplay);\n        } else {\n          _this9.once(\"canplay\", _canplay);\n        }\n        _this9.play();\n      });\n    }\n  }, {\n    key: \"videoPlay\",\n    value: function videoPlay() {\n      this.mediaPlay();\n    }\n  }, {\n    key: \"mediaPlay\",\n    value: function mediaPlay() {\n      var _this10 = this;\n      if (!this.hasStart && this.state < STATES.ATTACHED) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.addClass(STATE_CLASS.ENTER);\n        this.start();\n        this._useAutoplay = true;\n        return;\n      }\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n      }\n      var playPromise = _get(_getPrototypeOf(Player2.prototype), \"play\", this).call(this);\n      if (playPromise !== void 0 && playPromise && playPromise.then) {\n        playPromise.then(function() {\n          _this10.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          _this10.addClass(STATE_CLASS.PLAYING);\n          if (_this10.state < STATES.RUNNING) {\n            XG_DEBUG.logInfo(\">>>>playPromise.then\");\n            _this10.setState(STATES.RUNNING);\n            _this10.emit(AUTOPLAY_STARTED);\n          }\n        }).catch(function(e) {\n          XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n          if (_this10.media && _this10.media.error) {\n            _this10.onError();\n            _this10.removeClass(STATE_CLASS.ENTER);\n            return;\n          }\n          if (e.name === \"NotAllowedError\") {\n            _this10._errorTimer = util.setTimeout(_this10, function() {\n              _this10._errorTimer = null;\n              _this10.emit(AUTOPLAY_PREVENTED);\n              _this10.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              _this10.removeClass(STATE_CLASS.ENTER);\n              _this10.pause();\n              _this10.setState(STATES.NOTALLOW);\n            }, 0);\n          }\n        });\n      } else {\n        XG_DEBUG.logWarn(\"video.play not return promise\");\n        if (this.state < STATES.RUNNING) {\n          this.setState(STATES.RUNNING);\n          this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          this.removeClass(STATE_CLASS.NO_START);\n          this.removeClass(STATE_CLASS.ENTER);\n          this.addClass(STATE_CLASS.PLAYING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }\n      return playPromise;\n    }\n  }, {\n    key: \"mediaPause\",\n    value: function mediaPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"videoPause\",\n    value: function videoPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this11 = this;\n      this.removeClass(STATE_CLASS.PAUSED);\n      return runHooks(this, \"play\", function() {\n        return _this11.mediaPlay();\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _this12 = this;\n      runHooks(this, \"pause\", function() {\n        _get(_getPrototypeOf(Player2.prototype), \"pause\", _this12).call(_this12);\n      });\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time, status) {\n      var _this13 = this;\n      if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n        return;\n      }\n      var _this$config5 = this.config, isSeekedPlay = _this$config5.isSeekedPlay, seekedStatus = _this$config5.seekedStatus;\n      var _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n      time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n      !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n      this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n      this._onceSeekCanplay = function() {\n        _this13.removeClass(STATE_CLASS.ENTER);\n        _this13.isSeeking = false;\n        switch (_status) {\n          case \"play\":\n            _this13.play();\n            break;\n          case \"pause\":\n            _this13.pause();\n            break;\n          default:\n            _this13._isPauseBeforeSeek > 1 || _this13.paused ? _this13.pause() : _this13.play();\n        }\n        _this13._isPauseBeforeSeek = 0;\n        _this13._onceSeekCanplay = null;\n      };\n      this.once(SEEKED, this._onceSeekCanplay);\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.currentTime = time;\n        this.play();\n      } else {\n        this.currentTime = time;\n      }\n    }\n  }, {\n    key: \"getInitDefinition\",\n    value: function getInitDefinition() {\n      var _this14 = this;\n      var _this$config6 = this.config, definition = _this$config6.definition, url = _this$config6.url;\n      if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n        definition.list.map(function(item) {\n          if (item.definition === definition.defaultDefinition) {\n            _this14.config.url = item.url;\n            _this14.curDefinition = item;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      var _this15 = this;\n      var definition = this.config.definition;\n      if (Array.isArray(definition === null || definition === void 0 ? void 0 : definition.list)) {\n        definition.list.forEach(function(item) {\n          if ((to === null || to === void 0 ? void 0 : to.definition) === item.definition) {\n            _this15.curDefinition = item;\n          }\n        });\n      }\n      if (to !== null && to !== void 0 && to.bitrate && typeof to.bitrate !== \"number\") {\n        to.bitrate = parseInt(to.bitrate, 10) || 0;\n      }\n      this.emit(DEFINITION_CHANGE, {\n        from,\n        to\n      });\n      if (!this.hasStart) {\n        this.config.url = to.url;\n        return;\n      }\n      var ret = this.switchURL(to.url, _objectSpread2({\n        seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\"\n      }, to));\n      if (ret && ret.then) {\n        ret.then(function() {\n          _this15.emit(AFTER_DEFINITION_CHANGE, {\n            from,\n            to\n          });\n        });\n      } else {\n        this.emit(AFTER_DEFINITION_CHANGE, {\n          from,\n          to\n        });\n      }\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      this.load();\n      this.reloadFunc = function() {\n        this.play();\n      };\n      this.once(LOADED_DATA, this.reloadFunc);\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState() {\n      var _this16 = this;\n      var NOT_ALLOW_AUTOPLAY = STATE_CLASS.NOT_ALLOW_AUTOPLAY, PLAYING = STATE_CLASS.PLAYING, NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, REPLAY2 = STATE_CLASS.REPLAY, ENTER = STATE_CLASS.ENTER, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, LOADING = STATE_CLASS.LOADING;\n      var clsList = [NOT_ALLOW_AUTOPLAY, PLAYING, NO_START, PAUSED, REPLAY2, ENTER, ENDED, ERROR2, LOADING];\n      this.hasStart = false;\n      this.isError = false;\n      this._useAutoplay = false;\n      this.mediaPause();\n      this._accPlayed.acc = 0;\n      this._accPlayed.t = 0;\n      this._accPlayed.loopAcc = 0;\n      clsList.forEach(function(cls) {\n        _this16.removeClass(cls);\n      });\n      this.addClass(STATE_CLASS.NO_START);\n      this.emit(RESET);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this17 = this;\n      var unregisterPlugins = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var isResetConfig = arguments.length > 1 ? arguments[1] : void 0;\n      this.resetState();\n      var plugins = this.plugins;\n      if (!plugins) {\n        return;\n      }\n      unregisterPlugins.map(function(pn) {\n        _this17.deregister(pn);\n      });\n      if (isResetConfig) {\n        var de = getDefaultConfig();\n        Object.keys(this.config).keys(function(k) {\n          if (_this17.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n            _this17.config[k] = de[k];\n          }\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this18 = this;\n      var innerContainer = this.innerContainer, root = this.root, media = this.media;\n      if (!media) {\n        return;\n      }\n      this.hasStart = false;\n      this._useAutoplay = false;\n      root && root.removeAttribute(PLATER_ID);\n      this.updateAcc(\"destroy\");\n      this._unbindEvents();\n      this._detachSourceEvents(this.media);\n      util.clearAllTimers(this);\n      this.emit(DESTROY);\n      pluginsManager.destroy(this);\n      delHooksDescriptor(this);\n      _get(_getPrototypeOf(Player2.prototype), \"destroy\", this).call(this);\n      if (this.fullscreen && this._fullscreenEl === root) {\n        this.exitFullscreen();\n      }\n      if (innerContainer) {\n        var _c = innerContainer.children;\n        for (var i = 0; i < _c.length; i++) {\n          innerContainer.removeChild(_c[i]);\n        }\n      }\n      root && !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n      [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map(function(item) {\n        _this18[item] && root.removeChild(_this18[item]);\n        _this18[item] = null;\n      });\n      var cList = root ? root.className.split(\" \") : [];\n      var isBuildIn = root && util.hasClass(root, STATE_CLASS.BUILTIN_CLASS);\n      if (cList.length > 0) {\n        root.className = cList.filter(function(name) {\n          return name.indexOf(\"xgplayer\") < 0;\n        }).join(\" \");\n      } else {\n        root && (root.className = \"\");\n      }\n      this.removeAttribute(\"data-xgfill\");\n      [\"isSeeking\", \"isCanplay\", \"isActive\", \"cssfullscreen\", \"fullscreen\"].forEach(function(key) {\n        _this18[key] = false;\n      });\n      isBuildIn && this.root.parentNode && this.root.parentNode.removeChild(this.root);\n    }\n  }, {\n    key: \"replay\",\n    value: function replay() {\n      var _this19 = this;\n      this.removeClass(STATE_CLASS.ENDED);\n      this.currentTime = 0;\n      this.isSeeking = false;\n      runHooks(this, \"replay\", function() {\n        _this19.once(SEEKED, function() {\n          var playPromise = _this19.mediaPlay();\n          if (playPromise && playPromise.catch) {\n            playPromise.catch(function(err) {\n              console.log(err);\n            });\n          }\n        });\n        _this19.play();\n        _this19.emit(REPLAY);\n        _this19.onPlay();\n      });\n    }\n  }, {\n    key: \"retry\",\n    value: function retry() {\n      var _this20 = this;\n      this.removeClass(STATE_CLASS.ERROR);\n      this.addClass(STATE_CLASS.LOADING);\n      runHooks(this, \"retry\", function() {\n        var cur = _this20.currentTime;\n        var url = _this20.config.url;\n        var _srcRet = !util.isMSE(_this20.media) ? _this20.preProcessUrl(url) : {\n          url\n        };\n        _this20.src = _srcRet.url;\n        !_this20.config.isLive && (_this20.currentTime = cur);\n        _this20.once(CANPLAY, function() {\n          _this20.mediaPlay();\n        });\n      });\n    }\n  }, {\n    key: \"changeFullStyle\",\n    value: function changeFullStyle(root, el, rootClass, pClassName) {\n      if (!root) {\n        return;\n      }\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (!this._orgCss) {\n        this._orgCss = util.filterStyleFromText(root);\n      }\n      util.addClass(root, rootClass);\n      if (el && el !== root && !this._orgPCss) {\n        this._orgPCss = util.filterStyleFromText(el);\n        util.addClass(el, pClassName);\n        el.setAttribute(PLATER_ID, this.playerId);\n      }\n    }\n  }, {\n    key: \"recoverFullStyle\",\n    value: function recoverFullStyle(root, el, rootClass, pClassName) {\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (this._orgCss) {\n        util.setStyleFromCsstext(root, this._orgCss);\n        this._orgCss = \"\";\n      }\n      util.removeClass(root, rootClass);\n      if (el && el !== root && this._orgPCss) {\n        util.setStyleFromCsstext(el, this._orgPCss);\n        this._orgPCss = \"\";\n        util.removeClass(el, pClassName);\n        el.removeAttribute(PLATER_ID);\n      }\n    }\n  }, {\n    key: \"getFullscreen\",\n    value: function getFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      var root = this.root, media = this.media;\n      if (!el) {\n        el = root;\n      }\n      this._fullScreenOffset = {\n        top: util.scrollTop(),\n        left: util.scrollLeft()\n      };\n      this._fullscreenEl = el;\n      this._fullActionFrom = \"get\";\n      var fullEl = util.getFullScreenEl();\n      if (fullEl === this._fullscreenEl) {\n        this.onFullscreenChange();\n        return Promise.resolve();\n      }\n      try {\n        for (var i = 0; i < GET_FULLSCREEN_API.length; i++) {\n          var key = GET_FULLSCREEN_API[i];\n          if (el[key]) {\n            var ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n          media.webkitEnterFullscreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(el) {\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      }\n      if (!this._fullscreenEl && !util.getFullScreenEl()) {\n        return;\n      }\n      this.root;\n      var media = this.media;\n      this._fullActionFrom = \"exit\";\n      try {\n        for (var i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n          var key = EXIT_FULLSCREEN_API[i];\n          if (document[key]) {\n            var ret = document[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media && media.webkitSupportsFullscreen) {\n          media.webkitExitFullScreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"getCssFullscreen\",\n    value: function getCssFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      } else if (this.fullscreen) {\n        this.exitFullscreen();\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      this.changeFullStyle(this.root, el, _class);\n      var _this$config$fullscre = this.config.fullscreen, fullscreen = _this$config$fullscre === void 0 ? {} : _this$config$fullscre;\n      var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.fullscreen = true;\n        this.emit(FULLSCREEN_CHANGE, true);\n      }\n      this._cssfullscreenEl = el;\n      this.cssfullscreen = true;\n      this.emit(CSS_FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitCssFullscreen\",\n    value: function exitCssFullscreen() {\n      var _class = this._cssfullscreenEl ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      if (!this.fullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n      } else {\n        var _this$config$fullscre2 = this.config.fullscreen, fullscreen = _this$config$fullscre2 === void 0 ? {} : _this$config$fullscre2;\n        var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n        if (useCssFullscreen) {\n          this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n          this.fullscreen = false;\n          this.emit(FULLSCREEN_CHANGE, false);\n        } else {\n          this.removeClass(_class);\n        }\n      }\n      this._cssfullscreenEl = null;\n      this.cssfullscreen = false;\n      this.emit(CSS_FULLSCREEN_CHANGE, false);\n    }\n  }, {\n    key: \"getRotateFullscreen\",\n    value: function getRotateFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.cssfullscreen) {\n        this.exitCssFullscreen(el);\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this._fullscreenEl = el || this.root;\n      this.changeFullStyle(this.root, el, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = true;\n      this.fullscreen = true;\n      this.setRotateDeg(90);\n      this._rootStyle = this.root.getAttribute(\"style\");\n      this.root.style.width = \"\".concat(window.innerHeight, \"px\");\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitRotateFullscreen\",\n    value: function exitRotateFullscreen(el) {\n      var _class = this._fullscreenEl !== this.root ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this.recoverFullStyle(this.root, this._fullscreenEl, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = false;\n      this.fullscreen = false;\n      this.setRotateDeg(0);\n      this.emit(FULLSCREEN_CHANGE, false);\n      if (this._rootStyle) {\n        this.root.style.style = this._rootStyle;\n        this._rootStyle = false;\n      }\n    }\n  }, {\n    key: \"setRotateDeg\",\n    value: function setRotateDeg(deg) {\n      if (window.orientation === 90 || window.orientation === -90) {\n        this.rotateDeg = 0;\n      } else {\n        this.rotateDeg = deg;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: !this.config.closeDelayBlur,\n        delay: this.config.inactive\n      };\n      if (this.isActive) {\n        this.onFocus(data);\n        return;\n      }\n      this.emit(PLAYER_FOCUS, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        ignorePaused: false\n      };\n      if (!this.isActive) {\n        this.onBlur(data);\n        return;\n      }\n      this.emit(PLAYER_BLUR, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      var _this21 = this;\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: true,\n        delay: 3e3\n      };\n      var innerStates = this.innerStates;\n      this.isActive = true;\n      this.removeClass(STATE_CLASS.INACTIVE);\n      if (this.userTimer) {\n        util.clearTimeout(this, this.userTimer);\n        this.userTimer = null;\n      }\n      if (data.isLock !== void 0) {\n        innerStates.isActiveLocked = data.isLock;\n      }\n      if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n        if (this.userTimer) {\n          util.clearTimeout(this, this.userTimer);\n          this.userTimer = null;\n        }\n        return;\n      }\n      var time = data && data.delay ? data.delay : this.config.inactive;\n      this.userTimer = util.setTimeout(this, function() {\n        _this21.userTimer = null;\n        _this21.blur();\n      }, time);\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ref$ignorePaused = _ref.ignorePaused, ignorePaused = _ref$ignorePaused === void 0 ? false : _ref$ignorePaused;\n      if (!this.isActive || this.innerStates.isActiveLocked) {\n        return;\n      }\n      var closePauseVideoFocus = this.config.closePauseVideoFocus;\n      this.isActive = false;\n      if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n        this.addClass(STATE_CLASS.INACTIVE);\n      }\n    }\n  }, {\n    key: \"onEmptied\",\n    value: function onEmptied() {\n      this.updateAcc(\"emptied\");\n    }\n  }, {\n    key: \"onCanplay\",\n    value: function onCanplay() {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.ERROR);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.isCanplay = true;\n      this.waitTimer && util.clearTimeout(this, this.waitTimer);\n    }\n  }, {\n    key: \"onDurationchange\",\n    value: function onDurationchange() {\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime;\n        this.__startTime = -1;\n      }\n    }\n  }, {\n    key: \"onLoadeddata\",\n    value: function onLoadeddata() {\n      this.isError = false;\n      this.isSeeking = false;\n    }\n  }, {\n    key: \"onLoadstart\",\n    value: function onLoadstart() {\n      this.removeClass(STATE_CLASS.ERROR);\n      this.isCanplay = false;\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (this.state === STATES.ENDED) {\n        this.setState(STATES.RUNNING);\n      }\n      this.removeClass(STATE_CLASS.PAUSED);\n      this.ended && this.removeClass(STATE_CLASS.ENDED);\n      !this.config.closePlayVideoFocus && this.focus();\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      this.addClass(STATE_CLASS.PAUSED);\n      this.updateAcc(\"pause\");\n      if (!this.config.closePauseVideoFocus) {\n        if (this.userTimer) {\n          util.clearTimeout(this, this.userTimer);\n          this.userTimer = null;\n        }\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.updateAcc(\"ended\");\n      this.addClass(STATE_CLASS.ENDED);\n      this.setState(STATES.ENDED);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this.isError = true;\n      this.updateAcc(\"error\");\n      this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n      this.removeClass(STATE_CLASS.NO_START);\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.addClass(STATE_CLASS.ERROR);\n    }\n  }, {\n    key: \"onSeeking\",\n    value: function onSeeking() {\n      if (!this.isSeeking) {\n        this.updateAcc(\"seeking\");\n      }\n      this.isSeeking = true;\n      this.addClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onSeeked\",\n    value: function onSeeked() {\n      this.isSeeking = false;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.removeClass(STATE_CLASS.LOADING);\n      this.removeClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onWaiting\",\n    value: function onWaiting() {\n      var _this22 = this;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.updateAcc(\"waiting\");\n      this.waitTimer = util.setTimeout(this, function() {\n        _this22.addClass(STATE_CLASS.LOADING);\n        util.clearTimeout(_this22, _this22.waitTimer);\n        _this22.waitTimer = null;\n      }, this.config.minWaitDelay);\n    }\n  }, {\n    key: \"onPlaying\",\n    value: function onPlaying() {\n      var _this23 = this;\n      this.isError = false;\n      var NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, REPLAY2 = STATE_CLASS.REPLAY, LOADING = STATE_CLASS.LOADING;\n      var clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING];\n      clsList.forEach(function(cls) {\n        _this23.removeClass(cls);\n      });\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate() {\n      !this._videoHeight && this.media.videoHeight && this.resize();\n      if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n        this.removeClass(STATE_CLASS.LOADING);\n        util.clearTimeout(this, this.waitTimer);\n        this.waitTimer = null;\n      }\n      if (!this.paused && this.state < STATES.RUNNING && this.duration) {\n        this.setState(STATES.RUNNING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onVolumechange\",\n    value: function onVolumechange() {\n      util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n    }\n  }, {\n    key: \"onRatechange\",\n    value: function onRatechange() {\n      this.config.defaultPlaybackRate = this.playbackRate;\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action, params) {\n      if (!this.media || !action || !event) {\n        return;\n      }\n      var eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n      if (params.props && util.typeOf(params.props) !== \"Array\") {\n        params.props = [params.props];\n      }\n      this.emit(USER_ACTION, _objectSpread2({\n        eventType,\n        action,\n        currentTime: this.currentTime,\n        duration: this.duration,\n        ended: this.ended,\n        event\n      }, params));\n    }\n  }, {\n    key: \"updateAcc\",\n    value: function updateAcc(endType) {\n      if (this._accPlayed.t) {\n        var _at = new Date().getTime() - this._accPlayed.t;\n        this._accPlayed.acc += _at;\n        this._accPlayed.t = 0;\n        if (endType === \"ended\" || this.ended) {\n          this._accPlayed.loopAcc = this._accPlayed.acc;\n        }\n      }\n    }\n  }, {\n    key: \"checkBuffer\",\n    value: function checkBuffer(time) {\n      var buffered = this.media.buffered;\n      if (!buffered || buffered.length === 0 || !this.duration) {\n        return true;\n      }\n      var currentTime = time || this.media.currentTime || 0.2;\n      var len = buffered.length;\n      for (var i = 0; i < len; i++) {\n        if (buffered.start(i) <= currentTime && buffered.end(i) > currentTime) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"resizePosition\",\n    value: function resizePosition() {\n      var _this$videoPos = this.videoPos, vy = _this$videoPos.vy, vx = _this$videoPos.vx, h = _this$videoPos.h, w = _this$videoPos.w;\n      var rotate = this.videoPos.rotate;\n      if (rotate < 0 && h < 0 && w < 0) {\n        return;\n      }\n      var _pi = this.videoPos._pi;\n      if (!_pi && this.media.videoHeight) {\n        _pi = this.media.videoWidth / this.media.videoHeight * 100;\n      }\n      if (!_pi) {\n        return;\n      }\n      this.videoPos.pi = _pi;\n      rotate = rotate < 0 ? 0 : rotate;\n      var _pos = {\n        rotate\n      };\n      var offsetY = 0;\n      var offsetX = 0;\n      var scale = 1;\n      var _t = Math.abs(rotate / 90);\n      var root = this.root, innerContainer = this.innerContainer;\n      var width = root.offsetWidth;\n      var height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n      var rHeight = height;\n      var rWidth = width;\n      if (_t % 2 === 0) {\n        scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n        _pos.scale = scale;\n        offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n        _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n        offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n        _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n        this.media.style.width = \"\".concat(rWidth, \"px\");\n        this.media.style.height = \"\".concat(rHeight, \"px\");\n      } else if (_t % 2 === 1) {\n        rWidth = height;\n        rHeight = width;\n        var offset = height - width;\n        offsetX = -offset / 2 / rWidth * 100;\n        _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n        offsetY = offset / 2 / rHeight * 100;\n        _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n        _pos.scale = scale;\n        this.media.style.width = \"\".concat(rWidth, \"px\");\n        this.media.style.height = \"\".concat(rHeight, \"px\");\n      }\n      var formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n      this.media.style.transform = formStyle;\n      this.media.style.webkitTransform = formStyle;\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        h: 0,\n        y: 0,\n        x: 0,\n        w: 0\n      };\n      if (!this.media || !pos || !pos.h) {\n        return;\n      }\n      var videoPos = this.videoPos;\n      videoPos.h = pos.h * 100 || 0;\n      videoPos.w = pos.w * 100 || 0;\n      videoPos.vx = pos.x * 100 || 0;\n      videoPos.vy = pos.y * 100 || 0;\n      this.resizePosition();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this24 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        if (key !== \"plugins\") {\n          _this24.config[key] = config[key];\n          var plugin = _this24.plugins[key.toLowerCase()];\n          if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n            plugin.setConfig(config[key]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"playNext\",\n    value: function playNext(config) {\n      var _this25 = this;\n      this.resetState();\n      this.setConfig(config);\n      this._currentTime = 0;\n      this._duration = 0;\n      runHooks(this, \"playnext\", function() {\n        _this25.start();\n        _this25.emit(PLAYNEXT, config);\n      });\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this26 = this;\n      if (!this.media || !this.root) {\n        return;\n      }\n      var containerSize = this.root.getBoundingClientRect();\n      this.sizeInfo.width = containerSize.width;\n      this.sizeInfo.height = containerSize.height;\n      this.sizeInfo.left = containerSize.left;\n      this.sizeInfo.top = containerSize.top;\n      var _this$media = this.media, videoWidth = _this$media.videoWidth, videoHeight = _this$media.videoHeight;\n      var _this$config7 = this.config, fitVideoSize = _this$config7.fitVideoSize, videoFillMode = _this$config7.videoFillMode;\n      if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n        this.setAttribute(\"data-xgfill\", videoFillMode);\n      }\n      if (!videoHeight || !videoWidth) {\n        return;\n      }\n      this._videoHeight = videoHeight;\n      this._videoWidth = videoWidth;\n      var controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n      var width = containerSize.width;\n      var height = containerSize.height - controlsHeight;\n      var videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n      var fit = parseInt(width / height * 1e3, 10);\n      var rWidth = width;\n      var rHeight = height;\n      var _style = {};\n      if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n        rHeight = width / videoFit * 1e3;\n        if (this.config.fluid) {\n          _style.paddingTop = \"\".concat(rHeight * 100 / rWidth, \"%\");\n        } else {\n          _style.height = \"\".concat(rHeight + controlsHeight, \"px\");\n        }\n      } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n        rWidth = videoFit * height / 1e3;\n        _style.width = \"\".concat(rWidth, \"px\");\n      }\n      if (!this.fullscreen && !this.cssfullscreen) {\n        Object.keys(_style).forEach(function(key) {\n          _this26.root.style[key] = _style[key];\n        });\n      }\n      if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n        this.setAttribute(\"data-xgfill\", \"cover\");\n      }\n      var data = {\n        videoScale: videoFit,\n        vWidth: rWidth,\n        vHeight: rHeight,\n        cWidth: rWidth,\n        cHeight: rHeight + controlsHeight\n      };\n      this.resizePosition();\n      this.emit(VIDEO_RESIZE, data);\n    }\n  }, {\n    key: \"updateObjectPosition\",\n    value: function updateObjectPosition() {\n      var left = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      if (this.media.updateObjectPosition) {\n        this.media.updateObjectPosition(left, top);\n        return;\n      }\n      this.media.style.objectPosition = \"\".concat(left * 100, \"% \").concat(top * 100, \"%\");\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      XG_DEBUG.logInfo(\"setState\", \"state from:\".concat(STATE_ARRAY[this.state], \" to:\").concat(STATE_ARRAY[newState]));\n      this._state = newState;\n    }\n  }, {\n    key: \"preProcessUrl\",\n    value: function preProcessUrl(url, ext) {\n      var preProcessUrl2 = this.config.preProcessUrl;\n      return !util.isBlob(url) && preProcessUrl2 && typeof preProcessUrl2 === \"function\" ? preProcessUrl2(url, ext) : {\n        url\n      };\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    }\n  }, {\n    key: \"isFullscreen\",\n    get: function get() {\n      return this.fullscreen;\n    }\n  }, {\n    key: \"isCssfullScreen\",\n    get: function get() {\n      return this.cssfullscreen;\n    }\n  }, {\n    key: \"hasStart\",\n    get: function get() {\n      return this._hasStart;\n    },\n    set: function set(bool) {\n      if (typeof bool === \"boolean\") {\n        this._hasStart = bool;\n        if (bool === false) {\n          this.setState(STATES.READY);\n        }\n        this.emit(\"hasstart\");\n      }\n    }\n  }, {\n    key: \"isPlaying\",\n    get: function get() {\n      return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n    },\n    set: function set(value) {\n      if (value) {\n        this.setState(STATES.RUNNING);\n      } else {\n        this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n      }\n    }\n  }, {\n    key: \"definitionList\",\n    get: function get() {\n      if (!this.config || !this.config.definition) {\n        return [];\n      }\n      return this.config.definition.list || [];\n    },\n    set: function set(list) {\n      var _this27 = this;\n      var definition = this.config.definition;\n      var curDef = null;\n      var targetDef = null;\n      definition.list = list;\n      this.emit(\"resourceReady\", list);\n      list.forEach(function(item) {\n        var _this27$curDefinition;\n        if (((_this27$curDefinition = _this27.curDefinition) === null || _this27$curDefinition === void 0 ? void 0 : _this27$curDefinition.definition) === item.definition) {\n          curDef = item;\n        }\n        if (definition.defaultDefinition === item.definition) {\n          targetDef = item;\n        }\n      });\n      if (!targetDef && list.length > 0) {\n        targetDef = list[0];\n      }\n      curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n    }\n  }, {\n    key: \"videoFrameInfo\",\n    get: function get() {\n      var ret = {\n        total: 0,\n        dropped: 0,\n        corrupted: 0,\n        droppedRate: 0,\n        droppedDuration: 0\n      };\n      if (!this.media || !this.media.getVideoPlaybackQuality) {\n        return ret;\n      }\n      var _quality = this.media.getVideoPlaybackQuality();\n      ret.dropped = _quality.droppedVideoFrames || 0;\n      ret.total = _quality.totalVideoFrames || 0;\n      ret.corrupted = _quality.corruptedVideoFrames || 0;\n      if (ret.total > 0) {\n        ret.droppedRate = ret.dropped / ret.total * 100;\n        ret.droppedDuration = parseInt(this.cumulateTime / ret.total * ret.dropped, 0);\n      }\n      return ret;\n    }\n  }, {\n    key: \"controls\",\n    get: function get() {\n      return this.plugins.controls;\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.config.lang;\n    },\n    set: function set(lang) {\n      var result = I18N.langKeys.filter(function(key) {\n        return key === lang;\n      });\n      if (result.length === 0 && lang !== \"zh\") {\n        console.error(\"Sorry, set lang fail, because the language [\".concat(lang, \"] is not supported now, list of all supported languages is [\").concat(I18N.langKeys.join(), \"] \"));\n        return;\n      }\n      this.config.lang = lang;\n      pluginsManager.setLang(lang, this);\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      var _l = this.config.lang;\n      if (_l === \"zh\") {\n        _l = \"zh-cn\";\n      }\n      return this.__i18n.lang[_l] || this.__i18n.lang.en;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.__i18n.textKeys || {};\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      return version;\n    }\n  }, {\n    key: \"playerId\",\n    get: function get() {\n      return this._pluginInfoId;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this.__url || this.config.url;\n    },\n    set: function set(url) {\n      this.__url = url;\n    }\n  }, {\n    key: \"poster\",\n    get: function get() {\n      return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n    },\n    set: function set(posterUrl) {\n      this.plugins.poster && this.plugins.poster.update(posterUrl);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"readyState\", this);\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      var key = _get(_getPrototypeOf(Player2.prototype), \"error\", this);\n      return this.i18n[key] || key;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"networkState\", this);\n    }\n  }, {\n    key: \"fullscreenChanging\",\n    get: function get() {\n      return !(this._fullScreenOffset === null);\n    }\n  }, {\n    key: \"cumulateTime\",\n    get: function get() {\n      var _this$_accPlayed = this._accPlayed, acc = _this$_accPlayed.acc, t = _this$_accPlayed.t;\n      return t ? new Date().getTime() - t + acc : acc;\n    }\n  }, {\n    key: \"zoom\",\n    get: function get() {\n      return this.config.zoom;\n    },\n    set: function set(value) {\n      this.config.zoom = value;\n    }\n  }, {\n    key: \"videoRotateDeg\",\n    get: function get() {\n      return this.videoPos.rotate;\n    },\n    set: function set(val) {\n      val = util.convertDeg(val);\n      if (val % 90 !== 0 || val === this.videoPos.rotate) {\n        return;\n      }\n      this.videoPos.rotate = val;\n      this.resizePosition();\n    }\n  }, {\n    key: \"avgSpeed\",\n    get: function get() {\n      return AVG_SPEED;\n    },\n    set: function set(val) {\n      AVG_SPEED = val;\n    }\n  }, {\n    key: \"realTimeSpeed\",\n    get: function get() {\n      return REAL_TIME_SPEED;\n    },\n    set: function set(val) {\n      REAL_TIME_SPEED = val;\n    }\n  }, {\n    key: \"offsetCurrentTime\",\n    get: function get() {\n      return this._offsetInfo.currentTime || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.currentTime = val;\n    }\n  }, {\n    key: \"offsetDuration\",\n    get: function get() {\n      return this._offsetInfo.duration || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.duration = val || 0;\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"usePluginHooks\",\n    value: function usePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        args[_key - 3] = arguments[_key];\n      }\n      return usePluginHooks.call.apply(usePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removePluginHooks\",\n    value: function removePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n        args[_key2 - 3] = arguments[_key2];\n      }\n      return removePluginHooks.call.apply(removePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"setUserActive\",\n    value: function setUserActive(isActive, isMuted) {\n      if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n        this.addInnerOP(\"volumechange\");\n        this.muted = isMuted;\n      }\n      pluginsManager.setCurrentUserActive(this.playerId, isActive);\n    }\n  }], [{\n    key: \"debugger\",\n    get: function get() {\n      return XG_DEBUG.config.debug;\n    },\n    set: function set(value) {\n      XG_DEBUG.config.debug = value;\n    }\n  }, {\n    key: \"getCurrentUserActivePlayerId\",\n    value: function getCurrentUserActivePlayerId() {\n      return pluginsManager.getCurrentUseActiveId();\n    }\n  }, {\n    key: \"setCurrentUserActive\",\n    value: function setCurrentUserActive(playerId, isActive) {\n      pluginsManager.setCurrentUserActive(playerId, isActive);\n    }\n  }, {\n    key: \"isHevcSupported\",\n    value: function isHevcSupported() {\n      return sniffer.isHevcSupported();\n    }\n  }, {\n    key: \"probeConfigSupported\",\n    value: function probeConfigSupported(info) {\n      return sniffer.probeConfigSupported(info);\n    }\n  }, {\n    key: \"install\",\n    value: function install(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      if (!Player2.plugins[name]) {\n        Player2.plugins[name] = descriptor;\n      }\n    }\n  }, {\n    key: \"use\",\n    value: function use(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      Player2.plugins[name] = descriptor;\n    }\n  }]);\n  return Player2;\n}(MediaProxy);\n_defineProperty(Player, \"defaultPreset\", null);\n_defineProperty(Player, \"XgVideoProxy\", null);\nexport { Player as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Controls = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Controls2, _Plugin);\n  var _super = _createSuper(Controls2);\n  function Controls2() {\n    var _this;\n    _classCallCheck(this, Controls2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      playerConfig.closeControlsBlur && player.focus({\n        autoHide: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      player.focus();\n    });\n    return _this;\n  }\n  _createClass(Controls2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (!args.config.mode && sniffer.device === \"mobile\") {\n        args.config.mode = \"flex\";\n      }\n      if (args.player.config.marginControls) {\n        args.config.autoHide = false;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, disable = _this$config.disable, height = _this$config.height, mode = _this$config.mode;\n      if (disable) {\n        return;\n      }\n      mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n      var style = {\n        height: \"\".concat(height, \"px\")\n      };\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n      this.left = this.find(\"xg-left-grid\");\n      this.center = this.find(\"xg-center-grid\");\n      this.right = this.find(\"xg-right-grid\");\n      this.innerRoot = this.find(\"xg-inner-controls\");\n      this.on(MINI_STATE_CHANGE, function(isMini) {\n        isMini ? util.addClass(_this2.root, \"mini-controls\") : util.removeClass(_this2.root, \"mini-controls\");\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.focus({\n        autoHide: false\n      });\n    }\n  }, {\n    key: \"focusAwhile\",\n    value: function focusAwhile() {\n      this.player.focus({\n        autoHide: true\n      });\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.player.blur({\n        ignorePaused: true\n      });\n    }\n  }, {\n    key: \"recoverAutoHide\",\n    value: function recoverAutoHide() {\n      this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"pauseAutoHide\",\n    value: function pauseAutoHide() {\n      util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.root.style.display = \"\";\n      this.player.focus();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"mode\",\n    get: function get() {\n      return this.config.mode;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 ? arguments[2] : void 0;\n      if (!this.root) {\n        return;\n      }\n      var defaultConfig = plugin.defaultConfig || {};\n      if (!options.root) {\n        var position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n        switch (position) {\n          case POSITIONS.CONTROLS_LEFT:\n            options.root = this.left;\n            break;\n          case POSITIONS.CONTROLS_RIGHT:\n            options.root = this.right;\n            break;\n          case POSITIONS.CONTROLS_CENTER:\n            options.root = this.center;\n            break;\n          case POSITIONS.CONTROLS:\n            options.root = this.root;\n            break;\n          default:\n            options.root = this.left;\n        }\n        return _get(_getPrototypeOf(Controls2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (sniffer.device !== \"mobile\") {\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config2 = this.config, mode = _this$config2.mode, autoHide = _this$config2.autoHide, initShow = _this$config2.initShow, disable = _this$config2.disable;\n      if (disable) {\n        return;\n      }\n      var className = util.classNames({\n        \"xgplayer-controls\": true\n      }, {\n        \"flex-controls\": mode === \"flex\"\n      }, {\n        \"bottom-controls\": mode === \"bottom\"\n      }, _defineProperty({}, STATE_CLASS.CONTROLS_AUTOHIDE, autoHide), {\n        \"xgplayer-controls-initshow\": initShow || !autoHide\n      });\n      return '<xg-controls class=\"'.concat(className, '\" unselectable=\"on\">\\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\\n      <xg-left-grid class=\"xg-left-grid\">\\n      </xg-left-grid>\\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\\n      <xg-right-grid class=\"xg-right-grid\">\\n      </xg-right-grid>\\n    </xg-inner-controls>\\n    </xg-controls>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"controls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false,\n        autoHide: true,\n        mode: \"\",\n        initShow: false\n      };\n    }\n  }]);\n  return Controls2;\n}(Plugin);\nexport { Controls as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nvar LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nvar XGLogger = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(XGLogger2, _BasePlugin);\n  var _super = _createSuper(XGLogger2);\n  function XGLogger2() {\n    var _this;\n    _classCallCheck(this, XGLogger2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      _this._state.isTimeUpdate = true;\n      if (_this._state.autoplayStart) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onTimeupdate\"));\n        _this._sendFF(\"onTimeupdate\");\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onAutoplayStart\", function() {\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onAutoplayStart\"));\n      _this._state.autoplayStart = true;\n      _this.vt && _this._sendFF(\"onAutoplayStart\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      _this.vt = 0;\n      _this.pt = 0;\n      _this.fvt = 0;\n      _this.newPointTime = now();\n      _this.loadedCostTime = 0;\n      _this.startCostTime = 0;\n      _this._isSeeking = false;\n      _this.seekingStart = 0;\n      _this.waitingStart = 0;\n      _this.fixedWaitingStart = 0;\n      _this._isWaiting = false;\n      _this._waitTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n      _this._waittTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waittTimer);\n      _this._waitTimer = null;\n      _this._waittTimer = null;\n      _this._waitType = 0;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      if (_this.seekingStart) {\n        return;\n      }\n      _this.suspendWaitingStatus(\"seek\");\n      _this.seekingStart = now();\n      _this.emitLog(LOG_TYPES.SEEK_START, {\n        start: now()\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeked\", function() {\n      _this.suspendSeekingStatus(\"seeked\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaitingLoadStart\", function() {\n      if (_this._isWaiting || _this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      _this.waitingStart = now();\n      _this.fixedWaitingStart = now();\n      _this._waitType = 1;\n      _this.emitLog(LOG_TYPES.WAIT_START, {\n        fixedStart: _this.fixedWaitingStart,\n        start: _this.waitingStart,\n        type: 1,\n        endType: \"loadstart\"\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaiting\", function() {\n      if (_this._isWaiting || !_this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      if (!_this.vt) {\n        _this._waitType = 1;\n      } else if (_this.seekingStart) {\n        _this._waitType = 2;\n      } else {\n        _this._waitType = 0;\n      }\n      _this.fixedWaitingStart = now();\n      _this._waitTimer = util.setTimeout(_assertThisInitialized(_this), function() {\n        if (_this._isWaiting) {\n          _this.waitingStart = now();\n          util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n          _this._waitTimer = null;\n          _this._startWaitTimeout();\n          _this.emitLog(LOG_TYPES.WAIT_START, {\n            fixedStart: _this.fixedWaitingStart,\n            start: _this.waitingStart,\n            type: _this._waitType,\n            endType: _this._waitType === 2 ? \"seek\" : \"playing\"\n          });\n        }\n      }, 200);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onError\", function() {\n      _this.suspendSeekingStatus(\"error\");\n      _this.suspendWaitingStatus(\"error\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlaying\", function() {\n      _this._isWaiting && _this.suspendWaitingStatus(\"playing\");\n    });\n    return _this;\n  }\n  _createClass(XGLogger2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._onReset();\n      this._waitType = \"firstFrame\";\n      this._initOnceEvents();\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this.on(LOAD_START, function() {\n        var _state = _this2._state;\n        var autoplayStart = _state.autoplayStart, isFFSend = _state.isFFSend;\n        _this2.startCostTime = now() - _this2.newPointTime;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOAD_START\"), \"autoplayStart:\".concat(autoplayStart, \" isFFSend:\").concat(isFFSend, \" startCostTime:\").concat(_this2.startCostTime, \" newPointTime\").concat(_this2.newPointTime));\n        if (isFFSend) {\n          return;\n        }\n        !_state.isLs && _this2.emitLog(LOG_TYPES.LOAD_START, {});\n        _state.isLs = true;\n        _state.isTimeUpdate = false;\n        _state.isFFLoading = true;\n        _this2.pt = now();\n        _this2.vt = 0;\n        _this2.fvt = 0;\n        _this2._initOnceEvents();\n        _this2._onWaitingLoadStart();\n      });\n      this.on(LOADED_DATA, function() {\n        _this2.vt = now();\n        _this2.fvt = _this2.vt - _this2.pt;\n        _this2.loadedCostTime = _this2.vt - _this2.newPointTime;\n        var _this2$_state = _this2._state, isTimeUpdate = _this2$_state.isTimeUpdate, isFFSend = _this2$_state.isFFSend, autoplayStart = _this2$_state.autoplayStart;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOADED_DATA\"), \"fvt:\".concat(_this2.fvt, \" isTimeUpdate:\").concat(_this2._state.isTimeUpdate, \" loadedCostTime:\").concat(_this2.loadedCostTime));\n        if (isTimeUpdate || autoplayStart) {\n          _this2._sendFF(\"loadedData\");\n        }\n        if (!isFFSend) {\n          _this2.emitLog(LOG_TYPES.LOADED_DATA, {});\n        }\n        _this2.suspendWaitingStatus(\"loadeddata\");\n      });\n      this.on(SEEKING, this._onSeeking);\n      this.on(SEEKED, this._onSeeked);\n      this.on(DESTROY, function() {\n        _this2.endState(\"destroy\");\n      });\n      this.on(URL_CHANGE, function() {\n        _this2.endState(\"urlChange\");\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" URL_CHANGE\"));\n        _this2._state.isFFSend && _this2._onReset();\n      });\n      this.on([PLAYING, CANPLAY], this._onPlaying);\n      this.on(WAITING, this._onWaiting);\n      this.on(ERROR, this._onError);\n      this.on(RESET, function() {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" RESET\"));\n        _this2.endState(\"reset\");\n        _this2._initOnceEvents();\n        _this2._onReset();\n      });\n    }\n  }, {\n    key: \"_initOnceEvents\",\n    value: function _initOnceEvents() {\n      this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.off(TIME_UPDATE, this._onTimeupdate);\n      this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.once(TIME_UPDATE, this._onTimeupdate);\n    }\n  }, {\n    key: \"_sendFF\",\n    value: function _sendFF(endType) {\n      this.s = now();\n      var _this$_state = this._state, isFFLoading = _this$_state.isFFLoading, isFFSend = _this$_state.isFFSend;\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" _sendFF\"), \"\".concat(endType, \" fvt:\").concat(this.fvt, \" isFFLoading:\").concat(isFFLoading, \" !isFFSend:\").concat(!isFFSend));\n      if (this.vt > 0 && isFFLoading && !isFFSend) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" emitLog_firstFrame\"), endType);\n        this._state.isFFLoading = false;\n        this._state.isFFSend = true;\n        this.emitLog(LOG_TYPES.FIRST_FRAME, {\n          fvt: this.fvt,\n          costTime: this.fvt,\n          vt: this.vt,\n          startCostTime: this.startCostTime,\n          loadedCostTime: this.loadedCostTime\n        });\n      }\n    }\n  }, {\n    key: \"_startWaitTimeout\",\n    value: function _startWaitTimeout() {\n      var _this3 = this;\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n      }\n      this._waittTimer = util.setTimeout(this, function() {\n        _this3.suspendWaitingStatus(\"timeout\");\n        util.clearTimeout(_this3, _this3._waittTimer);\n        _this3._waittTimer = null;\n      }, this.config.waitTimeout);\n    }\n  }, {\n    key: \"endState\",\n    value: function endState(endType) {\n      this.suspendWaitingStatus(endType);\n      this.suspendSeekingStatus(endType);\n    }\n  }, {\n    key: \"suspendSeekingStatus\",\n    value: function suspendSeekingStatus(endType) {\n      if (!this.seekingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.seekingStart;\n      this.seekingStart = 0;\n      this.emitLog(LOG_TYPES.SEEK_END, {\n        end: _now,\n        costTime: _cost,\n        endType\n      });\n    }\n  }, {\n    key: \"suspendWaitingStatus\",\n    value: function suspendWaitingStatus(endType) {\n      if (this._waitTimer) {\n        util.clearTimeout(this, this._waitTimer);\n        this._waitTimer = null;\n      }\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n        this._waittTimer = null;\n      }\n      this._isWaiting = false;\n      if (!this.waitingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.waitingStart;\n      var _fixedCost = _now - this.fixedWaitingStart;\n      var waitTimeout = this.config.waitTimeout;\n      this._isWaiting = false;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this.emitLog(LOG_TYPES.WAIT_END, {\n        fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n        costTime: _cost > waitTimeout ? waitTimeout : _cost,\n        type: endType === \"loadeddata\" ? 1 : this._waitType,\n        endType: this._waitType === 2 ? \"seek\" : endType\n      });\n    }\n  }, {\n    key: \"emitLog\",\n    value: function emitLog(eventType, data) {\n      var player = this.player;\n      this.emit(XGLOG, _objectSpread2({\n        t: now(),\n        host: util.getHostFromUrl(player.currentSrc),\n        vtype: player.vtype,\n        eventType,\n        currentTime: this.player.currentTime,\n        readyState: player.video.readyState,\n        networkState: player.video.networkState\n      }, data));\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"xgLogger\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        waitTimeout: 1e4\n      };\n    }\n  }]);\n  return XGLogger2;\n}(Plugin);\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nvar Replay = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Replay2, _Plugin);\n  var _super = _createSuper(Replay2);\n  function Replay2() {\n    _classCallCheck(this, Replay2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Replay2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        replay: ReplaySvg\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      Plugin.insert(this.icons.replay, this.root, 0);\n      this.__handleReplay = this.hook(\"replayClick\", function() {\n        _this.player.replay();\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n      this.on(ENDED, function() {\n        if (!_this.playerConfig.loop) {\n          util.addClass(_this.player.root, \"replay\");\n        }\n        if (_this.config.disable) {\n          return;\n        }\n        _this.show();\n        var path = _this.root.querySelector(\"path\");\n        if (path) {\n          var transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n          if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n            return null;\n          } else {\n            path.setAttribute(\"transform\", transform);\n          }\n        }\n      });\n      this.on(PLAY, function() {\n        _this.hide();\n      });\n    }\n  }, {\n    key: \"handleReplay\",\n    value: function handleReplay(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.player.replay();\n      util.removeClass(this.player.root, \"replay\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.config.disable) {\n        return;\n      }\n      this.root.style.display = \"flex\";\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-replay class=\"xgplayer-replay\">\\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"'.concat(this.i18nKeys.REPLAY, '\">').concat(this.i18n.REPLAY, \"</xg-replay-txt>\\n    </xg-replay>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"replay\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false\n      };\n    }\n  }]);\n  return Replay2;\n}(Plugin);\nexport { Replay as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Poster = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Poster2, _Plugin);\n  var _super = _createSuper(Poster2);\n  function Poster2() {\n    _classCallCheck(this, Poster2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Poster2, [{\n    key: \"isEndedShow\",\n    get: function get() {\n      return this.config.isEndedShow;\n    },\n    set: function set(value) {\n      this.config.isEndedShow = value;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.poster === \"string\") {\n        args.config.poster = args.player.config.poster;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.on(ENDED, function() {\n        if (_this.isEndedShow) {\n          util.removeClass(_this.root, \"hide\");\n        }\n      });\n      if (this.config.hideCanplay) {\n        this.once(TIME_UPDATE, function() {\n          _this.onTimeUpdate();\n        });\n        this.on(URL_CHANGE, function() {\n          util.removeClass(_this.root, \"hide\");\n          util.addClass(_this.root, \"xg-showplay\");\n          _this.once(TIME_UPDATE, function() {\n            _this.onTimeUpdate();\n          });\n        });\n      } else {\n        this.on(PLAY, function() {\n          util.addClass(_this.root, \"hide\");\n        });\n      }\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate() {\n      var _this2 = this;\n      if (!this.player.currentTime) {\n        this.once(TIME_UPDATE, function() {\n          _this2.onTimeUpdate();\n        });\n      } else {\n        util.removeClass(this.root, \"xg-showplay\");\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(poster) {\n      if (!poster) {\n        return;\n      }\n      this.config.poster = poster;\n      this.root.style.backgroundImage = \"url(\".concat(poster, \")\");\n    }\n  }, {\n    key: \"getBgSize\",\n    value: function getBgSize(mode) {\n      var _bg = \"\";\n      switch (mode) {\n        case \"cover\":\n          _bg = \"cover\";\n          break;\n        case \"container\":\n          _bg = \"container\";\n          break;\n        case \"fixHeight\":\n          _bg = \"auto 100%\";\n          break;\n        default:\n          _bg = \"\";\n      }\n      return _bg ? \"background-size: \".concat(_bg, \";\") : \"\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config = this.config, poster = _this$config.poster, hideCanplay = _this$config.hideCanplay, fillMode = _this$config.fillMode, notHidden = _this$config.notHidden;\n      var _bg = this.getBgSize(fillMode);\n      var style = poster ? \"background-image:url(\".concat(poster, \");\").concat(_bg) : _bg;\n      var className = notHidden ? \"xg-not-hidden\" : hideCanplay ? \"xg-showplay\" : \"\";\n      return '<xg-poster class=\"xgplayer-poster '.concat(className, '\" style=\"').concat(style, '\">\\n    </xg-poster>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"poster\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isEndedShow: true,\n        hideCanplay: false,\n        notHidden: false,\n        poster: \"\",\n        fillMode: \"fixWidth\"\n      };\n    }\n  }]);\n  return Poster2;\n}(Plugin);\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar AnimateMap = {};\nfunction addAnimate(key, seconds) {\n  var callback = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    start: null,\n    end: null\n  };\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(function() {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map(function(key) {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nvar Start = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Start2, _Plugin);\n  var _super = _createSuper(Start2);\n  function Start2(args) {\n    var _this;\n    _classCallCheck(this, Start2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerReset\", function() {\n      _this.autoPlayStart = false;\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      _this.setAttr(\"data-state\", \"play\");\n      util.removeClass(_this.root, className);\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAutoplayStart\", function() {\n      if (_this.autoPlayStart) {\n        return;\n      }\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(_this.root, className);\n      _this.autoPlayStart = true;\n      _this.onPlayPause(\"play\");\n    });\n    _this.autoPlayStart = false;\n    return _this;\n  }\n  _createClass(Start2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var player = this.player, playerConfig = this.playerConfig;\n      this.initIcons();\n      this.once(READY, function() {\n        if (playerConfig) {\n          if (playerConfig.lang && playerConfig.lang === \"en\") {\n            util.addClass(player.root, \"lang-is-en\");\n          } else if (playerConfig.lang === \"jp\") {\n            util.addClass(player.root, \"lang-is-jp\");\n          }\n        }\n      });\n      this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n      if (!playerConfig.autoplay) {\n        this.show();\n      }\n      this.on(AUTOPLAY_PREVENTED, function() {\n        var className = _this2.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n        _this2.setAttr(\"data-state\", \"play\");\n        util.removeClass(_this2.root, className);\n        _this2.show();\n      });\n      this.on(PLAY, function() {\n        _this2.onPlayPause(\"play\");\n      });\n      this.on(PAUSE, function() {\n        _this2.onPlayPause(\"pause\");\n      });\n      this.on(RESET, function() {\n        _this2.onPlayerReset();\n      });\n      this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n        pre: function pre(e) {\n          e.cancelable && e.preventDefault();\n          e.stopPropagation();\n          var paused = _this2.player.paused;\n          _this2.emitUserAction(e, \"switch_play_pause\", {\n            props: \"paused\",\n            from: paused,\n            to: !paused\n          });\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.clickHandler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        startPlay: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        startPause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\"xg-start-inner\", icons.startPlay);\n      this.appendChild(\"xg-start-inner\", icons.startPause);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"focusHide\",\n    value: function focusHide() {\n      util.addClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"recover\",\n    value: function recover() {\n      util.removeClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"switchStatus\",\n    value: function switchStatus(isAnimate) {\n      if (isAnimate) {\n        this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n      } else {\n        this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(endShow) {\n      var _this3 = this;\n      this._animateId = addAnimate(\"pauseplay\", 400, {\n        start: function start() {\n          util.addClass(_this3.root, \"interact\");\n          _this3.show();\n          _this3.switchStatus(true);\n        },\n        end: function end() {\n          util.removeClass(_this3.root, \"interact\");\n          !endShow && _this3.hide();\n          _this3._animateId = null;\n        }\n      });\n    }\n  }, {\n    key: \"endAnimate\",\n    value: function endAnimate() {\n      util.removeClass(this.root, \"interact\");\n      clearAnimation(this._animateId);\n      this._animateId = null;\n    }\n  }, {\n    key: \"switchPausePlay\",\n    value: function switchPausePlay(e) {\n      var player = this.player;\n      e.cancelable && e.preventDefault();\n      e.stopPropagation();\n      if (player.state < STATES.READY) {\n        return;\n      }\n      var paused = this.player.paused;\n      if (!paused && player.state === STATES.RUNNING) {\n        player.pause();\n      } else {\n        player.play();\n      }\n    }\n  }, {\n    key: \"onPlayPause\",\n    value: function onPlayPause(status) {\n      var config = this.config, player = this.player;\n      if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n        return;\n      }\n      if (config.mode === \"show\") {\n        this.switchStatus();\n        this.show();\n        return;\n      }\n      if (config.mode === \"auto\") {\n        this.switchStatus();\n        return;\n      }\n      if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n        this.switchStatus();\n        this.show();\n        this.endAnimate();\n        return;\n      }\n      if (config.disableAnimate) {\n        this.switchStatus();\n        this.hide();\n        return;\n      }\n      if (status === \"play\") {\n        this.autoPlayStart ? this.animate() : this.hide();\n      } else {\n        if (!this.autoPlayStart || player.ended) {\n          return;\n        }\n        this.animate();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.clickHandler);\n      clearAnimation(this._animateId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n      return '\\n    <xg-start class=\"xgplayer-start '.concat(className, '\">\\n    <xg-start-inner></xg-start-inner>\\n    </xg-start>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"start\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShowPause: false,\n        isShowEnd: false,\n        disableAnimate: false,\n        mode: \"hide\"\n      };\n    }\n  }]);\n  return Start2;\n}(Plugin);\nexport { Start as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Enter = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Enter2, _Plugin);\n  var _super = _createSuper(Enter2);\n  function Enter2() {\n    _classCallCheck(this, Enter2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Enter2, [{\n    key: \"render\",\n    value: function render() {\n      var innerHtml = this.config.innerHtml;\n      var root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n      if (innerHtml && innerHtml instanceof window.HTMLElement) {\n        root.appendChild(innerHtml);\n      } else if (innerHtml && typeof innerHtml === \"string\") {\n        root.innerHTML = innerHtml;\n      } else {\n        var barStr = \"\";\n        for (var i = 1; i <= 12; i++) {\n          barStr += '<div class=\"xgplayer-enter-bar'.concat(i, '\"></div>');\n        }\n        root.innerHTML = '<div class=\"xgplayer-enter-spinner\">'.concat(barStr, \"</div>\");\n      }\n      return root;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"enter\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        innerHtml: \"\",\n        logo: \"\"\n      };\n    }\n  }]);\n  return Enter2;\n}(Plugin);\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ' <div class=\"xg-tips '.concat(isShow ? \"hide\" : \" \", '\" lang-key=\"').concat(plugin.i18nKeys[textKey], '\">\\n    ').concat(plugin.i18n[textKey], \"\\n    </div>\");\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar MiniScreenIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreenIcon2, _Plugin);\n  var _super = _createSuper(MiniScreenIcon2);\n  function MiniScreenIcon2() {\n    _classCallCheck(this, MiniScreenIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniScreenIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.getMini = this.getMini.bind(this);\n      this.exitMini = this.exitMini.bind(this);\n      this.bind(\"click\", this.getMini);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.getMini);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var langKey = \"MINISCREEN\";\n      return '\\n      <xg-icon class=\"xgplayer-miniicon\">\\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span></div>\\n      </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreenIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 10\n      };\n    }\n  }]);\n  return MiniScreenIcon2;\n}(Plugin);\nexport { MiniScreenIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, possibleConstructorReturn as _possibleConstructorReturn, createClass as _createClass, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  var num = parseFloat(value);\n  var isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nvar measurements = [\"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\", \"marginLeft\", \"marginRight\", \"marginTop\", \"marginBottom\", \"borderLeftWidth\", \"borderRightWidth\", \"borderTopWidth\", \"borderBottomWidth\"];\nvar measurementsLength = measurements.length;\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  var style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || _typeof(elem) !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  var style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  var isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    var value = style[measurement];\n    var num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  var isBorderBoxSizeOuter = isBorderBox;\n  var styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  var styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (var i = 0; i < touches.length; i++) {\n    var touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nvar EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nvar POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nvar Draggabilly = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Draggabilly2, _EventEmitter);\n  var _super = _createSuper(Draggabilly2);\n  function Draggabilly2(root) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    _classCallCheck(this, Draggabilly2);\n    _this = _super.call(this);\n    _this.isEnabled = true;\n    _this.isDragging = false;\n    _this.isDown = false;\n    _this.position = {};\n    _this.downPoint = {};\n    _this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    _this.startPos = {\n      x: 0,\n      y: 0\n    };\n    _this._root = root instanceof Element ? root : document.querySelector(root);\n    _this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!_this._root || !_this._handlerDom) {\n      return _possibleConstructorReturn(_this);\n    }\n    _this._bindStartEvent();\n    return _this;\n  }\n  _createClass(Draggabilly2, [{\n    key: \"_bindStartEvent\",\n    value: function _bindStartEvent() {\n      var _this2 = this;\n      if (\"ontouchstart\" in window) {\n        this._startKey = \"touchstart\";\n      } else {\n        this._startKey = \"mousedown\";\n      }\n      this[\"on\".concat(this._startKey)] = this[\"on\".concat(this._startKey)].bind(this);\n      this._handlerDom.addEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n      POST_START_EVENTS[this._startKey].map(function(key) {\n        _this2[\"on\".concat(key)] = _this2[\"on\".concat(key)].bind(_this2);\n      });\n    }\n  }, {\n    key: \"_unbindStartEvent\",\n    value: function _unbindStartEvent() {\n      this._handlerDom.removeEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n    }\n  }, {\n    key: \"_bindPostStartEvents\",\n    value: function _bindPostStartEvents(event) {\n      var _this3 = this;\n      if (!event) {\n        return;\n      }\n      var events = POST_START_EVENTS[this._startKey];\n      events.map(function(eventName) {\n        window.addEventListener(eventName, _this3[\"on\".concat(eventName)]);\n      });\n      this._boundPointerEvents = events;\n    }\n  }, {\n    key: \"_unbindPostStartEvents\",\n    value: function _unbindPostStartEvents() {\n      var _this4 = this;\n      if (!this._boundPointerEvents) {\n        return;\n      }\n      this._boundPointerEvents.map(function(eventName) {\n        window.removeEventListener(eventName, _this4[\"on\".concat(eventName)]);\n      });\n      delete this._boundPointerEvents;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.isEnabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.isEnabled = false;\n      if (this.isDragging) {\n        this.onUp();\n      }\n    }\n  }, {\n    key: \"onDocUp\",\n    value: function onDocUp(e) {\n      this.onUp();\n    }\n  }, {\n    key: \"animate\",\n    value: function animate() {\n      var _this5 = this;\n      if (!this.isDragging) {\n        return;\n      }\n      this.positionDrag();\n      window.requestAnimationFrame(function() {\n        _this5.animate();\n      });\n    }\n  }, {\n    key: \"positionDrag\",\n    value: function positionDrag() {\n      var transform = \"translate3d(\".concat(this.dragPoint.x, \"px, \").concat(this.dragPoint.y, \"px, 0)\");\n      this._root.style.transform = transform;\n      this._root.style.webKitTransform = transform;\n    }\n  }, {\n    key: \"setLeftTop\",\n    value: function setLeftTop() {\n      this._root.style.left = this.position.x + \"px\";\n      this._root.style.top = this.position.y + \"px\";\n    }\n  }, {\n    key: \"onmousedown\",\n    value: function onmousedown(e) {\n      this.dragStart(e, e);\n    }\n  }, {\n    key: \"onmousemove\",\n    value: function onmousemove(e) {\n      this.dragMove(e, e);\n    }\n  }, {\n    key: \"onmouseup\",\n    value: function onmouseup(e) {\n      this.dragEnd(e, e);\n    }\n  }, {\n    key: \"ontouchstart\",\n    value: function ontouchstart(e) {\n      var touch = e.changedTouches[0];\n      this.dragStart(e, touch);\n      this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchmove\",\n    value: function ontouchmove(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragMove(e, touch);\n      }\n    }\n  }, {\n    key: \"ontouchend\",\n    value: function ontouchend(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragEnd(e, touch);\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchcancel\",\n    value: function ontouchcancel(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragCancel(e, touch);\n      }\n    }\n  }, {\n    key: \"dragStart\",\n    value: function dragStart(e, pointer) {\n      if (!this._root || this.isDown || !this.isEnabled) {\n        return;\n      }\n      this.downPoint = pointer;\n      this.dragPoint.x = 0;\n      this.dragPoint.y = 0;\n      this._getPosition();\n      var size = getSize(this._root);\n      this.startPos.x = this.position.x;\n      this.startPos.y = this.position.y;\n      this.startPos.maxY = window.innerHeight - size.height;\n      this.startPos.maxX = window.innerWidth - size.width;\n      this.setLeftTop();\n      this.isDown = true;\n      this._bindPostStartEvents(e);\n    }\n  }, {\n    key: \"dragRealStart\",\n    value: function dragRealStart(e, pointer) {\n      this.isDragging = true;\n      this.animate();\n      this.emit(EVENTS.START, this.startPos);\n    }\n  }, {\n    key: \"dragEnd\",\n    value: function dragEnd(e, pointer) {\n      if (!this._root) {\n        return;\n      }\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this._root.style.transform = \"\";\n        this.setLeftTop();\n        this.emit(EVENTS.ENDED);\n      }\n      this.presetInfo();\n    }\n  }, {\n    key: \"_dragPointerMove\",\n    value: function _dragPointerMove(e, pointer) {\n      var moveVector = {\n        x: pointer.pageX - this.downPoint.pageX,\n        y: pointer.pageY - this.downPoint.pageY\n      };\n      if (!this.isDragging && this.hasDragStarted(moveVector)) {\n        this.dragRealStart(e, pointer);\n      }\n      return moveVector;\n    }\n  }, {\n    key: \"dragMove\",\n    value: function dragMove(e, pointer) {\n      e = e || window.event;\n      if (!this.isDown) {\n        return;\n      }\n      var _this$startPos = this.startPos, x = _this$startPos.x, y = _this$startPos.y;\n      var moveVector = this._dragPointerMove(e, pointer);\n      var dragX = moveVector.x;\n      var dragY = moveVector.y;\n      dragX = this.checkContain(\"x\", dragX, x);\n      dragY = this.checkContain(\"y\", dragY, y);\n      this.position.x = x + dragX;\n      this.position.y = y + dragY;\n      this.dragPoint.x = dragX;\n      this.dragPoint.y = dragY;\n      this.emit(EVENTS.MOVE, this.position);\n    }\n  }, {\n    key: \"dragCancel\",\n    value: function dragCancel(e, pointer) {\n      this.dragEnd(e, pointer);\n    }\n  }, {\n    key: \"presetInfo\",\n    value: function presetInfo() {\n      this.isDragging = false;\n      this.startPos = {\n        x: 0,\n        y: 0\n      };\n      this.dragPoint = {\n        x: 0,\n        y: 0\n      };\n      this.isDown = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindStartEvent();\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this.dragEnd();\n      }\n      this.removeAllListeners();\n      this._handlerDom = null;\n    }\n  }, {\n    key: \"hasDragStarted\",\n    value: function hasDragStarted(moveVector) {\n      return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n    }\n  }, {\n    key: \"checkContain\",\n    value: function checkContain(axis, drag, grid) {\n      if (drag + grid < 0) {\n        return 0 - grid;\n      }\n      if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n        return this.startPos.maxX - grid;\n      }\n      if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n        return this.startPos.maxY - grid;\n      }\n      return drag;\n    }\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition() {\n      var style = window.getComputedStyle(this._root);\n      var x = this._getPositionCoord(style.left, \"width\");\n      var y = this._getPositionCoord(style.top, \"height\");\n      this.position.x = Number.isNaN(x) ? 0 : x;\n      this.position.y = Number.isNaN(y) ? 0 : y;\n      this._addTransformPosition(style);\n    }\n  }, {\n    key: \"_addTransformPosition\",\n    value: function _addTransformPosition(style) {\n      var transform = style.transform;\n      if (transform.indexOf(\"matrix\") !== 0) {\n        return;\n      }\n      var matrixValues = transform.split(\",\");\n      var xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n      var translateX = parseInt(matrixValues[xIndex], 10);\n      var translateY = parseInt(matrixValues[xIndex + 1], 10);\n      this.position.x += translateX;\n      this.position.y += translateY;\n    }\n  }, {\n    key: \"_getPositionCoord\",\n    value: function _getPositionCoord(styleSide, measure) {\n      if (styleSide.indexOf(\"%\") !== -1) {\n        var parentSize = getSize(this._root.parentNode);\n        return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n      }\n      return parseInt(styleSide, 10);\n    }\n  }]);\n  return Draggabilly2;\n}(EventEmitter);\nexport { Draggabilly as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nvar MiniScreen = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreen2, _Plugin);\n  var _super = _createSuper(MiniScreen2);\n  function MiniScreen2(args) {\n    var _this;\n    _classCallCheck(this, MiniScreen2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onCancelClick\", function(e) {\n      _this.exitMini();\n      _this.isClose = true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onCenterClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      player.paused ? player.play() : player.pause();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function(e) {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - _this.pos.scrollY) < 50) {\n        return;\n      }\n      var scrollHeight = parseInt(util.getCss(_this.player.root, \"height\"));\n      scrollHeight += _this.config.scrollTop;\n      _this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !_this.isMini && !_this.isClose && _this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        _this.isMini && _this.exitMini();\n        _this.isClose = false;\n      }\n    });\n    _this.isMini = false;\n    _this.isClose = false;\n    var _assertThisInitialize2 = _assertThisInitialized(_this), config = _assertThisInitialize2.config;\n    _this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: _this.config.height,\n      width: _this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    _this.lastStyle = null;\n    return _this;\n  }\n  _createClass(MiniScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.mini === \"boolean\") {\n        args.config.isShowIcon = args.player.config.mini;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      this.on(PAUSE, function() {\n        _this2.setAttr(\"data-state\", \"pause\");\n      });\n      this.on(PLAY, function() {\n        _this2.setAttr(\"data-state\", \"play\");\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var _this3 = this;\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      if (this.config.isShowIcon) {\n        var options = {\n          config: {\n            onClick: function onClick() {\n              _this3.getMini();\n            }\n          }\n        };\n        player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n      }\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.bind(\".play-icon\", eventName, this.onCenterClick);\n      if (!this.config.disableDrag) {\n        this._draggabilly = new Draggabilly(this.player.root, {\n          handle: this.root\n        });\n      }\n      if (this.config.isScrollSwitch) {\n        window.addEventListener(\"scroll\", this.onScroll);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".play-icon\", icons.play);\n      this.appendChild(\".play-icon\", icons.pause);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      var _this4 = this;\n      if (this.isMini) {\n        return;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      this.lastStyle = {};\n      util.addClass(player.root, \"xgplayer-mini\");\n      [\"width\", \"height\", \"top\", \"left\"].map(function(key) {\n        _this4.lastStyle[key] = target.style[key];\n        target.style[key] = \"\".concat(_this4.pos[key], \"px\");\n      });\n      if (playerConfig.fluid) {\n        target.style[\"padding-top\"] = \"\";\n      }\n      this.emit(MINI_STATE_CHANGE, true);\n      player.isMini = this.isMini = true;\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      var _this5 = this;\n      if (!this.isMini) {\n        return false;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      util.removeClass(player.root, \"xgplayer-mini\");\n      if (this.lastStyle) {\n        Object.keys(this.lastStyle).map(function(key) {\n          target.style[key] = _this5.lastStyle[key];\n        });\n      }\n      this.lastStyle = null;\n      if (playerConfig.fluid) {\n        player.root.style.width = \"100%\";\n        player.root.style.height = \"0\";\n        player.root.style[\"padding-top\"] = \"\".concat(playerConfig.height * 100 / playerConfig.width, \"%\");\n      }\n      this.emit(MINI_STATE_CHANGE, false);\n      this.isMini = player.isMini = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      window.removeEventListener(\"scroll\", this.onScroll);\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.unbind(\".play-icon\", eventName, this.onCenterClick);\n      this._draggabilly && this._draggabilly.destroy();\n      this._draggabilly = null;\n      this.exitMini();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n      <xg-mini-layer class=\"xg-mini-layer\">\\n      <xg-mini-header class=\"xgplayer-mini-header\">\\n      '.concat(xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips), '\\n      </xg-mini-header>\\n      <div class=\"mini-cancel-btn\">\\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\\n        </svg>\\n      </div>\\n      <div class=\"play-icon\">\\n      </div>\\n      </xg-mini-layer>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 10,\n        disable: false,\n        width: 320,\n        height: 180,\n        left: -1,\n        top: -1,\n        isShowIcon: false,\n        isScrollSwitch: false,\n        scrollTop: 0,\n        disableDrag: false\n      };\n    }\n  }]);\n  return MiniScreen2;\n}(Plugin);\nexport { MiniScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nvar MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar PCPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(PCPlugin2, _BasePlugin);\n  var _super = _createSuper(PCPlugin2);\n  function PCPlugin2() {\n    var _this;\n    _classCallCheck(this, PCPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      if (!player.isActive) {\n        player.focus({\n          autoHide: !playerConfig.closeDelayBlur\n        });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), playerConfig = _assertThisInitialize2.playerConfig, player = _assertThisInitialize2.player;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({\n          autoHide: false\n        });\n      } else {\n        player.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _this$playerConfig = _this.playerConfig, closePlayerBlur = _this$playerConfig.closePlayerBlur, leavePlayerTime = _this$playerConfig.leavePlayerTime, closeDelayBlur = _this$playerConfig.closeDelayBlur;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          _this.player.focus({\n            autoHide: true,\n            delay: leavePlayerTime\n          });\n        } else {\n          _this.player.blur();\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoClick\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, playerConfig = _assertThisInitialize3.playerConfig;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        _this._clickCount++;\n        if (_this.clickTimer) {\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }\n        _this.clickTimer = setTimeout(function() {\n          if (!_this._clickCount) {\n            return;\n          }\n          _this._clickCount--;\n          runHooks(_assertThisInitialized(_this), HOOKS[0], function(plugin, data) {\n            _this.switchPlayPause(data.e);\n          }, {\n            e,\n            paused: player.paused\n          });\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }, 300);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoDblClick\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), player = _assertThisInitialize4.player, playerConfig = _assertThisInitialize4.playerConfig;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && _this._clickCount < 2) {\n        _this._clickCount = 0;\n        return;\n      }\n      _this._clickCount = 0;\n      if (_this.clickTimer) {\n        clearTimeout(_this.clickTimer);\n        _this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(_assertThisInitialized(_this), HOOKS[1], function(plugin, data) {\n        _this.emitUserAction(data.e, \"switch_fullscreen\", {\n          props: \"fullscreen\",\n          from: player.fullscreen,\n          to: !player.fullscreen\n        });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, {\n        e,\n        fullscreen: player.fullscreen\n      });\n    });\n    return _this;\n  }\n  _createClass(PCPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._clickCount = 0;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n        return;\n      }\n      this.initEvents();\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      var _this3 = this;\n      var _this$player = this.player, media = _this$player.media, root = _this$player.root;\n      var enableContextmenu = this.playerConfig.enableContextmenu;\n      root && root.addEventListener(\"click\", this.onVideoClick, false);\n      root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.addEventListener(item, _this3[MOUSE_EVENTS[item]], false);\n      });\n      !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause(e) {\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        props: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (!player.ended) {\n        player.paused ? player.play() : player.pause();\n      } else {\n        player.duration !== Infinity && player.duration > 0 && player.replay();\n      }\n    }\n  }, {\n    key: \"onContextmenu\",\n    value: function onContextmenu(e) {\n      e = e || window.event;\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } else {\n        e.returnValue = false;\n        e.cancelBubble = true;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var _this$player2 = this.player, video = _this$player2.video, root = _this$player2.root;\n      this.clickTimer && clearTimeout(this.clickTimer);\n      root.removeEventListener(\"click\", this.onVideoClick, false);\n      root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n      video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.removeEventListener(item, _this4[MOUSE_EVENTS[item]], false);\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pc\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return PCPlugin2;\n}(BasePlugin);\nexport { PCPlugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nvar EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nvar TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nvar MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nvar Touche = /* @__PURE__ */ function() {\n  function Touche2(dom) {\n    var _this = this;\n    var _config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      eventType: \"touch\"\n    };\n    _classCallCheck(this, Touche2);\n    _defineProperty(this, \"onTouchStart\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      var touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      _this.__setPress(e);\n      root.addEventListener(_this.events.end, _this.onTouchEnd);\n      root.addEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.addEventListener(_this.events.move, _this.onTouchMove);\n      _this.trigger(EVENTS.TOUCH_START, e);\n    });\n    _defineProperty(this, \"onTouchCancel\", function(e) {\n      _this.onTouchEnd(e);\n    });\n    _defineProperty(this, \"onTouchEnd\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      _this.__clearPress();\n      root.removeEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.removeEventListener(_this.events.end, _this.onTouchEnd);\n      root.removeEventListener(_this.events.move, _this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && _this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    _defineProperty(this, \"onTouchMove\", function(e) {\n      var _pos = _this._pos, config = _this.config;\n      var touch = getTouch(e.touches);\n      var x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      var y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      var diffx = x - _pos.x;\n      var diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      _this.__clearPress();\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      _this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(_config).map(function(key) {\n      _this.config[key] = _config[key];\n    });\n    this.root = dom;\n    this.events = _config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _createClass(Touche2, [{\n    key: \"_initEvent\",\n    value: function _initEvent() {\n      this.root.addEventListener(this.events.start, this.onTouchStart);\n    }\n  }, {\n    key: \"__setPress\",\n    value: function __setPress(e) {\n      var _this2 = this;\n      var config = this.config;\n      if (this.pressIntrvalId) {\n        this.__clearPress();\n      }\n      this.pressIntrvalId = setTimeout(function() {\n        _this2.trigger(EVENTS.PRESS, e);\n        _this2._pos.press = true;\n        _this2.__clearPress();\n      }, config.pressDelay);\n    }\n  }, {\n    key: \"__clearPress\",\n    value: function __clearPress() {\n      window.clearTimeout(this.pressIntrvalId);\n      this.pressIntrvalId = null;\n    }\n  }, {\n    key: \"__setDb\",\n    value: function __setDb(e) {\n      var _this3 = this;\n      var config = this.config;\n      if (this.dbIntrvalId) {\n        this.__clearDb();\n        this.trigger(EVENTS.DOUBlE_CLICK, e);\n        return;\n      }\n      this.dbIntrvalId = setTimeout(function() {\n        _this3.__clearDb();\n        if (!_this3._pos.start && !_this3._pos.press && !_this3._pos.moving) {\n          _this3.trigger(EVENTS.CLICK, e);\n        }\n      }, config.dbClickDelay);\n    }\n  }, {\n    key: \"__clearDb\",\n    value: function __clearDb() {\n      clearTimeout(this.dbIntrvalId);\n      this.dbIntrvalId = null;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler) {\n      if (!this.__handlers[event]) {\n        this.__handlers[event] = [];\n      }\n      this.__handlers[event].push(handler);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      var handlers = this.__handlers[event];\n      var index = -1;\n      for (var i = 0; i < handlers.length; i++) {\n        if (handlers[i] === handler) {\n          index = i;\n          break;\n        }\n      }\n      if (index >= 0) {\n        this.__handlers[event].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(event, e) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      this.__handlers[event].map(function(handler) {\n        try {\n          handler(e);\n        } catch (error) {\n          console.error(\"trigger>>:\".concat(event), error);\n        }\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var map = {\n        touchend: \"onTouchEnd\",\n        touchmove: \"onTouchMove\",\n        touchstart: \"onTouchStart\"\n      };\n      Object.keys(map).forEach(function(key) {\n        _this4.root.removeEventListener(key, _this4[map[key]]);\n      });\n    }\n  }]);\n  return Touche2;\n}();\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nvar ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar MobilePlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MobilePlugin2, _Plugin);\n  var _super = _createSuper(MobilePlugin2);\n  function MobilePlugin2(options) {\n    var _this;\n    _classCallCheck(this, MobilePlugin2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config, pos = _assertThisInitialize.pos, playerConfig = _assertThisInitialize.playerConfig;\n      var touche = _this.getTouche(e);\n      if (touche && !config.disableGesture && _this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        _this.find(\".xg-dur\").innerHTML = util.format(_this.duration);\n        var rect = _this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        var _x = parseInt(touche.pageX - pos.left, 10);\n        var _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function(e) {\n      var touche = _this.getTouche(e);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos, config = _assertThisInitialize2.config, player = _assertThisInitialize2.player;\n      if (!touche || config.disableGesture || !_this.duration || !pos.isStart) {\n        return;\n      }\n      var miniMoveStep = config.miniMoveStep, hideControlsActive = config.hideControlsActive;\n      var _x = parseInt(touche.pageX - pos.left, 10);\n      var _y = parseInt(touche.pageY - pos.top, 10);\n      var x = player.rotateDeg === 90 ? _y : _x;\n      var y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        var diffx = x - pos.x;\n        var diffy = y - pos.y;\n        var scope = pos.scope;\n        if (scope === -1) {\n          scope = _this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({\n              autoHide: false\n            }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + _this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        e.cancelable && e.preventDefault();\n        _this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, pos = _assertThisInitialize3.pos, playerConfig = _assertThisInitialize3.playerConfig;\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      var _this$config = _this.config, disableGesture = _this$config.disableGesture, gestureX = _this$config.gestureX;\n      if (!disableGesture && gestureX) {\n        _this.endLastMove(pos.scope);\n        setTimeout(function() {\n          player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n        }, 10);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      _this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      _this.changeAction(ACTIONS.AUTO);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchMove\", function(e) {\n      if (_this.config.disableGesture || !_this.config.gestureX) {\n        return;\n      }\n      if (_this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!_this.pos.isStart) {\n          _this.onTouchStart(e);\n        } else {\n          _this.onTouchMove(e);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchEnd\", function(e) {\n      if (_this.pos.isStart && _this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        _this.onTouchEnd(e);\n      }\n    });\n    _this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    _this.timer = null;\n    return _this;\n  }\n  _createClass(MobilePlugin2, [{\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        seekTipIcon: {\n          icon: SeekTipIcon,\n          class: \"xg-seek-pre\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var playerConfig = this.playerConfig, config = this.config, player = this.player;\n      if (playerConfig.closeVideoDblclick === true) {\n        config.closedbClick = true;\n      }\n      this.resetPos();\n      if (!util.isUndefined(playerConfig.disableGesture)) {\n        config.disableGesture = !!playerConfig.disableGesture;\n      }\n      this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n      this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n      player.root.appendChild(this.xgMask);\n      this.initCustomStyle();\n      this.registerThumbnail();\n      var eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n      this.touch = new Touche(this.root, {\n        eventType,\n        needPreventDefault: !this.config.disableGesture\n      });\n      this.root.addEventListener(\"contextmenu\", function(e) {\n        e.preventDefault();\n      });\n      player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n      this.on(DURATION_CHANGE, function() {\n        var player2 = _this2.player, config2 = _this2.config;\n        if (player2.duration * 1e3 < config2.moveDuration) {\n          config2.moveDuration = player2.duration * 1e3;\n        }\n      });\n      this.on([CANPLAY, ENDED], function() {\n        var _this2$pos = _this2.pos, time = _this2$pos.time, isStart = _this2$pos.isStart;\n        if (!isStart && time > 0) {\n          _this2.pos.time = 0;\n        }\n      });\n      var eventsMap = {\n        touchstart: \"onTouchStart\",\n        touchmove: \"onTouchMove\",\n        touchend: \"onTouchEnd\",\n        press: \"onPress\",\n        pressend: \"onPressEnd\",\n        click: \"onClick\",\n        doubleclick: \"onDbClick\"\n      };\n      Object.keys(eventsMap).map(function(key) {\n        _this2.touch.on(key, function(e) {\n          _this2[eventsMap[key]](e);\n        });\n      });\n      if (!config.disableActive) {\n        var progressPlugin = player.plugins.progress;\n        if (progressPlugin) {\n          progressPlugin.addCallBack(\"dragmove\", function(data) {\n            _this2.activeSeekNote(data.currentTime, data.forward);\n          });\n          progressPlugin.addCallBack(\"dragend\", function() {\n            _this2.changeAction(ACTIONS.AUTO);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n        var timePreview = this.find(\".time-preview\");\n        timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var playedColor = commonStyle.playedColor, progressColor = commonStyle.progressColor;\n      if (playedColor) {\n        this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n        this.find(\".xg-cur\").style.color = playedColor;\n      }\n      if (progressColor) {\n        this.find(\".xg-bar\").style.backgroundColor = progressColor;\n        this.find(\".time-preview\").style.color = progressColor;\n      }\n      this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n    }\n  }, {\n    key: \"resetPos\",\n    value: function resetPos() {\n      var _this3 = this;\n      if (this.pos) {\n        this.pos.isStart = false;\n        this.pos.scope = -1;\n        [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map(function(item) {\n          _this3.pos[item] = 0;\n        });\n      } else {\n        this.pos = {\n          isStart: false,\n          x: 0,\n          y: 0,\n          volume: 0,\n          rate: 1,\n          light: 0,\n          width: 0,\n          height: 0,\n          scopeL: 0,\n          scopeR: 0,\n          scopeM1: 0,\n          scopeM2: 0,\n          scope: -1,\n          time: 0\n        };\n      }\n    }\n  }, {\n    key: \"changeAction\",\n    value: function changeAction(action) {\n      var player = this.player, root = this.root;\n      root.setAttribute(\"data-xg-action\", action);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.recover();\n    }\n  }, {\n    key: \"getTouche\",\n    value: function getTouche(e) {\n      var rotateDeg = this.player.rotateDeg;\n      var touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n      return rotateDeg === 0 ? {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      } : {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      };\n    }\n  }, {\n    key: \"checkScope\",\n    value: function checkScope(x, y, diffx, diffy, pos) {\n      var width = pos.width;\n      var scope = -1;\n      if (x < 0 || x > width) {\n        return scope;\n      }\n      var mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n      if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n        scope = 0;\n      } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n        scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n      }\n      return scope;\n    }\n  }, {\n    key: \"executeMove\",\n    value: function executeMove(diffx, diffy, scope, width, height) {\n      switch (scope) {\n        case 0:\n          this.updateTime(diffx / width * this.config.scopeM);\n          break;\n        case 1:\n          this.updateBrightness(diffy / height);\n          break;\n        case 2:\n          if (!sniffer.os.isIos) {\n            this.updateVolume(diffy / height);\n          }\n          break;\n      }\n    }\n  }, {\n    key: \"endLastMove\",\n    value: function endLastMove(lastScope) {\n      var _this4 = this;\n      var pos = this.pos, player = this.player, config = this.config;\n      var time = (pos.time - this.timeOffset) / 1e3;\n      switch (lastScope) {\n        case 0:\n          player.seek(Number(time).toFixed(1));\n          config.hideControlsEnd ? player.blur() : player.focus();\n          this.timer = setTimeout(function() {\n            _this4.pos.time = 0;\n          }, 500);\n          break;\n      }\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"checkIsRootTarget\",\n    value: function checkIsRootTarget(e) {\n      var plugins = this.player.plugins || {};\n      if (plugins.progress && plugins.progress.root.contains(e.target)) {\n        return false;\n      }\n      return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n    }\n  }, {\n    key: \"sendUseAction\",\n    value: function sendUseAction(event) {\n      var paused = this.player.paused;\n      this.emitUserAction(event, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: paused,\n        to: !paused\n      });\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var player = this.player, config = this.config, playerConfig = this.playerConfig;\n      if (player.state < STATES.RUNNING) {\n        if (!playerConfig.closeVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          player.play();\n        }\n        return;\n      }\n      if (!config.closedbClick || playerConfig.closeVideoClick) {\n        player.isActive ? player.blur() : player.focus();\n      } else if (!playerConfig.closeVideoClick) {\n        if (player.isActive || config.focusVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          this.switchPlayPause();\n        }\n        player.focus();\n      }\n    }\n  }, {\n    key: \"dbClickHandler\",\n    value: function dbClickHandler(e) {\n      var config = this.config, player = this.player;\n      if (!config.closedbClick && player.state >= STATES.RUNNING) {\n        this.sendUseAction(util.createEvent(\"dblclick\"));\n        this.switchPlayPause();\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var _this5 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[0], function(plugin, data) {\n        _this5.clickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onDbClick\",\n    value: function onDbClick(e) {\n      var _this6 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[1], function(plugin, data) {\n        _this6.dbClickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onPress\",\n    value: function onPress(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      pos.rate = this.player.playbackRate;\n      this.emitUserAction(\"press\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: config.pressRate\n      });\n      player.playbackRate = config.pressRate;\n      this.changeAction(ACTIONS.PLAYBACK);\n    }\n  }, {\n    key: \"onPressEnd\",\n    value: function onPressEnd(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      this.emitUserAction(\"pressend\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: pos.rate\n      });\n      player.playbackRate = pos.rate;\n      pos.rate = 1;\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(percent) {\n      var player = this.player, config = this.config;\n      var duration = this.player.duration;\n      percent = Number(percent.toFixed(4));\n      var time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n      time += this.pos.time;\n      time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n      player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n      player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n      this.activeSeekNote(time / 1e3, percent > 0);\n      if (config.isTouchingSeek) {\n        player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n      }\n      this.pos.time = time;\n    }\n  }, {\n    key: \"updateVolume\",\n    value: function updateVolume(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var player = this.player, pos = this.pos;\n      percent = parseInt(percent * 100, 10);\n      pos.volume += percent;\n      if (Math.abs(pos.volume) < 10) {\n        return;\n      }\n      var volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n      volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n      player.volume = volume / 10;\n      pos.volume = 0;\n    }\n  }, {\n    key: \"updateBrightness\",\n    value: function updateBrightness(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var pos = this.pos, config = this.config, xgMask = this.xgMask;\n      var light = pos.light + 0.8 * percent;\n      light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n      if (xgMask) {\n        xgMask.style.backgroundColor = \"rgba(0,0,0,\".concat(light, \")\");\n      }\n      pos.light = light;\n    }\n  }, {\n    key: \"activeSeekNote\",\n    value: function activeSeekNote(time) {\n      var isForward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var player = this.player, config = this.config;\n      var isLive = !(this.duration !== Infinity && this.duration > 0);\n      if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n        return;\n      }\n      if (time < 0) {\n        time = 0;\n      } else if (time > player.duration) {\n        time = player.duration - 0.2;\n      }\n      this.changeAction(ACTIONS.SEEKING);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.focusHide();\n      this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n      this.find(\".xg-cur\").innerHTML = util.format(time);\n      this.find(\".xg-curbar\").style.width = \"\".concat(time / this.duration * 100, \"%\");\n      if (isForward) {\n        util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      } else {\n        util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      }\n      this.updateThumbnails(time);\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n      }\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause() {\n      var player = this.player;\n      if (player.state < STATES.ATTACHED) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          player.play();\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }, {\n    key: \"disableGesture\",\n    value: function disableGesture() {\n      this.config.disableGesture = false;\n    }\n  }, {\n    key: \"enableGesture\",\n    value: function enableGesture() {\n      this.config.disableGesture = true;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      this.timer && clearTimeout(this.timer);\n      this.thumbnail = null;\n      player.root.removeChild(this.xgMask);\n      this.xgMask = null;\n      this.touch && this.touch.destroy();\n      this.touch = null;\n      player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.config.gradient !== \"normal\" ? \"gradient \".concat(this.config.gradient) : \"gradient\";\n      return '\\n     <xg-trigger class=\"trigger\">\\n     <div class=\"'.concat(className, '\"></div>\\n        <div class=\"time-preview\">\\n            <div class=\"xg-seek-show ').concat(this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\", '\">\\n              <i class=\"xg-seek-icon\"></i>\\n              <span class=\"xg-cur\">00:00</span>\\n              <span>/</span>\\n              <span class=\"xg-dur\">00:00</span>\\n            </div>\\n              <div class=\"xg-bar xg-timebar\">\\n                <div class=\"xg-curbar\"></div>\\n              </div>\\n        </div>\\n        <div class=\"xg-playbackrate xg-top-note\">\\n            <span><i>').concat(this.config.pressRate, \"X</i>\").concat(this.i18n.FORWARD, \"</span>\\n        </div>\\n     </xg-trigger>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"mobile\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 0,\n        disableGesture: false,\n        gestureX: true,\n        gestureY: true,\n        gradient: \"normal\",\n        isTouchingSeek: false,\n        miniMoveStep: 5,\n        miniYPer: 5,\n        scopeL: 0.25,\n        scopeR: 0.25,\n        scopeM: 0.9,\n        pressRate: 2,\n        darkness: true,\n        maxDarkness: 0.8,\n        disableActive: false,\n        disableTimeProgress: false,\n        hideControlsActive: false,\n        hideControlsEnd: false,\n        moveDuration: 60 * 6 * 1e3,\n        closedbClick: false,\n        disablePress: true,\n        disableSeekIcon: false,\n        focusVideoClick: false\n      };\n    }\n  }]);\n  return MobilePlugin2;\n}(Plugin);\nexport { MobilePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  var tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nvar Keyboard = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Keyboard2, _BasePlugin);\n  var _super = _createSuper(Keyboard2);\n  function Keyboard2() {\n    var _this;\n    _classCallCheck(this, Keyboard2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyDown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var keyCode = e.keyCode;\n      var _assertThisInitialize = _assertThisInitialized(_this), _keyState = _assertThisInitialize._keyState, player = _assertThisInitialize.player;\n      var _this$config = _this.config, disable = _this$config.disable, disableBodyTrigger = _this$config.disableBodyTrigger, isIgnoreUserActive = _this$config.isIgnoreUserActive;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !_this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || _this.config.isGlobalTrigger && !isDisableTag(e.target)) && _this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", _this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyUp\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", _this.onBodyKeyUp);\n      _this.handleKeyUp(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeydown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _keyState = _assertThisInitialize2._keyState;\n      if (!e.repeat) {\n        if (_this.config.disable || _this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || _this.checkCode(e.keyCode)) && (e.target === _this.player.root || e.target === _this.player.video || e.target === _this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        _this.player.root.addEventListener(\"keyup\", _this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyup\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      _this.player.root.removeEventListener(\"keyup\", _this.onKeyup);\n      _this.handleKeyUp(event);\n    });\n    return _this;\n  }\n  _createClass(Keyboard2, [{\n    key: \"mergekeyCodeMap\",\n    value: function mergekeyCodeMap() {\n      var _this2 = this;\n      var extendkeyCodeMap = this.config.keyCodeMap;\n      if (extendkeyCodeMap) {\n        Object.keys(extendkeyCodeMap).map(function(key) {\n          if (!_this2.keyCodeMap[key]) {\n            _this2.keyCodeMap[key] = extendkeyCodeMap[key];\n          } else {\n            [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map(function(key1) {\n              extendkeyCodeMap[key][key1] && (_this2.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.config.disable = !this.playerConfig.keyShortcut;\n      var seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n      if (!(!seekStep || typeof seekStep !== \"number\")) {\n        this.seekStep = seekStep;\n      }\n      this.keyCodeMap = {\n        space: {\n          keyCode: 32,\n          action: \"playPause\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: false\n        },\n        up: {\n          keyCode: 38,\n          action: \"upVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        down: {\n          keyCode: 40,\n          action: \"downVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        left: {\n          keyCode: 37,\n          action: \"seekBack\",\n          disablePress: false,\n          disable: false\n        },\n        right: {\n          keyCode: 39,\n          action: \"seek\",\n          pressAction: \"changePlaybackRate\",\n          disablePress: false,\n          disable: false\n        },\n        esc: {\n          keyCode: 27,\n          action: \"exitFullscreen\",\n          disablePress: true,\n          disable: false\n        }\n      };\n      this.mergekeyCodeMap();\n      this._keyState = {\n        isKeyDown: false,\n        isBodyKeyDown: false,\n        isPress: false,\n        tt: 0,\n        playbackRate: 0\n      };\n      this.player.root.addEventListener(\"keydown\", this.onKeydown);\n      document.addEventListener(\"keydown\", this.onBodyKeyDown);\n    }\n  }, {\n    key: \"checkIsVisible\",\n    value: function checkIsVisible() {\n      if (!this.config.checkVisible) {\n        return true;\n      }\n      var rec = this.player.root.getBoundingClientRect();\n      var height = rec.height, top = rec.top, bottom = rec.bottom;\n      var h = window.innerHeight;\n      if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"checkCode\",\n    value: function checkCode(code, isBodyTarget) {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this.keyCodeMap).map(function(key) {\n        if (_this3.keyCodeMap[key] && code === _this3.keyCodeMap[key].keyCode && !_this3.keyCodeMap[key].disable) {\n          flag = !isBodyTarget || isBodyTarget && !_this3.keyCodeMap[key].noBodyTarget;\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"downVolume\",\n    value: function downVolume(event) {\n      var player = this.player;\n      if (player.volume <= 0) {\n        return;\n      }\n      var val = parseFloat((player.volume - 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val >= 0) {\n        player.volume = val;\n      } else {\n        player.volume = 0;\n      }\n    }\n  }, {\n    key: \"upVolume\",\n    value: function upVolume(event) {\n      var player = this.player;\n      if (player.volume >= 1) {\n        return;\n      }\n      var val = parseFloat((player.volume + 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val <= 1) {\n        player.volume = val;\n      } else {\n        player.volume = 1;\n      }\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(event) {\n      var _this$player = this.player, currentTime = _this$player.currentTime, offsetCurrentTime = _this$player.offsetCurrentTime, duration = _this$player.duration, offsetDuration = _this$player.offsetDuration, timeSegments = _this$player.timeSegments;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _duration = offsetDuration || duration;\n      var _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      if (_time + _step <= _duration) {\n        _time = _time + _step;\n      } else {\n        _time = _duration;\n      }\n      var _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"seekBack\",\n    value: function seekBack(event) {\n      var _this$player2 = this.player, currentTime = _this$player2.currentTime, offsetCurrentTime = _this$player2.offsetCurrentTime, timeSegments = _this$player2.timeSegments;\n      var _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _seekTime = _time - _step;\n      if (_seekTime < 0) {\n        _seekTime = 0;\n      }\n      _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"changePlaybackRate\",\n    value: function changePlaybackRate(event) {\n      var _keyState = this._keyState, config = this.config, player = this.player;\n      if (_keyState.playbackRate === 0) {\n        _keyState.playbackRate = player.playbackRate;\n        player.playbackRate = config.playbackRate;\n      }\n    }\n  }, {\n    key: \"playPause\",\n    value: function playPause(event) {\n      var player = this.player;\n      if (!player) {\n        return;\n      }\n      this.emitUserAction(event, \"switch_play_pause\");\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(event) {\n      var player = this.player;\n      var fullscreen = player.fullscreen, cssfullscreen = player.cssfullscreen;\n      if (fullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n        player.exitFullscreen();\n      }\n      if (cssfullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n          prop: \"cssfullscreen\",\n          from: cssfullscreen,\n          to: !cssfullscreen\n        });\n        player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var _keyState = this._keyState;\n      if (e.repeat) {\n        _keyState.isPress = true;\n        var _t = Date.now();\n        if (_t - _keyState.tt < 200) {\n          return;\n        }\n        _keyState.tt = _t;\n      }\n      this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      var _keyState = this._keyState;\n      if (_keyState.playbackRate > 0) {\n        this.player.playbackRate = _keyState.playbackRate;\n        _keyState.playbackRate = 0;\n      }\n      _keyState.isKeyDown = false;\n      _keyState.isPress = false;\n      _keyState.tt = 0;\n    }\n  }, {\n    key: \"handleKeyCode\",\n    value: function handleKeyCode(curKeyCode, event, isPress) {\n      var arr = Object.keys(this.keyCodeMap);\n      for (var i = 0; i < arr.length; i++) {\n        var _this$keyCodeMap$arr$ = this.keyCodeMap[arr[i]], action = _this$keyCodeMap$arr$.action, keyCode = _this$keyCodeMap$arr$.keyCode, disable = _this$keyCodeMap$arr$.disable, pressAction = _this$keyCodeMap$arr$.pressAction, disablePress = _this$keyCodeMap$arr$.disablePress;\n        if (keyCode === curKeyCode) {\n          if (!disable && !(isPress && disablePress)) {\n            var _action = !isPress ? action : pressAction || action;\n            if (typeof _action === \"function\") {\n              action(event, this.player, isPress);\n            } else if (typeof _action === \"string\") {\n              if (typeof this[_action] === \"function\") {\n                this[_action](event, this.player, isPress);\n              }\n            }\n            this.emit(SHORTCUT, _objectSpread2({\n              key: arr[i],\n              target: event.target,\n              isPress\n            }, this.keyCodeMap[arr[i]]));\n          }\n          preventDefault(event);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n      document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"keyboard\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        seekStep: 10,\n        checkVisible: false,\n        disableBodyTrigger: false,\n        disableRootTrigger: false,\n        isGlobalTrigger: true,\n        keyCodeMap: {},\n        disable: false,\n        playbackRate: 2,\n        isIgnoreUserActive: true\n      };\n    }\n  }]);\n  return Keyboard2;\n}(BasePlugin);\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nvar Loading = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Loading2, _Plugin);\n  var _super = _createSuper(Loading2);\n  function Loading2() {\n    _classCallCheck(this, Loading2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Loading2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        loadingIcon\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '\\n    <xg-loading class=\"xgplayer-loading\">\\n      <xg-loading-inner></xg-loading-inner>\\n    </xg-loading>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"loading\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT\n      };\n    }\n  }]);\n  return Loading2;\n}(Plugin);\nexport { Loading as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar TPL = [{\n  tag: \"xg-cache\",\n  className: \"xgplayer-progress-cache\",\n  styleKey: \"cachedColor\"\n}, {\n  tag: \"xg-played\",\n  className: \"xgplayer-progress-played\",\n  styleKey: \"playedColor\"\n}];\nvar InnerList = /* @__PURE__ */ function() {\n  function InnerList2(args) {\n    _classCallCheck(this, InnerList2);\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({\n        percent: 1\n      });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  _createClass(InnerList2, [{\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this = this;\n      this.duration = duration;\n      var start = 0;\n      var fragments = this.fragments;\n      this.fragments = fragments.map(function(item) {\n        item.start = parseInt(start, 10);\n        item.end = parseInt(start + item.percent * _this.duration, 10);\n        item.duration = parseInt(item.percent * _this.duration, 10);\n        start += item.percent * _this.duration;\n        return item;\n      });\n    }\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"played\";\n      var data = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        newIndex: 0,\n        curIndex: 0,\n        millisecond: 0\n      };\n      var progressList = this.progressList, fragments = this.fragments;\n      if (progressList.length < 1) {\n        return;\n      }\n      var newIndex = data.newIndex, curIndex = data.curIndex, millisecond = data.millisecond;\n      if (newIndex !== curIndex) {\n        progressList.map(function(item, index) {\n          if (index < newIndex) {\n            item[type].style.width = \"100%\";\n          } else if (index > newIndex) {\n            item[type].style.width = 0;\n          }\n        });\n      }\n      var curPFrag = fragments[newIndex];\n      var per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n      progressList[newIndex][type].style.width = per < 0 ? 0 : \"\".concat(per * 100, \"%\");\n    }\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus(data) {\n      if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n        return;\n      }\n      if (!data) {\n        if (this.focusIndex > -1) {\n          this.unHightLight(this.focusIndex);\n          var _data = {\n            index: -1,\n            preIndex: this.focusIndex,\n            fragment: null\n          };\n          this._callBack && this._callBack(_data);\n          this.focusIndex = -1;\n        }\n        return;\n      }\n      var newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n      if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n        this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n        this.setHightLight(newPIndex);\n        var _data2 = {\n          index: newPIndex,\n          preIndex: this.focusIndex,\n          fragment: this.fragments[this.focusIndex]\n        };\n        this.focusIndex = newPIndex;\n        this._callBack && this._callBack(_data2);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n        if (!duration && duration !== 0) {\n          return;\n        }\n        this.updateDuration(parseInt(duration * 1e3, 10));\n      }\n      var playedIndex = this.playedIndex, cachedIndex = this.cachedIndex;\n      if (util.typeOf(data.played) !== \"Undefined\") {\n        var newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n        if (newPIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"played\", {\n          newIndex: newPIndex,\n          curIndex: playedIndex,\n          millisecond: parseInt(data.played * 1e3, 10)\n        });\n        this.playedIndex = newPIndex;\n      }\n      if (util.typeOf(data.cached) !== \"Undefined\") {\n        var newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n        if (newCIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"cached\", {\n          newIndex: newCIndex,\n          curIndex: cachedIndex,\n          millisecond: parseInt(data.cached * 1e3, 10)\n        });\n        this.cachedIndex = newCIndex;\n      }\n    }\n  }, {\n    key: \"findIndex\",\n    value: function findIndex(time, curIndex) {\n      var fragments = this.fragments;\n      if (!fragments || fragments.length === 0) {\n        return -1;\n      }\n      if (fragments.length === 1) {\n        return 0;\n      }\n      if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n        return curIndex;\n      }\n      if (time > fragments[fragments.length - 1].start) {\n        return fragments.length - 1;\n      }\n      for (var i = 0; i < fragments.length; i++) {\n        if (time > fragments[i].start && time <= fragments[i].end) {\n          curIndex = i;\n          break;\n        }\n      }\n      return curIndex;\n    }\n  }, {\n    key: \"findHightLight\",\n    value: function findHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n          return {\n            dom: children[i],\n            pos: children[i].getBoundingClientRect()\n          };\n        }\n      }\n    }\n  }, {\n    key: \"findFragment\",\n    value: function findFragment(index) {\n      var children = this.root.children;\n      if (index < 0 || index >= children.length) {\n        return null;\n      }\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }, {\n    key: \"unHightLight\",\n    value: function unHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        util.removeClass(children[i], this.fragConfig.fragFocusClass);\n      }\n    }\n  }, {\n    key: \"setHightLight\",\n    value: function setHightLight(index) {\n      var children = this.root.children;\n      if (index < children.length) {\n        util.addClass(children[index], this.fragConfig.fragFocusClass);\n        return {\n          dom: children[index],\n          pos: children[index].getBoundingClientRect()\n        };\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.progressList = null;\n      this.fragments = null;\n      this.root.innerHTML = \"\";\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(newOptions) {\n      var _this2 = this;\n      Object.keys(this.fragConfig).forEach(function(key) {\n        if (newOptions[key] !== void 0) {\n          _this2.fragConfig[key] = newOptions[key];\n        }\n      });\n      if (newOptions.fragments) {\n        this.fragments = newOptions.fragments.length === 0 ? [{\n          percent: 1\n        }] : newOptions.fragments;\n        this.updateDuration(this.duration);\n        this.playedIndex = 0;\n        this.cachedIndex = 0;\n        if (this.root) {\n          var _c = this.root.children;\n          while (_c.length > 0) {\n            this.root.removeChild(_c[0]);\n          }\n        }\n        this.render();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var progressColor = this.style.progressColor;\n      if (!this.root) {\n        this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n      }\n      if (this.fragments) {\n        var _this$fragConfig = this.fragConfig, fragClass = _this$fragConfig.fragClass, fragFocusClass = _this$fragConfig.fragFocusClass;\n        this.progressList = this.fragments.map(function(item) {\n          var inner = util.createDom(\"xg-inner\", \"\", {\n            style: progressColor ? \"background:\".concat(progressColor, \"; flex: \").concat(item.percent) : \"flex: \".concat(item.percent)\n          }, \"\".concat(item.isFocus ? fragFocusClass : \"\", \" xgplayer-progress-inner \").concat(fragClass));\n          _this3.root.appendChild(inner);\n          TPL.forEach(function(item2) {\n            inner.appendChild(util.createDom(item2.tag, \"\", {\n              style: item2.styleKey ? \"background: \".concat(_this3.style[item2.styleKey], \"; width:0;\") : \"width:0;\"\n            }, item2.className));\n          });\n          return {\n            cached: inner.children[0],\n            played: inner.children[1]\n          };\n        });\n      }\n      return this.root;\n    }\n  }]);\n  return InnerList2;\n}();\nexport { InnerList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nvar FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nvar Progress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Progress2, _Plugin);\n  var _super = _createSuper(Progress2);\n  function Progress2(args) {\n    var _this;\n    _classCallCheck(this, Progress2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMoveOnly\", function(e, data) {\n      var _assertThisInitialize = _assertThisInitialized(_this), pos = _assertThisInitialize.pos, config = _assertThisInitialize.config, player = _assertThisInitialize.player;\n      var ret = data;\n      if (e) {\n        util.event(e);\n        var _ePos = util.getEventPos(e, player.zoom);\n        var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = _this.computeTime(e, x);\n      }\n      _this.triggerCallbacks(\"dragmove\", ret, e);\n      _this._updateInnerFocus(ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyClick\", function(e) {\n      if (!_this.pos.isLocked) {\n        return;\n      }\n      _this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseDownHandler\", function(event, data) {\n      _this._state.time = data.currentTime;\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseUpHandler\", function(e, data) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos;\n      pos.moving && _this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseMoveHandler\", function(e, data) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), _state = _assertThisInitialize3._state, pos = _assertThisInitialize3.pos, config = _assertThisInitialize3.config, player = _assertThisInitialize3.player;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        _this.triggerCallbacks(\"dragstart\", data, e);\n        _this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      _this.triggerCallbacks(\"dragmove\", data, e);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _state = _assertThisInitialize4._state, player = _assertThisInitialize4.player, pos = _assertThisInitialize4.pos, config = _assertThisInitialize4.config, playerConfig = _assertThisInitialize4.playerConfig;\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      _this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({\n        autoHide: false\n      });\n      _this.isProgressMoving = true;\n      util.addClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseDownHandlerHook(e, ret);\n      var eventType = e.type;\n      if (eventType === \"touchstart\") {\n        _this.root.addEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.addEventListener(\"touchend\", _this.onMouseUp);\n      } else {\n        _this.unbind(\"mousemove\", _this.onMoveOnly);\n        document.addEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", _this.onMouseUp, false);\n      }\n      return true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function(e) {\n      var _assertThisInitialize5 = _assertThisInitialized(_this), player = _assertThisInitialize5.player, config = _assertThisInitialize5.config, pos = _assertThisInitialize5.pos, playerConfig = _assertThisInitialize5.playerConfig, _state = _assertThisInitialize5._state;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        _this.triggerCallbacks(\"dragend\", ret, e);\n        _this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        _this.triggerCallbacks(\"click\", ret, e);\n        _this.emitUserAction(\"click\", \"click\", ret);\n      }\n      _this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      var eventType = e.type;\n      if (eventType === \"touchend\") {\n        _this.root.removeEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.removeEventListener(\"touchend\", _this.onMouseUp);\n        _this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", _this.onMouseUp, false);\n        if (!pos.isEnter) {\n          _this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && _this.bind(\"mousemove\", _this.onMoveOnly);\n        }\n      }\n      util.setTimeout(_assertThisInitialized(_this), function() {\n        _this.resetSeekState();\n      }, 10);\n      player.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize6 = _assertThisInitialized(_this), _state = _assertThisInitialize6._state, pos = _assertThisInitialize6.pos, player = _assertThisInitialize6.player, config = _assertThisInitialize6.config;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseMoveHandlerHook(e, ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOut\", function(e) {\n      _this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function(e) {\n      _this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize7 = _assertThisInitialized(_this), player = _assertThisInitialize7.player, pos = _assertThisInitialize7.pos;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      _this.bind(\"mousemove\", _this.onMoveOnly);\n      _this.bind(\"mouseleave\", _this.onMouseLeave);\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var ret = _this.computeTime(e, x);\n      _this.triggerCallbacks(\"mouseenter\", ret, e);\n      _this.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      _this.triggerCallbacks(\"mouseleave\", null, e);\n      _this.unlock();\n      _this._updateInnerFocus(null);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoResize\", function() {\n      var _this$pos = _this.pos, x = _this$pos.x, isDown = _this$pos.isDown, isEnter = _this$pos.isEnter;\n      if (isEnter && !isDown) {\n        var ret = _this.computeTime(null, x);\n        _this.onMoveOnly(null, ret);\n      }\n    });\n    _this.useable = false;\n    _this.isProgressMoving = false;\n    _this.__dragCallBacks = [];\n    _this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    _this._disableBlur = false;\n    return _this;\n  }\n  _createClass(Progress2, [{\n    key: \"offsetDuration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player = this.player, offsetCurrentTime = _this$player.offsetCurrentTime, currentTime = _this$player.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n    }\n  }, {\n    key: \"changeState\",\n    value: function changeState() {\n      var useable = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this.useable = useable;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.root && (this.root.style.display = \"flex\");\n    }\n  }, {\n    key: \"_initInner\",\n    value: function _initInner() {\n      var _this2 = this;\n      var fragments = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (!fragments || fragments.length === 0) {\n        fragments = [{\n          percent: 1\n        }];\n      }\n      var _c = _objectSpread2(_objectSpread2({\n        fragments\n      }, config), {}, {\n        actionCallback: function actionCallback(data) {\n          _this2.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n        }\n      });\n      if (!this.innerList) {\n        this.innerList = new InnerList(_c);\n        this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n        [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map(function(item) {\n          _this2[item] = _this2.innerList[item].bind(_this2.innerList);\n        });\n      } else {\n        this.innerList.reset(_c);\n      }\n    }\n  }, {\n    key: \"_updateInnerFocus\",\n    value: function _updateInnerFocus(data) {\n      this.innerList && this.innerList.updateFocus(data);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this3 = this;\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      this.pos = {\n        x: 0,\n        y: 0,\n        moving: false,\n        isDown: false,\n        isEnter: false,\n        isLocked: false\n      };\n      this.outer = this.find(\"xg-outer\");\n      var _this$config = this.config, fragFocusClass = _this$config.fragFocusClass, fragAutoFocus = _this$config.fragAutoFocus, fragClass = _this$config.fragClass;\n      this._initInner(this.config.fragments, {\n        fragFocusClass,\n        fragAutoFocus,\n        fragClass,\n        style: this.playerConfig.commonStyle || {}\n      });\n      if (sniffer.device === \"mobile\") {\n        this.config.isDragingSeek = false;\n        this.isMobile = true;\n      }\n      this.progressBtn = this.find(\".xgplayer-progress-btn\");\n      this.on(DURATION_CHANGE, function() {\n        _this3.onMouseLeave();\n      });\n      this.on(TIME_UPDATE, function() {\n        _this3.onTimeupdate();\n      });\n      this.on(SEEKED, function() {\n        _this3.onTimeupdate();\n        _this3.onCacheUpdate();\n      });\n      this.on(PROGRESS, function() {\n        _this3.onCacheUpdate();\n      });\n      this.on(ENDED, function() {\n        _this3.onCacheUpdate(true);\n        _this3.onTimeupdate(true);\n        _this3._state.now = 0;\n      });\n      this.on(EMPTIED, function() {\n        _this3.onReset();\n      });\n      this.on(VIDEO_RESIZE, function() {\n        _this3.onVideoResize();\n      });\n      this.bindDomEvents();\n      this.initCustomStyle();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this4 = this;\n      var frags = null;\n      Object.keys(config).forEach(function(key) {\n        _this4.config[key] = config[key];\n        if (key === \"fragments\") {\n          frags = config[key];\n        }\n      });\n      if (frags) {\n        this._initInner(frags, config);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var sliderBtnStyle = commonStyle.sliderBtnStyle;\n      var progressBtn = this.progressBtn;\n      if (sliderBtnStyle) {\n        if (typeof sliderBtnStyle === \"string\") {\n          progressBtn.style.boxShadow = sliderBtnStyle;\n        } else if (_typeof(sliderBtnStyle) === \"object\") {\n          Object.keys(sliderBtnStyle).map(function(key) {\n            progressBtn.style[key] = sliderBtnStyle[key];\n          });\n        }\n      }\n    }\n  }, {\n    key: \"triggerCallbacks\",\n    value: function triggerCallbacks(type, data, event) {\n      if (this.__dragCallBacks.length > 0) {\n        this.__dragCallBacks.map(function(item) {\n          if (item && item.handler && item.type === type) {\n            try {\n              item.handler(data, event);\n            } catch (error) {\n              console.error(\"[XGPLAYER][triggerCallbacks] \".concat(item, \" error\"), error);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"addCallBack\",\n    value: function addCallBack(type, handle) {\n      if (handle && typeof handle === \"function\") {\n        this.__dragCallBacks.push({\n          type,\n          handler: handle\n        });\n      }\n    }\n  }, {\n    key: \"removeCallBack\",\n    value: function removeCallBack(type, event) {\n      var __dragCallBacks = this.__dragCallBacks;\n      var _index = -1;\n      __dragCallBacks.map(function(item, index) {\n        if (item && item.type === type && item.handler === event) {\n          _index = index;\n        }\n      });\n      if (_index > -1) {\n        __dragCallBacks.splice(_index, 1);\n      }\n    }\n  }, {\n    key: \"unlock\",\n    value: function unlock() {\n      var player = this.player, pos = this.pos;\n      pos.isEnter = false;\n      pos.isLocked = false;\n      if (player.isMini) {\n        return;\n      }\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      if (pos.isDown) {\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        return;\n      }\n      this.blur();\n    }\n  }, {\n    key: \"bindDomEvents\",\n    value: function bindDomEvents() {\n      var _this$player2 = this.player, controls = _this$player2.controls, config = _this$player2.config;\n      this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n      this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n      this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n      if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n        this.root.addEventListener(\"touchstart\", this.onMouseDown);\n        if (controls) {\n          controls.root && controls.root.addEventListener(\"touchmove\", util.stopPropagation);\n          controls.center && controls.center.addEventListener(\"touchend\", util.stopPropagation);\n        }\n      }\n      if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n        this.bind(\"mousedown\", this.onMouseDown);\n        config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseover\", this.onMouseOver);\n        this.bind(\"mouseout\", this.onMouseOut);\n        this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.controls.pauseAutoHide();\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (this._disableBlur) {\n        return;\n      }\n      this.player.controls.recoverAutoHide();\n      util.removeClass(this.root, \"active\");\n    }\n  }, {\n    key: \"disableBlur\",\n    value: function disableBlur() {\n      this._disableBlur = true;\n    }\n  }, {\n    key: \"enableBlur\",\n    value: function enableBlur() {\n      this._disableBlur = false;\n    }\n  }, {\n    key: \"updateWidth\",\n    value: function updateWidth(currentTime, seekTime, percent, type) {\n      var config = this.config, player = this.player;\n      if (config.isCloseClickSeek && type === 0) {\n        return;\n      }\n      var realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n      this.updatePercent(percent);\n      this.updateTime(currentTime);\n      if (type === 1 && (!config.isDragingSeek || player.config.mediaType === \"audio\")) {\n        return;\n      }\n      this._state.now = realTime;\n      this._state.direc = realTime > player.currentTime ? 0 : 1;\n      player.seek(realTime);\n    }\n  }, {\n    key: \"computeTime\",\n    value: function computeTime(e, x) {\n      var player = this.player;\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, top = _this$root$getBoundin.top, left = _this$root$getBoundin.left;\n      var rWidth, rLeft;\n      var clientX = x;\n      if (player.rotateDeg === 90) {\n        rWidth = height;\n        rLeft = top;\n      } else {\n        rWidth = width;\n        rLeft = left;\n      }\n      var offset = clientX - rLeft;\n      offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n      var percent = offset / rWidth;\n      percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n      var currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n      var seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n      return {\n        percent,\n        currentTime,\n        seekTime,\n        offset,\n        width: rWidth,\n        left: rLeft,\n        e\n      };\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      var player = this.player, duration = this.duration;\n      if (time > duration) {\n        time = duration;\n      } else if (time < 0) {\n        time = 0;\n      }\n      var timeIcon = player.plugins.time;\n      if (timeIcon) {\n        timeIcon.updateTime(time);\n      }\n    }\n  }, {\n    key: \"resetSeekState\",\n    value: function resetSeekState() {\n      this.isProgressMoving = false;\n      var timeIcon = this.player.plugins.time;\n      timeIcon && timeIcon.resetActive();\n    }\n  }, {\n    key: \"updatePercent\",\n    value: function updatePercent(percent, notSeek) {\n      this.isProgressMoving = true;\n      if (this.config.disable) {\n        return;\n      }\n      percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n      this.progressBtn.style.left = \"\".concat(percent * 100, \"%\");\n      this.innerList.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate(isEnded) {\n      var player = this.player, _state = this._state, offsetDuration = this.offsetDuration;\n      if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n        return;\n      }\n      if (_state.now > -1) {\n        var abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n        if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n          _state.now = -1;\n          return;\n        } else {\n          _state.now = -1;\n        }\n      }\n      var time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n      this.innerList.update({\n        played: time\n      }, offsetDuration);\n      this.progressBtn.style.left = \"\".concat(time / offsetDuration * 100, \"%\");\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: time\n      }, offsetDuration);\n    }\n  }, {\n    key: \"onCacheUpdate\",\n    value: function onCacheUpdate(isEnded) {\n      var player = this.player, duration = this.duration;\n      if (!player) {\n        return;\n      }\n      var _end = player.bufferedPoint.end;\n      _end = util.adjustTimeByDuration(_end, duration, isEnded);\n      this.innerList.update({\n        cached: _end\n      }, duration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        cached: _end\n      }, duration);\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      this.innerList.update({\n        played: 0,\n        cached: 0\n      }, 0);\n      this.progressBtn.style.left = \"0%\";\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        cached: 0,\n        played: 0\n      }, 0);\n      this.progressBtn.style.left = \"0%\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      var controls = player.controls;\n      this.thumbnailPlugin = null;\n      this.innerList.destroy();\n      this.innerList = null;\n      var domEventType = this.domEventType;\n      if (domEventType === \"touch\" || domEventType === \"compatible\") {\n        this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        if (controls) {\n          controls.root && controls.root.removeEventListener(\"touchmove\", util.stopPropagation);\n          controls.center && controls.center.removeEventListener(\"touchend\", util.stopPropagation);\n        }\n      }\n      if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n        this.unbind(\"mousedown\", this.onMouseDown);\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        player.root.removeEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      var controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n      var className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n      return '\\n    <xg-progress class=\"xgplayer-progress '.concat(className, '\">\\n      <xg-outer class=\"xgplayer-progress-outer\">\\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\\n      </xg-outer>\\n    </xg-progress>\\n    ');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_CENTER,\n        index: 0,\n        disable: false,\n        isDragingSeek: true,\n        closeMoveSeek: false,\n        isPauseMoving: false,\n        isCloseClickSeek: false,\n        fragments: [{\n          percent: 1\n        }],\n        fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n        fragClass: \"\",\n        fragAutoFocus: false,\n        miniMoveStep: 5,\n        miniStartStep: 2,\n        onMoveStart: function onMoveStart() {\n        },\n        onMoveEnd: function onMoveEnd() {\n        },\n        endedDiff: 0.2\n      };\n    }\n  }, {\n    key: \"FRAGMENT_FOCUS_CLASS\",\n    get: function get() {\n      return FRAGMENT_FOCUS_CLASS;\n    }\n  }]);\n  return Progress2;\n}(Plugin);\nexport { Progress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Icon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Icon2, _Plugin);\n  var _super = _createSuper(Icon2);\n  function Icon2() {\n    var _this;\n    _classCallCheck(this, Icon2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseenter\", function(e) {\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseLeave\", function(e) {\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    return _this;\n  }\n  _createClass(Icon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.bind(\"mouseenter\", this._onMouseenter);\n      this.bind(\"mouseleave\", this._onMouseLeave);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\"mouseenter\", this._onMouseenter);\n      this.unbind(\"mouseleave\", this._onMouseLeave);\n    }\n  }]);\n  return Icon2;\n}(Plugin);\nexport { Icon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PAUSE, ERROR, EMPTIED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar Play = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Play2, _IconPlugin);\n  var _super = _createSuper(Play2);\n  function Play2() {\n    _classCallCheck(this, Play2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Play2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(Play2.prototype), \"afterCreate\", this).call(this);\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      this.initIcons();\n      this.btnClick = this.btnClick.bind(this);\n      this.bind([\"touchend\", \"click\"], this.btnClick);\n      this.on([PAUSE, ERROR, EMPTIED], function() {\n        _this.animate(player.paused);\n      });\n      this.on(PLAY, function() {\n        _this.animate(player.paused);\n      });\n      this.animate(true);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (player.ended) {\n        player.replay();\n      } else if (player.paused) {\n        player.play();\n        this.animate(false);\n      } else {\n        player.pause();\n        this.animate(true);\n      }\n      return false;\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.play);\n      this.appendChild(\".xgplayer-icon\", icons.pause);\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(paused) {\n      if (!this.player) {\n        return;\n      }\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      if (paused) {\n        this.setAttr(\"data-state\", \"pause\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n      } else {\n        this.setAttr(\"data-state\", \"play\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Play2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"touchend\", \"click\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-play\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"play\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Play2;\n}(Icon);\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nvar TopBackIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(TopBackIcon2, _Plugin);\n  var _super = _createSuper(TopBackIcon2);\n  function TopBackIcon2() {\n    _classCallCheck(this, TopBackIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TopBackIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.initIcons();\n      this.onClick = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        _this.config.onClick(e);\n      };\n      this.bind([\"click\", \"touchend\"], this.onClick);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenBack: {\n          icon: BackSVG,\n          class: \"xg-fullscreen-back\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(this.root, icons.screenBack);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-back\">\\n    </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"topbackicon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT_TOP,\n        index: 0\n      };\n    }\n  }]);\n  return TopBackIcon2;\n}(Plugin);\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nvar Fullscreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Fullscreen2, _IconPlugin);\n  var _super = _createSuper(Fullscreen2);\n  function Fullscreen2() {\n    var _this;\n    _classCallCheck(this, Fullscreen2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onOrientationChange\", function(e) {\n      if (_this.player.fullscreen && _this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          _this.player.setRotateDeg(0);\n        } else {\n          _this.player.setRotateDeg(90);\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(Fullscreen2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"afterCreate\", this).call(this);\n      var config = this.config, playerConfig = this.playerConfig;\n      if (config.disable) {\n        return;\n      }\n      if (config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      var fullEl = util.getFullScreenEl();\n      if (playerConfig.fullscreenTarget === fullEl) {\n        this.player.getFullscreen().catch(function(e) {\n        });\n      }\n      this.initIcons();\n      this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n        pre: function pre(e) {\n          var fullscreen = _this2.player.fullscreen;\n          _this2.emitUserAction(e, \"switch_fullscreen\", {\n            prop: \"fullscreen\",\n            from: fullscreen,\n            to: !fullscreen\n          });\n        }\n      });\n      this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n      this.on(FULLSCREEN_CHANGE, function(isFullScreen) {\n        var tipsDom = _this2.find(\".xg-tips\");\n        tipsDom && _this2.changeLangTextKey(tipsDom, isFullScreen ? _this2.i18nKeys.EXITFULLSCREEN_TIPS : _this2.i18nKeys.FULLSCREEN_TIPS);\n        _this2.animate(isFullScreen);\n      });\n      if (this.config.needBackIcon) {\n        this.topBackIcon = this.player.registerPlugin({\n          plugin: TopBackIcon,\n          options: {\n            config: {\n              onClick: function onClick(e) {\n                _this2.handleFullscreen(e);\n              }\n            }\n          }\n        });\n      }\n      if (sniffer.device === \"mobile\") {\n        window.addEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        fullscreen: {\n          icon: FullScreenSvg,\n          class: \"xg-get-fullscreen\"\n        },\n        exitFullscreen: {\n          icon: ExitFullScreenSvg,\n          class: \"xg-exit-fullscreen\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n      if (sniffer.device === \"mobile\") {\n        window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n      this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n    }\n  }, {\n    key: \"toggleFullScreen\",\n    value: function toggleFullScreen(e) {\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      var player = this.player, config = this.config;\n      var useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n      if (useCssFullscreen) {\n        if (player.fullscreen) {\n          player.exitCssFullscreen();\n        } else {\n          player.getCssFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.rotateFullscreen) {\n        if (player.fullscreen) {\n          player.exitRotateFullscreen();\n        } else {\n          player.getRotateFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n        config.switchCallback(player.fullscreen);\n      } else {\n        if (player.fullscreen) {\n          player.exitFullscreen();\n        } else {\n          player.getFullscreen().catch(function(e2) {\n          });\n        }\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      if (this.topBackIcon) {\n        if (isFullScreen) {\n          this.topBackIcon.show();\n          this.hide();\n        } else {\n          this.topBackIcon.hide();\n          this.show();\n        }\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"hide\", this).call(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var langKey = \"FULLSCREEN_TIPS\";\n      return '<xg-icon class=\"xgplayer-fullscreen\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, langKey, this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"fullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 0,\n        useCssFullscreen: false,\n        rotateFullscreen: false,\n        switchCallback: null,\n        target: null,\n        disable: false,\n        needBackIcon: false\n      };\n    }\n  }]);\n  return Fullscreen2;\n}(Icon);\nexport { Fullscreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar Time = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Time2, _Plugin);\n  var _super = _createSuper(Time2);\n  function Time2(args) {\n    var _this;\n    _classCallCheck(this, Time2);\n    _this = _super.call(this, args);\n    _this.isActiving = false;\n    return _this;\n  }\n  _createClass(Time2, [{\n    key: \"duration\",\n    get: function get() {\n      var _this$player = this.player, offsetDuration = _this$player.offsetDuration, duration = _this$player.duration;\n      return this.playerConfig.customDuration || offsetDuration || duration;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player2 = this.player, offsetCurrentTime = _this$player2.offsetCurrentTime, currentTime = _this$player2.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var constrolsMode = this.player.controls.config.mode;\n      this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n      if (this.config.disable) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.createCenterTime();\n        this.root.style.display = \"none\";\n      }\n      this.durationDom = this.find(\".time-duration\");\n      this.timeDom = this.find(\".time-current\");\n      this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], function(e) {\n        if (e.eventName === \"durationchange\") {\n          _this2.isActiving = false;\n        }\n        _this2.onTimeUpdate();\n      });\n      this.on(ENDED, function() {\n        _this2.onTimeUpdate(true);\n      });\n      this.on(EMPTIED, function() {\n        _this2.onReset();\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n        return;\n      }\n      this.root.style.display = \"block\";\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n        return;\n      }\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate(isEnded) {\n      var player = this.player, config = this.config, duration = this.duration;\n      if (config.disable || this.isActiving || !player.hasStart) {\n        return;\n      }\n      var current = this.currentTime + this.timeOffset;\n      current = util.adjustTimeByDuration(current, duration, isEnded);\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.centerDurDom.innerHTML = util.format(duration);\n        }\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.durationDom.innerHTML = util.format(duration);\n        }\n      }\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n        this.centerDurDom.innerHTML = util.format(0);\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n        this.durationDom.innerHTML = util.format(0);\n      }\n    }\n  }, {\n    key: \"createCenterTime\",\n    value: function createCenterTime() {\n      var player = this.player;\n      if (!player.controls || !player.controls.center) {\n        return;\n      }\n      var center = player.controls.center;\n      this.centerCurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-left\");\n      this.centerDurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-right\");\n      center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n      center.appendChild(this.centerDurDom);\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n      var config = this.config;\n      if (this.duration === Infinity || this.playerConfig.isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n      }\n      if (config.hide) {\n        this.hide();\n        return;\n      }\n      this.show();\n    }\n  }, {\n    key: \"changeLiveState\",\n    value: function changeLiveState(isLive) {\n      if (isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n        util.show(this.find(\".time-separator\"));\n        util.show(this.durationDom);\n        util.show(this.timeDom);\n      }\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      this.isActiving = true;\n      if (!time && time !== 0 || time > this.duration) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n        return;\n      }\n      this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n    }\n  }, {\n    key: \"minWidthTime\",\n    value: function minWidthTime(timeStr) {\n      return timeStr.split(\":\").map(function(value) {\n        return '<span class=\"time-min-width\">'.concat(value, \"</span>\");\n      }).join(\":\");\n    }\n  }, {\n    key: \"resetActive\",\n    value: function resetActive() {\n      var _this3 = this;\n      var player = this.player;\n      var updateState = function updateState2() {\n        _this3.isActiving = false;\n      };\n      this.off(SEEKED, updateState);\n      if (player.isSeeking && player.media.seeking) {\n        this.once(SEEKED, updateState);\n      } else {\n        this.isActiving = false;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var center = this.player.controls.center;\n      this.centerCurDom && center.removeChild(this.centerCurDom);\n      this.centerCurDom = null;\n      this.centerDurDom && center.removeChild(this.centerDurDom);\n      this.centerDurDom = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-time\">\\n    <span class=\"time-current\">00:00</span>\\n    <span class=\"time-separator\">/</span>\\n    <span class=\"time-duration\">00:00</span>\\n    <span class=\"time-live-tag\">'.concat(this.i18n.LIVE_TIP, \"</span>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"time\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 2,\n        disable: false\n      };\n    }\n  }]);\n  return Time2;\n}(Plugin);\nexport { Time as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar TimeSegmentsControls = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TimeSegmentsControls2, _BasePlugin);\n  var _super = _createSuper(TimeSegmentsControls2);\n  function TimeSegmentsControls2() {\n    var _this;\n    _classCallCheck(this, TimeSegmentsControls2);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onDurationChange\", function() {\n      _this.updateSegments();\n      var _this$player = _this.player, currentTime = _this$player.currentTime, timeSegments = _this$player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      var time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(index, timeSegments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadedData\", function() {\n      var timeSegments = _this.player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var time = util.getOffsetCurrentTime(0, timeSegments);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(0, timeSegments);\n      if (_this.curPos.start > 0) {\n        _this.player.currentTime = _this.curPos.start;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      var _this$player2 = _this.player, currentTime = _this$player2.currentTime, timeSegments = _this$player2.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var _len = timeSegments.length;\n      _this.lastCurrentTime = currentTime;\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== _this.curIndex) {\n        _this.changeIndex(index, timeSegments);\n      }\n      var curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = curTime;\n      if (!_this.curPos) {\n        return;\n      }\n      var _this$curPos = _this.curPos, start = _this$curPos.start, end = _this$curPos.end;\n      if (currentTime < start) {\n        _this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        _this.player.pause();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      var _this$player3 = _this.player, currentTime = _this$player3.currentTime, timeSegments = _this$player3.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        _this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        var _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          var _seekTime = _this.getSeekTime(currentTime, _this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            _this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", function() {\n      var _this$player4 = _this.player, currentTime = _this$player4.currentTime, timeSegments = _this$player4.timeSegments;\n      if (_this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[0].start;\n      }\n    });\n    return _this;\n  }\n  _createClass(TimeSegmentsControls2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.curIndex = -1;\n      this.curPos = null;\n      this.lastCurrentTime = 0;\n      this.updateSegments();\n      this.on(DURATION_CHANGE, this._onDurationChange);\n      this.on(LOADED_DATA, this._onLoadedData);\n      this.on(TIME_UPDATE, this._onTimeupdate);\n      this.on(SEEKING, this._onSeeking);\n      this.on(PLAY, this._onPlay);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(newConfig) {\n      var _this2 = this;\n      if (!newConfig) {\n        return;\n      }\n      var keys = Object.keys(newConfig);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this2.config[key] = newConfig[key];\n      });\n      this.updateSegments();\n    }\n  }, {\n    key: \"updateSegments\",\n    value: function updateSegments() {\n      var _this$config = this.config, disable = _this$config.disable, segments = _this$config.segments;\n      var player = this.player;\n      if (disable || !segments || segments.length === 0) {\n        player.timeSegments = [];\n        player.offsetDuration = 0;\n        player.offsetCurrentTime = -1;\n      } else {\n        var _segs = this.formatTimeSegments(segments, player.duration);\n        player.timeSegments = _segs;\n        player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n      }\n    }\n  }, {\n    key: \"formatTimeSegments\",\n    value: function formatTimeSegments(timeSegments, duration) {\n      var ret = [];\n      if (!timeSegments) {\n        return [];\n      }\n      timeSegments.sort(function(a, b) {\n        return a.start - b.start;\n      });\n      timeSegments.forEach(function(item, index) {\n        var _item = {};\n        _item.start = item.start < 0 ? 0 : item.start;\n        _item.end = duration > 0 && item.end > duration ? duration : item.end;\n        if (duration > 0 && _item.start > duration) {\n          return;\n        }\n        ret.push(_item);\n        var _segDuration = _item.end - _item.start;\n        if (index === 0) {\n          _item.offset = item.start;\n          _item.cTime = 0;\n          _item.segDuration = _segDuration;\n          _item.duration = _segDuration;\n        } else {\n          var last = ret[index - 1];\n          _item.offset = last.offset + (_item.start - last.end);\n          _item.cTime = last.duration + last.cTime;\n          _item.segDuration = _segDuration;\n          _item.duration = last.duration + _segDuration;\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSeekTime\",\n    value: function getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n      var _time = -1;\n      var _timeSegments$index = timeSegments[index], start = _timeSegments$index.start, end = _timeSegments$index.end;\n      if (currentTime >= start && currentTime <= end) {\n        return _time;\n      }\n      var diff = currentTime - lastCurrentTime;\n      if (diff < 0) {\n        if (currentTime < start) {\n          var diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n          _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n          return _time;\n        }\n      }\n      return -1;\n    }\n  }, {\n    key: \"_checkIfEnabled\",\n    value: function _checkIfEnabled(segments) {\n      return !(!segments || segments.length < 1);\n    }\n  }, {\n    key: \"changeIndex\",\n    value: function changeIndex(index, timeSegments) {\n      this.curIndex = index;\n      if (index >= 0 && timeSegments.length > 0) {\n        this.curPos = timeSegments[index];\n      } else {\n        this.curPos = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"TimeSegmentsControls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: true,\n        segments: []\n      };\n    }\n  }]);\n  return TimeSegmentsControls2;\n}(BasePlugin);\nexport { TimeSegmentsControls as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nvar Volume = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Volume2, _Plugin);\n  var _super = _createSuper(Volume2);\n  function Volume2() {\n    var _this;\n    _classCallCheck(this, Volume2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBarMousedown\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      var bar = _this.find(\".xgplayer-bar\");\n      util.event(e);\n      var barRect = bar.getBoundingClientRect();\n      var pos = util.getEventPos(e, player.zoom);\n      var height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      _this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      _this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", _this.onBarMouseUp);\n      _this._d.isStart = true;\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseMove\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _d = _assertThisInitialize2._d;\n      if (!_d.isStart) {\n        return;\n      }\n      var _assertThisInitialize3 = _assertThisInitialized(_this), pos = _assertThisInitialize3.pos, player = _assertThisInitialize3.player;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      var w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      _this.updateVolumePos(w, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseUp\", function(e) {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", _this.onBarMouseUp);\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _d = _assertThisInitialize4._d;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseenter\", function(e) {\n      _this._d.isActive = true;\n      _this.focus();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseleave\", function(e) {\n      _this._d.isActive = false;\n      _this.unFocus(100, false, e);\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVolumeChange\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      var _this$player = _this.player, muted = _this$player.muted, volume = _this$player.volume;\n      if (!_this._d.isMoving) {\n        _this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : \"\".concat(volume * 100, \"%\");\n        if (_this.config.showValueLabel) {\n          _this.updateVolumeValue();\n        }\n      }\n      _this.animate(muted, volume);\n    });\n    return _this;\n  }\n  _createClass(Volume2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        volumeSmall: {\n          icon: volumeSmallSvg,\n          class: \"xg-volume-small\"\n        },\n        volumeLarge: {\n          icon: volumeLargeSvg,\n          class: \"xg-volume\"\n        },\n        volumeMuted: {\n          icon: volumeMutedSvg,\n          class: \"xg-volume-mute\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._timerId = null;\n      this._d = {\n        isStart: false,\n        isMoving: false,\n        isActive: false\n      };\n      if (this.config.disable) {\n        return;\n      }\n      this.initIcons();\n      var _this$playerConfig = this.playerConfig, commonStyle = _this$playerConfig.commonStyle, volume = _this$playerConfig.volume;\n      if (commonStyle.volumeColor) {\n        this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n      }\n      this.changeMutedHandler = this.hook(\"mutedChange\", function(e) {\n        _this2.changeMuted(e);\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n      this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n      if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this._onMouseenterHandler);\n        this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n        this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n        this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n        this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      }\n      this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n      this.on(VOLUME_CHANGE, this.onVolumeChange);\n      this.once(LOADED_DATA, this.onVolumeChange);\n      if (util.typeOf(volume) !== \"Number\") {\n        this.player.volume = this.config.default;\n      }\n      this.onVolumeChange();\n    }\n  }, {\n    key: \"updateVolumePos\",\n    value: function updateVolumePos(height, event) {\n      var player = this.player;\n      var drag = this.find(\".xgplayer-drag\");\n      var bar = this.find(\".xgplayer-bar\");\n      if (!bar || !drag) {\n        return;\n      }\n      var now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n      drag.style.height = \"\".concat(height, \"px\");\n      var to = Math.max(Math.min(now / 1e3, 1), 0);\n      var props = {\n        volume: {\n          from: player.volume,\n          to\n        }\n      };\n      if (player.muted) {\n        props.muted = {\n          from: true,\n          to: false\n        };\n      }\n      this.emitUserAction(event, \"change_volume\", {\n        muted: player.muted,\n        volume: player.volume,\n        props\n      });\n      player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n      player.muted && (player.muted = false);\n      if (this.config.showValueLabel) {\n        this.updateVolumeValue();\n      }\n    }\n  }, {\n    key: \"updateVolumeValue\",\n    value: function updateVolumeValue() {\n      var _this$player2 = this.player, volume = _this$player2.volume, muted = _this$player2.muted;\n      var $labelValue = this.find(\".xgplayer-value-label\");\n      var vol = Math.max(Math.min(volume, 1), 0);\n      $labelValue.innerText = muted ? 0 : Math.ceil(vol * 100);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var player = this.player;\n      player.focus({\n        autoHide: false\n      });\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      util.addClass(this.root, \"slide-show\");\n    }\n  }, {\n    key: \"unFocus\",\n    value: function unFocus() {\n      var _this3 = this;\n      var delay = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 100;\n      var isForce = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var e = arguments.length > 2 ? arguments[2] : void 0;\n      var _d = this._d, player = this.player;\n      if (_d.isActive) {\n        return;\n      }\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this._timerId = util.setTimeout(this, function() {\n        if (!_d.isActive) {\n          isForce ? player.blur() : player.focus();\n          util.removeClass(_this3.root, \"slide-show\");\n          _d.isStart && _this3.onBarMouseUp(e);\n        }\n        _this3._timerId = null;\n      }, delay);\n    }\n  }, {\n    key: \"changeMuted\",\n    value: function changeMuted(e) {\n      e && e.stopPropagation();\n      var player = this.player, _d = this._d;\n      _d.isStart && this.onBarMouseUp(e);\n      this.emitUserAction(e, \"change_muted\", {\n        muted: player.muted,\n        volume: player.volume,\n        props: {\n          muted: {\n            from: player.muted,\n            to: !player.muted\n          }\n        }\n      });\n      if (player.volume > 0) {\n        player.muted = !player.muted;\n      }\n      if (player.volume < 0.01) {\n        player.volume = this.config.miniVolume;\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(muted, volume) {\n      if (muted || volume === 0) {\n        this.setAttr(\"data-state\", \"mute\");\n      } else if (volume < 0.5 && this.icons.volumeSmall) {\n        this.setAttr(\"data-state\", \"small\");\n      } else {\n        this.setAttr(\"data-state\", \"normal\");\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n      this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n      this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this.unbind(\"mouseenter\", this.onMouseenter);\n      this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n      this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var volume = this.config.default || this.player.volume;\n      var isShowVolumeValue = this.config.showValueLabel;\n      return '\\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      <xg-slider class=\"xgplayer-slider\">\\n        '.concat(isShowVolumeValue ? '<div class=\"xgplayer-value-label\">'.concat(volume * 100, \"</div>\") : \"\", '\\n        <div class=\"xgplayer-bar\">\\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ').concat(volume * 100, '%\"></xg-drag>\\n        </div>\\n      </xg-slider>\\n    </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"volume\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        showValueLabel: false,\n        default: 0.6,\n        miniVolume: 0.2\n      };\n    }\n  }]);\n  return Volume2;\n}(Plugin);\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g clip-path=\"url(#clip0)\">\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath id=\"clip0\">\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nvar Rotate = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Rotate2, _IconPlugin);\n  var _super = _createSuper(Rotate2);\n  function Rotate2(args) {\n    var _this;\n    _classCallCheck(this, Rotate2);\n    _this = _super.call(this, args);\n    _this.rotateDeg = _this.config.rotateDeg || 0;\n    return _this;\n  }\n  _createClass(Rotate2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.config.disable) {\n        return;\n      }\n      _get(_getPrototypeOf(Rotate2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n      this.onBtnClick = this.onBtnClick.bind(this);\n      this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n      this.on(VIDEO_RESIZE, function() {\n        if (_this2.rotateDeg && _this2.config.innerRotate) {\n          util.setTimeout(_this2, function() {\n            _this2.updateRotateDeg(_this2.rotateDeg, _this2.config.innerRotate);\n          }, 100);\n        }\n      });\n      var root = this.player.root;\n      this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n      this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n      if (this.rotateDeg) {\n        this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Rotate2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    }\n  }, {\n    key: \"onBtnClick\",\n    value: function onBtnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"rotate\");\n      this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n    }\n  }, {\n    key: \"updateRotateDeg\",\n    value: function updateRotateDeg(rotateDeg, innerRotate) {\n      if (!rotateDeg) {\n        rotateDeg = 0;\n      }\n      if (innerRotate) {\n        this.player.videoRotateDeg = rotateDeg;\n        return;\n      }\n      var player = this.player, rootWidth = this.rootWidth, rootHeight = this.rootHeight;\n      var root = player.root, innerContainer = player.innerContainer;\n      var video = player.media;\n      var width = root.offsetWidth;\n      var height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n      var rWidth = rootWidth;\n      var rHeight = rootHeight;\n      var x = 0;\n      var y = 0;\n      if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n        rWidth = \"\".concat(height, \"px\");\n        rHeight = \"\".concat(width, \"px\");\n        x = -(height - width) / 2;\n        y = -(width - height) / 2;\n      }\n      var _transform = \"translate(\".concat(x, \"px,\").concat(y, \"px) rotate(\").concat(rotateDeg, \"turn)\");\n      var _styles = {\n        transformOrigin: \"center center\",\n        transform: _transform,\n        webKitTransform: _transform,\n        height: rHeight,\n        width: rWidth\n      };\n      var _target = innerRotate ? video : root;\n      var poster = innerRotate ? player.getPlugin(\"poster\") : null;\n      Object.keys(_styles).map(function(key) {\n        _target.style[key] = _styles[key];\n        poster && poster.root && (poster.root.style[key] = _styles[key]);\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate() {\n      var clockwise = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var innerRotate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var times = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1;\n      var player = this.player;\n      if (!this.rotateDeg) {\n        this.rotateDeg = 0;\n      }\n      var factor = clockwise ? 1 : -1;\n      this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n      this.updateRotateDeg(this.rotateDeg, innerRotate);\n      player.emit(ROTATE, this.rotateDeg * 360);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        rotate: RotateSvg\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n    <xg-icon class=\"xgplayer-rotate\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"rotate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        innerRotate: true,\n        clockwise: false,\n        rotateDeg: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Rotate2;\n}(Icon);\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf, toConsumableArray as _toConsumableArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nvar PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nvar PIP = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(PIP2, _IconPlugin);\n  var _super = _createSuper(PIP2);\n  function PIP2() {\n    var _this;\n    _classCallCheck(this, PIP2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"switchPIP\", function(e) {\n      if (!_this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (_this.isPip) {\n        _this.exitPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: true,\n          to: false\n        });\n        _this.setAttr(\"data-state\", \"normal\");\n      } else if (_this.player.media.readyState === 4) {\n        _this.requestPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: false,\n          to: true\n        });\n        _this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n    return _this;\n  }\n  _createClass(PIP2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.pip === \"boolean\") {\n        args.config.showIcon = args.player.config.pip;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (!this.isPIPAvailable()) {\n        return;\n      }\n      _get(_getPrototypeOf(PIP2.prototype), \"afterCreate\", this).call(this);\n      this.pMode = PresentationMode.INLINE;\n      this.initPipEvents();\n      if (this.config.showIcon) {\n        this.initIcons();\n      }\n      this.once(COMPLETE, function() {\n        if (_this2.config.showIcon) {\n          util.removeClass(_this2.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n          _this2.bind(\"click\", _this2.switchPIP);\n        }\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        pipIcon: {\n          icon: PipIcon,\n          class: \"xg-get-pip\"\n        },\n        pipIconExit: {\n          icon: PipIconExit,\n          class: \"xg-exit-pip\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n      this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n    }\n  }, {\n    key: \"initPipEvents\",\n    value: function initPipEvents() {\n      var _this3 = this;\n      var player = this.player;\n      this.leavePIPCallback = function() {\n        var paused = player.paused;\n        util.setTimeout(_this3, function() {\n          !paused && player.mediaPlay();\n        }, 0);\n        !paused && player.mediaPlay();\n        _this3.setAttr(\"data-state\", \"normal\");\n        _this3.pipWindow = null;\n        player.emit(PIP_CHANGE, false);\n      };\n      this.enterPIPCallback = function(e) {\n        player.emit(PIP_CHANGE, true);\n        if (e !== null && e !== void 0 && e.pictureInPictureWindow) {\n          _this3.pipWindow = e.pictureInPictureWindow;\n        }\n        _this3.setAttr(\"data-state\", \"pip\");\n      };\n      this.onWebkitpresentationmodechanged = function(e) {\n        var mode = player.media.webkitPresentationMode;\n        if (_this3.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n          player.onFullscreenChange(null, false);\n        }\n        _this3.pMode = mode;\n        if (mode === PresentationMode.PIP) {\n          _this3.enterPIPCallback(e);\n        } else if (mode === PresentationMode.INLINE) {\n          _this3.leavePIPCallback(e);\n        }\n      };\n      if (player.media) {\n        player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n        player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n        PIP2.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      }\n    }\n  }, {\n    key: \"copyStyleIntoPiPWindow\",\n    value: function copyStyleIntoPiPWindow(pipWin) {\n      var textContent = _toConsumableArray(document.styleSheets).map(function(style2) {\n        try {\n          return _toConsumableArray(style2.cssRules).map(function(rule) {\n            return rule.cssText;\n          }).join(\"\");\n        } catch (e) {\n          var link = document.createElement(\"link\");\n          link.rel = \"stylesheet\";\n          link.type = style2.type;\n          link.media = style2.media;\n          link.href = style2.href;\n          pipWin.document.head.appendChild(link);\n        }\n        return \"\";\n      }).filter(Boolean).join(\"\\n\");\n      var style = document.createElement(\"style\");\n      style.textContent = textContent;\n      pipWin.document.head.appendChild(style);\n    }\n  }, {\n    key: \"requestPIP\",\n    value: function requestPIP() {\n      var _this4 = this;\n      var player = this.player, playerConfig = this.playerConfig, config = this.config;\n      if (!this.isPIPAvailable() || this.isPip) {\n        return;\n      }\n      try {\n        var poster = playerConfig.poster;\n        if (poster) {\n          player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n        }\n        if (config.preferDocument && this.isDocPIPAvailable()) {\n          var pipOptions = {};\n          if (config.width && config.height) {\n            pipOptions.width = config.width;\n            pipOptions.height = config.height;\n          } else {\n            var playerRect = player.root.getBoundingClientRect();\n            pipOptions.width = playerRect.width;\n            pipOptions.height = playerRect.height;\n          }\n          documentPictureInPicture.requestWindow(pipOptions).then(function(pipWin) {\n            var docPiPNode = config.docPiPNode, docPiPStyle = config.docPiPStyle;\n            _this4.enterPIPCallback();\n            var pipRoot = docPiPNode || player.root;\n            var parentNode = pipRoot.parentElement;\n            var previousSibling = pipRoot.previousSibling;\n            var nextSibling = pipRoot.nextSibling;\n            _this4.copyStyleIntoPiPWindow(pipWin);\n            var styles = document.createElement(\"style\");\n            styles.append(\"body{padding:0; margin:0;}\");\n            if (docPiPStyle) {\n              var cssContent = \"\";\n              if (typeof docPiPStyle === \"string\") {\n                cssContent = docPiPStyle;\n              } else if (typeof docPiPStyle === \"function\") {\n                cssContent = docPiPStyle.call(config);\n              }\n              if (cssContent) {\n                styles.append(cssContent);\n              }\n            } else if (pipRoot === player.root) {\n              styles.append(\"\\n              .xgplayer{width: 100%!important; height: 100%!important;}\\n            \");\n            }\n            pipWin.document.head.append(styles);\n            pipWin.document.body.append(pipRoot);\n            pipWin.addEventListener(\"pagehide\", function(event) {\n              if (parentNode) {\n                if (nextSibling) {\n                  parentNode.insertBefore(pipRoot, nextSibling);\n                } else if (previousSibling) {\n                  parentNode.insertBefore(pipRoot, previousSibling.nextSibling);\n                } else {\n                  parentNode.appendChild(pipRoot);\n                }\n              } else {\n              }\n              _this4.leavePIPCallback();\n            }, {\n              once: true\n            });\n          });\n        } else if (PIP2.checkWebkitSetPresentationMode(player.media)) {\n          player.media.webkitSetPresentationMode(\"picture-in-picture\");\n        } else {\n          player.media.requestPictureInPicture();\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"requestPiP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"exitPIP\",\n    value: function exitPIP() {\n      var player = this.player;\n      try {\n        if (this.isPIPAvailable() && this.isPip) {\n          var _documentPictureInPic;\n          if (this.isDocPIPAvailable() && (_documentPictureInPic = documentPictureInPicture) !== null && _documentPictureInPic !== void 0 && _documentPictureInPic.window) {\n            documentPictureInPicture.window.close();\n          } else if (PIP2.checkWebkitSetPresentationMode(player.media)) {\n            player.media.webkitSetPresentationMode(\"inline\");\n          } else {\n            document.exitPictureInPicture();\n          }\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"exitPIP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"isPip\",\n    get: function get() {\n      var _documentPictureInPic2;\n      var player = this.player;\n      return !!(this.isDocPIPAvailable() && (_documentPictureInPic2 = documentPictureInPicture) !== null && _documentPictureInPic2 !== void 0 && _documentPictureInPic2.window) || document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n    }\n  }, {\n    key: \"isPIPAvailable\",\n    value: function isPIPAvailable() {\n      var video = this.player.media;\n      var _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : true;\n      return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\") || this.isDocPIPAvailable();\n    }\n  }, {\n    key: \"isDocPIPAvailable\",\n    value: function isDocPIPAvailable() {\n      return \"documentPictureInPicture\" in window && /^(https|file)/.test(location.protocol);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PIP2.prototype), \"destroy\", this).call(this);\n      var player = this.player;\n      player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP2.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      this.exitPIP();\n      this.unbind(\"click\", this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.showIcon || !this.isPIPAvailable()) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-pip\">\\n      <div class=\"xgplayer-icon xg-icon-disable\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PIP\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pip\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        showIcon: false,\n        preferDocument: false,\n        width: void 0,\n        height: void 0,\n        docPiPNode: void 0,\n        docPiPStyle: void 0\n      };\n    }\n  }, {\n    key: \"checkWebkitSetPresentationMode\",\n    value: function checkWebkitSetPresentationMode(video) {\n      return typeof video.webkitSetPresentationMode === \"function\";\n    }\n  }]);\n  return PIP2;\n}(Icon);\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nvar PlayNextIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(PlayNextIcon2, _Plugin);\n  var _super = _createSuper(PlayNextIcon2);\n  function PlayNextIcon2(options) {\n    var _this;\n    _classCallCheck(this, PlayNextIcon2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"playNext\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      if (_this.idx + 1 < _this.config.urlList.length) {\n        _this.idx++;\n        _this.nextHandler(_this.config.urlList[_this.idx], _this.idx);\n        player.emit(PLAYNEXT, _this.idx + 1);\n      } else {\n        _this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    _this.idx = -1;\n    return _this;\n  }\n  _createClass(PlayNextIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n      this.initEvents();\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        playNext: Next\n      };\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n      var event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n      this.bind(event, this.playNext);\n      this.show();\n    }\n  }, {\n    key: \"changeSrc\",\n    value: function changeSrc(url) {\n      var player = this.player;\n      if (!url) {\n        return;\n      }\n      player.pause();\n      player.currentTime = 0;\n      if (player.switchURL) {\n        player.switchURL(url);\n      } else {\n        player.src = url;\n      }\n      player.config.url = url;\n      player.play();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"touchend\", \"click\"], this.playNext);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      return '\\n     <xg-icon class=\"xgplayer-playnext\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips), \"\\n     </xg-icon>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playNext\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 1,\n        url: null,\n        urlList: []\n      };\n    }\n  }]);\n  return PlayNextIcon2;\n}(Plugin);\nexport { PlayNextIcon as default };\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nvar Download = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Download2, _IconPlugin);\n  var _super = _createSuper(Download2);\n  function Download2(args) {\n    var _this;\n    _classCallCheck(this, Download2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"download\", function(e) {\n      if (_this.isLock) {\n        return;\n      }\n      _this.emitUserAction(e, \"download\");\n      var url = _this.playerConfig.url;\n      var dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      var newUrl = _this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      _this.isLock = true;\n      _this.timer = window.setTimeout(function() {\n        _this.isLock = false;\n        window.clearTimeout(_this.timer);\n        _this.timer = null;\n      }, 300);\n    });\n    _this.timer = null;\n    _this.isLock = false;\n    return _this;\n  }\n  _createClass(Download2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(Download2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.download);\n      this._handler = this.hook(\"click\", this.download, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this._handler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        download: DownloadSvg\n      };\n    }\n  }, {\n    key: \"getAbsoluteURL\",\n    value: function getAbsoluteURL(url) {\n      if (!url.match(/^https?:\\/\\//)) {\n        var div = document.createElement(\"div\");\n        div.innerHTML = '<a href=\"'.concat(url, '\">x</a>');\n        url = div.firstChild.href;\n      }\n      return url;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Download2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.download);\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-download\">\\n   <div class=\"xgplayer-icon\">\\n   </div>\\n   '.concat(xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"download\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        disable: true\n      };\n    }\n  }]);\n  return Download2;\n}(Icon);\nexport { Download as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nvar ScreenShot = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(ScreenShot2, _IconPlugin);\n  var _super = _createSuper(ScreenShot2);\n  function ScreenShot2() {\n    _classCallCheck(this, ScreenShot2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ScreenShot2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.screenShot === \"boolean\") {\n        args.config.disable = !args.player.config.screenShot;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n      var config = this.config;\n      this.initSize = function(data) {\n        if (config.fitVideo) {\n          config.width = data.vWidth;\n          config.height = data.vHeight;\n        }\n      };\n      this.once(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      this.show();\n      this.onClickBtn = this.onClickBtn.bind(this);\n      this.bind([\"click\", \"touchend\"], this.onClickBtn);\n    }\n  }, {\n    key: \"saveScreenShot\",\n    value: function saveScreenShot(data, filename) {\n      var saveLink = document.createElement(\"a\");\n      saveLink.href = data;\n      saveLink.download = filename;\n      var event = document.createEvent(\"MouseEvents\");\n      event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      saveLink.dispatchEvent(event);\n    }\n  }, {\n    key: \"createCanvas\",\n    value: function createCanvas(width, height) {\n      var canvas = document.createElement(\"canvas\");\n      var canvasCtx = canvas.getContext(\"2d\");\n      this.canvasCtx = canvasCtx;\n      this.canvas = canvas;\n      canvas.width = width || this.config.width;\n      canvas.height = height || this.config.height;\n      canvasCtx.imageSmoothingEnabled = true;\n      if (canvasCtx.imageSmoothingEnabled) {\n        canvasCtx.imageSmoothingQuality = \"high\";\n      }\n    }\n  }, {\n    key: \"onClickBtn\",\n    value: function onClickBtn(e) {\n      var _this = this;\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"shot\");\n      var config = this.config;\n      this.shot(config.width, config.height).then(function(data) {\n        _this.emit(SCREEN_SHOT, data);\n        if (config.saveImg) {\n          _this.saveScreenShot(data, config.name + config.format);\n        }\n      });\n    }\n  }, {\n    key: \"shot\",\n    value: function shot(width, height) {\n      var _this2 = this;\n      var option = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n        quality: 0.92,\n        type: \"image/png\"\n      };\n      var config = this.config, player = this.player;\n      var quality = option.quality || config.quality;\n      var type = option.type || config.type;\n      return new Promise(function(resolve, reject) {\n        var canvas = null;\n        var canvasCtx;\n        if (player.media.canvas) {\n          canvas = player.media.canvas;\n        } else {\n          if (!_this2.canvas) {\n            _this2.createCanvas(width, height);\n          } else {\n            _this2.canvas.width = width || config.width;\n            _this2.canvas.height = height || config.height;\n          }\n          canvas = _this2.canvas;\n          canvasCtx = _this2.canvasCtx;\n          var mediaRatio = player.media.videoWidth / player.media.videoHeight;\n          var canvasRatio = canvas.width / canvas.height;\n          var sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n          var dx, dy, dw, dh;\n          if (mediaRatio > canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.width / mediaRatio;\n            dx = 0;\n            dy = Math.round((canvas.height - dh) / 2);\n          } else if (mediaRatio === canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.height;\n            dx = 0;\n            dy = 0;\n          } else if (mediaRatio < canvasRatio) {\n            dw = canvas.height * mediaRatio;\n            dh = canvas.height;\n            dx = Math.round((canvas.width - dw) / 2);\n            dy = 0;\n          }\n          canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n        }\n        var src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n        src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n        resolve(src);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenshotIcon: null\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n      this.off(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n      var langKey = \"SCREENSHOT\";\n      return '\\n      <xg-icon class=\"xgplayer-shot\">\\n      <div class=\"'.concat(className, '\">\\n      ').concat(this.icons.screenshotIcon ? \"\" : '<span lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span>\"), \"\\n      </div>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"screenShot\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 5,\n        quality: 0.92,\n        type: \"image/png\",\n        format: \".png\",\n        width: 600,\n        height: 337,\n        saveImg: true,\n        fitVideo: true,\n        disable: false,\n        name: \"screenshot\"\n      };\n    }\n  }]);\n  return ScreenShot2;\n}(Icon);\nexport { ScreenShot as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar OptionList = /* @__PURE__ */ function() {\n  function OptionList2(args) {\n    _classCallCheck(this, OptionList2);\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, \"xg-options-list xg-list-slide-scroll \".concat(this.config.className));\n    args.root.appendChild(this.root);\n    var maxHeight = this.config.maxHeight;\n    if (maxHeight) {\n      this.setStyle({\n        maxHeight\n      });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    var eventName = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  _createClass(OptionList2, [{\n    key: \"renderItemList\",\n    value: function renderItemList(data) {\n      var _this = this;\n      var config = this.config, root = this.root;\n      if (data) {\n        config.data = data;\n      } else {\n        data = config.data;\n      }\n      if (config.style) {\n        Object.keys(config.style).map(function(key) {\n          root.style[key] = config[key];\n        });\n      }\n      if (data.length > 0) {\n        this.attrKeys = Object.keys(data[0]);\n      }\n      this.root.innerHTML = \"\";\n      data.map(function(item, index) {\n        var className = item.selected ? \"option-item selected\" : \"option-item\";\n        item[\"data-index\"] = index;\n        _this.root.appendChild(util.createDom(\"li\", \"<span>\".concat(item.showText, \"</span>\"), item, className));\n      });\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e) {\n      if (!e.delegateTarget) {\n        e.delegateTarget = e.target;\n      }\n      var target = e.delegateTarget;\n      if (target && util.hasClass(target, \"selected\")) {\n        return false;\n      }\n      var changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n      var curSelected = this.root.querySelector(\".selected\");\n      util.addClass(target, \"selected\");\n      curSelected && util.removeClass(curSelected, \"selected\");\n      changeCallback(e, {\n        from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n        to: this.getAttrObj(target, this.attrKeys)\n      });\n    }\n  }, {\n    key: \"getAttrObj\",\n    value: function getAttrObj(dom, keys) {\n      if (!dom || !keys) {\n        return {};\n      }\n      var obj = {};\n      keys.map(function(key) {\n        obj[key] = dom.getAttribute(key);\n      });\n      var index = dom.getAttribute(\"data-index\");\n      if (index) {\n        obj.index = Number(index);\n      }\n      return obj;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"active\");\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).forEach(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._delegates) {\n        this._delegates.map(function(item) {\n          item.destroy && item.destroy();\n        });\n        this._delegates = null;\n      }\n      this.root.innerHTML = null;\n      this.parent.removeChild(this.root);\n      this.root = null;\n    }\n  }]);\n  return OptionList2;\n}();\nexport { OptionList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nvar LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\"\n};\nvar TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nvar IS_MOBILE = sniffer.device === \"mobile\";\nvar OptionsIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(OptionsIcon2, _Plugin);\n  var _super = _createSuper(OptionsIcon2);\n  function OptionsIcon2(args) {\n    var _this;\n    _classCallCheck(this, OptionsIcon2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onEnter\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n      _this.switchActiveState(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"switchActiveState\", function(e) {\n      e.stopPropagation();\n      var toggleMode = _this.config.toggleMode;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        _this.toggle(!_this.isActive);\n      } else {\n        _this.toggle(true);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onLeave\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n      if (_this.config.listType !== LIST_TYPES.SIDE) {\n        _this.isActive && _this.toggle(false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListEnter\", function(e) {\n      _this.enterType = 2;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListLeave\", function(e) {\n      _this.enterType = 0;\n      _this.isActive && _this.toggle(false);\n    });\n    _this.isIcons = false;\n    _this.isActive = false;\n    _this.curValue = null;\n    _this.curIndex = 0;\n    return _this;\n  }\n  _createClass(OptionsIcon2, [{\n    key: \"updateLang\",\n    value: function updateLang(value) {\n      this.renderItemList(this.config.list, this.curIndex);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var config = this.config;\n      this.initIcons();\n      if (IS_MOBILE && config.listType !== LIST_TYPES.MIDDLE) {\n        config.listType = LIST_TYPES.SIDE;\n      }\n      config.hidePortrait && util.addClass(this.root, \"portrait\");\n      this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], function() {\n        _this2._resizeList();\n      });\n      this.once(CANPLAY, function() {\n        if (config.list && config.list.length > 0) {\n          _this2.renderItemList(config.list);\n          _this2.show();\n        }\n      });\n      IS_MOBILE && this.on(PLAYER_FOCUS, function() {\n        if (!_this2.isActive) {\n          return;\n        }\n        _this2.optionsList && _this2.optionsList.hide();\n        _this2.isActive = false;\n      });\n      if (IS_MOBILE) {\n        config.toggleMode = TOGGLE_MODES.CLICK;\n        this.activeEvent = \"touchend\";\n      } else {\n        this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n      }\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.bind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.bind(this.activeEvent, this.onEnter);\n        this.bind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.bind(\"click\", this.onIconClick);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var _this3 = this;\n      var icons = this.icons;\n      var _c = Object.keys(icons);\n      var _isIcons = false;\n      if (_c.length > 0) {\n        _c.forEach(function(key) {\n          _this3.appendChild(\".xgplayer-icon\", icons[key]);\n          !_isIcons && (_isIcons = icons[key]);\n        });\n        this.isIcons = _isIcons;\n      }\n      if (_isIcons) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n      util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"getTextByLang\",\n    value: function getTextByLang(item, key, lang) {\n      if (item === void 0) {\n        return \"\";\n      }\n      var list = this.config.list;\n      !lang && (lang = this.player.lang);\n      key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n      typeof item === \"number\" && (item = list[item]);\n      try {\n        if (_typeof(item[key]) === \"object\") {\n          return item[key][lang] || item[key].en;\n        } else {\n          return item[key];\n        }\n      } catch (err) {\n        console.warn(err);\n        return \"\";\n      }\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(isActive) {\n      if (isActive === this.isActive)\n        return;\n      var controls = this.player.controls;\n      var listType = this.config.listType;\n      if (isActive) {\n        listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n        this.optionsList && this.optionsList.show();\n      } else {\n        listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n        this.optionsList && this.optionsList.hide();\n      }\n      this.isActive = isActive;\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      e.stopPropagation();\n      var _this$config = this.config, listType = _this$config.listType, list = _this$config.list;\n      this.curIndex = data.to.index;\n      this.curItem = list[this.curIndex];\n      this.changeCurrentText();\n      var isItemClickHide = this.config.isItemClickHide;\n      (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n    }\n  }, {\n    key: \"onIconClick\",\n    value: function onIconClick(e) {\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      if (!curItem)\n        return;\n      this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList(itemList, curIndex) {\n      var _this4 = this;\n      var config = this.config, optionsList = this.optionsList, player = this.player;\n      if (typeof curIndex === \"number\") {\n        this.curIndex = curIndex;\n        this.curItem = config.list[curIndex];\n      }\n      if (optionsList) {\n        optionsList.renderItemList(itemList);\n        this.changeCurrentText();\n        return;\n      }\n      var options = {\n        config: {\n          data: itemList || [],\n          className: getListClassName(config.listType, config.position),\n          onItemClick: function onItemClick(e, data) {\n            _this4.onItemClick(e, data);\n          }\n        },\n        root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n      };\n      if (this.config.isShowIcon) {\n        var _this$player$root$get = this.player.root.getBoundingClientRect(), height = _this$player$root$get.height;\n        var _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n        if (_maxH && config.heightLimit) {\n          options.config.maxHeight = \"\".concat(_maxH, \"px\");\n        }\n        this.optionsList = new OptionList(options);\n        this.changeCurrentText();\n        this.show();\n      }\n      this._resizeList();\n    }\n  }, {\n    key: \"_resizeList\",\n    value: function _resizeList() {\n      if (!this.config.heightLimit) {\n        return;\n      }\n      var _this$player$root$get2 = this.player.root.getBoundingClientRect(), height = _this$player$root$get2.height;\n      var _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      this.optionsList && this.optionsList.setStyle({\n        maxHeight: \"\".concat(_maxH, \"px\")\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var config = this.config;\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.unbind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.unbind(this.activeEvent, this.onEnter);\n        this.unbind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.unbind(\"click\", this.onIconClick);\n      if (this.optionsList) {\n        this.optionsList.destroy();\n        this.optionsList = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.isShowIcon) {\n        return;\n      }\n      return '<xg-icon class=\"xg-options-icon '.concat(this.config.className || \"\", '\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n   </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"optionsIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 100,\n        list: [],\n        listType: \"middle\",\n        listStyle: {},\n        hidePortrait: true,\n        isShowIcon: false,\n        isItemClickHide: true,\n        toggleMode: TOGGLE_MODES.HOVER,\n        heightLimit: true\n      };\n    }\n  }]);\n  return OptionsIcon2;\n}(Plugin);\nexport { OptionsIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar DefinitionIcon = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(DefinitionIcon2, _OptionsIcon);\n  var _super = _createSuper(DefinitionIcon2);\n  function DefinitionIcon2(args) {\n    var _this;\n    _classCallCheck(this, DefinitionIcon2);\n    _this = _super.call(this, args);\n    _this.curTime = 0;\n    _this.isPaused = true;\n    return _this;\n  }\n  _createClass(DefinitionIcon2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var list = args.config.list;\n      if (Array.isArray(list) && list.length > 0) {\n        args.config.list = list.map(function(item) {\n          if (!item.text && item.name) {\n            item.text = item.name;\n          }\n          if (!item.text) {\n            item.text = item.definition;\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"afterCreate\", this).call(this);\n      this.on(\"resourceReady\", function(list) {\n        _this2.changeDefinitionList(list);\n      });\n      this.on(DEFINITION_CHANGE, function(data) {\n        _this2.renderItemList(_this2.config.list, data.to);\n      });\n      if (this.player.definitionList.length < 2) {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"initDefinition\",\n    value: function initDefinition() {\n      var _this$config = this.config, list = _this$config.list, defaultDefinition = _this$config.defaultDefinition;\n      if (list.length > 0) {\n        var to = null;\n        list.map(function(item) {\n          if (item.definition === defaultDefinition) {\n            to = item;\n          }\n        });\n        if (!to) {\n          to = list[0];\n        }\n        this.changeDefinition(to);\n      }\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var list = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.list || [];\n      var to = arguments.length > 1 ? arguments[1] : void 0;\n      var targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n      if (to) {\n        list.forEach(function(item) {\n          item.selected = false;\n        });\n      }\n      var curIndex = 0;\n      var items = list.map(function(item, index) {\n        var showItem = _objectSpread2(_objectSpread2({}, item), {}, {\n          showText: _this3.getTextByLang(item) || item.definition,\n          selected: false\n        });\n        if (item.selected || item.definition && item.definition == targetDef) {\n          showItem.selected = true;\n          curIndex = index;\n        }\n        return showItem;\n      });\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeDefinitionList\",\n    value: function changeDefinitionList(list) {\n      if (!Array.isArray(list)) {\n        return;\n      }\n      this.config.list = list.map(function(item) {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n      this.renderItemList();\n      this.config.list.length < 2 ? this.hide() : this.show();\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      this.player.changeDefinition(to, from);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      var definitionList = this.player.definitionList;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"onItemClick\", this).apply(this, arguments);\n      this.emitUserAction(e, \"change_definition\", {\n        from: data.from,\n        to: data.to\n      });\n      for (var i = 0; i < definitionList.length; i++) {\n        if (data.to && definitionList[i].definition === data.to.definition) {\n          data.to.url = definitionList[i].url;\n        }\n        if (data.from && definitionList[i].definition === data.from.definition) {\n          data.from.url = definitionList[i].url;\n        }\n      }\n      this.player.changeDefinition(data.to, data.from);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"definition\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        list: [],\n        defaultDefinition: \"\",\n        disable: false,\n        hidePortrait: false,\n        className: \"xgplayer-definition\",\n        isShowIcon: true\n      });\n    }\n  }]);\n  return DefinitionIcon2;\n}(OptionsIcon);\nexport { DefinitionIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar PlaybackRate = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(PlaybackRate2, _OptionsIcon);\n  var _super = _createSuper(PlaybackRate2);\n  function PlaybackRate2(args) {\n    var _this;\n    _classCallCheck(this, PlaybackRate2);\n    _this = _super.call(this, args);\n    _this.curRate = 1;\n    return _this;\n  }\n  _createClass(PlaybackRate2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var playbackRate = args.player.config.playbackRate;\n      var list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n      if (Array.isArray(list)) {\n        args.config.list = list.map(function(item) {\n          if (typeof item === \"number\") {\n            item = {\n              rate: item,\n              text: \"\".concat(item, \"x\")\n            };\n          } else if (!item.text && item.rate) {\n            item.text = \"\".concat(item.rate, \"x\");\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"afterCreate\", this).call(this);\n      this.on(RATE_CHANGE, function() {\n        if (_this2.curValue === _this2.player.playbackRate) {\n          return;\n        }\n        _this2.renderItemList();\n      });\n      this.renderItemList();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length === 0) {\n        return;\n      }\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"onItemClick\", this).apply(this, arguments);\n      var target = e.delegateTarget;\n      var rate = Number(target.getAttribute(\"rate\"));\n      if (!rate || rate === this.curValue) {\n        return false;\n      }\n      var props = {\n        playbackRate: {\n          from: this.player.playbackRate,\n          to: rate\n        }\n      };\n      this.emitUserAction(e, \"change_rate\", {\n        props\n      });\n      this.curValue = rate;\n      this.player.playbackRate = rate;\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var playbackRate = this.player.playbackRate || 1;\n      this.curValue = playbackRate;\n      var curIndex = -1;\n      var items = this.config.list.map(function(item, index) {\n        var itemInfo = {\n          rate: item.rate\n        };\n        if (itemInfo.rate === playbackRate) {\n          itemInfo.selected = true;\n          curIndex = index;\n        }\n        itemInfo.showText = _this3.getTextByLang(item);\n        return itemInfo;\n      });\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      var _text = \"\";\n      if (!curItem || this.curIndex < 0) {\n        _text = \"\".concat(this.player.playbackRate, \"x\");\n      } else {\n        _text = this.getTextByLang(curItem, \"iconText\");\n      }\n      this.find(\".icon-text\").innerHTML = _text;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playbackRate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 4,\n        list: [2, 1.5, 1, 0.75, 0.5],\n        className: \"xgplayer-playbackrate\",\n        isShowIcon: true,\n        hidePortrait: false\n      });\n    }\n  }]);\n  return PlaybackRate2;\n}(OptionsIcon);\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nvar CssFullScreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(CssFullScreen2, _IconPlugin);\n  var _super = _createSuper(CssFullScreen2);\n  function CssFullScreen2() {\n    _classCallCheck(this, CssFullScreen2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(CssFullScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.cssFullscreen === \"boolean\") {\n        args.config.disable = !args.player.config.cssFullscreen;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      if (this.config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      this.initIcons();\n      this.on(CSS_FULLSCREEN_CHANGE, function(isCssfullScreen) {\n        _this.animate(isCssfullScreen);\n      });\n      this.btnClick = this.btnClick.bind(this);\n      this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      var contentIcon = this.find(\".xgplayer-icon\");\n      contentIcon.appendChild(icons.cssFullscreen);\n      contentIcon.appendChild(icons.exitCssFullscreen);\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var isCssfullScreen = this.player.isCssfullScreen;\n      this.emitUserAction(e, \"switch_cssfullscreen\", {\n        cssfullscreen: isCssfullScreen\n      });\n      if (!isCssfullScreen) {\n        this.player.getCssFullscreen();\n      } else {\n        this.player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      if (!this.root) {\n        return;\n      }\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      this.switchTips(isFullScreen);\n    }\n  }, {\n    key: \"switchTips\",\n    value: function switchTips(isFullScreen) {\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        cssFullscreen: {\n          icon: CssFullSceenSvg,\n          class: \"xg-get-cssfull\"\n        },\n        exitCssFullscreen: {\n          icon: ExitCssFullSceenSvg,\n          class: \"xg-exit-cssfull\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    `.concat(xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"cssFullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        target: null\n      };\n    }\n  }]);\n  return CssFullScreen2;\n}(Icon);\nexport { CssFullScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar ErrorPlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ErrorPlugin2, _Plugin);\n  var _super = _createSuper(ErrorPlugin2);\n  function ErrorPlugin2() {\n    _classCallCheck(this, ErrorPlugin2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ErrorPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.onError = this.hook(\"showError\", this.handleError);\n      this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n      this.on(ERROR, function(error) {\n        _this.onError(error);\n      });\n    }\n  }, {\n    key: \"errorRetry\",\n    value: function errorRetry(e) {\n      this.emitUserAction(e, \"error_retry\", {});\n      this.player.retry();\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError() {\n      var error = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      var player = this.player;\n      var type = error.errorType;\n      var errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n      if (!errorNote) {\n        switch (type) {\n          case \"decoder\":\n            errorNote = this.i18n.MEDIA_ERR_DECODE;\n            break;\n          case \"network\":\n            errorNote = this.i18n.MEDIA_ERR_NETWORK;\n            break;\n          default:\n            errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n        }\n      }\n      this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n      this.find(\".xgplayer-error-tips\").innerHTML = \"\".concat(this.i18n.REFRESH_TIPS, '<span class=\"xgplayer-error-refresh\">').concat(this.i18n.REFRESH, \"</span>\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-error class=\"xgplayer-error\">\\n      <div class=\"xgplayer-errornote\">\\n       <span class=\"xgplayer-error-text\"></span>\\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\\n      </div>\\n    </xg-error>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"error\";\n    }\n  }]);\n  return ErrorPlugin2;\n}(Plugin);\nexport { ErrorPlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Prompt = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Prompt2, _Plugin);\n  var _super = _createSuper(Prompt2);\n  function Prompt2() {\n    _classCallCheck(this, Prompt2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Prompt2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.intervalId = 0;\n      this.customConfig = null;\n      this.bind(\".highlight\", [\"click\", \"touchend\"], function(e) {\n        if (_this.config.onClick || _this.customOnClick) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this.customOnClick ? _this.customOnClick(e) : _this.config.onClick(e);\n        }\n      });\n      this.player.showPrompt = function() {\n        _this.show.apply(_this, arguments);\n      };\n      this.player.hidePrompt = function() {\n        _this.hide();\n      };\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show(detail) {\n      var _this3 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var onClick = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n      };\n      if (!detail) {\n        return;\n      }\n      this.customOnClick = onClick;\n      var interval = this.config.interval;\n      if (this.intervalId) {\n        clearTimeout(this.intervalId);\n        this.intervalId = null;\n      }\n      util.addClass(this.root, \"show\");\n      config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n      if (typeof detail === \"string\") {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n      } else {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = \"\".concat(detail.text || \"\") + \"\".concat(detail.highlight ? '<i class=\"highlight\">'.concat(detail.highlight, \"</i>\") : \"\");\n      }\n      config.style && this.setStyle(config.style);\n      var autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n      if (autoHide) {\n        var hideinterval = config.interval || interval;\n        this.intervalId = setTimeout(function() {\n          _this3.hide();\n        }, hideinterval);\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n      util.removeClass(this.root, \"arrow\");\n      this.root.removeAttribute(\"style\");\n      this.customOnClick = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-prompt class=\"xgplayer-prompt '.concat(STATE_CLASS.CONTROLS_FOLLOW, '\">\\n    <span class=\"xgplayer-prompt-detail\"></span>\\n    </xg-prompt>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"prompt\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        interval: 3e3,\n        style: {},\n        mode: \"arrow\",\n        autoHide: true,\n        detail: {\n          text: \"\",\n          highlight: \"\"\n        },\n        onClick: function onClick() {\n        }\n      };\n    }\n  }]);\n  return Prompt2;\n}(Plugin);\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map(function(key) {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nvar APIS = {\n  _updateDotDom: function _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots: function initDots() {\n    var _this = this;\n    this._ispots.map(function(item) {\n      _this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot: function createDot(iSpot) {\n    var isNew = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    var className = \"xgspot_\".concat(iSpot.id, \" xgplayer-spot\");\n    ret.isMini && (className += \" mini\");\n    var _t = iSpot.template ? '<div class=\"xgplayer-spot-pop\">'.concat(iSpot.template, \"</div>\") : \"\";\n    var dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot: function findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    var ret = this._ispots.filter(function(cur, index) {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot: function updateDot(iSpot) {\n    var needShow = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map(function(key) {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    var dotDom = progress.find('xg-spot[data-id=\"'.concat(iSpot.id, '\"]'));\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot: function deleteDot(id) {\n    var _ispots = this._ispots;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var del = [];\n    for (var i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    var len = del.length;\n    for (var _i = len - 1; _i >= 0; _i--) {\n      _ispots.splice(del[_i], 1);\n      if (this.ispotsInit) {\n        var dotDom = progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots: function deleteAllDots() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (var i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots: function updateAllDots() {\n    var _this2 = this;\n    var iSpots = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    var len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (var i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach(function(ispot, index) {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", \"\".concat(ispot.id));\n        _this2._ispots.push(ispot);\n        _this2.updateDot(ispot);\n      } else {\n        _this2.createDot(ispot);\n      }\n    });\n  },\n  positionDots: function positionDots() {\n    var _this3 = this;\n    var _ispots = this._ispots, playerSize = this.playerSize;\n    var sizeInfo = this.player.sizeInfo;\n    var progress = this.player.plugins.progress;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      dotDom && _this3.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot: function positionDot(dotDom, id) {\n    var _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    var pRect = this.playerSize;\n    var rect1 = dotDom.getBoundingClientRect();\n    var rect = _pop.getBoundingClientRect();\n    var _left = rect1.left - pRect.left;\n    var _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      var t = rect.width / 2 - _left;\n      _pop.style.left = \"\".concat(t, \"px\");\n    } else if (_diff < rect.width / 2) {\n      var _t2 = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = \"\".concat(_t2, \"px\");\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration: function updateDuration() {\n    var _this4 = this;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var _ispots = this._ispots;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      _this4._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom: function getAllDotsDom() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return [];\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom: function getDotDom(id) {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    return progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n  }\n};\nfunction initDotsAPI(plugin) {\n  var config = plugin.config, player = plugin.player;\n  Object.keys(APIS).map(function(item) {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  var ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map(function(item) {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, function() {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, function() {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nvar CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nvar ProgressPreview = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ProgressPreview2, _Plugin);\n  var _super = _createSuper(ProgressPreview2);\n  function ProgressPreview2(args) {\n    var _this;\n    _classCallCheck(this, ProgressPreview2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMousemove\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && _this.config.isHideThumbnailHover) {\n        _this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMousedown\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseup\", function(e) {\n      if (!_this.isDrag) {\n        return;\n      }\n      var progress = _this.player.plugins.progress;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDotMouseLeave\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      _this._curDot.removeEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      _this.blurDot(e.target);\n      _this._curDot = null;\n      var progress = _this.player.plugins.progress;\n      progress && progress.enableBlur();\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onProgressMouseOver\", function(data, e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !_this._curDot) {\n        _this._curDot = e.target;\n        _this.focusDot(e.target);\n        if (_this._curDot.children.length > 0) {\n          _this.hide();\n        }\n        var progress = _this.player.plugins.progress;\n        progress && progress.disableBlur();\n        _this._curDot.addEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      }\n    });\n    _this._ispots = [];\n    _this.videoPreview = null;\n    _this.videothumbnail = null;\n    _this.thumbnail = null;\n    _this.timeStr = \"\";\n    _this._state = {\n      now: 0,\n      f: false\n    };\n    return _this;\n  }\n  _createClass(ProgressPreview2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var progress = args.player.plugins.progress;\n      if (progress) {\n        args.root = progress.root;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._curDot = null;\n      this.handlerSpotClick = this.hook(\"spotClick\", function(_event, data) {\n        if (data.seekTime) {\n          _this2.player.seek(data.seekTime);\n        }\n      });\n      this.transformTimeHook = this.hook(\"transformTime\", function(time) {\n        _this2.setTimeContent(util.format(time));\n      });\n      initDotsAPI(this);\n      this.on(DURATION_CHANGE, function() {\n        _this2.show();\n      });\n      if (this.config.disable) {\n        this.disable();\n      }\n      this.extTextRoot = this.find(\".xg-spot-ext-text\");\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var player = this.player;\n      if (!player.plugins.progress) {\n        return;\n      }\n      this.previewLine = this.find(\".xg-spot-line\");\n      this.timePoint = this.find(\".xgplayer-progress-point\");\n      this.timeText = this.find(\".xg-spot-time\");\n      this.tipText = this.find(\".spot-inner-text\");\n      this._hasThumnail = false;\n      this.registerThumbnail();\n      this.bindEvents();\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this4 = this;\n      var progress = this.player.plugins.progress;\n      if (!progress) {\n        return;\n      }\n      Object.keys(CALLBACK_MAP).map(function(key) {\n        _this4[CALLBACK_MAP[key]] = _this4[CALLBACK_MAP[key]].bind(_this4);\n        progress.addCallBack(key, _this4[CALLBACK_MAP[key]]);\n      });\n      if (sniffer.device === \"mobile\")\n        return;\n      this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      var fun = this.hook(\"previewClick\", function() {\n      });\n      this.handlerPreviewClick = function(e) {\n        e.stopPropagation();\n        fun(parseInt(_this4._state.now * 1e3, 10) / 1e3, e);\n      };\n      this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"onProgressMove\",\n    value: function onProgressMove(data, e) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n    }\n  }, {\n    key: \"onProgressDragStart\",\n    value: function onProgressDragStart(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = true;\n      this.videoPreview && util.addClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressDragEnd\",\n    value: function onProgressDragEnd(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = false;\n      this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressClick\",\n    value: function onProgressClick(data, e) {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\")) {\n        e.stopPropagation();\n        e.preventDefault();\n        [\"time\", \"id\", \"text\"].map(function(key) {\n          data[key] = e.target.getAttribute(\"data-\".concat(key));\n        });\n        data.time && (data.time = Number(data.time));\n        this.handlerSpotClick(e, data);\n      }\n    }\n  }, {\n    key: \"updateLinePos\",\n    value: function updateLinePos(offset, cwidth) {\n      var root = this.root, previewLine = this.previewLine, player = this.player, config = this.config;\n      var mode = player.controls.mode;\n      var isflex = mode === \"flex\";\n      var lwidth = root.getBoundingClientRect().width;\n      if (!lwidth && this._hasThumnail) {\n        return;\n      }\n      lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n      var x = offset - lwidth / 2;\n      var _t;\n      if (x < 0 && !isflex) {\n        x = 0;\n        _t = offset - lwidth / 2;\n      } else if (x > cwidth - lwidth && !isflex) {\n        _t = x - (cwidth - lwidth);\n        x = cwidth - lwidth;\n      } else {\n        _t = 0;\n      }\n      _t !== void 0 && (previewLine.style.transform = \"translateX(\".concat(_t.toFixed(2), \"px)\"));\n      root.style.transform = \"translateX(\".concat(x.toFixed(2), \"px) translateZ(0)\");\n    }\n  }, {\n    key: \"updateTimeText\",\n    value: function updateTimeText(timeStr) {\n      var timeText = this.timeText, timePoint = this.timePoint;\n      timeText.innerHTML = timeStr;\n      !this.thumbnail && (timePoint.innerHTML = timeStr);\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(offset, cwidth, time, e) {\n      var root = this.root, config = this.config, _state = this._state;\n      if (!root) {\n        return;\n      }\n      _state.now = time;\n      this.transformTimeHook(time);\n      var timeStr = this.timeStr;\n      if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n        this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n        this.focusDot(e.target);\n        _state.f = true;\n        config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n      } else if (config.defaultText) {\n        _state.f = false;\n        this.showTips(config.defaultText, true, timeStr);\n      } else {\n        _state.f = false;\n        this.hideTips(\"\");\n      }\n      this.updateTimeText(timeStr);\n      this.updateThumbnails(_state.now);\n      this.updateLinePos(offset, cwidth);\n    }\n  }, {\n    key: \"setTimeContent\",\n    value: function setTimeContent(str) {\n      this.timeStr = str;\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player, videoPreview = this.videoPreview, config = this.config;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n        var rect = videoPreview && videoPreview.getBoundingClientRect();\n        this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var thumbnailConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      if (sniffer.device === \"mobile\") {\n        return;\n      }\n      var player = this.player, config = this.config;\n      var thumbnail = player.getPlugin(\"thumbnail\");\n      if (thumbnail) {\n        thumbnail.setConfig(thumbnailConfig);\n      }\n      if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n        util.addClass(this.root, \"short-line no-thumbnail\");\n        return;\n      } else {\n        util.removeClass(this.root, \"short-line no-thumbnail\");\n      }\n      if (config.mode === \"short\") {\n        util.addClass(this.root, \"short-line\");\n      }\n      this._hasThumnail = true;\n      var tRoot = this.find(\".xg-spot-thumbnail\");\n      this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n      if (config.isShowCoverPreview) {\n        this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n        player.root.appendChild(this.videoPreview);\n        this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n      }\n      this.updateThumbnails(0);\n    }\n  }, {\n    key: \"calcuPosition\",\n    value: function calcuPosition(time, duration) {\n      var progress = this.player.plugins.progress;\n      var player = this.player;\n      var totalWidth = progress.root.getBoundingClientRect().width;\n      var widthPerSeconds = player.duration / totalWidth * 6;\n      if (time + duration > player.duration) {\n        duration = player.duration - time;\n      }\n      time / player.duration * 100;\n      duration / player.duration;\n      return {\n        left: time / player.duration * 100,\n        width: duration / player.duration * 100,\n        isMini: duration < widthPerSeconds\n      };\n    }\n  }, {\n    key: \"showDot\",\n    value: function showDot(id) {\n      var dot = this.findDot(id);\n      if (dot) {\n        var rect = this.root.getBoundingClientRect();\n        var width = rect.width;\n        var offset = dot.time / this.player.duration * width;\n        this.updatePosition(offset, width, dot.time);\n      }\n    }\n  }, {\n    key: \"focusDot\",\n    value: function focusDot(target, id) {\n      if (!target) {\n        return;\n      }\n      if (!id) {\n        id = target.getAttribute(\"data-id\");\n      }\n      util.addClass(target, \"active\");\n      this._activeDotId = id;\n    }\n  }, {\n    key: \"blurDot\",\n    value: function blurDot(target) {\n      if (!target) {\n        var id = this._activeDotId;\n        target = this.getDotDom(id);\n      }\n      if (!target) {\n        return;\n      }\n      util.removeClass(target, \"active\");\n      this._activeDotId = null;\n    }\n  }, {\n    key: \"showTips\",\n    value: function showTips(text, isDefault) {\n      var timeStr = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      util.addClass(this.root, \"no-timepoint\");\n      if (!text) {\n        return;\n      }\n      util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n      if (isDefault && this.config.mode === \"production\") {\n        util.addClass(this.root, \"product\");\n        this.tipText.textContent = text;\n      } else {\n        util.removeClass(this.root, \"product\");\n        this.tipText.textContent = this._hasThumnail ? text : \"\".concat(timeStr, \" \").concat(text);\n      }\n    }\n  }, {\n    key: \"hideTips\",\n    value: function hideTips() {\n      util.removeClass(this.root, \"no-timepoint\");\n      this.tipText.textContent = \"\";\n      util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n      util.removeClass(this.root, \"product\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var config = this.config, playerConfig = this.playerConfig;\n      this.config.disable = false;\n      this.show();\n      if (!this.thumbnail && config.isShowThumbnail) {\n        this.registerThumbnail(playerConfig.thumbnail || {});\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n      var progress = this.player.plugins.progress;\n      progress && Object.keys(CALLBACK_MAP).map(function(key) {\n        progress.removeCallBack(key, _this5[CALLBACK_MAP[key]]);\n      });\n      this.videothumbnail = null;\n      this.thumbnail = null;\n      this.videoPreview && this.player.root.removeChild(this.videoPreview);\n      this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n        return \"\";\n      }\n      return '<div class=\"xg-spot-info hide '.concat(this.config.mode === \"short\" ? \"short-line\" : \"\", '\">\\n      <div class=\"xg-spot-content\">\\n        <div class=\"xg-spot-thumbnail\">\\n          <span class=\"xg-spot-time\"></span>\\n        </div>\\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\\n      </div>\\n      <div class=\"xgplayer-progress-point\">00:00</div>\\n      <div class=\"xg-spot-ext-text\"></div>\\n      <div class=\"xg-spot-line\"></div>\\n    </div>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progresspreview\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 1,\n        miniWidth: 6,\n        ispots: [],\n        defaultText: \"\",\n        isFocusDots: true,\n        isHideThumbnailHover: true,\n        isShowThumbnail: true,\n        isShowCoverPreview: false,\n        mode: \"\",\n        disable: false,\n        width: 160,\n        height: 90\n      };\n    }\n  }]);\n  return ProgressPreview2;\n}(Plugin);\nexport { ProgressPreview as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Thumbnail = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Thumbnail2, _BasePlugin);\n  var _super = _createSuper(Thumbnail2);\n  function Thumbnail2(args) {\n    var _this;\n    _classCallCheck(this, Thumbnail2);\n    _this = _super.call(this, args);\n    _this.ratio = 1;\n    _this.interval = null;\n    _this._preloadMark = {};\n    return _this;\n  }\n  _createClass(Thumbnail2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.usable) {\n        this.initThumbnail();\n      }\n      this.on([DURATION_CHANGE], function() {\n        var _this2$config = _this2.config, pic_num = _this2$config.pic_num, interval = _this2$config.interval;\n        _this2.usable && (_this2.interval = interval > 0 ? interval : Math.round(_this2.player.duration * 1e3 / pic_num) / 1e3);\n      });\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      var keys = Object.keys(config);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this3.config[key] = config[key];\n      });\n      this.usable && this.initThumbnail();\n    }\n  }, {\n    key: \"usable\",\n    get: function get() {\n      var _this$config = this.config, urls = _this$config.urls, pic_num = _this$config.pic_num;\n      return urls && urls.length > 0 && pic_num > 0;\n    }\n  }, {\n    key: \"initThumbnail\",\n    value: function initThumbnail() {\n      var _this$config2 = this.config, width = _this$config2.width, height = _this$config2.height, pic_num = _this$config2.pic_num, interval = _this$config2.interval;\n      this.ratio = width / height * 100;\n      this.interval = interval || Math.round(this.player.duration / pic_num);\n      this._preloadMark = {};\n    }\n  }, {\n    key: \"getUrlByIndex\",\n    value: function getUrlByIndex(index) {\n      return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n    }\n  }, {\n    key: \"preload\",\n    value: function preload(index) {\n      var _this4 = this;\n      if (this._preloadMark[index]) {\n        return;\n      }\n      var urls = this.config.urls;\n      var len = urls.length;\n      var arr = [];\n      index > 0 && arr.push(index - 1);\n      arr.push(index);\n      index > 0 && index < len - 1 && arr.push(index + 1);\n      arr.map(function(item) {\n        if (!_this4._preloadMark[item] && item >= 0 && item < len) {\n          _this4._preloadMark[item] = 1;\n          util.preloadImg(urls[item], function() {\n            _this4._preloadMark[item] = 2;\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(now) {\n      var containerWidth = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var containerHeight = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var _this$config3 = this.config, pic_num = _this$config3.pic_num, row = _this$config3.row, col = _this$config3.col, width = _this$config3.width, height = _this$config3.height;\n      this.interval = Math.round(this.player.duration / pic_num);\n      var index = Math.ceil(now / this.interval);\n      index = index > pic_num ? pic_num : index;\n      var urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n      var indexInPage = index - urlIndex * (col * row);\n      var rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n      var colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n      var swidth = 0;\n      var sHeight = 0;\n      if (containerWidth && containerHeight) {\n        var per = containerWidth / containerHeight;\n        if (per < width / height) {\n          sHeight = containerHeight;\n          swidth = sHeight * (width / height);\n        } else {\n          swidth = containerWidth;\n          sHeight = swidth / (width / height);\n        }\n      } else if (!containerHeight) {\n        swidth = containerWidth || width;\n        sHeight = swidth / (width / height);\n      } else if (!containerWidth) {\n        sHeight = containerHeight || height;\n        swidth = sHeight * (width / height);\n      }\n      var url = this.getUrlByIndex(urlIndex);\n      return {\n        urlIndex,\n        rowIndex,\n        colIndex,\n        url,\n        height: sHeight,\n        width: swidth,\n        style: {\n          backgroundImage: \"url(\".concat(url, \")\"),\n          backgroundSize: \"\".concat(swidth * col, \"px auto\"),\n          backgroundPosition: \"-\".concat(colIndex * swidth, \"px -\").concat(rowIndex * sHeight, \"px\"),\n          width: \"\".concat(swidth, \"px\"),\n          height: \"\".concat(sHeight, \"px\")\n        }\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(dom, now) {\n      var containerWidth = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var containerHeight = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var customStyle = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n      var _this$config4 = this.config, pic_num = _this$config4.pic_num, urls = _this$config4.urls;\n      if (pic_num <= 0 || !urls || urls.length === 0) {\n        return;\n      }\n      var pos = this.getPosition(now, containerWidth, containerHeight);\n      this.preload(pos.urlIndex);\n      Object.keys(pos.style).map(function(key) {\n        dom.style[key] = pos.style[key];\n      });\n      Object.keys(customStyle).map(function(key) {\n        dom.style[key] = customStyle[key];\n      });\n    }\n  }, {\n    key: \"changeConfig\",\n    value: function changeConfig() {\n      var newConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      this.setConfig(newConfig);\n    }\n  }, {\n    key: \"createThumbnail\",\n    value: function createThumbnail(root, className) {\n      var dom = util.createDom(\"xg-thumbnail\", \"\", {}, \"thumbnail \".concat(className));\n      root && root.appendChild(dom);\n      return dom;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"thumbnail\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShow: false,\n        urls: [],\n        pic_num: 0,\n        col: 0,\n        row: 0,\n        height: 90,\n        width: 160,\n        scale: 1,\n        className: \"\",\n        hidePortrait: false\n      };\n    }\n  }]);\n  return Thumbnail2;\n}(Plugin);\nexport { Thumbnail as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? \"background:\".concat(color, \";\") : \"\";\n}\nvar MiniProgress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniProgress2, _Plugin);\n  var _super = _createSuper(MiniProgress2);\n  function MiniProgress2() {\n    _classCallCheck(this, MiniProgress2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniProgress2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!duration || !this.root) {\n        return;\n      }\n      if (data.cached) {\n        this.find(\"xg-mini-progress-cache\").style.width = \"\".concat(data.cached / duration * 100, \"%\");\n      }\n      if (data.played) {\n        this.find(\"xg-mini-progress-played\").style.width = \"\".concat(data.played / duration * 100, \"%\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.playerConfig.progress || !this.playerConfig.miniprogress) {\n        return;\n      }\n      var commonStyle = this.playerConfig.commonStyle;\n      var _style = {\n        cached: getBgColor(commonStyle.cachedColor),\n        played: getBgColor(commonStyle.playedColor),\n        progress: getBgColor(commonStyle.progressColor)\n      };\n      return '<xg-mini-progress class=\"xg-mini-progress\" style=\"'.concat(_style.progress, '\">\\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"').concat(_style.cached, '\"></xg-mini-progress-cache>\\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"').concat(_style.played, '\"></xg-mini-progress-played>\\n    </xg-mini-progress>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"MiniProgress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return MiniProgress2;\n}(Plugin);\nexport { MiniProgress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { TIME_UPDATE, COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    var ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nvar isSupportCanvas = null;\nvar DynamicBg = /* @__PURE__ */ function(_Plugin) {\n  _inherits(DynamicBg2, _Plugin);\n  var _super = _createSuper(DynamicBg2);\n  function DynamicBg2() {\n    var _this;\n    _classCallCheck(this, DynamicBg2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onLoadedData\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      _this._frameCount = _this.config.startFrameCount;\n      _this.stop();\n      _this.renderOnTimeupdate(e);\n      _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n      _this.on(TIME_UPDATE, _this.renderOnTimeupdate);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVisibilitychange\", function(e) {\n      if (document.visibilityState === \"visible\") {\n        _this._checkIfCanStart() && _this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        _this.stop();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderOnTimeupdate\", function(e) {\n      if (_this._frameCount > 0) {\n        _this.renderOnce();\n        _this._frameCount--;\n      } else {\n        _this._isLoaded = true;\n        _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n        var startInterval = _this.config.startInterval;\n        !_this.player.paused && _this._checkIfCanStart() && _this.start(0, startInterval);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"start\", function(time, interval) {\n      var video = _this.player.video;\n      var _now = nowTime();\n      var _sVideo = _this.checkVideoIsSupport(video);\n      if (!_sVideo || !_this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = _this.interval;\n      }\n      _this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        _this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (_this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        } else if (_now - _this.preTime >= interval) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        }\n      }\n      _this.frameId = _this._loopType === \"timer\" ? util.setTimeout(_assertThisInitialized(_this), _this.start, interval) : util.requestAnimationFrame(_this.start);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stop\", function() {\n      if (_this.frameId) {\n        _this._loopType === \"timer\" ? util.clearTimeout(_assertThisInitialized(_this), _this.frameId) : util.cancelAnimationFrame(_this.frameId);\n        _this.frameId = null;\n      }\n    });\n    return _this;\n  }\n  _createClass(DynamicBg2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.playerConfig.dynamicBg === true) {\n        this.config.disable = false;\n      }\n      if (!DynamicBg2.isSupport) {\n        this.config.disable = true;\n      }\n      var _this$config = this.config, disable = _this$config.disable, mode = _this$config.mode, frameRate = _this$config.frameRate;\n      if (disable) {\n        return;\n      }\n      this._pos = {\n        width: 0,\n        height: 0,\n        rwidth: 0,\n        rheight: 0,\n        x: 0,\n        y: 0,\n        pi: 0\n      };\n      this.isStart = false;\n      this._isLoaded = false;\n      this.videoPI = 0;\n      this.preTime = 0;\n      this.interval = parseInt(1e3 / frameRate, 10);\n      this.canvas = null;\n      this.canvasCtx = null;\n      this._frameCount = 0;\n      this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n      this.once(COMPLETE, function() {\n        if (!_this2.player) {\n          return;\n        }\n        _this2.init();\n        _this2.renderByPoster();\n        if (!_this2.player.paused) {\n          _this2.start();\n        }\n      });\n      if (mode === MODES.POSTER) {\n        return;\n      }\n      if (mode !== MODES.FIRST_FRAME) {\n        this.on(EMPTIED, function() {\n          _this2.stop();\n        });\n        this.on(PLAY, function() {\n          var startInterval = _this2.config.startInterval;\n          _this2._checkIfCanStart() && _this2.start(0, startInterval);\n        });\n        this.on(PAUSE, function() {\n          _this2.stop();\n        });\n      }\n      this.on(LOADED_DATA, this.onLoadedData);\n      this.on(LOAD_START, function() {\n        _this2._isLoaded = false;\n        _this2.stop();\n      });\n      document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      Object.keys(config).forEach(function(key) {\n        if (key === \"root\" && config[key] !== _this3.config[key]) {\n          _this3.reRender(config[key]);\n        } else if (key === \"frameRate\") {\n          _this3.interval = parseInt(1e3 / config[key], 10);\n        } else if (key === \"disable\" && config[key]) {\n          _this3.stop();\n        }\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init(_root) {\n      var player = this.player, config = this.config;\n      this.canvasFilter = DynamicBg2.supportCanvasFilter();\n      try {\n        var parent = _root || config.root;\n        if (!parent) {\n          parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n        }\n        parent.insertAdjacentHTML(\"afterbegin\", '<div class=\"xgplayer-dynamic-bg\" data-index=\"'.concat(config.index, '\"><canvas>\\n        </canvas><xgmask></xgmask></div>'));\n        this.root = parent.children[0];\n        this.canvas = this.find(\"canvas\");\n        if (!this.canvasFilter) {\n          this.canvas.style.filter = config.filter;\n          this.canvas.style.webkitFilter = config.filter;\n        }\n        this.mask = this.find(\"xgmask\");\n        config.addMask && (this.mask.style.background = config.maskBg);\n        this.canvasCtx = this.canvas.getContext(\"2d\");\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"reRender\",\n    value: function reRender(root) {\n      var disable = this.config.disable;\n      if (!disable && !this.root) {\n        return;\n      }\n      this.stop();\n      var _p = this.root ? this.root.parentElement : null;\n      if (_p !== root) {\n        _p.removeChild(this.root);\n      }\n      if (!root) {\n        this.root = null;\n        return;\n      }\n      this.init(root);\n      this.renderOnce();\n      var startInterval = this.config.startInterval;\n      this._checkIfCanStart() && this.start(0, startInterval);\n    }\n  }, {\n    key: \"checkVideoIsSupport\",\n    value: function checkVideoIsSupport(video) {\n      if (!video) {\n        return null;\n      }\n      var _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n      if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n        return _tVideo;\n      }\n      var _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n      if (_tagName === \"canvas\" || _tagName === \"img\") {\n        return _tVideo;\n      }\n      return null;\n    }\n  }, {\n    key: \"renderByPoster\",\n    value: function renderByPoster() {\n      var poster = this.playerConfig.poster;\n      if (poster) {\n        var url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n        this.updateImg(url);\n      }\n    }\n  }, {\n    key: \"_checkIfCanStart\",\n    value: function _checkIfCanStart() {\n      var mode = this.config.mode;\n      return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n    }\n  }, {\n    key: \"renderOnce\",\n    value: function renderOnce() {\n      var video = this.player.video;\n      if (!video.videoWidth || !video.videoHeight) {\n        return;\n      }\n      this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n      var _sVideo = this.checkVideoIsSupport(video);\n      _sVideo && this.update(_sVideo, this.videoPI);\n    }\n  }, {\n    key: \"updateImg\",\n    value: function updateImg(url) {\n      var _this4 = this;\n      if (!url) {\n        return;\n      }\n      var _this$canvas$getBound = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound.width, height = _this$canvas$getBound.height;\n      var image = new window.Image();\n      image.onload = function() {\n        if (!_this4.canvas || _this4.frameId || _this4.isStart) {\n          return;\n        }\n        _this4.canvas.height = height;\n        _this4.canvas.width = width;\n        var pi = parseInt(width / height * 100, 10);\n        _this4.update(image, pi);\n        image = null;\n      };\n      image.src = url;\n    }\n  }, {\n    key: \"update\",\n    value: function update(video, sourcePI) {\n      if (!this.canvas || !this.canvasCtx || !sourcePI) {\n        return;\n      }\n      try {\n        var _pos = this._pos, config = this.config;\n        var _this$canvas$getBound2 = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound2.width, height = _this$canvas$getBound2.height;\n        if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n          var pi = parseInt(width / height * 100, 10);\n          _pos.pi = sourcePI;\n          _pos.width !== width && (_pos.width = this.canvas.width = width);\n          _pos.height !== height && (_pos.height = this.canvas.height = height);\n          var rheight = height;\n          var rwidth = width;\n          if (pi < sourcePI) {\n            rwidth = parseInt(height * sourcePI / 100, 10);\n          } else if (pi > sourcePI) {\n            rheight = parseInt(width * 100 / sourcePI, 10);\n          }\n          _pos.rwidth = rwidth * config.multiple;\n          _pos.rheight = rheight * config.multiple;\n          _pos.x = (width - _pos.rwidth) / 2;\n          _pos.y = (height - _pos.rheight) / 2;\n        }\n        this.canvasFilter && (this.canvasCtx.filter = config.filter);\n        this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stop();\n      document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n      this.canvasCtx = null;\n      this.canvas = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"dynamicBg\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isInnerRender: false,\n        disable: true,\n        index: -1,\n        mode: \"framerate\",\n        frameRate: 10,\n        filter: \"blur(50px)\",\n        startFrameCount: 2,\n        startInterval: 0,\n        addMask: true,\n        multiple: 1.2,\n        maskBg: \"rgba(0,0,0,0.7)\"\n      };\n    }\n  }, {\n    key: \"isSupport\",\n    get: function get() {\n      if (typeof isSupportCanvas === \"boolean\") {\n        return isSupportCanvas;\n      }\n      isSupportCanvas = checkIsSupportCanvas();\n      return isSupportCanvas;\n    }\n  }, {\n    key: \"supportCanvasFilter\",\n    value: function supportCanvasFilter() {\n      return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n    }\n  }]);\n  return DynamicBg2;\n}(Plugin);\nexport { DynamicBg as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { USER_ACTION, STATS_EVENTS as STATS_EVENTS$1 } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar INFO = \"info\";\nvar STATS_EVENTS = STATS_EVENTS$1;\nvar Stats = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Stats2, _BasePlugin);\n  var _super = _createSuper(Stats2);\n  function Stats2() {\n    var _this;\n    _classCallCheck(this, Stats2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_recordUserActions\", function(actionData) {\n      var time = _this._getTime();\n      var payload = Object.assign({}, actionData, {\n        msg: actionData.msg || actionData.action\n      });\n      _this._stats[INFO].push(_objectSpread2(_objectSpread2({\n        type: \"userAction\"\n      }, time), {}, {\n        payload\n      }));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this.reset();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_recordInfo\", function(data) {\n      _this.info(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_downloadStats\", function() {\n      var stats = _this.getStats();\n      var blob = new Blob([JSON.stringify(stats)], {\n        type: \"application/json\"\n      });\n      var downloadUrl = window.URL.createObjectURL(blob);\n      var link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n    return _this;\n  }\n  _createClass(Stats2, [{\n    key: \"_getTime\",\n    value: function _getTime() {\n      return {\n        timestamp: Date.now(),\n        timeFormat: new Date().toISOString()\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.reset();\n      this.on(USER_ACTION, this._recordUserActions);\n      this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n      this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n      this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.offAll();\n    }\n  }, {\n    key: \"downloadStats\",\n    value: function downloadStats() {\n      this._downloadStats();\n    }\n  }, {\n    key: \"info\",\n    value: function info(data) {\n      if (data.profile) {\n        this._infoProfile(data);\n      } else {\n        this._info(data);\n      }\n    }\n  }, {\n    key: \"_info\",\n    value: function _info(data) {\n      var time = this._getTime();\n      this._stats[INFO].push(_objectSpread2(_objectSpread2({}, time), {}, {\n        payload: data\n      }));\n    }\n  }, {\n    key: \"_infoProfile\",\n    value: function _infoProfile(data) {\n      if (data && data.startMs) {\n        var endMs = Date.now();\n        var dur = endMs - data.startMs;\n        var profile = _objectSpread2({\n          cat: \"function\",\n          dur,\n          name: data.name || data.msg,\n          ph: \"X\",\n          pid: 0,\n          tid: 0,\n          ts: data.startMs,\n          profile: true\n        }, data);\n        this._info(profile);\n      } else {\n        console.warn(\"infoProfile need object data, include startMs\");\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this$_stats;\n      this._stats = (_this$_stats = {}, _defineProperty(_this$_stats, INFO, []), _defineProperty(_this$_stats, \"media\", {}), _this$_stats);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var player = this.player;\n      var mediaElem = player.media;\n      var buffered = [];\n      for (var i = 0; i < mediaElem.buffered.length; i++) {\n        buffered.push({\n          start: mediaElem.buffered.start(i),\n          end: mediaElem.buffered.end(i)\n        });\n      }\n      var mediaInfo = {\n        currentTime: mediaElem.currentTime,\n        readyState: mediaElem.readyState,\n        buffered,\n        paused: mediaElem.paused,\n        ended: mediaElem.ended\n      };\n      this._stats.media = mediaInfo;\n      return {\n        raw: this._stats,\n        timestat: this._getTimeStats(),\n        profile: this._getProfile()\n      };\n    }\n  }, {\n    key: \"_getTimeStats\",\n    value: function _getTimeStats() {\n      var allStat = this._stats[INFO];\n      var msgs = allStat.map(function(stat) {\n        var data = stat.payload.data;\n        var msg = \"\";\n        try {\n          if (data instanceof Error) {\n            msg = data.msg;\n          } else if (data !== void 0) {\n            msg = JSON.stringify(data);\n          }\n        } catch (error) {\n          console.log(\"err\", error);\n        }\n        return \"[\".concat(stat.timeFormat, \"] : \").concat(stat.payload.msg, \" \").concat(msg, \" \");\n      });\n      return msgs;\n    }\n  }, {\n    key: \"_getProfile\",\n    value: function _getProfile() {\n      var profile = {\n        traceEvents: []\n      };\n      var allStat = this._stats[INFO];\n      allStat.forEach(function(stat) {\n        if (stat.payload.profile) {\n          profile.traceEvents.push(stat.payload);\n        }\n      });\n      return profile;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"stats\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return Stats2;\n}(BasePlugin);\nexport { Stats as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar GapJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(GapJump2, _BasePlugin);\n  var _super = _createSuper(GapJump2);\n  function GapJump2() {\n    var _this;\n    _classCallCheck(this, GapJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onGapJump\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!_this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        _this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      var buffered = player.media.buffered;\n      var smallGapLimit = config.smallGapLimit || 0.5;\n      var gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      var currentTime = player.media.currentTime;\n      var idx = _this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      var jumpTo = buffered.start(idx) + 0.1;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      var jumpSize = jumpTo - currentTime;\n      var isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump2.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = _this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        _this.player && _this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(GapJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var useGapJump = this.config.useGapJump;\n      if (useGapJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.seekingEventReceived = false;\n      this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n      this.on(WAITING, this.onGapJump);\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n      this.on(SEEKING, function() {\n        _this2.seekingEventReceived = true;\n      });\n    }\n  }, {\n    key: \"_getIndex\",\n    value: function _getIndex(buffered, time, threshold) {\n      if (!buffered || !buffered.length) {\n        return null;\n      }\n      if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n        return null;\n      }\n      var bufferedInfo = this._getBuffered(buffered);\n      var idx = null;\n      for (var i = 0; i < bufferedInfo.length; i++) {\n        var item = bufferedInfo[i];\n        if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n          idx = i;\n          break;\n        }\n      }\n      return idx;\n    }\n  }, {\n    key: \"_getBuffered\",\n    value: function _getBuffered(b) {\n      if (!b) {\n        return [];\n      }\n      var ret = [];\n      for (var i = 0; i < b.length; i++) {\n        ret.push({\n          start: b.start(i),\n          end: b.end(i)\n        });\n      }\n      return ret;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"gapJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useGapJump: false,\n        smallGapLimit: 0.5,\n        gapDetectionThreshold: 0.3\n      };\n    }\n  }]);\n  return GapJump2;\n}(Plugin);\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar WaitingTimeoutJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(WaitingTimeoutJump2, _BasePlugin);\n  var _super = _createSuper(WaitingTimeoutJump2);\n  function WaitingTimeoutJump2() {\n    var _this;\n    _classCallCheck(this, WaitingTimeoutJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onWaiting\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n      if (_this.jumpCnt > config.jumpCntMax || _this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      _this.timer = setTimeout(_this.onJump, config.waitingTime * 1e3);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onJump\", function() {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player, config = _assertThisInitialize2.config;\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (_this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      _this.jumpSize = config.jumpSize * (_this.jumpCnt + 1);\n      if (_this.jumpCnt === config.jumpSize && _this.jumpSize < 6) {\n        _this.jumpSize = 6;\n      }\n      var jumpTo = player.currentTime + _this.jumpSize;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      console.log(\"waitintTimeout, currentTime:\", player.currentTime, \", jumpTo:\", jumpTo);\n      _this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n    return _this;\n  }\n  _createClass(WaitingTimeoutJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, useWaitingTimeoutJump = _this$config.useWaitingTimeoutJump, jumpSize = _this$config.jumpSize;\n      if (useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.jumpCnt = 0;\n      this.timer = null;\n      this.jumpSize = jumpSize;\n      this.on(WAITING, this.onWaiting);\n      this.on([PLAYING, CANPLAY], function() {\n        clearTimeout(_this2.timer);\n        _this2.timer = null;\n        _this2.jumpSize = _this2.config.jumpSize;\n      });\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"waitingTimeoutJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useWaitingTimeoutJump: false,\n        waitingTime: 15,\n        jumpSize: 2,\n        jumpCntMax: 4\n      };\n    }\n  }]);\n  return WaitingTimeoutJump2;\n}(Plugin);\nexport { WaitingTimeoutJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, toConsumableArray as _toConsumableArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DOWNLOAD_SPEED_CHANGE, LOADED_DATA, REPLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar DEFAULT_SPEED_TYPE = \"cdn\";\nvar SPEED_TYPE = [\"cdn\"];\nvar TestSpeed = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TestSpeed2, _BasePlugin);\n  var _super = _createSuper(TestSpeed2);\n  function TestSpeed2() {\n    var _this;\n    _classCallCheck(this, TestSpeed2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"getSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return 0;\n      if (_this.speedListCache[type].length <= 0)\n        return 0;\n      var total = 0;\n      _this.speedListCache[type].map(function(item) {\n        total += item;\n      });\n      return Math.floor(total / _this.speedListCache[type].length);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"startTimer\", function() {\n      if (util.isMSE(_this.player.video)) {\n        return;\n      }\n      _this.initSpeedList();\n      _this.cnt = 0;\n      _this.timer = setTimeout(_this.testSpeed, _this.config.testTimeStep);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"initSpeedList\", function() {\n      _this.speedListCache = {};\n      SPEED_TYPE.forEach(function(type) {\n        _this.speedListCache[type] = [];\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onRealSpeedChange\", function(data) {\n      data.speed && _this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"testSpeed\", function() {\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (!_this.player || !_this.config.openSpeed)\n        return;\n      var _this$config = _this.config, url = _this$config.url, loadSize = _this$config.loadSize, testCnt = _this$config.testCnt, testTimeStep = _this$config.testTimeStep;\n      var testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (_this.cnt >= testCnt) {\n        return;\n      }\n      _this.cnt++;\n      try {\n        var start = new Date().getTime();\n        var end = null;\n        var xhr = new XMLHttpRequest();\n        _this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        var headers = {};\n        var random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4) {\n            _this.xhr = null;\n            end = new Date().getTime();\n            var size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            var speed = Math.round(size * 1e3 / (end - start));\n            _this.appendList(speed);\n            _this.timer = setTimeout(_this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"appendList\", function(speed) {\n      var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return;\n      var saveSpeedMax = _this.config.saveSpeedMax;\n      if (_this.speedListCache[type].length >= saveSpeedMax) {\n        _this.speedListCache[type].shift();\n      }\n      _this.speedListCache[type].push(speed);\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[_this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      _this.updateSpeed(type);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      var speed = _this.getSpeed(type);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        } else {\n          var speedName = _this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(TestSpeed2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this$config2 = this.config, openSpeed = _this$config2.openSpeed, addSpeedTypeList = _this$config2.addSpeedTypeList;\n      if ((addSpeedTypeList === null || addSpeedTypeList === void 0 ? void 0 : addSpeedTypeList.length) > 0) {\n        SPEED_TYPE.push.apply(SPEED_TYPE, _toConsumableArray(addSpeedTypeList));\n      }\n      this.initSpeedList();\n      this.on(\"real_time_speed\", this._onRealSpeedChange);\n      this.timer = null;\n      this.cnt = 0;\n      this.xhr = null;\n      if (!openSpeed) {\n        return;\n      }\n      this.on([LOADED_DATA, REPLAY], this.startTimer);\n    }\n  }, {\n    key: \"getSpeedName\",\n    value: function getSpeedName(namePrefix, type) {\n      return namePrefix + \"Speed\" + type.toUpperCase();\n    }\n  }, {\n    key: \"openSpeed\",\n    get: function get() {\n      return this.config.openSpeed;\n    },\n    set: function set(value) {\n      this.config.openSpeed = value;\n      if (!value && this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n        return;\n      }\n      if (this.config.openSpeed) {\n        if (this.timer)\n          return;\n        this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.off(\"real_time_speed\", this._onRealSpeedChange);\n      this.off([LOADED_DATA, REPLAY], this.startTimer);\n      SPEED_TYPE.forEach(function(type) {\n        _this2.speedListCache && _this2.speedListCache[type] && (_this2.speedListCache[type] = []);\n      });\n      this.speedListCache && (this.speedListCache = {});\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.xhr && this.xhr.readyState !== 4) {\n        this.xhr.cancel && this.xhr.cancel();\n        this.xhr = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"testspeed\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        openSpeed: false,\n        testCnt: 3,\n        loadSize: 200 * 1024,\n        testTimeStep: 3e3,\n        url: \"\",\n        saveSpeedMax: 5,\n        addSpeedTypeList: []\n      };\n    }\n  }]);\n  return TestSpeed2;\n}(Plugin);\nexport { TestSpeed as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar FpsDetect = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(FpsDetect2, _BasePlugin);\n  var _super = _createSuper(FpsDetect2);\n  function FpsDetect2() {\n    _classCallCheck(this, FpsDetect2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FpsDetect2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      var player = this.player, config = this.config;\n      this.timer = null;\n      this._lastDecodedFrames = 0;\n      this._currentStuckCount = 0;\n      this._lastCheckPoint = null;\n      this._payload = [];\n      if (config.disabled)\n        return;\n      var getVideoPlaybackQuality = player.media.getVideoPlaybackQuality;\n      if (!getVideoPlaybackQuality)\n        return;\n      this.on(PLAY, function() {\n        _this._startTick();\n      });\n      this.on(PAUSE, function() {\n        _this._stopTick();\n      });\n      this.on(ENDED, function() {\n        _this._stopTick();\n      });\n      this.on(EMPTIED, function() {\n        _this._stopTick();\n      });\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      var _this2 = this;\n      this._stopTick();\n      this._timer = setTimeout(function() {\n        _this2._checkDecodeFPS();\n        _this2._startTick();\n      }, this.config.tick);\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  }, {\n    key: \"_checkStuck\",\n    value: function _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n      var media = this.player.media;\n      var hidden = document.hidden;\n      var paused = media.paused;\n      if (typeof hidden === \"boolean\" && !hidden && !paused) {\n        var curTime = media.currentTime;\n        var buffered = media.buffered;\n        var enoughBuffer = false;\n        var bufs = [];\n        for (var i = 0; i < buffered.length; i++) {\n          var start = buffered.start(i);\n          var end = buffered.end(i);\n          bufs.push({\n            start,\n            end\n          });\n          if (start <= curTime && curTime <= end - 1) {\n            enoughBuffer = true;\n            break;\n          }\n        }\n        if (media.readyState === 4 && enoughBuffer) {\n          if (this._currentStuckCount > this.config.stuckCount) {\n            this.emit(FPS_STUCK, this._payload);\n            this._reset();\n          } else {\n            if (curDecodedFrames <= this.config.reportFrame) {\n              this._currentStuckCount++;\n              this._payload.push({\n                bufs,\n                currentTime: media.currentTime,\n                curDecodedFrames,\n                totalVideoFrames,\n                droppedVideoFrames,\n                checkInterval\n              });\n            } else {\n              this._reset();\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      this._payload = [];\n      this._currentStuckCount = 0;\n    }\n  }, {\n    key: \"_checkDecodeFPS\",\n    value: function _checkDecodeFPS() {\n      if (!this.player.media) {\n        return;\n      }\n      var _this$player$media$ge = this.player.media.getVideoPlaybackQuality(), totalVideoFrames = _this$player$media$ge.totalVideoFrames, droppedVideoFrames = _this$player$media$ge.droppedVideoFrames;\n      var currTime = performance.now();\n      if (totalVideoFrames) {\n        if (this._lastCheckPoint) {\n          var curDecoded = totalVideoFrames - this._lastDecodedFrames;\n          var checkInterval = currTime - this._lastCheckPoint;\n          this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n        }\n      }\n      this._lastDecodedFrames = totalVideoFrames;\n      this._lastCheckPoint = currTime;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._stopTick();\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"FpsDetect\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disabled: false,\n        tick: 1e3,\n        stuckCount: 3,\n        reportFrame: 0\n      };\n    }\n  }]);\n  return FpsDetect2;\n}(Plugin);\nexport { FpsDetect as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport sniffer from \"../utils/sniffer.js\";\nimport Controls from \"../plugins/controls/index.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nvar DefaultPreset = /* @__PURE__ */ _createClass(function DefaultPreset2(options, playerConfig) {\n  var _this$plugins, _this$plugins2, _this$plugins3;\n  _classCallCheck(this, DefaultPreset2);\n  var simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n  var isLive = playerConfig.isLive, controls = playerConfig.controls;\n  var basePlugin = controls ? [Controls] : [];\n  var vodPlugins = isLive ? basePlugin : [].concat(basePlugin, [TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time]);\n  var contolsIcons = [].concat(_toConsumableArray(vodPlugins), [Play, Fullscreen, Rotate, PlayNextIcon, DefinitionIcon, PlaybackRate, Download, ScreenShot, Volume, PIP]);\n  var layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n  this.plugins = [].concat(_toConsumableArray(contolsIcons), [Stats, XGLogger], layers, [GapJump, WaitingTimeoutJump]);\n  var mode = simulateMode ? \"mobile\" : sniffer.device;\n  switch (mode) {\n    case \"pc\":\n      (_this$plugins = this.plugins).push.apply(_this$plugins, [Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n      break;\n    case \"mobile\":\n      (_this$plugins2 = this.plugins).push.apply(_this$plugins2, [MobilePlugin]);\n      break;\n    default:\n      (_this$plugins3 = this.plugins).push.apply(_this$plugins3, [Keyboard, PCPlugin, CssFullScreen]);\n  }\n  if (sniffer.os.isIpad || mode === \"pc\") {\n    this.plugins.push(DynamicBg);\n  }\n  if (sniffer.os.isIpad) {\n    this.plugins.push(PCPlugin);\n  }\n  this.ignores = [];\n  this.i18n = [];\n});\nexport { DefaultPreset as default };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport DefaultPreset from \"./presets/default.js\";\nvar PresetPlayer = /* @__PURE__ */ function(_Player) {\n  _inherits(PresetPlayer2, _Player);\n  var _super = _createSuper(PresetPlayer2);\n  function PresetPlayer2() {\n    _classCallCheck(this, PresetPlayer2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(PresetPlayer2);\n}(Player);\n_defineProperty(PresetPlayer, \"defaultPreset\", DefaultPreset);\n_defineProperty(PresetPlayer, \"Util\", util);\n_defineProperty(PresetPlayer, \"Sniffer\", sniffer);\n_defineProperty(PresetPlayer, \"Errors\", Errors);\n_defineProperty(PresetPlayer, \"Events\", events);\n_defineProperty(PresetPlayer, \"Plugin\", Plugin);\n_defineProperty(PresetPlayer, \"BasePlugin\", BasePlugin);\n_defineProperty(PresetPlayer, \"I18N\", I18N);\n_defineProperty(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\nexport { PresetPlayer as default };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a = [null];\n      a.push.apply(a, args2);\n      var Constructor = Function.bind.apply(Parent2, a);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? /* @__PURE__ */ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _construct as construct, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeFunction as isNativeFunction, _isNativeReflectConstruct as isNativeReflectConstruct, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray, _wrapNativeSuper as wrapNativeSuper };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n  }\n  _createClass(Buffer2, null, [{\n    key: \"start\",\n    value: function start(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      if (buf.length === 1 && buf.start(0) < 0)\n        return 0;\n      return buf.start(0);\n    }\n  }, {\n    key: \"end\",\n    value: function end(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      return buf.end(buf.length - 1);\n    }\n  }, {\n    key: \"get\",\n    value: function get(b) {\n      if (!b)\n        return;\n      try {\n        return b.buffered;\n      } catch (error) {\n      }\n    }\n  }, {\n    key: \"buffers\",\n    value: function buffers(buf, maxHole) {\n      if (!buf || !buf.length)\n        return [];\n      var buffers2 = [];\n      for (var i = 0, l = buf.length; i < l; i++) {\n        var bufLen = buffers2.length;\n        if (!bufLen || !maxHole) {\n          buffers2.push([buf.start(i), buf.end(i)]);\n        } else {\n          var last = buffers2[bufLen - 1];\n          var lastEnd = last[1];\n          var start = buf.start(i);\n          if (start - lastEnd <= maxHole) {\n            var end = buf.end(i);\n            if (end > lastEnd) {\n              last[1] = end;\n            }\n          } else {\n            buffers2.push([buf.start(i), buf.end(i)]);\n          }\n        }\n      }\n      return buffers2;\n    }\n  }, {\n    key: \"totalLength\",\n    value: function totalLength(buffers) {\n      if (!buffers || !buffers.length)\n        return 0;\n      return buffers.reduce(function(a, c) {\n        return a += c[1] - c[0];\n      }, 0);\n    }\n  }, {\n    key: \"info\",\n    value: function info(buf) {\n      var pos = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var maxHole = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      if (!buf || !buf.length)\n        return {\n          start: 0,\n          end: 0,\n          buffers: []\n        };\n      var start = 0;\n      var end = 0;\n      var index = 0;\n      var nextStart = 0;\n      var nextEnd = 0;\n      var prevStart = 0;\n      var prevEnd = 0;\n      var buffers = Buffer2.buffers(buf, maxHole);\n      for (var i = 0, l = buffers.length; i < l; i++) {\n        var item = buffers[i];\n        if (pos + maxHole >= item[0] && pos <= item[1]) {\n          start = item[0];\n          end = item[1];\n          index = i;\n        } else if (pos + maxHole < item[0]) {\n          nextStart = item[0];\n          nextEnd = item[1];\n          break;\n        } else if (pos + maxHole > item[1]) {\n          prevStart = item[0];\n          prevEnd = item[1];\n        }\n      }\n      return {\n        start,\n        end,\n        index,\n        buffers,\n        nextStart,\n        nextEnd,\n        prevStart,\n        prevEnd,\n        currentTime: pos,\n        behind: pos - start,\n        remaining: end ? end - pos : 0,\n        length: Buffer2.totalLength && Buffer2.totalLength(buffers)\n      };\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar _ERR_CODE;\nvar ERR = {\n  MANIFEST: \"manifest\",\n  NETWORK: \"network\",\n  NETWORK_TIMEOUT: \"network_timeout\",\n  NETWORK_FORBIDDEN: \"network_forbidden\",\n  NETWORK_NOTFOUND: \"network_notfound\",\n  NETWROK_RANGE_NOT_SATISFIABLE: \"network_range_not_satisfiable\",\n  DEMUX: \"demux\",\n  REMUX: \"remux\",\n  MEDIA: \"media\",\n  DRM: \"drm\",\n  OTHER: \"other\",\n  RUNTIME: \"runtime\",\n  SUB_TYPES: {\n    FLV: \"FLV\",\n    HLS: \"HLS\",\n    MP4: \"MP4\",\n    FMP4: \"FMP4\",\n    MSE_ADD_SB: \"MSE_ADD_SB\",\n    MSE_APPEND_BUFFER: \"MSE_APPEND_BUFFER\",\n    MSE_OTHER: \"MSE_OTHER\",\n    MSE_FULL: \"MSE_FULL\",\n    OPTION: \"OPTION\",\n    DASH: \"DASH\",\n    LICENSE: \"LICENSE\",\n    CUSTOM_LICENSE: \"CUSTOM_LICENSE\",\n    MSE_HIJACK: \"MSE_HIJACK\",\n    EME_HIJACK: \"EME_HIJACK\",\n    SIDX: \"SIDX\",\n    NO_CANPLAY_ERROR: \"NO_CANPLAY_ERROR\",\n    BUFFERBREAK_ERROR: \"BUFFERBREAK_ERROR\",\n    WAITING_TIMEOUT_ERROR: \"WAITING_TIMEOUT_ERROR\",\n    MEDIA_ERR_ABORTED: \"MEDIA_ERR_ABORTED\",\n    MEDIA_ERR_NETWORK: \"MEDIA_ERR_NETWORK\",\n    MEDIA_ERR_DECODE: \"MEDIA_ERR_DECODE\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"MEDIA_ERR_SRC_NOT_SUPPORTED\",\n    MEDIA_ERR_CODEC_NOT_SUPPORTED: \"MEDIA_ERR_CODEC_NOT_SUPPORTED\",\n    MEDIA_ERR_URL_EMPTY: \"MEDIA_ERR_URL_EMPTY\"\n  }\n};\nvar ERR_CODE = (_ERR_CODE = {}, _defineProperty(_ERR_CODE, ERR.MANIFEST, {\n  HLS: 1100,\n  DASH: 1200\n}), _defineProperty(_ERR_CODE, ERR.NETWORK, 2100), _defineProperty(_ERR_CODE, ERR.NETWORK_TIMEOUT, 2101), _defineProperty(_ERR_CODE, ERR.NETWORK_FORBIDDEN, 2103), _defineProperty(_ERR_CODE, ERR.NETWORK_NOTFOUND, 2104), _defineProperty(_ERR_CODE, ERR.NETWROK_RANGE_NOT_SATISFIABLE, 2116), _defineProperty(_ERR_CODE, ERR.DEMUX, {\n  FLV: 3100,\n  HLS: 3200,\n  MP4: 3300,\n  FMP4: 3400,\n  SIDX: 3410\n}), _defineProperty(_ERR_CODE, ERR.REMUX, {\n  FMP4: 4100,\n  MP4: 4200\n}), _defineProperty(_ERR_CODE, ERR.MEDIA, {\n  MEDIA_ERR_ABORTED: 5101,\n  MEDIA_ERR_NETWORK: 5102,\n  MEDIA_ERR_DECODE: 5103,\n  MEDIA_ERR_SRC_NOT_SUPPORTED: 5104,\n  MEDIA_ERR_CODEC_NOT_SUPPORTED: 5105,\n  MEDIA_ERR_URL_EMPTY: 5106,\n  MSE_ADD_SB: 5200,\n  MSE_APPEND_BUFFER: 5201,\n  MSE_OTHER: 5202,\n  MSE_FULL: 5203,\n  MSE_HIJACK: 5204,\n  EME_HIJACK: 5301\n}), _defineProperty(_ERR_CODE, ERR.DRM, {\n  LICENSE: 7100,\n  CUSTOM_LICENSE: 7200\n}), _defineProperty(_ERR_CODE, ERR.OTHER, 8e3), _defineProperty(_ERR_CODE, ERR.RUNTIME, {\n  NO_CANPLAY_ERROR: 9001,\n  BUFFERBREAK_ERROR: 9002,\n  WAITING_TIMEOUT_ERROR: 9003\n}), _ERR_CODE);\nvar StreamingError = /* @__PURE__ */ function(_Error) {\n  _inherits(StreamingError2, _Error);\n  var _super = _createSuper(StreamingError2);\n  function StreamingError2(type, subType, origin, payload, msg) {\n    var _this;\n    _classCallCheck(this, StreamingError2);\n    _this = _super.call(this, msg || (origin === null || origin === void 0 ? void 0 : origin.message));\n    _this.errorType = type === ERR.NETWORK_TIMEOUT ? ERR.NETWORK : type;\n    _this.originError = origin;\n    _this.ext = payload;\n    _this.errorCode = ERR_CODE[type][subType] || ERR_CODE[type];\n    _this.errorMessage = _this.message;\n    if (!_this.errorCode) {\n      _this.errorType = ERR.OTHER;\n      _this.errorCode = ERR_CODE[_this.errorType];\n    }\n    return _this;\n  }\n  _createClass(StreamingError2, null, [{\n    key: \"create\",\n    value: function create(type, subType, origin, payload, msg) {\n      if (type instanceof StreamingError2) {\n        return type;\n      } else if (type instanceof Error) {\n        origin = type;\n        type = \"\";\n      }\n      if (!type)\n        type = ERR.OTHER;\n      return new StreamingError2(type, subType, origin, payload, msg);\n    }\n  }, {\n    key: \"network\",\n    value: function network(error) {\n      var _error$response;\n      return new StreamingError2(error !== null && error !== void 0 && error.isTimeout ? ERR.NETWORK_TIMEOUT : ERR.NETWORK, null, error instanceof Error ? error : null, {\n        url: error === null || error === void 0 ? void 0 : error.url,\n        response: error === null || error === void 0 ? void 0 : error.response,\n        httpCode: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status\n      });\n    }\n  }]);\n  return StreamingError2;\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { ERR, ERR_CODE, StreamingError };\n","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar LogCacheLevel = {\n  \"DEBUG\": 1,\n  \"LOG\": 2,\n  \"WARN\": 3,\n  \"ERROR\": 4\n};\nvar LOG_MAX_SIZE = 200 * 1024;\nvar SIMPLE_TYPE = [\"Boolean\", \"Number\", \"String\", \"Undefined\", \"Null\", \"Date\", \"Object\"];\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, config) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    this.logCacheLevel = (config === null || config === void 0 ? void 0 : config.logCacheLevel) || 3;\n    this.logMaxSize = (config === null || config === void 0 ? void 0 : config.logMaxSize) || LOG_MAX_SIZE;\n    this.logSize = 0;\n    this.logTextArray = [];\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.logCache.apply(this, [LogCacheLevel.DEBUG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console = console).debug.apply(_console, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      this.logCache.apply(this, [LogCacheLevel.LOG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console2 = console).log.apply(_console2, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      this.logCache.apply(this, [LogCacheLevel.WARN].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console3 = console).warn.apply(_console3, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      this.logCache.apply(this, [LogCacheLevel.ERROR].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console4 = console).error.apply(_console4, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"logCache\",\n    value: function logCache(logCacheLevel) {\n      if (logCacheLevel < this.logCacheLevel)\n        return;\n      var text = \"\";\n      try {\n        for (var _len5 = arguments.length, logText = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n          logText[_key5 - 1] = arguments[_key5];\n        }\n        var finLogText = logText.map(function(item) {\n          return logable(item);\n        });\n        text = this._prefix + nowTime() + JSON.stringify(finLogText);\n      } catch (e) {\n        return;\n      }\n      if (logCacheLevel >= this.logCacheLevel) {\n        this.logSize += text.length;\n        this.logTextArray.push(text);\n      }\n      if (this.logSize > this.logMaxSize) {\n        var delLog = this.logTextArray.shift();\n        this.logSize -= delLog.length;\n      }\n    }\n  }, {\n    key: \"getLogCache\",\n    value: function getLogCache() {\n      var logText = this.logTextArray.join(\"\\n\");\n      this.reset();\n      return logText;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.logTextArray = [];\n      this.logSize = 0;\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }, {\n    key: \"setLogLevel\",\n    value: function setLogLevel(val) {\n      this.logCacheLevel = val;\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nfunction nowTime() {\n  return new Date().toLocaleString();\n}\nfunction reduceDepth(val) {\n  if (_typeof(val) !== \"object\") {\n    return val;\n  }\n  var objType = Object.prototype.toString.call(val).slice(8, -1);\n  switch (objType) {\n    case \"Array\":\n    case \"Uint8Array\":\n    case \"ArrayBuffer\":\n      return objType + \"[\" + val.length + \"]\";\n    case \"Object\":\n      return \"{}\";\n    default:\n      return objType;\n  }\n}\nfunction logable(obj, maxDepth, depth) {\n  if (!depth)\n    depth = 1;\n  if (!maxDepth)\n    maxDepth = 2;\n  var result = {};\n  if (!obj || _typeof(obj) !== \"object\") {\n    return obj;\n  }\n  var objType = Object.prototype.toString.call(obj).slice(8, -1);\n  if (!SIMPLE_TYPE.includes(objType)) {\n    return objType;\n  }\n  if (depth > maxDepth) {\n    return void 0;\n  }\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (depth === maxDepth) {\n        result[key] = reduceDepth(obj[key]);\n      } else if (_typeof(obj[key]) === \"object\") {\n        result[key] = logable(obj[key], maxDepth, depth + 1);\n      } else {\n        result[key] = obj[key];\n      }\n    }\n  }\n  return result;\n}\nexport { LogCacheLevel, Logger };\n","function createPublicPromise() {\n  var res, rej;\n  var promise = new Promise(function(resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.used = false;\n  promise.resolve = function() {\n    promise.used = true;\n    return res.apply(void 0, arguments);\n  };\n  promise.reject = function() {\n    promise.used = true;\n    return rej.apply(void 0, arguments);\n  };\n  return promise;\n}\nfunction nowTime() {\n  try {\n    return parseInt(performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nvar SafeJSON = {\n  stringify: function stringify(obj) {\n    try {\n      return JSON.stringify(obj);\n    } catch (e) {\n      return \"\";\n    }\n  },\n  parse: function parse(obj) {\n    try {\n      return JSON.parse(obj);\n    } catch (e) {\n      return void 0;\n    }\n  }\n};\nexport { SafeJSON, createPublicPromise, nowTime };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"./buffer.js\";\nimport { isBrowser } from \"./env.js\";\nimport { StreamingError, ERR } from \"./error.js\";\nimport { Logger } from \"./logger.js\";\nimport { createPublicPromise, nowTime, SafeJSON } from \"./utils.js\";\nfunction getMediaSource() {\n  var preferMMS = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n  try {\n    if (!isBrowser)\n      return null;\n    if (preferMMS && typeof ManagedMediaSource !== \"undefined\")\n      return ManagedMediaSource;\n    return window.MediaSource;\n  } catch (e) {\n  }\n}\nfunction isMMS(mediaSource) {\n  return /ManagedMediaSource/gi.test(Object.prototype.toString.call(mediaSource));\n}\nfunction getTimeRanges(buffered) {\n  var ranges = [];\n  if (buffered instanceof TimeRanges) {\n    for (var i = 0; i < buffered.length; i++) {\n      ranges.push({\n        start: buffered.start(i),\n        end: buffered.end(i)\n      });\n    }\n  }\n  return ranges;\n}\nvar MSEErrorType = {\n  UPDATE_ERROR: \"updateError\"\n};\nvar OP_NAME = {\n  APPEND: \"appendBuffer\",\n  REMOVE: \"removeBuffer\",\n  UPDATE_DURATION: \"updateDuration\"\n};\nvar MSEError = /* @__PURE__ */ function(_Error) {\n  _inherits(MSEError2, _Error);\n  var _super = _createSuper(MSEError2);\n  function MSEError2(type, msg) {\n    var _this;\n    _classCallCheck(this, MSEError2);\n    _this = _super.call(this, msg || type);\n    _this.type = type;\n    _this.msg = msg;\n    return _this;\n  }\n  return _createClass(MSEError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nvar MSE = /* @__PURE__ */ function() {\n  function MSE2(media, config) {\n    var _this2 = this;\n    _classCallCheck(this, MSE2);\n    _defineProperty(this, \"media\", null);\n    _defineProperty(this, \"mediaSource\", null);\n    _defineProperty(this, \"_openPromise\", createPublicPromise());\n    _defineProperty(this, \"_queue\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_sourceBuffer\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_mseFullFlag\", {});\n    _defineProperty(this, \"_st\", 0);\n    _defineProperty(this, \"_opst\", 0);\n    _defineProperty(this, \"_logger\", null);\n    _defineProperty(this, \"_config\", null);\n    _defineProperty(this, \"_url\", null);\n    _defineProperty(this, \"_onStartStreaming\", function() {\n      _this2._logger.debug(\"startstreaming\");\n    });\n    _defineProperty(this, \"_onEndStreaming\", function() {\n      _this2._logger.debug(\"endstreaming\");\n    });\n    _defineProperty(this, \"_onSBUpdateEnd\", function(type) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (!((op === null || op === void 0 ? void 0 : op.opName) === OP_NAME.UPDATE_DURATION)) {\n          queue.shift();\n        }\n        if (op) {\n          var _this2$_sourceBuffer$;\n          var costtime = nowTime() - _this2._opst;\n          _this2._logger.debug(\"UpdateEnd(\".concat(type, \"/\").concat(op.opName, \")\"), SafeJSON.stringify(getTimeRanges((_this2$_sourceBuffer$ = _this2._sourceBuffer[type]) === null || _this2$_sourceBuffer$ === void 0 ? void 0 : _this2$_sourceBuffer$.buffered)), costtime, op.context);\n          op.promise.resolve({\n            name: op.opName,\n            context: op.context,\n            costtime\n          });\n          _this2._startQueue(type);\n        }\n      }\n    });\n    _defineProperty(this, \"_onSBUpdateError\", function(type, event) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op) {\n          _this2._logger.error(\"UpdateError\", type, op.opName, op.context);\n          op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_APPEND_BUFFER, event));\n        }\n      }\n    });\n    this._config = Object.assign(MSE2.getDefaultConfig(), config);\n    if (media)\n      this.bindMedia(media);\n    this._logger = new Logger(\"MSE\");\n    if (this._config.openLog) {\n      Logger.enable();\n    }\n  }\n  _createClass(MSE2, [{\n    key: \"isOpened\",\n    get: function get() {\n      var _this$mediaSource;\n      return ((_this$mediaSource = this.mediaSource) === null || _this$mediaSource === void 0 ? void 0 : _this$mediaSource.readyState) === \"open\";\n    }\n  }, {\n    key: \"hasOpTasks\",\n    get: function get() {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this._queue).forEach(function(k) {\n        var queue = _this3._queue[k];\n        if (Array.isArray(queue)) {\n          flag || (flag = queue.length > 0);\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this._url;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      var _this$mediaSource2;\n      return ((_this$mediaSource2 = this.mediaSource) === null || _this$mediaSource2 === void 0 ? void 0 : _this$mediaSource2.duration) || -1;\n    }\n  }, {\n    key: \"isEnded\",\n    get: function get() {\n      return this.mediaSource ? this.mediaSource.readyState === \"ended\" : false;\n    }\n  }, {\n    key: \"streaming\",\n    get: function get() {\n      return isMMS(this.mediaSource) ? this.mediaSource.streaming : true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull(type) {\n      return type ? this._mseFullFlag[type] : this._mseFullFlag[MSE2.VIDEO];\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this4 = this;\n      var isReduceDuration = this.mediaSource && this.mediaSource.duration > duration;\n      if (this.mediaSource && this.mediaSource.duration > duration) {\n        var bufferEnd = 0;\n        Object.keys(this._sourceBuffer).forEach(function(k) {\n          try {\n            bufferEnd = Math.max(_this4.bufferEnd(k) || 0, bufferEnd);\n          } catch (error) {\n          }\n        });\n        if (duration < bufferEnd) {\n          return Promise.resolve();\n        }\n      }\n      return this._enqueueBlockingOp(function() {\n        if (_this4.isEnded) {\n          _this4._logger.debug(\"setDuration but ended\");\n          return;\n        }\n        if (_this4.mediaSource) {\n          _this4.mediaSource.duration = duration;\n          _this4._logger.debug(\"setDuration\", duration);\n        }\n      }, OP_NAME.UPDATE_DURATION, {\n        isReduceDuration\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this5 = this;\n      if (this._openPromise.used && !this.isOpened && this.mediaSource) {\n        var ms = this.mediaSource;\n        var onOpen = function onOpen2() {\n          var costTime = nowTime() - _this5._st;\n          _this5._logger.debug(\"sourceopen\", costTime);\n          ms.removeEventListener(\"sourceopen\", onOpen2);\n          _this5._openPromise.resolve({\n            costtime: costTime\n          });\n        };\n        ms.addEventListener(\"sourceopen\", onOpen);\n        this._openPromise = createPublicPromise();\n      }\n      return this._openPromise;\n    }\n  }, {\n    key: \"bindMedia\",\n    value: function() {\n      var _bindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(media) {\n        var _this6 = this;\n        var MediaSource2, ms, useMMS, onOpen;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.mediaSource || this.media)) {\n                  _context.next = 3;\n                  break;\n                }\n                _context.next = 3;\n                return this.unbindMedia();\n              case 3:\n                MediaSource2 = getMediaSource(this._config.preferMMS);\n                if (!(!media || !MediaSource2)) {\n                  _context.next = 6;\n                  break;\n                }\n                throw new Error(\"Param media or MediaSource does not exist\");\n              case 6:\n                this.media = media;\n                ms = this.mediaSource = new MediaSource2();\n                useMMS = isMMS(ms);\n                this._st = nowTime();\n                onOpen = function onOpen2() {\n                  var costTime = nowTime() - _this6._st;\n                  _this6._logger.debug(\"sourceopen\");\n                  ms.removeEventListener(\"sourceopen\", onOpen2);\n                  URL.revokeObjectURL(media.src);\n                  _this6._openPromise.resolve({\n                    costtime: costTime\n                  });\n                };\n                ms.addEventListener(\"sourceopen\", onOpen);\n                if (useMMS) {\n                  ms.addEventListener(\"startstreaming\", this._onStartStreaming);\n                  ms.addEventListener(\"endstreaming\", this._onEndStreaming);\n                }\n                this._url = URL.createObjectURL(ms);\n                media.src = this._url;\n                media.disableRemotePlayback = useMMS;\n                return _context.abrupt(\"return\", this._openPromise);\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function bindMedia(_x) {\n        return _bindMedia.apply(this, arguments);\n      }\n      return bindMedia;\n    }()\n  }, {\n    key: \"unbindMedia\",\n    value: function() {\n      var _unbindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        var _this7 = this;\n        var ms, hasMetadata, mseOpen;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._openPromise.used)\n                  this._openPromise.resolve();\n                ms = this.mediaSource;\n                if (ms) {\n                  Object.keys(this._queue).forEach(function(t) {\n                    var queue = _this7._queue[t];\n                    if (queue) {\n                      queue.forEach(function(x) {\n                        var _x$promise, _x$promise$resolve;\n                        return (_x$promise = x.promise) === null || _x$promise === void 0 ? void 0 : (_x$promise$resolve = _x$promise.resolve) === null || _x$promise$resolve === void 0 ? void 0 : _x$promise$resolve.call(_x$promise);\n                      });\n                    }\n                  });\n                  hasMetadata = !!this.media && this.media.readyState >= 1;\n                  mseOpen = ms.readyState === \"open\";\n                  if (hasMetadata && mseOpen) {\n                    try {\n                      ms.endOfStream();\n                    } catch (error) {\n                    }\n                  }\n                  Object.keys(this._sourceBuffer).forEach(function(k) {\n                    try {\n                      ms.removeSourceBuffer(_this7._sourceBuffer[k]);\n                    } catch (error) {\n                    }\n                  });\n                  if (isMMS(ms)) {\n                    ms.removeEventListener(\"startstreaming\", this._onStartStreaming);\n                    ms.removeEventListener(\"endstreaming\", this._onEndStreaming);\n                  }\n                }\n                if (this.media) {\n                  this.media.disableRemotePlayback = false;\n                  this.media.removeAttribute(\"src\");\n                  try {\n                    this.media.load();\n                  } catch (error) {\n                  }\n                  this.media = null;\n                }\n                this.mediaSource = null;\n                this._openPromise = createPublicPromise();\n                this._queue = /* @__PURE__ */ Object.create(null);\n                this._sourceBuffer = /* @__PURE__ */ Object.create(null);\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function unbindMedia() {\n        return _unbindMedia.apply(this, arguments);\n      }\n      return unbindMedia;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(type, mimeType) {\n      if (this._sourceBuffer[type] || !this.mediaSource)\n        return;\n      var sb;\n      try {\n        sb = this._sourceBuffer[type] = this.mediaSource.addSourceBuffer(mimeType);\n      } catch (error) {\n        throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_ADD_SB, error);\n      }\n      sb.mimeType = mimeType;\n      sb.addEventListener(\"updateend\", this._onSBUpdateEnd.bind(this, type));\n      sb.addEventListener(\"error\", this._onSBUpdateError.bind(this, type));\n    }\n  }, {\n    key: \"changeType\",\n    value: function changeType(type, mimeType) {\n      var _this8 = this;\n      var sb = this._sourceBuffer[type];\n      if (!this.mediaSource || !sb || sb.mimeType === mimeType)\n        return Promise.resolve();\n      if (typeof sb.changeType !== \"function\")\n        return Promise.reject();\n      return this._enqueueOp(type, function() {\n        sb.changeType(mimeType);\n        sb.mimeType = mimeType;\n        _this8._onSBUpdateEnd(type);\n      }, \"changeType\", {\n        mimeType\n      });\n    }\n  }, {\n    key: \"createOrChangeSource\",\n    value: function createOrChangeSource(type, mimeType) {\n      this.createSource(type, mimeType);\n      return this.changeType(type, mimeType);\n    }\n  }, {\n    key: \"append\",\n    value: function append(type, buffer, context) {\n      var _this9 = this;\n      if (!buffer || !buffer.byteLength) {\n        return Promise.resolve();\n      }\n      if (!this._sourceBuffer[type])\n        return Promise.resolve();\n      return this._enqueueOp(type, function() {\n        var _this9$_sourceBuffer$;\n        if (!_this9.mediaSource || _this9.media.error)\n          return;\n        _this9._logger.debug(\"MSE APPEND START\", context);\n        _this9._opst = nowTime();\n        (_this9$_sourceBuffer$ = _this9._sourceBuffer[type]) === null || _this9$_sourceBuffer$ === void 0 ? void 0 : _this9$_sourceBuffer$.appendBuffer(buffer);\n      }, OP_NAME.APPEND, context);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, startTime, endTime, context) {\n      var _this10 = this;\n      var isInsertHead = false;\n      if (this._mseFullFlag[type]) {\n        isInsertHead = true;\n      }\n      return this._enqueueOp(type, function() {\n        if (!_this10.mediaSource || _this10.media.error)\n          return;\n        var sb = _this10._sourceBuffer[type];\n        if (startTime >= endTime || !sb) {\n          _this10._onSBUpdateEnd(type);\n          return;\n        }\n        _this10._opst = nowTime();\n        _this10._logger.debug(\"MSE REMOVE START\", type, startTime, endTime, context);\n        sb.remove(startTime, endTime);\n      }, OP_NAME.REMOVE, context, isInsertHead);\n    }\n  }, {\n    key: \"clearBuffer\",\n    value: function clearBuffer(startTime, endTime) {\n      var _this11 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        p = _this11.remove(k, startTime, endTime);\n      });\n      return p || Promise.resolve();\n    }\n  }, {\n    key: \"clearAllBuffer\",\n    value: function clearAllBuffer() {\n      var _this12 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        var sb = _this12._sourceBuffer[k];\n        p = _this12.remove(k, 0, Buffer.end(Buffer.get(sb)));\n      });\n      return p;\n    }\n  }, {\n    key: \"clearOpQueues\",\n    value: function clearOpQueues(type, allClear) {\n      var _this$_queue$type;\n      this._logger.debug(\"MSE clearOpQueue START\");\n      var queue = this._queue[type];\n      if (allClear && queue) {\n        this._queue[type] = [];\n        return;\n      }\n      if (!queue || !queue[type] || queue.length < 5)\n        return;\n      var initQueue = [];\n      queue.forEach(function(op) {\n        if (op.context && op.context.isinit) {\n          initQueue.push(op);\n        }\n      });\n      this._queue[type] = queue.slice(0, 2);\n      initQueue.length > 0 && (_this$_queue$type = this._queue[type]).push.apply(_this$_queue$type, initQueue);\n    }\n  }, {\n    key: \"endOfStream\",\n    value: function endOfStream(reason) {\n      var _this13 = this;\n      if (!this.mediaSource || this.mediaSource.readyState !== \"open\")\n        return Promise.resolve();\n      return this._enqueueBlockingOp(function() {\n        var ms = _this13.mediaSource;\n        if (!ms || ms.readyState !== \"open\")\n          return;\n        _this13._logger.debug(\"MSE endOfStream START\");\n        if (reason) {\n          ms.endOfStream(reason);\n        } else {\n          ms.endOfStream();\n        }\n      }, \"endOfStream\");\n    }\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function setLiveSeekableRange(start, end) {\n      var ms = this.mediaSource;\n      if (start < 0 || end < start || !(ms !== null && ms !== void 0 && ms.setLiveSeekableRange) || ms.readyState !== \"open\")\n        return;\n      ms.setLiveSeekableRange(start, end);\n    }\n  }, {\n    key: \"getSourceBuffer\",\n    value: function getSourceBuffer(type) {\n      return this._sourceBuffer[type];\n    }\n  }, {\n    key: \"buffered\",\n    value: function buffered(type) {\n      return Buffer.get(this._sourceBuffer[type]);\n    }\n  }, {\n    key: \"bufferStart\",\n    value: function bufferStart(type) {\n      return Buffer.start(this.buffered(type));\n    }\n  }, {\n    key: \"bufferEnd\",\n    value: function bufferEnd(type) {\n      return Buffer.end(this.buffered(type));\n    }\n  }, {\n    key: \"_enqueueOp\",\n    value: function _enqueueOp(type, exec, opName, context, isInsertHead) {\n      var _this14 = this;\n      if (!this.mediaSource)\n        return Promise.resolve();\n      var queue = this._queue[type] = this._queue[type] || [];\n      var op = {\n        exec,\n        promise: createPublicPromise(),\n        opName,\n        context\n      };\n      if (isInsertHead) {\n        queue.splice(0, 0, op);\n        this._mseFullFlag[type] = false;\n        this._startQueue(type);\n      } else {\n        queue.push(op);\n      }\n      if (this.isOpened || this.isEnded) {\n        if (queue.length === 1) {\n          this._startQueue(type);\n        }\n      } else {\n        this._openPromise.then(function() {\n          if (queue.length === 1) {\n            _this14._startQueue(type);\n          }\n        });\n      }\n      return op.promise;\n    }\n  }, {\n    key: \"_enqueueBlockingOp\",\n    value: function() {\n      var _enqueueBlockingOp2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(exec, opName, context) {\n        var _this15 = this;\n        var types, waiters;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.mediaSource) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\", Promise.resolve());\n              case 2:\n                types = Object.keys(this._sourceBuffer);\n                if (types.length) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\", exec());\n              case 5:\n                waiters = [];\n                types.forEach(function(t) {\n                  var queue = _this15._queue[t];\n                  var prom = createPublicPromise();\n                  waiters.push(prom);\n                  queue.push({\n                    exec: function exec2() {\n                      prom.resolve();\n                    },\n                    promise: prom,\n                    opName,\n                    context\n                  });\n                  if (queue.length === 1) {\n                    _this15._startQueue(t);\n                  }\n                });\n                return _context3.abrupt(\"return\", Promise.all(waiters).then(function() {\n                  try {\n                    return exec();\n                  } finally {\n                    types.forEach(function(t) {\n                      var queue = _this15._queue[t];\n                      var sb = _this15._sourceBuffer[t];\n                      queue === null || queue === void 0 ? void 0 : queue.shift();\n                      if (!sb || !sb.updating) {\n                        _this15._startQueue(t);\n                      }\n                    });\n                  }\n                }));\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _enqueueBlockingOp(_x2, _x3, _x4) {\n        return _enqueueBlockingOp2.apply(this, arguments);\n      }\n      return _enqueueBlockingOp;\n    }()\n  }, {\n    key: \"_startQueue\",\n    value: function _startQueue(type) {\n      var queue = this._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op && !this._mseFullFlag[type]) {\n          try {\n            op.exec();\n          } catch (error) {\n            if (error && error.message && error.message.indexOf(\"SourceBuffer is full\") >= 0) {\n              this._mseFullFlag[type] = true;\n              this._logger.error(\"[MSE error],  context,\", op.context, \" ,name,\", op.opName, \",err,SourceBuffer is full\");\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_FULL, error));\n            } else {\n              this._logger.error(error);\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_OTHER, error));\n              queue.shift();\n              this._startQueue(type);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setTimeoffset\",\n    value: function setTimeoffset(type, timestampOffset, context) {\n      var _this16 = this;\n      return this._enqueueOp(type, function() {\n        if (timestampOffset < 0) {\n          timestampOffset += 1e-3;\n        }\n        _this16._sourceBuffer[type].timestampOffset = timestampOffset;\n        _this16._onSBUpdateEnd(type);\n      }, \"setTimeoffset\", context);\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(type, context) {\n      var _this17 = this;\n      if (!this.isOpened) {\n        return Promise.resolve();\n      }\n      return this._enqueueOp(type, function() {\n        _this17._sourceBuffer[type].abort();\n        _this17._onSBUpdateEnd(type);\n      }, \"abort\", context);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n      var MediaSource2 = getMediaSource();\n      if (!MediaSource2)\n        return false;\n      try {\n        return MediaSource2.isTypeSupported(mime);\n      } catch (error) {\n        this._logger.error(mime, error);\n        return false;\n      }\n    }\n  }, {\n    key: \"isMMSOnly\",\n    value: function isMMSOnly() {\n      return typeof ManagedMediaSource !== \"undefined\" && typeof MediaSource === \"undefined\";\n    }\n  }, {\n    key: \"getDefaultConfig\",\n    value: function getDefaultConfig() {\n      return {\n        openLog: false,\n        preferMMS: false\n      };\n    }\n  }]);\n  return MSE2;\n}();\n_defineProperty(MSE, \"VIDEO\", \"video\");\n_defineProperty(MSE, \"AUDIO\", \"audio\");\nexport { MSE, MSEError, MSEErrorType };\n","var EVENT = {\n  ERROR: \"error\",\n  TTFB: \"core.ttfb\",\n  LOAD_START: \"core.loadstart\",\n  LOAD_RESPONSE_HEADERS: \"core.loadresponseheaders\",\n  LOAD_COMPLETE: \"core.loadcomplete\",\n  LOAD_RETRY: \"core.loadretry\",\n  SOURCEBUFFER_CREATED: \"core.sourcebuffercreated\",\n  MEDIASOURCE_OPENED: \"core.mediasourceopened\",\n  ANALYZE_DURATION_EXCEEDED: \"core.analyzedurationexceeded\",\n  REMOVE_BUFFER: \"core.removebuffer\",\n  BUFFEREOS: \"core.buffereos\",\n  KEYFRAME: \"core.keyframe\",\n  CHASEFRAME: \"core.chaseframe\",\n  METADATA_PARSED: \"core.metadataparsed\",\n  SEI: \"core.sei\",\n  SEI_IN_TIME: \"core.seiintime\",\n  FLV_SCRIPT_DATA: \"core.flvscriptdata\",\n  LOWDECODE: \"core.lowdecode\",\n  SWITCH_URL_SUCCESS: \"core.switchurlsuccess\",\n  SWITCH_URL_FAILED: \"core.switchurlfailed\",\n  SPEED: \"core.speed\",\n  HLS_MANIFEST_LOADED: \"core.hlsmanifestloaded\",\n  HLS_LEVEL_LOADED: \"core.hlslevelloaded\",\n  DEMUXED_TRACK: \"core.demuxedtrack\",\n  STREAM_EXCEPTION: \"core.streamexception\",\n  LARGE_AV_FIRST_FRAME_GAP_DETECT: \"LARGE_AV_FIRST_FRAME_GAP_DETECT\",\n  LARGE_VIDEO_DTS_GAP_DETECT: \"LARGE_VIDEO_DTS_GAP_DETECT\",\n  LARGE_AUDIO_DTS_GAP_DETECT: \"LARGE_AUDIO_DTS_GAP_DETECT\",\n  AUDIO_GAP_DETECT: \"AUDIO_GAP_DETECT\",\n  AUDIO_OVERLAP_DETECT: \"AUDIO_OVERLAP_DETECT\",\n  MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT: \"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT\",\n  REAL_TIME_SPEED: \"real_time_speed\"\n};\nexport { EVENT };\n","function isMediaPlaying(media) {\n  return media && !media.paused && !media.ended && media.playbackRate !== 0 && media.readyState !== 0;\n}\nfunction getVideoPlaybackQuality(video) {\n  if (!video)\n    return {};\n  if (typeof video.getVideoPlaybackQuality === \"function\") {\n    var info = video.getVideoPlaybackQuality();\n    return {\n      droppedVideoFrames: info.droppedVideoFrames || info.corruptedVideoFrames,\n      totalVideoFrames: info.totalVideoFrames,\n      creationTime: info.creationTime\n    };\n  }\n  return {\n    droppedVideoFrames: video.webkitDroppedFrameCount,\n    totalVideoFrames: video.webkitDecodedFrameCount,\n    creationTime: performance.now()\n  };\n}\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  if (arr.length < 2)\n    return arr[0];\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nfunction sleep() {\n  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  return new Promise(function(resolve) {\n    return setTimeout(resolve, t);\n  });\n}\nexport { concatUint8Array, getVideoPlaybackQuality, isMediaPlaying, sleep };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"../event.js\";\nvar SeiService = /* @__PURE__ */ function() {\n  function SeiService2(emitter) {\n    var _this = this;\n    _classCallCheck(this, SeiService2);\n    _defineProperty(this, \"_seiSet\", /* @__PURE__ */ new Set());\n    this.emitter = emitter;\n    emitter.on(EVENT.SEI, function(sei) {\n      if (sei)\n        _this._seiSet.add(sei);\n    });\n  }\n  _createClass(SeiService2, [{\n    key: \"throw\",\n    value: function _throw(currentTime, isLive) {\n      var _this2 = this;\n      if (currentTime === null || currentTime === void 0 || !this._seiSet.size)\n        return;\n      var min = currentTime - 0.2;\n      var max = currentTime + 0.2;\n      var toThrow = [];\n      this._seiSet.forEach(function(sei) {\n        if (sei.time >= min && sei.time <= max) {\n          toThrow.push(sei);\n        }\n      });\n      toThrow.forEach(function(sei) {\n        _this2._seiSet.delete(sei);\n        _this2.emitter.emit(EVENT.SEI_IN_TIME, sei);\n      });\n      if (!isLive)\n        return;\n      this._seiSet.forEach(function(s) {\n        if (s.time < currentTime - 5) {\n          _this2._seiSet.delete(s);\n        }\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._seiSet.clear();\n    }\n  }]);\n  return SeiService2;\n}();\nexport { SeiService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"../buffer.js\";\nvar GapService = /* @__PURE__ */ function() {\n  function GapService2() {\n    _classCallCheck(this, GapService2);\n    _defineProperty(this, \"_prevCurrentTime\", 0);\n  }\n  _createClass(GapService2, [{\n    key: \"do\",\n    value: function _do(media) {\n      var maxJumpDistance = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n      var isLive = arguments.length > 2 ? arguments[2] : void 0;\n      var seekThreshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;\n      if (!media)\n        return;\n      var currentTime = media.currentTime;\n      var jumpTo = 0;\n      if (this._prevCurrentTime === currentTime) {\n        var info = Buffer.info(Buffer.get(media), currentTime);\n        if (!info.buffers.length)\n          return;\n        if (isLive && info.nextStart || info.nextStart && info.nextStart - currentTime < maxJumpDistance) {\n          jumpTo = info.nextStart + 0.1;\n        } else if (info.end && info.end - currentTime > seekThreshold && !media.seeking) {\n          jumpTo = currentTime + 0.1;\n        }\n      }\n      this._prevCurrentTime = currentTime;\n      if (jumpTo && currentTime !== jumpTo) {\n        media.currentTime = jumpTo;\n      }\n    }\n  }]);\n  return GapService2;\n}();\nexport { GapService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../mse.js\";\nimport { EVENT } from \"../event.js\";\nimport \"eventemitter3\";\nimport \"../logger.js\";\nimport \"../error.js\";\nvar Stats = /* @__PURE__ */ function() {\n  function Stats2(timescale) {\n    _classCallCheck(this, Stats2);\n    _defineProperty(this, \"encodeType\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"domain\", \"\");\n    _defineProperty(this, \"fps\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"samplerate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"gop\", 0);\n    _defineProperty(this, \"_bitsAccumulateSize\", 0);\n    _defineProperty(this, \"_bitsAccumulateDuration\", 0);\n    _defineProperty(this, \"_startGopId\", -1);\n    this._timescale = timescale;\n  }\n  _createClass(Stats2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return {\n        encodeType: this.encodeType,\n        audioCodec: this.audioCodec,\n        videoCodec: this.videoCodec,\n        domain: this.domain,\n        fps: this.fps,\n        bitrate: this.bitrate,\n        width: this.width,\n        height: this.height,\n        samplerate: this.samplerate,\n        channelCount: this.channelCount,\n        gop: this.gop\n      };\n    }\n  }, {\n    key: \"setEncodeType\",\n    value: function setEncodeType(encode) {\n      this.encodeType = encode;\n    }\n  }, {\n    key: \"setFpsFromScriptData\",\n    value: function setFpsFromScriptData(_ref) {\n      var _data$onMetaData;\n      var data = _ref.data;\n      var fps = data === null || data === void 0 ? void 0 : (_data$onMetaData = data.onMetaData) === null || _data$onMetaData === void 0 ? void 0 : _data$onMetaData.framerate;\n      if (fps && fps > 0 && fps < 100) {\n        this.fps = fps;\n      }\n    }\n  }, {\n    key: \"setVideoMeta\",\n    value: function setVideoMeta(track) {\n      this.width = track.width;\n      this.height = track.height;\n      this.videoCodec = track.codec;\n      this.encodeType = track.codecType;\n      if (track.fpsNum && track.fpsDen) {\n        var fps = track.fpsNum / track.fpsDen;\n        if (fps > 0 && fps < 100) {\n          this.fps = fps;\n        }\n      }\n    }\n  }, {\n    key: \"setAudioMeta\",\n    value: function setAudioMeta(track) {\n      this.audioCodec = track.codec;\n      this.samplerate = track.sampleRate;\n      this.channelCount = track.channelCount;\n    }\n  }, {\n    key: \"setDomain\",\n    value: function setDomain(responseUrl) {\n      this.domain = responseUrl.split(\"/\").slice(2, 3)[0];\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(samples) {\n      var _this = this;\n      if (!this.fps || this.fps >= 100) {\n        if (samples.length) {\n          var duration = samples.reduce(function(a, b) {\n            return a += b.duration;\n          }, 0) / samples.length;\n          this.fps = Math.round(this._timescale / duration);\n        }\n      }\n      samples.forEach(function(sample) {\n        if (_this._startGopId === -1) {\n          _this._startGopId = sample.gopId;\n        }\n        if (sample.gopId === _this._startGopId) {\n          _this.gop++;\n        }\n        _this._bitsAccumulateDuration += sample.duration / (_this._timescale / 1e3);\n        _this._bitsAccumulateSize += sample.units.reduce(function(a, c) {\n          return a += c.length;\n        }, 0);\n        if (_this._bitsAccumulateDuration >= 1e3) {\n          _this.bitrate = _this._bitsAccumulateSize * 8;\n          _this._bitsAccumulateDuration = 0;\n          _this._bitsAccumulateSize = 0;\n        }\n      });\n    }\n  }]);\n  return Stats2;\n}();\nvar MediaStatsService = /* @__PURE__ */ function() {\n  function MediaStatsService2(core) {\n    var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;\n    _classCallCheck(this, MediaStatsService2);\n    _defineProperty(this, \"_core\", null);\n    _defineProperty(this, \"_samples\", []);\n    this._core = core;\n    this._timescale = timescale;\n    this._stats = new Stats(timescale);\n    this._bindEvents();\n  }\n  _createClass(MediaStatsService2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      var _this$_core, _this$_core2, _this$_core2$speedInf, _this$_core3, _this$_core3$speedInf, _this$_core4, _this$_core4$bufferIn;\n      var _ref2 = ((_this$_core = this._core) === null || _this$_core === void 0 ? void 0 : _this$_core.media) || {}, _ref2$currentTime = _ref2.currentTime, currentTime = _ref2$currentTime === void 0 ? 0 : _ref2$currentTime, _ref2$decodeFps = _ref2.decodeFps, decodeFps = _ref2$decodeFps === void 0 ? 0 : _ref2$decodeFps;\n      return _objectSpread2(_objectSpread2({}, this._stats.getStats()), {}, {\n        downloadSpeed: ((_this$_core2 = this._core) === null || _this$_core2 === void 0 ? void 0 : (_this$_core2$speedInf = _this$_core2.speedInfo) === null || _this$_core2$speedInf === void 0 ? void 0 : _this$_core2$speedInf.call(_this$_core2).speed) || 0,\n        avgSpeed: ((_this$_core3 = this._core) === null || _this$_core3 === void 0 ? void 0 : (_this$_core3$speedInf = _this$_core3.speedInfo) === null || _this$_core3$speedInf === void 0 ? void 0 : _this$_core3$speedInf.call(_this$_core3).avgSpeed) || 0,\n        currentTime,\n        bufferEnd: ((_this$_core4 = this._core) === null || _this$_core4 === void 0 ? void 0 : (_this$_core4$bufferIn = _this$_core4.bufferInfo()) === null || _this$_core4$bufferIn === void 0 ? void 0 : _this$_core4$bufferIn.remaining) || 0,\n        decodeFps\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n      this._core.on(EVENT.DEMUXED_TRACK, function(_ref3) {\n        var videoTrack = _ref3.videoTrack;\n        return _this2._stats.updateBitrate(videoTrack.samples);\n      });\n      this._core.on(EVENT.FLV_SCRIPT_DATA, function(data) {\n        _this2._stats.setFpsFromScriptData(data);\n      });\n      this._core.on(EVENT.METADATA_PARSED, function(e) {\n        if (e.type === \"video\") {\n          _this2._stats.setVideoMeta(e.track);\n        } else {\n          _this2._stats.setAudioMeta(e.track);\n        }\n      });\n      this._core.on(EVENT.TTFB, function(e) {\n        _this2._stats.setDomain(e.responseUrl);\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._samples = [];\n      this._stats = new Stats(this._timescale);\n    }\n  }]);\n  return MediaStatsService2;\n}();\nexport { MediaStatsService };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _unsupportedIterableToArray as unsupportedIterableToArray };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n  }\n  _createClass(Logger2, [{\n    key: \"warn\",\n    value: function warn() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).warn.apply(_console, [this._prefix].concat(args));\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","var TrackType = {\n  VIDEO: \"video\",\n  AUDIO: \"audio\",\n  METADATA: \"metadata\"\n};\nvar VideoCodecType = {\n  AVC: \"avc\",\n  HEVC: \"hevc\"\n};\nvar AudioCodecType = {\n  AAC: \"aac\",\n  G711PCMA: \"g7110a\",\n  G711PCMU: \"g7110m\"\n};\nvar WarningType = {\n  LARGE_AV_SHIFT: \"LARGE_AV_SHIFT\",\n  LARGE_VIDEO_GAP: \"LARGE_VIDEO_GAP\",\n  LARGE_VIDEO_GAP_BETWEEN_CHUNK: \"LARGE_VIDEO_GAP_BETWEEN_CHUNK\",\n  LARGE_AUDIO_GAP: \"LARGE_AUDIO_GAP\",\n  AUDIO_FILLED: \"AUDIO_FILLED\",\n  AUDIO_DROPPED: \"AUDIO_DROPPED\"\n};\nexport { AudioCodecType, TrackType, VideoCodecType, WarningType };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar AudioSample = /* @__PURE__ */ _createClass(\n  function AudioSample2(pts, data, duration, sampleOffset) {\n    _classCallCheck(this, AudioSample2);\n    _defineProperty(this, \"duration\", 1024);\n    _defineProperty(this, \"flag\", {\n      dependsOn: 2,\n      isNonSyncSample: 0\n    });\n    _defineProperty(this, \"keyframe\", true);\n    this.originPts = this.pts = this.dts = pts;\n    this.data = data;\n    this.size = data.byteLength;\n    this.sampleOffset = sampleOffset;\n    if (duration)\n      this.duration = duration;\n  }\n);\nexport { AudioSample };\n","var isBrowser = typeof window !== \"undefined\";\nvar ua = isBrowser && navigator.userAgent.toLocaleLowerCase();\nvar isSafari = isBrowser && /^((?!chrome|android).)*safari/.test(ua);\nvar isFirefox = isBrowser && ua.includes(\"firefox\");\nvar isAndroid = isBrowser && ua.includes(\"android\");\nexport { isAndroid, isBrowser, isFirefox, isSafari };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../utils/logger.js\";\nimport { isFirefox, isAndroid } from \"../utils/env.js\";\nvar AAC = /* @__PURE__ */ function() {\n  function AAC2() {\n    _classCallCheck(this, AAC2);\n  }\n  _createClass(AAC2, null, [{\n    key: \"getRateIndexByRate\",\n    value: function getRateIndexByRate(rate) {\n      return AAC2.FREQ.indexOf(rate);\n    }\n  }, {\n    key: \"parseADTS\",\n    value: function parseADTS(data, pts) {\n      var len = data.length;\n      var i = 0;\n      while (i + 2 < len) {\n        if (data[i] === 255 && (data[i + 1] & 246) === 240) {\n          break;\n        }\n        i++;\n      }\n      if (i >= len)\n        return;\n      var skip = i;\n      var frames = [];\n      var samplingFrequencyIndex = (data[i + 2] & 60) >>> 2;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        throw new Error(\"Invalid sampling index: \".concat(samplingFrequencyIndex));\n      var objectType = ((data[i + 2] & 192) >>> 6) + 1;\n      var channelCount = (data[i + 2] & 1) << 2 | (data[i + 3] & 192) >>> 6;\n      var _AAC$_getConfig = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig.config, codec = _AAC$_getConfig.codec;\n      var protectionSkipBytes;\n      var frameLength;\n      var frameIndex = 0;\n      var duration = AAC2.getFrameDuration(sampleRate);\n      while (i + 7 < len) {\n        if (data[i] !== 255 || (data[i + 1] & 246) !== 240) {\n          i++;\n          continue;\n        }\n        frameLength = (data[i + 3] & 3) << 11 | data[i + 4] << 3 | (data[i + 5] & 224) >> 5;\n        if (len - i < frameLength)\n          break;\n        protectionSkipBytes = (~data[i + 1] & 1) * 2;\n        frames.push({\n          pts: pts + frameIndex * duration,\n          data: data.subarray(i + 7 + protectionSkipBytes, i + frameLength)\n        });\n        frameIndex++;\n        i += frameLength;\n      }\n      return {\n        skip,\n        remaining: i >= len ? void 0 : data.subarray(i),\n        frames,\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        codec,\n        config,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"parseAudioSpecificConfig\",\n    value: function parseAudioSpecificConfig(data) {\n      if (!data.length)\n        return;\n      var objectType = data[0] >>> 3;\n      var samplingFrequencyIndex = (data[0] & 7) << 1 | data[1] >>> 7;\n      var channelCount = (data[1] & 120) >>> 3;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        return;\n      var _AAC$_getConfig2 = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig2.config, codec = _AAC$_getConfig2.codec;\n      return {\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        config,\n        codec,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getFrameDuration\",\n    value: function getFrameDuration(rate) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      return 1024 * timescale / rate;\n    }\n  }, {\n    key: \"_getConfig\",\n    value: function _getConfig(samplingIndex, channelCount, originObjectType) {\n      var config = [];\n      var objectType;\n      var extensionSamplingIndex;\n      if (isFirefox) {\n        if (samplingIndex >= 6) {\n          objectType = 5;\n          extensionSamplingIndex = samplingIndex - 3;\n        } else {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      } else if (isAndroid) {\n        objectType = 2;\n        extensionSamplingIndex = samplingIndex;\n      } else {\n        objectType = originObjectType === 2 || originObjectType === 5 ? originObjectType : 5;\n        extensionSamplingIndex = samplingIndex;\n        if (samplingIndex >= 6) {\n          extensionSamplingIndex = samplingIndex - 3;\n        } else if (channelCount === 1) {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      }\n      config[0] = objectType << 3;\n      config[0] |= (samplingIndex & 14) >> 1;\n      config[1] = (samplingIndex & 1) << 7;\n      config[1] |= channelCount << 3;\n      if (objectType === 5) {\n        config[1] |= (extensionSamplingIndex & 14) >> 1;\n        config[2] = (extensionSamplingIndex & 1) << 7;\n        config[2] |= 2 << 2;\n        config[3] = 0;\n      }\n      return {\n        config,\n        codec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getSilentFrame\",\n    value: function getSilentFrame(codec, channelCount) {\n      switch (codec) {\n        case \"mp4a.40.2\":\n          if (channelCount === 1) {\n            return new Uint8Array([0, 200, 0, 128, 35, 128]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);\n          }\n          if (channelCount === 4) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);\n          }\n          if (channelCount === 5) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);\n          }\n          if (channelCount === 6) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);\n          }\n          break;\n        default:\n          if (channelCount === 1) {\n            return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          break;\n      }\n    }\n  }]);\n  return AAC2;\n}();\n_defineProperty(AAC, \"FREQ\", [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]);\nexport { AAC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType } from \"../model/types.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport \"../utils/logger.js\";\nimport { isSafari } from \"../utils/env.js\";\nimport { AAC } from \"../codec/aac.js\";\nvar LARGE_AV_FIRST_FRAME_GAP = 9e4 / 2;\nvar AUDIO_GAP_OVERLAP_THRESHOLD_COUNT = 3;\nvar MAX_SILENT_FRAME_DURATION = 9e4;\nvar AUDIO_EXCETION_LOG_EMIT_DURATION = 5 * 9e4;\nvar MAX_VIDEO_FRAME_DURATION = 9e4;\nvar MAX_DTS_DELTA_WITH_NEXT_CHUNK = 9e4 / 2;\nvar TsFixer = /* @__PURE__ */ function() {\n  function TsFixer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, TsFixer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    this.metadataTrack = metadataTrack;\n    this._baseDts = -1;\n    this._baseDtsInited = false;\n    this._audioNextPts = void 0;\n    this._videoNextDts = void 0;\n    this._audioTimestampBreak = false;\n    this._videoTimestampBreak = false;\n    this._lastAudioExceptionGapDot = 0;\n    this._lastAudioExceptionOverlapDot = 0;\n    this._lastAudioExceptionLargeGapDot = 0;\n  }\n  _createClass(TsFixer2, [{\n    key: \"fix\",\n    value: function fix() {\n      var _this = this;\n      var startTime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      startTime = Math.round(startTime * 9e4);\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var vSamples = videoTrack.samples;\n      var aSamples = audioTrack.samples;\n      if (!vSamples.length && !aSamples.length)\n        return;\n      var firstVideoSample = vSamples[0];\n      var firstAudioSample = aSamples[0];\n      var vaDelta = 0;\n      if (vSamples.length && aSamples.length) {\n        vaDelta = firstVideoSample.dts - firstAudioSample.pts;\n      }\n      if (!this._baseDtsInited) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n      }\n      if (discontinuity) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        this._baseDts -= startTime;\n      }\n      if (!contiguous) {\n        this._videoNextDts = vaDelta > 0 ? startTime + vaDelta : startTime;\n        this._audioNextPts = vaDelta > 0 ? startTime : startTime - vaDelta;\n        var vDeltaToNextDts = firstVideoSample ? firstVideoSample.dts - this._baseDts - this._videoNextDts : 0;\n        var aDeltaToNextDts = firstAudioSample ? firstAudioSample.pts - this._baseDts - this._audioNextPts : 0;\n        if (Math.abs(vDeltaToNextDts || aDeltaToNextDts) > MAX_VIDEO_FRAME_DURATION) {\n          this._calculateBaseDts(this.audioTrack, this.videoTrack);\n          this._baseDts -= startTime;\n        }\n      }\n      this._resetBaseDtsWhenStreamBreaked();\n      this._fixAudio(audioTrack);\n      this._fixVideo(videoTrack);\n      if (this.metadataTrack.exist()) {\n        var timescale = this.metadataTrack.timescale;\n        this.metadataTrack.seiSamples.forEach(function(s) {\n          s.pts = s.originPts - _this._baseDts;\n          s.time = Math.max(0, s.pts) / timescale;\n        });\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].dts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts * audioTrack.timescale / 9e4;\n      }\n    }\n  }, {\n    key: \"_fixVideo\",\n    value: function _fixVideo(videoTrack) {\n      var _this2 = this;\n      var samples = videoTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.dts -= _this2._baseDts;\n        x.pts -= _this2._baseDts;\n      });\n      if (this._videoNextDts === void 0) {\n        var samp0 = samples[0];\n        this._videoNextDts = samp0.dts;\n      }\n      var len = samples.length;\n      var sampleDuration = 0;\n      var firstSample = samples[0];\n      var nextSample = samples[1];\n      var vDelta = this._videoNextDts - firstSample.dts;\n      if (Math.abs(vDelta) > MAX_DTS_DELTA_WITH_NEXT_CHUNK) {\n        var _samples$;\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK,\n          nextDts: this._videoNextDts / 90,\n          firstSampleDts: firstSample.dts / 90,\n          nextSampleDts: (((_samples$ = samples[1]) === null || _samples$ === void 0 ? void 0 : _samples$.dts) || 0) / 90,\n          sampleDuration: vDelta / 90\n        });\n        firstSample.dts += vDelta;\n        firstSample.pts += vDelta;\n        if (nextSample && Math.abs(nextSample.dts - firstSample.dts) > MAX_VIDEO_FRAME_DURATION) {\n          this._videoTimestampBreak = true;\n          samples.forEach(function(x, i2) {\n            if (i2 === 0)\n              return;\n            x.dts += vDelta;\n            x.pts += vDelta;\n          });\n        } else {\n          for (var i = 1; i < len - 1; i++) {\n            var _samples$i;\n            var dts = (_samples$i = samples[i]) === null || _samples$i === void 0 ? void 0 : _samples$i.dts;\n            var prevDts = samples[i - 1].dts;\n            if (dts && dts - prevDts < 0) {\n              samples[i].dts += vDelta;\n              samples[i].pts += vDelta;\n            }\n          }\n        }\n      }\n      var refSampleDurationInt;\n      if (videoTrack.fpsNum && videoTrack.fpsDen) {\n        refSampleDurationInt = videoTrack.timescale * (videoTrack.fpsDen / videoTrack.fpsNum);\n      }\n      if (refSampleDurationInt < 90 * 10) {\n        refSampleDurationInt = 0;\n      }\n      if (!refSampleDurationInt) {\n        var first = videoTrack.samples[0];\n        var second = videoTrack.samples[1];\n        refSampleDurationInt = len === 1 ? 9e3 : Math.floor(second.dts - first.dts);\n      }\n      for (var _i = 0; _i < len; _i++) {\n        var _dts = samples[_i].dts;\n        var _nextSample = samples[_i + 1];\n        if (_i < len - 1) {\n          sampleDuration = _nextSample.dts - _dts;\n        } else if (samples[_i - 1]) {\n          sampleDuration = Math.min(_dts - samples[_i - 1].dts, refSampleDurationInt);\n        } else {\n          sampleDuration = refSampleDurationInt;\n        }\n        if (sampleDuration > MAX_VIDEO_FRAME_DURATION || sampleDuration < 0) {\n          this._videoTimestampBreak = true;\n          sampleDuration = this._audioTimestampBreak ? refSampleDurationInt : Math.max(sampleDuration, 30 * 90);\n          var expectFragEnd = this._audioNextPts || 0;\n          if (_nextSample && _nextSample.dts > expectFragEnd) {\n            sampleDuration = refSampleDurationInt;\n          }\n          videoTrack.warnings.push({\n            type: WarningType.LARGE_VIDEO_GAP,\n            time: _dts / videoTrack.timescale,\n            dts: _dts,\n            originDts: samples[_i].originDts,\n            nextDts: this._videoNextDts,\n            sampleDuration,\n            refSampleDuration: refSampleDurationInt\n          });\n        }\n        samples[_i].duration = sampleDuration;\n        this._videoNextDts += sampleDuration;\n      }\n    }\n  }, {\n    key: \"_fixAudio\",\n    value: function _fixAudio(audioTrack) {\n      var _this3 = this;\n      var samples = audioTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.pts -= _this3._baseDts;\n        x.dts = x.pts;\n      });\n      this._doFixAudioInternal(audioTrack, samples, 9e4);\n    }\n  }, {\n    key: \"_calculateBaseDts\",\n    value: function _calculateBaseDts(audioTrack, videoTrack) {\n      var audioSamps = audioTrack.samples;\n      var videoSamps = videoTrack.samples;\n      if (!audioSamps.length && !videoSamps.length) {\n        return false;\n      }\n      var audioBasePts = Infinity;\n      var videoBaseDts = Infinity;\n      if (audioSamps.length) {\n        audioTrack.baseDts = audioBasePts = audioSamps[0].pts;\n      }\n      if (videoSamps.length) {\n        videoTrack.baseDts = videoBaseDts = videoSamps[0].dts;\n      }\n      this._baseDts = Math.min(audioBasePts, videoBaseDts);\n      var delta = videoBaseDts - audioBasePts;\n      if (Number.isFinite(delta) && Math.abs(delta) > LARGE_AV_FIRST_FRAME_GAP) {\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_AV_SHIFT,\n          videoBaseDts,\n          audioBasePts,\n          baseDts: this._baseDts,\n          delta\n        });\n      }\n      this._baseDtsInited = true;\n      return true;\n    }\n  }, {\n    key: \"_resetBaseDtsWhenStreamBreaked\",\n    value: function _resetBaseDtsWhenStreamBreaked() {\n      if (this._baseDtsInited && this._videoTimestampBreak && this._audioTimestampBreak) {\n        var calc = this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        if (!calc)\n          return;\n        this._baseDts -= Math.min(this._audioNextPts, this._videoNextDts);\n        this._audioLastSample = null;\n        this._videoLastSample = null;\n        this._videoTimestampBreak = false;\n        this._audioTimestampBreak = false;\n      }\n    }\n  }, {\n    key: \"_doFixAudioInternal\",\n    value: function _doFixAudioInternal(audioTrack, samples, timescale) {\n      if (!audioTrack.sampleDuration)\n        audioTrack.sampleDuration = AAC.getFrameDuration(audioTrack.timescale, timescale);\n      var refSampleDuration = audioTrack.sampleDuration;\n      if (this._audioNextPts === void 0) {\n        var samp0 = samples[0];\n        this._audioNextPts = samp0.pts;\n      }\n      for (var i = 0; i < samples.length; i++) {\n        var nextPts = this._audioNextPts;\n        var sample = samples[i];\n        var delta = sample.pts - nextPts;\n        if (!this._audioTimestampBreak && delta >= AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta <= MAX_SILENT_FRAME_DURATION && !isSafari) {\n          var silentFrame = AAC.getSilentFrame(audioTrack.codec, audioTrack.channelCount) || samples[0].data.subarray();\n          var count = Math.floor(delta / refSampleDuration);\n          if (Math.abs(sample.pts - this._lastAudioExceptionGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionGapDot = sample.pts;\n          }\n          audioTrack.warnings.push({\n            type: WarningType.AUDIO_FILLED,\n            pts: sample.pts / 90,\n            originPts: sample.originPts,\n            count,\n            nextPts: nextPts / 90,\n            refSampleDuration\n          });\n          for (var j = 0; j < count; j++) {\n            var silentSample = new AudioSample(Math.floor(nextPts), silentFrame);\n            silentSample.originPts = Math.floor(this._baseDts + nextPts);\n            samples.splice(i, 0, silentSample);\n            this._audioNextPts += refSampleDuration;\n            i++;\n          }\n          i--;\n        } else if (delta <= -AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta >= -1 * MAX_SILENT_FRAME_DURATION) {\n          if (Math.abs(sample.pts - this._lastAudioExceptionOverlapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionOverlapDot = sample.pts;\n            audioTrack.warnings.push({\n              type: WarningType.AUDIO_DROPPED,\n              pts: sample.pts / 90,\n              originPts: sample.originPts,\n              nextPts: nextPts / 90,\n              refSampleDuration\n            });\n          }\n          samples.splice(i, 1);\n          i--;\n        } else {\n          if (Math.abs(delta) >= MAX_SILENT_FRAME_DURATION) {\n            this._audioTimestampBreak = true;\n            if (Math.abs(sample.pts - this._lastAudioExceptionLargeGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n              this._lastAudioExceptionLargeGapDot = sample.pts;\n              audioTrack.warnings.push({\n                type: WarningType.LARGE_AUDIO_GAP,\n                time: sample.pts / 1e3,\n                pts: sample.pts / 90,\n                originPts: sample.originPts,\n                nextPts: nextPts / 90,\n                sampleDuration: delta,\n                refSampleDuration\n              });\n            }\n          }\n          sample.dts = sample.pts = nextPts;\n          this._audioNextPts += refSampleDuration;\n        }\n      }\n    }\n  }]);\n  return TsFixer2;\n}();\nexport { TsFixer };\n","export { Logger } from \"./logger.js\";\nexport { isAndroid, isBrowser, isFirefox, isSafari } from \"./env.js\";\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nvar MAX_SIZE = Math.pow(2, 32);\nfunction readBig16(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 8) + (data[i + 1] || 0);\n}\nfunction readBig24(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 16) + (data[i + 1] << 8) + (data[i + 2] || 0);\n}\nfunction readBig32(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 24 >>> 0) + (data[i + 1] << 16) + (data[i + 2] << 8) + (data[i + 3] || 0);\n}\nfunction readBig64(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return readBig32(data, i) * MAX_SIZE + readBig32(data, i + 4);\n}\nfunction getAvcCodec(codecs) {\n  var codec = \"avc1.\";\n  var h;\n  for (var i = 0; i < 3; i++) {\n    h = codecs[i].toString(16);\n    if (h.length < 2)\n      h = \"0\".concat(h);\n    codec += h;\n  }\n  return codec;\n}\nfunction formatIV(arr) {\n  var iv = \"\";\n  arr.forEach(function(value) {\n    iv += bufferToString(value);\n  });\n  if (iv.length <= 32) {\n    var len = 32 - iv.length;\n    for (var i = 0; i < len; i++) {\n      iv += \"0\";\n    }\n  }\n  return iv;\n}\nfunction parse(a) {\n  if (!Array.isArray(a)) {\n    var arr = [];\n    var value = \"\";\n    for (var i = 0; i < a.length; i++) {\n      if (i % 2) {\n        value = a[i - 1] + a[i];\n        arr.push(parseInt(value, 16));\n        value = \"\";\n      }\n    }\n    return arr;\n  }\n  return a.map(function(item) {\n    return parseInt(item, 16);\n  });\n}\nfunction bufferToString(value) {\n  return (\"0\" + Number(value).toString(16)).slice(-2).toUpperCase();\n}\nexport { MAX_SIZE, concatUint8Array, formatIV, getAvcCodec, parse, readBig16, readBig24, readBig32, readBig64 };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { readBig32 } from \"../utils/index.js\";\nvar NALu = /* @__PURE__ */ function() {\n  function NALu2() {\n    _classCallCheck(this, NALu2);\n  }\n  _createClass(NALu2, null, [{\n    key: \"parseAnnexB\",\n    value: function parseAnnexB(data) {\n      var len = data.length;\n      var start = 2;\n      var end = 0;\n      while (data[start] !== null && data[start] !== void 0 && data[start] !== 1) {\n        start++;\n      }\n      start++;\n      end = start + 2;\n      if (end >= len)\n        return [];\n      var units = [];\n      while (end < len) {\n        switch (data[end]) {\n          case 0:\n            if (data[end - 1] !== 0) {\n              end += 2;\n              break;\n            } else if (data[end - 2] !== 0) {\n              end++;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            do {\n              end++;\n            } while (data[end] !== 1 && end < len);\n            start = end + 1;\n            end = start + 2;\n            break;\n          case 1:\n            if (data[end - 1] !== 0 || data[end - 2] !== 0) {\n              end += 3;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            start = end + 1;\n            end = start + 2;\n            break;\n          default:\n            end += 3;\n            break;\n        }\n      }\n      if (start < len)\n        units.push(data.subarray(start));\n      return units;\n    }\n  }, {\n    key: \"parseAvcC\",\n    value: function parseAvcC(data) {\n      var size = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 4;\n      if (data.length < 4)\n        return;\n      var dataLen = data.length;\n      var units = [];\n      var offset = 0;\n      var length;\n      while (offset + size < dataLen) {\n        length = readBig32(data, offset);\n        if (size === 3)\n          length >>>= 8;\n        offset += size;\n        if (!length)\n          continue;\n        if (offset + length > dataLen) {\n          break;\n        }\n        units.push(data.subarray(offset, offset + length));\n        offset += length;\n      }\n      return units;\n    }\n  }, {\n    key: \"parseSEI\",\n    value: function parseSEI(unit, isHevc) {\n      var len = unit.length;\n      var i = isHevc ? 2 : 1;\n      var type = 0;\n      var size = 0;\n      var uuid = \"\";\n      while (unit[i] === 255) {\n        type += 255;\n        i++;\n      }\n      type += unit[i++];\n      while (unit[i] === 255) {\n        size += 255;\n        i++;\n      }\n      size += unit[i++];\n      if (type === 5 && len > i + 16) {\n        for (var j = 0; j < 16; j++) {\n          uuid += unit[i].toString(16);\n          i++;\n        }\n      }\n      return {\n        payload: unit.subarray(i, i + size),\n        type,\n        size,\n        uuid\n      };\n    }\n  }, {\n    key: \"removeEPB\",\n    value: function removeEPB(uint) {\n      var length = uint.byteLength;\n      var emulationPreventionBytesPositions = [];\n      var i = 1;\n      while (i < length - 2) {\n        if (uint[i] === 0 && uint[i + 1] === 0 && uint[i + 2] === 3) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n      if (!emulationPreventionBytesPositions.length)\n        return uint;\n      var newLength = length - emulationPreventionBytesPositions.length;\n      var newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          sourceIndex++;\n          emulationPreventionBytesPositions.shift();\n        }\n        newData[i] = uint[sourceIndex];\n      }\n      return newData;\n    }\n  }]);\n  return NALu2;\n}();\nexport { NALu };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ExpGolomb = /* @__PURE__ */ function() {\n  function ExpGolomb2(data) {\n    _classCallCheck(this, ExpGolomb2);\n    _defineProperty(this, \"_bytesAvailable\", void 0);\n    _defineProperty(this, \"_bitsAvailable\", 0);\n    _defineProperty(this, \"_word\", 0);\n    if (!data)\n      throw new Error(\"ExpGolomb data params is required\");\n    this._data = data;\n    this._bytesAvailable = data.byteLength;\n    if (this._bytesAvailable)\n      this._loadWord();\n  }\n  _createClass(ExpGolomb2, [{\n    key: \"bitsAvailable\",\n    get: function get() {\n      return this._bitsAvailable;\n    }\n  }, {\n    key: \"_loadWord\",\n    value: function _loadWord() {\n      var position = this._data.byteLength - this._bytesAvailable;\n      var availableBytes = Math.min(4, this._bytesAvailable);\n      if (availableBytes === 0)\n        throw new Error(\"No bytes available\");\n      var workingBytes = new Uint8Array(4);\n      workingBytes.set(this._data.subarray(position, position + availableBytes));\n      this._word = new DataView(workingBytes.buffer).getUint32(0);\n      this._bitsAvailable = availableBytes * 8;\n      this._bytesAvailable -= availableBytes;\n    }\n  }, {\n    key: \"skipBits\",\n    value: function skipBits(count) {\n      if (this._bitsAvailable > count) {\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      } else {\n        count -= this._bitsAvailable;\n        var skipBytes = Math.floor(count / 8);\n        count -= skipBytes * 8;\n        this._bytesAvailable -= skipBytes;\n        this._loadWord();\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      }\n    }\n  }, {\n    key: \"readBits\",\n    value: function readBits(size) {\n      if (size > 32) {\n        throw new Error(\"Cannot read more than 32 bits\");\n      }\n      var bits = Math.min(this._bitsAvailable, size);\n      var val = this._word >>> 32 - bits;\n      this._bitsAvailable -= bits;\n      if (this._bitsAvailable > 0) {\n        this._word <<= bits;\n      } else if (this._bytesAvailable > 0) {\n        this._loadWord();\n      }\n      bits = size - bits;\n      if (bits > 0 && this._bitsAvailable) {\n        return val << bits | this.readBits(bits);\n      }\n      return val;\n    }\n  }, {\n    key: \"skipLZ\",\n    value: function skipLZ() {\n      var leadingZeroCount;\n      for (leadingZeroCount = 0; leadingZeroCount < this._bitsAvailable; ++leadingZeroCount) {\n        if ((this._word & 2147483648 >>> leadingZeroCount) !== 0) {\n          this._word <<= leadingZeroCount;\n          this._bitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n      this._loadWord();\n      return leadingZeroCount + this.skipLZ();\n    }\n  }, {\n    key: \"skipUEG\",\n    value: function skipUEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n  }, {\n    key: \"readUEG\",\n    value: function readUEG() {\n      var clz = this.skipLZ();\n      return this.readBits(clz + 1) - 1;\n    }\n  }, {\n    key: \"readEG\",\n    value: function readEG() {\n      var val = this.readUEG();\n      if (1 & val) {\n        return 1 + val >>> 1;\n      }\n      return -1 * (val >>> 1);\n    }\n  }, {\n    key: \"readBool\",\n    value: function readBool() {\n      return this.readBits(1) === 1;\n    }\n  }, {\n    key: \"readUByte\",\n    value: function readUByte() {\n      return this.readBits(8);\n    }\n  }, {\n    key: \"skipScalingList\",\n    value: function skipScalingList(count) {\n      var lastScale = 8;\n      var nextScale = 8;\n      var deltaScale;\n      for (var j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = this.readEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n  }]);\n  return ExpGolomb2;\n}();\nexport { ExpGolomb };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { getAvcCodec } from \"../utils/index.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nvar AVC = /* @__PURE__ */ function() {\n  function AVC2() {\n    _classCallCheck(this, AVC2);\n  }\n  _createClass(AVC2, null, [{\n    key: \"parseAVCDecoderConfigurationRecord\",\n    value: function parseAVCDecoderConfigurationRecord(data) {\n      if (data.length < 7)\n        return;\n      var nalUnitSize = (data[4] & 3) + 1;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var offset = 6;\n      var spsCount = data[5] & 31;\n      var spsSize;\n      for (var i = 0; i < spsCount; i++) {\n        spsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!spsSize)\n          continue;\n        var sps = data.subarray(offset, offset + spsSize);\n        offset += spsSize;\n        spsArr.push(sps);\n        if (!spsParsed) {\n          spsParsed = AVC2.parseSPS(NALu.removeEPB(sps));\n        }\n      }\n      var ppsCount = data[offset];\n      offset++;\n      var ppsSize;\n      for (var _i = 0; _i < ppsCount; _i++) {\n        ppsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!ppsSize)\n          continue;\n        ppsArr.push(data.subarray(offset, offset + ppsSize));\n        offset += ppsSize;\n      }\n      return {\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      var profileIdc = eg.readUByte();\n      var profileCompatibility = eg.readUByte();\n      var levelIdc = eg.readUByte();\n      eg.skipUEG();\n      var chromaFormat = 420;\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128 || profileIdc === 138 || profileIdc === 144) {\n        var chromaFormatIdc = eg.readUEG();\n        if (chromaFormatIdc <= 3)\n          chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n        if (chromaFormatIdc === 3)\n          eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        eg.skipBits(1);\n        if (eg.readBool()) {\n          var scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n          for (var i = 0; i < scalingListCount; i++) {\n            if (eg.readBool()) {\n              if (i < 6) {\n                eg.skipScalingList(16);\n              } else {\n                eg.skipScalingList(64);\n              }\n            }\n          }\n        }\n      }\n      eg.skipUEG();\n      var picOrderCntType = eg.readUEG();\n      if (picOrderCntType === 0) {\n        eg.readUEG();\n      } else if (picOrderCntType === 1) {\n        eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        var numRefFramesInPicOrderCntCycle = eg.readUEG();\n        for (var _i2 = 0; _i2 < numRefFramesInPicOrderCntCycle; _i2++) {\n          eg.skipUEG();\n        }\n      }\n      eg.skipUEG();\n      eg.skipBits(1);\n      var picWidthInMbsMinus1 = eg.readUEG();\n      var picHeightInMapUnitsMinus1 = eg.readUEG();\n      var frameMbsOnlyFlag = eg.readBits(1);\n      if (frameMbsOnlyFlag === 0)\n        eg.skipBits(1);\n      eg.skipBits(1);\n      var frameCropLeftOffset = 0;\n      var frameCropRightOffset = 0;\n      var frameCropTopOffset = 0;\n      var frameCropBottomOffset = 0;\n      if (eg.readBool()) {\n        frameCropLeftOffset = eg.readUEG();\n        frameCropRightOffset = eg.readUEG();\n        frameCropTopOffset = eg.readUEG();\n        frameCropBottomOffset = eg.readUEG();\n      }\n      var sarRatio;\n      var fixedFrame;\n      var fpsNum;\n      var fpsDen;\n      var fps;\n      if (eg.readBool()) {\n        if (eg.readBool()) {\n          var aspectRatioIdc = eg.readUByte();\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];\n              break;\n            case 2:\n              sarRatio = [12, 11];\n              break;\n            case 3:\n              sarRatio = [10, 11];\n              break;\n            case 4:\n              sarRatio = [16, 11];\n              break;\n            case 5:\n              sarRatio = [40, 33];\n              break;\n            case 6:\n              sarRatio = [24, 11];\n              break;\n            case 7:\n              sarRatio = [20, 11];\n              break;\n            case 8:\n              sarRatio = [32, 11];\n              break;\n            case 9:\n              sarRatio = [80, 33];\n              break;\n            case 10:\n              sarRatio = [18, 11];\n              break;\n            case 11:\n              sarRatio = [15, 11];\n              break;\n            case 12:\n              sarRatio = [64, 33];\n              break;\n            case 13:\n              sarRatio = [160, 99];\n              break;\n            case 14:\n              sarRatio = [4, 3];\n              break;\n            case 15:\n              sarRatio = [3, 2];\n              break;\n            case 16:\n              sarRatio = [2, 1];\n              break;\n            case 255: {\n              sarRatio = [eg.readUByte() << 8 | eg.readUByte(), eg.readUByte() << 8 | eg.readUByte()];\n              break;\n            }\n          }\n        }\n        if (eg.readBool())\n          eg.readBool();\n        if (eg.readBool()) {\n          eg.readBits(4);\n          if (eg.readBool())\n            eg.readBits(24);\n        }\n        if (eg.readBool()) {\n          eg.readUEG();\n          eg.readUEG();\n        }\n        if (eg.readBool()) {\n          var numUnitsInTick = eg.readBits(32);\n          var timeScale = eg.readBits(32);\n          fixedFrame = eg.readBool();\n          fpsNum = timeScale;\n          fpsDen = numUnitsInTick * 2;\n          fps = fpsNum / fpsDen;\n        }\n      }\n      return {\n        codec: getAvcCodec(unit.subarray(1, 4)),\n        profileIdc,\n        profileCompatibility,\n        levelIdc,\n        chromaFormat,\n        width: Math.ceil((picWidthInMbsMinus1 + 1) * 16 - 2 * (frameCropLeftOffset + frameCropRightOffset)),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset),\n        sarRatio,\n        fpsNum,\n        fpsDen,\n        fps,\n        fixedFrame\n      };\n    }\n  }]);\n  return AVC2;\n}();\nexport { AVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nimport \"../utils/logger.js\";\nimport \"../utils/env.js\";\nvar HEVC = /* @__PURE__ */ function() {\n  function HEVC2() {\n    _classCallCheck(this, HEVC2);\n  }\n  _createClass(HEVC2, null, [{\n    key: \"parseHEVCDecoderConfigurationRecord\",\n    value: function parseHEVCDecoderConfigurationRecord(data) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (data.length < 23)\n        return;\n      hvcC = hvcC || {};\n      var nalUnitSize = (data[21] & 3) + 1;\n      var vpsParsed;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var vpsArr = [];\n      var offset = 23;\n      var numOfArrays = data[22];\n      var nalUnitType;\n      var numNalus;\n      var nalSize;\n      for (var i = 0; i < numOfArrays; i++) {\n        nalUnitType = data[offset] & 63;\n        numNalus = data[offset + 1] << 8 | data[offset + 2];\n        offset += 3;\n        for (var j = 0; j < numNalus; j++) {\n          nalSize = data[offset] << 8 | data[offset + 1];\n          offset += 2;\n          if (!nalSize)\n            continue;\n          switch (nalUnitType) {\n            case 32:\n              {\n                var vps = data.subarray(offset, offset + nalSize);\n                if (!vpsParsed)\n                  vpsParsed = HEVC2.parseVPS(NALu.removeEPB(vps), hvcC);\n                vpsArr.push(vps);\n              }\n              break;\n            case 33:\n              {\n                var sps = data.subarray(offset, offset + nalSize);\n                if (!spsParsed)\n                  spsParsed = HEVC2.parseSPS(NALu.removeEPB(sps), hvcC);\n                spsArr.push(sps);\n              }\n              break;\n            case 34:\n              ppsArr.push(data.subarray(offset, offset + nalSize));\n              break;\n          }\n          offset += nalSize;\n        }\n      }\n      return {\n        hvcC,\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        vpsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseVPS\",\n    value: function parseVPS(unit, hvcC) {\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(12);\n      var vpsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(hvcC.numTemporalLayers || 0, vpsMaxSubLayersMinus1 + 1);\n      eg.readBits(17);\n      HEVC2._parseProfileTierLevel(eg, vpsMaxSubLayersMinus1, hvcC);\n      return hvcC;\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(4);\n      var spsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(spsMaxSubLayersMinus1 + 1, hvcC.numTemporalLayers || 0);\n      hvcC.temporalIdNested = eg.readBits(1);\n      HEVC2._parseProfileTierLevel(eg, spsMaxSubLayersMinus1, hvcC);\n      eg.readUEG();\n      var chromaFormatIdc = hvcC.chromaFormatIdc = eg.readUEG();\n      var chromaFormat = 420;\n      if (chromaFormatIdc <= 3)\n        chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n      var separateColourPlaneFlag = 0;\n      if (chromaFormatIdc === 3) {\n        separateColourPlaneFlag = eg.readBits(1);\n      }\n      var width = eg.readUEG();\n      var height = eg.readUEG();\n      var conformanceWindowFlag = eg.readBits(1);\n      var confWinLeftOffset;\n      var confWinRightOffset;\n      var confWinTopOffset;\n      var confWinBottomOffset;\n      if (conformanceWindowFlag === 1) {\n        confWinLeftOffset = eg.readUEG();\n        confWinRightOffset = eg.readUEG();\n        confWinTopOffset = eg.readUEG();\n        confWinBottomOffset = eg.readUEG();\n      }\n      hvcC.bitDepthLumaMinus8 = eg.readUEG();\n      hvcC.bitDepthChromaMinus8 = eg.readUEG();\n      if (conformanceWindowFlag === 1) {\n        var subWidthC = (chromaFormatIdc === 1 || chromaFormatIdc === 2) && separateColourPlaneFlag === 0 ? 2 : 1;\n        var subHeightC = chromaFormatIdc === 1 && separateColourPlaneFlag === 0 ? 2 : 1;\n        width -= subWidthC * (confWinRightOffset + confWinLeftOffset);\n        height -= subHeightC * (confWinBottomOffset + confWinTopOffset);\n      }\n      return {\n        codec: \"hev1.1.6.L93.B0\",\n        width,\n        height,\n        chromaFormat,\n        hvcC\n      };\n    }\n  }, {\n    key: \"_parseProfileTierLevel\",\n    value: function _parseProfileTierLevel(eg, maxSubLayersMinus1, hvcC) {\n      var generalTierFlag = hvcC.generalTierFlag || 0;\n      hvcC.generalProfileSpace = eg.readBits(2);\n      hvcC.generalTierFlag = Math.max(eg.readBits(1), generalTierFlag);\n      hvcC.generalProfileIdc = Math.max(eg.readBits(5), hvcC.generalProfileIdc || 0);\n      hvcC.generalProfileCompatibilityFlags = eg.readBits(32);\n      hvcC.generalConstraintIndicatorFlags = [eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8)];\n      var generalLevelIdc = eg.readBits(8);\n      if (generalTierFlag < hvcC.generalTierFlag) {\n        hvcC.generalLevelIdc = generalLevelIdc;\n      } else {\n        hvcC.generalLevelIdc = Math.max(generalLevelIdc, hvcC.generalLevelIdc || 0);\n      }\n      var subLayerProfilePresentFlag = [];\n      var subLayerLevelPresentFlag = [];\n      if (maxSubLayersMinus1 > eg.bitsAvailable) {\n        throw new Error(\"maxSubLayersMinus inavlid size \".concat(maxSubLayersMinus1));\n      }\n      for (var j = 0; j < maxSubLayersMinus1; j++) {\n        subLayerProfilePresentFlag[j] = eg.readBits(1);\n        subLayerLevelPresentFlag[j] = eg.readBits(1);\n      }\n      if (maxSubLayersMinus1 > 0) {\n        eg.readBits((8 - maxSubLayersMinus1) * 2);\n      }\n      for (var i = 0; i < maxSubLayersMinus1; i++) {\n        if (subLayerProfilePresentFlag[i] !== 0) {\n          eg.readBits(2);\n          eg.readBits(1);\n          eg.readBits(5);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(4);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(12);\n        }\n        if (subLayerLevelPresentFlag[i] !== 0) {\n          eg.readBits(8);\n        }\n      }\n    }\n  }]);\n  return HEVC2;\n}();\nexport { HEVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"./types.js\";\nvar VideoTrack = /* @__PURE__ */ function() {\n  function VideoTrack2() {\n    _classCallCheck(this, VideoTrack2);\n    _defineProperty(this, \"id\", 1);\n    _defineProperty(this, \"type\", TrackType.VIDEO);\n    _defineProperty(this, \"codecType\", VideoCodecType.AVC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"hvcC\", void 0);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"pps\", []);\n    _defineProperty(this, \"sps\", []);\n    _defineProperty(this, \"vps\", []);\n    _defineProperty(this, \"fpsNum\", 0);\n    _defineProperty(this, \"fpsDen\", 0);\n    _defineProperty(this, \"sarRatio\", []);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"nalUnitSize\", 4);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"isVideo\", true);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"pssh\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(VideoTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = this.width = this.height = this.fpsDen = this.fpsNum = this.duration = this.baseMediaDecodeTime = this.timescale = 0;\n      this.codec = \"\";\n      this.present = false;\n      this.pid = -1;\n      this.pps = [];\n      this.sps = [];\n      this.vps = [];\n      this.sarRatio = [];\n      this.samples = [];\n      this.warnings = [];\n      this.hvcC = null;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.pps.length && this.sps.length && this.codec);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isVideoEncryption;\n    }\n  }]);\n  return VideoTrack2;\n}();\nexport { VideoTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, AudioCodecType } from \"./types.js\";\nvar AudioTrack = /* @__PURE__ */ function() {\n  function AudioTrack2() {\n    _classCallCheck(this, AudioTrack2);\n    _defineProperty(this, \"id\", 2);\n    _defineProperty(this, \"type\", TrackType.AUDIO);\n    _defineProperty(this, \"codecType\", AudioCodecType.AAC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"sampleDuration\", 0);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"sampleSize\", 16);\n    _defineProperty(this, \"sampleRate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"objectType\", 0);\n    _defineProperty(this, \"sampleRateIndex\", 0);\n    _defineProperty(this, \"config\", []);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(AudioTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = 0;\n      this.timescale = 0;\n      this.sampleDuration = 0;\n      this.sampleRate = 0;\n      this.channelCount = 0;\n      this.baseMediaDecodeTime = 0;\n      this.present = false;\n      this.pid = -1;\n      this.codec = \"\";\n      this.samples = [];\n      this.config = [];\n      this.warnings = [];\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.sampleRate && this.channelCount && this.codec && this.codecType === AudioCodecType.AAC);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isAudioEncryption;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }]);\n  return AudioTrack2;\n}();\nexport { AudioTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar VideoSample = /* @__PURE__ */ function() {\n  function VideoSample2(pts, dts, units) {\n    _classCallCheck(this, VideoSample2);\n    _defineProperty(this, \"flag\", {});\n    _defineProperty(this, \"keyframe\", false);\n    _defineProperty(this, \"gopId\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"size\", 0);\n    _defineProperty(this, \"units\", []);\n    _defineProperty(this, \"chromaFormat\", 420);\n    this.originPts = this.pts = pts;\n    this.originDts = this.dts = dts;\n    if (units)\n      this.units = units;\n  }\n  _createClass(VideoSample2, [{\n    key: \"cts\",\n    get: function get() {\n      return this.pts - this.dts;\n    }\n  }, {\n    key: \"setToKeyframe\",\n    value: function setToKeyframe() {\n      this.keyframe = true;\n      this.flag.dependsOn = 2;\n      this.flag.isNonSyncSample = 0;\n    }\n  }]);\n  return VideoSample2;\n}();\nexport { VideoSample };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType } from \"./types.js\";\nvar Sample = /* @__PURE__ */ _createClass(\n  function Sample2(data, pts) {\n    _classCallCheck(this, Sample2);\n    _defineProperty(this, \"time\", 0);\n    this.data = data;\n    this.originPts = this.pts = pts;\n  }\n);\nvar FlvScriptSample = /* @__PURE__ */ function(_Sample) {\n  _inherits(FlvScriptSample2, _Sample);\n  var _super = _createSuper(FlvScriptSample2);\n  function FlvScriptSample2() {\n    _classCallCheck(this, FlvScriptSample2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(FlvScriptSample2);\n}(Sample);\nvar SeiSample = /* @__PURE__ */ function(_Sample2) {\n  _inherits(SeiSample2, _Sample2);\n  var _super2 = _createSuper(SeiSample2);\n  function SeiSample2() {\n    _classCallCheck(this, SeiSample2);\n    return _super2.apply(this, arguments);\n  }\n  return _createClass(SeiSample2);\n}(Sample);\nvar MetadataTrack = /* @__PURE__ */ function() {\n  function MetadataTrack2() {\n    _classCallCheck(this, MetadataTrack2);\n    _defineProperty(this, \"id\", 3);\n    _defineProperty(this, \"type\", TrackType.METADATA);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"flvScriptSamples\", []);\n    _defineProperty(this, \"seiSamples\", []);\n  }\n  _createClass(MetadataTrack2, [{\n    key: \"exist\",\n    value: function exist() {\n      return !!((this.flvScriptSamples.length || this.seiSamples.length) && this.timescale);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.timescale = 0;\n      this.flvScriptSamples = [];\n      this.seiSamples = [];\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!(this.flvScriptSamples.length || this.seiSamples.length);\n    }\n  }]);\n  return MetadataTrack2;\n}();\nexport { FlvScriptSample, MetadataTrack, SeiSample };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsFixer } from \"./fixer.js\";\nimport { AVC } from \"../codec/avc.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { HEVC } from \"../codec/hevc.js\";\nimport { NALu } from \"../codec/nalu.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack, SeiSample } from \"../model/metadata-track.js\";\nimport { VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nvar logger = new Logger(\"TsDemuxer\");\nvar TsDemuxer = /* @__PURE__ */ function() {\n  function TsDemuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, TsDemuxer2);\n    _defineProperty(this, \"_pmtId\", -1);\n    _defineProperty(this, \"_remainingPacketData\", null);\n    _defineProperty(this, \"_videoPesData\", []);\n    _defineProperty(this, \"_audioPesData\", []);\n    _defineProperty(this, \"_gopId\", 0);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n    this._fixer = new TsFixer(this.videoTrack, this.audioTrack, this.metadataTrack);\n  }\n  _createClass(TsDemuxer2, [{\n    key: \"demux\",\n    value: function demux(data) {\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      var audioTrack = this.audioTrack, videoTrack = this.videoTrack, metadataTrack = this.metadataTrack;\n      if (discontinuity) {\n        this._pmtId = -1;\n        videoTrack.reset();\n        audioTrack.reset();\n        metadataTrack.reset();\n      }\n      if (!contiguous || discontinuity) {\n        this._remainingPacketData = null;\n        this._videoPesData = [];\n        this._audioPesData = [];\n      } else {\n        videoTrack.samples = [];\n        audioTrack.samples = [];\n        metadataTrack.seiSamples = [];\n        videoTrack.warnings = [];\n        audioTrack.warnings = [];\n        if (this._remainingPacketData) {\n          data = concatUint8Array(this._remainingPacketData, data);\n          this._remainingPacketData = null;\n        }\n      }\n      var dataLen = data.length;\n      var remainingLength = dataLen % 188;\n      if (remainingLength) {\n        this._remainingPacketData = data.subarray(dataLen - remainingLength);\n        dataLen -= remainingLength;\n      }\n      var videoPid = videoTrack.pid;\n      var audioPid = audioTrack.pid;\n      for (var start = 0; start < dataLen; start += 188) {\n        if (data[start] !== 71)\n          throw new Error(\"TS packet did not start with 0x47\");\n        var payloadUnitStartIndicator = !!(data[start + 1] & 64);\n        var pid = ((data[start + 1] & 31) << 8) + data[start + 2];\n        var adaptationFiledControl = (data[start + 3] & 48) >> 4;\n        var offset = void 0;\n        if (adaptationFiledControl > 1) {\n          offset = start + 5 + data[start + 4];\n          if (offset === start + 188)\n            continue;\n        } else {\n          offset = start + 4;\n        }\n        switch (pid) {\n          case 0:\n            if (payloadUnitStartIndicator)\n              offset += data[offset] + 1;\n            this._pmtId = (data[offset + 10] & 31) << 8 | data[offset + 11];\n            break;\n          case this._pmtId:\n            {\n              if (payloadUnitStartIndicator)\n                offset += data[offset] + 1;\n              var tableEnd = offset + 3 + ((data[offset + 1] & 15) << 8 | data[offset + 2]) - 4;\n              var programInfoLength = (data[offset + 10] & 15) << 8 | data[offset + 11];\n              offset += 12 + programInfoLength;\n              while (offset < tableEnd) {\n                var esPid = (data[offset + 1] & 31) << 8 | data[offset + 2];\n                switch (data[offset]) {\n                  case 15:\n                    audioTrack.pid = audioPid = esPid;\n                    break;\n                  case 27:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.AVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  case 36:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.HEVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  default:\n                    logger.warn(\"Unsupported stream. type: \".concat(data[offset], \", pid: \").concat(esPid));\n                }\n                offset += ((data[offset + 3] & 15) << 8 | data[offset + 4]) + 5;\n              }\n            }\n            break;\n          case videoPid:\n            if (payloadUnitStartIndicator && this._videoPesData.length) {\n              this._parseVideoData();\n            }\n            this._videoPesData.push(data.subarray(offset, start + 188));\n            break;\n          case audioPid:\n            if (payloadUnitStartIndicator && this._audioPesData.length) {\n              this._parseAudioData();\n            }\n            this._audioPesData.push(data.subarray(offset, start + 188));\n            break;\n          case 17:\n          case 8191:\n            break;\n          default:\n            logger.warn(\"Unknown pid: \".concat(pid));\n        }\n      }\n      this._parseVideoData();\n      this._parseAudioData();\n      audioTrack.formatTimescale = videoTrack.formatTimescale = videoTrack.timescale = metadataTrack.timescale = 9e4;\n      audioTrack.timescale = audioTrack.sampleRate || 0;\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack\n      };\n    }\n  }, {\n    key: \"fix\",\n    value: function fix(startTime, discontinuity, contiguous) {\n      this._fixer.fix(startTime, discontinuity, contiguous);\n      return {\n        videoTrack: this.videoTrack,\n        audioTrack: this.audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demuxAndFix\",\n    value: function demuxAndFix(data, discontinuity, contiguous, startTime) {\n      this.demux(data, discontinuity, contiguous);\n      return this.fix(startTime, discontinuity, contiguous);\n    }\n  }, {\n    key: \"_parseVideoData\",\n    value: function _parseVideoData() {\n      if (!this._videoPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._videoPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse video pes\", this._videoPesData);\n        return;\n      }\n      var units = NALu.parseAnnexB(pes.data);\n      if (units) {\n        this._createVideoSample(units, pes.pts, pes.dts);\n      } else {\n        logger.warn(\"Cannot parse avc units\", pes);\n      }\n      this._videoPesData = [];\n    }\n  }, {\n    key: \"_createVideoSample\",\n    value: function _createVideoSample(units, pts, dts) {\n      var _this = this;\n      if (!units.length)\n        return;\n      var track = this.videoTrack;\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var sample = new VideoSample(pts, dts);\n      units.forEach(function(unit) {\n        var type = isHevc ? unit[0] >>> 1 & 63 : unit[0] & 31;\n        switch (type) {\n          case 5:\n          case 16:\n          case 17:\n          case 18:\n          case 19:\n          case 20:\n          case 21:\n          case 22:\n          case 23:\n            if (!isHevc && type !== 5 || isHevc && type === 5)\n              break;\n            sample.setToKeyframe();\n            _this._gopId++;\n            break;\n          case 6:\n          case 39:\n          case 40:\n            if (!isHevc && type !== 6 || isHevc && type === 6)\n              break;\n            _this.metadataTrack.seiSamples.push(new SeiSample(NALu.parseSEI(NALu.removeEPB(unit), isHevc), pts));\n            return;\n          case 32:\n            if (!isHevc)\n              break;\n            if (!track.vps.length) {\n              var hvcC = HEVC.parseVPS(NALu.removeEPB(unit), track.hvcC);\n              track.hvcC = track.hvcC || hvcC;\n              track.vps = [unit];\n            }\n            break;\n          case 7:\n          case 33:\n            if (!isHevc && type !== 7 || isHevc && type === 7)\n              break;\n            if (!track.sps.length) {\n              var data = NALu.removeEPB(unit);\n              var spsInfo = isHevc ? HEVC.parseSPS(data, track.hvcC) : AVC.parseSPS(data);\n              track.sps = [unit];\n              track.hvcC = track.hvcC || spsInfo.hvcC;\n              track.codec = spsInfo.codec;\n              track.width = spsInfo.width;\n              track.height = spsInfo.height;\n              track.sarRatio = spsInfo.sarRatio;\n              track.fpsNum = spsInfo.fpsNum;\n              track.fpsDen = spsInfo.fpsDen;\n            }\n            break;\n          case 8:\n          case 34:\n            if (!isHevc && type !== 8 || isHevc && type === 8)\n              break;\n            if (!track.pps.length)\n              track.pps = [unit];\n            break;\n          case 9:\n          case 35:\n            break;\n          case 38:\n            if (isHevc) {\n              var ffByteFound = false;\n              for (var i = 2; i < unit.byteLength; i++) {\n                if (unit[i] === 255) {\n                  ffByteFound = true;\n                  break;\n                }\n              }\n              if (!ffByteFound) {\n                return;\n              }\n            }\n            break;\n        }\n        sample.units.push(unit);\n      });\n      sample.gopId = this._gopId;\n      this._pushVideoSample(track, sample);\n    }\n  }, {\n    key: \"_pushVideoSample\",\n    value: function _pushVideoSample(track, sample) {\n      if (sample.units.length) {\n        if (sample.pts === null || sample.pts === void 0) {\n          logger.warn(\"Video sample no pts\", sample);\n          var lastSample = track.samples[track.samples.length - 1];\n          if (lastSample) {\n            sample.pts = lastSample.pts;\n            sample.dts = lastSample.dts;\n          } else {\n            logger.warn(\"Drop video sample\", sample);\n          }\n        } else {\n          track.samples.push(sample);\n        }\n      }\n    }\n  }, {\n    key: \"_parseAudioData\",\n    value: function _parseAudioData() {\n      if (!this._audioPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._audioPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse audio pes\", this._audioPesData);\n        return;\n      }\n      this._parseAacData(pes);\n      this._audioPesData = [];\n    }\n  }, {\n    key: \"_parseAacData\",\n    value: function _parseAacData(pes) {\n      var track = this.audioTrack;\n      var pts = pes.pts;\n      if (pts === null || pts === void 0) {\n        logger.warn(\"AAC pes not pts\", track);\n        if (!track.samples.length || !track.sampleRate) {\n          return;\n        }\n        pts = track.samples[track.samples.length - 1].pts + AAC.getFrameDuration(track.sampleRate);\n      }\n      var ret = AAC.parseADTS(pes.data, pts);\n      if (ret) {\n        var _track$samples;\n        track.codec = ret.codec;\n        track.channelCount = ret.channelCount;\n        track.sampleRate = ret.sampleRate;\n        track.objectType = ret.objectType;\n        track.sampleRateIndex = ret.samplingFrequencyIndex;\n        track.config = ret.config;\n        (_track$samples = track.samples).push.apply(_track$samples, _toConsumableArray(ret.frames.map(function(s) {\n          return new AudioSample(s.pts, s.data);\n        })));\n        if (ret.skip) {\n          logger.warn(\"Skip aac adts \".concat(ret.skip, \" bits\"));\n        }\n        if (ret.remaining) {\n          logger.warn(\"Remaining aac adts \".concat(ret.remaining, \" bits\"));\n        }\n      } else {\n        logger.warn(\"Cannot parse aac adts\", pes);\n      }\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      if (!data.length)\n        return false;\n      return data[0] === 71 && data[188] === 71 && data[376] === 71;\n    }\n  }, {\n    key: \"_parsePES\",\n    value: function _parsePES(data) {\n      var headerDataLen = data[8];\n      if (headerDataLen === null || headerDataLen === void 0 || data.length < headerDataLen + 9)\n        return;\n      var startPrefix = data[0] << 16 | data[1] << 8 | data[2];\n      if (startPrefix !== 1)\n        return;\n      var pesLen = (data[4] << 8) + data[5];\n      if (pesLen && pesLen > data.length - 6)\n        return;\n      var pts;\n      var dts;\n      var ptsDtsFlags = data[7];\n      if (ptsDtsFlags & 192) {\n        pts = (data[9] & 14) * 536870912 + (data[10] & 255) * 4194304 + (data[11] & 254) * 16384 + (data[12] & 255) * 128 + (data[13] & 254) / 2;\n        if (ptsDtsFlags & 64) {\n          dts = (data[14] & 14) * 536870912 + (data[15] & 255) * 4194304 + (data[16] & 254) * 16384 + (data[17] & 255) * 128 + (data[18] & 254) / 2;\n          if (pts - dts > 60 * 9e4)\n            pts = dts;\n        } else {\n          dts = pts;\n        }\n      }\n      return {\n        data: data.subarray(9 + headerDataLen),\n        pts,\n        dts\n      };\n    }\n  }]);\n  return TsDemuxer2;\n}();\nexport { TsDemuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { readBig32, readBig64, readBig24, readBig16, getAvcCodec } from \"../utils/index.js\";\nimport { AAC } from \"../codec/aac.js\";\nvar MP4Parser = /* @__PURE__ */ function() {\n  function MP4Parser2() {\n    _classCallCheck(this, MP4Parser2);\n  }\n  _createClass(MP4Parser2, null, [{\n    key: \"findBox\",\n    value: function findBox(data, names) {\n      var start = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var ret = [];\n      if (!data)\n        return ret;\n      var size = 0;\n      var type = \"\";\n      var headerSize = 0;\n      while (data.length > 7) {\n        size = readBig32(data);\n        type = String.fromCharCode.apply(null, data.subarray(4, 8));\n        headerSize = 8;\n        if (size === 1) {\n          size = readBig64(data, 8);\n          headerSize += 8;\n        } else if (!size) {\n          size = data.length;\n        }\n        if (!names[0] || type === names[0]) {\n          var subData = data.subarray(0, size);\n          if (names.length < 2) {\n            ret.push({\n              start,\n              size,\n              headerSize,\n              type,\n              data: subData\n            });\n          } else {\n            return MP4Parser2.findBox(subData.subarray(headerSize), names.slice(1), start + headerSize);\n          }\n        }\n        start += size;\n        data = data.subarray(size);\n      }\n      return ret;\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.trackId = readBig32(data);\n        var start = 4;\n        var baseDataOffsetPresent = ret.flags & 255 & 1;\n        var sampleDescriptionIndexPresent = ret.flags & 255 & 2;\n        var defaultSampleDurationPresent = ret.flags & 255 & 8;\n        var defaultSampleSizePresent = ret.flags & 255 & 16;\n        var defaultSampleFlagsPresent = ret.flags & 255 & 32;\n        if (baseDataOffsetPresent) {\n          start += 4;\n          ret.baseDataOffset = readBig32(data, start);\n          start += 4;\n        }\n        if (sampleDescriptionIndexPresent) {\n          ret.sampleDescriptionIndex = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleDurationPresent) {\n          ret.defaultSampleDuration = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleSizePresent) {\n          ret.defaultSampleSize = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleFlagsPresent) {\n          ret.defaultSampleFlags = readBig32(data, start);\n        }\n      });\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        ret.reference_ID = readBig32(data, start);\n        start += 4;\n        ret.timescale = readBig32(data, start);\n        start += 4;\n        if (ret.version === 0) {\n          ret.earliest_presentation_time = readBig32(data, start);\n          start += 4;\n          ret.first_offset = readBig32(data, start);\n          start += 4;\n        } else {\n          ret.earliest_presentation_time = readBig64(data, start);\n          start += 8;\n          ret.first_offset = readBig64(data, start);\n          start += 8;\n        }\n        start += 2;\n        ret.references = [];\n        var count = readBig16(data, start);\n        start += 2;\n        for (var i = 0; i < count; i++) {\n          var ref = {};\n          ret.references.push(ref);\n          var tmp32 = readBig32(data, start);\n          start += 4;\n          ref.reference_type = tmp32 >> 31 & 1;\n          ref.referenced_size = tmp32 & 2147483647;\n          ref.subsegment_duration = readBig32(data, start);\n          start += 4;\n          tmp32 = readBig32(data, start);\n          start += 4;\n          ref.starts_with_SAP = tmp32 >> 31 & 1;\n          ref.SAP_type = tmp32 >> 28 & 7;\n          ref.SAP_delta_time = tmp32 & 268435455;\n        }\n      });\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mvhd = MP4Parser2.mvhd(MP4Parser2.findBox(data, [\"mvhd\"], start)[0]);\n        ret.trak = MP4Parser2.findBox(data, [\"trak\"], start).map(function(trak) {\n          return MP4Parser2.trak(trak);\n        });\n        ret.pssh = MP4Parser2.pssh(MP4Parser2.findBox(data, [\"pssh\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        ret.nextTrackId = readBig32(data, start + 76);\n      });\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tkhd = MP4Parser2.tkhd(MP4Parser2.findBox(data, [\"tkhd\"], start)[0]);\n        ret.mdia = MP4Parser2.mdia(MP4Parser2.findBox(data, [\"mdia\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.trackId = readBig32(data, 16);\n          ret.duration = readBig64(data, 24);\n          start += 32;\n        } else {\n          ret.trackId = readBig32(data, 8);\n          ret.duration = readBig32(data, 16);\n          start += 20;\n        }\n        ret.width = readBig32(data, start + 52);\n        ret.height = readBig32(data, start + 56);\n      });\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mdhd = MP4Parser2.mdhd(MP4Parser2.findBox(data, [\"mdhd\"], start)[0]);\n        ret.hdlr = MP4Parser2.hdlr(MP4Parser2.findBox(data, [\"hdlr\"], start)[0]);\n        ret.minf = MP4Parser2.minf(MP4Parser2.findBox(data, [\"minf\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        var lang = readBig16(data, start);\n        ret.language = String.fromCharCode((lang >> 10 & 31) + 96, (lang >> 5 & 31) + 96, (lang & 31) + 96);\n      });\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 0) {\n          ret.handlerType = String.fromCharCode.apply(null, data.subarray(4, 8));\n        }\n      });\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.vmhd = MP4Parser2.vmhd(MP4Parser2.findBox(data, [\"vmhd\"], start)[0]);\n        ret.smhd = MP4Parser2.smhd(MP4Parser2.findBox(data, [\"smhd\"], start)[0]);\n        ret.stbl = MP4Parser2.stbl(MP4Parser2.findBox(data, [\"stbl\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"vmhd\",\n    value: function vmhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.graphicsmode = readBig16(data);\n        ret.opcolor = [readBig16(data, 2), readBig16(data, 4), readBig16(data, 6)];\n      });\n    }\n  }, {\n    key: \"smhd\",\n    value: function smhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.balance = readBig16(data);\n      });\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var _ret$stsd$entries$, _ret$stsd$entries$$si, _ret$stsd$entries$$si2;\n        ret.stsd = MP4Parser2.stsd(MP4Parser2.findBox(data, [\"stsd\"], start)[0]);\n        ret.stts = MP4Parser2.stts(MP4Parser2.findBox(data, [\"stts\"], start)[0]);\n        ret.ctts = MP4Parser2.ctts(MP4Parser2.findBox(data, [\"ctts\"], start)[0]);\n        ret.stsc = MP4Parser2.stsc(MP4Parser2.findBox(data, [\"stsc\"], start)[0]);\n        ret.stsz = MP4Parser2.stsz(MP4Parser2.findBox(data, [\"stsz\"], start)[0]);\n        ret.stco = MP4Parser2.stco(MP4Parser2.findBox(data, [\"stco\"], start)[0]);\n        if (!ret.stco) {\n          ret.co64 = MP4Parser2.co64(MP4Parser2.findBox(data, [\"co64\"], start)[0]);\n          ret.stco = ret.co64;\n        }\n        var default_IV_size = (_ret$stsd$entries$ = ret.stsd.entries[0]) === null || _ret$stsd$entries$ === void 0 ? void 0 : (_ret$stsd$entries$$si = _ret$stsd$entries$.sinf) === null || _ret$stsd$entries$$si === void 0 ? void 0 : (_ret$stsd$entries$$si2 = _ret$stsd$entries$$si.schi) === null || _ret$stsd$entries$$si2 === void 0 ? void 0 : _ret$stsd$entries$$si2.tenc.default_IV_size;\n        ret.stss = MP4Parser2.stss(MP4Parser2.findBox(data, [\"stss\"], start)[0]);\n        ret.senc = MP4Parser2.senc(MP4Parser2.findBox(data, [\"senc\"], start)[0], default_IV_size);\n      });\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(box) {\n      var iv = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        var sampleCount = readBig32(data, start);\n        start += 4;\n        ret.samples = [];\n        for (var i = 0; i < sampleCount; i++) {\n          var sample = {};\n          sample.InitializationVector = [];\n          for (var j = 0; j < iv; j++) {\n            sample.InitializationVector[j] = data[start + j];\n          }\n          start += iv;\n          if (ret.flags & 2) {\n            sample.subsamples = [];\n            var subsampleCount = readBig16(data, start);\n            start += 2;\n            for (var _j = 0; _j < subsampleCount; _j++) {\n              var subsample = {};\n              subsample.BytesOfClearData = readBig16(data, start);\n              start += 2;\n              subsample.BytesOfProtectedData = readBig32(data, start);\n              start += 4;\n              sample.subsamples.push(subsample);\n            }\n          }\n          ret.samples.push(sample);\n        }\n      });\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(box) {\n      return parseBox(box, true, function(ret, data) {\n        var keyIds = [];\n        var systemId = [];\n        var start = 0;\n        for (var i = 0; i < 16; i++) {\n          systemId.push(toHex(data[start + i]));\n        }\n        start += 16;\n        if (ret.version > 0) {\n          var numKeyIds = readBig32(data, start);\n          start += 4;\n          for (var _i = 0; _i < (\"\" + numKeyIds).length; _i++) {\n            for (var j = 0; j < 16; j++) {\n              var keyId = data[start];\n              start += 1;\n              keyIds.push(toHex(keyId));\n            }\n          }\n        }\n        var dataSize = readBig32(data, start);\n        ret.data_size = dataSize;\n        start += 4;\n        ret.kid = keyIds;\n        ret.system_id = systemId;\n        ret.buffer = data;\n      });\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(box) {\n      return parseBox(box, true, function(ret, data, start) {\n        ret.entryCount = readBig32(data);\n        ret.entries = MP4Parser2.findBox(data.subarray(4), [], start + 4).map(function(b) {\n          switch (b.type) {\n            case \"avc1\":\n            case \"avc2\":\n            case \"avc3\":\n            case \"avc4\":\n              return MP4Parser2.avc1(b);\n            case \"hvc1\":\n            case \"hev1\":\n              return MP4Parser2.hvc1(b);\n            case \"mp4a\":\n              return MP4Parser2.mp4a(b);\n            case \"alaw\":\n            case \"ulaw\":\n              return MP4Parser2.alaw(b);\n            case \"enca\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.channelCount = readBig16(data2, 16);\n                ret2.samplesize = readBig16(data2, 18);\n                ret2.sampleRate = readBig32(data2, 24) / (1 << 16);\n                data2 = data2.subarray(28);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.esds = MP4Parser2.esds(MP4Parser2.findBox(data2, [\"esds\"], start2)[0]);\n              });\n            case \"encv\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.width = readBig16(data2, 24);\n                ret2.height = readBig16(data2, 26);\n                ret2.horizresolution = readBig32(data2, 28);\n                ret2.vertresolution = readBig32(data2, 32);\n                data2 = data2.subarray(78);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.avcC = MP4Parser2.avcC(MP4Parser2.findBox(data2, [\"avcC\"], start2)[0]);\n                ret2.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(data2, [\"hvcC\"], start2)[0]);\n                ret2.pasp = MP4Parser2.pasp(MP4Parser2.findBox(data2, [\"pasp\"], start2)[0]);\n              });\n          }\n        }).filter(Boolean);\n      });\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(box) {\n      return parseBox(box, false, function(ret, data) {\n        var start = 6;\n        ret.default_IsEncrypted = data[start];\n        start += 1;\n        ret.default_IV_size = data[start];\n        start += 1;\n        ret.default_KID = [];\n        for (var i = 0; i < 16; i++) {\n          ret.default_KID.push(toHex(data[start]));\n          start += 1;\n        }\n      });\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tenc = MP4Parser2.tenc(MP4Parser2.findBox(data, [\"tenc\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.schi = MP4Parser2.schi(MP4Parser2.findBox(data, [\"schi\"], start)[0]);\n        ret.frma = MP4Parser2.frma(MP4Parser2.findBox(data, [\"frma\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"frma\",\n    value: function frma(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data_format = \"\";\n        for (var i = 0; i < 4; i++) {\n          ret.data_format += String.fromCharCode(data[i]);\n        }\n      });\n    }\n  }, {\n    key: \"avc1\",\n    value: function avc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.avcC = MP4Parser2.avcC(MP4Parser2.findBox(bodyData, [\"avcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.configurationVersion = data[0];\n        ret.AVCProfileIndication = data[1];\n        ret.profileCompatibility = data[2];\n        ret.AVCLevelIndication = data[3];\n        ret.codec = getAvcCodec([data[1], data[2], data[3]]);\n        ret.lengthSizeMinusOne = data[4] & 3;\n        ret.spsLength = data[5] & 31;\n        ret.sps = [];\n        var start = 6;\n        for (var i = 0; i < ret.spsLength; i++) {\n          var size = readBig16(data, start);\n          start += 2;\n          ret.sps.push(data.subarray(start, start + size));\n          start += size;\n        }\n        ret.ppsLength = data[start];\n        start += 1;\n        ret.pps = [];\n        for (var _i2 = 0; _i2 < ret.ppsLength; _i2++) {\n          var _size = readBig16(data, start);\n          start += 2;\n          ret.pps.push(data.subarray(start, start += _size));\n          start += _size;\n        }\n      });\n    }\n  }, {\n    key: \"hvc1\",\n    value: function hvc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(bodyData, [\"hvcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.codec = \"hev1.1.6.L93.B0\";\n        ret.configurationVersion = data[0];\n        var tmp = data[1];\n        ret.generalProfileSpace = tmp >> 6;\n        ret.generalTierFlag = (tmp & 32) >> 5;\n        ret.generalProfileIdc = tmp & 31;\n        ret.generalProfileCompatibility = readBig32(data, 2);\n        ret.generalConstraintIndicatorFlags = data.subarray(6, 12);\n        ret.generalLevelIdc = data[12];\n        ret.avgFrameRate = readBig16(data, 19);\n        ret.numOfArrays = data[22];\n        ret.vps = [];\n        ret.sps = [];\n        ret.pps = [];\n        var start = 23;\n        var type = 0;\n        var numNalus = 0;\n        var size = 0;\n        for (var i = 0; i < ret.numOfArrays; i++) {\n          type = data[start] & 63;\n          numNalus = readBig16(data, start + 1);\n          start += 3;\n          var nalus = [];\n          for (var j = 0; j < numNalus; j++) {\n            size = readBig16(data, start);\n            start += 2;\n            nalus.push(data.subarray(start, start + size));\n            start += size;\n          }\n          if (type === 32) {\n            var _ret$vps;\n            (_ret$vps = ret.vps).push.apply(_ret$vps, nalus);\n          } else if (type === 33) {\n            var _ret$sps;\n            (_ret$sps = ret.sps).push.apply(_ret$sps, nalus);\n          } else if (type === 34) {\n            var _ret$pps;\n            (_ret$pps = ret.pps).push.apply(_ret$pps, nalus);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.hSpacing = readBig32(data);\n        ret.vSpacing = readBig32(data, 4);\n      });\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseAudioSampleEntry(ret, data);\n        ret.esds = MP4Parser2.esds(MP4Parser2.findBox(data.subarray(bodyStart), [\"esds\"], start + bodyStart)[0]);\n      });\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.codec = \"mp4a.\";\n        var start = 0;\n        var byteRead = 0;\n        var size = 0;\n        var tag = 0;\n        while (data.length) {\n          start = 0;\n          tag = data[start];\n          byteRead = data[start + 1];\n          start += 2;\n          while (byteRead & 128) {\n            size = (byteRead & 127) << 7;\n            byteRead = data[start];\n            start += 1;\n          }\n          size += byteRead & 127;\n          if (tag === 3) {\n            data = data.subarray(start + 3);\n          } else if (tag === 4) {\n            ret.codec += (data[start].toString(16) + \".\").padStart(3, \"0\");\n            data = data.subarray(start + 13);\n          } else if (tag === 5) {\n            var config = ret.config = data.subarray(start, start + size);\n            var objectType = (config[0] & 248) >> 3;\n            if (objectType === 31 && config.length >= 2) {\n              objectType = 32 + ((config[0] & 7) << 3) + ((config[1] & 224) >> 5);\n            }\n            ret.objectType = objectType;\n            ret.codec += objectType.toString(16);\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          } else {\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"alaw\",\n    value: function alaw(box) {\n      return parseBox(box, false, function(ret, data) {\n        parseAudioSampleEntry(ret, data);\n      });\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            count: readBig32(data, start),\n            delta: readBig32(data, start + 4)\n          });\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        if (ret.version === 1) {\n          for (var i = 0; i < entryCount; i++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: readBig32(data, start + 4)\n            });\n            start += 8;\n          }\n        } else {\n          for (var _i3 = 0; _i3 < entryCount; _i3++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: -(~readBig32(data, start + 4) + 1)\n            });\n            start += 8;\n          }\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            firstChunk: readBig32(data, start),\n            samplesPerChunk: readBig32(data, start + 4),\n            sampleDescriptionIndex: readBig32(data, start + 8)\n          });\n          start += 12;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(box) {\n      return parseBox(box, true, function(ret, data) {\n        var sampleSize = readBig32(data);\n        var sampleCount = readBig32(data, 4);\n        var entrySizes = [];\n        if (!sampleSize) {\n          var start = 8;\n          for (var i = 0; i < sampleCount; i++) {\n            entrySizes.push(readBig32(data, start));\n            start += 4;\n          }\n        }\n        ret.sampleSize = sampleSize;\n        ret.sampleCount = sampleCount;\n        ret.entrySizes = entrySizes;\n      });\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"co64\",\n    value: function co64(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig64(data, start));\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mfhd = MP4Parser2.mfhd(MP4Parser2.findBox(data, [\"mfhd\"], start)[0]);\n        ret.traf = MP4Parser2.findBox(data, [\"traf\"], start).map(function(t) {\n          return MP4Parser2.traf(t);\n        });\n      });\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.sequenceNumber = readBig32(data);\n      });\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tfhd = MP4Parser2.tfhd(MP4Parser2.findBox(data, [\"tfhd\"], start)[0]);\n        ret.tfdt = MP4Parser2.tfdt(MP4Parser2.findBox(data, [\"tfdt\"], start)[0]);\n        ret.trun = MP4Parser2.trun(MP4Parser2.findBox(data, [\"trun\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(box) {\n      return parseBox(box, true, function(ret, data) {\n        var version = ret.version, flags = ret.flags;\n        var dataLen = data.length;\n        var sampleCount = ret.sampleCount = readBig32(data);\n        var offset = 4;\n        if (dataLen > offset && flags & 1) {\n          ret.dataOffset = -(~readBig32(data, offset) + 1);\n          offset += 4;\n        }\n        if (dataLen > offset && flags & 4) {\n          ret.firstSampleFlags = readBig32(data, offset);\n          offset += 4;\n        }\n        ret.samples = [];\n        if (dataLen > offset) {\n          var sample;\n          for (var i = 0; i < sampleCount; i++) {\n            sample = {};\n            if (flags & 256) {\n              sample.duration = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 512) {\n              sample.size = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 1024) {\n              sample.flags = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 2048) {\n              if (version) {\n                sample.cts = -(~readBig32(data, offset + 4) + 1);\n              } else {\n                sample.cts = readBig32(data, offset);\n              }\n              offset += 4;\n            }\n            ret.samples.push(sample);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 1) {\n          ret.baseMediaDecodeTime = readBig64(data);\n        } else {\n          ret.baseMediaDecodeTime = readBig32(data);\n        }\n      });\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(data) {\n      return !!MP4Parser2.findBox(data, [\"ftyp\"]);\n    }\n  }, {\n    key: \"parseSampleFlags\",\n    value: function parseSampleFlags(flags) {\n      return {\n        isLeading: (flags[0] & 12) >>> 2,\n        dependsOn: flags[0] & 3,\n        isDependedOn: (flags[1] & 192) >>> 6,\n        hasRedundancy: (flags[1] & 48) >>> 4,\n        paddingValue: (flags[1] & 14) >>> 1,\n        isNonSyncSample: flags[1] & 1,\n        degradationPriority: flags[2] << 8 | flags[3]\n      };\n    }\n  }, {\n    key: \"moovToTrack\",\n    value: function moovToTrack(moov, videoTrack, audioTrack) {\n      var _e$esds, _e$esds2;\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia, _t$mdia$hdlr;\n        return ((_t$mdia = t.mdia) === null || _t$mdia === void 0 ? void 0 : (_t$mdia$hdlr = _t$mdia.hdlr) === null || _t$mdia$hdlr === void 0 ? void 0 : _t$mdia$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia2, _t$mdia2$hdlr;\n        return ((_t$mdia2 = t.mdia) === null || _t$mdia2 === void 0 ? void 0 : (_t$mdia2$hdlr = _t$mdia2.hdlr) === null || _t$mdia2$hdlr === void 0 ? void 0 : _t$mdia2$hdlr.handlerType) === \"soun\";\n      });\n      if (vTrack && videoTrack) {\n        var _vTrack$tkhd, _vTrack$mdia, _vTrack$mdia$minf, _vTrack$mdia$minf$stb, _vTrack$mdia2, _vTrack$mdia2$minf, _vTrack$mdia2$minf$st;\n        var v = videoTrack;\n        var _vTrackId = (_vTrack$tkhd = vTrack.tkhd) === null || _vTrack$tkhd === void 0 ? void 0 : _vTrack$tkhd.trackId;\n        if (_vTrackId !== null && _vTrackId !== void 0)\n          v.id = vTrack.tkhd.trackId;\n        v.tkhdDuration = vTrack.tkhd.duration;\n        v.mvhdDurtion = moov.mvhd.duration;\n        v.mvhdTimecale = moov.mvhd.timescale;\n        v.timescale = v.formatTimescale = vTrack.mdia.mdhd.timescale;\n        v.duration = vTrack.mdia.mdhd.duration || v.mvhdDurtion / v.mvhdTimecale * v.timescale;\n        var e1 = vTrack.mdia.minf.stbl.stsd.entries[0];\n        v.width = e1.width;\n        v.height = e1.height;\n        if (e1.pasp) {\n          v.sarRatio = [e1.pasp.hSpacing, e1.pasp.vSpacing];\n        }\n        if (e1.hvcC) {\n          v.codecType = VideoCodecType.HEVC;\n          v.codec = e1.hvcC.codec;\n          v.vps = e1.hvcC.vps;\n          v.sps = e1.hvcC.sps;\n          v.pps = e1.hvcC.pps;\n          v.hvcC = e1.hvcC.data;\n        } else if (e1.avcC) {\n          v.codec = e1.avcC.codec;\n          v.sps = e1.avcC.sps;\n          v.pps = e1.avcC.pps;\n        } else {\n          throw new Error(\"unknown video stsd entry\");\n        }\n        v.present = true;\n        v.ext = {};\n        v.ext.stss = (_vTrack$mdia = vTrack.mdia) === null || _vTrack$mdia === void 0 ? void 0 : (_vTrack$mdia$minf = _vTrack$mdia.minf) === null || _vTrack$mdia$minf === void 0 ? void 0 : (_vTrack$mdia$minf$stb = _vTrack$mdia$minf.stbl) === null || _vTrack$mdia$minf$stb === void 0 ? void 0 : _vTrack$mdia$minf$stb.stss;\n        v.ext.ctts = (_vTrack$mdia2 = vTrack.mdia) === null || _vTrack$mdia2 === void 0 ? void 0 : (_vTrack$mdia2$minf = _vTrack$mdia2.minf) === null || _vTrack$mdia2$minf === void 0 ? void 0 : (_vTrack$mdia2$minf$st = _vTrack$mdia2$minf.stbl) === null || _vTrack$mdia2$minf$st === void 0 ? void 0 : _vTrack$mdia2$minf$st.ctts;\n        if (e1 && e1.type === \"encv\") {\n          var _e1$sinf, _e1$sinf$schi, _e1$sinf2, _e1$sinf2$schi, _e1$sinf3, _e1$sinf3$schi, _e1$sinf4, _e1$sinf4$frma;\n          v.isVideoEncryption = true;\n          e1.default_KID = (_e1$sinf = e1.sinf) === null || _e1$sinf === void 0 ? void 0 : (_e1$sinf$schi = _e1$sinf.schi) === null || _e1$sinf$schi === void 0 ? void 0 : _e1$sinf$schi.tenc.default_KID;\n          e1.default_IsEncrypted = (_e1$sinf2 = e1.sinf) === null || _e1$sinf2 === void 0 ? void 0 : (_e1$sinf2$schi = _e1$sinf2.schi) === null || _e1$sinf2$schi === void 0 ? void 0 : _e1$sinf2$schi.tenc.default_IsEncrypted;\n          e1.default_IV_size = (_e1$sinf3 = e1.sinf) === null || _e1$sinf3 === void 0 ? void 0 : (_e1$sinf3$schi = _e1$sinf3.schi) === null || _e1$sinf3$schi === void 0 ? void 0 : _e1$sinf3$schi.tenc.default_IV_size;\n          v.videoSenc = vTrack.mdia.minf.stbl.senc && vTrack.mdia.minf.stbl.senc.samples;\n          e1.data_format = (_e1$sinf4 = e1.sinf) === null || _e1$sinf4 === void 0 ? void 0 : (_e1$sinf4$frma = _e1$sinf4.frma) === null || _e1$sinf4$frma === void 0 ? void 0 : _e1$sinf4$frma.data_format;\n          v.useEME = moov.useEME;\n          v.kidValue = moov.kidValue;\n          v.pssh = moov.pssh;\n          v.encv = e1;\n        }\n      }\n      if (aTrack && audioTrack) {\n        var _aTrack$tkhd, _e$esds3, _e$esds4, _aTrack$mdia, _aTrack$mdia$minf, _aTrack$mdia$minf$stb, _aTrack$mdia2, _aTrack$mdia2$minf, _aTrack$mdia2$minf$st;\n        var a = audioTrack;\n        var _aTrackId = (_aTrack$tkhd = aTrack.tkhd) === null || _aTrack$tkhd === void 0 ? void 0 : _aTrack$tkhd.trackId;\n        if (_aTrackId !== null && _aTrackId !== void 0)\n          a.id = aTrack.tkhd.trackId;\n        a.tkhdDuration = aTrack.tkhd.duration;\n        a.mvhdDurtion = moov.mvhd.duration;\n        a.mvhdTimecale = moov.mvhd.timescale;\n        a.timescale = a.formatTimescale = aTrack.mdia.mdhd.timescale;\n        a.duration = aTrack.mdia.mdhd.duration || a.mvhdDurtion / a.mvhdTimecale * a.timescale;\n        var _e = aTrack.mdia.minf.stbl.stsd.entries[0];\n        a.sampleSize = _e.sampleSize;\n        a.sampleRate = _e.sampleRate;\n        a.channelCount = _e.channelCount;\n        a.present = true;\n        switch (_e.type) {\n          case \"alaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMA;\n            a.sampleRate = 8e3;\n            break;\n          case \"ulaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMU;\n            a.sampleRate = 8e3;\n            break;\n          default:\n            a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n            a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n            a.objectType = ((_e$esds = _e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.objectType) || 2;\n            if (_e.esds)\n              a.config = Array.from(_e.esds.config);\n            a.codec = ((_e$esds2 = _e.esds) === null || _e$esds2 === void 0 ? void 0 : _e$esds2.codec) || \"mp4a.40.2\";\n            break;\n        }\n        a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n        a.objectType = ((_e$esds3 = _e.esds) === null || _e$esds3 === void 0 ? void 0 : _e$esds3.objectType) || 2;\n        if (_e.esds) {\n          if (_e.esds.config) {\n            a.config = Array.from(_e.esds.config);\n          } else {\n            console.warn(\"esds config is null\");\n          }\n        }\n        a.codec = ((_e$esds4 = _e.esds) === null || _e$esds4 === void 0 ? void 0 : _e$esds4.codec) || \"mp4a.40.2\";\n        a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n        a.ext = {};\n        a.ext.stss = (_aTrack$mdia = aTrack.mdia) === null || _aTrack$mdia === void 0 ? void 0 : (_aTrack$mdia$minf = _aTrack$mdia.minf) === null || _aTrack$mdia$minf === void 0 ? void 0 : (_aTrack$mdia$minf$stb = _aTrack$mdia$minf.stbl) === null || _aTrack$mdia$minf$stb === void 0 ? void 0 : _aTrack$mdia$minf$stb.stss;\n        a.ext.ctts = (_aTrack$mdia2 = aTrack.mdia) === null || _aTrack$mdia2 === void 0 ? void 0 : (_aTrack$mdia2$minf = _aTrack$mdia2.minf) === null || _aTrack$mdia2$minf === void 0 ? void 0 : (_aTrack$mdia2$minf$st = _aTrack$mdia2$minf.stbl) === null || _aTrack$mdia2$minf$st === void 0 ? void 0 : _aTrack$mdia2$minf$st.ctts;\n        a.present = true;\n        if (_e && _e.type === \"enca\") {\n          var _e$sinf, _e$sinf$frma, _e$sinf2, _e$sinf2$schi, _e$sinf3, _e$sinf3$schi, _e$sinf4, _e$sinf4$schi;\n          a.isAudioEncryption = true;\n          _e.data_format = (_e$sinf = _e.sinf) === null || _e$sinf === void 0 ? void 0 : (_e$sinf$frma = _e$sinf.frma) === null || _e$sinf$frma === void 0 ? void 0 : _e$sinf$frma.data_format;\n          _e.default_KID = (_e$sinf2 = _e.sinf) === null || _e$sinf2 === void 0 ? void 0 : (_e$sinf2$schi = _e$sinf2.schi) === null || _e$sinf2$schi === void 0 ? void 0 : _e$sinf2$schi.tenc.default_KID;\n          _e.default_IsEncrypted = (_e$sinf3 = _e.sinf) === null || _e$sinf3 === void 0 ? void 0 : (_e$sinf3$schi = _e$sinf3.schi) === null || _e$sinf3$schi === void 0 ? void 0 : _e$sinf3$schi.tenc.default_IsEncrypted;\n          _e.default_IV_size = (_e$sinf4 = _e.sinf) === null || _e$sinf4 === void 0 ? void 0 : (_e$sinf4$schi = _e$sinf4.schi) === null || _e$sinf4$schi === void 0 ? void 0 : _e$sinf4$schi.tenc.default_IV_size;\n          a.audioSenc = aTrack.mdia.minf.stbl.senc && aTrack.mdia.minf.stbl.senc.samples;\n          a.useEME = moov.useEME;\n          a.kidValue = moov.kidValue;\n          a.enca = _e;\n        }\n      }\n      audioTrack && (audioTrack.isVideoEncryption = videoTrack ? videoTrack.isVideoEncryption : false);\n      videoTrack && (videoTrack.isAudioEncryption = audioTrack ? audioTrack.isAudioEncryption : false);\n      if (videoTrack !== null && videoTrack !== void 0 && videoTrack.encv || audioTrack !== null && audioTrack !== void 0 && audioTrack.enca) {\n        var _videoTrack$encv, _audioTrack$enca;\n        var vkid = videoTrack === null || videoTrack === void 0 ? void 0 : (_videoTrack$encv = videoTrack.encv) === null || _videoTrack$encv === void 0 ? void 0 : _videoTrack$encv.default_KID;\n        var akid = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$enca = audioTrack.enca) === null || _audioTrack$enca === void 0 ? void 0 : _audioTrack$enca.default_KID;\n        var kid = vkid || akid ? (vkid || akid).join(\"\") : null;\n        videoTrack && (videoTrack.kid = kid);\n        audioTrack && (audioTrack.kid = kid);\n      }\n      videoTrack && (videoTrack.flags = 3841);\n      audioTrack && (audioTrack.flags = 1793);\n      return {\n        videoTrack,\n        audioTrack\n      };\n    }\n  }, {\n    key: \"evaluateDefaultDuration\",\n    value: function evaluateDefaultDuration(videoTrack, audioTrack, videoSampleCount) {\n      var _audioTrack$samples;\n      var audioSampleCount = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$samples = audioTrack.samples) === null || _audioTrack$samples === void 0 ? void 0 : _audioTrack$samples.length;\n      if (!audioSampleCount)\n        return 1024;\n      var segmentDuration = 1024 * audioSampleCount / audioTrack.timescale;\n      return segmentDuration * videoTrack.timescale / videoSampleCount;\n    }\n  }, {\n    key: \"moofToSamples\",\n    value: function moofToSamples(moof, videoTrack, audioTrack) {\n      var ret = {};\n      if (moof.mfhd) {\n        if (videoTrack)\n          videoTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n        if (audioTrack)\n          audioTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n      }\n      moof.traf.forEach(function(_ref) {\n        var tfhd = _ref.tfhd, tfdt = _ref.tfdt, trun = _ref.trun;\n        if (!tfhd || !trun)\n          return;\n        if (tfdt) {\n          if (videoTrack && videoTrack.id === tfhd.trackId)\n            videoTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n          if (audioTrack && audioTrack.id === tfhd.trackId)\n            audioTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n        }\n        var defaultSize = tfhd.defaultSampleSize || 0;\n        var defaultDuration = tfhd.defaultSampleDuration || MP4Parser2.evaluateDefaultDuration(videoTrack, audioTrack, trun.samples.length || trun.sampleCount);\n        var offset = trun.dataOffset || 0;\n        var dts = 0;\n        var gopId = -1;\n        if (!trun.samples.length && trun.sampleCount) {\n          ret[tfhd.trackId] = [];\n          for (var i = 0; i < trun.sampleCount; i++) {\n            ret[tfhd.trackId].push({\n              offset,\n              dts,\n              duration: defaultDuration,\n              size: defaultSize\n            });\n            dts += defaultDuration;\n            offset += defaultSize;\n          }\n        } else {\n          ret[tfhd.trackId] = trun.samples.map(function(s, index) {\n            s = {\n              offset,\n              dts,\n              pts: dts + (s.cts || 0),\n              duration: s.duration || defaultDuration,\n              size: s.size || defaultSize,\n              gopId,\n              keyframe: index === 0 || s.flags !== null && s.flags !== void 0 && (s.flags & 65536) >>> 0 !== 65536\n            };\n            if (s.keyframe) {\n              gopId++;\n              s.gopId = gopId;\n            }\n            dts += s.duration;\n            offset += s.size;\n            return s;\n          });\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"moovToSamples\",\n    value: function moovToSamples(moov) {\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia3, _t$mdia3$hdlr;\n        return ((_t$mdia3 = t.mdia) === null || _t$mdia3 === void 0 ? void 0 : (_t$mdia3$hdlr = _t$mdia3.hdlr) === null || _t$mdia3$hdlr === void 0 ? void 0 : _t$mdia3$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia4, _t$mdia4$hdlr;\n        return ((_t$mdia4 = t.mdia) === null || _t$mdia4 === void 0 ? void 0 : (_t$mdia4$hdlr = _t$mdia4.hdlr) === null || _t$mdia4$hdlr === void 0 ? void 0 : _t$mdia4$hdlr.handlerType) === \"soun\";\n      });\n      if (!vTrack && !aTrack)\n        return;\n      var videoSamples;\n      var audioSamples;\n      if (vTrack) {\n        var _vTrack$mdia3, _vTrack$mdia3$minf;\n        var videoStbl = (_vTrack$mdia3 = vTrack.mdia) === null || _vTrack$mdia3 === void 0 ? void 0 : (_vTrack$mdia3$minf = _vTrack$mdia3.minf) === null || _vTrack$mdia3$minf === void 0 ? void 0 : _vTrack$mdia3$minf.stbl;\n        if (!videoStbl)\n          return;\n        var stts = videoStbl.stts, stsc = videoStbl.stsc, stsz = videoStbl.stsz, stco = videoStbl.stco, stss = videoStbl.stss, ctts = videoStbl.ctts;\n        if (!stts || !stsc || !stsz || !stco || !stss)\n          return;\n        videoSamples = getSamples(stts, stsc, stsz, stco, ctts, stss);\n      }\n      if (aTrack) {\n        var _aTrack$mdia3, _aTrack$mdia3$minf, _aTrack$mdia$mdhd;\n        var audioStbl = (_aTrack$mdia3 = aTrack.mdia) === null || _aTrack$mdia3 === void 0 ? void 0 : (_aTrack$mdia3$minf = _aTrack$mdia3.minf) === null || _aTrack$mdia3$minf === void 0 ? void 0 : _aTrack$mdia3$minf.stbl;\n        if (!audioStbl)\n          return;\n        var timescale = (_aTrack$mdia$mdhd = aTrack.mdia.mdhd) === null || _aTrack$mdia$mdhd === void 0 ? void 0 : _aTrack$mdia$mdhd.timescale;\n        var _stts = audioStbl.stts, _stsc = audioStbl.stsc, _stsz = audioStbl.stsz, _stco = audioStbl.stco;\n        if (!timescale || !_stts || !_stsc || !_stsz || !_stco)\n          return;\n        audioSamples = getSamples(_stts, _stsc, _stsz, _stco);\n      }\n      return {\n        videoSamples,\n        audioSamples\n      };\n    }\n  }]);\n  return MP4Parser2;\n}();\nfunction getSamples(stts, stsc, stsz, stco, ctts, stss) {\n  var samples = [];\n  var cttsEntries = ctts === null || ctts === void 0 ? void 0 : ctts.entries;\n  var stscEntries = stsc.entries;\n  var stcoEntries = stco.entries;\n  var stszEntrySizes = stsz.entrySizes;\n  var stssEntries = stss === null || stss === void 0 ? void 0 : stss.entries;\n  var keyframeMap;\n  if (stssEntries) {\n    keyframeMap = {};\n    stssEntries.forEach(function(x) {\n      keyframeMap[x - 1] = true;\n    });\n  }\n  var cttsArr;\n  if (cttsEntries) {\n    cttsArr = [];\n    cttsEntries.forEach(function(_ref2) {\n      var count = _ref2.count, offset = _ref2.offset;\n      for (var i = 0; i < count; i++) {\n        cttsArr.push(offset);\n      }\n    });\n  }\n  var sample;\n  var gopId = -1;\n  var dts = 0;\n  var pos = 0;\n  var chunkIndex = 0;\n  var chunkRunIndex = 0;\n  var offsetInChunk = 0;\n  var lastSampleInChunk = stscEntries[0].samplesPerChunk;\n  var lastChunkInRun = stscEntries[1] ? stscEntries[1].firstChunk - 1 : Infinity;\n  stts.entries.forEach(function(_ref3) {\n    var count = _ref3.count, delta = _ref3.delta;\n    for (var i = 0; i < count; i++) {\n      sample = {\n        dts,\n        duration: delta,\n        size: stszEntrySizes[pos] || stsz.sampleSize,\n        offset: stcoEntries[chunkIndex] + offsetInChunk,\n        index: pos\n      };\n      if (stssEntries) {\n        sample.keyframe = keyframeMap[pos];\n        if (sample.keyframe) {\n          gopId++;\n        }\n        sample.gopId = gopId;\n      }\n      if (cttsArr && pos < cttsArr.length) {\n        sample.pts = sample.dts + cttsArr[pos];\n      }\n      samples.push(sample);\n      dts += delta;\n      pos++;\n      if (pos < lastSampleInChunk) {\n        offsetInChunk += sample.size;\n      } else {\n        chunkIndex++;\n        offsetInChunk = 0;\n        if (chunkIndex >= lastChunkInRun) {\n          chunkRunIndex++;\n          lastChunkInRun = stscEntries[chunkRunIndex + 1] ? stscEntries[chunkRunIndex + 1].firstChunk - 1 : Infinity;\n        }\n        lastSampleInChunk += stscEntries[chunkRunIndex].samplesPerChunk;\n      }\n    }\n  });\n  return samples;\n}\nfunction parseVisualSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.width = readBig16(data, 24);\n  ret.height = readBig16(data, 26);\n  ret.horizresolution = readBig32(data, 28);\n  ret.vertresolution = readBig32(data, 32);\n  ret.frameCount = readBig16(data, 40);\n  ret.depth = readBig16(data, 74);\n  return 78;\n}\nfunction parseAudioSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.channelCount = readBig16(data, 16);\n  ret.sampleSize = readBig16(data, 18);\n  ret.sampleRate = readBig32(data, 24) / (1 << 16);\n  return 28;\n}\nfunction parseBox(box, isFullBox, parse) {\n  if (!box)\n    return;\n  if (box.size !== box.data.length)\n    throw new Error(\"box \".concat(box.type, \" size !== data.length\"));\n  var ret = {\n    start: box.start,\n    size: box.size,\n    headerSize: box.headerSize,\n    type: box.type\n  };\n  if (isFullBox) {\n    ret.version = box.data[box.headerSize];\n    ret.flags = readBig24(box.data, box.headerSize + 1);\n    ret.headerSize += 4;\n  }\n  parse(ret, box.data.subarray(ret.headerSize), ret.start + ret.headerSize);\n  return ret;\n}\nvar padStart = function padStart2(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nvar toHex = function toHex2() {\n  var hex = [];\n  for (var _len = arguments.length, value = new Array(_len), _key = 0; _key < _len; _key++) {\n    value[_key] = arguments[_key];\n  }\n  value.forEach(function(item) {\n    hex.push(padStart(Number(item).toString(16), 2, 0));\n  });\n  return hex[0];\n};\nexport { MP4Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { concatUint8Array } from \"xgplayer-streaming-shared\";\nvar Decryptor = /* @__PURE__ */ function() {\n  function Decryptor2() {\n    _classCallCheck(this, Decryptor2);\n    var crypto = window.crypto || window.msCrypto;\n    this.subtle = crypto && (crypto.subtle || crypto.webkitSubtle);\n    this.externalDecryptor = null;\n  }\n  _createClass(Decryptor2, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$externalDecrypt;\n      if ((_this$externalDecrypt = this.externalDecryptor) !== null && _this$externalDecrypt !== void 0 && _this$externalDecrypt.destroy) {\n        this.externalDecryptor.destroy();\n      }\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(video, audio) {\n      if (!video && !audio)\n        return;\n      var ret = [];\n      if (video) {\n        ret[0] = this._decryptSegment(video);\n      }\n      if (audio) {\n        ret[1] = this._decryptSegment(audio);\n      }\n      return Promise.all(ret);\n    }\n  }, {\n    key: \"_decryptSegment\",\n    value: function() {\n      var _decryptSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(seg) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = seg.data;\n                if (!seg.key) {\n                  _context2.next = 5;\n                  break;\n                }\n                _context2.next = 4;\n                return this._decryptData(seg.data, seg.key, seg.keyIv);\n              case 4:\n                data = _context2.sent;\n              case 5:\n                if (seg.map) {\n                  _context2.next = 7;\n                  break;\n                }\n                return _context2.abrupt(\"return\", data);\n              case 7:\n                return _context2.abrupt(\"return\", concatUint8Array(seg.map, data));\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function _decryptSegment(_x4) {\n        return _decryptSegment2.apply(this, arguments);\n      }\n      return _decryptSegment;\n    }()\n  }, {\n    key: \"_decryptData\",\n    value: function() {\n      var _decryptData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(data, key, iv) {\n        var aesKey;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.externalDecryptor) {\n                  _context3.next = 6;\n                  break;\n                }\n                _context3.next = 3;\n                return this.externalDecryptor.decrypt(data, key, iv);\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n              case 6:\n                if (this.subtle) {\n                  _context3.next = 8;\n                  break;\n                }\n                throw new Error(\"crypto is not defined\");\n              case 8:\n                _context3.next = 10;\n                return this.subtle.importKey(\"raw\", key, {\n                  name: \"AES-CBC\"\n                }, false, [\"encrypt\", \"decrypt\"]);\n              case 10:\n                aesKey = _context3.sent;\n                _context3.t0 = Uint8Array;\n                _context3.next = 14;\n                return this.subtle.decrypt({\n                  name: \"AES-CBC\",\n                  iv\n                }, aesKey, data);\n              case 14:\n                _context3.t1 = _context3.sent;\n                return _context3.abrupt(\"return\", new _context3.t0(_context3.t1));\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _decryptData(_x5, _x6, _x7) {\n        return _decryptData2.apply(this, arguments);\n      }\n      return _decryptData;\n    }()\n  }]);\n  return Decryptor2;\n}();\nexport { Decryptor };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack } from \"../model/metadata-track.js\";\nimport { readBig32 } from \"../utils/index.js\";\nimport { MP4Parser } from \"./mp4-parser.js\";\nvar FMP4Demuxer = /* @__PURE__ */ function() {\n  function FMP4Demuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, FMP4Demuxer2);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n  }\n  _createClass(FMP4Demuxer2, [{\n    key: \"demux\",\n    value: function demux(videoData, audioData) {\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      if (audioData) {\n        if (!audioExist) {\n          var moovBox = MP4Parser.findBox(audioData, [\"moov\"])[0];\n          if (!moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(moovBox), null, audioTrack);\n        }\n        var moofBox = MP4Parser.findBox(audioData, [\"moof\"])[0];\n        if (moofBox) {\n          var samples = MP4Parser.moofToSamples(MP4Parser.moof(moofBox), null, audioTrack)[audioTrack.id];\n          var baseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          if (samples) {\n            var baseOffset = moofBox.start;\n            samples.map(function(x) {\n              x.offset += baseOffset;\n              var sampleData = audioData.subarray(x.offset, x.offset + x.size);\n              audioTrack.samples.push(new AudioSample(x.dts + baseMediaDecodeTime, sampleData, x.duration));\n            });\n          }\n        }\n      }\n      if (videoData) {\n        if (!videoExist && !audioExist) {\n          var _moovBox = MP4Parser.findBox(videoData, [\"moov\"])[0];\n          if (!_moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(_moovBox), videoTrack, audioTrack);\n        }\n        var _moofBox = MP4Parser.findBox(videoData, [\"moof\"])[0];\n        if (_moofBox) {\n          var tracks = MP4Parser.moofToSamples(MP4Parser.moof(_moofBox), videoTrack, audioTrack);\n          var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n          var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          var _baseOffset = _moofBox.start;\n          var nalSize;\n          Object.keys(tracks).forEach(function(k) {\n            if (videoTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                sample.duration = x.duration;\n                sample.gopId = x.gopId;\n                if (x.keyframe)\n                  sample.setToKeyframe();\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                sample.data = sampleData;\n                var start = 0;\n                var len = sampleData.length - 1;\n                while (start < len) {\n                  nalSize = readBig32(sampleData, start);\n                  start += 4;\n                  sample.units.push(sampleData.subarray(start, start + nalSize));\n                  start += nalSize;\n                }\n                videoTrack.samples.push(sample);\n              });\n            } else if (audioTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n              });\n            }\n          });\n        }\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n      this.metadataTrack.reset();\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      return MP4Parser.probe(data);\n    }\n  }]);\n  return FMP4Demuxer2;\n}();\nexport { FMP4Demuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction Concat(ResultConstructor) {\n  var totalLength = 0;\n  for (var _len = arguments.length, arrays = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    arrays[_key - 1] = arguments[_key];\n  }\n  arrays.forEach(function(arr) {\n    totalLength += arr.length;\n  });\n  var result = new ResultConstructor(totalLength);\n  var offset = 0;\n  arrays.forEach(function(arr) {\n    result.set(arr, offset);\n    offset += arr.length;\n  });\n  return result;\n}\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n    this.buffer = new Uint8Array(0);\n  }\n  _createClass(Buffer2, [{\n    key: \"write\",\n    value: function write() {\n      var self = this;\n      for (var _len2 = arguments.length, buffer = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        buffer[_key2] = arguments[_key2];\n      }\n      buffer.forEach(function(item) {\n        if (item) {\n          self.buffer = Concat(Uint8Array, self.buffer, item);\n        } else {\n          window.console.warn(item);\n        }\n      });\n    }\n  }], [{\n    key: \"writeUint16\",\n    value: function writeUint16(value) {\n      return new Uint8Array([value >> 8 & 255, value & 255]);\n    }\n  }, {\n    key: \"writeUint32\",\n    value: function writeUint32(value) {\n      return new Uint8Array([value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255]);\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer as default };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray, slicedToArray as _slicedToArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array, parse } from \"../utils/index.js\";\nimport Buffer from \"./buffer.js\";\nvar UINT32_MAX = Math.pow(2, 32) - 1;\nvar MP4 = /* @__PURE__ */ function() {\n  function MP42() {\n    _classCallCheck(this, MP42);\n  }\n  _createClass(MP42, null, [{\n    key: \"box\",\n    value: function box(type) {\n      for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        payload[_key - 1] = arguments[_key];\n      }\n      payload = payload.filter(Boolean);\n      var size = 8 + payload.reduce(function(p, c) {\n        return p + c.byteLength;\n      }, 0);\n      var ret = new Uint8Array(size);\n      ret[0] = size >> 24 & 255;\n      ret[1] = size >> 16 & 255;\n      ret[2] = size >> 8 & 255;\n      ret[3] = size & 255;\n      ret.set(type, 4);\n      var offset = 8;\n      payload.forEach(function(data) {\n        ret.set(data, offset);\n        offset += data.byteLength;\n      });\n      return ret;\n    }\n  }, {\n    key: \"ftyp\",\n    value: function ftyp(tracks) {\n      var isHevc = tracks.find(function(t) {\n        return t.type === TrackType.VIDEO && t.codecType === VideoCodecType.HEVC;\n      });\n      return isHevc ? MP42.FTYPHEV1 : MP42.FTYPAVC1;\n    }\n  }, {\n    key: \"initSegment\",\n    value: function initSegment(tracks) {\n      var ftyp = MP42.ftyp(tracks);\n      var init = concatUint8Array(ftyp, MP42.moov(tracks));\n      return init;\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(data) {\n      var content = new Uint8Array([\n        1,\n        0,\n        0,\n        0\n      ].concat([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75], [0, 0, 0, 1], parse(data.kid), [0, 0, 0, 0]));\n      return MP42.box(MP42.types.pssh, content);\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(tracks) {\n      if (tracks[0].useEME && (tracks[0].encv || tracks[0].enca)) {\n        if (!tracks[0].pssh) {\n          tracks[0].pssh = {\n            kid: tracks[0].kid\n          };\n        }\n        var pssh = this.pssh(tracks[0].pssh);\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale), MP42.mvex(tracks)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [pssh]));\n      } else {\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [MP42.mvex(tracks)]));\n      }\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mvhd2 = MP42.box(MP42.types.mvhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        1,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        255,\n        255,\n        255,\n        255\n      ]));\n      return mvhd2;\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(track) {\n      var trak2 = MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.tkhdDuration || 0, track.width, track.height), MP42.mdia(track));\n      return trak2;\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(id, duration) {\n      var width = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var height = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var tkhd2 = MP42.box(MP42.types.tkhd, new Uint8Array([\n        0,\n        0,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        id >> 24 & 255,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        0,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        0,\n        0,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        0\n      ]));\n      return tkhd2;\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(track) {\n      var mdia2 = MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minf(track));\n      return mdia2;\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mdhd2 = MP42.box(MP42.types.mdhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        85,\n        196,\n        0,\n        0\n      ]));\n      return mdhd2;\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(type) {\n      var hdlr2 = MP42.box(MP42.types.hdlr, MP42.HDLR_TYPES[type]);\n      return hdlr2;\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(track) {\n      var minf2 = MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stbl(track));\n      return minf2;\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(track) {\n      var extBox = [];\n      if (track && track.ext) {\n        track.ext.stss && extBox.push(MP42.stss(track.ext.stss.entries));\n      }\n      var stbl2 = MP42.box(MP42.types.stbl, MP42.stsd(track), MP42.STTS, extBox[0], MP42.STSC, MP42.STSZ, MP42.STCO);\n      return stbl2;\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(track) {\n      var content;\n      if (track.type === \"audio\") {\n        if (track.useEME && track.enca) {\n          content = MP42.enca(track);\n        } else {\n          content = MP42.mp4a(track);\n        }\n      } else if (track.useEME && track.encv) {\n        content = MP42.encv(track);\n      } else {\n        content = MP42.avc1hev1(track);\n      }\n      var stsd2 = MP42.box(MP42.types.stsd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]), content);\n      return stsd2;\n    }\n  }, {\n    key: \"enca\",\n    value: function enca(data) {\n      var channelCount = data.enca.channelCount;\n      var sampleRate = data.enca.sampleRate;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        sampleRate >> 8 & 255,\n        sampleRate & 255,\n        0,\n        0\n      ]);\n      var esds = MP42.esds(data.config);\n      var sinf = MP42.sinf(data.enca);\n      return MP42.box(MP42.types.enca, content, esds, sinf);\n    }\n  }, {\n    key: \"encv\",\n    value: function encv(track) {\n      var _concat$concat, _ref;\n      var sps = track.sps.length > 0 ? track.sps[0] : [];\n      var pps = track.pps.length > 0 ? track.pps[0] : [];\n      var width = track.width;\n      var height = track.height;\n      var hSpacing = track.sarRatio[0];\n      var vSpacing = track.sarRatio[1];\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        18,\n        100,\n        97,\n        105,\n        108,\n        121,\n        109,\n        111,\n        116,\n        105,\n        111,\n        110,\n        47,\n        104,\n        108,\n        115,\n        46,\n        106,\n        115,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]);\n      var avcc = new Uint8Array((_concat$concat = (_ref = [\n        1,\n        sps[1],\n        sps[2],\n        sps[3],\n        252 | 3,\n        224 | 1,\n        sps.length >>> 8 & 255,\n        sps.length & 255\n      ]).concat.apply(_ref, _toConsumableArray(sps)).concat([1, pps.length >>> 8 & 255, pps.length & 255])).concat.apply(_concat$concat, _toConsumableArray(pps)));\n      var btrt = new Uint8Array([0, 0, 88, 57, 0, 15, 200, 192, 0, 4, 86, 72]);\n      var sinf = MP42.sinf(track.encv);\n      var pasp = new Uint8Array([\n        hSpacing >> 24,\n        hSpacing >> 16 & 255,\n        hSpacing >> 8 & 255,\n        hSpacing & 255,\n        vSpacing >> 24,\n        vSpacing >> 16 & 255,\n        vSpacing >> 8 & 255,\n        vSpacing & 255\n      ]);\n      return MP42.box(MP42.types.encv, content, MP42.box(MP42.types.avcC, avcc), MP42.box(MP42.types.btrt, btrt), sinf, MP42.box(MP42.types.pasp, pasp));\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(data) {\n      var content = new Uint8Array([]);\n      var tenc = MP42.tenc(data);\n      return MP42.box(MP42.types.schi, content, tenc);\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(data) {\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.default_IsEncrypted & 255,\n        data.default_IV_size & 255\n      ].concat(parse(data.default_KID)));\n      return MP42.box(MP42.types.tenc, content);\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(data) {\n      var content = new Uint8Array([]);\n      var frma = new Uint8Array([data.data_format.charCodeAt(0), data.data_format.charCodeAt(1), data.data_format.charCodeAt(2), data.data_format.charCodeAt(3)]);\n      var schm = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        99,\n        101,\n        110,\n        99,\n        0,\n        1,\n        0,\n        0\n      ]);\n      var schi = MP42.schi(data);\n      return MP42.box(MP42.types.sinf, content, MP42.box(MP42.types.frma, frma), MP42.box(MP42.types.schm, schm), schi);\n    }\n  }, {\n    key: \"avc1hev1\",\n    value: function avc1hev1(track) {\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var typ = isHevc ? MP42.types.hvc1 : MP42.types.avc1;\n      var config = isHevc ? MP42.hvcC(track) : MP42.avcC(track);\n      var boxes = [new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), config];\n      if (isHevc) {\n        boxes.push(MP42.box(MP42.types.fiel, new Uint8Array([1, 0])));\n      } else if (track.sarRatio && track.sarRatio.length > 1) {\n        boxes.push(MP42.pasp(track.sarRatio));\n      }\n      return MP42.box.apply(MP42, [typ].concat(boxes));\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(track) {\n      var _concat$concat2, _ref2;\n      var sps = [];\n      var pps = [];\n      var len;\n      track.sps.forEach(function(s) {\n        len = s.byteLength;\n        sps.push(len >>> 8 & 255);\n        sps.push(len & 255);\n        sps.push.apply(sps, _toConsumableArray(s));\n      });\n      track.pps.forEach(function(p) {\n        len = p.byteLength;\n        pps.push(len >>> 8 & 255);\n        pps.push(len & 255);\n        pps.push.apply(pps, _toConsumableArray(p));\n      });\n      return MP42.box(MP42.types.avcC, new Uint8Array((_concat$concat2 = (_ref2 = [\n        1,\n        sps[3],\n        sps[4],\n        sps[5],\n        252 | 3,\n        224 | track.sps.length\n      ]).concat.apply(_ref2, sps).concat([track.pps.length])).concat.apply(_concat$concat2, pps)));\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(track) {\n      var hvcC2 = track.hvcC;\n      if (hvcC2 instanceof ArrayBuffer || hvcC2 instanceof Uint8Array)\n        return hvcC2;\n      var vps = track.vps, sps = track.sps, pps = track.pps;\n      var data;\n      if (hvcC2) {\n        var pcf = hvcC2.generalProfileCompatibilityFlags;\n        var cif = hvcC2.generalConstraintIndicatorFlags;\n        var numOfArrays = (vps.length && 1) + (sps.length && 1) + (pps.length && 1);\n        data = [\n          1,\n          hvcC2.generalProfileSpace << 6 | hvcC2.generalTierFlag << 5 | hvcC2.generalProfileIdc,\n          pcf >>> 24,\n          pcf >>> 16,\n          pcf >>> 8,\n          pcf,\n          cif[0],\n          cif[1],\n          cif[2],\n          cif[3],\n          cif[4],\n          cif[5],\n          hvcC2.generalLevelIdc,\n          240,\n          0,\n          252,\n          hvcC2.chromaFormatIdc | 252,\n          hvcC2.bitDepthLumaMinus8 | 248,\n          hvcC2.bitDepthChromaMinus8 | 248,\n          0,\n          0,\n          hvcC2.numTemporalLayers << 3 | hvcC2.temporalIdNested << 2 | 3,\n          numOfArrays\n        ];\n        var write = function write2(x) {\n          var _data;\n          data.push(x.length >> 8, x.length);\n          (_data = data).push.apply(_data, _toConsumableArray(x));\n        };\n        if (vps.length) {\n          data.push(160, 0, vps.length);\n          vps.forEach(write);\n        }\n        if (sps.length) {\n          data.push(161, 0, sps.length);\n          sps.forEach(write);\n        }\n        if (pps.length) {\n          data.push(162, 0, pps.length);\n          pps.forEach(write);\n        }\n      } else {\n        data = [\n          1,\n          1,\n          96,\n          0,\n          0,\n          0,\n          144,\n          0,\n          0,\n          0,\n          0,\n          0,\n          93,\n          240,\n          0,\n          252,\n          253,\n          248,\n          248,\n          0,\n          0,\n          15,\n          3,\n          160,\n          0,\n          1,\n          0,\n          24,\n          64,\n          1,\n          12,\n          1,\n          255,\n          255,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          153,\n          152,\n          9,\n          161,\n          0,\n          1,\n          0,\n          45,\n          66,\n          1,\n          1,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          160,\n          2,\n          128,\n          128,\n          45,\n          22,\n          89,\n          153,\n          164,\n          147,\n          43,\n          154,\n          128,\n          128,\n          128,\n          130,\n          0,\n          0,\n          3,\n          0,\n          2,\n          0,\n          0,\n          3,\n          0,\n          50,\n          16,\n          162,\n          0,\n          1,\n          0,\n          7,\n          68,\n          1,\n          193,\n          114,\n          180,\n          98,\n          64\n        ];\n      }\n      return MP42.box(MP42.types.hvcC, new Uint8Array(data));\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2), hSpacing = _ref4[0], vSpacing = _ref4[1];\n      return MP42.box(MP42.types.pasp, new Uint8Array([hSpacing >> 24, hSpacing >> 16 & 255, hSpacing >> 8 & 255, hSpacing & 255, vSpacing >> 24, vSpacing >> 16 & 255, vSpacing >> 8 & 255, vSpacing & 255]));\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(track) {\n      return MP42.box(MP42.types.mp4a, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]), track.config.length ? MP42.esds(track.config) : void 0);\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(config) {\n      var len = config.length;\n      var esds2 = MP42.box(MP42.types.esds, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        3,\n        23 + len,\n        0,\n        0,\n        0,\n        4,\n        15 + len,\n        64,\n        21,\n        0,\n        6,\n        0,\n        0,\n        0,\n        218,\n        192,\n        0,\n        0,\n        218,\n        192,\n        5\n      ].concat([len]).concat(config).concat(\n        [6, 1, 2]\n      )));\n      return esds2;\n    }\n  }, {\n    key: \"mvex\",\n    value: function mvex(tracks) {\n      var mvex2 = MP42.box.apply(MP42, [MP42.types.mvex].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trex(t.id);\n      }))));\n      return mvex2;\n    }\n  }, {\n    key: \"trex\",\n    value: function trex(id) {\n      var trex2 = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        1\n      ]));\n      return trex2;\n    }\n  }, {\n    key: \"trex1\",\n    value: function trex1(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"trex2\",\n    value: function trex2(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(tracks) {\n      var moof2 = MP42.box.apply(MP42, [MP42.types.moof, MP42.mfhd(tracks[0].samples ? tracks[0].samples[0].gopId : 0)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.traf(t);\n      }))));\n      return moof2;\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(sequenceNumber) {\n      var mfhd2 = MP42.box(MP42.types.mfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        sequenceNumber >> 24,\n        sequenceNumber >> 16 & 255,\n        sequenceNumber >> 8 & 255,\n        sequenceNumber & 255\n      ]));\n      return mfhd2;\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(track) {\n      var tfhd = MP42.tfhd(track.id);\n      var tfdt = MP42.tfdt(track, track.baseMediaDecodeTime);\n      var sencLength = 0;\n      var samples;\n      if (track.isVideo && track.videoSenc) {\n        samples = track.videoSenc;\n        samples.forEach(function(item) {\n          sencLength = sencLength + 8;\n          if (item.subsamples && item.subsamples.length) {\n            sencLength = sencLength + 2;\n            sencLength = sencLength + item.subsamples.length * 6;\n          }\n        });\n      }\n      track.videoSencLength = sencLength;\n      if (!track.useEME || !track.isVideoEncryption && !track.isAudioEncryption) {\n        var sdtp = MP42.sdtp(track);\n        var offset = 16 + 20 + 8 + 16 + 8 + 8;\n        return MP42.box(MP42.types.traf, tfhd, tfdt, sdtp, MP42.trun(track.samples, sdtp.byteLength + offset));\n      } else if (track.isVideoEncryption) {\n        if (track.isVideo) {\n          var saiz = MP42.saiz(track);\n          var saio = MP42.saio(track);\n          var trun = MP42.trun1(track);\n          var senc = MP42.senc(track);\n          var traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, saiz, saio, trun, senc);\n          return traf2;\n        } else {\n          if (!track.isAudioEncryption) {\n            var sbgp = MP42.sbgp();\n            var _trun = MP42.trun1(track);\n            return MP42.box(MP42.types.traf, tfhd, tfdt, sbgp, _trun);\n          } else {\n            var _sbgp = MP42.sbgp();\n            var _saiz = MP42.saiz(track);\n            var _saio = MP42.saio(track);\n            var _senc = MP42.senc(track);\n            var _trun2 = MP42.trun1(track);\n            var _traf = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp, _saiz, _saio, _senc, _trun2);\n            return _traf;\n          }\n        }\n      } else {\n        if (track.isVideo) {\n          var _trun3 = MP42.trun1(track);\n          return MP42.box(MP42.types.traf, tfhd, tfdt, _trun3);\n        } else {\n          var _sbgp2 = MP42.sbgp();\n          var _saiz2 = MP42.saiz(track);\n          var _saio2 = MP42.saio(track);\n          var _senc2 = MP42.senc(track);\n          var _trun4 = MP42.trun1(track);\n          var _traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp2, _saiz2, _saio2, _senc2, _trun4);\n          return _traf2;\n        }\n      }\n    }\n  }, {\n    key: \"sdtp\",\n    value: function sdtp(data) {\n      var buffer = new Buffer();\n      data.samples.forEach(function(item) {\n        buffer.write(new Uint8Array(data.isVideo ? [item.keyframe ? 32 : 16] : [16]));\n      });\n      return MP42.box(MP42.types.sdtp, this.extension(0, 0), buffer.buffer);\n    }\n  }, {\n    key: \"trun1\",\n    value: function trun1(data) {\n      var buffer = new Buffer();\n      var sampleCount = Buffer.writeUint32(data.samples.length);\n      var offset = null;\n      if (data.isVideo) {\n        var sencLength = data.videoSencLength;\n        offset = Buffer.writeUint32(data.samples.length * 16 + sencLength + 149);\n        if (!data.isVideoEncryption && data.isAudioEncryption) {\n          offset = Buffer.writeUint32(data.samples.length * 16 + 92);\n        }\n      } else {\n        var len = data.samples.length * 12 + 124;\n        if (data.isAudioEncryption) {\n          len = data.samples.length * 12 + 8 * data.audioSenc.length + 177;\n        }\n        offset = Buffer.writeUint32(len);\n      }\n      data.samples.forEach(function(item) {\n        buffer.write(Buffer.writeUint32(item.duration));\n        buffer.write(Buffer.writeUint32(item.size));\n        buffer.write(Buffer.writeUint32(item.keyframe ? 33554432 : 65536));\n        if (data.isVideo) {\n          buffer.write(Buffer.writeUint32(item.cts ? item.cts : 0));\n        }\n      });\n      return MP42.box(MP42.types.trun, this.extension(0, data.flags), sampleCount, offset, buffer.buffer);\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(data) {\n      var buffer = new Buffer();\n      var len = data.samples.length;\n      var ceil = data.isVideo ? 16 : 8;\n      var flag = data.isVideo ? 2 : 0;\n      var samples = [];\n      var samplesLength = 0;\n      if (data.isVideo) {\n        samples = data.videoSenc;\n        samplesLength = data.videoSencLength;\n      } else {\n        samples = data.audioSenc;\n      }\n      samplesLength = samplesLength || ceil * len;\n      buffer.write(Buffer.writeUint32(16 + samplesLength), MP42.types.senc, this.extension(0, flag));\n      buffer.write(Buffer.writeUint32(len));\n      samples.forEach(function(item) {\n        for (var i = 0; i < item.InitializationVector.length; i++) {\n          buffer.write(new Uint8Array([item.InitializationVector[i]]));\n        }\n        if (item.subsamples && item.subsamples.length) {\n          buffer.write(Buffer.writeUint16(item.subsamples.length));\n          item.subsamples.forEach(function(value) {\n            buffer.write(Buffer.writeUint16(value.BytesOfClearData));\n            buffer.write(Buffer.writeUint32(value.BytesOfProtectedData));\n          });\n        }\n      });\n      return buffer.buffer;\n    }\n  }, {\n    key: \"saio\",\n    value: function saio(data) {\n      var length = data.samples.length * 12 + 141;\n      if (!data.isVideo && data.isAudioEncryption) {\n        length = 149;\n      }\n      var content = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, length >> 24 & 255, length >> 16 & 255, length >> 8 & 255, length & 255]);\n      return MP42.box(MP42.types.saio, content);\n    }\n  }, {\n    key: \"saiz\",\n    value: function saiz(data) {\n      var samplesLength = data.samples.length;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        16,\n        samplesLength >> 24 & 255,\n        samplesLength >> 16 & 255,\n        samplesLength >> 8 & 255,\n        samplesLength & 255\n      ]);\n      return MP42.box(MP42.types.saiz, content);\n    }\n  }, {\n    key: \"sbgp\",\n    value: function sbgp() {\n      var content = new Uint8Array([\n        114,\n        111,\n        108,\n        108,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        1,\n        25,\n        0,\n        0,\n        0,\n        1\n      ]);\n      return MP42.box(MP42.types.sbgp, this.extension(0, 0), content);\n    }\n  }, {\n    key: \"extension\",\n    value: function extension(version, flag) {\n      return new Uint8Array([version, flag >> 16 & 255, flag >> 8 & 255, flag & 255]);\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(id) {\n      return MP42.box(MP42.types.tfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255\n      ]));\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(data, baseMediaDecodeTime) {\n      var upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));\n      var lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));\n      if (data.useEME && (data.isVideoEncryption || data.isAudioEncryption)) {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          0,\n          0,\n          0,\n          0,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      } else {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          1,\n          0,\n          0,\n          0,\n          upperWordBaseMediaDecodeTime >> 24,\n          upperWordBaseMediaDecodeTime >> 16 & 255,\n          upperWordBaseMediaDecodeTime >> 8 & 255,\n          upperWordBaseMediaDecodeTime & 255,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      }\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(samples, offset) {\n      var sampleLen = samples.length;\n      var dataLen = 12 + 16 * sampleLen;\n      offset += 8 + dataLen;\n      var data = new Uint8Array(dataLen);\n      data.set([\n        0,\n        0,\n        15,\n        1,\n        sampleLen >>> 24 & 255,\n        sampleLen >>> 16 & 255,\n        sampleLen >>> 8 & 255,\n        sampleLen & 255,\n        offset >>> 24 & 255,\n        offset >>> 16 & 255,\n        offset >>> 8 & 255,\n        offset & 255\n      ], 0);\n      for (var i = 0; i < sampleLen; i++) {\n        var _samples$i = samples[i], duration = _samples$i.duration, size = _samples$i.size, _samples$i$flag = _samples$i.flag, flag = _samples$i$flag === void 0 ? {} : _samples$i$flag, _samples$i$cts = _samples$i.cts, cts = _samples$i$cts === void 0 ? 0 : _samples$i$cts;\n        data.set([\n          duration >>> 24 & 255,\n          duration >>> 16 & 255,\n          duration >>> 8 & 255,\n          duration & 255,\n          size >>> 24 & 255,\n          size >>> 16 & 255,\n          size >>> 8 & 255,\n          size & 255,\n          flag.isLeading << 2 | (flag.dependsOn === null || flag.dependsOn === void 0 ? 1 : flag.dependsOn),\n          flag.isDependedOn << 6 | flag.hasRedundancy << 4 | flag.paddingValue << 1 | (flag.isNonSyncSample === null || flag.isNonSyncSample === void 0 ? 1 : flag.isNonSyncSample),\n          flag.degradationPriority & 240 << 8,\n          flag.degradationPriority & 15,\n          cts >>> 24 & 255,\n          cts >>> 16 & 255,\n          cts >>> 8 & 255,\n          cts & 255\n        ], 12 + 16 * i);\n      }\n      return MP42.box(MP42.types.trun, data);\n    }\n  }, {\n    key: \"moovMP4\",\n    value: function moovMP4(tracks) {\n      return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].duration, tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trackMP4(t);\n      }))));\n    }\n  }, {\n    key: \"trackMP4\",\n    value: function trackMP4(track) {\n      return MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.duration, track.width, track.height), MP42.mdiaMP4(track));\n    }\n  }, {\n    key: \"mdiaMP4\",\n    value: function mdiaMP4(track) {\n      return MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minfMP4(track));\n    }\n  }, {\n    key: \"minfMP4\",\n    value: function minfMP4(track) {\n      return MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stblMP4(track));\n    }\n  }, {\n    key: \"stblMP4\",\n    value: function stblMP4(track) {\n      var ext = track.ext;\n      var boxes = [MP42.stsd(track), MP42.stts(ext.stts), MP42.stsc(ext.stsc), MP42.stsz(ext.stsz), MP42.stco(ext.stco)];\n      if (ext.stss.length) {\n        boxes.push(MP42.stss(ext.stss));\n      }\n      if (ext.ctts.length) {\n        boxes.push(MP42.ctts(ext.ctts));\n      }\n      return MP42.box.apply(MP42, [MP42.types.stbl].concat(boxes));\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref5) {\n        var value = _ref5.value, count = _ref5.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.stts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(entries) {\n      var len = entries.length;\n      var data = new Uint8Array(12 * len);\n      var offset = 0;\n      entries.forEach(function(_ref6) {\n        var firstChunk = _ref6.firstChunk, samplesPerChunk = _ref6.samplesPerChunk, sampleDescIndex = _ref6.sampleDescIndex;\n        data.set([firstChunk >> 24, firstChunk >> 16 & 255, firstChunk >> 8 & 255, firstChunk & 255, samplesPerChunk >> 24, samplesPerChunk >> 16 & 255, samplesPerChunk >> 8 & 255, samplesPerChunk & 255, sampleDescIndex >> 24, sampleDescIndex >> 16 & 255, sampleDescIndex >> 8 & 255, sampleDescIndex & 255], offset);\n        offset += 12;\n      });\n      return MP42.box(MP42.types.stsc, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(samplesSizes) {\n      var len = samplesSizes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      samplesSizes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stsz, concatUint8Array(new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(offsets) {\n      var len = offsets.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      offsets.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stco, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(keyframeIndexes) {\n      var len = keyframeIndexes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      keyframeIndexes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stss, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref7) {\n        var value = _ref7.value, count = _ref7.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.ctts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"styp\",\n    value: function styp() {\n      return MP42.box(MP42.types.styp, new Uint8Array([109, 115, 100, 104, 0, 0, 0, 0, 109, 115, 100, 104, 109, 115, 105, 120]));\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(data) {\n      var timescale = data.timescale;\n      var duration = data.samples[0].duration;\n      var durationCount = duration * data.samples.length;\n      var earliestTime = data.samples[0].sampleOffset * duration;\n      var mdatSize = 8;\n      data.samples.forEach(function(item) {\n        mdatSize += item.size;\n      });\n      var length = 0;\n      if (data.isVideo) {\n        var sencLength = 0;\n        var samples;\n        if (data.videoSenc) {\n          samples = data.videoSenc;\n        }\n        if (data.isVideo) {\n          samples.forEach(function(item) {\n            sencLength = sencLength + 8;\n            if (item.subsamples && item.subsamples.length) {\n              sencLength = sencLength + 2;\n              sencLength = sencLength + item.subsamples.length * 6;\n            }\n          });\n        }\n        data.videoSencLength = sencLength;\n        length = mdatSize + 141 + data.samples.length * 16 + sencLength;\n        if (data.useEME && data.isAudioEncryption && !data.isVideoEncryption) {\n          length = mdatSize + data.samples.length * 16 + 84;\n        }\n      } else {\n        length = mdatSize + 116 + data.samples.length * 12;\n        if (data.useEME && data.isAudioEncryption) {\n          length = mdatSize + 169 + data.samples.length * 12 + 8 * data.audioSenc.length;\n        }\n      }\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.id & 255,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        earliestTime >> 24 & 255,\n        earliestTime >> 16 & 255,\n        earliestTime >> 8 & 255,\n        earliestTime & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        length >> 16 & 255,\n        length >> 8 & 255,\n        length & 255,\n        durationCount >> 24 & 255,\n        durationCount >> 16 & 255,\n        durationCount >> 8 & 255,\n        durationCount & 255,\n        144,\n        0,\n        0,\n        0\n      ]);\n      return MP42.box(MP42.types.sidx, content);\n    }\n  }, {\n    key: \"mdat\",\n    value: function mdat(data) {\n      var mdat2 = MP42.box(MP42.types.mdat, data);\n      return mdat2;\n    }\n  }]);\n  return MP42;\n}();\n_defineProperty(MP4, \"types\", [\"avc1\", \"avcC\", \"hvc1\", \"hvcC\", \"dinf\", \"dref\", \"esds\", \"ftyp\", \"hdlr\", \"mdat\", \"mdhd\", \"mdia\", \"mfhd\", \"minf\", \"moof\", \"moov\", \"mp4a\", \"mvex\", \"mvhd\", \"pasp\", \"stbl\", \"stco\", \"stsc\", \"stsd\", \"stsz\", \"stts\", \"tfdt\", \"tfhd\", \"traf\", \"trak\", \"trex\", \"tkhd\", \"vmhd\", \"smhd\", \"ctts\", \"stss\", \"styp\", \"pssh\", \"sidx\", \"sbgp\", \"saiz\", \"saio\", \"senc\", \"trun\", \"encv\", \"enca\", \"sinf\", \"btrt\", \"frma\", \"tenc\", \"schm\", \"schi\", \"mehd\", \"fiel\", \"sdtp\"].reduce(function(p, c) {\n  p[c] = [c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2), c.charCodeAt(3)];\n  return p;\n}, /* @__PURE__ */ Object.create(null)));\n_defineProperty(MP4, \"HDLR_TYPES\", {\n  video: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    118,\n    105,\n    100,\n    101,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    86,\n    105,\n    100,\n    101,\n    111,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ]),\n  audio: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    115,\n    111,\n    117,\n    110,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    83,\n    111,\n    117,\n    110,\n    100,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ])\n});\n_defineProperty(MP4, \"FTYPAVC1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  97,\n  118,\n  99,\n  49\n])));\n_defineProperty(MP4, \"FTYPHEV1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  104,\n  101,\n  118,\n  49\n])));\n_defineProperty(MP4, \"DINF\", MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  12,\n  117,\n  114,\n  108,\n  32,\n  0,\n  0,\n  0,\n  1\n]))));\n_defineProperty(MP4, \"VMHD\", MP4.box(MP4.types.vmhd, new Uint8Array([\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"SMHD\", MP4.box(MP4.types.smhd, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"StblTable\", new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n]));\n_defineProperty(MP4, \"STTS\", MP4.box(MP4.types.stts, MP4.StblTable));\n_defineProperty(MP4, \"STSC\", MP4.box(MP4.types.stsc, MP4.StblTable));\n_defineProperty(MP4, \"STSZ\", MP4.box(MP4.types.stsz, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"STCO\", MP4.box(MP4.types.stco, MP4.StblTable));\nexport { MP4 };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, enable) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    Logger2.disabled = enable;\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).debug.apply(_console, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      if (Logger2.disabled)\n        return;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      (_console2 = console).log.apply(_console2, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      if (Logger2.disabled)\n        return;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      (_console3 = console).warn.apply(_console3, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      if (Logger2.disabled)\n        return;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      (_console4 = console).error.apply(_console4, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MP4 } from \"./mp4.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"./logger.js\";\nvar FMP4Remuxer = /* @__PURE__ */ function() {\n  function FMP4Remuxer2(videoTrack, audioTrack, options) {\n    _classCallCheck(this, FMP4Remuxer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    var browserVersions = /Chrome\\/([^.]+)/.exec(navigator.userAgent);\n    this.forceFirstIDR = browserVersions && Number(browserVersions[1]) < 50;\n    this.log = new Logger(\"FMP4Remuxer\", options && options.openLog ? !options.openLog : true);\n  }\n  _createClass(FMP4Remuxer2, [{\n    key: \"remux\",\n    value: function remux() {\n      var createInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var hasVideo = videoTrack.exist();\n      var hasAudio = audioTrack.exist();\n      var videoInitSegment;\n      var audioInitSegment;\n      var initSegment;\n      var tracks = [];\n      if (createInit) {\n        if (options && options.initMerge) {\n          if (hasVideo) {\n            tracks.push(this.videoTrack);\n          }\n          if (hasAudio) {\n            tracks.push(this.audioTrack);\n          }\n          initSegment = MP4.initSegment(tracks);\n        } else {\n          if (hasVideo)\n            videoInitSegment = MP4.initSegment([this.videoTrack]);\n          if (hasAudio)\n            audioInitSegment = MP4.initSegment([this.audioTrack]);\n        }\n      }\n      var videoSegment;\n      var audioSegment;\n      if (hasVideo && videoTrack.hasSample()) {\n        videoSegment = this._remuxVideo();\n      }\n      if (hasAudio && audioTrack.hasSample()) {\n        audioSegment = this._remuxAudio();\n      }\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      return {\n        initSegment,\n        videoInitSegment,\n        audioInitSegment,\n        videoSegment,\n        audioSegment\n      };\n    }\n  }, {\n    key: \"_remuxVideo\",\n    value: function _remuxVideo() {\n      var track = this.videoTrack;\n      if (this.forceFirstIDR) {\n        track.samples[0].flag = {\n          dependsOn: 2,\n          isNonSyncSample: 0\n        };\n      }\n      var samples = track.samples;\n      var mdatSize = 0;\n      samples.forEach(function(s) {\n        mdatSize += s.units.reduce(function(t, c) {\n          return t + c.byteLength;\n        }, 0);\n        mdatSize += s.units.length * 4;\n      });\n      var mdata = new Uint8Array(mdatSize);\n      var mdatView = new DataView(mdata.buffer);\n      var _loop = function _loop2(_offset, _sample) {\n        _sample = samples[i];\n        var sampleSize = 0;\n        _sample.units.forEach(function(u) {\n          mdatView.setUint32(_offset, u.byteLength);\n          _offset += 4;\n          mdata.set(u, _offset);\n          _offset += u.byteLength;\n          sampleSize += 4 + u.byteLength;\n        });\n        _sample.size = sampleSize;\n        offset = _offset, sample = _sample;\n      };\n      for (var i = 0, l = samples.length, offset = 0, sample; i < l; i++) {\n        _loop(offset, sample);\n      }\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"_remuxAudio\",\n    value: function _remuxAudio() {\n      var track = this.audioTrack;\n      var mdata = new Uint8Array(track.samples.reduce(function(t, c) {\n        return t + c.size;\n      }, 0));\n      track.samples.reduce(function(offset, s) {\n        mdata.set(s.data, offset);\n        return offset + s.size;\n      }, 0);\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n    }\n  }]);\n  return FMP4Remuxer2;\n}();\nexport { FMP4Remuxer };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nvar Event = _objectSpread2(_objectSpread2({}, EVENT), {}, {\n  STREAM_PARSED: \"core.streamparsed\",\n  NO_AUDIO_TRACK: \"core.noaudiotrack\",\n  SUBTITLE_SEGMENTS: \"core.subtitlesegments\",\n  SUBTITLE_PLAYLIST: \"core.subtitleplaylist\",\n  SEI_PAYLOAD_TIME: \"core.seipayloadtime\",\n  APPEND_COST: \"core.appendcost\"\n});\nexport { Event };\n","import { createClass as _createClass, objectSpread2 as _objectSpread2, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger, concatUint8Array, StreamingError, ERR } from \"xgplayer-streaming-shared\";\nimport { TrackType, WarningType, FMP4Demuxer, TsDemuxer, FMP4Remuxer } from \"xgplayer-transmuxer\";\nimport { Event } from \"../../constants.js\";\nvar logger = new Logger(\"Transmuxer\");\nvar Transmuxer = /* @__PURE__ */ function() {\n  function Transmuxer2(hls, isMP4, needRemux) {\n    _classCallCheck(this, Transmuxer2);\n    _defineProperty(this, \"_initSegmentId\", \"\");\n    this.hls = hls;\n    this._demuxer = isMP4 ? new FMP4Demuxer() : new TsDemuxer();\n    this._isMP4 = isMP4;\n    if (needRemux)\n      this._remuxer = new FMP4Remuxer(this._demuxer.videoTrack, this._demuxer.audioTrack);\n  }\n  _createClass(Transmuxer2, [{\n    key: \"transmux\",\n    value: function transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, needInit) {\n      var demuxer = this._demuxer;\n      try {\n        if (this._isMP4) {\n          demuxer.demux(videoChunk, audioChunk);\n        } else {\n          demuxer.demuxAndFix(concatUint8Array(videoChunk, audioChunk), discontinuity, contiguous, startTime);\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.DEMUX, ERR.SUB_TYPES.HLS, error);\n      }\n      var videoTrack = demuxer.videoTrack, audioTrack = demuxer.audioTrack, metadataTrack = demuxer.metadataTrack;\n      var vParsed = {\n        codec: videoTrack.codec,\n        timescale: videoTrack.timescale,\n        firstDts: videoTrack.firstDts / videoTrack.timescale,\n        firstPts: videoTrack.firstPts / videoTrack.timescale,\n        duration: videoTrack.samplesDuration / videoTrack.timescale\n      };\n      var aParsed = {\n        codec: audioTrack.codec,\n        timescale: audioTrack.timescale,\n        firstDts: audioTrack.firstDts / videoTrack.timescale,\n        firstPts: audioTrack.firstPts / videoTrack.timescale,\n        duration: audioTrack.samplesDuration / videoTrack.timescale\n      };\n      var newId = \"\".concat(videoTrack.codec, \"/\").concat(videoTrack.width, \"/\").concat(videoTrack.height, \"/\").concat(audioTrack.codec, \"/\").concat(audioTrack.config);\n      if (newId !== this._initSegmentId) {\n        this._initSegmentId = newId;\n        needInit = true;\n      }\n      this._fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity || needInit);\n      this.hls.emit(Event.DEMUXED_TRACK, {\n        videoTrack,\n        audioTrack\n      });\n      if (this._remuxer) {\n        if (needInit && this.hls.isLive && !this.hls.config.mseLowLatency) {\n          videoTrack.duration = this.hls.totalDuration * videoTrack.timescale;\n          audioTrack.duration = this.hls.totalDuration * audioTrack.timescale;\n        }\n        try {\n          var _this$_remuxer$remux = this._remuxer.remux(needInit), videoInitSegment = _this$_remuxer$remux.videoInitSegment, videoSegment = _this$_remuxer$remux.videoSegment, audioInitSegment = _this$_remuxer$remux.audioInitSegment, audioSegment = _this$_remuxer$remux.audioSegment;\n          var v = concatUint8Array(videoInitSegment, videoSegment);\n          var a = concatUint8Array(audioInitSegment, audioSegment);\n          return [v ? _objectSpread2(_objectSpread2({}, vParsed), {}, {\n            data: v\n          }) : void 0, a ? _objectSpread2(_objectSpread2({}, aParsed), {}, {\n            data: a\n          }) : void 0];\n        } catch (error) {\n          throw new StreamingError(ERR.REMUX, ERR.SUB_TYPES.FMP4, error);\n        }\n      } else {\n        return [videoTrack, audioTrack];\n      }\n    }\n  }, {\n    key: \"_fireEvents\",\n    value: function _fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity) {\n      var _this = this;\n      var tracks = [videoTrack, audioTrack];\n      var logCC = \"discontinuity: \".concat(discontinuity);\n      tracks.forEach(function(track) {\n        var _track$samples;\n        if ((_track$samples = track.samples) !== null && _track$samples !== void 0 && _track$samples.length) {\n          logCC += \"; \".concat(track.samples.length, \" \").concat(track.type === TrackType.VIDEO ? \"video\" : \"audio\", \" samples, firstDts/firstPts/duration: \").concat((track.firstDts / track.timescale).toFixed(3), \"/\").concat((track.firstPts / track.timescale).toFixed(3), \"/\").concat((track.samplesDuration / track.timescale).toFixed(3));\n        }\n        if (discontinuity && track.exist()) {\n          _this.hls.emit(Event.METADATA_PARSED, {\n            type: track.type,\n            track,\n            meta: _objectSpread2({\n              codec: track.codec,\n              timescale: track.timescale,\n              baseDts: track.baseDts\n            }, track.type === TrackType.VIDEO ? {\n              width: track.width,\n              height: track.height,\n              sarRatio: track.sarRatio\n            } : {\n              codec: track.codec,\n              channelCount: track.channelCount,\n              sampleRate: track.sampleRate\n            })\n          });\n        }\n      });\n      logger.debug(logCC);\n      videoTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AV_SHIFT:\n            type = Event.LARGE_AV_FIRST_FRAME_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP:\n            type = Event.LARGE_VIDEO_DTS_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK:\n            type = Event.MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"video exception\", warn);\n      });\n      audioTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AUDIO_GAP:\n            type = Event.LARGE_AUDIO_DTS_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_FILLED:\n            type = Event.AUDIO_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_DROPPED:\n            type = Event.AUDIO_OVERLAP_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"audio exception\", warn);\n      });\n      videoTrack.samples.forEach(function(sample) {\n        if (sample.keyframe) {\n          _this.hls.emit(Event.KEYFRAME, {\n            pts: sample.pts\n          });\n        }\n      });\n      metadataTrack.seiSamples.forEach(function(sei) {\n        _this.hls.emit(Event.SEI, _objectSpread2(_objectSpread2({}, sei), {}, {\n          originPts: sei.originPts / 90,\n          sei: {\n            code: sei.data.type,\n            content: sei.data.payload,\n            dts: sei.pts\n          }\n        }));\n      });\n    }\n  }]);\n  return Transmuxer2;\n}();\nexport { Transmuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray, objectWithoutProperties as _objectWithoutProperties } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsDemuxer, MP4Parser } from \"xgplayer-transmuxer\";\nimport { Logger, StreamingError, ERR, MSE, EVENT, Buffer } from \"xgplayer-streaming-shared\";\nimport { Decryptor } from \"./decrypt/index.js\";\nimport { Transmuxer } from \"./transmuxer/index.js\";\nimport { Event } from \"../constants.js\";\nvar _excluded = [\"data\"], _excluded2 = [\"data\"];\nvar logger = new Logger(\"BufferService\");\nvar BufferService = /* @__PURE__ */ function() {\n  function BufferService2(hls) {\n    var _this = this;\n    _classCallCheck(this, BufferService2);\n    _defineProperty(this, \"_decryptor\", new Decryptor());\n    _defineProperty(this, \"_transmuxer\", null);\n    _defineProperty(this, \"_mse\", null);\n    _defineProperty(this, \"_softVideo\", null);\n    _defineProperty(this, \"_sourceCreated\", false);\n    _defineProperty(this, \"_needInitSegment\", true);\n    _defineProperty(this, \"_directAppend\", false);\n    this.hls = hls;\n    if (hls.config.softDecode) {\n      this._softVideo = hls.media;\n    } else {\n      this._mse = new MSE(null, {\n        preferMMS: hls.config.preferMMS\n      });\n      if (hls.config.url) {\n        this._mse.bindMedia(hls.media).then(function(e) {\n          _this.hls.emit(EVENT.MEDIASOURCE_OPENED, e);\n        });\n      }\n    }\n    if (hls.config.decryptor) {\n      this._decryptor.externalDecryptor = hls.config.decryptor;\n    }\n  }\n  _createClass(BufferService2, [{\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_transmuxer, _this$_transmuxer$_de, _this$_transmuxer$_de2;\n      return (_this$_transmuxer = this._transmuxer) === null || _this$_transmuxer === void 0 ? void 0 : (_this$_transmuxer$_de = _this$_transmuxer._demuxer) === null || _this$_transmuxer$_de === void 0 ? void 0 : (_this$_transmuxer$_de2 = _this$_transmuxer$_de._fixer) === null || _this$_transmuxer$_de2 === void 0 ? void 0 : _this$_transmuxer$_de2._baseDts;\n    }\n  }, {\n    key: \"nbSb\",\n    get: function get() {\n      var _this$_mse;\n      if (!((_this$_mse = this._mse) !== null && _this$_mse !== void 0 && _this$_mse._sourceBuffer))\n        return 0;\n      return Object.keys(this._mse._sourceBuffer).length;\n    }\n  }, {\n    key: \"msIsOpened\",\n    get: function get() {\n      var _this$_mse2;\n      return (_this$_mse2 = this._mse) === null || _this$_mse2 === void 0 ? void 0 : _this$_mse2.isOpened;\n    }\n  }, {\n    key: \"msHasOpTasks\",\n    get: function get() {\n      var _this$_mse3;\n      return (_this$_mse3 = this._mse) === null || _this$_mse3 === void 0 ? void 0 : _this$_mse3.hasOpTasks;\n    }\n  }, {\n    key: \"msStreaming\",\n    get: function get() {\n      var _this$_mse4;\n      return (_this$_mse4 = this._mse) === null || _this$_mse4 === void 0 ? void 0 : _this$_mse4.streaming;\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function() {\n      var _updateDuration = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(duration) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                logger.debug(\"update duration\", duration);\n                if (!this._mse) {\n                  _context.next = 9;\n                  break;\n                }\n                if (this._mse.isOpened) {\n                  _context.next = 5;\n                  break;\n                }\n                _context.next = 5;\n                return this._mse.open();\n              case 5:\n                _context.next = 7;\n                return this._mse.updateDuration(duration);\n              case 7:\n                _context.next = 10;\n                break;\n              case 9:\n                if (this._softVideo) {\n                  this._softVideo.duration = duration;\n                }\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function updateDuration(_x) {\n        return _updateDuration.apply(this, arguments);\n      }\n      return updateDuration;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(videoChunk, audioChunk, videoCodec, audioCodec) {\n      if (this._sourceCreated)\n        return;\n      var chunk = videoChunk || audioChunk;\n      if (!chunk)\n        return;\n      if (TsDemuxer.probe(chunk)) {\n        if (!this._transmuxer)\n          this._transmuxer = new Transmuxer(this.hls, false, !this._softVideo);\n      } else if (MP4Parser.probe(chunk)) {\n        if (this._softVideo) {\n          if (!this._transmuxer)\n            this._transmuxer = new Transmuxer(this.hls, true);\n        } else {\n          this._directAppend = true;\n          var mix = false;\n          if (videoChunk && !videoCodec) {\n            MP4Parser.findBox(videoChunk, [\"moov\", \"trak\"]).forEach(function(t) {\n              var box = MP4Parser.findBox(t.data, [\"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"])[0];\n              if (box) {\n                var e = MP4Parser.stsd(box).entries[0];\n                if (e) {\n                  if (e.hvcC) {\n                    videoCodec = e.hvcC.codec || \"hev1.1.6.L93.B0\";\n                  } else if (e.avcC) {\n                    videoCodec = e.avcC.codec;\n                  } else if (e.sampleRate || e.esds) {\n                    var _e$esds;\n                    audioCodec = ((_e$esds = e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.codec) || \"mp4a.40.2\";\n                    mix = true;\n                  }\n                }\n              }\n            });\n          }\n          if (audioChunk && !audioCodec) {\n            MP4Parser.findBox(audioChunk, [\"moov\", \"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"]).forEach(function(stsd) {\n              var e = MP4Parser.stsd(stsd).entries[0];\n              if (e && e.esds)\n                audioCodec = e.esds.codec;\n            });\n          }\n          if (videoChunk && !videoCodec)\n            videoCodec = \"avc1.42e01e\";\n          if (audioChunk && !audioCodec)\n            audioCodec = \"mp4a.40.2\";\n          if (mix) {\n            videoCodec += \", \".concat(audioCodec);\n            audioCodec = \"\";\n          }\n          this._createMseSource(videoCodec, audioCodec);\n        }\n      } else {\n        throw new StreamingError(ERR.OTHER, null, null, null, \"unsupported stream\");\n      }\n      if (this._softVideo)\n        this._sourceCreated = true;\n    }\n  }, {\n    key: \"appendBuffer\",\n    value: function() {\n      var _appendBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(segment, audioSegment, videoChunk, audioChunk, discontinuity, contiguous, startTime) {\n        var p, needInit, _this$_transmuxer$tra, _this$_transmuxer$tra2, video, audio, isFirstAppend, mse, _p, videoData, videoRest, audioData, audioRest;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!(videoChunk !== null && videoChunk !== void 0 && videoChunk.length) && !(audioChunk !== null && audioChunk !== void 0 && audioChunk.length))) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                if (!this._directAppend) {\n                  _context2.next = 7;\n                  break;\n                }\n                p = [];\n                if (videoChunk)\n                  p.push(this._mse.append(MSE.VIDEO, videoChunk));\n                if (audioChunk)\n                  p.push(this._mse.append(MSE.AUDIO, audioChunk));\n                return _context2.abrupt(\"return\", Promise.all(p));\n              case 7:\n                needInit = this._needInitSegment || discontinuity;\n                _this$_transmuxer$tra = this._transmuxer.transmux(videoChunk, audioChunk, needInit, contiguous, startTime, this._needInitSegment || discontinuity), _this$_transmuxer$tra2 = _slicedToArray(_this$_transmuxer$tra, 2), video = _this$_transmuxer$tra2[0], audio = _this$_transmuxer$tra2[1];\n                if (audioChunk && audioSegment) {\n                  audioSegment === null || audioSegment === void 0 ? void 0 : audioSegment.setTrackExist(false, true);\n                }\n                if (audioChunk && segment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(true, false);\n                }\n                if (!audioSegment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(!!video, !!audio);\n                }\n                if (video && !audio) {\n                  this.hls.emit(Event.NO_AUDIO_TRACK);\n                }\n                if (!this._softVideo) {\n                  _context2.next = 18;\n                  break;\n                }\n                this._softVideo.appendBuffer(video, audio);\n                this._needInitSegment = false;\n                _context2.next = 28;\n                break;\n              case 18:\n                if (!this._mse) {\n                  _context2.next = 28;\n                  break;\n                }\n                isFirstAppend = !this._sourceCreated;\n                if (isFirstAppend) {\n                  this._createMseSource(video === null || video === void 0 ? void 0 : video.codec, audio === null || audio === void 0 ? void 0 : audio.codec);\n                }\n                this._needInitSegment = false;\n                mse = this._mse;\n                _p = [];\n                if (needInit && !isFirstAppend) {\n                  this._handleCodecChange(video, audio);\n                }\n                if (video) {\n                  videoData = video.data, videoRest = _objectWithoutProperties(video, _excluded);\n                  _p.push(mse.append(MSE.VIDEO, videoData, videoRest));\n                }\n                if (audio) {\n                  audioData = audio.data, audioRest = _objectWithoutProperties(audio, _excluded2);\n                  _p.push(mse.append(MSE.AUDIO, audioData, audioRest));\n                }\n                return _context2.abrupt(\"return\", Promise.all(_p));\n              case 28:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function appendBuffer(_x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n        return _appendBuffer.apply(this, arguments);\n      }\n      return appendBuffer;\n    }()\n  }, {\n    key: \"removeBuffer\",\n    value: function() {\n      var _removeBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n        var _this2 = this;\n        var start, end, media, _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                start = _args3.length > 0 && _args3[0] !== void 0 ? _args3[0] : 0;\n                end = _args3.length > 1 && _args3[1] !== void 0 ? _args3[1] : Infinity;\n                media = this.hls.media;\n                if (!(!this._mse || !media || start < 0 || end < start || start >= this._mse.duration)) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 5:\n                return _context3.abrupt(\"return\", this._mse.clearBuffer(start, end).then(function() {\n                  return _this2.hls.emit(EVENT.REMOVE_BUFFER, {\n                    start,\n                    end,\n                    removeEnd: end\n                  });\n                }));\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function removeBuffer() {\n        return _removeBuffer.apply(this, arguments);\n      }\n      return removeBuffer;\n    }()\n  }, {\n    key: \"evictBuffer\",\n    value: function() {\n      var _evictBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(bufferBehind) {\n        var media, currentTime, removeEnd, start;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                media = this.hls.media;\n                if (!(!this._mse || !media || !bufferBehind || bufferBehind < 0)) {\n                  _context4.next = 3;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 3:\n                currentTime = media.currentTime;\n                removeEnd = currentTime - bufferBehind;\n                if (!(removeEnd <= 0)) {\n                  _context4.next = 7;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 7:\n                start = Buffer.start(Buffer.get(media));\n                if (!(start + 1 >= removeEnd)) {\n                  _context4.next = 10;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 10:\n                return _context4.abrupt(\"return\", this.removeBuffer(0, removeEnd));\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function evictBuffer(_x9) {\n        return _evictBuffer.apply(this, arguments);\n      }\n      return evictBuffer;\n    }()\n  }, {\n    key: \"clearAllBuffer\",\n    value: function() {\n      var _clearAllBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this._mse) {\n                  _context5.next = 2;\n                  break;\n                }\n                return _context5.abrupt(\"return\", this._mse.clearAllBuffer());\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function clearAllBuffer() {\n        return _clearAllBuffer.apply(this, arguments);\n      }\n      return clearAllBuffer;\n    }()\n  }, {\n    key: \"decryptBuffer\",\n    value: function decryptBuffer(video, audio) {\n      return this._decryptor.decrypt(video, audio);\n    }\n  }, {\n    key: \"reset\",\n    value: function() {\n      var _reset = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6() {\n        var reuseMse, _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                reuseMse = _args6.length > 0 && _args6[0] !== void 0 ? _args6[0] : false;\n                if (!(this._mse && !reuseMse)) {\n                  _context6.next = 8;\n                  break;\n                }\n                this._transmuxer = null;\n                this._sourceCreated = false;\n                _context6.next = 6;\n                return this._mse.unbindMedia();\n              case 6:\n                _context6.next = 8;\n                return this._mse.bindMedia(this.hls.media);\n              case 8:\n                this._needInitSegment = true;\n                this._directAppend = false;\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function reset() {\n        return _reset.apply(this, arguments);\n      }\n      return reset;\n    }()\n  }, {\n    key: \"endOfStream\",\n    value: function() {\n      var _endOfStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this._mse) {\n                  _context7.next = 5;\n                  break;\n                }\n                if (!this._sourceCreated) {\n                  _context7.next = 5;\n                  break;\n                }\n                _context7.next = 4;\n                return this._mse.endOfStream();\n              case 4:\n                this.hls.emit(EVENT.BUFFEREOS);\n              case 5:\n                if (this._softVideo) {\n                  this._softVideo.endOfStream();\n                }\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this);\n      }));\n      function endOfStream() {\n        return _endOfStream.apply(this, arguments);\n      }\n      return endOfStream;\n    }()\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function() {\n      var _setLiveSeekableRange = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(start, end) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (this._mse)\n                  this._mse.setLiveSeekableRange(start, end);\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this);\n      }));\n      function setLiveSeekableRange(_x10, _x11) {\n        return _setLiveSeekableRange.apply(this, arguments);\n      }\n      return setLiveSeekableRange;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9() {\n        var _this$_decryptor;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                (_this$_decryptor = this._decryptor) === null || _this$_decryptor === void 0 ? void 0 : _this$_decryptor.destroy();\n                if (!this._mse) {\n                  _context9.next = 4;\n                  break;\n                }\n                _context9.next = 4;\n                return this._mse.unbindMedia();\n              case 4:\n                this._decryptor = null;\n                this._mse = null;\n                this._softVideo = null;\n              case 7:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_createMseSource\",\n    value: function _createMseSource(videoCodec, audioCodec) {\n      logger.debug(\"create mse source, videoCodec=\".concat(videoCodec, \", audioCodec=\").concat(audioCodec));\n      var mse = this._mse;\n      if (!mse)\n        return;\n      if (videoCodec) {\n        mse.createSource(MSE.VIDEO, \"video/mp4;codecs=\".concat(videoCodec));\n        this._sourceCreated = true;\n      }\n      if (audioCodec) {\n        mse.createSource(MSE.AUDIO, \"audio/mp4;codecs=\".concat(audioCodec));\n        this._sourceCreated = true;\n      }\n      this.hls.emit(EVENT.SOURCEBUFFER_CREATED);\n    }\n  }, {\n    key: \"_handleCodecChange\",\n    value: function _handleCodecChange(video, audio) {\n      var mse = this._mse;\n      var codecList = [{\n        type: MSE.VIDEO,\n        codecs: video === null || video === void 0 ? void 0 : video.codec\n      }, {\n        type: MSE.AUDIO,\n        codecs: audio === null || audio === void 0 ? void 0 : audio.codec\n      }];\n      codecList.filter(function(item) {\n        return !!item.codecs;\n      }).forEach(function(_ref) {\n        var type = _ref.type, codecs = _ref.codecs;\n        var sourceBuffer = mse.getSourceBuffer(type);\n        if (sourceBuffer) {\n          var codec = codecs.split(\",\")[0];\n          if (!new RegExp(codec, \"ig\").test(sourceBuffer.mimeType)) {\n            mse.changeType(type, \"\".concat(type, \"/mp4;codecs=\").concat(codecs));\n          }\n        }\n      });\n    }\n  }, {\n    key: \"seamlessSwitch\",\n    value: function seamlessSwitch() {\n      this._needInitSegment = true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull() {\n      var _this$_mse5;\n      var mediaType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : MSE.VIDEO;\n      return (_this$_mse5 = this._mse) === null || _this$_mse5 === void 0 ? void 0 : _this$_mse5.isFull(mediaType);\n    }\n  }]);\n  return BufferService2;\n}();\nexport { BufferService };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction getConfig(cfg) {\n  var media = (cfg === null || cfg === void 0 ? void 0 : cfg.media) || document.createElement(\"video\");\n  return _objectSpread2(_objectSpread2({\n    maxPlaylistSize: 50,\n    retryCount: 3,\n    retryDelay: 1e3,\n    pollRetryCount: 2,\n    loadTimeout: 1e4,\n    manifestLoadTimeout: 1e4,\n    preloadTime: 30,\n    softDecode: false,\n    bufferBehind: 10,\n    maxJumpDistance: 3,\n    startTime: 0,\n    useLowLatency: true,\n    targetLatency: 10,\n    maxLatency: 20,\n    allowedStreamTrackChange: true,\n    seiInTime: false,\n    manifestList: [],\n    minSegmentsStartPlay: 3,\n    preferMMS: false,\n    preferMMSStreaming: false,\n    mseLowLatency: true\n  }, cfg), {}, {\n    media\n  });\n}\nexport { getConfig };\n","var LoaderType = {\n  FETCH: \"fetch\",\n  XHR: \"xhr\"\n};\nvar ResponseType = {\n  ARRAY_BUFFER: \"arraybuffer\",\n  TEXT: \"text\",\n  JSON: \"json\"\n};\nexport { LoaderType, ResponseType };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, wrapNativeSuper as _wrapNativeSuper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType } from \"./types.js\";\nvar NetError = /* @__PURE__ */ function(_Error) {\n  _inherits(NetError2, _Error);\n  var _super = _createSuper(NetError2);\n  function NetError2(url, request, response, msg) {\n    var _this;\n    _classCallCheck(this, NetError2);\n    _this = _super.call(this, msg);\n    _defineProperty(_assertThisInitialized(_this), \"retryCount\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"isTimeout\", false);\n    _defineProperty(_assertThisInitialized(_this), \"loaderType\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"startTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"endTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"options\", {});\n    _this.url = url;\n    _this.request = request;\n    _this.response = response;\n    return _this;\n  }\n  return _createClass(NetError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { NetError };\n","import { typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar toString = Object.prototype.toString;\nfunction isObject(a) {\n  return a !== null && _typeof(a) === \"object\";\n}\nfunction isPlainObject(val) {\n  if (toString.call(val) !== \"[object Object]\") {\n    return false;\n  }\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\nfunction isDate(a) {\n  return toString.call(a) === \"[object Date]\";\n}\nexport { isDate, isObject, isPlainObject };\n","import { isDate, isObject } from \"../is.js\";\nfunction getRangeValue(value) {\n  if (!value || value[0] === null || value[0] === void 0 || value[0] === 0 && (value[1] === null || value[1] === void 0)) {\n    return;\n  }\n  var ret = \"bytes=\" + value[0] + \"-\";\n  if (value[1])\n    ret += value[1];\n  return ret;\n}\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\nfunction setUrlParams(url, params) {\n  if (!url)\n    return;\n  if (!params)\n    return url;\n  var v;\n  var str = Object.keys(params).map(function(k) {\n    v = params[k];\n    if (v === null || v === void 0)\n      return;\n    if (Array.isArray(v)) {\n      k = k + \"[]\";\n    } else {\n      v = [v];\n    }\n    return v.map(function(x) {\n      if (isDate(x)) {\n        x = x.toISOString();\n      } else if (isObject(x)) {\n        x = JSON.stringify(x);\n      }\n      return \"\".concat(encode(k), \"=\").concat(encode(x));\n    }).join(\"&\");\n  }).filter(Boolean).join(\"&\");\n  if (str) {\n    var hashIndex = url.indexOf(\"#\");\n    if (hashIndex !== -1) {\n      url = url.slice(0, hashIndex);\n    }\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + str;\n  }\n  return url;\n}\nfunction createResponse(data, done, response, contentLength, age, startTime, firstByteTime, index, range, vid, priOptions) {\n  age = age !== null && age !== void 0 ? parseFloat(age) : null;\n  contentLength = parseInt(contentLength || \"0\", 10);\n  if (Number.isNaN(contentLength))\n    contentLength = 0;\n  var options = {\n    range,\n    vid,\n    index,\n    contentLength,\n    age,\n    startTime,\n    firstByteTime,\n    endTime: Date.now(),\n    priOptions\n  };\n  return {\n    data,\n    done,\n    options,\n    response\n  };\n}\nfunction calculateSpeed(byteLen, millisec) {\n  return Math.round(byteLen * 8 * 1e3 / millisec / 1024);\n}\nexport { calculateSpeed, createResponse, getRangeValue, setUrlParams };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, createResponse, calculateSpeed } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar CACHESIZE = 2 * 1024 * 1024;\nvar FetchLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(FetchLoader2, _EventEmitter);\n  var _super = _createSuper(FetchLoader2);\n  function FetchLoader2() {\n    var _this;\n    _classCallCheck(this, FetchLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_abortController\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_reader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_response\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_running\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_onProcessMinLen\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(FetchLoader2, [{\n    key: \"load\",\n    value: function load(_ref) {\n      var _this$_abortControlle, _this2 = this;\n      var url = _ref.url, vid = _ref.vid, timeout = _ref.timeout, responseType = _ref.responseType, onProgress = _ref.onProgress, index = _ref.index, onTimeout = _ref.onTimeout, onCancel = _ref.onCancel, range = _ref.range, transformResponse = _ref.transformResponse, request = _ref.request, params = _ref.params, logger = _ref.logger, method = _ref.method, headers = _ref.headers, body = _ref.body, mode = _ref.mode, credentials = _ref.credentials, cache = _ref.cache, redirect = _ref.redirect, referrer = _ref.referrer, referrerPolicy = _ref.referrerPolicy, onProcessMinLen = _ref.onProcessMinLen, priOptions = _ref.priOptions;\n      this._logger = logger;\n      this._aborted = false;\n      this._onProcessMinLen = onProcessMinLen;\n      this._onCancel = onCancel;\n      this._abortController = typeof AbortController !== \"undefined\" && new AbortController();\n      this._running = true;\n      this._index = index;\n      this._range = range || [0, 0];\n      this._vid = vid || url;\n      this._priOptions = priOptions || {};\n      var init = {\n        method,\n        headers,\n        body,\n        mode,\n        credentials,\n        cache,\n        redirect,\n        referrer,\n        referrerPolicy,\n        signal: (_this$_abortControlle = this._abortController) === null || _this$_abortControlle === void 0 ? void 0 : _this$_abortControlle.signal\n      };\n      var isTimeout = false;\n      clearTimeout(this._timeoutTimer);\n      url = setUrlParams(url, params);\n      var rangeValue = getRangeValue(range);\n      if (rangeValue) {\n        if (request) {\n          headers = request.headers;\n        } else {\n          headers = init.headers = init.headers || (Headers ? new Headers() : {});\n        }\n        if (Headers && headers instanceof Headers) {\n          headers.append(\"Range\", rangeValue);\n        } else {\n          headers.Range = rangeValue;\n        }\n      }\n      if (timeout) {\n        this._timeoutTimer = setTimeout(function() {\n          isTimeout = true;\n          _this2.cancel();\n          if (onTimeout) {\n            var error = new NetError(url, init, null, \"timeout\");\n            error.isTimeout = true;\n            onTimeout(error, {\n              index: _this2._index,\n              range: _this2._range,\n              vid: _this2._vid,\n              priOptions: _this2._priOptions\n            });\n          }\n        }, timeout);\n      }\n      var startTime = Date.now();\n      this._logger.debug(\"[fetch load start], index,\", index, \",range,\", range);\n      return new Promise(function(resolve, reject) {\n        fetch(request || url, request ? void 0 : init).then(/* @__PURE__ */ function() {\n          var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(response) {\n            var firstByteTime, data, costTime, speed;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1)\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    clearTimeout(_this2._timeoutTimer);\n                    _this2._response = response;\n                    if (!(_this2._aborted || !_this2._running)) {\n                      _context.next = 4;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 4:\n                    if (transformResponse) {\n                      response = transformResponse(response, url) || response;\n                    }\n                    if (response.ok) {\n                      _context.next = 7;\n                      break;\n                    }\n                    throw new NetError(url, init, response, \"bad network response\");\n                  case 7:\n                    firstByteTime = Date.now();\n                    if (!(responseType === ResponseType.TEXT)) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 11;\n                    return response.text();\n                  case 11:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 15:\n                    if (!(responseType === ResponseType.JSON)) {\n                      _context.next = 22;\n                      break;\n                    }\n                    _context.next = 18;\n                    return response.json();\n                  case 18:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 22:\n                    if (!onProgress) {\n                      _context.next = 29;\n                      break;\n                    }\n                    _this2.resolve = resolve;\n                    _this2.reject = reject;\n                    _this2._loadChunk(response, onProgress, startTime, firstByteTime);\n                    return _context.abrupt(\"return\");\n                  case 29:\n                    _context.next = 31;\n                    return response.arrayBuffer();\n                  case 31:\n                    data = _context.sent;\n                    data = new Uint8Array(data);\n                    _this2._running = false;\n                    costTime = Date.now() - startTime;\n                    speed = calculateSpeed(data.byteLength, costTime);\n                    _this2.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: data.byteLength,\n                      time: costTime,\n                      vid: _this2._vid,\n                      index: _this2._index,\n                      range: _this2._range,\n                      priOptions: _this2._priOptions\n                    });\n                  case 37:\n                    _this2._logger.debug(\"[fetch load end], index,\", index, \",range,\", range);\n                    resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), startTime, firstByteTime, index, range, _this2._vid, _this2._priOptions));\n                  case 39:\n                  case \"end\":\n                    return _context.stop();\n                }\n            }, _callee);\n          }));\n          return function(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }()).catch(function(error) {\n          var _error;\n          clearTimeout(_this2._timeoutTimer);\n          _this2._running = false;\n          if (_this2._aborted && !isTimeout)\n            return;\n          error = error instanceof NetError ? error : new NetError(url, init, null, (_error = error) === null || _error === void 0 ? void 0 : _error.message);\n          error.startTime = startTime;\n          error.endTime = Date.now();\n          error.isTimeout = isTimeout;\n          error.options = {\n            index: _this2._index,\n            range: _this2._range,\n            vid: _this2._vid,\n            priOptions: _this2._priOptions\n          };\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._aborted) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                this._aborted = true;\n                this._running = false;\n                if (!this._response) {\n                  _context2.next = 14;\n                  break;\n                }\n                _context2.prev = 5;\n                if (!this._reader) {\n                  _context2.next = 9;\n                  break;\n                }\n                _context2.next = 9;\n                return this._reader.cancel();\n              case 9:\n                _context2.next = 13;\n                break;\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](5);\n              case 13:\n                this._response = this._reader = null;\n              case 14:\n                if (this._abortController) {\n                  try {\n                    this._abortController.abort();\n                  } catch (error) {\n                  }\n                  this._abortController = null;\n                }\n                if (this._onCancel) {\n                  this._onCancel({\n                    index: this._index,\n                    range: this._range,\n                    vid: this._vid,\n                    priOptions: this._priOptions\n                  });\n                }\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this, [[5, 11]]);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_loadChunk\",\n    value: function _loadChunk(response, onProgress, st, firstByteTime) {\n      var _this3 = this;\n      if (!response.body || !response.body.getReader) {\n        this._running = false;\n        var err = new NetError(response.url, \"\", response, \"onProgress of bad response.body.getReader\");\n        err.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this.reject(err);\n        return;\n      }\n      if (this._onProcessMinLen > 0) {\n        this._cache = new Uint8Array(CACHESIZE);\n        this._writeIdx = 0;\n      }\n      var reader = this._reader = response.body.getReader();\n      var data;\n      var startTime;\n      var endTime;\n      var pump = /* @__PURE__ */ function() {\n        var _ref3 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n          var _this3$_range;\n          var startRange, startByte, curLen, retData, temp, costTime, speed;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1)\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  startTime = Date.now();\n                  _context3.prev = 1;\n                  _context3.next = 4;\n                  return reader.read();\n                case 4:\n                  data = _context3.sent;\n                  endTime = Date.now();\n                  _context3.next = 13;\n                  break;\n                case 8:\n                  _context3.prev = 8;\n                  _context3.t0 = _context3[\"catch\"](1);\n                  endTime = Date.now();\n                  if (!_this3._aborted) {\n                    _this3._running = false;\n                    _context3.t0.options = {\n                      index: _this3._index,\n                      range: _this3._range,\n                      vid: _this3._vid,\n                      priOptions: _this3._priOptions\n                    };\n                    _this3.reject(_context3.t0);\n                  }\n                  return _context3.abrupt(\"return\");\n                case 13:\n                  startRange = ((_this3$_range = _this3._range) === null || _this3$_range === void 0 ? void 0 : _this3$_range.length) > 0 ? _this3._range[0] : 0;\n                  startByte = startRange + _this3._receivedLength;\n                  if (!_this3._aborted) {\n                    _context3.next = 19;\n                    break;\n                  }\n                  _this3._running = false;\n                  onProgress(void 0, false, {\n                    range: [startByte, startByte],\n                    vid: _this3._vid,\n                    index: _this3._index,\n                    startTime,\n                    endTime,\n                    st,\n                    firstByteTime,\n                    priOptions: _this3._priOptions\n                  }, response);\n                  return _context3.abrupt(\"return\");\n                case 19:\n                  curLen = data.value ? data.value.byteLength : 0;\n                  _this3._receivedLength += curLen;\n                  _this3._logger.debug(\"\\u3010fetchLoader,onProgress call\\u3011,task,\", _this3._range, \", start,\", startByte, \", end,\", startRange + _this3._receivedLength, \", done,\", data.done);\n                  if (_this3._onProcessMinLen > 0) {\n                    if (_this3._writeIdx + curLen >= _this3._onProcessMinLen || data.done) {\n                      retData = new Uint8Array(_this3._writeIdx + curLen);\n                      retData.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                      curLen > 0 && retData.set(data.value, _this3._writeIdx);\n                      _this3._writeIdx = 0;\n                      _this3._logger.debug(\"\\u3010fetchLoader,onProgress enough\\u3011,done,\", data.done, \",len,\", retData.byteLength, \", writeIdx,\", _this3._writeIdx);\n                    } else {\n                      if (curLen > 0 && _this3._writeIdx + curLen < CACHESIZE) {\n                        _this3._cache.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress cache\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      } else if (curLen > 0) {\n                        temp = new Uint8Array(_this3._writeIdx + curLen + 2048);\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra start\\u3011,size,\", _this3._writeIdx + curLen + 2048, \", datalen,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                        temp.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                        curLen > 0 && temp.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        delete _this3._cache;\n                        _this3._cache = temp;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra end\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      }\n                    }\n                  } else {\n                    retData = data.value;\n                  }\n                  if (retData && retData.byteLength > 0 || data.done) {\n                    onProgress(retData, data.done, {\n                      range: [_this3._range[0] + _this3._receivedLength - (retData ? retData.byteLength : 0), _this3._range[0] + _this3._receivedLength],\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      startTime,\n                      endTime,\n                      st,\n                      firstByteTime,\n                      priOptions: _this3._priOptions\n                    }, response);\n                  }\n                  if (!data.done) {\n                    pump();\n                  } else {\n                    costTime = Date.now() - st;\n                    speed = calculateSpeed(_this3._receivedLength, costTime);\n                    _this3.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: _this3._receivedLength,\n                      time: costTime,\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      range: _this3._range,\n                      priOptions: _this3._priOptions\n                    });\n                    _this3._running = false;\n                    _this3._logger.debug(\"[fetchLoader onProgress end],task,\", _this3._range, \",done,\", data.done);\n                    _this3.resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), st, firstByteTime, _this3._index, _this3._range, _this3._vid, _this3._priOptions));\n                  }\n                case 25:\n                case \"end\":\n                  return _context3.stop();\n              }\n          }, _callee3, null, [[1, 8]]);\n        }));\n        return function pump2() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      pump();\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return !!(typeof fetch !== \"undefined\");\n    }\n  }]);\n  return FetchLoader2;\n}(EventEmitter);\nexport { FetchLoader };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType, ResponseType } from \"./types.js\";\nfunction getConfig(cfg) {\n  return _objectSpread2({\n    loaderType: LoaderType.FETCH,\n    retry: 0,\n    retryDelay: 0,\n    timeout: 0,\n    request: null,\n    onTimeout: void 0,\n    onProgress: void 0,\n    onRetryError: void 0,\n    transformRequest: void 0,\n    transformResponse: void 0,\n    transformError: void 0,\n    responseType: ResponseType.TEXT,\n    range: void 0,\n    url: \"\",\n    params: void 0,\n    method: \"GET\",\n    headers: {},\n    body: void 0,\n    mode: void 0,\n    credentials: void 0,\n    cache: void 0,\n    redirect: void 0,\n    referrer: void 0,\n    referrerPolicy: void 0,\n    integrity: void 0,\n    onProcessMinLen: 0\n  }, cfg);\n}\nexport { getConfig };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, calculateSpeed, createResponse } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar XhrLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(XhrLoader2, _EventEmitter);\n  var _super = _createSuper(XhrLoader2);\n  function XhrLoader2() {\n    var _this;\n    _classCallCheck(this, XhrLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_url\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_onProgress\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_headers\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_currentChunkSizeKB\", 384);\n    _defineProperty(_assertThisInitialized(_this), \"_timeout\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_withCredentials\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_startTime\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteResolve\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteReject\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_runing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_responseType\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_credentials\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_method\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_transformResponse\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_firstRtt\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(XhrLoader2, [{\n    key: \"load\",\n    value: function load(req) {\n      var _this2 = this;\n      clearTimeout(this._timeoutTimer);\n      this._logger = req.logger;\n      this._range = req.range;\n      this._onProgress = req.onProgress;\n      this._index = req.index;\n      this._headers = req.headers;\n      this._withCredentials = req.credentials === \"include\" || req.credentials === \"same-origin\";\n      this._body = req.body || null;\n      req.method && (this._method = req.method);\n      this._timeout = req.timeout || null;\n      this._runing = true;\n      this._vid = req.vid || req.url;\n      this._responseType = req.responseType;\n      this._firstRtt = -1;\n      this._onTimeout = req.onTimeout;\n      this._onCancel = req.onCancel;\n      this._request = req.request;\n      this._priOptions = req.priOptions || {};\n      this._logger.debug(\"\\u3010xhrLoader task\\u3011, range\", this._range);\n      this._url = setUrlParams(req.url, req.params);\n      var startTime = Date.now();\n      return new Promise(function(resolve, reject) {\n        _this2._loadCompleteResolve = resolve;\n        _this2._loadCompleteReject = reject;\n        _this2._startLoad();\n      }).catch(function(error) {\n        clearTimeout(_this2._timeoutTimer);\n        _this2._runing = false;\n        if (_this2._aborted)\n          return;\n        error = error instanceof NetError ? error : new NetError(_this2._url, _this2._request);\n        error.startTime = startTime;\n        error.endTime = Date.now();\n        error.options = {\n          index: _this2._index,\n          vid: _this2._vid,\n          priOptions: _this2._priOptions\n        };\n        throw error;\n      });\n    }\n  }, {\n    key: \"_startLoad\",\n    value: function _startLoad() {\n      var range = null;\n      if (this._responseType === ResponseType.ARRAY_BUFFER && this._range && this._range.length > 1) {\n        if (this._onProgress) {\n          this._firstRtt = -1;\n          var chunkSize = this._currentChunkSizeKB * 1024;\n          var from = this._range[0] + this._receivedLength;\n          var to = this._range[1];\n          if (chunkSize < this._range[1] - from) {\n            to = from + chunkSize;\n          }\n          range = [from, to];\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", SubRange, \", range);\n        } else {\n          range = this._range;\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", allRange, \", range);\n        }\n      }\n      this._internalOpen(range);\n    }\n  }, {\n    key: \"_internalOpen\",\n    value: function _internalOpen(range) {\n      var _this3 = this;\n      try {\n        this._startTime = Date.now();\n        var xhr = this._xhr = new XMLHttpRequest();\n        xhr.open(this._method || \"GET\", this._url, true);\n        xhr.responseType = this._responseType;\n        this._timeout && (xhr.timeout = this._timeout);\n        xhr.withCredentials = this._withCredentials;\n        xhr.onload = this._onLoad.bind(this);\n        xhr.onreadystatechange = this._onReadyStatechange.bind(this);\n        xhr.onerror = function(errorEvent) {\n          var _errorEvent$currentTa, _errorEvent$currentTa2, _errorEvent$currentTa3;\n          _this3._running = false;\n          var error = new NetError(_this3._url, _this3._request, errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa = errorEvent.currentTarget) === null || _errorEvent$currentTa === void 0 ? void 0 : _errorEvent$currentTa.response, \"xhr.onerror.status:\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa2 = errorEvent.currentTarget) === null || _errorEvent$currentTa2 === void 0 ? void 0 : _errorEvent$currentTa2.status) + \",statusText,\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa3 = errorEvent.currentTarget) === null || _errorEvent$currentTa3 === void 0 ? void 0 : _errorEvent$currentTa3.statusText));\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        xhr.ontimeout = function(event) {\n          _this3.cancel();\n          var error = new NetError(_this3._url, _this3._request, {\n            status: 408\n          }, \"timeout\");\n          if (_this3._onTimeout) {\n            error.isTimeout = true;\n            _this3._onTimeout(error, {\n              index: _this3._index,\n              range: _this3._range,\n              vid: _this3._vid,\n              priOptions: _this3._priOptions\n            });\n          }\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        var headers = this._headers || {};\n        var rangeValue = getRangeValue(range);\n        if (rangeValue) {\n          headers.Range = rangeValue;\n        }\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        this._logger.debug(\"[xhr.send->] tast,\", this._range, \",load sub range, \", range);\n        xhr.send(this._body);\n      } catch (e) {\n        e.options = {\n          index: this._index,\n          range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this._loadCompleteReject(e);\n      }\n    }\n  }, {\n    key: \"_onReadyStatechange\",\n    value: function _onReadyStatechange(e) {\n      var xhr = e.target;\n      if (xhr.readyState === 2) {\n        this._firstRtt < 0 && (this._firstRtt = Date.now());\n      }\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(e) {\n      var _this$_range;\n      var status = e.target.status;\n      if (status < 200 || status > 299) {\n        var error = new NetError(this._url, null, _objectSpread2(_objectSpread2({}, e.target.response), {}, {\n          status\n        }), \"bad response,status:\" + status);\n        error.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        return this._loadCompleteReject(error);\n      }\n      var data = null;\n      var done = false;\n      var byteStart;\n      var startRange = ((_this$_range = this._range) === null || _this$_range === void 0 ? void 0 : _this$_range.length) > 0 ? this._range[0] : 0;\n      if (this._responseType === ResponseType.ARRAY_BUFFER) {\n        var _this$_range2;\n        var chunk = new Uint8Array(e.target.response);\n        byteStart = startRange + this._receivedLength;\n        if (chunk && chunk.byteLength > 0) {\n          this._receivedLength += chunk.byteLength;\n          var costTime = Date.now() - this._startTime;\n          var speed = calculateSpeed(this._receivedLength, costTime);\n          this.emit(EVENT.REAL_TIME_SPEED, {\n            speed,\n            len: this._receivedLength,\n            time: costTime,\n            vid: this._vid,\n            index: this._index,\n            range: [byteStart, startRange + this._receivedLength],\n            priOptions: this._priOptions\n          });\n        }\n        data = chunk;\n        if (((_this$_range2 = this._range) === null || _this$_range2 === void 0 ? void 0 : _this$_range2.length) > 1 && this._range[1] && this._receivedLength < this._range[1] - this._range[0]) {\n          done = false;\n        } else {\n          done = true;\n        }\n        this._logger.debug(\"[xhr load done->], tast :\", this._range, \", start\", byteStart, \"end \", startRange + this._receivedLength, \",dataLen,\", chunk ? chunk.byteLength : 0, \",receivedLength\", this._receivedLength, \",index,\", this._index, \", done,\", done);\n      } else {\n        done = true;\n        data = e.target.response;\n      }\n      var response = {\n        ok: status >= 200 && status < 300,\n        status,\n        statusText: this._xhr.statusText,\n        url: this._xhr.responseURL,\n        headers: this._getHeaders(this._xhr),\n        body: this._xhr.response\n      };\n      if (this._transformResponse) {\n        response = this._transformResponse(response, this._url) || response;\n      }\n      if (this._onProgress) {\n        this._onProgress(data, done, {\n          index: this._index,\n          vid: this._vid,\n          range: [byteStart, startRange + this._receivedLength],\n          startTime: this._startTime,\n          endTime: Date.now(),\n          priOptions: this._priOptions\n        }, response);\n      }\n      if (!done) {\n        this._startLoad();\n      } else {\n        this._runing = false;\n        this._loadCompleteResolve && this._loadCompleteResolve(createResponse(this._onProgress ? null : data, done, response, response.headers[\"content-length\"], response.headers.age, this._startTime, this._firstRtt, this._index, this._range, this._vid, this._priOptions));\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._aborted)\n        return;\n      this._aborted = true;\n      this._runing = false;\n      _get(_getPrototypeOf(XhrLoader2.prototype), \"removeAllListeners\", this).call(this);\n      if (this._onCancel) {\n        this._onCancel({\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        });\n      }\n      if (this._xhr) {\n        return this._xhr.abort();\n      }\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(xhr) {\n      var headerLines = xhr.getAllResponseHeaders().trim().split(\"\\r\\n\");\n      var headers = {};\n      var _iterator = _createForOfIteratorHelper(headerLines), _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n          var header = _step.value;\n          var parts = header.split(\": \");\n          headers[parts[0].toLowerCase()] = parts.slice(1).join(\": \");\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return headers;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof XMLHttpRequest !== \"undefined\";\n    }\n  }]);\n  return XhrLoader2;\n}(EventEmitter);\nexport { XhrLoader };\n","import { createClass as _createClass, objectWithoutProperties as _objectWithoutProperties, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { XhrLoader } from \"./xhr.js\";\nimport { LoaderType } from \"./types.js\";\nimport { createPublicPromise } from \"../utils.js\";\nimport { Logger } from \"../logger.js\";\nvar _excluded = [\"retry\", \"retryDelay\", \"onRetryError\", \"transformError\"];\nvar Task = /* @__PURE__ */ function() {\n  function Task2(type, config) {\n    _classCallCheck(this, Task2);\n    this.promise = createPublicPromise();\n    this.alive = !!config.onProgress;\n    !config.logger && (config.logger = new Logger(\"Loader\"));\n    this._loaderType = type;\n    this._loader = type === LoaderType.FETCH && typeof fetch !== \"undefined\" ? new FetchLoader() : new XhrLoader();\n    this._config = config;\n    this._retryCount = 0;\n    this._retryTimer = null;\n    this._canceled = false;\n    this._retryCheckFunc = config.retryCheckFunc;\n    this._logger = config.logger;\n  }\n  _createClass(Task2, [{\n    key: \"exec\",\n    value: function exec() {\n      var _this = this;\n      var _this$_config = this._config, retry = _this$_config.retry, retryDelay = _this$_config.retryDelay, onRetryError = _this$_config.onRetryError, transformError = _this$_config.transformError, rest = _objectWithoutProperties(_this$_config, _excluded);\n      var request = /* @__PURE__ */ function() {\n        var _ref = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n          var response, error, isRetry;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1)\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return _this._loader.load(rest);\n                case 3:\n                  response = _context.sent;\n                  _this.promise.resolve(response);\n                  _context.next = 27;\n                  break;\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](0);\n                  _this._loader.running = false;\n                  _this._logger.debug(\"[task request catch err]\", _context.t0);\n                  if (!_this._canceled) {\n                    _context.next = 13;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 13:\n                  _context.t0.loaderType = _this._loaderType;\n                  _context.t0.retryCount = _this._retryCount;\n                  error = _context.t0;\n                  if (transformError) {\n                    error = transformError(error) || error;\n                  }\n                  if (onRetryError && _this._retryCount > 0)\n                    onRetryError(error, _this._retryCount, {\n                      index: rest.index,\n                      vid: rest.vid,\n                      range: rest.range,\n                      priOptions: rest.priOptions\n                    });\n                  _this._retryCount++;\n                  isRetry = true;\n                  if (_this._retryCheckFunc) {\n                    isRetry = _this._retryCheckFunc(_context.t0);\n                  }\n                  if (!(isRetry && _this._retryCount <= retry)) {\n                    _context.next = 26;\n                    break;\n                  }\n                  clearTimeout(_this._retryTimer);\n                  _this._logger.debug(\"[task request setTimeout],retry\", _this._retryCount, \",retry range,\", rest.range);\n                  _this._retryTimer = setTimeout(request, retryDelay);\n                  return _context.abrupt(\"return\");\n                case 26:\n                  _this.promise.reject(error);\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n          }, _callee, null, [[0, 7]]);\n        }));\n        return function request2() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      request();\n      return this.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(this._retryTimer);\n                this._canceled = true;\n                this._loader.running = false;\n                return _context2.abrupt(\"return\", this._loader.cancel());\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._loader && this._loader.running;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._loader;\n    }\n  }]);\n  return Task2;\n}();\nexport { Task };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { LoaderType } from \"./types.js\";\nexport { LoaderType, ResponseType } from \"./types.js\";\nimport { getConfig } from \"./config.js\";\nimport { Task } from \"./task.js\";\nimport { isPlainObject } from \"../is.js\";\nimport { sleep } from \"../streaming-helper.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar NetLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(NetLoader2, _EventEmitter);\n  var _super = _createSuper(NetLoader2);\n  function NetLoader2(cfg) {\n    var _this;\n    _classCallCheck(this, NetLoader2);\n    _this = _super.call(this, cfg);\n    _defineProperty(_assertThisInitialized(_this), \"type\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"_queue\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_alive\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_currentTask\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_finnalUrl\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_config\", void 0);\n    _this._config = getConfig(cfg);\n    if (_this._config.loaderType === LoaderType.XHR || !FetchLoader.isSupported()) {\n      _this.type = LoaderType.XHR;\n    }\n    _this.log = cfg.logger;\n    return _this;\n  }\n  _createClass(NetLoader2, [{\n    key: \"isFetch\",\n    value: function isFetch() {\n      return this.type === LoaderType.FETCH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (typeof url === \"string\" || !url) {\n        config.url = url || config.url || this._config.url;\n      } else {\n        config = url;\n      }\n      config = Object.assign({}, this._config, config);\n      if (config.params)\n        config.params = Object.assign({}, config.params);\n      if (config.headers && isPlainObject(config.headers))\n        config.headers = Object.assign({}, config.headers);\n      if (config.body && isPlainObject(config.body))\n        config.body = Object.assign({}, config.body);\n      if (config.transformRequest) {\n        config = config.transformRequest(config) || config;\n      }\n      config.logger = this.log;\n      var task = new Task(this.type, config);\n      task.loader.on(EVENT.REAL_TIME_SPEED, function(data) {\n        _this2.emit(EVENT.REAL_TIME_SPEED, data);\n      });\n      this._queue.push(task);\n      if (this._queue.length === 1 && (!this._currentTask || !this._currentTask.running)) {\n        this._processTask();\n      }\n      return task.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n        var cancels;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                cancels = this._queue.map(function(t) {\n                  return t.cancel();\n                }).concat(this._alive.map(function(t) {\n                  return t.cancel();\n                }));\n                if (this._currentTask) {\n                  cancels.push(this._currentTask.cancel());\n                }\n                this._queue = [];\n                this._alive = [];\n                _context.next = 6;\n                return Promise.all(cancels);\n              case 6:\n                _context.next = 8;\n                return sleep();\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_processTask\",\n    value: function _processTask() {\n      var _this3 = this;\n      this._currentTask = this._queue.shift();\n      if (!this._currentTask)\n        return;\n      if (this._currentTask.alive) {\n        this._alive.push(this._currentTask);\n      }\n      var req = this._currentTask.exec().catch(function(e) {\n      });\n      if (!(req && typeof req.finally === \"function\"))\n        return;\n      req.finally(function() {\n        var _this3$_currentTask, _this3$_alive;\n        if ((_this3$_currentTask = _this3._currentTask) !== null && _this3$_currentTask !== void 0 && _this3$_currentTask.alive && ((_this3$_alive = _this3._alive) === null || _this3$_alive === void 0 ? void 0 : _this3$_alive.length) > 0) {\n          _this3._alive = _this3._alive.filter(function(task) {\n            return task && task !== _this3._currentTask;\n          });\n        }\n        _this3._processTask();\n      });\n    }\n  }], [{\n    key: \"isFetchSupport\",\n    value: function isFetchSupport() {\n      return FetchLoader.isSupported();\n    }\n  }]);\n  return NetLoader2;\n}(EventEmitter);\nexport { NetLoader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, assertThisInitialized as _assertThisInitialized } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nvar MasterPlaylist = /* @__PURE__ */ _createClass(function MasterPlaylist2() {\n  _classCallCheck(this, MasterPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"streams\", []);\n  _defineProperty(this, \"isMaster\", true);\n});\nvar MediaType = {\n  Audio: \"AUDIO\",\n  Video: \"VIDEO\",\n  SubTitle: \"SUBTITLE\",\n  ClosedCaptions: \"CLOSED-CAPTIONS\"\n};\nvar KeySystems = {\n  CLEAR_KEY: \"org.w3.clearkey\",\n  FAIRPLAY: \"com.apple.streamingkeydelivery\",\n  WIDEVINE: \"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\",\n  PLAYREADY: \"com.microsoft.playready\"\n};\nvar MediaStream = /* @__PURE__ */ _createClass(function MediaStream2() {\n  _classCallCheck(this, MediaStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"default\", false);\n  _defineProperty(this, \"autoSelect\", false);\n  _defineProperty(this, \"forced\", false);\n  _defineProperty(this, \"group\", \"\");\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"lang\", \"\");\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"endSN\", 0);\n});\nvar AudioStream = /* @__PURE__ */ function(_MediaStream) {\n  _inherits(AudioStream2, _MediaStream);\n  var _super = _createSuper(AudioStream2);\n  function AudioStream2() {\n    var _this;\n    _classCallCheck(this, AudioStream2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"mediaType\", MediaType.Audio);\n    _defineProperty(_assertThisInitialized(_this), \"channels\", 0);\n    return _this;\n  }\n  return _createClass(AudioStream2);\n}(MediaStream);\nvar SubTitleStream = /* @__PURE__ */ function(_MediaStream3) {\n  _inherits(SubTitleStream2, _MediaStream3);\n  var _super3 = _createSuper(SubTitleStream2);\n  function SubTitleStream2() {\n    var _this3;\n    _classCallCheck(this, SubTitleStream2);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this3 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this3), \"mediaType\", MediaType.SubTitle);\n    return _this3;\n  }\n  return _createClass(SubTitleStream2);\n}(MediaStream);\nvar MasterStream = /* @__PURE__ */ _createClass(function MasterStream2() {\n  _classCallCheck(this, MasterStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"bitrate\", 0);\n  _defineProperty(this, \"width\", 0);\n  _defineProperty(this, \"height\", 0);\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"audioCodec\", \"\");\n  _defineProperty(this, \"videoCodec\", \"\");\n  _defineProperty(this, \"textCodec\", \"\");\n  _defineProperty(this, \"audioGroup\", \"\");\n  _defineProperty(this, \"audioStreams\", []);\n  _defineProperty(this, \"subtitleStreams\", []);\n  _defineProperty(this, \"closedCaptionsStream\", []);\n});\nvar MediaPlaylist = /* @__PURE__ */ _createClass(function MediaPlaylist2() {\n  _classCallCheck(this, MediaPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"type\", \"\");\n  _defineProperty(this, \"startCC\", 0);\n  _defineProperty(this, \"endCC\", 0);\n  _defineProperty(this, \"startSN\", 0);\n  _defineProperty(this, \"endSN\", 0);\n  _defineProperty(this, \"totalDuration\", 0);\n  _defineProperty(this, \"targetDuration\", 0);\n  _defineProperty(this, \"partTargetDuration\", 0);\n  _defineProperty(this, \"canSkipUntil\", 0);\n  _defineProperty(this, \"canSkipDateRanges\", false);\n  _defineProperty(this, \"skippedSegments\", 0);\n  _defineProperty(this, \"canBlockReload\", false);\n  _defineProperty(this, \"partHoldBack\", 0);\n  _defineProperty(this, \"live\", true);\n  _defineProperty(this, \"lowLatency\", false);\n  _defineProperty(this, \"endPartIndex\", 0);\n  _defineProperty(this, \"segments\", []);\n});\nvar MediaSegment = /* @__PURE__ */ function() {\n  function MediaSegment2(parentUrl) {\n    _classCallCheck(this, MediaSegment2);\n    _defineProperty(this, \"sn\", 0);\n    _defineProperty(this, \"cc\", 0);\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"parentUrl\", \"\");\n    _defineProperty(this, \"title\", \"\");\n    _defineProperty(this, \"start\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"dataTime\", \"\");\n    _defineProperty(this, \"key\", null);\n    _defineProperty(this, \"byteRange\", null);\n    _defineProperty(this, \"isInitSegment\", false);\n    _defineProperty(this, \"initSegment\", null);\n    _defineProperty(this, \"isLast\", false);\n    _defineProperty(this, \"hasAudio\", false);\n    _defineProperty(this, \"hasVideo\", false);\n    _defineProperty(this, \"independent\", false);\n    _defineProperty(this, \"partIndex\", 0);\n    this.parentUrl = parentUrl;\n  }\n  _createClass(MediaSegment2, [{\n    key: \"end\",\n    get: function get() {\n      return this.start + this.duration;\n    }\n  }, {\n    key: \"setTrackExist\",\n    value: function setTrackExist(v, a) {\n      this.hasVideo = v;\n      this.hasAudio = a;\n    }\n  }, {\n    key: \"setByteRange\",\n    value: function setByteRange(data, prevSegment) {\n      this.byteRange = [0];\n      var bytes = data.split(\"@\");\n      if (bytes.length === 1 && prevSegment && prevSegment.byteRange) {\n        this.byteRange[0] = prevSegment.byteRange[1] || 0;\n        if (this.byteRange[0])\n          this.byteRange[0] += 1;\n      } else {\n        this.byteRange[0] = parseInt(bytes[1]);\n      }\n      this.byteRange[1] = this.byteRange[0] + parseInt(bytes[0]) - 1;\n    }\n  }]);\n  return MediaSegment2;\n}();\nvar MediaSegmentKey = /* @__PURE__ */ function() {\n  function MediaSegmentKey2(segKey) {\n    _classCallCheck(this, MediaSegmentKey2);\n    _defineProperty(this, \"method\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"iv\", null);\n    _defineProperty(this, \"keyFormat\", \"\");\n    _defineProperty(this, \"keyFormatVersions\", \"\");\n    if (segKey instanceof MediaSegmentKey2) {\n      this.method = segKey.method;\n      this.url = segKey.url;\n      this.keyFormat = segKey.keyFormat;\n      this.keyFormatVersions = segKey.keyFormatVersions;\n      if (segKey.iv)\n        this.iv = new Uint8Array(segKey.iv);\n    }\n  }\n  _createClass(MediaSegmentKey2, [{\n    key: \"clone\",\n    value: function clone(sn) {\n      var key = new MediaSegmentKey2(this);\n      if (sn !== null && sn !== void 0)\n        key.setIVFromSN(sn);\n      return key;\n    }\n  }, {\n    key: \"setIVFromSN\",\n    value: function setIVFromSN(sn) {\n      if (!this.iv && this.method === \"AES-128\" && typeof sn === \"number\" && this.url) {\n        this.iv = new Uint8Array(16);\n        for (var i = 12; i < 16; i++) {\n          this.iv[i] = sn >> 8 * (15 - i) & 255;\n        }\n      }\n    }\n  }, {\n    key: \"isSegmentEncrypted\",\n    value: function isSegmentEncrypted() {\n      var method = this.method;\n      return method === \"AES-128\";\n    }\n  }, {\n    key: \"isValidKeySystem\",\n    value: function isValidKeySystem() {\n      var isKeyFormatValid = [KeySystems.CLEAR_KEY, KeySystems.FAIRPLAY, KeySystems.WIDEVINE, KeySystems.PLAYREADY].indexOf(this.keyFormat) > -1;\n      if (!isKeyFormatValid) {\n        return false;\n      }\n      var isMethodValid = [\"SAMPLE-AES\", \"SAMPLE-AES-CENC\", \"SAMPLE-AES-CTR\"].indexOf(this.method) > -1;\n      if (!isMethodValid) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      if (!this.method) {\n        return false;\n      }\n      if (this.isSegmentEncrypted()) {\n        return true;\n      } else if (this.isValidKeySystem()) {\n        return true;\n      }\n      return false;\n    }\n  }]);\n  return MediaSegmentKey2;\n}();\nexport { AudioStream, MasterPlaylist, MasterStream, MediaPlaylist, MediaSegment, MediaSegmentKey, MediaStream, SubTitleStream };\n","var REGEXP_TAG = /^#(EXT[^:]*)(?::(.*))?$/;\nvar REGEXP_ATTR = /([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;\nvar REGEXP_ABSOLUTE_URL = /^(?:[a-zA-Z0-9+\\-.]+:)?\\/\\//;\nvar REGEXP_URL_PAIR = /^((?:[a-zA-Z0-9+\\-.]+:)?\\/\\/[^/?#]*)?([^?#]*\\/)?/;\nfunction getLines(text) {\n  return text.split(/[\\r\\n]/).map(function(x) {\n    return x.trim();\n  }).filter(Boolean);\n}\nfunction parseTag(text) {\n  var ret = text.match(REGEXP_TAG);\n  if (!ret || !ret[1])\n    return;\n  return [ret[1].replace(\"EXT-X-\", \"\"), ret[2]];\n}\nfunction parseAttr(text) {\n  var ret = {};\n  var match = REGEXP_ATTR.exec(text);\n  while (match) {\n    ret[match[1]] = match[2] || match[3];\n    match = REGEXP_ATTR.exec(text);\n  }\n  return ret;\n}\nfunction getAbsoluteUrl(url, parentUrl) {\n  if (!parentUrl || !url || REGEXP_ABSOLUTE_URL.test(url))\n    return url;\n  var pairs = REGEXP_URL_PAIR.exec(parentUrl);\n  if (!pairs)\n    return url;\n  if (url[0] === \"/\")\n    return pairs[1] + url;\n  return pairs[1] + pairs[2] + url;\n}\nvar CODECS_REGEXP = {\n  audio: [/^mp4a/, /^vorbis$/, /^opus$/, /^flac$/, /^[ae]c-3$/],\n  video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/],\n  text: [/^vtt$/, /^wvtt/, /^stpp/]\n};\nfunction getCodecs(type, codecs) {\n  var re = CODECS_REGEXP[type];\n  if (!re || !codecs || !codecs.length)\n    return;\n  for (var i = 0; i < re.length; i++) {\n    for (var j = 0; j < codecs.length; j++) {\n      if (re[i].test(codecs[j]))\n        return codecs[j];\n    }\n  }\n}\nexport { getAbsoluteUrl, getCodecs, getLines, parseAttr, parseTag };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MasterPlaylist, MediaStream, SubTitleStream, AudioStream, MasterStream } from \"./model.js\";\nimport { parseTag, parseAttr, getAbsoluteUrl, getCodecs } from \"./utils.js\";\nfunction parseMasterPlaylist(lines, parentUrl) {\n  var master = new MasterPlaylist();\n  var index = 0;\n  var line;\n  var audioStreams = [];\n  var subtitleStreams = [];\n  while (line = lines[index++]) {\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    if (name === \"VERSION\") {\n      master.version = parseInt(data);\n    } else if (name === \"MEDIA\" && data) {\n      var attr = parseAttr(data);\n      var stream = void 0;\n      switch (attr.TYPE) {\n        case \"AUDIO\":\n          stream = new AudioStream();\n          break;\n        case \"SUBTITLES\":\n          stream = new SubTitleStream();\n          break;\n        default:\n          stream = new MediaStream();\n      }\n      stream.url = getAbsoluteUrl(attr.URI, parentUrl);\n      stream.default = attr.DEFAULT === \"YES\";\n      stream.autoSelect = attr.AUTOSELECT === \"YES\";\n      stream.group = attr[\"GROUP-ID\"];\n      stream.name = attr.NAME;\n      stream.lang = attr.LANGUAGE;\n      if (attr.CHANNELS) {\n        stream.channels = Number(attr.CHANNELS.split(\"/\")[0]);\n        if (Number.isNaN(stream.channels))\n          stream.channels = 0;\n      }\n      if (attr.TYPE === \"AUDIO\" && attr.URI) {\n        audioStreams.push(stream);\n      }\n      if (attr.TYPE === \"SUBTITLES\") {\n        subtitleStreams.push(stream);\n      }\n    } else if (name === \"STREAM-INF\" && data) {\n      var _stream = new MasterStream();\n      var _attr = parseAttr(data);\n      _stream.bitrate = parseInt(_attr[\"AVERAGE-BANDWIDTH\"] || _attr.BANDWIDTH);\n      _stream.name = _attr.NAME;\n      _stream.url = getAbsoluteUrl(lines[index++], parentUrl);\n      if (_attr.RESOLUTION) {\n        var _attr$RESOLUTION$spli = _attr.RESOLUTION.split(\"x\"), _attr$RESOLUTION$spli2 = _slicedToArray(_attr$RESOLUTION$spli, 2), w = _attr$RESOLUTION$spli2[0], h = _attr$RESOLUTION$spli2[1];\n        _stream.width = parseInt(w);\n        _stream.height = parseInt(h);\n      }\n      if (_attr.CODECS) {\n        var codecs = _attr.CODECS.split(/[ ,]+/).filter(Boolean);\n        _stream.videoCodec = getCodecs(\"video\", codecs);\n        _stream.audioCodec = getCodecs(\"audio\", codecs);\n        _stream.textCodec = getCodecs(\"text\", codecs);\n      }\n      _stream.audioGroup = _attr.AUDIO;\n      _stream.subtitleGroup = _attr.SUBTITLES;\n      master.streams.push(_stream);\n    }\n  }\n  master.streams.forEach(function(s, i) {\n    s.id = i;\n  });\n  if (audioStreams.length) {\n    audioStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.audioGroup) {\n        stream2.audioStreams = audioStreams.filter(function(x) {\n          return x.group === stream2.audioGroup;\n        });\n      }\n    });\n  }\n  if (subtitleStreams.length) {\n    subtitleStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.subtitleGroup) {\n        stream2.subtitleStreams = subtitleStreams.filter(function(x) {\n          return x.group === stream2.subtitleGroup;\n        });\n      }\n    });\n  }\n  return master;\n}\nexport { parseMasterPlaylist };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MediaPlaylist, MediaSegment, MediaSegmentKey } from \"./model.js\";\nimport { getAbsoluteUrl, parseTag, parseAttr } from \"./utils.js\";\nfunction parseMediaPlaylist(lines, parentUrl, useLowLatency) {\n  var media = new MediaPlaylist();\n  media.url = parentUrl;\n  var curSegment = new MediaSegment(parentUrl);\n  var curInitSegment = null;\n  var curKey = null;\n  var totalDuration = 0;\n  var curSN = 0;\n  var curCC = 0;\n  var index = 0;\n  var line;\n  var endOfList = false;\n  var partSegmentIndex = 0;\n  while (line = lines[index++]) {\n    if (endOfList) {\n      break;\n    }\n    if (line[0] !== \"#\") {\n      if (media.lowLatency) {\n        curSN++;\n        continue;\n      }\n      curSegment.sn = curSN;\n      curSegment.cc = curCC;\n      curSegment.url = getAbsoluteUrl(line, parentUrl);\n      if (curKey)\n        curSegment.key = curKey.clone(curSN);\n      if (curInitSegment)\n        curSegment.initSegment = curInitSegment;\n      media.segments.push(curSegment);\n      curSegment = new MediaSegment(parentUrl);\n      curSN++;\n      continue;\n    }\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    switch (name) {\n      case \"VERSION\":\n        media.version = parseInt(data);\n        break;\n      case \"PLAYLIST-TYPE\":\n        media.type = data === null || data === void 0 ? void 0 : data.toUpperCase();\n        break;\n      case \"TARGETDURATION\":\n        media.targetDuration = parseFloat(data);\n        break;\n      case \"PART-INF\":\n        {\n          if (useLowLatency) {\n            media.lowLatency = true;\n          }\n          var attr = parseAttr(data);\n          if (attr[\"PART-TARGET\"]) {\n            media.partTargetDuration = parseFloat(attr[\"PART-TARGET\"]);\n          }\n        }\n        break;\n      case \"SERVER-CONTROL\":\n        {\n          var _attr = parseAttr(data);\n          media.canBlockReload = _attr[\"CAN-BLOCK-RELOAD\"] === \"YES\";\n          media.partHoldBack = parseFloat(_attr[\"PART-HOLD-BACK\"] || 0);\n          media.canSkipUntil = parseFloat(_attr[\"CAN-SKIP-UNTIL\"] || 0);\n          media.canSkipDateRanges = _attr[\"CAN-SKIP-DATERANGES\"] === \"YES\";\n        }\n        break;\n      case \"ENDLIST\":\n        {\n          var _lastSegment = media.segments[media.segments.length - 1];\n          if (_lastSegment) {\n            _lastSegment.isLast = true;\n          }\n          media.live = false;\n          endOfList = true;\n        }\n        break;\n      case \"MEDIA-SEQUENCE\":\n        curSN = media.startSN = parseInt(data);\n        break;\n      case \"DISCONTINUITY-SEQUENCE\":\n        curCC = media.startCC = parseInt(data);\n        break;\n      case \"DISCONTINUITY\":\n        curCC++;\n        break;\n      case \"BYTERANGE\":\n        curSegment.setByteRange(data, media.segments[media.segments.length - 1]);\n        break;\n      case \"PART\":\n        {\n          if (!media.lowLatency)\n            break;\n          var _attr2 = parseAttr(data);\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          curSegment.independent = _attr2[\"INDEPENDENT\"] === \"YES\";\n          curSegment.sn = curSN;\n          curSegment.cc = curCC;\n          curSegment.partIndex = partSegmentIndex;\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          totalDuration += curSegment.duration;\n          curSegment.url = getAbsoluteUrl(_attr2[\"URI\"], parentUrl);\n          if (curKey)\n            curSegment.key = curKey.clone(curSN);\n          if (curInitSegment)\n            curSegment.initSegment = curInitSegment;\n          media.segments.push(curSegment);\n          curSegment = new MediaSegment(parentUrl);\n          partSegmentIndex++;\n        }\n        break;\n      case \"PRELOAD-HINT\":\n        break;\n      case \"PROGRAM-DATE-TIME\":\n        curSegment.dataTime = data;\n        break;\n      case \"EXTINF\":\n        {\n          if (media.lowLatency) {\n            partSegmentIndex = 0;\n            break;\n          }\n          var _data$split = data.split(\",\"), _data$split2 = _slicedToArray(_data$split, 2), duration = _data$split2[0], title = _data$split2[1];\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(duration);\n          totalDuration += curSegment.duration;\n          curSegment.title = title;\n        }\n        break;\n      case \"KEY\":\n        {\n          var _attr3 = parseAttr(data);\n          if (_attr3.METHOD === \"NONE\") {\n            curKey = null;\n            break;\n          }\n          curKey = new MediaSegmentKey();\n          curKey.method = _attr3.METHOD;\n          curKey.url = /^blob:/.test(_attr3.URI) ? _attr3.URI : getAbsoluteUrl(_attr3.URI, parentUrl);\n          curKey.keyFormat = _attr3.KEYFORMAT || \"identity\";\n          curKey.keyFormatVersions = _attr3.KEYFORMATVERSIONS;\n          if (!curKey.isSupported()) {\n            throw new Error(\"encrypt \".concat(_attr3.METHOD, \"/\").concat(_attr3.KEYFORMAT, \" is not supported\"));\n          }\n          if (_attr3.IV) {\n            var str = _attr3.IV.slice(2);\n            str = (str.length & 1 ? \"0\" : \"\") + str;\n            curKey.iv = new Uint8Array(str.length / 2);\n            for (var i = 0, l = str.length / 2; i < l; i++) {\n              curKey.iv[i] = parseInt(str.slice(i * 2, i * 2 + 2), 16);\n            }\n          }\n        }\n        break;\n      case \"MAP\":\n        {\n          var _attr4 = parseAttr(data);\n          curSegment.url = getAbsoluteUrl(_attr4.URI, parentUrl);\n          if (_attr4.BYTERANGE)\n            curSegment.setByteRange(_attr4.BYTERANGE);\n          curSegment.isInitSegment = true;\n          curSegment.sn = 0;\n          if (curKey) {\n            curSegment.key = curKey.clone(0);\n          }\n          curInitSegment = curSegment;\n          curSegment = new MediaSegment(parentUrl);\n        }\n        break;\n    }\n  }\n  media.segments = media.segments.filter(function(x) {\n    return x.duration !== 0;\n  });\n  var lastSegment = media.segments[media.segments.length - 1];\n  if (lastSegment) {\n    media.endSN = lastSegment.sn;\n    media.endPartIndex = lastSegment.partIndex;\n    if (endOfList && !lastSegment.isLast) {\n      lastSegment.isLast = true;\n    }\n  }\n  media.totalDuration = totalDuration;\n  media.endCC = curCC;\n  return media;\n}\nexport { parseMediaPlaylist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { parseMasterPlaylist } from \"./master.js\";\nimport { parseMediaPlaylist } from \"./media.js\";\nimport { getLines } from \"./utils.js\";\nvar M3U8Parser = /* @__PURE__ */ function() {\n  function M3U8Parser2() {\n    _classCallCheck(this, M3U8Parser2);\n  }\n  _createClass(M3U8Parser2, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n      var parentUrl = arguments.length > 1 ? arguments[1] : void 0;\n      var useLowLatency = arguments.length > 2 ? arguments[2] : void 0;\n      if (!text.includes(\"#EXTM3U\"))\n        throw new Error(\"Invalid m3u8 file\");\n      var lines = getLines(text);\n      if (M3U8Parser2.isMediaPlaylist(text)) {\n        return parseMediaPlaylist(lines, parentUrl, useLowLatency);\n      }\n      return parseMasterPlaylist(lines, parentUrl);\n    }\n  }, {\n    key: \"isMediaPlaylist\",\n    value: function isMediaPlaylist(text) {\n      return text.includes(\"#EXTINF:\") || text.includes(\"#EXT-X-TARGETDURATION:\");\n    }\n  }]);\n  return M3U8Parser2;\n}();\nexport { M3U8Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { StreamingError, ERR, EVENT, NetLoader } from \"xgplayer-streaming-shared\";\nimport { M3U8Parser } from \"./parser/index.js\";\nimport { Event } from \"../constants.js\";\nvar ManifestLoader = /* @__PURE__ */ function() {\n  function ManifestLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, ManifestLoader2);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(Event.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._timer = null;\n    this._useLowLatency = hls.config.useLowLatency;\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, manifestLoadTimeout = _this$hls$config.manifestLoadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._loader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._subtitleLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(ManifestLoader2, [{\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(url, audioUrl, subtitleUrl) {\n        var toLoad, videoText, audioText, subtitleText, videoResUrl, audioResUrl, subtitleResUrl, _yield$Promise$all, _yield$Promise$all2, video, audio, subtitle, _audio$response, _subtitle$response, _audio$response2, onPreM3U8Parse, playlist, audioPlaylist, subtitlePlaylist, _playlist;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [this._loader.load(url)];\n                if (audioUrl) {\n                  toLoad.push(this._audioLoader.load(audioUrl));\n                }\n                if (subtitleUrl) {\n                  toLoad.push(this._subtitleLoader.load(subtitleUrl));\n                }\n                _context.prev = 3;\n                _context.next = 6;\n                return Promise.all(toLoad);\n              case 6:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                video = _yield$Promise$all2[0];\n                audio = _yield$Promise$all2[1];\n                subtitle = _yield$Promise$all2[2];\n                if (video) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\", []);\n              case 13:\n                this._emitOnLoaded(video, url);\n                videoText = video.data;\n                videoResUrl = video.response.url || url;\n                if (audioUrl) {\n                  audioText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleText = subtitle === null || subtitle === void 0 ? void 0 : subtitle.data;\n                  audioResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response = audio.response) === null || _audio$response === void 0 ? void 0 : _audio$response.url) || audioUrl;\n                  subtitleResUrl = (subtitle === null || subtitle === void 0 ? void 0 : (_subtitle$response = subtitle.response) === null || _subtitle$response === void 0 ? void 0 : _subtitle$response.url) || subtitleUrl;\n                  audioText && this._emitOnLoaded(audio, audioUrl);\n                  subtitleText && this._emitOnLoaded(subtitle, subtitleUrl);\n                } else {\n                  subtitleText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response2 = audio.response) === null || _audio$response2 === void 0 ? void 0 : _audio$response2.url) || subtitleUrl;\n                  subtitleText && this._emitOnLoaded(audio, subtitleUrl);\n                }\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](3);\n                throw StreamingError.network(_context.t0);\n              case 22:\n                onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n                _context.prev = 23;\n                if (onPreM3U8Parse) {\n                  videoText = onPreM3U8Parse(videoText) || videoText;\n                  if (audioText)\n                    audioText = onPreM3U8Parse(audioText, true) || audioText;\n                  if (subtitleText)\n                    subtitleText = onPreM3U8Parse(subtitleText, true) || subtitleText;\n                }\n                playlist = M3U8Parser.parse(videoText, videoResUrl, this._useLowLatency);\n                if (!(((_playlist = playlist) === null || _playlist === void 0 ? void 0 : _playlist.live) === false && playlist.segments && !playlist.segments.length)) {\n                  _context.next = 28;\n                  break;\n                }\n                throw new Error(\"empty segments list\");\n              case 28:\n                if (audioText) {\n                  audioPlaylist = M3U8Parser.parse(audioText, audioResUrl, this._useLowLatency);\n                }\n                if (subtitleText) {\n                  subtitlePlaylist = M3U8Parser.parse(subtitleText, subtitleResUrl, this._useLowLatency);\n                }\n                _context.next = 35;\n                break;\n              case 32:\n                _context.prev = 32;\n                _context.t1 = _context[\"catch\"](23);\n                throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, _context.t1);\n              case 35:\n                if (playlist) {\n                  if (playlist.isMaster) {\n                    this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n                      playlist\n                    });\n                  } else {\n                    this.hls.emit(Event.HLS_LEVEL_LOADED, {\n                      playlist\n                    });\n                  }\n                }\n                return _context.abrupt(\"return\", [playlist, audioPlaylist, subtitlePlaylist]);\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this, [[3, 19], [23, 32]]);\n      }));\n      function load(_x, _x2, _x3) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"parseText\",\n    value: function parseText(videoText, url) {\n      var onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n      var playlist;\n      try {\n        var _playlist2;\n        if (onPreM3U8Parse) {\n          videoText = onPreM3U8Parse(videoText) || videoText;\n        }\n        playlist = M3U8Parser.parse(videoText, url, this._useLowLatency);\n        if (((_playlist2 = playlist) === null || _playlist2 === void 0 ? void 0 : _playlist2.live) === false && playlist.segments && !playlist.segments.length) {\n          throw new Error(\"empty segments list\");\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, error);\n      }\n      if (playlist) {\n        if (playlist.isMaster) {\n          this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n            playlist\n          });\n        } else {\n          this.hls.emit(Event.HLS_LEVEL_LOADED, {\n            playlist\n          });\n        }\n      }\n      return [playlist];\n    }\n  }, {\n    key: \"poll\",\n    value: function poll(url, audioUrl, subtitleUrl, cb, errorCb, time) {\n      var _this2 = this;\n      clearTimeout(this._timer);\n      time = time || 3e3;\n      var retryCount = this.hls.config.pollRetryCount;\n      var fn = /* @__PURE__ */ function() {\n        var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1)\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  clearTimeout(_this2._timer);\n                  _context2.prev = 1;\n                  _context2.next = 4;\n                  return _this2.load(url, audioUrl, subtitleUrl);\n                case 4:\n                  res = _context2.sent;\n                  if (res[0]) {\n                    _context2.next = 7;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 7:\n                  retryCount = _this2.hls.config.pollRetryCount;\n                  cb(res[0], res[1], res[2]);\n                  _context2.next = 15;\n                  break;\n                case 11:\n                  _context2.prev = 11;\n                  _context2.t0 = _context2[\"catch\"](1);\n                  retryCount--;\n                  if (retryCount <= 0) {\n                    errorCb(_context2.t0);\n                  }\n                case 15:\n                  _this2._timer = setTimeout(fn, time);\n                case 16:\n                case \"end\":\n                  return _context2.stop();\n              }\n          }, _callee2, null, [[1, 11]]);\n        }));\n        return function fn2() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n      this._timer = setTimeout(fn, time);\n    }\n  }, {\n    key: \"stopPoll\",\n    value: function stopPoll() {\n      clearTimeout(this._timer);\n      return this.cancel();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      return Promise.all([this._loader.cancel(), this._audioLoader.cancel()]);\n    }\n  }]);\n  return ManifestLoader2;\n}();\nexport { ManifestLoader };\n","function clamp(num, min, max) {\n  if (min > max) {\n    max = min;\n  }\n  return Math.min(Math.max(num, min), max);\n}\nexport { clamp };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger } from \"xgplayer-streaming-shared\";\nvar logger = new Logger(\"playlist\");\nvar Stream = /* @__PURE__ */ function() {\n  function Stream2(playlist, audioPlaylist, subtitlePlaylist) {\n    _classCallCheck(this, Stream2);\n    _defineProperty(this, \"live\", void 0);\n    _defineProperty(this, \"id\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"name\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"textCodec\", \"\");\n    _defineProperty(this, \"startCC\", 0);\n    _defineProperty(this, \"endCC\", 0);\n    _defineProperty(this, \"startSN\", 0);\n    _defineProperty(this, \"endSN\", -1);\n    _defineProperty(this, \"totalDuration\", 0);\n    _defineProperty(this, \"targetDuration\", 0);\n    _defineProperty(this, \"partTargetDuration\", 0);\n    _defineProperty(this, \"canSkipUntil\", 0);\n    _defineProperty(this, \"canSkipDateRanges\", false);\n    _defineProperty(this, \"skippedSegments\", 0);\n    _defineProperty(this, \"canBlockReload\", false);\n    _defineProperty(this, \"partHoldBack\", 0);\n    _defineProperty(this, \"lowLatency\", false);\n    _defineProperty(this, \"endPartIndex\", 0);\n    _defineProperty(this, \"snDiff\", null);\n    _defineProperty(this, \"segments\", []);\n    _defineProperty(this, \"audioStreams\", []);\n    _defineProperty(this, \"subtitleStreams\", []);\n    _defineProperty(this, \"closedCaptions\", []);\n    _defineProperty(this, \"currentAudioStream\", null);\n    _defineProperty(this, \"currentSubtitleStream\", null);\n    this.update(this._setLLPlaybackPoint(playlist), audioPlaylist, subtitlePlaylist);\n  }\n  _createClass(Stream2, [{\n    key: \"lastSegment\",\n    get: function get() {\n      if (this.segments.length) {\n        return this.segments[this.segments.length - 1];\n      }\n      return null;\n    }\n  }, {\n    key: \"segmentDuration\",\n    get: function get() {\n      var _this$segments$;\n      return this.targetDuration || ((_this$segments$ = this.segments[0]) === null || _this$segments$ === void 0 ? void 0 : _this$segments$.duration) || 0;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      return this.endTime;\n    },\n    set: function set(end) {\n      this.endTime = end;\n    }\n  }, {\n    key: \"endTime\",\n    get: function get() {\n      var _this$lastSegment;\n      return ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.end) || 0;\n    },\n    set: function set(end) {\n      var lastSeg = this.lastSegment;\n      if (lastSeg)\n        lastSeg.duration = end - lastSeg.start;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentSubtitle;\n      return ((_this$currentSubtitle = this.currentSubtitleStream) === null || _this$currentSubtitle === void 0 ? void 0 : _this$currentSubtitle.endSN) || 0;\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment(startTime, pointer) {\n      if (this.currentAudioStream) {\n        this._clearSegments(startTime, pointer);\n      }\n      return this._clearSegments(startTime, pointer);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      if (!seg || !this.currentAudioStream)\n        return;\n      var sn = seg.sn - this.snDiff;\n      return this.currentAudioStream.segments.find(function(x) {\n        return x.sn === sn;\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(playlist, audioPlaylist) {\n      this.url = playlist.url;\n      if (Array.isArray(playlist.segments)) {\n        if (this.live === null || this.live === void 0)\n          this.live = playlist.live;\n        this._updateSegments(playlist, this);\n        this.startCC = playlist.startCC;\n        this.endCC = playlist.endCC;\n        this.startSN = playlist.startSN;\n        this.endSN = playlist.endSN || -1;\n        this.totalDuration = playlist.totalDuration;\n        this.targetDuration = playlist.targetDuration;\n        this.live = playlist.live;\n        this.lowLatency = playlist.lowLatency;\n        this.canBlockReload = playlist.canBlockReload;\n        this.canSkipDateRanges = playlist.canSkipDateRanges;\n        this.canSkipUntil = playlist.canSkipUntil;\n        this.partHoldBack = playlist.partHoldBack;\n        this.partTargetDuration = playlist.partTargetDuration;\n        this.skippedSegments = playlist.skippedSegments;\n        this.endPartIndex = playlist.endPartIndex;\n        if (audioPlaylist && this.currentAudioStream && Array.isArray(audioPlaylist.segments)) {\n          this._updateSegments(audioPlaylist, this.currentAudioStream);\n          if ((this.snDiff === null || this.snDiff === void 0) && playlist.segments.length && audioPlaylist.segments.length) {\n            this.snDiff = playlist.segments[0].sn - audioPlaylist.segments[0].sn;\n          }\n        }\n      } else {\n        this.id = playlist.id;\n        this.bitrate = playlist.bitrate;\n        this.width = playlist.width;\n        this.height = playlist.height;\n        this.name = playlist.name;\n        this.audioCodec = playlist.audioCodec;\n        this.videoCodec = playlist.videoCodec;\n        this.textCodec = playlist.textCodec;\n        this.audioStreams = playlist.audioStreams;\n        this.subtitleStreams = playlist.subtitleStreams;\n        if (!this.currentAudioStream && this.audioStreams.length) {\n          this.currentAudioStream = this.audioStreams.find(function(x) {\n            return x.default;\n          }) || this.audioStreams[0];\n        }\n        if (!this.currentSubtitleStream && this.subtitleStreams.length) {\n          this.currentSubtitleStream = this.subtitleStreams.find(function(x) {\n            return x.default;\n          }) || this.subtitleStreams[0];\n        }\n      }\n    }\n  }, {\n    key: \"updateSubtitle\",\n    value: function updateSubtitle(subtitlePlaylist) {\n      var _this = this;\n      if (!(subtitlePlaylist && this.currentSubtitleStream && Array.isArray(subtitlePlaylist.segments)))\n        return;\n      var newSegs = this._updateSegments(subtitlePlaylist, this.currentSubtitleStream);\n      var segs = this.currentSubtitleStream.segments;\n      if (segs.length > 100) {\n        this.currentSubtitleStream.segments = segs.slice(100);\n      }\n      if (!newSegs)\n        return;\n      return newSegs.map(function(x) {\n        return {\n          sn: x.sn,\n          url: x.url,\n          duration: x.duration,\n          start: x.start,\n          end: x.end,\n          lang: _this.currentSubtitleStream.lang\n        };\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var toSwitch = this.subtitleStreams.find(function(x) {\n        return x.lang === lang;\n      });\n      var origin = this.currentSubtitleStream;\n      if (toSwitch) {\n        this.currentSubtitleStream = toSwitch;\n        origin.segments = [];\n      }\n    }\n  }, {\n    key: \"_setLLPlaybackPoint\",\n    value: function _setLLPlaybackPoint(playlist) {\n      if (!playlist.lowLatency || !playlist.segments.length)\n        return playlist;\n      var maxStartPoint = playlist.totalDuration - playlist.partHoldBack;\n      var segs = playlist.segments;\n      var index = 0;\n      for (var i = 0, l = segs.length; i < l; i++) {\n        if (segs[i].start <= maxStartPoint && segs[i].independent) {\n          index = i;\n        }\n      }\n      var usefulSegs = segs.slice(index);\n      var endTime = 0;\n      usefulSegs.forEach(function(s) {\n        s.start = endTime;\n        endTime = s.end;\n      });\n      playlist.segments = usefulSegs;\n      playlist.totalDuration = endTime;\n      playlist.startSN = usefulSegs[0].sn;\n      playlist.startCC = usefulSegs[0].cc;\n      logger.log(\"set ll-hls playback point: SN=\".concat(playlist.startSN, \" partIndex=\").concat(usefulSegs[0].partIndex, \", duration=\").concat(endTime));\n      return playlist;\n    }\n  }, {\n    key: \"_clearSegments\",\n    value: function _clearSegments(startTime, pointer) {\n      var sliceStart = 0;\n      var segments = this.segments;\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].end >= startTime) {\n          sliceStart = i;\n          break;\n        }\n      }\n      if (sliceStart > pointer) {\n        sliceStart = pointer;\n      }\n      if (sliceStart) {\n        this.segments = this.segments.slice(sliceStart);\n        if (this.currentAudioStream) {\n          this.currentAudioStream.segments = this.currentAudioStream.segments.slice(sliceStart);\n        }\n      }\n      return pointer - sliceStart;\n    }\n  }, {\n    key: \"_updateSegments\",\n    value: function _updateSegments(playlist, segObj) {\n      var segments = segObj.segments;\n      if (this.live) {\n        var _endSeg$sn;\n        var lowLatency = playlist.lowLatency;\n        var endSeg = segments[segments.length - 1];\n        var endSN = (_endSeg$sn = endSeg === null || endSeg === void 0 ? void 0 : endSeg.sn) !== null && _endSeg$sn !== void 0 ? _endSeg$sn : -1;\n        var endPartIndex = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.partIndex) || 0;\n        var hasNew = endSN < playlist.endSN && playlist.segments.length;\n        if (lowLatency) {\n          hasNew = hasNew || endPartIndex < playlist.endPartIndex;\n        }\n        if (hasNew) {\n          logger.log(\"update segments: endSN:\".concat(endSN, \", partIndex:\").concat(endPartIndex, \" --> endSN:\").concat(playlist.endSN, \", partIndex:\").concat(playlist.endPartIndex));\n          var index = playlist.segments.findIndex(function(x) {\n            return x.sn === endSN && x.partIndex === endPartIndex;\n          });\n          var toAppend = index < 0 ? playlist.segments : playlist.segments.slice(index + 1);\n          if (segments.length && toAppend.length) {\n            var endTime = endSeg.end;\n            var endTimeBeforeAppend = endTime;\n            toAppend.forEach(function(seg) {\n              seg.start = endTime;\n              endTime = seg.end;\n            });\n            logger.log(\"liveEdge: \".concat(endTimeBeforeAppend, \" -> \").concat(endTime));\n            var lastCC = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.cc) || -1;\n            if (lastCC > toAppend[0].cc) {\n              toAppend.forEach(function(seg) {\n                return seg.cc += lastCC;\n              });\n            }\n          }\n          segObj.endSN = playlist.endSN;\n          segObj.segments = segments.concat(toAppend);\n          return toAppend;\n        }\n      } else {\n        segObj.segments = playlist.segments;\n      }\n    }\n  }]);\n  return Stream2;\n}();\nexport { Stream };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { clamp } from \"../utils.js\";\nimport { Stream } from \"./stream.js\";\nimport { Event } from \"../constants.js\";\nvar Playlist = /* @__PURE__ */ function() {\n  function Playlist2(hls) {\n    _classCallCheck(this, Playlist2);\n    _defineProperty(this, \"streams\", []);\n    _defineProperty(this, \"currentStream\", null);\n    _defineProperty(this, \"dvrWindow\", 0);\n    _defineProperty(this, \"_segmentPointer\", -1);\n    this.hls = hls;\n  }\n  _createClass(Playlist2, [{\n    key: \"lowLatency\",\n    get: function get() {\n      var _this$currentStream;\n      return (_this$currentStream = this.currentStream) === null || _this$currentStream === void 0 ? void 0 : _this$currentStream.lowLatency;\n    }\n  }, {\n    key: \"lastSegment\",\n    get: function get() {\n      var _this$currentStream2;\n      return (_this$currentStream2 = this.currentStream) === null || _this$currentStream2 === void 0 ? void 0 : _this$currentStream2.lastSegment;\n    }\n  }, {\n    key: \"currentSegment\",\n    get: function get() {\n      var _this$currentSegments;\n      return (_this$currentSegments = this.currentSegments) === null || _this$currentSegments === void 0 ? void 0 : _this$currentSegments[this._segmentPointer];\n    }\n  }, {\n    key: \"nextSegment\",\n    get: function get() {\n      var _this$currentSegments2;\n      return (_this$currentSegments2 = this.currentSegments) === null || _this$currentSegments2 === void 0 ? void 0 : _this$currentSegments2[this._segmentPointer + 1];\n    }\n  }, {\n    key: \"currentSegments\",\n    get: function get() {\n      var _this$currentStream3;\n      return (_this$currentStream3 = this.currentStream) === null || _this$currentStream3 === void 0 ? void 0 : _this$currentStream3.segments;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentStream4;\n      return (_this$currentStream4 = this.currentStream) === null || _this$currentStream4 === void 0 ? void 0 : _this$currentStream4.currentSubtitleEndSn;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      var _this$currentStream5;\n      return (_this$currentStream5 = this.currentStream) === null || _this$currentStream5 === void 0 ? void 0 : _this$currentStream5.liveEdge;\n    },\n    set: function set(end) {\n      if (this.currentStream) {\n        this.currentStream.liveEdge = end;\n      }\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      var _this$currentStream6;\n      return ((_this$currentStream6 = this.currentStream) === null || _this$currentStream6 === void 0 ? void 0 : _this$currentStream6.totalDuration) || 0;\n    }\n  }, {\n    key: \"seekRange\",\n    get: function get() {\n      var segments = this.currentSegments;\n      if (!segments || !segments.length)\n        return;\n      return [segments[0].start, segments[segments.length - 1].end];\n    }\n  }, {\n    key: \"nbSegments\",\n    get: function get() {\n      var _this$currentSegments3;\n      return ((_this$currentSegments3 = this.currentSegments) === null || _this$currentSegments3 === void 0 ? void 0 : _this$currentSegments3.length) || 0;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      var _this$currentSegments4;\n      return !((_this$currentSegments4 = this.currentSegments) !== null && _this$currentSegments4 !== void 0 && _this$currentSegments4.length);\n    }\n  }, {\n    key: \"isLive\",\n    get: function get() {\n      var _this$currentStream7;\n      return (_this$currentStream7 = this.currentStream) === null || _this$currentStream7 === void 0 ? void 0 : _this$currentStream7.live;\n    }\n  }, {\n    key: \"hadSegmentLoaded\",\n    get: function get() {\n      return this._segmentPointer !== -1;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      var _this$currentStream8;\n      return !!((_this$currentStream8 = this.currentStream) !== null && _this$currentStream8 !== void 0 && _this$currentStream8.currentSubtitleStream);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      var _this$currentStream9;\n      return (_this$currentStream9 = this.currentStream) === null || _this$currentStream9 === void 0 ? void 0 : _this$currentStream9.getAudioSegment(seg);\n    }\n  }, {\n    key: \"moveSegmentPointer\",\n    value: function moveSegmentPointer(pos) {\n      var _this$currentSegments5;\n      if (pos === null || pos === void 0)\n        pos = this._segmentPointer + 1;\n      this._segmentPointer = clamp(pos, -1, (_this$currentSegments5 = this.currentSegments) === null || _this$currentSegments5 === void 0 ? void 0 : _this$currentSegments5.length);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.streams = [];\n      this.currentStream = null;\n      this.dvrWindow = 0;\n      this._segmentPointer = -1;\n    }\n  }, {\n    key: \"getSegmentByIndex\",\n    value: function getSegmentByIndex(index) {\n      var _this$currentSegments6;\n      return (_this$currentSegments6 = this.currentSegments) === null || _this$currentSegments6 === void 0 ? void 0 : _this$currentSegments6[index];\n    }\n  }, {\n    key: \"setNextSegmentByIndex\",\n    value: function setNextSegmentByIndex() {\n      var index = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      this._segmentPointer = index - 1;\n    }\n  }, {\n    key: \"setNextSegmentBySN\",\n    value: function setNextSegmentBySN() {\n      var _this$currentSegments7;\n      var sn = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var preIndex = (_this$currentSegments7 = this.currentSegments) === null || _this$currentSegments7 === void 0 ? void 0 : _this$currentSegments7.findIndex(function(x) {\n        return x.sn === sn;\n      });\n      if (preIndex !== -1) {\n        this.setNextSegmentByIndex(preIndex + 1);\n      }\n      return preIndex;\n    }\n  }, {\n    key: \"findSegmentIndexByTime\",\n    value: function findSegmentIndexByTime(time) {\n      var segments = this.currentSegments;\n      if (segments) {\n        for (var i = 0, l = segments.length, seg; i < l; i++) {\n          seg = segments[i];\n          if (time >= seg.start && time < seg.end) {\n            return i;\n          }\n        }\n        var lastSegment = segments[segments.length - 1];\n        if (Math.abs(time - (lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.end)) < 0.2)\n          return segments.length - 1;\n      }\n    }\n  }, {\n    key: \"upsertPlaylist\",\n    value: function upsertPlaylist(playlist, audioPlaylist, subtitlePlaylist) {\n      var _this = this;\n      if (!playlist)\n        return;\n      if (playlist.isMaster) {\n        this.streams.length = playlist.streams.length;\n        playlist.streams.filter(function(x) {\n          return x.url;\n        }).forEach(function(stream2, i) {\n          if (_this.streams[i]) {\n            _this.streams[i].update(stream2);\n          } else {\n            _this.streams[i] = new Stream(stream2);\n          }\n        });\n        this.currentStream = this.streams[0];\n      } else if (Array.isArray(playlist.segments)) {\n        var stream = this.currentStream;\n        if (stream) {\n          stream.update(playlist, audioPlaylist, subtitlePlaylist);\n          var newSubtitleSegs = stream.updateSubtitle(subtitlePlaylist);\n          if (newSubtitleSegs) {\n            this.hls.emit(Event.SUBTITLE_SEGMENTS, {\n              list: newSubtitleSegs\n            });\n          }\n        } else {\n          this.reset();\n          this.currentStream = this.streams[0] = new Stream(playlist, audioPlaylist, subtitlePlaylist);\n        }\n      }\n      var currentStream = this.currentStream;\n      if (currentStream) {\n        if (this.hls.isLive && !this.dvrWindow) {\n          this.dvrWindow = this.currentSegments.reduce(function(a, c) {\n            a += c.duration;\n            return a;\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"updateSegmentsRanges\",\n    value: function updateSegmentsRanges(sn, start) {\n      var _this$currentSegments8;\n      var segs = (_this$currentSegments8 = this.currentSegments) === null || _this$currentSegments8 === void 0 ? void 0 : _this$currentSegments8.filter(function(x) {\n        return x.sn >= sn;\n      });\n      segs.forEach(function(s) {\n        s.start = start;\n        start = s.end;\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var _this$currentStream10;\n      (_this$currentStream10 = this.currentStream) === null || _this$currentStream10 === void 0 ? void 0 : _this$currentStream10.switchSubtitle(lang);\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment() {\n      var maxPlaylistSize = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 50;\n      var stream = this.currentStream;\n      if (!this.dvrWindow || !stream)\n        return;\n      var startTime = stream.endTime - this.dvrWindow;\n      if (startTime <= 0)\n        return;\n      var segments = stream.segments;\n      if (segments.length <= maxPlaylistSize)\n        return;\n      this._segmentPointer = stream.clearOldSegment(startTime, this._segmentPointer);\n    }\n  }, {\n    key: \"checkSegmentTrackChange\",\n    value: function checkSegmentTrackChange(cTime, nbSb) {\n      var index = this.findSegmentIndexByTime(cTime);\n      var seg = this.getSegmentByIndex(index);\n      if (!seg)\n        return;\n      if (!seg.hasAudio && !seg.hasVideo)\n        return;\n      if (nbSb !== 2 && seg.hasAudio && seg.hasVideo)\n        return seg;\n      if (seg.end - cTime > 0.3)\n        return;\n      var next = this.getSegmentByIndex(index + 1);\n      if (!next)\n        return;\n      if (!next.hasAudio && !next.hasVideo)\n        return;\n      if (next.hasAudio !== seg.hasAudio || next.hasVideo !== seg.hasVideo)\n        return next;\n    }\n  }, {\n    key: \"feedbackLiveEdge\",\n    value: function feedbackLiveEdge(segment, bufferEnd) {\n      var _this$lastSegment;\n      var segs = this.currentSegments;\n      if (!segs)\n        return;\n      var isLast = ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.sn) === segment.sn;\n      if (isLast) {\n        this.liveEdge = bufferEnd;\n        return;\n      }\n      this.updateSegmentsRanges(segment.sn + 1, bufferEnd);\n    }\n  }]);\n  return Playlist2;\n}();\nexport { Playlist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar BandwidthService = /* @__PURE__ */ function() {\n  function BandwidthService2() {\n    _classCallCheck(this, BandwidthService2);\n    _defineProperty(this, \"_chunkSpeeds\", []);\n    _defineProperty(this, \"_speeds\", []);\n  }\n  _createClass(BandwidthService2, [{\n    key: \"addRecord\",\n    value: function addRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._speeds.push(8e3 * totalByte / ms);\n      this._speeds = this._speeds.slice(-3);\n    }\n  }, {\n    key: \"addChunkRecord\",\n    value: function addChunkRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._chunkSpeeds.push(8e3 * totalByte / ms);\n      this._chunkSpeeds = this._chunkSpeeds.slice(-100);\n    }\n  }, {\n    key: \"getAvgSpeed\",\n    value: function getAvgSpeed() {\n      if (!this._chunkSpeeds.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds.reduce(function(a, c) {\n          return a += c;\n        }) / this._speeds.length;\n      }\n      return this._chunkSpeeds.reduce(function(a, c) {\n        return a += c;\n      }) / this._chunkSpeeds.length;\n    }\n  }, {\n    key: \"getLatestSpeed\",\n    value: function getLatestSpeed() {\n      if (!this._chunkSpeeds.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds[this._speeds.length - 1];\n      }\n      return this._chunkSpeeds[this._chunkSpeeds.length - 1];\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._chunkSpeeds = [];\n      this._speeds = [];\n    }\n  }]);\n  return BandwidthService2;\n}();\nexport { BandwidthService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, BandwidthService, NetLoader } from \"xgplayer-streaming-shared\";\nvar SegmentLoader = /* @__PURE__ */ function() {\n  function SegmentLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, SegmentLoader2);\n    _defineProperty(this, \"error\", null);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var data = res.data, response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this._bandwidthService.addRecord(contentLength || data.byteLength, time);\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(EVENT.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._bandwidthService = new BandwidthService();\n    this._mapCache = {};\n    this._keyCache = {};\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, loadTimeout = _this$hls$config.loadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._segmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioSegmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._keyLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(SegmentLoader2, [{\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return {\n        speed: this._bandwidthService.getLatestSpeed(),\n        avgSpeed: this._bandwidthService.getAvgSpeed()\n      };\n    }\n  }, {\n    key: \"load\",\n    value: function load(seg, audioSeg, loadInit) {\n      var loadAudioInit = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : loadInit;\n      var toLoad = [];\n      if (seg)\n        toLoad[0] = this.loadVideoSegment(seg, loadInit);\n      if (audioSeg)\n        toLoad[1] = this.loadAudioSegment(audioSeg, loadAudioInit);\n      return Promise.all(toLoad);\n    }\n  }, {\n    key: \"loadVideoSegment\",\n    value: function loadVideoSegment(seg, loadInit) {\n      return this._loadSegment(this._segmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"loadAudioSegment\",\n    value: function loadAudioSegment(seg, loadInit) {\n      return this._loadSegment(this._audioSegmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"_loadSegment\",\n    value: function() {\n      var _loadSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(segLoader, seg, loadInit) {\n        var _this2 = this, _seg$key;\n        var map, key, keyIv, mapKey, mapKeyIv, toLoad, _seg$initSegment$key, mapUrl, _keyUrl, keyUrl, _yield$Promise$all, _yield$Promise$all2, s, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [];\n                this.hls.emit(EVENT.LOAD_START, {\n                  url: seg.url\n                });\n                toLoad[0] = segLoader.load(seg.url);\n                if (loadInit && seg.initSegment) {\n                  mapUrl = seg.initSegment.url;\n                  map = this._mapCache[mapUrl];\n                  if (!map) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: mapUrl\n                    });\n                    toLoad[1] = segLoader.load(mapUrl).then(function(r) {\n                      if (r) {\n                        var l = Object.keys(_this2._mapCache);\n                        if (l > 30)\n                          _this2._mapCache = {};\n                        map = _this2._mapCache[mapUrl] = r.data;\n                        _this2._emitOnLoaded(r, mapUrl);\n                      }\n                    });\n                  }\n                  _keyUrl = (_seg$initSegment$key = seg.initSegment.key) === null || _seg$initSegment$key === void 0 ? void 0 : _seg$initSegment$key.url;\n                  if (_keyUrl) {\n                    mapKeyIv = seg.initSegment.key.iv;\n                    mapKey = this._keyCache[_keyUrl];\n                    if (!mapKey) {\n                      this.hls.emit(EVENT.LOAD_START, {\n                        url: _keyUrl\n                      });\n                      toLoad[2] = this._keyLoader.load(_keyUrl).then(function(r) {\n                        if (r) {\n                          mapKey = _this2._keyCache[_keyUrl] = r.data;\n                          _this2._emitOnLoaded(r, _keyUrl);\n                        }\n                      });\n                    }\n                  }\n                }\n                keyUrl = (_seg$key = seg.key) === null || _seg$key === void 0 ? void 0 : _seg$key.url;\n                if (keyUrl && seg.key.isSegmentEncrypted()) {\n                  keyIv = seg.key.iv;\n                  key = this._keyCache[keyUrl];\n                  if (!key) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: keyUrl\n                    });\n                    toLoad[3] = this._keyLoader.load(keyUrl).then(function(r) {\n                      if (r) {\n                        key = _this2._keyCache[keyUrl] = r.data;\n                        _this2._emitOnLoaded(r, keyUrl);\n                      }\n                    });\n                  }\n                }\n                _context.next = 8;\n                return Promise.all(toLoad);\n              case 8:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 1);\n                s = _yield$Promise$all2[0];\n                if (s) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 13:\n                data = s.data;\n                this._emitOnLoaded(s, seg.url);\n                return _context.abrupt(\"return\", {\n                  data,\n                  map,\n                  key,\n                  mapKey,\n                  keyIv,\n                  mapKeyIv\n                });\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function _loadSegment(_x, _x2, _x3) {\n        return _loadSegment2.apply(this, arguments);\n      }\n      return _loadSegment;\n    }()\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.error = null;\n      this._mapCache = {};\n      this._keyCache = {};\n      this._bandwidthService.reset();\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Promise.all([this._keyLoader.cancel(), this._segmentLoader.cancel(), this._audioSegmentLoader.cancel()]);\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }]);\n  return SegmentLoader2;\n}();\nexport { SegmentLoader };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, slicedToArray as _slicedToArray, regeneratorRuntime as _regeneratorRuntime, typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport { Logger, Buffer, StreamingError, isMediaPlaying, SeiService, GapService, MediaStatsService, MSE, getVideoPlaybackQuality, ERR } from \"xgplayer-streaming-shared\";\nimport { Logger as Logger$1 } from \"xgplayer-transmuxer\";\nimport { BufferService } from \"./buffer-service/index.js\";\nimport { getConfig } from \"./config.js\";\nimport { Event } from \"./constants.js\";\nimport { ManifestLoader } from \"./manifest-loader/index.js\";\nimport { Playlist } from \"./playlist/index.js\";\nimport { SegmentLoader } from \"./segment-loader/index.js\";\nimport { clamp } from \"./utils.js\";\nvar logger = new Logger(\"hls\");\nvar Hls = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Hls2, _EventEmitter);\n  var _super = _createSuper(Hls2);\n  function Hls2(_cfg) {\n    var _this;\n    _classCallCheck(this, Hls2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"version\", Hls2.version);\n    _defineProperty(_assertThisInitialized(_this), \"media\", null);\n    _defineProperty(_assertThisInitialized(_this), \"config\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_manifestLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_playlist\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_bufferService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_gapService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_seiService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_stats\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegSn\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegCc\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickInterval\", 500);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentProcessing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_reloadOnPlay\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_switchUrlOpts\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_isProcessQuotaExceeded\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_loadSegment\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n      var nextSeg, _assertThisInitialize, config, bInfo, bufferThroughout;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1)\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this._segmentProcessing || !_this.media)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              nextSeg = _this._playlist.nextSegment;\n              _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n              if (nextSeg) {\n                _context.next = 6;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 6:\n              if (_this.isLive) {\n                _context.next = 16;\n                break;\n              }\n              bInfo = _this.bufferInfo();\n              if (_this.media.paused && !_this.media.currentTime) {\n                bInfo = _this.bufferInfo(bInfo.nextStart || 0.5);\n              }\n              bufferThroughout = Math.abs(bInfo.end - _this.media.duration) < 0.1;\n              if (!(bInfo.remaining >= config.preloadTime || bufferThroughout)) {\n                _context.next = 13;\n                break;\n              }\n              _this._tryEos();\n              return _context.abrupt(\"return\");\n            case 13:\n              if (!(config.preferMMSStreaming && !_this._bufferService.msStreaming)) {\n                _context.next = 15;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 15:\n              if (!_this._urlSwitching && _this._prevSegSn !== nextSeg.sn - 1 && bInfo.end && Math.abs(nextSeg.start - bInfo.end) > 1) {\n                _this._playlist.setNextSegmentByIndex(_this._playlist.findSegmentIndexByTime(bInfo.end + 0.1));\n              }\n            case 16:\n              return _context.abrupt(\"return\", _this._loadSegmentDirect());\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n      }, _callee);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadeddata\", function() {\n      if (_this.isLive && !_this.config.mseLowLatency) {\n        if (_this.media.duration !== Infinity) {\n          _this._bufferService.updateDuration(Infinity).catch(function(e) {\n          });\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1)\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this.media.seeking && _this.media.currentTime === 0)) {\n                _context2.next = 3;\n                break;\n              }\n              logger.debug(\"replay currentTime 0, return\");\n              return _context2.abrupt(\"return\");\n            case 3:\n              clearTimeout(_this._disconnectTimer);\n              if (!_this._reloadOnPlay) {\n                _context2.next = 9;\n                break;\n              }\n              _this._reloadOnPlay = false;\n              _this.replay(true);\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.next = 11;\n              return _this._loadSegment();\n            case 11:\n              _this._startTick();\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n      }, _callee2);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPause\", function() {\n      if (_this.isLive) {\n        if (!_this._reloadOnPlay) {\n          var disconnectTime = _this.config.disconnectTime;\n          if (disconnectTime === null || disconnectTime === void 0)\n            disconnectTime = _this._playlist.dvrWindow;\n          if (!Number.isFinite(disconnectTime))\n            return;\n          clearTimeout(_this._disconnectTimer);\n          _this._disconnectTimer = setTimeout(function() {\n            _this._reloadOnPlay = true;\n            _this._clear();\n          }, disconnectTime || 0);\n        }\n      } else {\n        _this._stopTick();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n      var seekTime, seekRange, newSeekTime, curSeg, info, segIndex, seg;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1)\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.media) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 2:\n              _this._onCheckQuotaExceeded();\n              seekTime = _this.media.currentTime;\n              seekRange = _this._playlist.seekRange;\n              if (!seekRange) {\n                _context3.next = 10;\n                break;\n              }\n              newSeekTime = clamp(seekTime, seekRange[0], _this.isLive ? seekRange[1] : _this.media.duration);\n              if (!(newSeekTime >= 0 && Math.abs(seekTime - newSeekTime) >= 0.1)) {\n                _context3.next = 10;\n                break;\n              }\n              _this.media.currentTime = newSeekTime;\n              return _context3.abrupt(\"return\");\n            case 10:\n              curSeg = _this._playlist.currentSegment;\n              info = Buffer.info(Buffer.get(_this.media), seekTime, 0.1);\n              if (!curSeg) {\n                _context3.next = 17;\n                break;\n              }\n              if (!(info.end && Math.abs(info.end - curSeg.end) < 0.2)) {\n                _context3.next = 15;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 15:\n              if (!(_this.isLive && info.end)) {\n                _context3.next = 17;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 17:\n              segIndex = _this._playlist.findSegmentIndexByTime(seekTime);\n              seg = _this._playlist.getSegmentByIndex(segIndex);\n              if (!(segIndex === null || segIndex === void 0 || !seg || _this._segmentProcessing && seg === _this._playlist.nextSegment)) {\n                _context3.next = 21;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 21:\n              logger.debug(\"seek to\", seekTime, seg);\n              _this._playlist.setNextSegmentByIndex(segIndex);\n              _this._stopTick();\n              _context3.next = 26;\n              return _this._segmentLoader.cancel();\n            case 26:\n              _this._segmentProcessing = false;\n              if (!(!info.end || _this.isLive)) {\n                _context3.next = 30;\n                break;\n              }\n              _context3.next = 30;\n              return _this._loadSegmentDirect(true);\n            case 30:\n              _this._startTick();\n            case 31:\n            case \"end\":\n              return _context3.stop();\n          }\n      }, _callee3);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      if (!_this.media)\n        return;\n      var cfg = _this.config;\n      if (cfg.isLive && cfg.maxLatency && cfg.targetLatency && _this.media) {\n        var liveEdge = _this._playlist.liveEdge;\n        if (!liveEdge)\n          return;\n        var latency = liveEdge - _this.media.currentTime;\n        if (latency >= cfg.maxLatency) {\n          logger.debug(\"latency jump, currentTime:\".concat(_this.media.currentTime, \", liveEdge:\").concat(liveEdge, \",  latency=\").concat(latency));\n          _this.media.currentTime = liveEdge - cfg.targetLatency;\n        }\n      }\n      if (cfg.seiInTime) {\n        var _this$_seiService;\n        (_this$_seiService = _this._seiService) === null || _this$_seiService === void 0 ? void 0 : _this$_seiService.throw(_this.media.currentTime);\n      }\n      if (_this.config.allowedStreamTrackChange && !_this.config.softDecode) {\n        _this._checkStreamTrackChange(_this.media.currentTime);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_tick\", function() {\n      if (!_this.media)\n        return;\n      _this._startTick();\n      var media = _this.media;\n      var buffered = Buffer.get(media);\n      var segLoaderError = _this._segmentLoader.error;\n      _this._onCheckQuotaExceeded();\n      if (_this._isProcessQuotaExceeded) {\n        if (!_this._bufferService.isFull()) {\n          _this._isProcessQuotaExceeded = false;\n          _this._segmentProcessing = false;\n        }\n      }\n      if (segLoaderError) {\n        var bufferMaxHoleTolerance = 0.5;\n        if (!media.readyState || _this.bufferInfo(bufferMaxHoleTolerance).remaining < 1) {\n          segLoaderError.fatal = true;\n          _this._emitError(StreamingError.network(segLoaderError));\n        }\n        return;\n      }\n      if (Buffer.end(buffered) >= 0.1 && media.readyState) {\n        if (isMediaPlaying(media)) {\n          _this._loadSegment();\n          if (_this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, _this.isLive);\n          }\n        } else {\n          if (media.readyState < 2 && _this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, !media.currentTime ? true : _this.isLive);\n          }\n        }\n      }\n      if (!_this.isLive) {\n        _this._tryEos();\n      }\n    });\n    _this.config = _cfg = getConfig(_cfg);\n    _this.media = _this.config.media;\n    _this._manifestLoader = new ManifestLoader(_assertThisInitialized(_this));\n    _this._segmentLoader = new SegmentLoader(_assertThisInitialized(_this));\n    _this._playlist = new Playlist(_assertThisInitialized(_this));\n    _this._bufferService = new BufferService(_assertThisInitialized(_this));\n    if (_cfg.seiInTime) {\n      _this._seiService = new SeiService(_assertThisInitialized(_this));\n    }\n    if (!_cfg.softDecode)\n      _this._gapService = new GapService();\n    _this._stats = new MediaStatsService(_assertThisInitialized(_this), 9e4);\n    _this.media.addEventListener(\"loadeddata\", _this._onLoadeddata);\n    _this.media.addEventListener(\"play\", _this._onPlay);\n    _this.media.addEventListener(\"pause\", _this._onPause);\n    _this.media.addEventListener(\"seeking\", _this._onSeeking);\n    _this.media.addEventListener(\"timeupdate\", _this._onTimeupdate);\n    return _this;\n  }\n  _createClass(Hls2, [{\n    key: \"isLive\",\n    get: function get() {\n      return this._playlist.isLive;\n    }\n  }, {\n    key: \"streams\",\n    get: function get() {\n      return this._playlist.streams;\n    }\n  }, {\n    key: \"currentStream\",\n    get: function get() {\n      return this._playlist.currentStream;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      return this._playlist.hasSubtitle;\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      return this._playlist.totalDuration;\n    }\n  }, {\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_bufferService;\n      return (_this$_bufferService = this._bufferService) === null || _this$_bufferService === void 0 ? void 0 : _this$_bufferService.baseDts;\n    }\n  }, {\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return this._segmentLoader.speedInfo();\n    }\n  }, {\n    key: \"bufferInfo\",\n    value: function bufferInfo() {\n      var _this$media;\n      var maxHole = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0.1;\n      return Buffer.info(Buffer.get(this.media), (_this$media = this.media) === null || _this$media === void 0 ? void 0 : _this$media.currentTime, maxHole);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      return this._stats.getStats();\n    }\n  }, {\n    key: \"playbackQuality\",\n    value: function playbackQuality() {\n      return getVideoPlaybackQuality(this.media);\n    }\n  }, {\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(url) {\n        var reuseMse, _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                reuseMse = _args4.length > 1 && _args4[1] !== void 0 ? _args4[1] : false;\n                if (url)\n                  this.config.url = url;\n                url = this.config.url;\n                _context4.next = 5;\n                return this._reset(reuseMse);\n              case 5:\n                _context4.next = 7;\n                return this._loadData(url);\n              case 7:\n                this._startTick();\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function load(_x) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"_loadData\",\n    value: function() {\n      var _loadData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5(url) {\n        var manifest, currentStream, _this$_switchUrlOpts, _this$_switchUrlOpts2, switchTimePoint, segIdx, nextSeg, bufferClearStartPoint, preIndex, startTime, _this$_switchUrlOpts3;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                try {\n                  if (url)\n                    url = url.trim();\n                } catch (e) {\n                }\n                if (url) {\n                  _context5.next = 3;\n                  break;\n                }\n                throw this._emitError(new StreamingError(ERR.OTHER, ERR.SUB_TYPES.OPTION, null, null, \"m3u8 url is missing\"));\n              case 3:\n                _context5.next = 5;\n                return this._loadM3U8(url);\n              case 5:\n                manifest = _context5.sent;\n                currentStream = this._playlist.currentStream;\n                if (!(this._urlSwitching && !this.isLive)) {\n                  _context5.next = 17;\n                  break;\n                }\n                if (currentStream.bitrate === 0 && (_this$_switchUrlOpts = this._switchUrlOpts) !== null && _this$_switchUrlOpts !== void 0 && _this$_switchUrlOpts.bitrate) {\n                  currentStream.bitrate = (_this$_switchUrlOpts2 = this._switchUrlOpts) === null || _this$_switchUrlOpts2 === void 0 ? void 0 : _this$_switchUrlOpts2.bitrate;\n                }\n                switchTimePoint = this._getSeamlessSwitchPoint();\n                this.config.startTime = switchTimePoint;\n                segIdx = this._playlist.findSegmentIndexByTime(switchTimePoint);\n                nextSeg = this._playlist.getSegmentByIndex(segIdx + 1);\n                if (!nextSeg) {\n                  _context5.next = 17;\n                  break;\n                }\n                bufferClearStartPoint = nextSeg.start;\n                _context5.next = 17;\n                return this._bufferService.removeBuffer(bufferClearStartPoint);\n              case 17:\n                if (this._urlSwitching && this.isLive) {\n                  preIndex = this._playlist.setNextSegmentBySN(this._prevSegSn);\n                  logger.log(\"segment nb=\".concat(this._prevSegSn, \" index of \").concat(preIndex, \" in the new playlist\"));\n                  if (preIndex === -1) {\n                    this._prevSegCc = null;\n                    this._prevSegSn = null;\n                  }\n                }\n                if (manifest) {\n                  _context5.next = 20;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 20:\n                if (!this.isLive) {\n                  _context5.next = 31;\n                  break;\n                }\n                this._bufferService.setLiveSeekableRange(0, 4294967295);\n                logger.log(\"totalDuration first time got:\", this._playlist.totalDuration);\n                logger.log(\"nb segments got:\", this._playlist.nbSegments);\n                if (this.config.targetLatency < this._playlist.totalDuration) {\n                  this.config.targetLatency = this._playlist.totalDuration;\n                  this.config.maxLatency = 1.5 * this.config.targetLatency;\n                }\n                if (!manifest.isMaster)\n                  this._pollM3U8(url);\n                if (!(this._playlist.nbSegments < this.config.minSegmentsStartPlay)) {\n                  _context5.next = 28;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 28:\n                _context5.next = 30;\n                return this._loadSegment();\n              case 30:\n                return _context5.abrupt(\"return\");\n              case 31:\n                _context5.next = 33;\n                return this._bufferService.updateDuration(currentStream.totalDuration);\n              case 33:\n                startTime = this.config.startTime;\n                if (startTime) {\n                  if (!((_this$_switchUrlOpts3 = this._switchUrlOpts) !== null && _this$_switchUrlOpts3 !== void 0 && _this$_switchUrlOpts3.seamless)) {\n                    this.media.currentTime = startTime;\n                  }\n                  this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(startTime) || 0);\n                }\n                _context5.next = 37;\n                return this._loadSegment();\n              case 37:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function _loadData(_x2) {\n        return _loadData2.apply(this, arguments);\n      }\n      return _loadData;\n    }()\n  }, {\n    key: \"replay\",\n    value: function() {\n      var _replay = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6(isPlayEmit) {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.config.startTime = 0;\n                _context6.next = 3;\n                return this.load();\n              case 3:\n                this._reloadOnPlay = false;\n                return _context6.abrupt(\"return\", this.media.play(!isPlayEmit));\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function replay(_x3) {\n        return _replay.apply(this, arguments);\n      }\n      return replay;\n    }()\n  }, {\n    key: \"switchURL\",\n    value: function() {\n      var _switchURL = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7(url) {\n        var options, defaultOpts, key, _options, seamless, startTime, appended, _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                options = _args7.length > 1 && _args7[1] !== void 0 ? _args7[1] : {};\n                defaultOpts = {\n                  seamless: false,\n                  startTime: 0,\n                  bitrate: 0\n                };\n                _context7.t0 = _typeof(options);\n                _context7.next = _context7.t0 === \"number\" ? 5 : _context7.t0 === \"boolean\" ? 7 : _context7.t0 === \"object\" ? 9 : 11;\n                break;\n              case 5:\n                options = {\n                  startTime: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 7:\n                options = {\n                  seamless: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 9:\n                for (key in options) {\n                  if (options[key] === void 0 || options[key] === null) {\n                    delete options[key];\n                  }\n                }\n                return _context7.abrupt(\"break\", 12);\n              case 11:\n                throw \"unsupported switchURL args: \".concat(options);\n              case 12:\n                options = Object.assign({}, defaultOpts, options);\n                _options = options, seamless = _options.seamless, startTime = _options.startTime;\n                this.config.url = url;\n                this.config.startTime = startTime;\n                this._switchUrlOpts = options;\n                if (seamless) {\n                  _context7.next = 38;\n                  break;\n                }\n                _context7.prev = 18;\n                if (!this.config.softDecode) {\n                  _context7.next = 23;\n                  break;\n                }\n                _context7.t1 = this.load(url);\n                _context7.next = 26;\n                break;\n              case 23:\n                _context7.next = 25;\n                return this.load(url);\n              case 25:\n                _context7.t1 = _context7.sent;\n              case 26:\n                appended = _context7.t1;\n                _context7.next = 33;\n                break;\n              case 29:\n                _context7.prev = 29;\n                _context7.t2 = _context7[\"catch\"](18);\n                this.emit(Event.SWITCH_URL_FAILED, _context7.t2);\n                throw _context7.t2;\n              case 33:\n                this._reloadOnPlay = false;\n                if (appended) {\n                  this.emit(Event.SWITCH_URL_SUCCESS, {\n                    url\n                  });\n                }\n                return _context7.abrupt(\"return\", this.media.play(true));\n              case 38:\n                this._urlSwitching = true;\n                if (!this.isLive) {\n                  this._prevSegSn = null;\n                  this._prevSegCc = null;\n                }\n                this._playlist.reset();\n                this._bufferService.seamlessSwitch();\n                _context7.next = 44;\n                return this._clear();\n              case 44:\n                _context7.next = 46;\n                return this._loadData(url);\n              case 46:\n                this._startTick();\n              case 47:\n                this._switchUrlOpts = null;\n              case 48:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this, [[18, 29]]);\n      }));\n      function switchURL(_x4) {\n        return _switchURL.apply(this, arguments);\n      }\n      return switchURL;\n    }()\n  }, {\n    key: \"switchStream\",\n    value: function() {\n      var _switchStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(id) {\n        var force, curStream, streams, toSwitch, curId, _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                force = _args8.length > 1 && _args8[1] !== void 0 ? _args8[1] : true;\n                curStream = this.currentStream;\n                streams = this.streams;\n                if (!(!curStream || curStream.id === id || !streams || streams.length < 2)) {\n                  _context8.next = 5;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 5:\n                toSwitch = streams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context8.next = 8;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 8:\n                _context8.prev = 8;\n                _context8.next = 11;\n                return this._clear();\n              case 11:\n                if (!force) {\n                  _context8.next = 14;\n                  break;\n                }\n                _context8.next = 14;\n                return this._bufferService.clearAllBuffer();\n              case 14:\n                _context8.next = 19;\n                break;\n              case 16:\n                _context8.prev = 16;\n                _context8.t0 = _context8[\"catch\"](8);\n                throw this._emitError(StreamingError.create(_context8.t0));\n              case 19:\n                if (curStream.currentAudioStream && toSwitch.audioStreams.length > 2) {\n                  curId = curStream.currentAudioStream.id;\n                  toSwitch.currentAudioStream = toSwitch.audioStreams.find(function(x) {\n                    return x.id === curId;\n                  }) || toSwitch.currentAudioStream;\n                }\n                this._playlist.currentStream = toSwitch;\n                _context8.prev = 21;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context8.next = 25;\n                  break;\n                }\n                _context8.next = 25;\n                return this._refreshM3U8();\n              case 25:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context8.next = 29;\n                return this._loadSegmentDirect();\n              case 29:\n                _context8.next = 35;\n                break;\n              case 31:\n                _context8.prev = 31;\n                _context8.t1 = _context8[\"catch\"](21);\n                this._playlist.currentStream = curStream;\n                throw _context8.t1;\n              case 35:\n                this._startTick();\n                return _context8.abrupt(\"return\", toSwitch);\n              case 37:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this, [[8, 16], [21, 31]]);\n      }));\n      function switchStream(_x5) {\n        return _switchStream.apply(this, arguments);\n      }\n      return switchStream;\n    }()\n  }, {\n    key: \"switchAudioStream\",\n    value: function() {\n      var _switchAudioStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9(id) {\n        var force, curStream, audioStream, toSwitch, _args9 = arguments;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                force = _args9.length > 1 && _args9[1] !== void 0 ? _args9[1] : true;\n                curStream = this.currentStream;\n                if (curStream) {\n                  _context9.next = 4;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 4:\n                audioStream = curStream.currentAudioStream;\n                if (!(!audioStream || audioStream.id === id || curStream.audioStreams.length < 2)) {\n                  _context9.next = 7;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 7:\n                toSwitch = curStream.audioStreams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context9.next = 10;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 10:\n                _context9.prev = 10;\n                _context9.next = 13;\n                return this._clear();\n              case 13:\n                if (!force) {\n                  _context9.next = 16;\n                  break;\n                }\n                _context9.next = 16;\n                return this._bufferService.clearAllBuffer();\n              case 16:\n                _context9.next = 21;\n                break;\n              case 18:\n                _context9.prev = 18;\n                _context9.t0 = _context9[\"catch\"](10);\n                throw this._emitError(StreamingError.create(_context9.t0));\n              case 21:\n                curStream.currentAudioStream = toSwitch;\n                _context9.prev = 22;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context9.next = 26;\n                  break;\n                }\n                _context9.next = 26;\n                return this._refreshM3U8();\n              case 26:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context9.next = 30;\n                return this._loadSegmentDirect();\n              case 30:\n                _context9.next = 36;\n                break;\n              case 32:\n                _context9.prev = 32;\n                _context9.t1 = _context9[\"catch\"](22);\n                curStream.currentAudioStream = audioStream;\n                throw _context9.t1;\n              case 36:\n                this._startTick();\n                return _context9.abrupt(\"return\", toSwitch);\n              case 38:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this, [[10, 18], [22, 32]]);\n      }));\n      function switchAudioStream(_x6) {\n        return _switchAudioStream.apply(this, arguments);\n      }\n      return switchAudioStream;\n    }()\n  }, {\n    key: \"switchSubtitleStream\",\n    value: function() {\n      var _switchSubtitleStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10(lang) {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this._playlist.switchSubtitle(lang);\n                _context10.next = 3;\n                return this._manifestLoader.stopPoll();\n              case 3:\n                _context10.next = 5;\n                return this._refreshM3U8();\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function switchSubtitleStream(_x7) {\n        return _switchSubtitleStream.apply(this, arguments);\n      }\n      return switchSubtitleStream;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee11() {\n        var _this$_seiService2;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1)\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (this.media) {\n                  _context11.next = 2;\n                  break;\n                }\n                return _context11.abrupt(\"return\");\n              case 2:\n                this.removeAllListeners();\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService2 = this._seiService) === null || _this$_seiService2 === void 0 ? void 0 : _this$_seiService2.reset();\n                this.media.removeEventListener(\"loadeddata\", this._onLoadeddata);\n                this.media.removeEventListener(\"play\", this._onPlay);\n                this.media.removeEventListener(\"pause\", this._onPause);\n                this.media.removeEventListener(\"seeking\", this._onSeeking);\n                this.media.removeEventListener(\"timeupdate\", this._onTimeupdate);\n                _context11.next = 13;\n                return Promise.all([this._clear(), this._bufferService.destroy()]);\n              case 13:\n                this.media = null;\n              case 14:\n              case \"end\":\n                return _context11.stop();\n            }\n        }, _callee11, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_loadM3U8\",\n    value: function() {\n      var _loadM3U = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee12(url) {\n        var playlist, _this$config$manifest, _this$config$manifest2, manifest, _ref4, _ref5, _this$_playlist$curre;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1)\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.prev = 0;\n                manifest = (_this$config$manifest = this.config.manifestList) === null || _this$config$manifest === void 0 ? void 0 : (_this$config$manifest2 = _this$config$manifest.filter(function(x) {\n                  return x.url === url;\n                })[0]) === null || _this$config$manifest2 === void 0 ? void 0 : _this$config$manifest2.manifest;\n                if (!manifest) {\n                  _context12.next = 6;\n                  break;\n                }\n                _context12.t0 = this._manifestLoader.parseText(manifest, url);\n                _context12.next = 9;\n                break;\n              case 6:\n                _context12.next = 8;\n                return this._manifestLoader.load(url);\n              case 8:\n                _context12.t0 = _context12.sent;\n              case 9:\n                _ref4 = _context12.t0;\n                _ref5 = _slicedToArray(_ref4, 1);\n                playlist = _ref5[0];\n                _context12.next = 17;\n                break;\n              case 14:\n                _context12.prev = 14;\n                _context12.t1 = _context12[\"catch\"](0);\n                throw this._emitError(StreamingError.create(_context12.t1));\n              case 17:\n                if (playlist) {\n                  _context12.next = 19;\n                  break;\n                }\n                return _context12.abrupt(\"return\");\n              case 19:\n                this._playlist.upsertPlaylist(playlist);\n                if (!playlist.isMaster) {\n                  _context12.next = 24;\n                  break;\n                }\n                if ((_this$_playlist$curre = this._playlist.currentStream.subtitleStreams) !== null && _this$_playlist$curre !== void 0 && _this$_playlist$curre.length) {\n                  this.emit(Event.SUBTITLE_PLAYLIST, {\n                    list: this._playlist.currentStream.subtitleStreams\n                  });\n                }\n                _context12.next = 24;\n                return this._refreshM3U8();\n              case 24:\n                this.emit(Event.STREAM_PARSED);\n                return _context12.abrupt(\"return\", playlist);\n              case 26:\n              case \"end\":\n                return _context12.stop();\n            }\n        }, _callee12, this, [[0, 14]]);\n      }));\n      function _loadM3U8(_x8) {\n        return _loadM3U.apply(this, arguments);\n      }\n      return _loadM3U8;\n    }()\n  }, {\n    key: \"_refreshM3U8\",\n    value: function _refreshM3U8() {\n      var _stream$currentAudioS, _stream$currentSubtit, _this2 = this;\n      var stream = this._playlist.currentStream;\n      if (!stream || !stream.url)\n        throw this._emitError(StreamingError.create(null, null, new Error(\"m3u8 url is not defined\")));\n      var url = stream.url;\n      var audioUrl = (_stream$currentAudioS = stream.currentAudioStream) === null || _stream$currentAudioS === void 0 ? void 0 : _stream$currentAudioS.url;\n      var subtitleUrl = (_stream$currentSubtit = stream.currentSubtitleStream) === null || _stream$currentSubtit === void 0 ? void 0 : _stream$currentSubtit.url;\n      return this._manifestLoader.load(url, audioUrl, subtitleUrl).then(function(_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3), mediaPlaylist = _ref7[0], audioPlaylist = _ref7[1], subtitlePlaylist = _ref7[2];\n        if (!mediaPlaylist)\n          return;\n        _this2._playlist.upsertPlaylist(mediaPlaylist, audioPlaylist, subtitlePlaylist);\n        if (!_this2.isLive)\n          return;\n        _this2._pollM3U8(url, audioUrl, subtitleUrl);\n      }).catch(function(err) {\n        throw _this2._emitError(StreamingError.create(err));\n      });\n    }\n  }, {\n    key: \"_pollM3U8\",\n    value: function _pollM3U8(url, audioUrl, subtitleUrl) {\n      var _this3 = this;\n      var isEmpty = this._playlist.isEmpty;\n      var pollInterval;\n      if (this._playlist.lowLatency) {\n        pollInterval = (this._playlist.currentStream.partTargetDuration * 2 || 0) * 1e3;\n      } else {\n        var _this$_playlist$lastS;\n        pollInterval = (((_this$_playlist$lastS = this._playlist.lastSegment) === null || _this$_playlist$lastS === void 0 ? void 0 : _this$_playlist$lastS.duration) || 0) * 1e3;\n      }\n      this._manifestLoader.poll(\n        url,\n        audioUrl,\n        subtitleUrl,\n        function(p1, p2, p3) {\n          _this3._playlist.upsertPlaylist(p1, p2, p3);\n          _this3._playlist.clearOldSegment();\n          var switchToNoEmpty = p1 && isEmpty && !_this3._playlist.isEmpty;\n          if (switchToNoEmpty || !_this3._playlist.hadSegmentLoaded && _this3._playlist.nbSegments >= _this3.config.minSegmentsStartPlay) {\n            _this3._loadSegment();\n          }\n          if (isEmpty)\n            isEmpty = _this3._playlist.isEmpty;\n        },\n        function(err) {\n          _this3._emitError(StreamingError.create(err));\n        },\n        pollInterval\n      );\n    }\n  }, {\n    key: \"_loadSegmentDirect\",\n    value: function() {\n      var _loadSegmentDirect2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee13(loadOnce) {\n        var seg, appended, cachedError, _this$_playlist$curre2, bufferEnd, sameStream;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1)\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                seg = this._playlist.nextSegment;\n                if (seg) {\n                  _context13.next = 3;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 3:\n                appended = false;\n                cachedError = null;\n                _context13.prev = 5;\n                this._segmentProcessing = true;\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", [\").concat(seg.start, \", \").concat(seg.end, \"], partIndex:\").concat(seg.partIndex));\n                _context13.next = 10;\n                return this._reqAndBufferSegment(seg, this._playlist.getAudioSegment(seg));\n              case 10:\n                appended = _context13.sent;\n                _context13.next = 16;\n                break;\n              case 13:\n                _context13.prev = 13;\n                _context13.t0 = _context13[\"catch\"](5);\n                cachedError = _context13.t0;\n              case 16:\n                _context13.prev = 16;\n                this._segmentProcessing = false;\n                return _context13.finish(16);\n              case 19:\n                if (!cachedError) {\n                  _context13.next = 26;\n                  break;\n                }\n                if (!this._bufferService.isFull()) {\n                  _context13.next = 25;\n                  break;\n                }\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                this._segmentProcessing = true;\n                this._isProcessQuotaExceeded = true;\n                return _context13.abrupt(\"return\", false);\n              case 25:\n                return _context13.abrupt(\"return\", this._emitError(StreamingError.create(cachedError)));\n              case 26:\n                if (appended) {\n                  bufferEnd = this.bufferInfo().end;\n                  if (this.isLive && !this.media.seeking && bufferEnd && Math.abs(seg.end - bufferEnd) > 1) {\n                    logger.warn(\"segment: \".concat(seg.sn, \" expected end=\").concat(seg.end, \", real end=\").concat(bufferEnd));\n                    this._playlist.feedbackLiveEdge(seg, bufferEnd);\n                  }\n                  sameStream = ((_this$_playlist$curre2 = this._playlist.currentStream) === null || _this$_playlist$curre2 === void 0 ? void 0 : _this$_playlist$curre2.url) === seg.parentUrl;\n                  if (this._urlSwitching && !sameStream) {\n                    logger.warn(\"pre playlist segment appended!\");\n                    this._bufferService.seamlessSwitch();\n                  }\n                  if (this.isLive && this._urlSwitching && sameStream) {\n                    this._urlSwitching = false;\n                    this.emit(Event.SWITCH_URL_SUCCESS, {\n                      url: this.config.url\n                    });\n                  }\n                  this._playlist.moveSegmentPointer();\n                  if (seg.isLast) {\n                    this._end();\n                  } else if (!loadOnce) {\n                    this._loadSegment();\n                  }\n                }\n                return _context13.abrupt(\"return\", appended);\n              case 28:\n              case \"end\":\n                return _context13.stop();\n            }\n        }, _callee13, this, [[5, 13, 16, 19]]);\n      }));\n      function _loadSegmentDirect(_x9) {\n        return _loadSegmentDirect2.apply(this, arguments);\n      }\n      return _loadSegmentDirect;\n    }()\n  }, {\n    key: \"_reqAndBufferSegment\",\n    value: function() {\n      var _reqAndBufferSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee14(seg, audioSeg) {\n        var _this$_bufferService2;\n        var cc, discontinuity, responses, data, sn, start, stream, before, contiguous, segStart;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1)\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                cc = seg ? seg.cc : audioSeg.cc;\n                discontinuity = this._prevSegCc !== cc;\n                responses = [];\n                _context14.prev = 3;\n                _context14.next = 6;\n                return this._segmentLoader.load(seg, audioSeg, discontinuity);\n              case 6:\n                responses = _context14.sent;\n                _context14.next = 14;\n                break;\n              case 9:\n                _context14.prev = 9;\n                _context14.t0 = _context14[\"catch\"](3);\n                _context14.t0.fatal = false;\n                this._segmentLoader.error = _context14.t0;\n                throw _context14.t0;\n              case 14:\n                if (responses[0]) {\n                  _context14.next = 16;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 16:\n                _context14.next = 18;\n                return (_this$_bufferService2 = this._bufferService).decryptBuffer.apply(_this$_bufferService2, _toConsumableArray(responses));\n              case 18:\n                data = _context14.sent;\n                if (data) {\n                  _context14.next = 21;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 21:\n                sn = seg ? seg.sn : audioSeg.sn;\n                start = seg ? seg.start : audioSeg.start;\n                stream = this._playlist.currentStream;\n                this._bufferService.createSource(data[0], data[1], stream === null || stream === void 0 ? void 0 : stream.videoCodec, stream === null || stream === void 0 ? void 0 : stream.audioCodec);\n                before = Date.now();\n                contiguous = this._prevSegSn === sn - 1;\n                if (this.isLive && this._urlSwitching) {\n                  segStart = this.bufferInfo().end;\n                  this._playlist.updateSegmentsRanges(sn, segStart);\n                  logger.warn(\"update the new playlist liveEdge, segment id=\".concat(sn, \", buffer start=\").concat(segStart, \", liveEdge=\").concat(this._playlist.liveEdge));\n                  start = segStart;\n                }\n                _context14.next = 30;\n                return this._bufferService.appendBuffer(seg, audioSeg, data[0], data[1], discontinuity, contiguous, start);\n              case 30:\n                this.emit(Event.APPEND_COST, {\n                  elapsed: Date.now() - before,\n                  url: seg.url\n                });\n                _context14.next = 33;\n                return this._bufferService.evictBuffer(this.config.bufferBehind);\n              case 33:\n                this._prevSegCc = cc;\n                this._prevSegSn = sn;\n                return _context14.abrupt(\"return\", true);\n              case 36:\n              case \"end\":\n                return _context14.stop();\n            }\n        }, _callee14, this, [[3, 9]]);\n      }));\n      function _reqAndBufferSegment(_x10, _x11) {\n        return _reqAndBufferSegment2.apply(this, arguments);\n      }\n      return _reqAndBufferSegment;\n    }()\n  }, {\n    key: \"_onCheckQuotaExceeded\",\n    value: function() {\n      var _onCheckQuotaExceeded2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee15() {\n        var seekTime, buffered, inBuffered, i, bufferBehind, mediaTime;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1)\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                seekTime = this.media.currentTime;\n                buffered = this.media.buffered;\n                inBuffered = false;\n                i = 0;\n              case 4:\n                if (!(i < buffered.length)) {\n                  _context15.next = 11;\n                  break;\n                }\n                if (!(buffered.start(0) >= seekTime && seekTime < buffered.end(i))) {\n                  _context15.next = 8;\n                  break;\n                }\n                inBuffered = true;\n                return _context15.abrupt(\"break\", 11);\n              case 8:\n                i++;\n                _context15.next = 4;\n                break;\n              case 11:\n                if (!this._bufferService.isFull()) {\n                  _context15.next = 17;\n                  break;\n                }\n                bufferBehind = inBuffered ? this.config.bufferBehind : 5;\n                mediaTime = this.media.currentTime;\n                if (!(mediaTime - bufferBehind > 0)) {\n                  _context15.next = 17;\n                  break;\n                }\n                _context15.next = 17;\n                return this._bufferService.removeBuffer(0, mediaTime - bufferBehind);\n              case 17:\n              case \"end\":\n                return _context15.stop();\n            }\n        }, _callee15, this);\n      }));\n      function _onCheckQuotaExceeded() {\n        return _onCheckQuotaExceeded2.apply(this, arguments);\n      }\n      return _onCheckQuotaExceeded;\n    }()\n  }, {\n    key: \"_checkStreamTrackChange\",\n    value: function _checkStreamTrackChange(time) {\n      var changedSeg = this._playlist.checkSegmentTrackChange(time, this._bufferService.nbSb);\n      if (!changedSeg)\n        return;\n      this.switchURL(this.config.url, changedSeg.start + 0.2);\n    }\n  }, {\n    key: \"_clear\",\n    value: function() {\n      var _clear2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee16() {\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1)\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                clearTimeout(this._disconnectTimer);\n                this._stopTick();\n                _context16.next = 4;\n                return Promise.all([this._segmentLoader.cancel(), this._manifestLoader.stopPoll()]);\n              case 4:\n                this._segmentProcessing = false;\n              case 5:\n              case \"end\":\n                return _context16.stop();\n            }\n        }, _callee16, this);\n      }));\n      function _clear() {\n        return _clear2.apply(this, arguments);\n      }\n      return _clear;\n    }()\n  }, {\n    key: \"_reset\",\n    value: function() {\n      var _reset2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee17() {\n        var _this$_seiService3;\n        var reuseMse, _args17 = arguments;\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1)\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                reuseMse = _args17.length > 0 && _args17[0] !== void 0 ? _args17[0] : false;\n                this._reloadOnPlay = false;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._switchUrlOpts = null;\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService3 = this._seiService) === null || _this$_seiService3 === void 0 ? void 0 : _this$_seiService3.reset();\n                this._stats.reset();\n                _context17.next = 11;\n                return this._clear();\n              case 11:\n                return _context17.abrupt(\"return\", this._bufferService.reset(reuseMse));\n              case 12:\n              case \"end\":\n                return _context17.stop();\n            }\n        }, _callee17, this);\n      }));\n      function _reset() {\n        return _reset2.apply(this, arguments);\n      }\n      return _reset;\n    }()\n  }, {\n    key: \"_end\",\n    value: function _end() {\n      this._clear();\n      this._bufferService.endOfStream();\n      if (this.media.readyState <= 2 || this.media.buffered.length > 1) {\n        this._startTick();\n      }\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      if (this._tickTimer) {\n        clearTimeout(this._tickTimer);\n      }\n      this._tickTimer = null;\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      this._stopTick();\n      this._tickTimer = setTimeout(this._tick, this._tickInterval);\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(error) {\n      var _error$originError;\n      var endOfStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      if (((_error$originError = error.originError) === null || _error$originError === void 0 ? void 0 : _error$originError.fatal) === false) {\n        logger.warn(error);\n      } else {\n        var _this$media2, _this$media3, _this$_seiService4;\n        logger.table(error);\n        logger.error(error);\n        logger.error((_this$media2 = this.media) === null || _this$media2 === void 0 ? void 0 : _this$media2.error);\n        if ((_this$media3 = this.media) !== null && _this$media3 !== void 0 && _this$media3.readyState) {\n          this.media.pause();\n        }\n        this._stopTick();\n        if (this._urlSwitching) {\n          this._urlSwitching = false;\n          this.emit(Event.SWITCH_URL_FAILED, error);\n        }\n        this.emit(Event.ERROR, error);\n        if (endOfStream)\n          this._end();\n        (_this$_seiService4 = this._seiService) === null || _this$_seiService4 === void 0 ? void 0 : _this$_seiService4.reset();\n      }\n      return error;\n    }\n  }, {\n    key: \"_getSeamlessSwitchPoint\",\n    value: function _getSeamlessSwitchPoint() {\n      var media = this.media;\n      var nextLoadPoint = media.currentTime;\n      if (!media.paused) {\n        var _this$_stats;\n        var segIdx = this._playlist.findSegmentIndexByTime(media.currentTime);\n        var curSeg = this._playlist.getSegmentByIndex(segIdx);\n        var latestKbps = (_this$_stats = this._stats) === null || _this$_stats === void 0 ? void 0 : _this$_stats.getStats().downloadSpeed;\n        if (latestKbps && curSeg) {\n          var delay = curSeg.duration * this._playlist.currentStream.bitrate / latestKbps + 1;\n          nextLoadPoint += delay;\n        } else {\n          nextLoadPoint += 5;\n        }\n      }\n      return nextLoadPoint;\n    }\n  }, {\n    key: \"_tryEos\",\n    value: function _tryEos() {\n      var _this$_bufferService3, _this$_bufferService4;\n      var media = this.media;\n      var _this$_playlist = this._playlist, nextSegment = _this$_playlist.nextSegment, lastSegment = _this$_playlist.lastSegment;\n      var eosAllowed = !nextSegment && media.readyState && media.duration > 0 && ((_this$_bufferService3 = this._bufferService) === null || _this$_bufferService3 === void 0 ? void 0 : _this$_bufferService3.msIsOpened) && !((_this$_bufferService4 = this._bufferService) !== null && _this$_bufferService4 !== void 0 && _this$_bufferService4.msHasOpTasks);\n      if (!eosAllowed) {\n        return;\n      }\n      var bInfo = this.bufferInfo();\n      if (media.paused && !media.currentTime) {\n        bInfo = this.bufferInfo(bInfo.nextStart || 0.5);\n      }\n      var bufferThroughout = Math.abs(bInfo.end - media.duration) < 0.1 || !this.isLive && lastSegment && bInfo.end >= lastSegment.start + lastSegment.duration;\n      if (bufferThroughout) {\n        this._bufferService.endOfStream();\n      }\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(mediaType) {\n      if (!mediaType || mediaType === \"video\" || mediaType === \"audio\") {\n        return MSE.isSupported();\n      }\n      return typeof WebAssembly !== \"undefined\";\n    }\n  }, {\n    key: \"enableLogger\",\n    value: function enableLogger() {\n      Logger.enable();\n      Logger$1.enable();\n    }\n  }, {\n    key: \"disableLogger\",\n    value: function disableLogger() {\n      Logger.disable();\n      Logger$1.disable();\n    }\n  }]);\n  return Hls2;\n}(EventEmitter);\n_defineProperty(Hls, \"version\", \"3.0.17\");\ntry {\n  if (localStorage.getItem(\"xgd\")) {\n    Hls.enableLogger();\n  } else {\n    Hls.disableLogger();\n  }\n} catch (error) {\n}\nexport { Hls };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Event } from \"./hls/constants.js\";\nvar PluginExtension = /* @__PURE__ */ function() {\n  function PluginExtension2(opts, plugin) {\n    var _this = this;\n    _classCallCheck(this, PluginExtension2);\n    _defineProperty(this, \"_opts\", null);\n    _defineProperty(this, \"_plugin\", null);\n    _defineProperty(this, \"_onLowDecode\", function() {\n      var _this$_plugin, _this$_plugin$player, _this$_plugin2, _this$_plugin2$player;\n      var _this$_opts = _this._opts, media = _this$_opts.media, innerDegrade = _this$_opts.innerDegrade;\n      (_this$_plugin = _this._plugin) === null || _this$_plugin === void 0 ? void 0 : (_this$_plugin$player = _this$_plugin.player) === null || _this$_plugin$player === void 0 ? void 0 : _this$_plugin$player.emit(\"lowdecode\", media.degradeInfo);\n      (_this$_plugin2 = _this._plugin) === null || _this$_plugin2 === void 0 ? void 0 : (_this$_plugin2$player = _this$_plugin2.player) === null || _this$_plugin2$player === void 0 ? void 0 : _this$_plugin2$player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, media.degradeInfo), {}, {\n        eventName: Event.LOWDECODE\n      }));\n      if (innerDegrade === 1) {\n        _this._degrade(media.src);\n      }\n    });\n    _defineProperty(this, \"_degrade\", function(url) {\n      var player = _this._plugin.player;\n      var originVideo = player.video;\n      if (originVideo && originVideo.TAG !== \"MVideo\")\n        return;\n      var newVideo = player.video.degradeVideo;\n      player.video = newVideo;\n      originVideo.degrade(url);\n      if (url) {\n        player.config.url = url;\n      }\n      var firstChild = player.root.firstChild;\n      if (firstChild.TAG === \"MVideo\") {\n        player.root.replaceChild(newVideo, firstChild);\n      }\n      var hlsPlugin = _this._plugin.constructor.pluginName.toLowerCase();\n      player.unRegisterPlugin(hlsPlugin);\n      player.once(\"canplay\", function() {\n        player.play();\n      });\n    });\n    _defineProperty(this, \"forceDegradeToVideo\", function(url) {\n      var innerDegrade = _this._opts.innerDegrade;\n      if (innerDegrade === 1) {\n        _this._degrade(url);\n      }\n    });\n    this._opts = opts;\n    this._plugin = plugin;\n    this._init();\n  }\n  _createClass(PluginExtension2, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this$_opts2 = this._opts, media = _this$_opts2.media, preloadTime = _this$_opts2.preloadTime, innerDegrade = _this$_opts2.innerDegrade, isLive = _this$_opts2.isLive;\n      if (!media)\n        return;\n      if (!isLive && media.setPlayMode) {\n        media.setPlayMode(\"VOD\");\n        return;\n      }\n      if (innerDegrade) {\n        media.setAttribute(\"innerdegrade\", innerDegrade);\n      }\n      if (preloadTime) {\n        media.setAttribute(\"preloadtime\", preloadTime);\n      }\n      this._bindEvents();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var media = this._opts.media;\n      media.addEventListener(\"lowdecode\", this._onLowDecode);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$_opts3, _this$_opts3$media;\n      (_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : (_this$_opts3$media = _this$_opts3.media) === null || _this$_opts3$media === void 0 ? void 0 : _this$_opts3$media.removeEventListener(\"lowdecode\", this._onLowDecode);\n      this._plugin = null;\n    }\n  }]);\n  return PluginExtension2;\n}();\nexport { PluginExtension as default };\n","import { defineProperty as _defineProperty, typeof as _typeof, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { BasePlugin, Events, Errors } from \"xgplayer\";\nimport { MSE, EVENT } from \"xgplayer-streaming-shared\";\nimport { Hls } from \"./hls/index.js\";\nimport { Event } from \"./hls/constants.js\";\nimport PluginExtension from \"./plugin-extension.js\";\nfunction parseSwitchUrlArgs(args, plugin) {\n  var player = plugin.player;\n  var curTime = player.currentTime;\n  var options = {\n    startTime: curTime\n  };\n  switch (_typeof(args)) {\n    case \"boolean\":\n      options.seamless = args;\n      break;\n    case \"object\":\n      Object.assign(options, args);\n      break;\n  }\n  return options;\n}\nvar HlsPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(HlsPlugin2, _BasePlugin);\n  var _super = _createSuper(HlsPlugin2);\n  function HlsPlugin2() {\n    var _this;\n    _classCallCheck(this, HlsPlugin2);\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(_args));\n    _defineProperty(_assertThisInitialized(_this), \"hls\", null);\n    _defineProperty(_assertThisInitialized(_this), \"pluginExtension\", null);\n    _defineProperty(_assertThisInitialized(_this), \"getStats\", function() {\n      var _this$hls;\n      return (_this$hls = _this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.getStats();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchSubtitle\", function(_ref) {\n      var _this$hls2;\n      var lang = _ref.lang;\n      (_this$hls2 = _this.hls) === null || _this$hls2 === void 0 ? void 0 : _this$hls2.switchSubtitleStream(lang);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchURL\", function(url, args) {\n      return new Promise(function(resolve, reject) {\n        var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, hls = _assertThisInitialize.hls;\n        if (hls) {\n          var _this$player$config, _this$player$config$h;\n          var options = parseSwitchUrlArgs(args, _assertThisInitialized(_this));\n          player.config.url = url;\n          hls.switchURL(url, options).then(function() {\n            return resolve(true);\n          }).catch(reject);\n          if (!options.seamless && (_this$player$config = _this.player.config) !== null && _this$player$config !== void 0 && (_this$player$config$h = _this$player$config.hls) !== null && _this$player$config$h !== void 0 && _this$player$config$h.keepStatusAfterSwitch) {\n            _this._keepPauseStatus();\n          }\n        } else {\n          reject();\n        }\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_keepPauseStatus\", function() {\n      var paused = _this.player.paused;\n      if (!paused)\n        return;\n      _this.player.once(\"canplay\", function() {\n        _this.player.pause();\n      });\n    });\n    return _this;\n  }\n  _createClass(HlsPlugin2, [{\n    key: \"core\",\n    get: function get() {\n      return this.hls;\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      var _this$hls3;\n      return (_this$hls3 = this.hls) === null || _this$hls3 === void 0 ? void 0 : _this$hls3.version;\n    }\n  }, {\n    key: \"softDecode\",\n    get: function get() {\n      var _this$player, _this$player$config2;\n      var mediaType = (_this$player = this.player) === null || _this$player === void 0 ? void 0 : (_this$player$config2 = _this$player.config) === null || _this$player$config2 === void 0 ? void 0 : _this$player$config2.mediaType;\n      return !!mediaType && mediaType !== \"video\" && mediaType !== \"audio\";\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n      var _this2 = this;\n      var config = this.player.config;\n      var hlsOpts = config.hls || {};\n      if (!config.url && !config.__allowHlsEmptyUrl__ || !hlsOpts.preferMMS && MSE.isMMSOnly()) {\n        return;\n      }\n      if (this.hls)\n        this.hls.destroy();\n      this.player.switchURL = this._onSwitchURL;\n      this.player.handleSource = false;\n      hlsOpts.innerDegrade = hlsOpts.innerDegrade || config.innerDegrade;\n      if (hlsOpts.disconnectTime === null || hlsOpts.disconnectTime === void 0)\n        hlsOpts.disconnectTime = 0;\n      this.hls = new Hls(_objectSpread2({\n        softDecode: this.softDecode,\n        isLive: config.isLive,\n        media: this.player.media || this.player.video,\n        startTime: config.startTime,\n        url: config.url\n      }, hlsOpts));\n      if (!this.softDecode) {\n        BasePlugin.defineGetterOrSetter(this.player, {\n          url: {\n            get: function get() {\n              var _this2$hls, _this2$hls$media;\n              return (_this2$hls = _this2.hls) === null || _this2$hls === void 0 ? void 0 : (_this2$hls$media = _this2$hls.media) === null || _this2$hls$media === void 0 ? void 0 : _this2$hls$media.src;\n            },\n            configurable: true\n          }\n        });\n      }\n      if (this.softDecode) {\n        this.pluginExtension = new PluginExtension(_objectSpread2({\n          isLive: config.isLive,\n          media: this.player.video\n        }, hlsOpts), this);\n        this.player.forceDegradeToVideo = function() {\n          var _this2$pluginExtensio;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return (_this2$pluginExtensio = _this2.pluginExtension) === null || _this2$pluginExtensio === void 0 ? void 0 : _this2$pluginExtensio.forceDegradeToVideo.apply(_this2$pluginExtensio, args);\n        };\n      }\n      if (config.isLive) {\n        var _this$player2;\n        (_this$player2 = this.player) === null || _this$player2 === void 0 ? void 0 : _this$player2.useHooks(\"replay\", function() {\n          var _this2$hls2;\n          return (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.replay();\n        });\n      }\n      this.on(Events.SWITCH_SUBTITLE || \"switch_subtitle\", this._onSwitchSubtitle);\n      this.on(Events.URL_CHANGE, this._onSwitchURL);\n      this.on(Events.DESTROY, this.destroy.bind(this));\n      this._transError();\n      this._transCoreEvent(EVENT.TTFB);\n      this._transCoreEvent(EVENT.LOAD_START);\n      this._transCoreEvent(EVENT.LOAD_RESPONSE_HEADERS);\n      this._transCoreEvent(EVENT.LOAD_COMPLETE);\n      this._transCoreEvent(EVENT.LOAD_RETRY);\n      this._transCoreEvent(EVENT.SOURCEBUFFER_CREATED);\n      this._transCoreEvent(EVENT.MEDIASOURCE_OPENED);\n      this._transCoreEvent(EVENT.REMOVE_BUFFER);\n      this._transCoreEvent(EVENT.BUFFEREOS);\n      this._transCoreEvent(EVENT.KEYFRAME);\n      this._transCoreEvent(EVENT.METADATA_PARSED);\n      this._transCoreEvent(EVENT.DEMUXED_TRACK);\n      this._transCoreEvent(EVENT.SEI);\n      this._transCoreEvent(EVENT.SEI_IN_TIME);\n      this._transCoreEvent(EVENT.SPEED);\n      this._transCoreEvent(EVENT.HLS_MANIFEST_LOADED);\n      this._transCoreEvent(EVENT.HLS_LEVEL_LOADED);\n      this._transCoreEvent(EVENT.STREAM_EXCEPTION);\n      this._transCoreEvent(EVENT.SWITCH_URL_SUCCESS);\n      this._transCoreEvent(EVENT.SWITCH_URL_FAILED);\n      this._transCoreEvent(Event.NO_AUDIO_TRACK);\n      this._transCoreEvent(Event.STREAM_PARSED);\n      this._transCoreEvent(Event.SUBTITLE_SEGMENTS);\n      this._transCoreEvent(Event.SUBTITLE_PLAYLIST);\n      this._transCoreEvent(Event.APPEND_COST);\n      if (config.url) {\n        this.hls.load(config.url, true).catch(function(e) {\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$pluginExtension;\n      if (this.hls) {\n        this.hls.destroy();\n        this.hls = null;\n      }\n      (_this$pluginExtension = this.pluginExtension) === null || _this$pluginExtension === void 0 ? void 0 : _this$pluginExtension.destroy();\n      this.pluginExtension = null;\n    }\n  }, {\n    key: \"_transError\",\n    value: function _transError() {\n      var _this3 = this;\n      this.hls.on(Event.ERROR, function(err) {\n        if (_this3.player) {\n          _this3.player.emit(Events.ERROR, new Errors(_this3.player, err));\n        }\n      });\n    }\n  }, {\n    key: \"_transCoreEvent\",\n    value: function _transCoreEvent(eventName) {\n      var _this4 = this;\n      this.hls.on(eventName, function(e) {\n        if (_this4.player) {\n          _this4.player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, e), {}, {\n            eventName\n          }));\n          if (eventName === EVENT.SEI_IN_TIME && _this4.hls.hasSubtitle) {\n            _this4._emitSeiPaylodTime(e);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_emitSeiPaylodTime\",\n    value: function _emitSeiPaylodTime(e) {\n      try {\n        var seiJson = JSON.parse(Array.from(e.data.payload).map(function(x) {\n          return String.fromCharCode(x);\n        }).join(\"\").slice(0, -1));\n        if (!seiJson[\"rtmp_dts\"])\n          return;\n        this.player.emit(\"core_event\", {\n          eventName: Event.SEI_PAYLOAD_TIME,\n          time: seiJson[\"rtmp_dts\"]\n        });\n      } catch (e2) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"hls\";\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported(mediaType, codec) {\n      return Hls.isSupported(mediaType, codec);\n    }\n  }]);\n  return HlsPlugin2;\n}(BasePlugin);\n_defineProperty(HlsPlugin, \"Hls\", Hls);\n_defineProperty(HlsPlugin, \"EVENT\", Event);\nexport { HlsPlugin, parseSwitchUrlArgs };\n","import { render } from \"./index.vue?vue&type=template&id=5405a488&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=5405a488&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=5405a488&lang=scss&scoped=true\"\nimport \"./index.vue?vue&type=style&index=2&id=5405a488&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/_vue-loader@17.4.2@vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5405a488\"]])\n\nexport default __exports__"],"names":["DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","module","exports","require","_delegate","type","callback","useCapture","listenerFn","listener","apply","this","arguments","addEventListener","destroy","removeEventListener","delegate","elements","bind","document","querySelectorAll","Array","map","call","e","delegateTarget","target","root","factory","define","download","data","strFileName","strMimeType","blob","reader","self","window","defaultMime","mimeType","payload","url","anchor","createElement","toString","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","length","split","pop","href","indexOf","ajax","XMLHttpRequest","open","responseType","onload","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","i","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","decoder","atob","decodeURIComponent","binData","uiArr","winMode","setAttribute","className","innerHTML","style","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","replace","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","has","Object","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","slice","getOwnPropertySymbols","concat","listeners","handlers","l","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","undefined","j","on","removeAllListeners","off","prefixed","class","_createElementVNode","id","key","_imports_0","alt","_imports_1","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","_ads","item","_hoisted_4","_createVNode","_component_van_image","onClick","$event","$options","goAd","link","fit","position","picUrl","loading","_withCtx","_component_van_loading","size","_","_hoisted_5","_hoisted_6","_cache","goHome","_hoisted_7","goCategory","classifyName","_hoisted_8","_createTextVNode","_toDisplayString","title","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_ctx","language","_hoisted_16","_createCommentVNode","_hoisted_17","titleUs","_hoisted_18","titleCn","_hoisted_19","_hoisted_20","_hoisted_21","watchTimes","_hoisted_22","_hoisted_23","formatTime","createdAt","titleChinese","_hoisted_24","_hoisted_25","_hoisted_26","videos","_hoisted_27","_createBlock","_component_Card","classifyId","specialId","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","moreRelatedMap","ownKeys","object","enumerableOnly","keys","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","obj2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","value","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","o2","p","p2","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_superPropBase","property","_get","get","receiver","base","desc","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","isArray","_arrayLikeToArray","iter","from","minLen","n","arr2","_toPrimitive","input","hint","prim","toPrimitive","res","Number","arg","XG_DEBUG_OPEN","STYLE","info","error","warn","XGTAG","XG_DEBUG","config","debug","logInfo","message","_console","_len","optionalParams","_key","console","log","logWarn","_console2","_len2","_key2","logError","_console3","_fun","_len3","_key3","bindDebug","player","XgplayerTimeRange","XgplayerTimeRange2","bufferedList","index","start","end","util","checkIsIn","list","isObject","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","requestAnimationFrame","invokeFunc","time","thisArg","startTimer","pendingFunc","wait2","cancelAnimationFrame","cancelTimer","clearTimeout","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","Math","min","shouldInvoke","Date","now","trailingEdge","cancel","flush","pending","debounced","isInvoking","max","throttle","getLang","lang","documentElement","getAttribute","toLocaleLowerCase","checkIsCurrentVideo","playerId","pid","tagName","createDom","el","tpl","attrs","cname","dom","createDomFromHtml","html","classname","doc","children","addClass","err","hasClass","some","classList","orgClassName","match","RegExp","add","removeClass","remove","reg","toggleClass","classNames","_arguments","_loop","i2","typeOf","join","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","maxlen","ceil","chars","r","substring","format","isNaN","round","hour","floor","minute","second","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","deepCopy","dst","Node","deepMerge","_dst$key","getBgImage","backgroundImage","copyDom","back","attributes","node","setInterval","eventName","intervalFunc","frequency","_interval","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","w","h","unit","btn","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","styleArr","filterStyleFromText","_cssText","cssText","ret","remain","getStyleFromCsstext","preloadImg","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","b","diff","buffered2","_i","buf2len","buf2end","getEventPos","zoom","x","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","d","getTime","performance","uuid","c","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","stylesKeys","lastIndex","convertDeg","abs","getIndexByTime","segments","_index","getOffsetCurrentTime","currentTime","_segments$_index","cTime","offset","getCurrentTimeByOffset","offsetTime","VERSION_REG","android","ios","H264_MIMETYPES","sniffer","device","os","isPc","browser","ua","toLowerCase","ie","firefox","chrome","opera","safari","isWindowsPhone","isSymbian","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","osVersion","_match","exec","version","isWeixin","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","Errors2","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","i18n","media","ended","_player$media","readyState","networkState","_errc","code","playerVersion","stack","host","_r","ex","msg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","LOADED_METADATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","emitVideoEvent","eventKey","errorHandler","getVideoEventHandler","_err","eData","originalEvent","detail","timeStamp","paused","isInternalOp","_internalOp","muted","volume","vtype","removeInnerOP","_currentTime","_rate","playbackRate","_duration","isMutedChange","_lastMuted","mediaEventMiddleware","MediaProxy","_EventEmitter","MediaProxy2","_super","_this","_hasStart","mediaConfig","assign","controls","autoplay","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","mediaType","videoAttributes","playerType","x5VideoPlayerType","loop","autoplayMuted","defaultPlaybackRate","attachVideoEvents","middlewares","_this2","_this3","_this4","_evHandlers","funName","charAt","toUpperCase","_this5","urls","_this6","removeAttribute","load","_c","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","_e","k","pause","detachVideoEvents","set","play","range","isTrue","_buffered","crossOrigin","defaultMuted","status","rate","Infinity","played","preload","seekable","seeking","onWaiting","_detachSourceEvents","_attachSourceEvents","vol","_get2","_get3","_get4","_get5","_len4","_key4","INDEXDB","INDEXDB2","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","request","onsuccess","onupgradeneeded","transaction","objectStoreNames","contains","createObjectStore","keyPath","deleteDatabase","close","storename","store","objectStore","put","delete","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","handler","next","then","args2","hook","hookName","preset","pre","__hooks","_preset$pre","pluginName","_this$__hooks$hookNam","preRet","isContinue","catch","useHooks","removeHooks","usePluginHooks","plugins","plugin","removePluginHooks","hooksDescriptor","presetHooks","delHooksDescriptor","runHooks","_len5","_key5","_obj$__hooks$hookName","showErrorMsg","BasePlugin","BasePlugin2","beforeCreate","__args","__events","__onceEvents","playerConfig","__init","logger","i18nKeys","domEventType","_this$player","action","params","nParams","emitUserAction","registerPlugin","getPlugin","offAll","unRegisterPlugin","Obj","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","isUrl","mergeIconClass","icon","mergeIconAttr","attr","createIcon","newIcon","key2","tag","registerIconsObj","iconsConfig","_icons","icons","orgIcon","registerTextObj","textConfig","langText","Plugin","_BasePlugin","Plugin2","__delegates","_parent","_el","parent","_orgicons","registerIcons","defaultTexConfig","registerLanguageTexts","renderStr","render","Error","insert","setAttr","setStyle","__registerChildren","_children","_Plugin","_plugin","checkChildren","langKey","langTextShow","qs","eventType","bindEL","unbindEL","htmlStr","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","pdom","child","find","_this7","insertIdx","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","capture","dels","ret2","ResizeObserver","ResizeObserver2","entries","t","__runHandler","__handlers","observer","__trigger","observe","_pid","unobserve","disconnect","resizeObserver","addObserver","unObserver","pluginsManager","pluginGroup","init","cgid","_pluginInfoId","closeResizeObserver","resize","isUserActive","_player","_originalOptions","_plugins","checkPlayerRoot","_keys","_p","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","lazyRegister","lazyPlugin","timeout","race","loader","__esModule","default","register","reject","originalOptions","isSupported","codecType","disable","defaultConfig","unRegister","_instance","afterCreate","__destroy","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","prevTask","_loadingPlugins","all","pluginsRet","pName","beforePlayerInit","afterInit","afterPlayerInit","setLang","updateLang","reRender","_pList","onPluginsReady","setCurrentUserActive","isActive","getCurrentUseActiveId","_Object$keys","_isUseActive","isUseActive","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","LOADING","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","BUILTIN_CLASS","MOBILE","MINI","getDefaultConfig","isNoRoot","isCustomRoot","nullUrlStart","fluid","fitVideoSize","videoFillMode","isLive","videoInit","poster","isMobileSimulateMode","execBeforePluginsCall","allowSeekAfterEnded","enableContextmenu","closeVideoClick","closeVideoDblclick","closePlayerBlur","closeDelayBlur","leavePlayerTime","closePlayVideoFocus","closePauseVideoFocus","closeFocusVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","miniprogress","disableSwipeHandler","enableSwipeHandler","preProcessUrl","ignores","whitelist","inactive","marginControls","fullscreenTarget","screenShot","pip","mini","cssFullscreen","keyShortcut","presets","definition","customDuration","timeOffset","thumbnail","isHideTips","minWaitDelay","commonStyle","progressColor","playedColor","cachedColor","sliderBtnStyle","volumeColor","usePreset","Preset","_player$config$plugin","_player$config$ignore","presetInst","_presetInst","_presetInst$plugins","_presetInst$ignores","_presetInst$icons","_presetInst$i18n","_ci18n","EN","LANG","TEXT","network","mse","parse","runtime","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","extend","i18nTextList","i18nLangs","lang2","keyLang","_i18nLangs","use","langData","_clang","texts","_ret$langKeys","pId","I18N","zh","STATES","INITIAL","ATTACHING","ATTACHED","NOTALLOW","RUNNING","DESTROYED","STATE_ARRAY","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","Player","_MediaProxy","Player2","_config","_this$config","__startTime","_useAutoplay","mediaPlay","canPlayFunc","isFullScreen","delayResize","fullEl","_fullActionFrom","prop","to","isVideo","_fullscreenEl","focus","fullscreen","changeFullStyle","_fullScreenOffset","cssfullscreen","exitCssFullscreen","_assertThisInitialize","needFullscreenScroll","scrollTo","left","top","recoverFullStyle","onFullscreenChange","defaultPreset","defaultIdx","userTimer","waitTimer","_state","isError","isSeeking","isCanplay","rotateDeg","isRotateFullscreen","timeSegments","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","pi","vy","vx","sizeInfo","_accPlayed","acc","loopAcc","_offsetInfo","innerContainer","topBar","__i18n","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","_initMedia","rootInit","_initDOM","_this$config2","_this$config2$definit","defaultDefinitionObj","defaultDefinition","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","hasStart","state","XgVideoProxy","_nVideo","_this$config3","vid","line","handle","_initBaseDoms","_this$config4","_width","_height","_this$root$getBoundin","getBoundingClientRect","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","mousemoveFunc","_root","firstChild","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","_retPlugin","exits","_getRootByPosition","removedFromConfig","deregister","removePluginFromConfig","_this8","_furl","_startInit","lineNumber","_this9","_src","curTime","isPaused","_error","_canplay","_this10","playPromise","onError","_errorTimer","_this11","_this12","_this13","_this$config5","isSeekedPlay","_status","_this14","_this$config6","_this15","bitrate","switchURL","seamless","reloadFunc","_this16","REPLAY2","ERROR2","clsList","mediaPause","cls","_this17","unregisterPlugins","isResetConfig","resetState","pn","de","_this18","updateAcc","_unbindEvents","exitFullscreen","cList","isBuildIn","_this19","onPlay","_this20","cur","_srcRet","rootClass","pClassName","_orgPCss","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","exitRotateFullscreen","webkitExitFullScreen","_class","_this$config$fullscre","useCssFullscreen","_this$config$fullscre2","setRotateDeg","_rootStyle","innerHeight","deg","orientation","autoHide","delay","onFocus","ignorePaused","onBlur","_this21","isLock","blur","_ref","_ref$ignorePaused","_this22","_this23","videoHeight","endType","_at","_this$videoPos","_pi","videoWidth","_pos","offsetWidth","offsetHeight","rHeight","rWidth","formStyle","transform","webkitTransform","resizePosition","_this24","setConfig","_this25","_this26","containerSize","_this$media","_this$config7","controlsHeight","videoFit","_style","paddingTop","videoScale","vWidth","vHeight","cWidth","cHeight","updateObjectPosition","objectPosition","newState","preProcessUrl2","bool","_this27","curDef","targetDef","_this27$curDefinition","changeDefinition","total","dropped","corrupted","droppedRate","droppedDuration","getVideoPlaybackQuality","_quality","droppedVideoFrames","totalVideoFrames","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","update","_this$_accPlayed","isMuted","addInnerOP","Controls","Controls2","_assertThisInitialize2","center","right","innerRoot","isMini","onMouseEnter","onMouseLeave","unbind","initShow","LOG_TYPES","FIRST_FRAME","WAIT_START","WAIT_END","SEEK_START","SEEK_END","XGLogger","XGLogger2","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","_startWaitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_this2$_state","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","_this$_state","costTime","waitTimeout","_now","_cost","_fixedCost","fixedCostTime","ReplaySvg","DOMParser","parseFromString","Replay","Replay2","replay","__handleReplay","preventDefault","path","Poster","Poster2","isEndedShow","hideCanplay","onTimeUpdate","_bg","fillMode","notHidden","getBgSize","PlaySvg","PauseSvg","AnimateMap","addAnimate","seconds","clearAnimation","Start","Start2","autoPlayStart","onPlayPause","initIcons","onAutoplayStart","onPlayerReset","clickHandler","switchPausePlay","cancelable","startPlay","startPause","isAnimate","endShow","_animateId","switchStatus","isShowPause","isShowEnd","endAnimate","disableAnimate","animate","Enter","Enter2","innerHtml","HTMLElement","barStr","logo","xgIconTips","textKey","isShow","MiniScreenIcon","MiniScreenIcon2","getMini","exitMini","getStyleSize","num","isValid","measurements","measurementsLength","getZeroSize","innerWidth","outerWidth","outerHeight","measurement","getStyle","elem","getSize","isBorderBox","boxSizing","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","START","MOVE","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","Draggabilly2","isEnabled","isDragging","isDown","downPoint","dragPoint","startPos","_handlerDom","_bindStartEvent","_startKey","_boundPointerEvents","onUp","positionDrag","webKitTransform","dragStart","dragMove","dragEnd","touchIdentifier","pointerId","dragCancel","pointer","_getPosition","maxY","maxX","setLeftTop","_bindPostStartEvents","_unbindPostStartEvents","presetInfo","moveVector","hasDragStarted","dragRealStart","_this$startPos","_dragPointerMove","dragX","dragY","checkContain","_unbindStartEvent","axis","drag","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","MiniScreen2","isClose","scrollY","scrollHeight","lastStyle","isShowIcon","onCancelClick","onCenterClick","disableDrag","_draggabilly","isScrollSwitch","onScroll","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","PCPlugin2","_this$playerConfig","_assertThisInitialize3","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","switchPlayPause","_assertThisInitialize4","getFullscreen","initEvents","onVideoClick","onVideoDblClick","onContextmenu","returnValue","cancelBubble","_this$player2","PRESS","PRESS_END","DOUBlE_CLICK","CLICK","TOUCH_MOVE","TOUCH_START","TOUCH_END","TOUCHS","move","MOUSES","pressDelay","dbClickDelay","disablePress","disableDbClick","miniStep","needPreventDefault","Touche","Touche2","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","moving","press","__setDb","diffx","diffy","pressIntrvalId","dbIntrvalId","_initEvent","onTouchStart","__clearDb","touchend","touchmove","SeekTipIcon","ACTIONS","AUTO","PLAYBACK","LIGHT","MobilePlugin","MobilePlugin2","touche","getTouche","disableGesture","isStart","rect","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","miniMoveStep","hideControlsActive","scope","checkScope","gestureY","gestureX","executeMove","endLastMove","resetSeekState","resetPos","changeAction","checkIsRootTarget","light","timer","seekTipIcon","closedbClick","xgMask","initCustomStyle","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","moveDuration","_this2$pos","eventsMap","pressend","doubleclick","disableActive","progressPlugin","progress","addCallBack","activeSeekNote","forward","usable","createThumbnail","timePreview","backgroundColor","color","disableTimeProgress","startPlugin","recover","mold","updateTime","updateBrightness","updateVolume","lastScope","seek","toFixed","hideControlsEnd","sendUseAction","focusVideoClick","dbClickHandler","pressRate","percent","updatePercent","isTouchingSeek","maxDarkness","isForward","focusHide","updateThumbnails","gradient","disableSeekIcon","miniYPer","darkness","isDisableTag","isContentEditable","Keyboard","Keyboard2","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","extendkeyCodeMap","keyCodeMap","key1","seekStep","space","noBodyTarget","up","down","pressAction","esc","mergekeyCodeMap","isPress","tt","onKeydown","onBodyKeyDown","checkVisible","rec","bottom","isBodyTarget","flag","offsetCurrentTime","offsetDuration","_time","_step","_seekTime","handleKeyCode","curKeyCode","_this$keyCodeMap$arr$","_action","loadingIcon","Loading","Loading2","TPL","styleKey","InnerList","InnerList2","fragments","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedIndex","playedIndex","focusIndex","newIndex","curIndex","millisecond","progressList","curPFrag","per","newPIndex","findIndex","unHightLight","setHightLight","_data2","preIndex","fragment","_data","cached","updateDuration","updateProgress","newCIndex","newOptions","_this$fragConfig","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","Progress2","_ePos","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","isPauseMoving","closeMoveSeek","isPlaying","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","_assertThisInitialize5","onMoveEnd","_mouseUpHandlerHook","isEnter","_assertThisInitialize6","miniStartStep","_mouseMoveHandlerHook","_assertThisInitialize7","unlock","_this$pos","useable","__dragCallBacks","direc","_disableBlur","innerList","reset","outer","updateFocus","_initInner","isDragingSeek","isMobile","onTimeupdate","onCacheUpdate","onReset","onVideoResize","bindDomEvents","frags","boxShadow","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","onMouseOver","onMouseOut","onBodyClick","pauseAutoHide","recoverAutoHide","isCloseClickSeek","realTime","endedDiff","rLeft","timeIcon","resetActive","notSeek","_end","bufferedPoint","thumbnailPlugin","controlsMode","Icon","Icon2","_onMouseenter","_onMouseLeave","Play","_IconPlugin","Play2","btnClick","tipDom","changeLangTextKey","BackSVG","TopBackIcon","TopBackIcon2","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","Fullscreen2","rotateFullscreen","handleFullscreen","toggleFullScreen","tipsDom","needBackIcon","topBackIcon","_onOrientationChange","getCssFullscreen","getRotateFullscreen","switchCallback","e2","Time","Time2","isActiving","constrolsMode","createCenterTime","durationDom","timeDom","centerCurDom","centerDurDom","current","minWidthTime","timeStr","updateState","TimeSegmentsControls","TimeSegmentsControls2","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","_this$curPos","_this$player3","getSeekTime","_this$player4","_onDurationChange","_onLoadedData","_onPlay","newConfig","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","_timeSegments$index","diff2","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","Volume2","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isMoving","unFocus","showValueLabel","updateVolumeValue","volumeSmall","volumeLarge","volumeMuted","_timerId","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","$labelValue","innerText","isForce","miniVolume","isShowVolumeValue","RotateSvg","Rotate","Rotate2","onBtnClick","innerRotate","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","clockwise","videoRotateDeg","_transform","_styles","transformOrigin","times","factor","PipIcon","PipIconExit","PresentationMode","INLINE","PIP2","isPIPAvailable","isPip","exitPIP","requestPIP","showIcon","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","pipWindow","enterPIPCallback","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","checkWebkitSetPresentationMode","pipWin","textContent","styleSheets","style2","cssRules","rule","rel","head","preferDocument","isDocPIPAvailable","pipOptions","playerRect","documentPictureInPicture","requestWindow","docPiPNode","docPiPStyle","pipRoot","parentElement","previousSibling","nextSibling","copyStyleIntoPiPWindow","append","cssContent","webkitSetPresentationMode","requestPictureInPicture","reason","_documentPictureInPic","exitPictureInPicture","_documentPictureInPic2","pictureInPictureElement","_isEnabled","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","protocol","Next","PlayNextIcon","PlayNextIcon2","idx","urlList","nextHandler","playNext","changeSrc","DownloadSvg","Download","Download2","dUrl","newUrl","getAbsoluteURL","downloadUtil","_handler","div","ScreenShot","ScreenShot2","screenshotIcon","initSize","fitVideo","onClickBtn","filename","saveLink","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","saveImg","saveScreenShot","option","quality","createCanvas","dx","dy","dw","dh","mediaRatio","canvasRatio","sx","sy","sw","sh","drawImage","toDataURL","OptionList","OptionList2","maxHeight","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","changeCallback","curSelected","getAttrObj","LIST_TYPES","SIDE","MIDDLE","TOGGLE_MODES","HOVER","getListClassName","listType","IS_MOBILE","OptionsIcon","OptionsIcon2","switchActiveState","toggleMode","toggle","enterType","isIcons","curValue","hidePortrait","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","focusAwhile","curItem","changeCurrentText","isItemClickHide","getTextByLang","itemList","_this$player$root$get","_maxH","heightLimit","_this$player$root$get2","listStyle","DefinitionIcon","_OptionsIcon","DefinitionIcon2","changeDefinitionList","definitionList","items","showItem","PlaybackRate","PlaybackRate2","curRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","CssFullScreen2","isCssfullScreen","handleCssFullscreen","contentIcon","switchTips","ErrorPlugin","ErrorPlugin2","errorRetry","handleError","retry","errorNote","Prompt","Prompt2","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","interval","highlight","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","updateDot","needShow","dot","showDot","deleteDot","del","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","_pop","pRect","rect1","_left","_diff","_t2","getAllDotsDom","getDotDom","initDotsAPI","ispots","progressDot","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","ProgressPreview2","isHideThumbnailHover","isDrag","_curDot","onDotMouseLeave","blurDot","enableBlur","focusDot","disableBlur","videoPreview","videothumbnail","handlerSpotClick","_event","transformTimeHook","setTimeContent","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","updatePosition","cwidth","isflex","lwidth","showTips","isFocusDots","defaultText","hideTips","updateTimeText","updateLinePos","thumbnailConfig","isShowThumbnail","tRoot","isShowCoverPreview","totalWidth","widthPerSeconds","_activeDotId","isDefault","removeCallBack","miniWidth","Thumbnail","Thumbnail2","ratio","_preloadMark","initThumbnail","_this2$config","pic_num","containerWidth","containerHeight","row","col","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","getUrlByIndex","backgroundPosition","customStyle","getPosition","getBgColor","MiniProgress","MiniProgress2","MODES","REAL_TIME","FRAME_RATE","POSTER","nowTime","checkIsSupportCanvas","ctx","isSupportCanvas","DynamicBg","DynamicBg2","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","dynamicBg","frameRate","rwidth","rheight","renderByPoster","onLoadedData","onVisibilitychange","canvasFilter","supportCanvasFilter","isInnerRender","webkitFilter","mask","addMask","background","maskBg","_tVideo","HTMLVideoElement","flyVideo","_tagName","updateImg","_this$canvas$getBound","image","sourcePI","_this$canvas$getBound2","multiple","ZH","INFO","STATS_EVENTS$1","Stats","Stats2","actionData","_getTime","_stats","stats","getStats","JSON","stringify","downloadUrl","disabled","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","profile","_infoProfile","_info","startMs","endMs","dur","cat","ph","tid","ts","_this$_stats","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","allStat","msgs","stat","traceEvents","GapJump","GapJump2","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","seekEnd","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","WaitingTimeoutJump2","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","DEFAULT_SPEED_TYPE","SPEED_TYPE","TestSpeed","TestSpeed2","speedListCache","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","headers","Range","setRequestHeader","onreadystatechange","getResponseHeader","saveSpeedMax","shift","realTimeSpeed","getSpeedName","updateSpeed","getSpeed","avgSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","FpsDetect2","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","_startTick","_stopTick","_timer","_checkDecodeFPS","tick","curDecodedFrames","checkInterval","hidden","enoughBuffer","bufs","stuckCount","_reset","reportFrame","_this$player$media$ge","currTime","curDecoded","_checkStuck","DefaultPreset","DefaultPreset2","_this$plugins","_this$plugins2","_this$plugins3","simulateMode","basePlugin","vodPlugins","contolsIcons","layers","PresetPlayer","_Player","PresetPlayer2","_iterableToArrayLimit","_arr","_n","done","return","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","value2","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","next2","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","reverse","skipTempReset","prev","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_slicedToArray","_arrayWithHoles","_nonIterableRest","_construct","Parent","Class","Parent2","Class2","Function","_isNativeFunction","_wrapNativeSuper","Map","Wrapper","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","step","_ERR_CODE","Buffer","Buffer2","buf","maxHole","buffers2","bufLen","lastEnd","buffers","reduce","nextStart","nextEnd","prevStart","prevEnd","behind","remaining","totalLength","isBrowser","ERR","MANIFEST","NETWORK","NETWORK_TIMEOUT","NETWORK_FORBIDDEN","NETWORK_NOTFOUND","NETWROK_RANGE_NOT_SATISFIABLE","DEMUX","REMUX","MEDIA","DRM","OTHER","RUNTIME","SUB_TYPES","FLV","HLS","MP4","FMP4","MSE_ADD_SB","MSE_APPEND_BUFFER","MSE_OTHER","MSE_FULL","OPTION","DASH","LICENSE","CUSTOM_LICENSE","MSE_HIJACK","EME_HIJACK","SIDX","NO_CANPLAY_ERROR","BUFFERBREAK_ERROR","WAITING_TIMEOUT_ERROR","MEDIA_ERR_CODEC_NOT_SUPPORTED","MEDIA_ERR_URL_EMPTY","ERR_CODE","StreamingError","_Error","StreamingError2","subType","origin","_error$response","isTimeout","httpCode","LogCacheLevel","LOG_MAX_SIZE","SIMPLE_TYPE","Logger","Logger2","_prefix","logCacheLevel","logMaxSize","logSize","logTextArray","logCache","DEBUG","LOG","WARN","_console4","logText","finLogText","logable","delLog","_console5","group","table","groupEnd","toLocaleString","reduceDepth","objType","maxDepth","depth","includes","createPublicPromise","rej","promise","used","SafeJSON","getMediaSource","preferMMS","ManagedMediaSource","isMMS","mediaSource","getTimeRanges","ranges","TimeRanges","OP_NAME","APPEND","REMOVE","UPDATE_DURATION","MSE","MSE2","queue","_queue","op","opName","_this2$_sourceBuffer$","costtime","_opst","_sourceBuffer","_startQueue","bindMedia","openLog","enable","_this$mediaSource","_url","_this$mediaSource2","streaming","_mseFullFlag","VIDEO","isReduceDuration","bufferEnd","_enqueueBlockingOp","_openPromise","isOpened","ms","onOpen","onOpen2","_st","_bindMedia","_callee","MediaSource2","useMMS","_context","unbindMedia","_onStartStreaming","_onEndStreaming","disableRemotePlayback","_unbindMedia","_callee2","hasMetadata","mseOpen","_context2","_x$promise","_x$promise$resolve","endOfStream","removeSourceBuffer","sb","addSourceBuffer","_onSBUpdateEnd","_onSBUpdateError","changeType","_enqueueOp","createSource","buffer","byteLength","_this9$_sourceBuffer$","appendBuffer","endTime","isInsertHead","allClear","_this$_queue$type","initQueue","isinit","setLiveSeekableRange","_enqueueBlockingOp2","_callee3","types","waiters","_context3","prom","updating","_x2","_x3","_x4","timestampOffset","abort","EVENT","TTFB","LOAD_RESPONSE_HEADERS","LOAD_COMPLETE","LOAD_RETRY","SOURCEBUFFER_CREATED","MEDIASOURCE_OPENED","ANALYZE_DURATION_EXCEEDED","REMOVE_BUFFER","BUFFEREOS","KEYFRAME","CHASEFRAME","METADATA_PARSED","SEI","SEI_IN_TIME","FLV_SCRIPT_DATA","LOWDECODE","SWITCH_URL_SUCCESS","SWITCH_URL_FAILED","SPEED","HLS_MANIFEST_LOADED","HLS_LEVEL_LOADED","DEMUXED_TRACK","STREAM_EXCEPTION","LARGE_AV_FIRST_FRAME_GAP_DETECT","LARGE_VIDEO_DTS_GAP_DETECT","LARGE_AUDIO_DTS_GAP_DETECT","AUDIO_GAP_DETECT","AUDIO_OVERLAP_DETECT","MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT","isMediaPlaying","creationTime","webkitDroppedFrameCount","webkitDecodedFrameCount","concatUint8Array","prevLen","sleep","SeiService","SeiService2","Set","sei","_seiSet","toThrow","GapService","GapService2","maxJumpDistance","seekThreshold","_prevCurrentTime","timescale","_timescale","encodeType","audioCodec","videoCodec","fps","samplerate","channelCount","gop","encode","_data$onMetaData","onMetaData","framerate","track","codec","fpsNum","fpsDen","sampleRate","responseUrl","samples","sample","_startGopId","gopId","_bitsAccumulateDuration","_bitsAccumulateSize","units","MediaStatsService","MediaStatsService2","core","_core","_this$_core","_this$_core2","_this$_core2$speedInf","_this$_core3","_this$_core3$speedInf","_this$_core4","_this$_core4$bufferIn","_ref2","_ref2$currentTime","_ref2$decodeFps","decodeFps","downloadSpeed","speedInfo","bufferInfo","_ref3","videoTrack","updateBitrate","setFpsFromScriptData","setVideoMeta","setAudioMeta","setDomain","_samples","TrackType","AUDIO","METADATA","VideoCodecType","AVC","HEVC","AudioCodecType","AAC","G711PCMA","G711PCMU","WarningType","LARGE_AV_SHIFT","LARGE_VIDEO_GAP","LARGE_VIDEO_GAP_BETWEEN_CHUNK","LARGE_AUDIO_GAP","AUDIO_FILLED","AUDIO_DROPPED","AudioSample","AudioSample2","pts","sampleOffset","dependsOn","isNonSyncSample","originPts","dts","isFirefox","AAC2","FREQ","skip","frames","samplingFrequencyIndex","protectionSkipBytes","frameLength","objectType","_AAC$_getConfig","_getConfig","frameIndex","getFrameDuration","subarray","originCodec","_AAC$_getConfig2","samplingIndex","originObjectType","extensionSamplingIndex","LARGE_AV_FIRST_FRAME_GAP","AUDIO_GAP_OVERLAP_THRESHOLD_COUNT","MAX_SILENT_FRAME_DURATION","AUDIO_EXCETION_LOG_EMIT_DURATION","MAX_VIDEO_FRAME_DURATION","MAX_DTS_DELTA_WITH_NEXT_CHUNK","TsFixer","TsFixer2","audioTrack","metadataTrack","_baseDts","_baseDtsInited","_audioNextPts","_videoNextDts","_audioTimestampBreak","_videoTimestampBreak","_lastAudioExceptionGapDot","_lastAudioExceptionOverlapDot","_lastAudioExceptionLargeGapDot","discontinuity","contiguous","vSamples","aSamples","firstVideoSample","firstAudioSample","vaDelta","_calculateBaseDts","vDeltaToNextDts","aDeltaToNextDts","_resetBaseDtsWhenStreamBreaked","_fixAudio","_fixVideo","exist","seiSamples","baseMediaDecodeTime","samp0","_samples$","refSampleDurationInt","sampleDuration","firstSample","nextSample","vDelta","warnings","nextDts","firstSampleDts","nextSampleDts","_samples$i","prevDts","first","_dts","_nextSample","expectFragEnd","originDts","refSampleDuration","_doFixAudioInternal","audioSamps","videoSamps","audioBasePts","videoBaseDts","baseDts","delta","isFinite","calc","_audioLastSample","_videoLastSample","nextPts","silentFrame","getSilentFrame","count","silentSample","MAX_SIZE","pow","readBig16","readBig24","readBig32","readBig64","getAvcCodec","codecs","NALu","NALu2","dataLen","isHevc","uint","emulationPreventionBytesPositions","newLength","newData","sourceIndex","ExpGolomb","ExpGolomb2","_bytesAvailable","_loadWord","_bitsAvailable","availableBytes","workingBytes","_word","DataView","getUint32","skipBytes","bits","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","deltaScale","lastScale","nextScale","readEG","AVC2","spsParsed","spsSize","nalUnitSize","spsArr","ppsArr","spsCount","sps","parseSPS","removeEPB","ppsSize","ppsCount","eg","readUByte","profileIdc","profileCompatibility","levelIdc","skipUEG","chromaFormat","chromaFormatIdc","readBool","scalingListCount","skipScalingList","picOrderCntType","numRefFramesInPicOrderCntCycle","_i2","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","sarRatio","fixedFrame","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","aspectRatioIdc","numUnitsInTick","timeScale","HEVC2","hvcC","vpsParsed","nalUnitType","numNalus","nalSize","vpsArr","numOfArrays","vps","parseVPS","vpsMaxSubLayersMinus1","numTemporalLayers","_parseProfileTierLevel","spsMaxSubLayersMinus1","temporalIdNested","separateColourPlaneFlag","confWinLeftOffset","confWinRightOffset","confWinTopOffset","confWinBottomOffset","conformanceWindowFlag","bitDepthLumaMinus8","bitDepthChromaMinus8","subWidthC","subHeightC","maxSubLayersMinus1","generalTierFlag","generalProfileSpace","generalProfileIdc","generalProfileCompatibilityFlags","generalConstraintIndicatorFlags","generalLevelIdc","subLayerProfilePresentFlag","subLayerLevelPresentFlag","bitsAvailable","VideoTrack","VideoTrack2","sequenceNumber","present","pps","isVideoEncryption","AudioTrack","AudioTrack2","isAudioEncryption","VideoSample","VideoSample2","keyframe","Sample","Sample2","SeiSample","_Sample2","SeiSample2","_super2","MetadataTrack","MetadataTrack2","flvScriptSamples","TsDemuxer","TsDemuxer2","_fixer","_pmtId","_remainingPacketData","_videoPesData","_audioPesData","remainingLength","videoPid","audioPid","payloadUnitStartIndicator","adaptationFiledControl","tableEnd","programInfoLength","esPid","_parseVideoData","_parseAudioData","formatTimescale","fix","demux","pes","_parsePES","parseAnnexB","_createVideoSample","setToKeyframe","_gopId","parseSEI","spsInfo","ffByteFound","_pushVideoSample","lastSample","_parseAacData","_track$samples","parseADTS","sampleRateIndex","headerDataLen","startPrefix","pesLen","ptsDtsFlags","MP4Parser","MP4Parser2","headerSize","fromCharCode","subData","findBox","box","parseBox","trackId","baseDataOffsetPresent","flags","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","baseDataOffset","sampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","reference_ID","earliest_presentation_time","first_offset","references","ref","tmp32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","mvhd","trak","pssh","nextTrackId","tkhd","mdia","mdhd","hdlr","minf","handlerType","vmhd","smhd","stbl","graphicsmode","opcolor","balance","_ret$stsd$entries$","_ret$stsd$entries$$si","_ret$stsd$entries$$si2","stsd","stts","ctts","stsc","stsz","stco","co64","default_IV_size","sinf","schi","tenc","stss","senc","iv","sampleCount","InitializationVector","subsamples","subsampleCount","_j","subsample","BytesOfClearData","BytesOfProtectedData","keyIds","systemId","toHex","numKeyIds","keyId","dataSize","data_size","kid","system_id","entryCount","avc1","hvc1","mp4a","alaw","data2","start2","samplesize","esds","horizresolution","vertresolution","avcC","pasp","default_IsEncrypted","default_KID","frma","data_format","bodyStart","parseVisualSampleEntry","bodyData","configurationVersion","AVCProfileIndication","AVCLevelIndication","lengthSizeMinusOne","spsLength","ppsLength","_size","tmp","generalProfileCompatibility","avgFrameRate","_ret$vps","nalus","_ret$sps","_ret$pps","hSpacing","vSpacing","parseAudioSampleEntry","byteRead","_i3","firstChunk","samplesPerChunk","sampleSize","entrySizes","mfhd","traf","tfhd","tfdt","trun","dataOffset","firstSampleFlags","cts","isLeading","isDependedOn","hasRedundancy","paddingValue","degradationPriority","moov","_e$esds","_e$esds2","tracks","vTrack","_t$mdia","_t$mdia$hdlr","aTrack","_t$mdia2","_t$mdia2$hdlr","_vTrack$tkhd","_vTrack$mdia","_vTrack$mdia$minf","_vTrack$mdia$minf$stb","_vTrack$mdia2","_vTrack$mdia2$minf","_vTrack$mdia2$minf$st","v","_vTrackId","tkhdDuration","mvhdDurtion","mvhdTimecale","_e1$sinf","_e1$sinf$schi","_e1$sinf2","_e1$sinf2$schi","_e1$sinf3","_e1$sinf3$schi","_e1$sinf4","_e1$sinf4$frma","e1","videoSenc","useEME","kidValue","encv","_aTrack$tkhd","_e$esds3","_e$esds4","_aTrack$mdia","_aTrack$mdia$minf","_aTrack$mdia$minf$stb","_aTrack$mdia2","_aTrack$mdia2$minf","_aTrack$mdia2$minf$st","_aTrackId","_e$sinf","_e$sinf$frma","_e$sinf2","_e$sinf2$schi","_e$sinf3","_e$sinf3$schi","_e$sinf4","_e$sinf4$schi","getRateIndexByRate","audioSenc","enca","_videoTrack$encv","_audioTrack$enca","vkid","akid","videoSampleCount","_audioTrack$samples","audioSampleCount","segmentDuration","moof","defaultSize","defaultDuration","evaluateDefaultDuration","_t$mdia3","_t$mdia3$hdlr","_t$mdia4","_t$mdia4$hdlr","videoSamples","audioSamples","_vTrack$mdia3","_vTrack$mdia3$minf","videoStbl","getSamples","_aTrack$mdia3","_aTrack$mdia3$minf","_aTrack$mdia$mdhd","audioStbl","_stts","_stsc","_stsz","_stco","keyframeMap","cttsArr","cttsEntries","stscEntries","stcoEntries","stszEntrySizes","stssEntries","chunkIndex","chunkRunIndex","offsetInChunk","lastSampleInChunk","lastChunkInRun","dataReferenceIndex","frameCount","isFullBox","Decryptor","Decryptor2","crypto","msCrypto","subtle","webkitSubtle","externalDecryptor","_this$externalDecrypt","_decryptSegment","_decryptSegment2","seg","_decryptData","keyIv","_decryptData2","aesKey","decrypt","importKey","t0","t1","_x5","_x6","_x7","FMP4Demuxer","FMP4Demuxer2","videoData","audioData","videoExist","audioExist","moovBox","moovToTrack","moofBox","moofToSamples","baseOffset","sampleData","_moovBox","_moofBox","videoBaseMediaDecodeTime","audioBaseMediaDecodeTime","_baseOffset","probe","Concat","ResultConstructor","arrays","UINT32_MAX","MP42","FTYPHEV1","FTYPAVC1","ftyp","content","mvex","mvhd2","trak2","tkhd2","mdia2","mdhd2","hdlr2","HDLR_TYPES","minf2","VMHD","SMHD","DINF","extBox","stbl2","STTS","STSC","STSZ","STCO","avc1hev1","stsd2","_concat$concat","avcc","btrt","schm","typ","boxes","fiel","_concat$concat2","hvcC2","ArrayBuffer","pcf","cif","write","_ref4","esds2","mvex2","trex","trex2","moof2","mfhd2","sencLength","videoSencLength","saiz","saio","trun1","traf2","_sbgp","sbgp","_saiz","_saio","_senc","_trun2","_traf","_trun","_trun3","_sbgp2","_saiz2","_saio2","_senc2","_trun4","_traf2","sdtp","extension","writeUint32","samplesLength","writeUint16","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","sampleLen","_samples$i$flag","_samples$i$cts","trackMP4","mdiaMP4","minfMP4","stblMP4","_ref5","_ref6","sampleDescIndex","samplesSizes","offsets","keyframeIndexes","_ref7","styp","durationCount","earliestTime","mdatSize","sidx","mdat2","mdat","dinf","dref","StblTable","FMP4Remuxer","FMP4Remuxer2","browserVersions","forceFirstIDR","videoInitSegment","audioInitSegment","initSegment","videoSegment","audioSegment","createInit","hasVideo","hasAudio","initMerge","hasSample","_remuxVideo","_remuxAudio","mdata","mdatView","_offset","_sample","u","setUint32","STREAM_PARSED","NO_AUDIO_TRACK","SUBTITLE_SEGMENTS","SUBTITLE_PLAYLIST","SEI_PAYLOAD_TIME","APPEND_COST","Transmuxer","Transmuxer2","hls","isMP4","needRemux","_demuxer","_isMP4","_remuxer","videoChunk","audioChunk","needInit","demuxer","demuxAndFix","vParsed","firstDts","firstPts","samplesDuration","aParsed","newId","_initSegmentId","_fireEvents","mseLowLatency","totalDuration","_this$_remuxer$remux","remux","logCC","meta","_excluded","_excluded2","BufferService","BufferService2","softDecode","_softVideo","_mse","decryptor","_decryptor","_this$_transmuxer","_this$_transmuxer$_de","_this$_transmuxer$_de2","_transmuxer","_this$_mse","_this$_mse2","_this$_mse3","hasOpTasks","_this$_mse4","_updateDuration","_sourceCreated","chunk","_directAppend","mix","_createMseSource","_appendBuffer","segment","_this$_transmuxer$tra","_this$_transmuxer$tra2","isFirstAppend","videoRest","audioRest","_needInitSegment","transmux","setTrackExist","_handleCodecChange","_x8","_removeBuffer","_args3","clearBuffer","removeEnd","removeBuffer","_evictBuffer","_callee4","bufferBehind","_context4","evictBuffer","_x9","_clearAllBuffer","_callee5","_context5","clearAllBuffer","_callee6","reuseMse","_args6","_context6","_endOfStream","_callee7","_context7","_setLiveSeekableRange","_callee8","_context8","_x10","_x11","_destroy","_callee9","_this$_decryptor","_context9","codecList","sourceBuffer","getSourceBuffer","_this$_mse5","isFull","getConfig","cfg","maxPlaylistSize","retryCount","retryDelay","pollRetryCount","loadTimeout","manifestLoadTimeout","preloadTime","useLowLatency","targetLatency","maxLatency","allowedStreamTrackChange","seiInTime","manifestList","minSegmentsStartPlay","preferMMSStreaming","LoaderType","FETCH","XHR","ResponseType","ARRAY_BUFFER","NetError","NetError2","isPlainObject","isDate","getRangeValue","setUrlParams","hashIndex","createResponse","contentLength","age","firstByteTime","priOptions","calculateSpeed","byteLen","millisec","CACHESIZE","FetchLoader","FetchLoader2","_this$_abortControlle","onProgress","onTimeout","onCancel","transformResponse","credentials","cache","redirect","referrer","referrerPolicy","onProcessMinLen","_aborted","_onProcessMinLen","_onCancel","_abortController","AbortController","_running","_range","_vid","_priOptions","signal","_timeoutTimer","rangeValue","Headers","fetch","_response","ok","json","_loadChunk","arrayBuffer","_cancel","_reader","st","getReader","_writeIdx","pump","_this3$_range","startRange","startByte","curLen","retData","temp","read","_receivedLength","loaderType","onRetryError","transformRequest","transformError","integrity","XhrLoader","XhrLoader2","req","_onProgress","_headers","_withCredentials","_body","_method","_timeout","_runing","_responseType","_firstRtt","_onTimeout","_request","_loadCompleteResolve","_loadCompleteReject","_startLoad","chunkSize","_currentChunkSizeKB","_internalOpen","_startTime","_xhr","withCredentials","_onLoad","_onReadyStatechange","errorEvent","_errorEvent$currentTa","_errorEvent$currentTa2","_errorEvent$currentTa3","currentTarget","statusText","ontimeout","_this$_range","byteStart","_this$_range2","responseURL","_getHeaders","_transformResponse","headerLines","getAllResponseHeaders","_iterator","header","Task","Task2","alive","_loaderType","_loader","_retryCount","_retryTimer","_canceled","_retryCheckFunc","retryCheckFunc","_this$_config","rest","isRetry","running","NetLoader","NetLoader2","task","_currentTask","_processTask","cancels","_alive","finally","_this3$_currentTask","_this3$_alive","MasterPlaylist","MasterPlaylist2","MediaType","Audio","Video","SubTitle","ClosedCaptions","KeySystems","CLEAR_KEY","FAIRPLAY","WIDEVINE","PLAYREADY","MediaStream","MediaStream2","AudioStream","_MediaStream","AudioStream2","SubTitleStream","_MediaStream3","SubTitleStream2","_super3","MasterStream","MasterStream2","MediaPlaylist","MediaPlaylist2","MediaSegment","MediaSegment2","parentUrl","prevSegment","byteRange","bytes","MediaSegmentKey","MediaSegmentKey2","segKey","keyFormat","keyFormatVersions","sn","setIVFromSN","isKeyFormatValid","isMethodValid","isSegmentEncrypted","isValidKeySystem","REGEXP_TAG","REGEXP_ATTR","REGEXP_ABSOLUTE_URL","REGEXP_URL_PAIR","getLines","parseTag","parseAttr","getAbsoluteUrl","pairs","CODECS_REGEXP","getCodecs","re","parseMasterPlaylist","lines","master","audioStreams","subtitleStreams","_tag","stream","TYPE","URI","autoSelect","AUTOSELECT","NAME","LANGUAGE","CHANNELS","channels","_stream","_attr","BANDWIDTH","RESOLUTION","_attr$RESOLUTION$spli","_attr$RESOLUTION$spli2","CODECS","textCodec","audioGroup","subtitleGroup","SUBTITLES","streams","stream2","parseMediaPlaylist","curSegment","curInitSegment","curKey","curSN","curCC","endOfList","partSegmentIndex","targetDuration","lowLatency","partTargetDuration","canBlockReload","partHoldBack","canSkipUntil","canSkipDateRanges","_lastSegment","isLast","live","startSN","startCC","setByteRange","_attr2","independent","cc","partIndex","clone","dataTime","_data$split","_data$split2","_attr3","METHOD","KEYFORMAT","KEYFORMATVERSIONS","IV","_attr4","BYTERANGE","isInitSegment","lastSegment","endSN","endPartIndex","endCC","M3U8Parser","M3U8Parser2","isMediaPlaylist","ManifestLoader","ManifestLoader2","elapsed","retryTime","_useLowLatency","_this$hls$config","fetchOptions","_onLoaderRetry","_audioLoader","_subtitleLoader","_load","audioUrl","subtitleUrl","toLoad","videoText","audioText","subtitleText","videoResUrl","audioResUrl","subtitleResUrl","_yield$Promise$all","_yield$Promise$all2","subtitle","_audio$response","_subtitle$response","_audio$response2","onPreM3U8Parse","playlist","audioPlaylist","subtitlePlaylist","_playlist","_emitOnLoaded","isMaster","_playlist2","cb","errorCb","clamp","Stream","Stream2","_setLLPlaybackPoint","_this$segments$","_this$lastSegment","lastSeg","_this$currentSubtitle","currentSubtitleStream","currentAudioStream","_clearSegments","snDiff","_updateSegments","skippedSegments","newSegs","segs","toSwitch","maxStartPoint","usefulSegs","sliceStart","segObj","_endSeg$sn","endSeg","hasNew","toAppend","endTimeBeforeAppend","lastCC","Playlist","Playlist2","_this$currentStream","currentStream","_this$currentStream2","_this$currentSegments","currentSegments","_segmentPointer","_this$currentSegments2","_this$currentStream3","_this$currentStream4","currentSubtitleEndSn","_this$currentStream5","liveEdge","_this$currentStream6","_this$currentSegments3","_this$currentSegments4","_this$currentStream7","_this$currentStream8","_this$currentStream9","getAudioSegment","_this$currentSegments5","dvrWindow","_this$currentSegments6","_this$currentSegments7","setNextSegmentByIndex","newSubtitleSegs","updateSubtitle","_this$currentSegments8","_this$currentStream10","switchSubtitle","clearOldSegment","nbSb","findSegmentIndexByTime","getSegmentByIndex","updateSegmentsRanges","BandwidthService","BandwidthService2","totalByte","_speeds","_chunkSpeeds","SegmentLoader","SegmentLoader2","_bandwidthService","addRecord","_mapCache","_keyCache","_segmentLoader","_audioSegmentLoader","_keyLoader","getLatestSpeed","getAvgSpeed","audioSeg","loadInit","loadAudioInit","loadVideoSegment","loadAudioSegment","_loadSegment","_loadSegment2","segLoader","_seg$key","mapKey","mapKeyIv","_seg$initSegment$key","mapUrl","_keyUrl","keyUrl","Hls","Hls2","_cfg","nextSeg","bInfo","bufferThroughout","_segmentProcessing","nextSegment","_tryEos","_bufferService","msStreaming","_urlSwitching","_prevSegSn","_loadSegmentDirect","_disconnectTimer","_reloadOnPlay","disconnectTime","_clear","seekRange","newSeekTime","curSeg","segIndex","_onCheckQuotaExceeded","currentSegment","_this$_seiService","latency","_seiService","throw","_checkStreamTrackChange","segLoaderError","_isProcessQuotaExceeded","bufferMaxHoleTolerance","fatal","_emitError","_gapService","do","_manifestLoader","_onLoadeddata","_onPause","hasSubtitle","_this$_bufferService","_args4","_loadData","_loadData2","manifest","_this$_switchUrlOpts","_this$_switchUrlOpts2","switchTimePoint","segIdx","bufferClearStartPoint","_this$_switchUrlOpts3","_loadM3U8","_switchUrlOpts","_getSeamlessSwitchPoint","setNextSegmentBySN","_prevSegCc","nbSegments","_pollM3U8","_replay","isPlayEmit","_switchURL","defaultOpts","_options","appended","_args7","t2","seamlessSwitch","_switchStream","force","curStream","curId","_args8","_refreshM3U8","switchStream","_switchAudioStream","audioStream","_args9","switchAudioStream","_switchSubtitleStream","_callee10","_context10","stopPoll","switchSubtitleStream","_callee11","_this$_seiService2","_context11","_loadM3U","_callee12","_this$config$manifest","_this$config$manifest2","_this$_playlist$curre","_context12","parseText","upsertPlaylist","_stream$currentAudioS","_stream$currentSubtit","mediaPlaylist","pollInterval","_this$_playlist$lastS","isEmpty","poll","p1","p3","switchToNoEmpty","hadSegmentLoaded","_loadSegmentDirect2","_callee13","loadOnce","cachedError","_this$_playlist$curre2","sameStream","_context13","_reqAndBufferSegment","feedbackLiveEdge","moveSegmentPointer","_reqAndBufferSegment2","_callee14","_this$_bufferService2","responses","before","segStart","_context14","decryptBuffer","_onCheckQuotaExceeded2","_callee15","inBuffered","mediaTime","_context15","changedSeg","checkSegmentTrackChange","_clear2","_callee16","_context16","_reset2","_callee17","_this$_seiService3","_args17","_context17","_tickTimer","_tick","_tickInterval","_error$originError","_this$media2","_this$media3","_this$_seiService4","nextLoadPoint","latestKbps","_this$_bufferService3","_this$_bufferService4","_this$_playlist","eosAllowed","msIsOpened","msHasOpTasks","WebAssembly","Logger$1","localStorage","getItem","enableLogger","disableLogger","PluginExtension","PluginExtension2","opts","_this$_plugin","_this$_plugin$player","_this$_plugin2","_this$_plugin2$player","_this$_opts","_opts","innerDegrade","degradeInfo","_degrade","originVideo","TAG","newVideo","degradeVideo","degrade","replaceChild","hlsPlugin","_init","_this$_opts2","setPlayMode","_onLowDecode","_this$_opts3","_this$_opts3$media","parseSwitchUrlArgs","HlsPlugin","HlsPlugin2","_args","_this$hls","_this$hls2","_this$player$config","_this$player$config$h","keepStatusAfterSwitch","_keepPauseStatus","_this$hls3","_this$player$config2","hlsOpts","__allowHlsEmptyUrl__","isMMSOnly","_onSwitchURL","handleSource","defineGetterOrSetter","_this2$hls","_this2$hls$media","pluginExtension","forceDegradeToVideo","_this2$pluginExtensio","_this2$hls2","_onSwitchSubtitle","_transError","_transCoreEvent","_this$pluginExtension","_emitSeiPaylodTime","seiJson","components","Title","Card","relatedMap","computed","mapState","ads","common","menus","watch","nv","$route","query","initData","immediate","methods","mapActions","toggleLoading","moment","getVideoInfo","api","initPlayer","getMenuInfo","classifyInfo","getVideos","rows","pageNum","pageSize","$router","videoCover","dispose","beforeUnmount","__exports__"],"sourceRoot":""}