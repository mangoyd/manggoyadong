{"version":3,"file":"js/910.9a94856c.js","mappings":"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","sources":["webpack://new-web/./src/views/index/index.vue","webpack://new-web/./src/views/index/index.vue?f455"],"sourcesContent":["<template>\r\n  <div class=\"home-container\">\r\n    <div class=\"home-wrapper\">\r\n      <div class=\"ads\" style=\"padding-bottom: 0px;margin-bottom: 40px\">\r\n        <div class=\"ads-item\" v-for=\"(item, idx) in _ads.slice(0, 12)\" :key=\"item.title + '_' + idx\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"category-part\" v-for=\"(item, idx) in data\" :key=\"item.id\">\r\n        <Title class=\"page-title\" :name=\"item.category.classifyName\" :suffix=\"suffixMap[language]\" :item=\"item.category\"></Title>\r\n        <div class=\"list\">\r\n          <Card :classifyName=\"item.category.classifyName\" :classifyId=\"item.category.classifyId\" :specialId=\"item.category.specialId\" class=\"video-card\" v-for=\"v in item.videos\" :item=\"v\"></Card>\r\n        </div>\r\n        <div v-if=\"idx % 2 == 1\"  class=\"ads h5-hide\">\r\n          <div class=\"ads-item\" v-for=\"(a, idx) in item.ads\" :key=\"a.title + '_' + idx\">\r\n            <van-image\r\n              @click=\"goAd(a.link)\"\r\n              fit=\"cover\"\r\n              position=\"center\"\r\n              :lazy-load=\"true\"\r\n              :src=\"a.picUrl\"\r\n            >\r\n              <template v-slot:loading>\r\n                <van-loading type=\"spinner\" size=\"20\" />\r\n              </template>\r\n            </van-image>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import * as api from '@/api'\r\n  import Title from \"@/components/Title.vue\";\r\n  import Card from \"@/components/Card.vue\";\r\n  import {mapActions,mapState} from 'vuex';\r\n\r\n  export default {\r\n    name: \"Index\",\r\n    components: {Title, Card},\r\n    data() {\r\n      return {\r\n        _ads: [],\r\n        data: [],\r\n        suffixMap: {\r\n          'ko-KR': '더보기',\r\n          'en-US': 'More related videos',\r\n          'zh-CN': '更多'\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      menus() {\r\n        this.getVideos()\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ads: state => state.common.ads,\r\n        menus: state => state.common.menus,\r\n        language: state => state.common.language,\r\n      }),\r\n    },\r\n    methods: {\r\n      ...mapActions({\r\n        toggleLoading: 'common/toggleLoading',\r\n      }),\r\n      goAd(url) {\r\n        window.open(url)\r\n      },\r\n      async getVideos() {\r\n        this.toggleLoading(true)\r\n        if (this.menus && this.menus.length) {\r\n          let count = (this.menus.length + 1) * 8 + 1;\r\n          let times = Math.ceil(count / this.ads.length);\r\n          let ads = [];\r\n          for (let i = 0;i < times;i++) {\r\n            ads = ads.concat(this.ads);\r\n          }\r\n          ads.shift()\r\n          this._ads = ads;\r\n          let index = 0\r\n          const func = async (menu, i) => {\r\n            let {rows, code} = await api.getVideos({\r\n              pageNum: 1,\r\n              pageSize: 8,\r\n              // classifyId: menu.classifyId,\r\n              specialId: menu.specialId\r\n            })\r\n            if (code == 200) {\r\n              this.data.push({\r\n                id: menu.id,\r\n                category: menu,\r\n                ads: ads.slice((index + 1) * 8 + 4, (index + 2) * 8 + 4),\r\n                adsSide: ads.slice((index + 1) * 5, (index + 2) * 5),\r\n                videos: rows,\r\n              })\r\n              if (i % 2 == 1) {\r\n                index = index + 1\r\n              }\r\n\r\n            }\r\n          }\r\n          for (let i = 0; i < this.menus.length; i++) {\r\n            await func(this.menus[i], i);\r\n            this.toggleLoading(false)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getVideos()\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .home-container{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .home-wrapper{\r\n      width: 100%;\r\n      padding-top: 25px;\r\n      .ads{\r\n        width: 100%;\r\n        padding: 23px 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        box-sizing: border-box;\r\n        padding-top: 0px;\r\n        padding-bottom: 40px;\r\n        .ads-item{\r\n          width: calc((100% - 27px) / 4);\r\n          margin-bottom: 7px;\r\n          height: 125px;\r\n          @include border2;\r\n          box-sizing: border-box;\r\n          cursor: pointer;\r\n          border-radius: 2px;\r\n          :deep(.van-image){\r\n            width: 100%;\r\n            height: 100%;\r\n            .van-image__loading{\r\n              background: none;\r\n            }\r\n            .van-image__error{\r\n              background: none;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .page-title{\r\n        margin-bottom: 11px;\r\n      }\r\n      .list{\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        flex-direction:row;\r\n        box-sizing: border-box;\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n        margin-bottom: 20px;\r\n        .video-card{\r\n          margin-bottom: 20px;\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n\r\n  @media screen and (min-width: 750px) and (max-width: 1280px) {\r\n    .home-container{\r\n      .home-wrapper{\r\n        .ads{\r\n          .ads-item{\r\n            height: 100px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  @media screen and (max-width: 750px) {\r\n    .home-container{\r\n      width: 100%;\r\n      .home-wrapper{\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding-left: 2px;\r\n        padding-right: 2px;\r\n        .page-title{\r\n          margin-bottom: 10px;\r\n        }\r\n        .ads{\r\n          padding-left: 14px;\r\n          padding-right: 14px;\r\n          .ads-item{\r\n            width: 100%;\r\n            height: 130px;\r\n            margin-bottom: 6px;\r\n            border: 1px solid #d7d7d8;\r\n            &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4), {\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        .list{\r\n          margin-bottom: 25px;\r\n          .video-card{\r\n            width: 100%;\r\n            margin-bottom: 18px;\r\n          }\r\n        }\r\n      }\r\n      .sidebar{\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=3c4bdc00&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3c4bdc00&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=3c4bdc00&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c4bdc00\"]])\n\nexport default __exports__"],"names":["class","style","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","_ads","slice","item","idx","title","_createVNode","_component_van_image","onClick","$event","$options","goAd","link","fit","position","src","picUrl","loading","_withCtx","_component_van_loading","type","size","_","data","id","_component_Title","name","category","classifyName","suffix","suffixMap","_ctx","language","_hoisted_4","videos","v","_createBlock","_component_Card","classifyId","specialId","_hoisted_5","ads","a","_createCommentVNode","components","Title","Card","watch","menus","this","getVideos","computed","mapState","state","common","methods","mapActions","toggleLoading","url","window","open","length","count","times","Math","ceil","i","concat","shift","index","func","async","menu","rows","code","api","pageNum","pageSize","push","adsSide","mounted","__exports__","render"],"sourceRoot":""}