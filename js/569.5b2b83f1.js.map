{"version":3,"file":"js/569.5b2b83f1.js","mappings":"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AAU,GAAgBA,UAAU,GAAK,IAC7EknH,EAAQN,EAAK1U,IAAI0U,EAAKxxB,MAAMwe,KAAM,IAAIhwG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAw1F,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAr5E,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,OAEF,OAAOmnG,CACT,GACC,CACD/8G,IAAK,OACLsH,MAAO,SAAcyoF,GACnB,IAAIitB,EAAQP,EAAK1U,IAAI0U,EAAKxxB,MAAMye,KAAM+S,EAAK5S,KAAK9Z,EAAM/sF,GAAI+sF,EAAMyjB,cAAgB,EAAGzjB,EAAM9/E,MAAO8/E,EAAM7/E,QAASusG,EAAK3S,KAAK/Z,IACzH,OAAOitB,CACT,GACC,CACDh9G,IAAK,OACLsH,MAAO,SAActE,EAAI4S,GACvB,IAAI3F,EAAQpa,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EACzEqa,EAASra,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EAC1EonH,EAAQR,EAAK1U,IAAI0U,EAAKxxB,MAAM4e,KAAM,IAAIpwG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAuJ,GAAM,GAAK,IACXA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA4S,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA3F,GAAS,EAAI,IACL,IAARA,EACA,EACA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,KAEF,OAAO+sG,CACT,GACC,CACDj9G,IAAK,OACLsH,MAAO,SAAcyoF,GACnB,IAAImtB,EAAQT,EAAK1U,IAAI0U,EAAKxxB,MAAM6e,KAAM2S,EAAKrS,KAAKra,EAAMn6E,SAAUm6E,EAAMd,WAAYwtB,EAAKpS,KAAKta,EAAMz6F,MAAOmnH,EAAKnS,KAAKva,IACnH,OAAOmtB,CACT,GACC,CACDl9G,IAAK,OACLsH,MAAO,SAAcsO,GACnB,IAAIq5E,EAAYp5F,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,IAC7EsnH,EAAQV,EAAK1U,IAAI0U,EAAKxxB,MAAMmf,KAAM,IAAI3wG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAw1F,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAr5E,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,GACA,IACA,EACA,KAEF,OAAOunG,CACT,GACC,CACDn9G,IAAK,OACLsH,MAAO,SAAchS,GACnB,IAAI8nH,EAAQX,EAAK1U,IAAI0U,EAAKxxB,MAAMof,KAAMoS,EAAKY,WAAW/nH,IACtD,OAAO8nH,CACT,GACC,CACDp9G,IAAK,OACLsH,MAAO,SAAcyoF,GACnB,IAAIutB,EAAQb,EAAK1U,IAAI0U,EAAKxxB,MAAMqf,KAAMva,EAAMz6F,OAASw9F,GAAUxL,MAAQm1B,EAAKc,KAAOd,EAAKe,KAAMf,EAAKgB,KAAMhB,EAAK/R,KAAK3a,IACnH,OAAOutB,CACT,GACC,CACDt9G,IAAK,OACLsH,MAAO,SAAcyoF,GACnB,IAAI2tB,EAAS,GACT3tB,GAASA,EAAM10E,KACjB00E,EAAM10E,IAAIuwF,MAAQ8R,EAAO9gH,KAAK6/G,EAAK7Q,KAAK7b,EAAM10E,IAAIuwF,KAAK76E,UAEzD,IAAI4sF,EAAQlB,EAAK1U,IAAI0U,EAAKxxB,MAAMyf,KAAM+R,EAAKxR,KAAKlb,GAAQ0sB,EAAKmB,KAAMF,EAAO,GAAIjB,EAAKoB,KAAMpB,EAAKqB,KAAMrB,EAAKsB,MACzG,OAAOJ,CACT,GACC,CACD39G,IAAK,OACLsH,MAAO,SAAcyoF,GACnB,IAAI8sB,EAGAA,EAFe,UAAf9sB,EAAMz6F,KACJy6F,EAAMskB,QAAUtkB,EAAM6lB,KACd6G,EAAK7G,KAAK7lB,GAEhBA,EAAMz8D,YAAc+/D,GAAeI,KAC3BgpB,EAAKuB,KAAKjuB,GAEV0sB,EAAKrP,KAAKrd,GAGfA,EAAMskB,QAAUtkB,EAAMwkB,KACrBkI,EAAKlI,KAAKxkB,GACXA,EAAM+e,KACL2N,EAAKxP,KAAKld,GAEV0sB,EAAKwB,SAASluB,GAE1B,IAAImuB,EAAQzB,EAAK1U,IAAI0U,EAAKxxB,MAAMggB,KAAM,IAAIxxG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACEojH,GACJ,OAAOqB,CACT,GACC,CACDl+G,IAAK,OACLsH,MAAO,SAActQ,GACnB,IAAIw4F,EAAex4F,EAAK4+G,KAAKpmB,aACzBW,EAAan5F,EAAK4+G,KAAKzlB,WACvB0sB,EAAU,IAAIpjH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA+1F,EACA,EACA,GACA,EACA,EACA,EACA,EACAW,GAAc,EAAI,IACL,IAAbA,EACA,EACA,IAEEud,EAAO+O,EAAK/O,KAAK12G,EAAKiP,QACtBwlG,EAAOgR,EAAKhR,KAAKz0G,EAAK4+G,MAC1B,OAAO6G,EAAK1U,IAAI0U,EAAKxxB,MAAM2qB,KAAMiH,EAASnP,EAAMjC,EAClD,GACC,CACDzrG,IAAK,OACLsH,MAAO,SAAcyoF,GACnB,IAAIouB,EAAgBxuB,EAChByO,EAAMrO,EAAMqO,IAAI/lG,OAAS,EAAI03F,EAAMqO,IAAI,GAAK,GAC5CsE,EAAM3S,EAAM2S,IAAIrqG,OAAS,EAAI03F,EAAM2S,IAAI,GAAK,GAC5CzyF,EAAQ8/E,EAAM9/E,MACdC,EAAS6/E,EAAM7/E,OACf8gG,EAAWjhB,EAAM2P,SAAS,GAC1BuR,EAAWlhB,EAAM2P,SAAS,GAC1Bmd,EAAU,IAAIpjH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAwW,GAAS,EAAI,IACL,IAARA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KAEEkuG,EAAO,IAAI3kH,YAAY0kH,GAAkBxuB,EAAO,CAClD,EACAyO,EAAI,GACJA,EAAI,GACJA,EAAI,GACJ,IACA,IACAA,EAAI/lG,SAAW,EAAI,IACN,IAAb+lG,EAAI/lG,SACHmF,OAAO7H,MAAMg6F,EAAMxT,GAAmBiiB,IAAM5gG,OAAO,CAAC,EAAGklG,EAAIrqG,SAAW,EAAI,IAAkB,IAAbqqG,EAAIrqG,UAAgBmF,OAAO7H,MAAMwoH,EAAgBhiC,GAAmBumB,KAClJ2b,EAAO,IAAI5kH,WAAW,CAAC,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,EAAG,EAAG,GAAI,KAChEgyG,EAAOgR,EAAKhR,KAAK1b,EAAMwkB,MACvBzG,EAAO,IAAIr0G,WAAW,CACxBu3G,GAAY,GACZA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACAC,GAAY,GACZA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,IAEF,OAAOwL,EAAK1U,IAAI0U,EAAKxxB,MAAMspB,KAAMsI,EAASJ,EAAK1U,IAAI0U,EAAKxxB,MAAM4iB,KAAMuQ,GAAO3B,EAAK1U,IAAI0U,EAAKxxB,MAAMozB,KAAMA,GAAO5S,EAAMgR,EAAK1U,IAAI0U,EAAKxxB,MAAM6iB,KAAMA,GAC9I,GACC,CACD9tG,IAAK,OACLsH,MAAO,SAActQ,GACnB,IAAI6lH,EAAU,IAAIpjH,WAAW,IACzBkyG,EAAO8Q,EAAK9Q,KAAK30G,GACrB,OAAOylH,EAAK1U,IAAI0U,EAAKxxB,MAAMygB,KAAMmR,EAASlR,EAC5C,GACC,CACD3rG,IAAK,OACLsH,MAAO,SAActQ,GACnB,IAAI6lH,EAAU,IAAIpjH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EAC2B,IAA3BzC,EAAK+2G,oBACkB,IAAvB/2G,EAAKw0G,iBACLhuG,OAAOs8B,GAAM9iC,EAAKg3G,eACpB,OAAOyO,EAAK1U,IAAI0U,EAAKxxB,MAAM0gB,KAAMkR,EACnC,GACC,CACD78G,IAAK,OACLsH,MAAO,SAActQ,GACnB,IAAI6lH,EAAU,IAAIpjH,WAAW,IACzBw0G,EAAO,IAAIx0G,WAAW,CAACzC,EAAKk3G,YAAYv0G,WAAW,GAAI3C,EAAKk3G,YAAYv0G,WAAW,GAAI3C,EAAKk3G,YAAYv0G,WAAW,GAAI3C,EAAKk3G,YAAYv0G,WAAW,KACnJ2kH,EAAO,IAAI7kH,WAAW,CACxB,EACA,EACA,EACA,EACA,GACA,IACA,IACA,GACA,EACA,EACA,EACA,IAEEiyG,EAAO+Q,EAAK/Q,KAAK10G,GACrB,OAAOylH,EAAK1U,IAAI0U,EAAKxxB,MAAMwgB,KAAMoR,EAASJ,EAAK1U,IAAI0U,EAAKxxB,MAAMgjB,KAAMA,GAAOwO,EAAK1U,IAAI0U,EAAKxxB,MAAMqzB,KAAMA,GAAO5S,EAC9G,GACC,CACD1rG,IAAK,OACLsH,MAAO,SAAcyoF,GACnB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMgiB,KAAM,IAAIxzG,WAAW,CAC9C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAs2F,EAAM9/E,OAAS,EAAI,IACL,IAAd8/E,EAAM9/E,MACN8/E,EAAM7/E,QAAU,EAAI,IACL,IAAf6/E,EAAM7/E,OACN,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KACE6/E,EAAM+e,KAAM/e,EAAMgf,KACxB,GACC,CACD/uG,IAAK,WACLsH,MAAO,SAAkByoF,GACvB,IAAIkM,EAASlM,EAAMz8D,YAAc2/D,GAAeG,KAC5CmrB,EAAMtiB,EAASwgB,EAAKxxB,MAAMkiB,KAAOsP,EAAKxxB,MAAMiiB,KAC5CjnG,EAASg2F,EAASwgB,EAAKrc,KAAKrQ,GAAS0sB,EAAK5O,KAAK9d,GAC/CyuB,EAAQ,CAAC,IAAI/kH,WAAW,CAC1B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAs2F,EAAM9/E,OAAS,EAAI,IACL,IAAd8/E,EAAM9/E,MACN8/E,EAAM7/E,QAAU,EAAI,IACL,IAAf6/E,EAAM7/E,OACN,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KACEjK,GAMJ,OALIg2F,EACFuiB,EAAM5hH,KAAK6/G,EAAK1U,IAAI0U,EAAKxxB,MAAMwzB,KAAM,IAAIhlH,WAAW,CAAC,EAAG,MAC/Cs2F,EAAM2P,UAAY3P,EAAM2P,SAASrnG,OAAS,GACnDmmH,EAAM5hH,KAAK6/G,EAAK3O,KAAK/d,EAAM2P,WAEtB+c,EAAK1U,IAAIpyG,MAAM8mH,EAAM,CAAC8B,GAAK/gH,OAAOghH,GAC3C,GACC,CACDx+G,IAAK,OACLsH,MAAO,SAAcyoF,GACnB,IAAI2uB,EAAiB/sB,EAGjBtzF,EAFA+/F,EAAM,GACNsE,EAAM,GAcV,OAZA3S,EAAMqO,IAAIrzF,SAAQ,SAASynC,GACzBn0C,EAAMm0C,EAAEw3C,WACRoU,EAAIxhG,KAAKyB,IAAQ,EAAI,KACrB+/F,EAAIxhG,KAAW,IAANyB,GACT+/F,EAAIxhG,KAAKjH,MAAMyoG,EAAKjiB,GAAmB3pC,GACzC,IACAu9C,EAAM2S,IAAI33F,SAAQ,SAAS+zB,GACzBzgC,EAAMygC,EAAEkrD,WACR0Y,EAAI9lG,KAAKyB,IAAQ,EAAI,KACrBqkG,EAAI9lG,KAAW,IAANyB,GACTqkG,EAAI9lG,KAAKjH,MAAM+sG,EAAKvmB,GAAmBr9C,GACzC,IACO29E,EAAK1U,IAAI0U,EAAKxxB,MAAM4iB,KAAM,IAAIp0G,YAAYilH,GAAmB/sB,EAAQ,CAC1E,EACAyM,EAAI,GACJA,EAAI,GACJA,EAAI,GACJ,IACA,IAAMrO,EAAMqO,IAAI/lG,SACfmF,OAAO7H,MAAMg8F,EAAOyM,GAAK5gG,OAAO,CAACuyF,EAAM2S,IAAIrqG,UAAUmF,OAAO7H,MAAM+oH,EAAiBhc,IACxF,GACC,CACD1iG,IAAK,OACLsH,MAAO,SAAcyoF,GACnB,IAAI4uB,EAAQ5uB,EAAMqQ,KAClB,GAAIue,aAAiBC,aAAeD,aAAiBllH,WACnD,OAAOklH,EACT,IACI3nH,EADA2pG,EAAM5Q,EAAM4Q,IAAKvC,EAAMrO,EAAMqO,IAAKsE,EAAM3S,EAAM2S,IAElD,GAAIic,EAAO,CACT,IAAIE,EAAMF,EAAM3c,iCACZ8c,EAAMH,EAAM1c,gCACZvB,GAAeC,EAAItoG,QAAU,IAAM+lG,EAAI/lG,QAAU,IAAMqqG,EAAIrqG,QAAU,GACzErB,EAAO,CACL,EACA2nH,EAAM7c,qBAAuB,EAAI6c,EAAM9c,iBAAmB,EAAI8c,EAAM5c,kBACpE8c,IAAQ,GACRA,IAAQ,GACRA,IAAQ,EACRA,EACAC,EAAI,GACJA,EAAI,GACJA,EAAI,GACJA,EAAI,GACJA,EAAI,GACJA,EAAI,GACJH,EAAMzc,gBACN,IACA,EACA,IACwB,IAAxByc,EAAM3f,gBACqB,IAA3B2f,EAAMnd,mBACuB,IAA7Bmd,EAAMld,qBACN,EACA,EACAkd,EAAM7d,mBAAqB,EAAI6d,EAAM1d,kBAAoB,EAAI,EAC7DP,GAEF,IAAIqe,EAAQ,SAAgBhrG,GAC1B,IAAIi3C,EACJh0D,EAAK4F,KAAKmX,EAAE1b,QAAU,EAAG0b,EAAE1b,SAC1B2yD,EAAQh0D,GAAM4F,KAAKjH,MAAMq1D,EAAOmxB,GAAmBpoE,GACtD,EACI4sF,EAAItoG,SACNrB,EAAK4F,KAAK,IAAK,EAAG+jG,EAAItoG,QACtBsoG,EAAI51F,QAAQg0G,IAEV3gB,EAAI/lG,SACNrB,EAAK4F,KAAK,IAAK,EAAGwhG,EAAI/lG,QACtB+lG,EAAIrzF,QAAQg0G,IAEVrc,EAAIrqG,SACNrB,EAAK4F,KAAK,IAAK,EAAG8lG,EAAIrqG,QACtBqqG,EAAI33F,QAAQg0G,GAEhB,MACE/nH,EAAO,CACL,EACA,EACA,GACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,GACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,IACA,IACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,IACA,EACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,GACA,IAGJ,OAAOylH,EAAK1U,IAAI0U,EAAKxxB,MAAMmV,KAAM,IAAI3mG,WAAWzC,GAClD,GACC,CACDgJ,IAAK,OACLsH,MAAO,SAAcgrF,GACnB,IAAI0sB,EAAQjjC,GAAeuW,EAAO,GAAI0e,EAAWgO,EAAM,GAAI/N,EAAW+N,EAAM,GAC5E,OAAOvC,EAAK1U,IAAI0U,EAAKxxB,MAAM6iB,KAAM,IAAIr0G,WAAW,CAACu3G,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,EAAgBC,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,IACzL,GACC,CACDjxG,IAAK,OACLsH,MAAO,SAAcyoF,GACnB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMmiB,KAAM,IAAI3zG,WAAW,CAC9C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAs2F,EAAMP,aACN,EACA,GACA,EACA,EACA,EACA,EACAO,EAAMI,YAAc,EAAI,IACL,IAAnBJ,EAAMI,WACN,EACA,IACEJ,EAAM9pF,OAAO5N,OAASokH,EAAK/O,KAAK3d,EAAM9pF,aAAU,EACtD,GACC,CACDjG,IAAK,OACLsH,MAAO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CA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,MAGJg6E,GAAgB+M,GAAK,WAAYA,GAAIunB,IAAIvnB,GAAIyK,MAAM2xB,KAAM,IAAInjH,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,OAEFg6E,GAAgB+M,GAAK,WAAYA,GAAIunB,IAAIvnB,GAAIyK,MAAM2xB,KAAM,IAAInjH,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,OAEFg6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAM23B,KAAMpiC,GAAIunB,IAAIvnB,GAAIyK,MAAM43B,KAAM,IAAIppH,WAAW,CAC1F,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,GACA,EACA,EACA,EACA,OAEFg6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMuf,KAAM,IAAI/wG,WAAW,CAClE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,MAEFg6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMwf,KAAM,IAAIhxG,WAAW,CAClE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,MAEFg6E,GAAgB+M,GAAK,YAAa,IAAI/mF,WAAW,CAC/C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,KAEFg6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMigB,KAAM1qB,GAAIsiC,YACzDrvC,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMmgB,KAAM5qB,GAAIsiC,YACzDrvC,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMogB,KAAM,IAAI5xG,WAAW,CAClE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,MAEFg6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMqgB,KAAM9qB,GAAIsiC,YC50DzD,IAAIrgC,GAAyB,WAC3B,SAASC,EAAQtlF,EAAMsyB,GACrBkqD,GAAgBhkF,KAAM8sF,GACtB9sF,KAAKwH,KAAOA,GAAQ,GACpBxH,KAAK+sF,QAAU,IAAInlF,OAAO5H,KAAKwH,KAAM,KACrCslF,EAAQzjF,SAAWywB,CACrB,CAkEA,OAjEAsqD,GAAa0I,EAAS,CAAC,CACrB1iF,IAAK,QACLsH,MAAO,WACL,IAAI07E,EACJ,IAAIN,EAAQzjF,SAAZ,CAEA,IAAK,IAAI2X,EAAO/gB,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMsgB,GAAOqsE,EAAO,EAAGA,EAAOrsE,EAAMqsE,IAC/E7kF,EAAK6kF,GAAQptF,UAAUotF,IAExBD,EAAW18E,SAASJ,MAAMvQ,MAAMqtF,EAAU,CAACptF,KAAK+sF,SAASnlF,OAAOY,GAJzD,CAKV,GACC,CACD4B,IAAK,MACLsH,MAAO,WACL,IAAI87E,EACJ,IAAIV,EAAQzjF,SAAZ,CAEA,IAAK,IAAIokF,EAAQxtF,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAM+sF,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFllF,EAAKklF,GAASztF,UAAUytF,IAEzBF,EAAY98E,SAASC,IAAI5Q,MAAMytF,EAAW,CAACxtF,KAAK+sF,SAASnlF,OAAOY,GAJzD,CAKV,GACC,CACD4B,IAAK,OACLsH,MAAO,WACL,IAAIk8E,EACJ,IAAId,EAAQzjF,SAAZ,CAEA,IAAK,IAAIwkF,EAAQ5tF,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMmtF,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFtlF,EAAKslF,GAAS7tF,UAAU6tF,IAEzBF,EAAYl9E,SAASR,KAAKnQ,MAAM6tF,EAAW,CAAC5tF,KAAK+sF,SAASnlF,OAAOY,GAJ1D,CAKV,GACC,CACD4B,IAAK,QACLsH,MAAO,WACL,IAAIs8E,EACJ,IAAIlB,EAAQzjF,SAAZ,CAEA,IAAK,IAAI4kF,EAAQhuF,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMutF,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpF1lF,EAAK0lF,GAASjuF,UAAUiuF,IAEzBF,EAAYt9E,SAAST,MAAMlQ,MAAMiuF,EAAW,CAAChuF,KAAK+sF,SAASnlF,OAAOY,GAJ3D,CAKV,GACC,CACD4B,IAAK,QACLsH,MAAO,WACL,IAAI+8E,EACA3B,EAAQzjF,WAEZqH,QAAQg+E,MAAM1uF,KAAK+sF,UAClB0B,EAAY/9E,SAASi+E,MAAM5uF,MAAM0uF,EAAWxuF,WAC7CyQ,QAAQk+E,WACV,IACE,CAAC,CACHxkF,IAAK,SACLsH,MAAO,WACLo7E,EAAQzjF,UAAW,CACrB,GACC,CACDe,IAAK,UACLsH,MAAO,WACLo7E,EAAQzjF,UAAW,CACrB,KAEKyjF,CACT,CAzE6B,GA0E7BjP,GAAgBgP,GAAQ,YAAY,GCvEpC,IAAIsgC,GAA8B,WAChC,SAASC,EAAazwB,EAAY8D,EAAY3uF,GAC5CkyE,GAAgBhkF,KAAMotH,GACtBptH,KAAK28F,WAAaA,EAClB38F,KAAKygG,WAAaA,EAClB,IAAI4sB,EAAkB,kBAAkBhqG,KAAK9f,UAAU4B,WACvDnF,KAAKstH,cAAgBD,GAAmBviH,OAAOuiH,EAAgB,IAAM,GACrErtH,KAAK2Q,IAAM,IAAIk8E,GAAO,eAAe/6E,IAAWA,EAAQq/E,UAAWr/E,EAAQq/E,QAC7E,CA8HA,OA7HA/M,GAAagpC,EAAc,CAAC,CAC1BhjH,IAAK,QACLsH,MAAO,WACL,IAMI67G,EACAC,EACAC,EAkBAC,EACAC,EA3BAC,EAAa3tH,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,IAAgBA,UAAU,GACzE6R,EAAU7R,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC5E08F,EAAa38F,KAAK28F,WAClB8D,EAAazgG,KAAKygG,WAClBotB,EAAWlxB,EAAW6F,QACtBsrB,EAAWrtB,EAAW+B,QAItBqa,EAAS,GA2Bb,OA1BI+Q,IACE97G,GAAWA,EAAQi8G,WACjBF,GACFhR,EAAO71G,KAAKhH,KAAK28F,YAEfmxB,GACFjR,EAAO71G,KAAKhH,KAAKygG,YAEnBgtB,EAAc7iC,GAAI6iC,YAAY5Q,KAE1BgR,IACFN,EAAmB3iC,GAAI6iC,YAAY,CAACztH,KAAK28F,cACvCmxB,IACFN,EAAmB5iC,GAAI6iC,YAAY,CAACztH,KAAKygG,gBAK3CotB,GAAYlxB,EAAWqxB,cACzBN,EAAe1tH,KAAKiuH,eAElBH,GAAYrtB,EAAWutB,cACzBL,EAAe3tH,KAAKkuH,eAEtBvxB,EAAWlC,QAAU,GACrBgG,EAAWhG,QAAU,GACd,CACLgzB,cACAF,mBACAC,mBACAE,eACAC,eAEJ,GACC,CACDvjH,IAAK,cACLsH,MAAO,WACL,IAAIyoF,EAAQn6F,KAAK28F,WACb38F,KAAKstH,gBACPnzB,EAAMM,QAAQ,GAAGhyD,KAAO,CACtBg2D,UAAW,EACXC,gBAAiB,IAGrB,IAAIjE,EAAUN,EAAMM,QAChBiqB,EAAS,OAAOphH,KAAK62F,EAAMC,OAC3BwyB,EAAW,EACXlI,EACFjqB,EAAQtlF,SAAQ,SAASynC,GACvBgwE,GAAYhwE,EAAEx7C,KAAKgzF,UACrB,IAEAqG,EAAQtlF,SAAQ,SAASynC,GACvBgwE,GAAYhwE,EAAEm+C,MAAM5R,QAAO,SAAS/tD,EAAG1b,GACrC,OAAO0b,EAAI1b,EAAE00E,UACf,GAAG,GACHw4B,GAA6B,EAAjBhwE,EAAEm+C,MAAMt4F,MACtB,IAEF,IAAI0rH,EAAQ,IAAItqH,WAAW+oH,GAC3B,GAAIlI,EACF,IAAK,IAA2ChqB,EAAvC/2F,EAAI,EAAGoE,EAAI0yF,EAAQh4F,OAAQ4e,EAAS,EAAW1d,EAAIoE,EAAGpE,IAC7D+2F,EAASD,EAAQ92F,GACjBwqH,EAAMtmC,IAAI6S,EAAOt5F,KAAMigB,GACvBq5E,EAAO/tF,KAAO+tF,EAAOt5F,KAAKgzF,WAC1B/yE,GAAUq5E,EAAO/tF,UAiBnB,IAdA,IAcmDyhH,EAd/CC,EAAW,IAAIlnB,SAASgnB,EAAMj6B,QAC9BwxB,EAAQ,SAAgB4I,EAAUC,GACpCA,EAAW9zB,EAAQ5d,GACnB,IAAI8+B,EAAa,EACjB4S,EAASxzB,MAAM5lF,SAAQ,SAASq5G,GAC9BH,EAAShd,UAAUid,EAAUE,EAAEp6B,YAC/Bk6B,GAAY,EACZH,EAAMtmC,IAAI2mC,EAAGF,GACbA,GAAYE,EAAEp6B,WACdunB,GAAc,EAAI6S,EAAEp6B,UACtB,IACAm6B,EAAS5hH,KAAOgvG,EAChB8S,EAAUH,EAAUF,EAAUG,CAChC,EACS1xC,EAAK,EAAGxkC,EAAKoiD,EAAQh4F,OAAQgsH,EAAU,EAAY5xC,EAAKxkC,EAAIwkC,IACnE6oC,EAAM+I,EAASL,GAGnB,IAAIrB,EAAOniC,GAAImiC,KAAKoB,GAChB1N,EAAO71B,GAAI61B,KAAK,CAACtmB,IACrB,OAAO7B,GAAiBmoB,EAAMsM,EAChC,GACC,CACD3iH,IAAK,cACLsH,MAAO,WACL,IAAIyoF,EAAQn6F,KAAKygG,WACb0tB,EAAQ,IAAItqH,WAAWs2F,EAAMM,QAAQtR,QAAO,SAAS/tD,EAAG1b,GAC1D,OAAO0b,EAAI1b,EAAE/S,IACf,GAAG,IACHwtF,EAAMM,QAAQtR,QAAO,SAAS9nE,EAAQu7B,GAEpC,OADAuxE,EAAMtmC,IAAIjrC,EAAEx7C,KAAMigB,GACXA,EAASu7B,EAAEjwC,IACpB,GAAG,GACH,IAAIogH,EAAOniC,GAAImiC,KAAKoB,GAChB1N,EAAO71B,GAAI61B,KAAK,CAACtmB,IACrB,OAAO7B,GAAiBmoB,EAAMsM,EAChC,GACC,CACD3iH,IAAK,QACLsH,MAAO,WACL1R,KAAK28F,WAAW3qD,QAChBhyC,KAAKygG,WAAWzuD,OAClB,KAEKo7E,CACT,CAvIkC,GCF9BvtG,GAAQ89D,GAAeA,GAAe,CAAC,EAAGwY,IAAQ,CAAC,EAAG,CACxDu4B,cAAe,oBACfC,eAAgB,oBAChBC,kBAAmB,wBACnBC,kBAAmB,wBACnBC,iBAAkB,sBAClBC,YAAa,oBCJXh6F,GAAS,IAAI83D,GAAO,cACpBmiC,GAA6B,WAC/B,SAASC,EAAYC,EAAKC,EAAOC,EAAWzuB,GAC1C3c,GAAgBhkF,KAAMivH,GACtBpxC,GAAgB79E,KAAM,iBAAkB,IACxCA,KAAKkvH,IAAMA,EACXlvH,KAAKqvH,SAAWF,EAAQ,IAAI/K,GAAgB,IAAIrW,GAAU,KAAM,KAAM,KAAMpN,GAC5E3gG,KAAKsvH,OAASH,EACVC,IACFpvH,KAAKuvH,SAAW,IAAIpC,GAAYntH,KAAKqvH,SAAS1yB,WAAY38F,KAAKqvH,SAAS5uB,YAC5E,CAqJA,OApJArc,GAAa6qC,EAAa,CAAC,CACzB7kH,IAAK,WACLsH,MAAO,SAAkB89G,EAAYC,EAAY9tB,EAAeC,EAAYhgE,EAAW8tF,GACrF,IAAIC,EAAU3vH,KAAKqvH,SACnB,IACMrvH,KAAKsvH,OACPK,EAAQzgB,MAAMsgB,EAAYC,GAE1BE,EAAQC,YAAYt3B,GAAiBk3B,EAAYC,GAAa9tB,EAAeC,EAAYhgE,EAE7F,CAAE,MAAO3xB,GACP,MAAM,IAAI+7E,GAAepC,GAAIO,MAAOP,GAAIa,UAAUE,IAAK16E,EACzD,CACA,IAAI0sF,EAAagzB,EAAQhzB,WAAY8D,EAAakvB,EAAQlvB,WAAYC,EAAgBivB,EAAQjvB,cAC1FmvB,EAAU,CACZz1B,MAAOuC,EAAWvC,MAClBf,UAAWsD,EAAWtD,UACtBy2B,SAAUnzB,EAAWmzB,SAAWnzB,EAAWtD,UAC3C02B,SAAUpzB,EAAWozB,SAAWpzB,EAAWtD,UAC3Cr5E,SAAU28E,EAAWqzB,gBAAkBrzB,EAAWtD,WAEhD42B,EAAU,CACZ71B,MAAOqG,EAAWrG,MAClBf,UAAWoH,EAAWpH,UACtBy2B,SAAUrvB,EAAWqvB,SAAWnzB,EAAWtD,UAC3C02B,SAAUtvB,EAAWsvB,SAAWpzB,EAAWtD,UAC3Cr5E,SAAUygF,EAAWuvB,gBAAkBrzB,EAAWtD,WAEhD62B,EAAQ,GAAGtoH,OAAO+0F,EAAWvC,MAAO,KAAKxyF,OAAO+0F,EAAWtiF,MAAO,KAAKzS,OAAO+0F,EAAWriF,OAAQ,KAAK1S,OAAO64F,EAAWrG,MAAO,KAAKxyF,OAAO64F,EAAWpwF,QAU1J,GATI6/G,IAAUlwH,KAAKmwH,iBACjBnwH,KAAKmwH,eAAiBD,EACtBR,GAAW,GAEb1vH,KAAKowH,YAAYzzB,EAAY8D,EAAYC,EAAeiB,GAAiB+tB,GACzE1vH,KAAKkvH,IAAIhnH,KAAK2X,GAAM63E,cAAe,CACjCiF,aACA8D,gBAEEzgG,KAAKuvH,SAkBP,MAAO,CAAC5yB,EAAY8D,GAjBhBivB,GAAY1vH,KAAKkvH,IAAIvuF,SAAW3gC,KAAKkvH,IAAI7+G,OAAOggH,gBAClD1zB,EAAW38E,SAAWhgB,KAAKkvH,IAAIoB,cAAgB3zB,EAAWtD,UAC1DoH,EAAWzgF,SAAWhgB,KAAKkvH,IAAIoB,cAAgB7vB,EAAWpH,WAE5D,IACE,IAAIk3B,EAAuBvwH,KAAKuvH,SAASiB,MAAMd,GAAWnC,EAAmBgD,EAAqBhD,iBAAkBG,EAAe6C,EAAqB7C,aAAcF,EAAmB+C,EAAqB/C,iBAAkBG,EAAe4C,EAAqB5C,aAChQlc,EAAInZ,GAAiBi1B,EAAkBG,GACvCxrH,EAAIo2F,GAAiBk1B,EAAkBG,GAC3C,MAAO,CAAClc,EAAI9zB,GAAeA,GAAe,CAAC,EAAGkyC,GAAU,CAAC,EAAG,CAC1DzuH,KAAMqwG,SACH,EAAQvvG,EAAIy7E,GAAeA,GAAe,CAAC,EAAGsyC,GAAU,CAAC,EAAG,CAC/D7uH,KAAMc,SACH,EACP,CAAE,MAAO+N,GACP,MAAM,IAAI+7E,GAAepC,GAAIQ,MAAOR,GAAIa,UAAUI,KAAM56E,EAC1D,CAIJ,GACC,CACD7F,IAAK,cACLsH,MAAO,SAAqBirF,EAAY8D,EAAYC,EAAeiB,GACjE,IAAIrV,EAAQtsF,KACR68G,EAAS,CAAClgB,EAAY8D,GACtBgwB,EAAQ,kBAAkB7oH,OAAO+5F,GACrCkb,EAAO1nG,SAAQ,SAASglF,GACtB,IAAI4V,EACqC,QAApCA,EAAiB5V,EAAMM,eAAwC,IAAnBsV,GAA6BA,EAAettG,SAC3FguH,GAAS,KAAK7oH,OAAOuyF,EAAMM,QAAQh4F,OAAQ,KAAKmF,OAAOuyF,EAAMz6F,OAASw9F,GAAUxL,MAAQ,QAAU,QAAS,0CAA0C9pF,QAAQuyF,EAAM21B,SAAW31B,EAAMd,WAAWzpC,QAAQ,GAAI,KAAKhoD,QAAQuyF,EAAM41B,SAAW51B,EAAMd,WAAWzpC,QAAQ,GAAI,KAAKhoD,QAAQuyF,EAAM61B,gBAAkB71B,EAAMd,WAAWzpC,QAAQ,KAElU+xC,GAAiBxH,EAAMqI,SACzBlW,EAAM4iC,IAAIhnH,KAAK2X,GAAMm3E,gBAAiB,CACpCt3F,KAAMy6F,EAAMz6F,KACZy6F,QACAu2B,KAAM/yC,GAAe,CACnByc,MAAOD,EAAMC,MACbf,UAAWc,EAAMd,UACjB+K,QAASjK,EAAMiK,SACdjK,EAAMz6F,OAASw9F,GAAUxL,MAAQ,CAClCr3E,MAAO8/E,EAAM9/E,MACbC,OAAQ6/E,EAAM7/E,OACdwvF,SAAU3P,EAAM2P,UACd,CACF1P,MAAOD,EAAMC,MACbR,aAAcO,EAAMP,aACpBW,WAAYJ,EAAMI,cAI1B,IACAxlE,GAAOzkB,MAAMmgH,GACb9zB,EAAWuG,SAAS/tF,SAAQ,SAASjF,GACnC,IAAIxQ,EACJ,OAAQwQ,EAAKxQ,MACX,KAAKo+F,GAAYC,eACfr+F,EAAOmgB,GAAM+3E,gCACb,MACF,KAAKkG,GAAYE,gBACft+F,EAAOmgB,GAAMg4E,2BACb,MACF,KAAKiG,GAAYG,8BACfv+F,EAAOmgB,GAAMo4E,uCACb,MAEAv4F,GACF4sF,EAAM4iC,IAAIhnH,KAAK2X,GAAM83E,iBAAkBha,GAAeA,GAAe,CAAC,EAAGztE,GAAO,CAAC,EAAG,CAClFxQ,UAEJq1B,GAAO7kB,KAAK,kBAAmBA,EACjC,IACAuwF,EAAWyC,SAAS/tF,SAAQ,SAASjF,GACnC,IAAIxQ,EACJ,OAAQwQ,EAAKxQ,MACX,KAAKo+F,GAAYI,gBACfx+F,EAAOmgB,GAAMi4E,2BACb,MACF,KAAKgG,GAAYK,aACfz+F,EAAOmgB,GAAMk4E,iBACb,MACF,KAAK+F,GAAYM,cACf1+F,EAAOmgB,GAAMm4E,qBACb,MAEAt4F,GACF4sF,EAAM4iC,IAAIhnH,KAAK2X,GAAM83E,iBAAkBha,GAAeA,GAAe,CAAC,EAAGztE,GAAO,CAAC,EAAG,CAClFxQ,UAEJq1B,GAAO7kB,KAAK,kBAAmBA,EACjC,IACAysF,EAAWlC,QAAQtlF,SAAQ,SAASulF,GAC9BA,EAAO2S,UACT/gB,EAAM4iC,IAAIhnH,KAAK2X,GAAMi3E,SAAU,CAC7ByH,IAAK7D,EAAO6D,KAGlB,IACAmC,EAAc+B,WAAWttF,SAAQ,SAASyjF,GACxCtM,EAAM4iC,IAAIhnH,KAAK2X,GAAMo3E,IAAKtZ,GAAeA,GAAe,CAAC,EAAGib,GAAM,CAAC,EAAG,CACpE+F,UAAW/F,EAAI+F,UAAY,GAC3B/F,IAAK,CACH3yE,KAAM2yE,EAAIx3F,KAAK1B,KACfunH,QAASruB,EAAIx3F,KAAKS,QAClB+8F,IAAKhG,EAAI2F,OAGf,GACF,KAEK0wB,CACT,CA/JiC,GCC7B0B,GAAY,CAAC,QAASC,GAAa,CAAC,QACpC77F,GAAS,IAAI83D,GAAO,iBACpBgkC,GAAgC,WAClC,SAASC,EAAe5B,GACtB,IAAI5iC,EAAQtsF,KACZgkF,GAAgBhkF,KAAM8wH,GACtBjzC,GAAgB79E,KAAM,aAAc,IAAI8iH,IACxCjlC,GAAgB79E,KAAM,cAAe,MACrC69E,GAAgB79E,KAAM,OAAQ,MAC9B69E,GAAgB79E,KAAM,aAAc,MACpC69E,GAAgB79E,KAAM,kBAAkB,GACxC69E,GAAgB79E,KAAM,oBAAoB,GAC1C69E,GAAgB79E,KAAM,iBAAiB,GACvCA,KAAKkvH,IAAMA,EACPA,EAAI7+G,OAAO0gH,WACb/wH,KAAKgxH,WAAa9B,EAAIlwG,OAEtBhf,KAAKixH,KAAO,IAAI7gC,GAAI,KAAM,CACxBX,UAAWy/B,EAAI7+G,OAAOo/E,YAEpBy/B,EAAI7+G,OAAOvO,KACb9B,KAAKixH,KAAK//B,UAAUg+B,EAAIlwG,OAAOyT,MAAK,SAAS5xB,GAC3CyrF,EAAM4iC,IAAIhnH,KAAKiuF,GAAMM,mBAAoB51F,EAC3C,KAGAquH,EAAI7+G,OAAO6gH,YACblxH,KAAKmxH,WAAW/N,kBAAoB8L,EAAI7+G,OAAO6gH,UAEnD,CA0hBA,OAzhBA9sC,GAAa0sC,EAAgB,CAAC,CAC5B1mH,IAAK,UACLynB,IAAK,WACH,IAAIu/F,EAAmBC,EAAuBC,EAC9C,OAAkD,QAA1CF,EAAoBpxH,KAAKuxH,mBAA+C,IAAtBH,GAAiG,QAAxDC,EAAwBD,EAAkB/B,gBAAgD,IAA1BgC,GAAwG,QAA3DC,EAAyBD,EAAsBpjB,cAA+C,IAA3BqjB,OAA1L,EAAuOA,EAAuB1wB,QACzV,GACC,CACDx2F,IAAK,OACLynB,IAAK,WACH,IAAI2/F,EACJ,OAAmC,QAA5BA,EAAaxxH,KAAKixH,YAAiC,IAAfO,GAAyBA,EAAWzgC,cAExE7qF,OAAOgP,KAAKlV,KAAKixH,KAAKlgC,eAAetuF,OADnC,CAEX,GACC,CACD2H,IAAK,aACLynB,IAAK,WACH,IAAI4/F,EACJ,OAAqC,QAA7BA,EAAczxH,KAAKixH,YAAkC,IAAhBQ,OAAyB,EAASA,EAAYx/B,QAC7F,GACC,CACD7nF,IAAK,eACLynB,IAAK,WACH,IAAI6/F,EACJ,OAAqC,QAA7BA,EAAc1xH,KAAKixH,YAAkC,IAAhBS,OAAyB,EAASA,EAAYC,UAC7F,GACC,CACDvnH,IAAK,cACLynB,IAAK,WACH,IAAI+/F,EACJ,OAAqC,QAA7BA,EAAc5xH,KAAKixH,YAAkC,IAAhBW,OAAyB,EAASA,EAAYpgC,SAC7F,GACC,CACDpnF,IAAK,iBACLsH,MAAO,WACL,IAAImgH,EAAkB9tC,GAAkC/F,KAAsBqE,MAAK,SAASkQ,EAAQvyE,GAClG,OAAOg+D,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASngE,MAC/B,KAAK,EAEH,GADAuC,GAAOzkB,MAAM,kBAAmB0P,IAC3BhgB,KAAKixH,KAAM,CACdt+B,EAASngE,KAAO,EAChB,KACF,CACA,GAAIxyB,KAAKixH,KAAKh/B,SAAU,CACtBU,EAASngE,KAAO,EAChB,KACF,CAEA,OADAmgE,EAASngE,KAAO,EACTxyB,KAAKixH,KAAKjuH,OACnB,KAAK,EAEH,OADA2vF,EAASngE,KAAO,EACTxyB,KAAKixH,KAAKv8D,eAAe10C,GAClC,KAAK,EACH2yE,EAASngE,KAAO,GAChB,MACF,KAAK,EACCxyB,KAAKgxH,aACPhxH,KAAKgxH,WAAWhxG,SAAWA,GAE/B,KAAK,GACL,IAAK,MACH,OAAO2yE,EAAS5f,OAExB,GAAGwf,EAASvyF,KACd,KACA,SAAS00D,EAAehJ,GACtB,OAAOmmE,EAAgB9xH,MAAMC,KAAMC,UACrC,CACA,OAAOy0D,CACT,CArCO,IAsCN,CACDtqD,IAAK,eACLsH,MAAO,SAAsB89G,EAAYC,EAAYh2B,EAAYD,GAC/D,IAAIx5F,KAAK8xH,eAAT,CAEA,IAAIC,EAAQvC,GAAcC,EAC1B,GAAKsC,EAAL,CAEA,GAAIhkB,GAAUyY,MAAMuL,GACb/xH,KAAKuxH,cACRvxH,KAAKuxH,YAAc,IAAIvC,GAAWhvH,KAAKkvH,KAAK,GAAQlvH,KAAKgxH,WAAYhxH,KAAKkvH,IAAI7+G,OAAOswF,kBAClF,KAAImR,GAAU0U,MAAMuL,GA4CzB,MAAM,IAAI/lC,GAAepC,GAAIW,MAAO,KAAM,KAAM,KAAM,sBA3CtD,GAAIvqF,KAAKgxH,WACFhxH,KAAKuxH,cACRvxH,KAAKuxH,YAAc,IAAIvC,GAAWhvH,KAAKkvH,KAAK,EAAM,KAAMlvH,KAAKkvH,IAAI7+G,OAAOswF,kBACrE,CACL3gG,KAAKgyH,eAAgB,EACrB,IAAIC,GAAM,EACNzC,IAAe/1B,GACjBqY,GAAUI,QAAQsd,EAAY,CAAC,OAAQ,SAASr6G,SAAQ,SAASimB,GAC/D,IAAI+2E,EAAML,GAAUI,QAAQ92E,EAAEh6B,KAAM,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,SAAS,GAC9E,GAAI+wG,EAAK,CACP,IAAItxG,EAAIixG,GAAUuD,KAAKlD,GAAKh3E,QAAQ,GACpC,GAAIt6B,EACF,GAAIA,EAAE2pG,KACJ/Q,EAAa54F,EAAE2pG,KAAKpQ,OAAS,uBACxB,GAAIv5F,EAAEo3G,KACXxe,EAAa54F,EAAEo3G,KAAK7d,WACf,GAAIv5F,EAAE05F,YAAc15F,EAAEi3G,KAAM,CACjC,IAAI6E,EACJnjB,GAAqC,QAAtBmjB,EAAU97G,EAAEi3G,YAA8B,IAAZ6E,OAAqB,EAASA,EAAQviB,QAAU,YAC7F63B,GAAM,CACR,CAEJ,CACF,IAEExC,IAAej2B,GACjBsY,GAAUI,QAAQud,EAAY,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,SAASt6G,SAAQ,SAASkgG,GAC/F,IAAIx0G,EAAIixG,GAAUuD,KAAKA,GAAMl6E,QAAQ,GACjCt6B,GAAKA,EAAEi3G,OACTte,EAAa34F,EAAEi3G,KAAK1d,MACxB,IAEEo1B,IAAe/1B,IACjBA,EAAa,eACXg2B,IAAej2B,IACjBA,EAAa,aACXy4B,IACFx4B,GAAc,KAAK7xF,OAAO4xF,GAC1BA,EAAa,IAEfx5F,KAAKkyH,iBAAiBz4B,EAAYD,EACpC,CAGF,CACIx5F,KAAKgxH,aACPhxH,KAAK8xH,gBAAiB,EAnDhB,CAHA,CAuDV,GACC,CACD1nH,IAAK,eACLsH,MAAO,WACL,IAAIygH,EAAgBpuC,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,EAASm/B,EAASzE,EAAc6B,EAAYC,EAAY9tB,EAAeC,EAAYhgE,GAC3K,IACIywF,EAAanpF,EAAGwmF,EAAU4C,EAAuBC,EAAwBxzG,EAAO8F,EAAO2tG,EAAevuF,EAAK0wC,EAAIuxC,EAAWuM,EAAWtM,EAAWuM,EADhJpiC,EAAStwF,KAEb,OAAOg+E,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU7gE,MACjC,KAAK,EACH,GAAuB,OAAfg9F,QAAsC,IAAfA,GAAyBA,EAAW/sH,QAA4B,OAAfgtH,QAAsC,IAAfA,GAAyBA,EAAWhtH,OAAU,CACnJ4wF,EAAU7gE,KAAO,EACjB,KACF,CACA,OAAO6gE,EAAUrS,OAAO,UAC1B,KAAK,EAWH,GAVAqxC,EAAc,WACZ,IAAIM,EAEEC,EAD4B,QAA7BD,EAAariC,EAAO4+B,WAAgC,IAAfyD,GAAyBA,EAAWzqH,OAE7C,QAA9B0qH,EAActiC,EAAO4+B,WAAiC,IAAhB0D,GAAkCA,EAAY1qH,KAAKiuF,GAAMQ,cAAe,CAC7GxlF,MAAOihH,EAAQjhH,MACfE,IAAK+gH,EAAQ/gH,MAGnB,GACKrR,KAAKgyH,cAAe,CACvB3+B,EAAU7gE,KAAO,EACjB,KACF,CAMA,OALA0W,EAAI,GACAsmF,GACFtmF,EAAEliC,KAAKhH,KAAKixH,KAAK7tD,OAAOgtB,GAAIsB,MAAO89B,IACjCC,GACFvmF,EAAEliC,KAAKhH,KAAKixH,KAAK7tD,OAAOgtB,GAAI+M,MAAOsyB,IAC9Bp8B,EAAUrS,OAAO,SAAUz8D,QAAQ8Z,IAAI6K,GAAGzW,KAAK4/F,IACxD,KAAK,EAeH,GAdA3C,EAAW1vH,KAAK6yH,kBAAoBlxB,EACpC2wB,EAAwBtyH,KAAKuxH,YAAYuB,SAAStD,EAAYC,EAAYC,EAAU9tB,EAAYhgE,EAAW5hC,KAAK6yH,kBAAoBlxB,GAAgB4wB,EAAyBpsC,GAAemsC,EAAuB,GAAIvzG,EAAQwzG,EAAuB,GAAI1tG,EAAQ0tG,EAAuB,GACrR9C,GAAc9B,IACC,OAAjBA,QAA0C,IAAjBA,GAAmCA,EAAaoF,eAAc,GAAO,IAE5FtD,GAAc2C,IACJ,OAAZA,QAAgC,IAAZA,GAA8BA,EAAQW,eAAc,GAAM,IAE3EpF,GACS,OAAZyE,QAAgC,IAAZA,GAA8BA,EAAQW,gBAAgBh0G,IAAS8F,GAEjF9F,IAAU8F,GACZ7kB,KAAKkvH,IAAIhnH,KAAK2X,GAAM8uG,iBAEjB3uH,KAAKgxH,WAAY,CACpB39B,EAAU7gE,KAAO,GACjB,KACF,CACAxyB,KAAKgxH,WAAW18B,aAAav1E,EAAO8F,GACpC7kB,KAAK6yH,kBAAmB,EACxBR,IACAh/B,EAAU7gE,KAAO,GACjB,MACF,KAAK,GACH,IAAKxyB,KAAKixH,KAAM,CACd59B,EAAU7gE,KAAO,GACjB,KACF,CAqBA,OApBAggG,GAAiBxyH,KAAK8xH,eAClBU,GACFxyH,KAAKkyH,iBAA2B,OAAVnzG,QAA4B,IAAVA,OAAmB,EAASA,EAAMq7E,MAAiB,OAAVv1E,QAA4B,IAAVA,OAAmB,EAASA,EAAMu1E,OAEvIp6F,KAAK6yH,kBAAmB,EACxB5uF,EAAMjkC,KAAKixH,KACXt8C,EAAK,GACD+6C,IAAa8C,GACfxyH,KAAKgzH,mBAAmBj0G,EAAO8F,GAAO1P,SAAQ,SAAS89G,GACrD,OAAOt+C,EAAG3tE,KAAKisH,EACjB,IAEEl0G,IACFmnG,EAAYnnG,EAAM3d,KAAMqxH,EAAYjtC,GAAyBzmE,EAAO4xG,IACpEh8C,EAAG3tE,KAAKi9B,EAAIm/B,OAAOgtB,GAAIsB,MAAOw0B,EAAWuM,KAEvC5tG,IACFshG,EAAYthG,EAAMzjB,KAAMsxH,EAAYltC,GAAyB3gE,EAAO+rG,IACpEj8C,EAAG3tE,KAAKi9B,EAAIm/B,OAAOgtB,GAAI+M,MAAOgpB,EAAWuM,KAEpCr/B,EAAUrS,OAAO,SAAUz8D,QAAQ8Z,IAAIs2C,GAAIliD,KAAK4/F,IACzD,KAAK,GACL,IAAK,MACH,OAAOh/B,EAAUtgB,OAEzB,GAAGkgB,EAAUjzF,KACf,KACA,SAASs0F,EAAaqB,EAAKC,EAAKC,EAAKouB,EAAKC,EAAKC,EAAK+O,GAClD,OAAOf,EAAcpyH,MAAMC,KAAMC,UACnC,CACA,OAAOq0F,CACT,CA9FO,IA+FN,CACDlqF,IAAK,eACLsH,MAAO,WACL,IAAIyhH,EAAgBpvC,GAAkC/F,KAAsBqE,MAAK,SAAS+S,IACxF,IACIjkF,EAAOE,EAAK2N,EADZqyE,EAASrxF,KACUozH,EAASnzH,UAChC,OAAO+9E,KAAsBU,MAAK,SAAmB8W,GACnD,MAAO,SACGA,EAAU5S,KAAO4S,EAAUhjE,MACjC,KAAK,EAIH,GAHArhB,EAAQiiH,EAAO3wH,OAAS,QAAmB,IAAd2wH,EAAO,GAAgBA,EAAO,GAAK,EAChE/hH,EAAM+hH,EAAO3wH,OAAS,QAAmB,IAAd2wH,EAAO,GAAgBA,EAAO,GAAKjkG,IAC9DnQ,EAAQhf,KAAKkvH,IAAIlwG,SACVhf,KAAKixH,OAASjyG,GAAS7N,EAAQ,GAAKE,EAAMF,GAASA,GAASnR,KAAKixH,KAAKjxG,UAAW,CACtFw1E,EAAUhjE,KAAO,EACjB,KACF,CACA,OAAOgjE,EAAUxU,OAAO,UAC1B,KAAK,EACH,OAAOwU,EAAUxU,OAAO,SAAUhhF,KAAKixH,KAAKoC,YAAYliH,EAAOE,GAAKohB,MAAK,WACvE,OAAO4+D,EAAO69B,IAAIhnH,KAAKiuF,GAAMS,cAAe,CAC1CzlF,QACAE,MACAiiH,UAAWjiH,GAEf,KACF,KAAK,EACL,IAAK,MACH,OAAOmkF,EAAUziB,OAEzB,GAAGqiB,EAAUp1F,KACf,KACA,SAASuzH,IACP,OAAOJ,EAAcpzH,MAAMC,KAAMC,UACnC,CACA,OAAOszH,CACT,CAlCO,IAmCN,CACDnpH,IAAK,cACLsH,MAAO,WACL,IAAI8hH,EAAezvC,GAAkC/F,KAAsBqE,MAAK,SAASoxC,EAASC,GAChG,IAAI10G,EAAOmC,EAAamyG,EAAWniH,EACnC,OAAO6sE,KAAsBU,MAAK,SAAmBi1C,GACnD,MAAO,SACGA,EAAU/wC,KAAO+wC,EAAUnhG,MACjC,KAAK,EAEH,GADAxT,EAAQhf,KAAKkvH,IAAIlwG,MACVhf,KAAKixH,MAASjyG,GAAU00G,KAAgBA,EAAe,GAAI,CAChEC,EAAUnhG,KAAO,EACjB,KACF,CACA,OAAOmhG,EAAU3yC,OAAO,UAC1B,KAAK,EAGH,GAFA7/D,EAAcnC,EAAMmC,YACpBmyG,EAAYnyG,EAAcuyG,IACpBJ,GAAa,GAAI,CACrBK,EAAUnhG,KAAO,EACjB,KACF,CACA,OAAOmhG,EAAU3yC,OAAO,UAC1B,KAAK,EAEH,GADA7vE,EAAQy3E,GAAOz3E,MAAMy3E,GAAO/2D,IAAI7S,MAC1B7N,EAAQ,GAAKmiH,GAAY,CAC7BK,EAAUnhG,KAAO,GACjB,KACF,CACA,OAAOmhG,EAAU3yC,OAAO,UAC1B,KAAK,GACH,OAAO2yC,EAAU3yC,OAAO,SAAUhhF,KAAKuzH,aAAa,EAAGD,IACzD,KAAK,GACL,IAAK,MACH,OAAOK,EAAU5gD,OAEzB,GAAG0gD,EAAUzzH,KACf,KACA,SAAS4zH,EAAYC,GACnB,OAAOL,EAAazzH,MAAMC,KAAMC,UAClC,CACA,OAAO2zH,CACT,CAxCO,IAyCN,CACDxpH,IAAK,iBACLsH,MAAO,WACL,IAAIoiH,EAAkB/vC,GAAkC/F,KAAsBqE,MAAK,SAAS0xC,IAC1F,OAAO/1C,KAAsBU,MAAK,SAAmBs1C,GACnD,MAAO,SACGA,EAAUpxC,KAAOoxC,EAAUxhG,MACjC,KAAK,EACH,IAAKxyB,KAAKixH,KAAM,CACd+C,EAAUxhG,KAAO,EACjB,KACF,CACA,OAAOwhG,EAAUhzC,OAAO,SAAUhhF,KAAKixH,KAAKgD,kBAC9C,KAAK,EACL,IAAK,MACH,OAAOD,EAAUjhD,OAEzB,GAAGghD,EAAU/zH,KACf,KACA,SAASi0H,IACP,OAAOH,EAAgB/zH,MAAMC,KAAMC,UACrC,CACA,OAAOg0H,CACT,CArBO,IAsBN,CACD7pH,IAAK,gBACLsH,MAAO,SAAuBqN,EAAO8F,GACnC,OAAO7kB,KAAKmxH,WAAWtN,QAAQ9kG,EAAO8F,EACxC,GACC,CACDza,IAAK,QACLsH,MAAO,WACL,IAAIwqE,EAAS6H,GAAkC/F,KAAsBqE,MAAK,SAAS6xC,IACjF,IAAIC,EAAUC,EAASn0H,UACvB,OAAO+9E,KAAsBU,MAAK,SAAmB21C,GACnD,MAAO,SACGA,EAAUzxC,KAAOyxC,EAAU7hG,MACjC,KAAK,EAEH,GADA2hG,EAAWC,EAAO3xH,OAAS,QAAmB,IAAd2xH,EAAO,IAAgBA,EAAO,IACxDp0H,KAAKixH,MAASkD,EAAW,CAC7BE,EAAU7hG,KAAO,EACjB,KACF,CAIA,OAHAxyB,KAAKuxH,YAAc,KACnBvxH,KAAK8xH,gBAAiB,EACtBuC,EAAU7hG,KAAO,EACVxyB,KAAKixH,KAAKr+B,cACnB,KAAK,EAEH,OADAyhC,EAAU7hG,KAAO,EACVxyB,KAAKixH,KAAK//B,UAAUlxF,KAAKkvH,IAAIlwG,OACtC,KAAK,EACHhf,KAAK6yH,kBAAmB,EACxB7yH,KAAKgyH,eAAgB,EACvB,KAAK,GACL,IAAK,MACH,OAAOqC,EAAUthD,OAEzB,GAAGmhD,EAAUl0H,KACf,KACA,SAASgyC,IACP,OAAOkqC,EAAOn8E,MAAMC,KAAMC,UAC5B,CACA,OAAO+xC,CACT,CAhCO,IAiCN,CACD5nC,IAAK,cACLsH,MAAO,WACL,IAAI4iH,EAAevwC,GAAkC/F,KAAsBqE,MAAK,SAASkyC,IACvF,OAAOv2C,KAAsBU,MAAK,SAAmB81C,GACnD,MAAO,SACGA,EAAU5xC,KAAO4xC,EAAUhiG,MACjC,KAAK,EACH,IAAKxyB,KAAKixH,KAAM,CACduD,EAAUhiG,KAAO,EACjB,KACF,CACA,IAAKxyB,KAAK8xH,eAAgB,CACxB0C,EAAUhiG,KAAO,EACjB,KACF,CAEA,OADAgiG,EAAUhiG,KAAO,EACVxyB,KAAKixH,KAAKz9B,cACnB,KAAK,EACHxzF,KAAKkvH,IAAIhnH,KAAKiuF,GAAMU,WACtB,KAAK,EACC72F,KAAKgxH,YACPhxH,KAAKgxH,WAAWx9B,cAEpB,KAAK,EACL,IAAK,MACH,OAAOghC,EAAUzhD,OAEzB,GAAGwhD,EAAUv0H,KACf,KACA,SAASwzF,IACP,OAAO8gC,EAAav0H,MAAMC,KAAMC,UAClC,CACA,OAAOuzF,CACT,CAhCO,IAiCN,CACDppF,IAAK,uBACLsH,MAAO,WACL,IAAI+iH,EAAwB1wC,GAAkC/F,KAAsBqE,MAAK,SAASqyC,EAASvjH,EAAOE,GAChH,OAAO2sE,KAAsBU,MAAK,SAAmBi2C,GACnD,MAAO,SACGA,EAAU/xC,KAAO+xC,EAAUniG,MACjC,KAAK,EACCxyB,KAAKixH,MACPjxH,KAAKixH,KAAKh8B,qBAAqB9jF,EAAOE,GAC1C,KAAK,EACL,IAAK,MACH,OAAOsjH,EAAU5hD,OAEzB,GAAG2hD,EAAU10H,KACf,KACA,SAASi1F,EAAqB2/B,EAAMC,GAClC,OAAOJ,EAAsB10H,MAAMC,KAAMC,UAC3C,CACA,OAAOg1F,CACT,CAlBO,IAmBN,CACD7qF,IAAK,cACLsH,MAAO,WACL,IAAIojH,EAAe/wC,GAAkC/F,KAAsBqE,MAAK,SAAS0yC,IACvF,OAAO/2C,KAAsBU,MAAK,SAAmBs2C,GACnD,MAAO,SACGA,EAAUpyC,KAAOoyC,EAAUxiG,MACjC,KAAK,EACH,IAAKxyB,KAAKixH,KAAM,CACd+D,EAAUxiG,KAAO,EACjB,KACF,CAEA,OADAwiG,EAAUxiG,KAAO,EACVxyB,KAAKixH,KAAKr+B,cACnB,KAAK,EACL,IAAK,MACH,OAAOoiC,EAAUjiD,OAEzB,GAAGgiD,EAAU/0H,KACf,KACA,SAASi1H,IACP,OAAOH,EAAa/0H,MAAMC,KAAMC,UAClC,CACA,OAAOg1H,CACT,CAtBO,IAuBN,CACD7qH,IAAK,UACLsH,MAAO,WACL,IAAIwjH,EAAWnxC,GAAkC/F,KAAsBqE,MAAK,SAAS8yC,IACnF,IAAIC,EACJ,OAAOp3C,KAAsBU,MAAK,SAAoB22C,GACpD,MAAO,SACGA,EAAWzyC,KAAOyyC,EAAW7iG,MACnC,KAAK,EAGH,OAFyC,QAAxC4iG,EAAmBp1H,KAAKmxH,kBAA6C,IAArBiE,GAAuCA,EAAiBj1H,UACzGk1H,EAAW7iG,KAAO,EACXxyB,KAAKi1H,cACd,KAAK,EACHj1H,KAAKmxH,WAAa,KAClBnxH,KAAKixH,KAAO,KACZjxH,KAAKgxH,WAAa,KACpB,KAAK,EACL,IAAK,MACH,OAAOqE,EAAWtiD,OAE1B,GAAGoiD,EAAWn1H,KAChB,KACA,SAASG,IACP,OAAO+0H,EAASn1H,MAAMC,KAAMC,UAC9B,CACA,OAAOE,CACT,CAxBO,IAyBN,CACDiK,IAAK,mBACLsH,MAAO,SAA0B+nF,EAAYD,GAC3CzkE,GAAOzkB,MAAM,iCAAiC1I,OAAO6xF,EAAY,iBAAiB7xF,OAAO4xF,IACzF,IAAIv1D,EAAMjkC,KAAKixH,KACVhtF,IAEDw1D,IACFx1D,EAAIgwD,aAAa7D,GAAIsB,MAAO,oBAAoB9pF,OAAO6xF,IACvDz5F,KAAK8xH,gBAAiB,GAEpBt4B,IACFv1D,EAAIgwD,aAAa7D,GAAI+M,MAAO,oBAAoBv1F,OAAO4xF,IACvDx5F,KAAK8xH,gBAAiB,GAExB9xH,KAAKkvH,IAAIhnH,KAAKiuF,GAAMK,sBACtB,GACC,CACDpsF,IAAK,qBACLsH,MAAO,SAA4BqN,EAAO8F,GACxC,IAAIywG,EAAQ,GACRrxF,EAAMjkC,KAAKixH,KACXsE,EAAY,CAAC,CACf71H,KAAM0wF,GAAIsB,MACV6T,OAAkB,OAAVxmF,QAA4B,IAAVA,OAAmB,EAASA,EAAMq7E,OAC3D,CACD16F,KAAM0wF,GAAI+M,MACVoI,OAAkB,OAAV1gF,QAA4B,IAAVA,OAAmB,EAASA,EAAMu1E,QAc9D,OAZAm7B,EAAU/yG,QAAO,SAASvW,GACxB,QAASA,EAAKs5F,MAChB,IAAGpwF,SAAQ,SAAS4kF,GAClB,IAAIr6F,EAAOq6F,EAAKr6F,KAAM6lG,EAASxL,EAAKwL,OAChCiwB,EAAevxF,EAAIwxF,gBAAgB/1H,GACvC,GAAI81H,EAAc,CAChB,IAAIp7B,EAAQmL,EAAO7iG,MAAM,KAAK,GACzB,IAAIsT,OAAOokF,EAAO,MAAM92F,KAAKkyH,EAAa5zH,WAC7C0zH,EAAMtuH,KAAKi9B,EAAI8vD,WAAWr0F,EAAM,GAAGkI,OAAOlI,EAAM,gBAAgBkI,OAAO29F,IAE3E,CACF,IACO+vB,CACT,GACC,CACDlrH,IAAK,iBACLsH,MAAO,WACL1R,KAAK6yH,kBAAmB,CAC1B,GACC,CACDzoH,IAAK,SACLsH,MAAO,WACL,IAAIgkH,EACAjpG,EAAYxsB,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAKmwF,GAAIsB,MACrF,OAAqC,QAA7BgkC,EAAc11H,KAAKixH,YAAkC,IAAhByE,OAAyB,EAASA,EAAY5/B,OAAOrpE,EACpG,KAEKqkG,CACT,CAtjBoC,GCPpC,SAAS6E,GAAUC,GACjB,IAAI52G,GAAiB,OAAR42G,QAAwB,IAARA,OAAiB,EAASA,EAAI52G,QAAUxe,SAASwB,cAAc,SAC5F,OAAO27E,GAAeA,GAAe,CACnCk4C,gBAAiB,GACjBC,WAAY,EACZC,WAAY,IACZC,eAAgB,EAChBC,YAAa,IACbC,oBAAqB,IACrBC,YAAa,GACbpF,YAAY,EACZ2C,aAAc,GACdz6B,gBAAiB,EACjBr3D,UAAW,EACXw0F,eAAe,EACfC,cAAe,GACfC,WAAY,GACZC,0BAA0B,EAC1BC,WAAW,EACXC,aAAc,GACdC,qBAAsB,EACtBjnC,WAAW,EACXknC,oBAAoB,EACpBtG,eAAe,EACf1vB,YAAa,CACXa,kBAAkB,EAClBE,kBAAmB,IAEpBk0B,GAAM,CAAC,EAAG,CACX52G,SAEJ,CChCA,IAAI43G,GAAa,CACfC,MAAO,QACPC,IAAK,OAEHC,GAAe,CACjBC,aAAc,cACdjzF,KAAM,OACN4xC,KAAM,QCLJshD,GAA2B,SAAShrC,GACtC1H,GAAU2yC,EAAWjrC,GACrB,IAAIE,EAASrG,GAAaoxC,GAC1B,SAASA,EAAUp1H,EAAK4uB,EAASvtB,EAAUmjB,GACzC,IAAIgmE,EAYJ,OAXAtI,GAAgBhkF,KAAMk3H,GACtB5qC,EAAQH,EAAOvrF,KAAKZ,KAAMsmB,GAC1Bu3D,GAAgB8H,GAAuB2G,GAAQ,aAAc,GAC7DzO,GAAgB8H,GAAuB2G,GAAQ,aAAa,GAC5DzO,GAAgB8H,GAAuB2G,GAAQ,aAAcsqC,GAAWC,OACxEh5C,GAAgB8H,GAAuB2G,GAAQ,YAAa,GAC5DzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,CAAC,GAC3DA,EAAMxqF,IAAMA,EACZwqF,EAAM57D,QAAUA,EAChB47D,EAAMnpF,SAAWA,EACVmpF,CACT,CACA,OAAOlI,GAAa8yC,EACtB,CAnB+B,CAmBbvvC,GAAiB1uD,QCpB/Bh3B,GAAWiE,OAAOzH,UAAUwD,SAChC,SAASwP,GAASvP,GAChB,OAAa,OAANA,GAA6B,WAAfuhF,GAAQvhF,EAC/B,CACA,SAASi1H,GAAcl7G,GACrB,GAA2B,oBAAvBha,GAASrB,KAAKqb,GAChB,OAAO,EAET,IAAIxd,EAAYyH,OAAOw5E,eAAezjE,GACtC,OAAqB,OAAdxd,GAAsBA,IAAcyH,OAAOzH,SACpD,CACA,SAAS24H,GAAOl1H,GACd,MAA4B,kBAArBD,GAASrB,KAAKsB,EACvB,CCbA,SAASm1H,GAAc3lH,GACrB,GAAKA,GAAsB,OAAbA,EAAM,SAA4B,IAAbA,EAAM,KAA8B,IAAbA,EAAM,IAA0B,OAAbA,EAAM,SAA4B,IAAbA,EAAM,IAAxG,CAGA,IAAIgL,EAAM,SAAWhL,EAAM,GAAK,IAGhC,OAFIA,EAAM,KACRgL,GAAOhL,EAAM,IACRgL,CAJP,CAKF,CACA,SAASo9E,GAAO79E,GACd,OAAOpW,mBAAmBoW,GAAK7W,QAAQ,QAAS,KAAKA,QAAQ,OAAQ,KAAKA,QAAQ,QAAS,KAAKA,QAAQ,OAAQ,KAAKA,QAAQ,QAAS,KAAKA,QAAQ,QAAS,IAC9J,CACA,SAASkyH,GAAax1H,EAAKyzB,GACzB,GAAKzzB,EAAL,CAEA,IAAKyzB,EACH,OAAOzzB,EACT,IAAI2vG,EACAv6F,EAAMhR,OAAOgP,KAAKqgB,GAAQ50B,KAAI,SAAS4tB,GAEzC,GADAkjF,EAAIl8E,EAAOhH,GACD,OAANkjF,QAAoB,IAANA,EAOlB,OALI/wG,MAAMy0B,QAAQs8E,GAChBljF,GAAQ,KAERkjF,EAAI,CAACA,GAEAA,EAAE9wG,KAAI,SAASwd,GAMpB,OALIi5G,GAAOj5G,GACTA,EAAIA,EAAE63D,cACGvkE,GAAS0M,KAClBA,EAAIw3D,KAAKC,UAAUz3D,IAEd,GAAGvW,OAAOkyF,GAAOvrE,GAAI,KAAK3mB,OAAOkyF,GAAO37E,GACjD,IAAG3H,KAAK,IACV,IAAGgM,OAAOy2B,SAASziC,KAAK,KACxB,GAAIU,EAAK,CACP,IAAIqgH,EAAYz1H,EAAIe,QAAQ,MACT,IAAf00H,IACFz1H,EAAMA,EAAI4F,MAAM,EAAG6vH,IAErBz1H,KAA8B,IAAtBA,EAAIe,QAAQ,KAAc,IAAM,KAAOqU,CACjD,CACA,OAAOpV,CA7BC,CA8BV,CACA,SAAS01H,GAAep2H,EAAM+7E,EAAMh6E,EAAUs0H,EAAeC,EAAK91F,EAAW+1F,EAAevmH,EAAOsd,EAAO0f,EAAKwpF,GAC7GF,EAAc,OAARA,QAAwB,IAARA,EAAiB98G,WAAW88G,GAAO,KACzDD,EAAgBn8G,SAASm8G,GAAiB,IAAK,IAC3C3sH,OAAO6M,MAAM8/G,KACfA,EAAgB,GAClB,IAAI3lH,EAAU,CACZ4c,QACA0f,MACAh9B,QACAqmH,gBACAC,MACA91F,YACA+1F,gBACApjC,QAAS7gF,KAAKC,MACdikH,cAEF,MAAO,CACLx2H,OACA+7E,OACArrE,UACA3O,WAEJ,CACA,SAAS00H,GAAeC,EAASC,GAC/B,OAAO5sH,KAAKyM,MAAgB,EAAVkgH,EAAc,IAAMC,EAAc,KACtD,CCjEA,IAAIC,GAAY,QACZC,GAA8B,SAASC,GACzC3zC,GAAU4zC,EAAcD,GACxB,IAAI/rC,EAASrG,GAAaqyC,GAC1B,SAASA,IACP,IAAI7rC,EAiBJ,OAhBAtI,GAAgBhkF,KAAMm4H,GACtB7rC,EAAQH,EAAOvrF,KAAKZ,MACpB69E,GAAgB8H,GAAuB2G,GAAQ,mBAAoB,MACnEzO,GAAgB8H,GAAuB2G,GAAQ,gBAAiB,MAChEzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,MAC1DzO,GAAgB8H,GAAuB2G,GAAQ,YAAa,MAC5DzO,GAAgB8H,GAAuB2G,GAAQ,YAAY,GAC3DzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,SAAU,MACzDzO,GAAgB8H,GAAuB2G,GAAQ,kBAAmB,GAClEzO,GAAgB8H,GAAuB2G,GAAQ,YAAY,GAC3DzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,MAC1DzO,GAAgB8H,GAAuB2G,GAAQ,OAAQ,IACvDzO,GAAgB8H,GAAuB2G,GAAQ,mBAAoB,GACnEzO,GAAgB8H,GAAuB2G,GAAQ,YAAa,MAC5DzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,MACvDA,CACT,CA8YA,OA7YAlI,GAAa+zC,EAAc,CAAC,CAC1B/tH,IAAK,OACLsH,MAAO,SAAcqoF,GACnB,IAAIq+B,EAAuB9nC,EAAStwF,KAChC8B,EAAMi4F,EAAKj4F,IAAKssC,EAAM2rD,EAAK3rD,IAAKnR,EAAU88D,EAAK98D,QAASh6B,EAAe82F,EAAK92F,aAAco1H,EAAat+B,EAAKs+B,WAAYjnH,EAAQ2oF,EAAK3oF,MAAOknH,EAAYv+B,EAAKu+B,UAAWC,EAAWx+B,EAAKw+B,SAAU7pG,EAAQqrE,EAAKrrE,MAAO8pG,EAAoBz+B,EAAKy+B,kBAAmB9nG,EAAUqpE,EAAKrpE,QAAS6E,EAASwkE,EAAKxkE,OAAQR,EAASglE,EAAKhlE,OAAQgrD,EAASga,EAAKha,OAAQ9F,EAAU8f,EAAK9f,QAASp1E,EAAOk1F,EAAKl1F,KAAMqzB,EAAO6hE,EAAK7hE,KAAMugG,EAAc1+B,EAAK0+B,YAAaC,EAAQ3+B,EAAK2+B,MAAOC,EAAW5+B,EAAK4+B,SAAUC,EAAW7+B,EAAK6+B,SAAUC,EAAiB9+B,EAAK8+B,eAAgBC,EAAkB/+B,EAAK++B,gBAAiBlB,EAAa79B,EAAK69B,WACpmB53H,KAAKgkB,QAAU+Q,EACf/0B,KAAK+4H,UAAW,EAChB/4H,KAAKg5H,iBAAmBF,EACxB94H,KAAKi5H,UAAYV,EACjBv4H,KAAKk5H,iBAA8C,qBAApBC,iBAAmC,IAAIA,gBACtEn5H,KAAKo5H,UAAW,EAChBp5H,KAAKihB,OAAS7P,EACdpR,KAAKq5H,OAAS3qG,GAAS,CAAC,EAAG,GAC3B1uB,KAAKs5H,KAAOlrF,GAAOtsC,EACnB9B,KAAKu5H,YAAc3B,GAAc,CAAC,EAClC,IAAIz7F,EAAO,CACT4jD,SACA9F,UACAp1E,OACAqzB,OACAugG,cACAC,QACAC,WACAC,WACAC,iBACAW,OAA4D,QAAnDpB,EAAwBp4H,KAAKk5H,wBAAwD,IAA1Bd,OAAmC,EAASA,EAAsBoB,QAEpIhtC,GAAY,EAChBt5E,aAAalT,KAAKy5H,eAClB33H,EAAMw1H,GAAax1H,EAAKyzB,GACxB,IAAImkG,EAAarC,GAAc3oG,GAC3BgrG,IAEAz/C,EADEvpD,EACQA,EAAQupD,QAER99C,EAAK89C,QAAU99C,EAAK89C,UAAY0/C,QAAU,IAAIA,QAAY,CAAC,GAEnEA,SAAW1/C,aAAmB0/C,QAChC1/C,EAAQ7W,OAAO,QAASs2D,GAExBz/C,EAAQC,MAAQw/C,GAGhBz8F,IACFj9B,KAAKy5H,cAAgBr2H,YAAW,WAG9B,GAFAopF,GAAY,EACZ8D,EAAOz8E,SACHykH,EAAW,CACb,IAAIroH,EAAQ,IAAIgnH,GAASn1H,EAAKq6B,EAAM,KAAM,WAC1ClsB,EAAMu8E,WAAY,EAClB8rC,EAAUroH,EAAO,CACfmB,MAAOk/E,EAAOrvE,OACdyN,MAAO4hE,EAAO+oC,OACdjrF,IAAKkiD,EAAOgpC,KACZ1B,WAAYtnC,EAAOipC,aAEvB,CACF,GAAGt8F,IAEL,IAAI2E,EAAYluB,KAAKC,MAErB,OADA3T,KAAKgkB,QAAQ1T,MAAM,6BAA8Bc,EAAO,UAAWsd,GAC5D,IAAInK,SAAQ,SAASC,EAAS+Y,GACnCq8F,MAAMlpG,GAAW5uB,EAAK4uB,OAAU,EAASyL,GAAM1J,KAAqB,WAClE,IAAIspE,EAAQhY,GAAkC/F,KAAsBqE,MAAK,SAASkQ,EAAQpvF,GACxF,IAAIw0H,EAAev2H,EAAMy7C,EAAU68B,EACnC,OAAOsE,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASngE,MAC/B,KAAK,EAGH,GAFAtf,aAAao9E,EAAOmpC,eACpBnpC,EAAOupC,UAAY12H,GACbmtF,EAAOyoC,UAAazoC,EAAO8oC,SAAW,CAC1CzmC,EAASngE,KAAO,EAChB,KACF,CACA,OAAOmgE,EAAS3R,OAAO,UACzB,KAAK,EAIH,GAHIw3C,IACFr1H,EAAWq1H,EAAkBr1H,EAAUrB,IAAQqB,GAE7CA,EAAS22H,GAAI,CACfnnC,EAASngE,KAAO,EAChB,KACF,CACA,MAAM,IAAIykG,GAASn1H,EAAKq6B,EAAMh5B,EAAU,wBAC1C,KAAK,EAEH,GADAw0H,EAAgBjkH,KAAKC,MACf1Q,IAAiB8zH,GAAahzF,KAAO,CACzC4uD,EAASngE,KAAO,GAChB,KACF,CAEA,OADAmgE,EAASngE,KAAO,GACTrvB,EAASiZ,OAClB,KAAK,GACHhb,EAAOuxF,EAAS9R,KAChByP,EAAO8oC,UAAW,EAClBzmC,EAASngE,KAAO,GAChB,MACF,KAAK,GACH,GAAMvvB,IAAiB8zH,GAAaphD,KAAO,CACzCgd,EAASngE,KAAO,GAChB,KACF,CAEA,OADAmgE,EAASngE,KAAO,GACTrvB,EAAS42H,OAClB,KAAK,GACH34H,EAAOuxF,EAAS9R,KAChByP,EAAO8oC,UAAW,EAClBzmC,EAASngE,KAAO,GAChB,MACF,KAAK,GACH,IAAK6lG,EAAY,CACf1lC,EAASngE,KAAO,GAChB,KACF,CAIA,OAHA89D,EAAO9rE,QAAUA,EACjB8rE,EAAO/yD,OAASA,EAChB+yD,EAAO0pC,WAAW72H,EAAUk1H,EAAYz2F,EAAW+1F,GAC5ChlC,EAAS3R,OAAO,UACzB,KAAK,GAEH,OADA2R,EAASngE,KAAO,GACTrvB,EAAS82H,cAClB,KAAK,GACH74H,EAAOuxF,EAAS9R,KAChBz/E,EAAO,IAAIyC,WAAWzC,GACtBkvF,EAAO8oC,UAAW,EAClBv8E,EAAWnpC,KAAKC,MAAQiuB,EACxB83C,EAAQm+C,GAAez2H,EAAKgzF,WAAYv3C,GACxCyzC,EAAOpoF,KAAKiuF,GAAM/sD,gBAAiB,CACjCswC,QACAjxE,IAAKrH,EAAKgzF,WACVzhF,KAAMkqC,EACNzO,IAAKkiD,EAAOgpC,KACZloH,MAAOk/E,EAAOrvE,OACdyN,MAAO4hE,EAAO+oC,OACdzB,WAAYtnC,EAAOipC,cAEvB,KAAK,GACHjpC,EAAOtsE,QAAQ1T,MAAM,2BAA4Bc,EAAO,UAAWsd,GACnElK,EAAQgzG,GAAep2H,GAAM,EAAM+B,EAAUA,EAAS82E,QAAQpoD,IAAI,kBAAmB1uB,EAAS82E,QAAQpoD,IAAI,OAAQ+P,EAAW+1F,EAAevmH,EAAOsd,EAAO4hE,EAAOgpC,KAAMhpC,EAAOipC,cAChL,KAAK,GACL,IAAK,MACH,OAAO5mC,EAAS5f,OAExB,GAAGwf,EACL,KACA,OAAO,SAAS7mC,GACd,OAAOqwC,EAAMh8F,MAAMC,KAAMC,UAC3B,CACF,CAvFoE,IAuF/DkzB,OAAM,SAASljB,GAClB,IAAIygC,EACJx9B,aAAao9E,EAAOmpC,eACpBnpC,EAAO8oC,UAAW,EACd9oC,EAAOyoC,WAAavsC,IAExBv8E,EAAQA,aAAiBgnH,GAAWhnH,EAAQ,IAAIgnH,GAASn1H,EAAKq6B,EAAM,KAA2B,QAApBuU,EAASzgC,SAA8B,IAAXygC,OAAoB,EAASA,EAAOlgC,SAC3IP,EAAM2xB,UAAYA,EAClB3xB,EAAMskF,QAAU7gF,KAAKC,MACrB1D,EAAMu8E,UAAYA,EAClBv8E,EAAM6B,QAAU,CACdV,MAAOk/E,EAAOrvE,OACdyN,MAAO4hE,EAAO+oC,OACdjrF,IAAKkiD,EAAOgpC,KACZ1B,WAAYtnC,EAAOipC,aAErBh8F,EAAOttB,GACT,GACF,GACF,GACC,CACD7F,IAAK,SACLsH,MAAO,WACL,IAAIwoH,EAAUn2C,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,IAClF,OAAOjV,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU7gE,MACjC,KAAK,EACH,IAAKxyB,KAAK+4H,SAAU,CAClB1lC,EAAU7gE,KAAO,EACjB,KACF,CACA,OAAO6gE,EAAUrS,OAAO,UAC1B,KAAK,EAGH,GAFAhhF,KAAK+4H,UAAW,EAChB/4H,KAAKo5H,UAAW,GACXp5H,KAAK65H,UAAW,CACnBxmC,EAAU7gE,KAAO,GACjB,KACF,CAEA,GADA6gE,EAAUzQ,KAAO,GACZ5iF,KAAKm6H,QAAS,CACjB9mC,EAAU7gE,KAAO,EACjB,KACF,CAEA,OADA6gE,EAAU7gE,KAAO,EACVxyB,KAAKm6H,QAAQtmH,SACtB,KAAK,EACHw/E,EAAU7gE,KAAO,GACjB,MACF,KAAK,GACH6gE,EAAUzQ,KAAO,GACjByQ,EAAU0wB,GAAK1wB,EAAU,SAAS,GACpC,KAAK,GACHrzF,KAAK65H,UAAY75H,KAAKm6H,QAAU,KAClC,KAAK,GACH,GAAIn6H,KAAKk5H,iBAAkB,CACzB,IACEl5H,KAAKk5H,iBAAiBhjC,OACxB,CAAE,MAAOjmF,GACT,CACAjQ,KAAKk5H,iBAAmB,IAC1B,CACIl5H,KAAKi5H,WACPj5H,KAAKi5H,UAAU,CACb7nH,MAAOpR,KAAKihB,OACZyN,MAAO1uB,KAAKq5H,OACZjrF,IAAKpuC,KAAKs5H,KACV1B,WAAY53H,KAAKu5H,cAGvB,KAAK,GACL,IAAK,MACH,OAAOlmC,EAAUtgB,OAEzB,GAAGkgB,EAAUjzF,KAAM,CAAC,CAAC,EAAG,KAC1B,KACA,SAAS6T,IACP,OAAOqmH,EAAQn6H,MAAMC,KAAMC,UAC7B,CACA,OAAO4T,CACT,CA3DO,IA4DN,CACDzJ,IAAK,aACLsH,MAAO,SAAoBvO,EAAUk1H,EAAY+B,EAAIzC,GACnD,IAAItmC,EAASrxF,KACb,IAAKmD,EAAS0B,OAAS1B,EAAS0B,KAAKw1H,UAAW,CAC9Cr6H,KAAKo5H,UAAW,EAChB,IAAI1jH,EAAM,IAAIuhH,GAAS9zH,EAASrB,IAAK,GAAIqB,EAAU,6CAQnD,OAPAuS,EAAI5D,QAAU,CACZV,MAAOpR,KAAKihB,OACZyN,MAAO1uB,KAAKq5H,OACZjrF,IAAKpuC,KAAKs5H,KACV1B,WAAY53H,KAAKu5H,kBAEnBv5H,KAAKu9B,OAAO7nB,EAEd,CACI1V,KAAKg5H,iBAAmB,IAC1Bh5H,KAAKyJ,OAAS,IAAI5F,WAAWm0H,IAC7Bh4H,KAAKs6H,UAAY,GAEnB,IACIl5H,EACAwgC,EACA2yD,EAHA/yF,EAASxB,KAAKm6H,QAAUh3H,EAAS0B,KAAKw1H,YAItCE,EAAuB,WACzB,IAAI79B,EAAQ3Y,GAAkC/F,KAAsBqE,MAAK,SAAS+S,IAChF,IAAIolC,EACAC,EAAYC,EAAWC,EAAQC,EAASC,EAAMh+E,EAAU68B,EAC5D,OAAOsE,KAAsBU,MAAK,SAAmB8W,GACnD,MAAO,SACGA,EAAU5S,KAAO4S,EAAUhjE,MACjC,KAAK,EAIH,OAHAoP,EAAYluB,KAAKC,MACjB6hF,EAAU5S,KAAO,EACjB4S,EAAUhjE,KAAO,EACVhxB,EAAO0vG,OAChB,KAAK,EACH9vG,EAAOo0F,EAAU3U,KACjB0T,EAAU7gF,KAAKC,MACf6hF,EAAUhjE,KAAO,GACjB,MACF,KAAK,EAcH,OAbAgjE,EAAU5S,KAAO,EACjB4S,EAAUuuB,GAAKvuB,EAAU,SAAS,GAClCjB,EAAU7gF,KAAKC,MACV09E,EAAO0nC,WACV1nC,EAAO+nC,UAAW,EAClB5jC,EAAUuuB,GAAGjyG,QAAU,CACrBV,MAAOigF,EAAOpwE,OACdyN,MAAO2iE,EAAOgoC,OACdjrF,IAAKijD,EAAOioC,KACZ1B,WAAYvmC,EAAOkoC,aAErBloC,EAAO9zD,OAAOi4D,EAAUuuB,KAEnBvuB,EAAUxU,OAAO,UAC1B,KAAK,GAGH,GAFAy5C,GAAkD,QAAnCD,EAAgBnpC,EAAOgoC,cAAsC,IAAlBmB,OAA2B,EAASA,EAAc/3H,QAAU,EAAI4uF,EAAOgoC,OAAO,GAAK,EAC7IqB,EAAYD,EAAappC,EAAOypC,iBAC3BzpC,EAAO0nC,SAAU,CACpBvjC,EAAUhjE,KAAO,GACjB,KACF,CAYA,OAXA6+D,EAAO+nC,UAAW,EAClBf,OAAW,GAAQ,EAAO,CACxB3pG,MAAO,CAACgsG,EAAWA,GACnBtsF,IAAKijD,EAAOioC,KACZloH,MAAOigF,EAAOpwE,OACd2gB,YACA2yD,UACA6lC,KACAzC,gBACAC,WAAYvmC,EAAOkoC,aAClBp2H,GACIqyF,EAAUxU,OAAO,UAC1B,KAAK,GACH25C,EAASv5H,EAAKsQ,MAAQtQ,EAAKsQ,MAAM0iF,WAAa,EAC9C/C,EAAOypC,iBAAmBH,EAC1BtpC,EAAOrtE,QAAQ1T,MAAM,sCAAiD+gF,EAAOgoC,OAAQ,WAAYqB,EAAW,SAAUD,EAAappC,EAAOypC,gBAAiB,UAAW15H,EAAK+7E,MACvKkU,EAAO2nC,iBAAmB,EACxB3nC,EAAOipC,UAAYK,GAAUtpC,EAAO2nC,kBAAoB53H,EAAK+7E,MAC/Dy9C,EAAU,IAAI/2H,WAAWwtF,EAAOipC,UAAYK,GAC5CC,EAAQ/yC,IAAIwJ,EAAO5nF,OAAO/B,MAAM,EAAG2pF,EAAOipC,WAAY,GACtDK,EAAS,GAAKC,EAAQ/yC,IAAIzmF,EAAKsQ,MAAO2/E,EAAOipC,WAC7CjpC,EAAOipC,UAAY,EACnBjpC,EAAOrtE,QAAQ1T,MAAM,wCAAmDlP,EAAK+7E,KAAM,QAASy9C,EAAQxmC,WAAY,cAAe/C,EAAOipC,YAElIK,EAAS,GAAKtpC,EAAOipC,UAAYK,EAAS3C,IAC5C3mC,EAAO5nF,OAAOo+E,IAAIzmF,EAAKsQ,MAAO2/E,EAAOipC,WACrCjpC,EAAOipC,WAAaK,EACpBtpC,EAAOrtE,QAAQ1T,MAAM,sCAAiDqqH,EAAQ,cAAetpC,EAAOipC,YAC3FK,EAAS,IAClBE,EAAO,IAAIh3H,WAAWwtF,EAAOipC,UAAYK,EAAS,MAClDtpC,EAAOrtE,QAAQ1T,MAAM,6CAAwD+gF,EAAOipC,UAAYK,EAAS,KAAM,aAAcA,EAAQ,cAAetpC,EAAOipC,WAC3JO,EAAKhzC,IAAIwJ,EAAO5nF,OAAO/B,MAAM,EAAG2pF,EAAOipC,WAAY,GACnDK,EAAS,GAAKE,EAAKhzC,IAAIzmF,EAAKsQ,MAAO2/E,EAAOipC,WAC1CjpC,EAAOipC,WAAaK,SACbtpC,EAAO5nF,OACd4nF,EAAO5nF,OAASoxH,EAChBxpC,EAAOrtE,QAAQ1T,MAAM,0CAAqDqqH,EAAQ,cAAetpC,EAAOipC,YAI5GM,EAAUx5H,EAAKsQ,OAEbkpH,GAAWA,EAAQxmC,WAAa,GAAKhzF,EAAK+7E,OAC5Ck7C,EAAWuC,EAASx5H,EAAK+7E,KAAM,CAC7BzuD,MAAO,CAAC2iE,EAAOgoC,OAAO,GAAKhoC,EAAOypC,iBAAmBF,EAAUA,EAAQxmC,WAAa,GAAI/C,EAAOgoC,OAAO,GAAKhoC,EAAOypC,iBAClH1sF,IAAKijD,EAAOioC,KACZloH,MAAOigF,EAAOpwE,OACd2gB,YACA2yD,UACA6lC,KACAzC,gBACAC,WAAYvmC,EAAOkoC,aAClBp2H,GAEA/B,EAAK+7E,MAGRtgC,EAAWnpC,KAAKC,MAAQymH,EACxB1gD,EAAQm+C,GAAexmC,EAAOypC,gBAAiBj+E,GAC/Cw0C,EAAOnpF,KAAKiuF,GAAM/sD,gBAAiB,CACjCswC,QACAjxE,IAAK4oF,EAAOypC,gBACZnoH,KAAMkqC,EACNzO,IAAKijD,EAAOioC,KACZloH,MAAOigF,EAAOpwE,OACdyN,MAAO2iE,EAAOgoC,OACdzB,WAAYvmC,EAAOkoC,cAErBloC,EAAO+nC,UAAW,EAClB/nC,EAAOrtE,QAAQ1T,MAAM,qCAAsC+gF,EAAOgoC,OAAQ,SAAUj4H,EAAK+7E,MACzFkU,EAAO7sE,QAAQgzG,GAAep2H,GAAM,EAAM+B,EAAUA,EAAS82E,QAAQpoD,IAAI,kBAAmB1uB,EAAS82E,QAAQpoD,IAAI,OAAQuoG,EAAIzC,EAAetmC,EAAOpwE,OAAQowE,EAAOgoC,OAAQhoC,EAAOioC,KAAMjoC,EAAOkoC,eAf9LgB,IAiBJ,KAAK,GACL,IAAK,MACH,OAAO/kC,EAAUziB,OAEzB,GAAGqiB,EAAU,KAAM,CAAC,CAAC,EAAG,IAC1B,KACA,OAAO,WACL,OAAOsH,EAAM38F,MAAMC,KAAMC,UAC3B,CACF,CAxH2B,GAyH3Bs6H,GACF,GACC,CACDnwH,IAAK,aACLynB,IAAK,WACH,OAAO7xB,KAAK86H,eACd,GACC,CACD1wH,IAAK,UACLynB,IAAK,WACH,OAAO7xB,KAAKo5H,QACd,EACAvxC,IAAK,SAAa54D,GAChBjvB,KAAKo5H,SAAWnqG,CAClB,IACE,CAAC,CACH7kB,IAAK,cACLsH,MAAO,WACL,QAA2B,qBAAVkoH,MACnB,KAEKzB,CACT,CArakC,CAqahChxH,KC1aF,SAASwuH,GAAUC,GACjB,OAAOj4C,GAAe,CACpBo9C,WAAYnE,GAAWC,MACvBlkF,MAAO,EACPojF,WAAY,EACZ94F,QAAS,EACTvM,QAAS,KACT4nG,eAAW,EACXD,gBAAY,EACZ2C,kBAAc,EACdC,sBAAkB,EAClBzC,uBAAmB,EACnB0C,oBAAgB,EAChBj4H,aAAc8zH,GAAahzF,KAC3BrV,WAAO,EACP5sB,IAAK,GACLyzB,YAAQ,EACRwqD,OAAQ,MACR9F,QAAS,CAAC,EACVp1E,UAAM,EACNqzB,UAAM,EACNugG,iBAAa,EACbC,WAAO,EACPC,cAAU,EACVC,cAAU,EACVC,oBAAgB,EAChBsC,eAAW,EACXrC,gBAAiB,GAChBlD,EACL,CCzBA,IAAIwF,GAA4B,SAASlD,GACvC3zC,GAAU82C,EAAYnD,GACtB,IAAI/rC,EAASrG,GAAau1C,GAC1B,SAASA,IACP,IAAI/uC,EA6BJ,OA5BAtI,GAAgBhkF,KAAMq7H,GACtB/uC,EAAQH,EAAOvrF,KAAKZ,MACpB69E,GAAgB8H,GAAuB2G,GAAQ,OAAQ,MACvDzO,GAAgB8H,GAAuB2G,GAAQ,YAAY,GAC3DzO,GAAgB8H,GAAuB2G,GAAQ,gBAAiB,MAChEzO,GAAgB8H,GAAuB2G,GAAQ,SAAU,MACzDzO,GAAgB8H,GAAuB2G,GAAQ,kBAAmB,GAClEzO,GAAgB8H,GAAuB2G,GAAQ,OAAQ,MACvDzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,MAC9DzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,WAAY,MAC3DzO,GAAgB8H,GAAuB2G,GAAQ,sBAAuB,KACtEzO,GAAgB8H,GAAuB2G,GAAQ,WAAY,MAC3DzO,GAAgB8H,GAAuB2G,GAAQ,OAAQ,MACvDzO,GAAgB8H,GAAuB2G,GAAQ,mBAAoB,MACnEzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,GAC9DzO,GAAgB8H,GAAuB2G,GAAQ,uBAAwB,MACvEzO,GAAgB8H,GAAuB2G,GAAQ,sBAAuB,MACtEzO,GAAgB8H,GAAuB2G,GAAQ,WAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,WAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,OAAQ,IACvDzO,GAAgB8H,GAAuB2G,GAAQ,qBAAiB,GAChEzO,GAAgB8H,GAAuB2G,GAAQ,oBAAgB,GAC/DzO,GAAgB8H,GAAuB2G,GAAQ,eAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,0BAAsB,GACrEzO,GAAgB8H,GAAuB2G,GAAQ,iBAAa,GAC5DzO,GAAgB8H,GAAuB2G,GAAQ,YAAa,MAC5DzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,MACvDA,CACT,CAyRA,OAxRAlI,GAAai3C,EAAY,CAAC,CACxBjxH,IAAK,OACLsH,MAAO,SAAc4pH,GACnB,IAAIhrC,EAAStwF,KACbkT,aAAalT,KAAKy5H,eAClBz5H,KAAKgkB,QAAUs3G,EAAIvmG,OACnB/0B,KAAKq5H,OAASiC,EAAI5sG,MAClB1uB,KAAKu7H,YAAcD,EAAIjD,WACvBr4H,KAAKihB,OAASq6G,EAAIlqH,MAClBpR,KAAKw7H,SAAWF,EAAIrhD,QACpBj6E,KAAKy7H,iBAAuC,YAApBH,EAAI7C,aAAiD,gBAApB6C,EAAI7C,YAC7Dz4H,KAAK07H,MAAQJ,EAAIz2H,MAAQ,KACzBy2H,EAAIv7C,SAAW//E,KAAK27H,QAAUL,EAAIv7C,QAClC//E,KAAK47H,SAAWN,EAAIr+F,SAAW,KAC/Bj9B,KAAK67H,SAAU,EACf77H,KAAKs5H,KAAOgC,EAAIltF,KAAOktF,EAAIx5H,IAC3B9B,KAAK87H,cAAgBR,EAAIr4H,aACzBjD,KAAK+7H,WAAa,EAClB/7H,KAAKg8H,WAAaV,EAAIhD,UACtBt4H,KAAKi5H,UAAYqC,EAAI/C,SACrBv4H,KAAKi8H,SAAWX,EAAI5qG,QACpB1wB,KAAKu5H,YAAc+B,EAAI1D,YAAc,CAAC,EACtC53H,KAAKgkB,QAAQ1T,MAAM,0BAAqCtQ,KAAKq5H,QAC7Dr5H,KAAKsxF,KAAOgmC,GAAagE,EAAIx5H,IAAKw5H,EAAI/lG,QACtC,IAAIqM,EAAYluB,KAAKC,MACrB,OAAO,IAAI4Q,SAAQ,SAASC,EAAS+Y,GACnC+yD,EAAO4rC,qBAAuB13G,EAC9B8rE,EAAO6rC,oBAAsB5+F,EAC7B+yD,EAAO8rC,YACT,IAAGjpG,OAAM,SAASljB,GAGhB,GAFAiD,aAAao9E,EAAOmpC,eACpBnpC,EAAOurC,SAAU,GACbvrC,EAAOyoC,SAUX,MARA9oH,EAAQA,aAAiBgnH,GAAWhnH,EAAQ,IAAIgnH,GAAS3mC,EAAOgB,KAAMhB,EAAO2rC,UAC7EhsH,EAAM2xB,UAAYA,EAClB3xB,EAAMskF,QAAU7gF,KAAKC,MACrB1D,EAAM6B,QAAU,CACdV,MAAOk/E,EAAOrvE,OACdmtB,IAAKkiD,EAAOgpC,KACZ1B,WAAYtnC,EAAOipC,aAEftpH,CACR,GACF,GACC,CACD7F,IAAK,aACLsH,MAAO,WACL,IAAIgd,EAAQ,KACZ,GAAI1uB,KAAK87H,gBAAkB/E,GAAaC,cAAgBh3H,KAAKq5H,QAAUr5H,KAAKq5H,OAAO52H,OAAS,EAC1F,GAAIzC,KAAKu7H,YAAa,CACpBv7H,KAAK+7H,WAAa,EAClB,IAAIM,EAAuC,KAA3Br8H,KAAKs8H,oBACjB/wH,EAAOvL,KAAKq5H,OAAO,GAAKr5H,KAAK86H,gBAC7B7wF,EAAKjqC,KAAKq5H,OAAO,GACjBgD,EAAYr8H,KAAKq5H,OAAO,GAAK9tH,IAC/B0+B,EAAK1+B,EAAO8wH,GAEd3tG,EAAQ,CAACnjB,EAAM0+B,GACfjqC,KAAKgkB,QAAQ1T,MAAM,wBAAyBtQ,KAAKq5H,OAAQ,eAAgB3qG,EAC3E,MACEA,EAAQ1uB,KAAKq5H,OACbr5H,KAAKgkB,QAAQ1T,MAAM,wBAAyBtQ,KAAKq5H,OAAQ,eAAgB3qG,GAG7E1uB,KAAKu8H,cAAc7tG,EACrB,GACC,CACDtkB,IAAK,gBACLsH,MAAO,SAAuBgd,GAC5B,IAAI2iE,EAASrxF,KACb,IACEA,KAAKw8H,WAAa9oH,KAAKC,MACvB,IAAIqmE,EAAMh6E,KAAKy8H,KAAO,IAAI15H,eAC1Bi3E,EAAIh3E,KAAKhD,KAAK27H,SAAW,MAAO37H,KAAKsxF,MAAM,GAC3CtX,EAAI/2E,aAAejD,KAAK87H,cACxB97H,KAAK47H,WAAa5hD,EAAI/8C,QAAUj9B,KAAK47H,UACrC5hD,EAAI0iD,gBAAkB18H,KAAKy7H,iBAC3BzhD,EAAI92E,OAASlD,KAAK28H,QAAQp8H,KAAKP,MAC/Bg6E,EAAII,mBAAqBp6E,KAAK48H,oBAAoBr8H,KAAKP,MACvDg6E,EAAIl9D,QAAU,SAAS+/G,GACrB,IAAIC,EAAuBC,EAAwBC,EACnD3rC,EAAO+nC,UAAW,EAClB,IAAInpH,EAAQ,IAAIgnH,GAAS5lC,EAAOC,KAAMD,EAAO4qC,SAAyB,OAAfY,QAAsC,IAAfA,GAAwF,QAAtDC,EAAwBD,EAAWI,qBAAqD,IAA1BH,OAAxE,EAAoHA,EAAsB35H,SAAU,uBAAwC,OAAf05H,QAAsC,IAAfA,GAAyF,QAAvDE,EAAyBF,EAAWI,qBAAsD,IAA3BF,OAAzE,EAAsHA,EAAuB9tG,QAAU,gBAAiC,OAAf4tG,QAAsC,IAAfA,GAAyF,QAAvDG,EAAyBH,EAAWI,qBAAsD,IAA3BD,OAAzE,EAAsHA,EAAuBE,aACvqBjtH,EAAM6B,QAAU,CACdV,MAAOigF,EAAOpwE,OACdyN,MAAO2iE,EAAOgoC,OACdjrF,IAAKijD,EAAOioC,KACZ1B,WAAYvmC,EAAOkoC,aAErBloC,EAAO8qC,oBAAoBlsH,EAC7B,EACA+pE,EAAImjD,UAAY,SAASv2H,GACvByqF,EAAOx9E,SACP,IAAI5D,EAAQ,IAAIgnH,GAAS5lC,EAAOC,KAAMD,EAAO4qC,SAAU,CACrDhtG,OAAQ,KACP,WACCoiE,EAAO2qC,aACT/rH,EAAMu8E,WAAY,EAClB6E,EAAO2qC,WAAW/rH,EAAO,CACvBmB,MAAOigF,EAAOpwE,OACdyN,MAAO2iE,EAAOgoC,OACdjrF,IAAKijD,EAAOioC,KACZ1B,WAAYvmC,EAAOkoC,eAGvBtpH,EAAM6B,QAAU,CACdV,MAAOigF,EAAOpwE,OACdyN,MAAO2iE,EAAOgoC,OACdjrF,IAAKijD,EAAOioC,KACZ1B,WAAYvmC,EAAOkoC,aAErBloC,EAAO8qC,oBAAoBlsH,EAC7B,EACA,IAAIgqE,EAAUj6E,KAAKw7H,UAAY,CAAC,EAC5B9B,EAAarC,GAAc3oG,GAC3BgrG,IACFz/C,EAAQC,MAAQw/C,GAEdz/C,GACF/zE,OAAOgP,KAAK+kE,GAAS9kE,SAAQ,SAASoZ,GACpCyrD,EAAIG,iBAAiB5rD,EAAG0rD,EAAQ1rD,GAClC,IAEFvuB,KAAKgkB,QAAQ1T,MAAM,qBAAsBtQ,KAAKq5H,OAAQ,oBAAqB3qG,GAC3EsrD,EAAI32E,KAAKrD,KAAK07H,MAChB,CAAE,MAAO76H,GACPA,EAAEiR,QAAU,CACVV,MAAOpR,KAAKihB,OACZyN,QACA0f,IAAKpuC,KAAKs5H,KACV1B,WAAY53H,KAAKu5H,aAEnBv5H,KAAKm8H,oBAAoBt7H,EAC3B,CACF,GACC,CACDuJ,IAAK,sBACLsH,MAAO,SAA6B7Q,GAClC,IAAIm5E,EAAMn5E,EAAEE,OACW,IAAnBi5E,EAAIl0D,YACN9lB,KAAK+7H,UAAY,IAAM/7H,KAAK+7H,UAAYroH,KAAKC,MAEjD,GACC,CACDvJ,IAAK,UACLsH,MAAO,SAAiB7Q,GACtB,IAAIu8H,EACAnuG,EAASpuB,EAAEE,OAAOkuB,OACtB,GAAIA,EAAS,KAAOA,EAAS,IAAK,CAChC,IAAIhf,EAAQ,IAAIgnH,GAASj3H,KAAKsxF,KAAM,KAAM3T,GAAeA,GAAe,CAAC,EAAG98E,EAAEE,OAAOoC,UAAW,CAAC,EAAG,CAClG8rB,WACE,uBAAyBA,GAO7B,OANAhf,EAAM6B,QAAU,CACdV,MAAOpR,KAAKihB,OACZyN,MAAO1uB,KAAKq5H,OACZjrF,IAAKpuC,KAAKs5H,KACV1B,WAAY53H,KAAKu5H,aAEZv5H,KAAKm8H,oBAAoBlsH,EAClC,CACA,IAEIotH,EAFAj8H,EAAO,KACP+7E,GAAO,EAEPs9C,GAA+C,QAAhC2C,EAAep9H,KAAKq5H,cAAqC,IAAjB+D,OAA0B,EAASA,EAAa36H,QAAU,EAAIzC,KAAKq5H,OAAO,GAAK,EAC1I,GAAIr5H,KAAK87H,gBAAkB/E,GAAaC,aAAc,CACpD,IAAIsG,EACAvL,EAAQ,IAAIluH,WAAWhD,EAAEE,OAAOoC,UAEpC,GADAk6H,EAAY5C,EAAaz6H,KAAK86H,gBAC1B/I,GAASA,EAAM39B,WAAa,EAAG,CACjCp0F,KAAK86H,iBAAmB/I,EAAM39B,WAC9B,IAAIv3C,EAAWnpC,KAAKC,MAAQ3T,KAAKw8H,WAC7B9iD,EAAQm+C,GAAe73H,KAAK86H,gBAAiBj+E,GACjD78C,KAAKkI,KAAKiuF,GAAM/sD,gBAAiB,CAC/BswC,QACAjxE,IAAKzI,KAAK86H,gBACVnoH,KAAMkqC,EACNzO,IAAKpuC,KAAKs5H,KACVloH,MAAOpR,KAAKihB,OACZyN,MAAO,CAAC2uG,EAAW5C,EAAaz6H,KAAK86H,iBACrClD,WAAY53H,KAAKu5H,aAErB,CACAn4H,EAAO2wH,EAEL50C,KADqC,QAAjCmgD,EAAgBt9H,KAAKq5H,cAAsC,IAAlBiE,OAA2B,EAASA,EAAc76H,QAAU,GAAKzC,KAAKq5H,OAAO,IAAMr5H,KAAK86H,gBAAkB96H,KAAKq5H,OAAO,GAAKr5H,KAAKq5H,OAAO,IAKtLr5H,KAAKgkB,QAAQ1T,MAAM,4BAA6BtQ,KAAKq5H,OAAQ,UAAWgE,EAAW,OAAQ5C,EAAaz6H,KAAK86H,gBAAiB,YAAa/I,EAAQA,EAAM39B,WAAa,EAAG,kBAAmBp0F,KAAK86H,gBAAiB,UAAW96H,KAAKihB,OAAQ,UAAWk8D,EACvP,MACEA,GAAO,EACP/7E,EAAOP,EAAEE,OAAOoC,SAElB,IAAIA,EAAW,CACb22H,GAAI7qG,GAAU,KAAOA,EAAS,IAC9BA,SACAiuG,WAAYl9H,KAAKy8H,KAAKS,WACtBp7H,IAAK9B,KAAKy8H,KAAKc,YACftjD,QAASj6E,KAAKw9H,YAAYx9H,KAAKy8H,MAC/B53H,KAAM7E,KAAKy8H,KAAKt5H,UAEdnD,KAAKy9H,qBACPt6H,EAAWnD,KAAKy9H,mBAAmBt6H,EAAUnD,KAAKsxF,OAASnuF,GAEzDnD,KAAKu7H,aACPv7H,KAAKu7H,YAAYn6H,EAAM+7E,EAAM,CAC3B/rE,MAAOpR,KAAKihB,OACZmtB,IAAKpuC,KAAKs5H,KACV5qG,MAAO,CAAC2uG,EAAW5C,EAAaz6H,KAAK86H,iBACrCl5F,UAAW5hC,KAAKw8H,WAChBjoC,QAAS7gF,KAAKC,MACdikH,WAAY53H,KAAKu5H,aAChBp2H,GAEAg6E,GAGHn9E,KAAK67H,SAAU,EACf77H,KAAKk8H,sBAAwBl8H,KAAKk8H,qBAAqB1E,GAAex3H,KAAKu7H,YAAc,KAAOn6H,EAAM+7E,EAAMh6E,EAAUA,EAAS82E,QAAQ,kBAAmB92E,EAAS82E,QAAQy9C,IAAK13H,KAAKw8H,WAAYx8H,KAAK+7H,UAAW/7H,KAAKihB,OAAQjhB,KAAKq5H,OAAQr5H,KAAKs5H,KAAMt5H,KAAKu5H,eAH3Pv5H,KAAKo8H,YAKT,GACC,CACDhyH,IAAK,SACLsH,MAAO,WACL,IAAI1R,KAAK+4H,SAaT,OAXA/4H,KAAK+4H,UAAW,EAChB/4H,KAAK67H,SAAU,EACf5zC,GAAKtD,GAAgB02C,EAAW58H,WAAY,qBAAsBuB,MAAMY,KAAKZ,MACzEA,KAAKi5H,WACPj5H,KAAKi5H,UAAU,CACb7nH,MAAOpR,KAAKihB,OACZyN,MAAO1uB,KAAKq5H,OACZjrF,IAAKpuC,KAAKs5H,KACV1B,WAAY53H,KAAKu5H,cAGjBv5H,KAAKy8H,KACAz8H,KAAKy8H,KAAKvmC,aADnB,CAGF,GACC,CACD9rF,IAAK,aACLynB,IAAK,WACH,OAAO7xB,KAAK86H,eACd,GACC,CACD1wH,IAAK,UACLynB,IAAK,WACH,OAAO7xB,KAAKo5H,QACd,EACAvxC,IAAK,SAAa54D,GAChBjvB,KAAKo5H,SAAWnqG,CAClB,GACC,CACD7kB,IAAK,cACLsH,MAAO,SAAqBsoE,GAC1B,IAEyD7mB,EAFrDuqE,EAAc1jD,EAAI2jD,wBAAwB9iH,OAAOnY,MAAM,QACvDu3E,EAAU,CAAC,EACXwrC,EAAYr9B,GAA2Bs1C,GAC3C,IACE,IAAKjY,EAAU7oE,MAAOuW,EAAQsyD,EAAU5+B,KAAK1J,MAAQ,CACnD,IAAIygD,EAASzqE,EAAMzhD,MACfzN,EAAQ25H,EAAOl7H,MAAM,MACzBu3E,EAAQh2E,EAAM,GAAGie,eAAiBje,EAAMyD,MAAM,GAAG8O,KAAK,KACxD,CACF,CAAE,MAAOd,GACP+vG,EAAU5kH,EAAE6U,EACd,CAAE,QACA+vG,EAAUlgH,GACZ,CACA,OAAO00E,CACT,IACE,CAAC,CACH7vE,IAAK,cACLsH,MAAO,WACL,MAAiC,qBAAnB3O,cAChB,KAEKs4H,CACT,CA5TgC,CA4T9Bl0H,KC5TEwpH,GAAY,CAAC,QAAS,aAAc,eAAgB,kBACpDkN,GAAuB,WACzB,SAASC,EAAMp+H,EAAM2Q,GACnB2zE,GAAgBhkF,KAAM89H,GACtB99H,KAAKqvF,QAAUF,KACfnvF,KAAK+9H,QAAU1tH,EAAOgoH,YACrBhoH,EAAO0kB,SAAW1kB,EAAO0kB,OAAS,IAAI83D,GAAO,WAC9C7sF,KAAKg+H,YAAct+H,EACnBM,KAAKi+H,QAAUv+H,IAASk3H,GAAWC,OAA0B,qBAAV+C,MAAwB,IAAI3B,GAAgB,IAAImD,GACnGp7H,KAAKixF,QAAU5gF,EACfrQ,KAAKk+H,YAAc,EACnBl+H,KAAKm+H,YAAc,KACnBn+H,KAAKo+H,WAAY,EACjBp+H,KAAKq+H,gBAAkBhuH,EAAOiuH,eAC9Bt+H,KAAKgkB,QAAU3T,EAAO0kB,MACxB,CA2GA,OA1GAqvD,GAAa05C,EAAO,CAAC,CACnB1zH,IAAK,OACLsH,MAAO,WACL,IAAI46E,EAAQtsF,KACRu+H,EAAgBv+H,KAAKixF,QAASt+C,EAAQ4rF,EAAc5rF,MAAOojF,EAAawI,EAAcxI,WAAYiF,EAAeuD,EAAcvD,aAAcE,EAAiBqD,EAAcrD,eAAgBsD,EAAOh5C,GAAyB+4C,EAAe5N,IAC3OjgG,EAA0B,WAC5B,IAAIqpE,EAAOhW,GAAkC/F,KAAsBqE,MAAK,SAASkQ,IAC/E,IAAIpvF,EAAU8M,EAAOwuH,EACrB,OAAOzgD,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASngE,MAC/B,KAAK,EAGH,OAFAmgE,EAAS/P,KAAO,EAChB+P,EAASngE,KAAO,EACT85D,EAAM2xC,QAAQrwG,KAAK4wG,GAC5B,KAAK,EACHr7H,EAAWwvF,EAAS9R,KACpByL,EAAM+C,QAAQ7qE,QAAQrhB,GACtBwvF,EAASngE,KAAO,GAChB,MACF,KAAK,EAKH,GAJAmgE,EAAS/P,KAAO,EAChB+P,EAASoxB,GAAKpxB,EAAS,SAAS,GAChCrG,EAAM2xC,QAAQS,SAAU,EACxBpyC,EAAMtoE,QAAQ1T,MAAM,2BAA4BqiF,EAASoxB,KACpDz3B,EAAM8xC,UAAW,CACpBzrC,EAASngE,KAAO,GAChB,KACF,CACA,OAAOmgE,EAAS3R,OAAO,UACzB,KAAK,GAmBH,GAlBA2R,EAASoxB,GAAGgX,WAAazuC,EAAM0xC,YAC/BrrC,EAASoxB,GAAG+R,WAAaxpC,EAAM4xC,YAC/BjuH,EAAQ0iF,EAASoxB,GACbmX,IACFjrH,EAAQirH,EAAejrH,IAAUA,GAE/B+qH,GAAgB1uC,EAAM4xC,YAAc,GACtClD,EAAa/qH,EAAOq8E,EAAM4xC,YAAa,CACrC9sH,MAAOotH,EAAKptH,MACZg9B,IAAKowF,EAAKpwF,IACV1f,MAAO8vG,EAAK9vG,MACZkpG,WAAY4G,EAAK5G,aAErBtrC,EAAM4xC,cACNO,GAAU,EACNnyC,EAAM+xC,kBACRI,EAAUnyC,EAAM+xC,gBAAgB1rC,EAASoxB,OAErC0a,GAAWnyC,EAAM4xC,aAAevrF,GAAQ,CAC5CggD,EAASngE,KAAO,GAChB,KACF,CAIA,OAHAtf,aAAao5E,EAAM6xC,aACnB7xC,EAAMtoE,QAAQ1T,MAAM,kCAAmCg8E,EAAM4xC,YAAa,gBAAiBM,EAAK9vG,OAChG49D,EAAM6xC,YAAc/6H,WAAWstB,EAASqlG,GACjCpjC,EAAS3R,OAAO,UACzB,KAAK,GACHsL,EAAM+C,QAAQ9xD,OAAOttB,GACvB,KAAK,GACL,IAAK,MACH,OAAO0iF,EAAS5f,OAExB,GAAGwf,EAAS,KAAM,CAAC,CAAC,EAAG,IACzB,KACA,OAAO,WACL,OAAOwH,EAAKh6F,MAAMC,KAAMC,UAC1B,CACF,CA/D8B,GAiE9B,OADAywB,IACO1wB,KAAKqvF,OACd,GACC,CACDjlF,IAAK,SACLsH,MAAO,WACL,IAAIwoH,EAAUn2C,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,IAClF,OAAOjV,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU7gE,MACjC,KAAK,EAIH,OAHAtf,aAAalT,KAAKm+H,aAClBn+H,KAAKo+H,WAAY,EACjBp+H,KAAKi+H,QAAQS,SAAU,EAChBrrC,EAAUrS,OAAO,SAAUhhF,KAAKi+H,QAAQpqH,UACjD,KAAK,EACL,IAAK,MACH,OAAOw/E,EAAUtgB,OAEzB,GAAGkgB,EAAUjzF,KACf,KACA,SAAS6T,IACP,OAAOqmH,EAAQn6H,MAAMC,KAAMC,UAC7B,CACA,OAAO4T,CACT,CApBO,IAqBN,CACDzJ,IAAK,UACLynB,IAAK,WACH,OAAO7xB,KAAKi+H,SAAWj+H,KAAKi+H,QAAQS,OACtC,GACC,CACDt0H,IAAK,SACLynB,IAAK,WACH,OAAO7xB,KAAKi+H,OACd,KAEKH,CACT,CA1H2B,GCGvBa,GAA4B,SAASzG,GACvC3zC,GAAUq6C,EAAY1G,GACtB,IAAI/rC,EAASrG,GAAa84C,GAC1B,SAASA,EAAWhJ,GAClB,IAAItpC,EAcJ,OAbAtI,GAAgBhkF,KAAM4+H,GACtBtyC,EAAQH,EAAOvrF,KAAKZ,KAAM41H,GAC1B/3C,GAAgB8H,GAAuB2G,GAAQ,OAAQsqC,GAAWC,OAClEh5C,GAAgB8H,GAAuB2G,GAAQ,SAAU,IACzDzO,GAAgB8H,GAAuB2G,GAAQ,SAAU,IACzDzO,GAAgB8H,GAAuB2G,GAAQ,eAAgB,MAC/DzO,GAAgB8H,GAAuB2G,GAAQ,aAAc,IAC7DzO,GAAgB8H,GAAuB2G,GAAQ,eAAW,GAC1DA,EAAM2E,QAAU0kC,GAAUC,GACtBtpC,EAAM2E,QAAQ8pC,aAAenE,GAAWE,KAAQmB,GAAYx6F,gBAC9D6uD,EAAM5sF,KAAOk3H,GAAWE,KAE1BxqC,EAAM37E,IAAMilH,EAAI7gG,OACTu3D,CACT,CAsGA,OArGAlI,GAAaw6C,EAAY,CAAC,CACxBx0H,IAAK,UACLsH,MAAO,WACL,OAAO1R,KAAKN,OAASk3H,GAAWC,KAClC,GACC,CACDzsH,IAAK,OACLsH,MAAO,SAAc5P,GACnB,IAAIwuF,EAAStwF,KACTqQ,EAASpQ,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC5D,kBAAR6B,GAAqBA,EAG9BuO,EAASvO,EAFTuO,EAAOvO,IAAMA,GAAOuO,EAAOvO,KAAO9B,KAAKixF,QAAQnvF,IAIjDuO,EAASnK,OAAO+lB,OAAO,CAAC,EAAGjsB,KAAKixF,QAAS5gF,GACrCA,EAAOklB,SACTllB,EAAOklB,OAASrvB,OAAO+lB,OAAO,CAAC,EAAG5b,EAAOklB,SACvCllB,EAAO4pE,SAAWk9C,GAAc9mH,EAAO4pE,WACzC5pE,EAAO4pE,QAAU/zE,OAAO+lB,OAAO,CAAC,EAAG5b,EAAO4pE,UACxC5pE,EAAOxL,MAAQsyH,GAAc9mH,EAAOxL,QACtCwL,EAAOxL,KAAOqB,OAAO+lB,OAAO,CAAC,EAAG5b,EAAOxL,OACrCwL,EAAO4qH,mBACT5qH,EAASA,EAAO4qH,iBAAiB5qH,IAAWA,GAE9CA,EAAO0kB,OAAS/0B,KAAK2Q,IACrB,IAAIsiH,EAAO,IAAI4K,GAAK79H,KAAKN,KAAM2Q,GAQ/B,OAPA4iH,EAAK91F,OAAOt0B,GAAGstF,GAAM/sD,iBAAiB,SAAShoC,GAC7CkvF,EAAOpoF,KAAKiuF,GAAM/sD,gBAAiBhoC,EACrC,IACApB,KAAKwwF,OAAOxpF,KAAKisH,GACU,IAAvBjzH,KAAKwwF,OAAO/tF,QAAkBzC,KAAK6+H,cAAiB7+H,KAAK6+H,aAAaH,SACxE1+H,KAAK8+H,eAEA7L,EAAK5jC,OACd,GACC,CACDjlF,IAAK,SACLsH,MAAO,WACL,IAAIwoH,EAAUn2C,GAAkC/F,KAAsBqE,MAAK,SAASkQ,IAClF,IAAIwsC,EACJ,OAAO/gD,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASngE,MAC/B,KAAK,EAYH,OAXAusG,EAAU/+H,KAAKwwF,OAAO7vF,KAAI,SAASy6B,GACjC,OAAOA,EAAEvnB,QACX,IAAGjM,OAAO5H,KAAKg/H,OAAOr+H,KAAI,SAASy6B,GACjC,OAAOA,EAAEvnB,QACX,KACI7T,KAAK6+H,cACPE,EAAQ/3H,KAAKhH,KAAK6+H,aAAahrH,UAEjC7T,KAAKwwF,OAAS,GACdxwF,KAAKg/H,OAAS,GACdrsC,EAASngE,KAAO,EACTjO,QAAQ8Z,IAAI0gG,GACrB,KAAK,EAEH,OADApsC,EAASngE,KAAO,EACTgmE,KACT,KAAK,EACL,IAAK,MACH,OAAO7F,EAAS5f,OAExB,GAAGwf,EAASvyF,KACd,KACA,SAAS6T,IACP,OAAOqmH,EAAQn6H,MAAMC,KAAMC,UAC7B,CACA,OAAO4T,CACT,CAhCO,IAiCN,CACDzJ,IAAK,eACLsH,MAAO,WACL,IAAI2/E,EAASrxF,KAEb,GADAA,KAAK6+H,aAAe7+H,KAAKwwF,OAAOjW,QAC3Bv6E,KAAK6+H,aAAV,CAEI7+H,KAAK6+H,aAAad,OACpB/9H,KAAKg/H,OAAOh4H,KAAKhH,KAAK6+H,cAExB,IAAIvD,EAAMt7H,KAAK6+H,aAAax7G,OAAO8P,OAAM,SAAStyB,GAClD,IACMy6H,GAA8B,oBAAhBA,EAAI2D,SAExB3D,EAAI2D,SAAQ,WACV,IAAIC,EAAqBC,EAC2B,QAA/CD,EAAsB7tC,EAAOwtC,oBAAkD,IAAxBK,GAAkCA,EAAoBnB,QAA8C,QAAnCoB,EAAgB9tC,EAAO2tC,cAAsC,IAAlBG,OAA2B,EAASA,EAAc18H,QAAU,IAClO4uF,EAAO2tC,OAAS3tC,EAAO2tC,OAAOx8G,QAAO,SAASywG,GAC5C,OAAOA,GAAQA,IAAS5hC,EAAOwtC,YACjC,KAEFxtC,EAAOytC,cACT,GAhBQ,CAiBV,IACE,CAAC,CACH10H,IAAK,iBACLsH,MAAO,WACL,OAAOumH,GAAYx6F,aACrB,KAEKmhG,CACT,CA1HgC,CA0H9Bz3H,KCnIEi4H,GAAiCh7C,IAAa,SAASi7C,IACzDr7C,GAAgBhkF,KAAMq/H,GACtBxhD,GAAgB79E,KAAM,UAAW,GACjC69E,GAAgB79E,KAAM,UAAW,IACjC69E,GAAgB79E,KAAM,YAAY,EACpC,IACIs/H,GAAY,CACdC,MAAO,QACPC,MAAO,QACPC,SAAU,WACVC,eAAgB,mBAEdC,GAAa,CACfC,UAAW,kBACXC,SAAU,CAAC,gDAAiD,kCAC5DC,SAAU,CAAC,gDAAiD,qBAAsB,gBAClFC,UAAW,CAAC,gDAAiD,4BAE/D,SAASC,GAAU1jH,GAEjB,IADA,IAAII,EAAM,GACD/Y,EAAI,EAAGA,EAAI2Y,EAAI7Z,OAAQkB,IAC1BjD,MAAMy0B,QAAQ7Y,EAAI3Y,IACpB+Y,EAAMA,EAAI9U,OAAOo4H,GAAU1jH,EAAI3Y,KAE/B+Y,EAAI1V,KAAKsV,EAAI3Y,IAGjB,OAAO+Y,CACT,CACA,IAAIujH,GAA8B77C,IAAa,SAAS87C,IACtDl8C,GAAgBhkF,KAAMkgI,GACtBriD,GAAgB79E,KAAM,KAAM,GAC5B69E,GAAgB79E,KAAM,MAAO,IAC7B69E,GAAgB79E,KAAM,WAAW,GACjC69E,GAAgB79E,KAAM,cAAc,GACpC69E,GAAgB79E,KAAM,UAAU,GAChC69E,GAAgB79E,KAAM,QAAS,IAC/B69E,GAAgB79E,KAAM,OAAQ,IAC9B69E,GAAgB79E,KAAM,OAAQ,IAC9B69E,GAAgB79E,KAAM,WAAY,IAClC69E,GAAgB79E,KAAM,QAAS,EACjC,IACImgI,GAA8B,SAASC,GACzC77C,GAAU87C,EAAcD,GACxB,IAAIj0C,EAASrG,GAAau6C,GAC1B,SAASA,IACP,IAAI/zC,EACJtI,GAAgBhkF,KAAMqgI,GACtB,IAAK,IAAIr/G,EAAO/gB,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMsgB,GAAOqsE,EAAO,EAAGA,EAAOrsE,EAAMqsE,IAC/E7kF,EAAK6kF,GAAQptF,UAAUotF,GAKzB,OAHAf,EAAQH,EAAOvrF,KAAKb,MAAMosF,EAAQ,CAACnsF,MAAM4H,OAAOY,IAChDq1E,GAAgB8H,GAAuB2G,GAAQ,YAAagzC,GAAUC,OACtE1hD,GAAgB8H,GAAuB2G,GAAQ,WAAY,GACpDA,CACT,CACA,OAAOlI,GAAai8C,EACtB,CAfkC,CAehCJ,IACEK,GAAiC,SAASC,GAC5Ch8C,GAAUi8C,EAAiBD,GAC3B,IAAIE,EAAU36C,GAAa06C,GAC3B,SAASA,IACP,IAAInvC,EACJrN,GAAgBhkF,KAAMwgI,GACtB,IAAK,IAAI3yC,EAAQ5tF,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMmtF,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFtlF,EAAKslF,GAAS7tF,UAAU6tF,GAI1B,OAFAuD,EAASovC,EAAQ7/H,KAAKb,MAAM0gI,EAAS,CAACzgI,MAAM4H,OAAOY,IACnDq1E,GAAgB8H,GAAuB0L,GAAS,YAAaiuC,GAAUG,UAChEpuC,CACT,CACA,OAAOjN,GAAao8C,EACtB,CAdqC,CAcnCP,IACES,GAA+Bt8C,IAAa,SAASu8C,IACvD38C,GAAgBhkF,KAAM2gI,GACtB9iD,GAAgB79E,KAAM,KAAM,GAC5B69E,GAAgB79E,KAAM,UAAW,GACjC69E,GAAgB79E,KAAM,QAAS,GAC/B69E,GAAgB79E,KAAM,SAAU,GAChC69E,GAAgB79E,KAAM,OAAQ,IAC9B69E,GAAgB79E,KAAM,MAAO,IAC7B69E,GAAgB79E,KAAM,aAAc,IACpC69E,GAAgB79E,KAAM,aAAc,IACpC69E,GAAgB79E,KAAM,YAAa,IACnC69E,GAAgB79E,KAAM,aAAc,IACpC69E,GAAgB79E,KAAM,eAAgB,IACtC69E,GAAgB79E,KAAM,kBAAmB,IACzC69E,GAAgB79E,KAAM,uBAAwB,GAChD,IACI4gI,GAAgCx8C,IAAa,SAASy8C,IACxD78C,GAAgBhkF,KAAM6gI,GACtBhjD,GAAgB79E,KAAM,UAAW,GACjC69E,GAAgB79E,KAAM,MAAO,IAC7B69E,GAAgB79E,KAAM,OAAQ,IAC9B69E,GAAgB79E,KAAM,UAAW,GACjC69E,GAAgB79E,KAAM,QAAS,GAC/B69E,GAAgB79E,KAAM,UAAW,GACjC69E,GAAgB79E,KAAM,QAAS,GAC/B69E,GAAgB79E,KAAM,gBAAiB,GACvC69E,GAAgB79E,KAAM,iBAAkB,GACxC69E,GAAgB79E,KAAM,qBAAsB,GAC5C69E,GAAgB79E,KAAM,eAAgB,GACtC69E,GAAgB79E,KAAM,qBAAqB,GAC3C69E,GAAgB79E,KAAM,kBAAmB,GACzC69E,GAAgB79E,KAAM,kBAAkB,GACxC69E,GAAgB79E,KAAM,eAAgB,GACtC69E,GAAgB79E,KAAM,QAAQ,GAC9B69E,GAAgB79E,KAAM,cAAc,GACpC69E,GAAgB79E,KAAM,eAAgB,GACtC69E,GAAgB79E,KAAM,WAAY,IAClC69E,GAAgB79E,KAAM,aAAc,CAAC,GACrC69E,GAAgB79E,KAAM,kBAAmB,EAC3C,IACI8gI,GAA+B,WACjC,SAASC,EAAcC,GACrBh9C,GAAgBhkF,KAAM+gI,GACtBljD,GAAgB79E,KAAM,KAAM,GAC5B69E,GAAgB79E,KAAM,KAAM,GAC5B69E,GAAgB79E,KAAM,MAAO,IAC7B69E,GAAgB79E,KAAM,YAAa,IACnC69E,GAAgB79E,KAAM,QAAS,IAC/B69E,GAAgB79E,KAAM,QAAS,GAC/B69E,GAAgB79E,KAAM,WAAY,GAClC69E,GAAgB79E,KAAM,WAAY,IAClC69E,GAAgB79E,KAAM,MAAO,MAC7B69E,GAAgB79E,KAAM,YAAa,MACnC69E,GAAgB79E,KAAM,iBAAiB,GACvC69E,GAAgB79E,KAAM,cAAe,MACrC69E,GAAgB79E,KAAM,UAAU,GAChC69E,GAAgB79E,KAAM,YAAY,GAClC69E,GAAgB79E,KAAM,YAAY,GAClC69E,GAAgB79E,KAAM,eAAe,GACrC69E,GAAgB79E,KAAM,YAAa,GACnCA,KAAKghI,UAAYA,CACnB,CA2BA,OA1BA58C,GAAa28C,EAAe,CAAC,CAC3B32H,IAAK,MACLynB,IAAK,WACH,OAAO7xB,KAAKmR,MAAQnR,KAAKggB,QAC3B,GACC,CACD5V,IAAK,gBACLsH,MAAO,SAAuB+/F,EAAGvvG,GAC/BlC,KAAK6tH,SAAWpc,EAChBzxG,KAAK8tH,SAAW5rH,CAClB,GACC,CACDkI,IAAK,eACLsH,MAAO,SAAsBtQ,EAAM6/H,GACjCjhI,KAAKkhI,UAAY,CAAC,GAClB,IAAIC,EAAQ//H,EAAKsB,MAAM,KACF,IAAjBy+H,EAAM1+H,QAAgBw+H,GAAeA,EAAYC,WACnDlhI,KAAKkhI,UAAU,GAAKD,EAAYC,UAAU,IAAM,EAC5ClhI,KAAKkhI,UAAU,KACjBlhI,KAAKkhI,UAAU,IAAM,IAEvBlhI,KAAKkhI,UAAU,GAAK5lH,SAAS6lH,EAAM,IAErCnhI,KAAKkhI,UAAU,GAAKlhI,KAAKkhI,UAAU,GAAK5lH,SAAS6lH,EAAM,IAAM,CAC/D,KAEKJ,CACT,CAjDmC,GAkD/BK,GAAkC,WACpC,SAASC,EAAiBC,GACxBt9C,GAAgBhkF,KAAMqhI,GACtBxjD,GAAgB79E,KAAM,SAAU,IAChC69E,GAAgB79E,KAAM,MAAO,IAC7B69E,GAAgB79E,KAAM,KAAM,MAC5B69E,GAAgB79E,KAAM,YAAa,IACnC69E,GAAgB79E,KAAM,oBAAqB,IACvCshI,aAAkBD,IACpBrhI,KAAK+/E,OAASuhD,EAAOvhD,OACrB//E,KAAK8B,IAAMw/H,EAAOx/H,IAClB9B,KAAKuhI,UAAYD,EAAOC,UACxBvhI,KAAKwhI,kBAAoBF,EAAOE,kBAC5BF,EAAOprB,KACTl2G,KAAKk2G,GAAK,IAAIryG,WAAWy9H,EAAOprB,KAEtC,CAoDA,OAnDA9xB,GAAai9C,EAAkB,CAAC,CAC9Bj3H,IAAK,QACLsH,MAAO,SAAe+vH,GACpB,IAAIr3H,EAAM,IAAIi3H,EAAiBrhI,MAG/B,OAFW,OAAPyhI,QAAsB,IAAPA,GACjBr3H,EAAIs3H,YAAYD,GACXr3H,CACT,GACC,CACDA,IAAK,cACLsH,MAAO,SAAqB+vH,GAC1B,IAAKzhI,KAAKk2G,IAAsB,YAAhBl2G,KAAK+/E,QAAsC,kBAAP0hD,GAAmBzhI,KAAK8B,IAAK,CAC/E9B,KAAKk2G,GAAK,IAAIryG,WAAW,IACzB,IAAK,IAAIF,EAAI,GAAIA,EAAI,GAAIA,IACvB3D,KAAKk2G,GAAGvyG,GAAK89H,GAAM,GAAK,GAAK99H,GAAK,GAEtC,CACF,GACC,CACDyG,IAAK,qBACLsH,MAAO,WACL,IAAIquE,EAAS//E,KAAK+/E,OAClB,MAAkB,YAAXA,CACT,GACC,CACD31E,IAAK,mBACLsH,MAAO,WACL,IAAIiwH,EAAmB3B,GAAU,CAACL,GAAWC,UAAWD,GAAWE,SAAUF,GAAWG,SAAUH,GAAWI,YAAYl9H,QAAQ7C,KAAKuhI,YAAc,EACpJ,IAAKI,EACH,OAAO,EAET,IAAIC,EAAgB,CAAC,aAAc,kBAAmB,kBAAkB/+H,QAAQ7C,KAAK+/E,SAAW,EAChG,QAAK6hD,CAIP,GACC,CACDx3H,IAAK,cACLsH,MAAO,WACL,QAAK1R,KAAK+/E,WAGN//E,KAAK6hI,wBAEE7hI,KAAK8hI,mBAIlB,KAEKT,CACT,CArEsC,GCpKlCU,GAAa,0BACbC,GAAc,yCACdC,GAAsB,8BACtBC,GAAkB,mDACtB,SAASC,GAAS/lH,GAChB,OAAOA,EAAK1Z,MAAM,UAAU/B,KAAI,SAASwd,GACvC,OAAOA,EAAEtD,MACX,IAAG2H,OAAOy2B,QACZ,CACA,SAASmpF,GAAShmH,GAChB,IAAIM,EAAMN,EAAKrG,MAAMgsH,IACrB,GAAKrlH,GAAQA,EAAI,GAEjB,MAAO,CAACA,EAAI,GAAGtX,QAAQ,SAAU,IAAKsX,EAAI,GAC5C,CACA,SAAS2lH,GAAUjmH,GACjB,IAAIM,EAAM,CAAC,EACP3G,EAAQisH,GAAY3+G,KAAKjH,GAC7B,MAAOrG,EACL2G,EAAI3G,EAAM,IAAMA,EAAM,IAAMA,EAAM,GAClCA,EAAQisH,GAAY3+G,KAAKjH,GAE3B,OAAOM,CACT,CACA,SAAS4lH,GAAexgI,EAAKk/H,GAC3B,IAAKA,IAAcl/H,GAAOmgI,GAAoB3+H,KAAKxB,GACjD,OAAOA,EACT,IAAIygI,EAAQL,GAAgB7+G,KAAK29G,GACjC,OAAKuB,EAEU,MAAXzgI,EAAI,GACCygI,EAAM,GAAKzgI,EACbygI,EAAM,GAAKA,EAAM,GAAKzgI,EAHpBA,CAIX,CACA,IAAI0gI,GAAgB,CAClB39G,MAAO,CAAC,QAAS,WAAY,SAAU,SAAU,aACjD9F,MAAO,CAAC,OAAQ,OAAQ,OAAQ,YAAa,SAC7C3C,KAAM,CAAC,QAAS,QAAS,UAE3B,SAASqmH,GAAU/iI,EAAM6lG,GACvB,IAAIm9B,EAAKF,GAAc9iI,GACvB,GAAKgjI,GAAOn9B,GAAWA,EAAO9iG,OAE9B,IAAK,IAAIkB,EAAI,EAAGA,EAAI++H,EAAGjgI,OAAQkB,IAC7B,IAAK,IAAIiF,EAAI,EAAGA,EAAI28F,EAAO9iG,OAAQmG,IACjC,GAAI85H,EAAG/+H,GAAGL,KAAKiiG,EAAO38F,IACpB,OAAO28F,EAAO38F,EAGtB,CACA,SAAS+5H,GAAiB5rG,EAAM6rG,GAC9B,IAAIC,EACJ,GAAID,EACF,IAAK,IAAIx4H,KAAOw4H,EACd,GAAI18H,OAAOzH,UAAU0H,eAAevF,KAAKgiI,EAAqBx4H,IAAQ2sB,EAAK3sB,KAASw4H,EAAoBx4H,GAAM,CAC5Gy4H,EAAqBz4H,EACrB,KACF,CAGJ,IAAI4V,EAAW,KACX+W,EAAK+rG,WACP9iH,EAAWpF,WAAWmc,EAAK+rG,UACtBh4H,OAAOy5F,SAASvkF,GAEV+W,EAAKgsG,WACd/iH,GAAY+W,EAAKgsG,SAASxjH,UAAYwX,EAAKisG,WAAWzjH,WAAa,KAFnES,EAAW,MAKf,IAAIijH,EAAMC,GAAqBnsG,EAAKosG,KAAOpsG,EAAK,SAAU,CACxDjE,KAAK,EACLswG,MAAM,EACN38H,MAAM,IAER,QAASswB,EAAKssG,KAAOR,GAAsB/3H,OAAOy5F,SAASxtE,EAAKisG,WAAWzjH,aAA4B,OAAbS,GAAqBA,GAAY,OAA8B,QAArB+W,EAAKusG,gBAA4BvsG,EAAKwsG,UAAYxsG,EAAKosG,MAAQF,EAAInwG,MAAQmwG,EAAIG,MAAQH,EAAInwG,MAAQmwG,EAAIG,UAA2B,+BAAfrsG,EAAKwsG,QAA2C,gBAAiBxsG,GAAQ,iBAAkBA,EACpV,CACA,SAASmsG,GAAqBM,EAAWC,GACvC,OAAQD,EAAYA,EAAU9gI,MAAM,SAAW,IAAIymF,QAAO,SAASpjF,EAAQ+8C,GAEzE,OADA/8C,EAAO+8C,EAAW5gC,gBAAiB,EAC5Bnc,CACT,GAAG09H,EACL,CC9EA,SAASC,GAAoBC,EAAO3C,GAClC,IAEI3yF,EAFAu1F,EAAS,IAAIxE,GACbhuH,EAAQ,EAERyyH,EAAe,GACfC,EAAkB,GACtB,MAAOz1F,EAAOs1F,EAAMvyH,KAAU,CAC5B,IAAI+lB,EAAMirG,GAAS/zF,GACnB,GAAKlX,EAAL,CAEA,IAAI4sG,EAAO59C,GAAehvD,EAAK,GAAI3vB,EAAOu8H,EAAK,GAAI3iI,EAAO2iI,EAAK,GAC/D,GAAa,YAATv8H,EACFo8H,EAAOtgH,QAAUhI,SAASla,QACrB,GAAa,UAAToG,GAAoBpG,EAAM,CACnC,IAAI21B,EAAOsrG,GAAUjhI,GACjB4iI,OAAS,EACb,OAAQjtG,EAAKktG,MACX,IAAK,QACHD,EAAS,IAAI7D,GACb,MACF,IAAK,YACH6D,EAAS,IAAI1D,GACb,MACF,QACE0D,EAAS,IAAI/D,GAEjB+D,EAAOliI,IAAMwgI,GAAevrG,EAAKmtG,IAAKlD,GACtCgD,EAAO3mG,QAA2B,QAAjBtG,EAAK8H,QACtBmlG,EAAOG,WAAiC,QAApBptG,EAAKqtG,WACzBJ,EAAOt1C,MAAQ33D,EAAK,YACpBitG,EAAOx8H,KAAOuvB,EAAKstG,KACnBL,EAAO5vH,KAAO2iB,EAAKutG,SACfvtG,EAAKwtG,WACPP,EAAOQ,SAAW15H,OAAOisB,EAAKwtG,SAAS7hI,MAAM,KAAK,IAC9CoI,OAAO6M,MAAMqsH,EAAOQ,YACtBR,EAAOQ,SAAW,IAEJ,UAAdztG,EAAKktG,MAAoBltG,EAAKmtG,KAChCL,EAAa78H,KAAKg9H,GAEF,cAAdjtG,EAAKktG,MACPH,EAAgB98H,KAAKg9H,EAEzB,MAAO,GAAa,eAATx8H,GAAyBpG,EAAM,CACxC,IAAIqjI,EAAU,IAAI/D,GACdgE,EAAQrC,GAAUjhI,GAItB,GAHAqjI,EAAQnzF,QAAUh2B,SAASopH,EAAM,sBAAwBA,EAAMC,WAC/DF,EAAQj9H,KAAOk9H,EAAML,KACrBI,EAAQ3iI,IAAMwgI,GAAeqB,EAAMvyH,KAAU4vH,GACzC0D,EAAME,WAAY,CACpB,IAAIC,EAAwBH,EAAME,WAAWliI,MAAM,KAAMoiI,EAAyB3+C,GAAe0+C,EAAuB,GAAIrqH,EAAIsqH,EAAuB,GAAIrqH,EAAIqqH,EAAuB,GACtLL,EAAQpqH,MAAQiB,SAASd,GACzBiqH,EAAQnqH,OAASgB,SAASb,EAC5B,CACA,GAAIiqH,EAAMK,OAAQ,CAChB,IAAIx/B,EAASm/B,EAAMK,OAAOriI,MAAM,SAAS8f,OAAOy2B,SAChDwrF,EAAQhrC,WAAagpC,GAAU,QAASl9B,GACxCk/B,EAAQjrC,WAAaipC,GAAU,QAASl9B,GACxCk/B,EAAQO,UAAYvC,GAAU,OAAQl9B,EACxC,CACAk/B,EAAQQ,WAAaP,EAAMvnC,MAC3BsnC,EAAQS,cAAgBR,EAAMS,UAC9BvB,EAAOwB,QAAQp+H,KAAKy9H,EACtB,CAtDU,CAuDZ,CA4BA,OA3BAb,EAAOwB,QAAQjwH,SAAQ,SAASynC,EAAGj5C,GACjCi5C,EAAExvC,GAAKzJ,CACT,IACIkgI,EAAaphI,SACfohI,EAAa1uH,SAAQ,SAASynC,EAAGj5C,GAC/Bi5C,EAAExvC,GAAKzJ,CACT,IACAigI,EAAOwB,QAAQjwH,SAAQ,SAASkwH,GAC1BA,EAAQJ,aACVI,EAAQxB,aAAeA,EAAarhH,QAAO,SAASrE,GAClD,OAAOA,EAAEuwE,QAAU22C,EAAQJ,UAC7B,IAEJ,KAEEnB,EAAgBrhI,SAClBqhI,EAAgB3uH,SAAQ,SAASynC,EAAGj5C,GAClCi5C,EAAExvC,GAAKzJ,CACT,IACAigI,EAAOwB,QAAQjwH,SAAQ,SAASkwH,GAC1BA,EAAQH,gBACVG,EAAQvB,gBAAkBA,EAAgBthH,QAAO,SAASrE,GACxD,OAAOA,EAAEuwE,QAAU22C,EAAQH,aAC7B,IAEJ,KAEKtB,CACT,CC7FA,SAAS0B,GAAmB3B,EAAO3C,EAAW5K,GAC5C,IAAIp3G,EAAQ,IAAI4hH,GAChB5hH,EAAMld,IAAMk/H,EACZ,IAOI3yF,EAPAk3F,EAAa,IAAIzE,GAAaE,GAC9BwE,EAAiB,KACjBC,EAAS,KACTnV,EAAgB,EAChBoV,EAAQ,EACRC,EAAQ,EACRv0H,EAAQ,EAERw0H,GAAY,EACZC,EAAmB,EACvB,MAAOx3F,EAAOs1F,EAAMvyH,KAClB,GAAgB,MAAZi9B,EAAK,GAAT,CAiBA,IAAIlX,EAAMirG,GAAS/zF,GACnB,GAAKlX,EAAL,CAEA,IAAI4sG,EAAO59C,GAAehvD,EAAK,GAAI3vB,EAAOu8H,EAAK,GAAI3iI,EAAO2iI,EAAK,GAC/D,OAAQv8H,GACN,IAAK,UACHwX,EAAMsE,QAAUhI,SAASla,GACzB,MACF,IAAK,gBACH4d,EAAMtf,KAAgB,OAAT0B,QAA0B,IAATA,OAAkB,EAASA,EAAKmsB,cAC9D,MACF,IAAK,iBACHvO,EAAM8mH,eAAiBlrH,WAAWxZ,GAClC,MACF,IAAK,WAEGg1H,IACFp3G,EAAM+mH,YAAa,GAErB,IAAIhvG,EAAOsrG,GAAUjhI,GACjB21B,EAAK,iBACP/X,EAAMgnH,mBAAqBprH,WAAWmc,EAAK,iBAG/C,MACF,IAAK,iBAED,IAAI2tG,EAAQrC,GAAUjhI,GACtB4d,EAAMinH,eAA+C,QAA9BvB,EAAM,oBAC7B1lH,EAAMknH,aAAetrH,WAAW8pH,EAAM,mBAAqB,GAC3D1lH,EAAMmnH,aAAevrH,WAAW8pH,EAAM,mBAAqB,GAC3D1lH,EAAMonH,kBAAqD,QAAjC1B,EAAM,uBAElC,MACF,IAAK,UAEDkB,GAAY,EAEd,MACF,IAAK,iBACHF,EAAQ1mH,EAAMqnH,QAAU/qH,SAASla,GACjC,MACF,IAAK,yBACHukI,EAAQ3mH,EAAMsnH,QAAUhrH,SAASla,GACjC,MACF,IAAK,gBACHukI,IACA,MACF,IAAK,YACHJ,EAAWgB,aAAanlI,EAAM4d,EAAM+B,SAAS/B,EAAM+B,SAASte,OAAS,IACrE,MACF,IAAK,OAED,IAAKuc,EAAM+mH,WACT,MACF,IAAIS,EAASnE,GAAUjhI,GACvBmkI,EAAWvlH,SAAWpF,WAAW4rH,EAAO,aACxCjB,EAAWkB,YAAwC,QAA1BD,EAAO,eAChCjB,EAAW9D,GAAKiE,EAChBH,EAAWmB,GAAKf,EAChBJ,EAAWoB,UAAYd,EACvBN,EAAWp0H,MAAQm/G,EACnBiV,EAAWvlH,SAAWpF,WAAW4rH,EAAO,aACxClW,GAAiBiV,EAAWvlH,SAC5BulH,EAAWzjI,IAAMwgI,GAAekE,EAAO,OAAQxF,GAC3CyE,IACFF,EAAWn7H,IAAMq7H,EAAOmB,MAAMlB,IAC5BF,IACFD,EAAW9X,YAAc+X,GAC3BxmH,EAAM+B,SAAS/Z,KAAKu+H,GACpBA,EAAa,IAAIzE,GAAaE,GAC9B6E,IAEF,MACF,IAAK,eACH,MACF,IAAK,oBACHN,EAAWsB,SAAWzlI,EACtB,MACF,IAAK,SAED,GAAI4d,EAAM+mH,WAAY,CACpBF,EAAmB,EACnB,KACF,CACA,IAAIiB,EAAc1lI,EAAKsB,MAAM,KAAMqkI,EAAe5gD,GAAe2gD,EAAa,GAAI9mH,EAAW+mH,EAAa,GAAI95H,EAAQ85H,EAAa,GACnIxB,EAAWp0H,MAAQm/G,EACnBiV,EAAWvlH,SAAWpF,WAAWoF,GACjCswG,GAAiBiV,EAAWvlH,SAC5BulH,EAAWt4H,MAAQA,EAErB,MACF,IAAK,MAED,IAAI+5H,EAAS3E,GAAUjhI,GACvB,GAAsB,SAAlB4lI,EAAOC,OAAmB,CAC5BxB,EAAS,KACT,KACF,CAMA,GALAA,EAAS,IAAIrE,GACbqE,EAAO1lD,OAASinD,EAAOC,OACvBxB,EAAO3jI,IAAM,SAASwB,KAAK0jI,EAAO9C,KAAO8C,EAAO9C,IAAM5B,GAAe0E,EAAO9C,IAAKlD,GACjFyE,EAAOlE,UAAYyF,EAAOE,WAAa,WACvCzB,EAAOjE,kBAAoBwF,EAAOG,mBAC7B1B,EAAOhoG,cACV,MAAM,IAAIxE,MAAM,WAAWrxB,OAAOo/H,EAAOC,OAAQ,KAAKr/H,OAAOo/H,EAAOE,UAAW,sBAEjF,GAAIF,EAAOI,GAAI,CACb,IAAIlwH,EAAM8vH,EAAOI,GAAG1/H,MAAM,GAC1BwP,GAAoB,EAAbA,EAAIzU,OAAa,IAAM,IAAMyU,EACpCuuH,EAAOvvB,GAAK,IAAIryG,WAAWqT,EAAIzU,OAAS,GACxC,IAAK,IAAIkB,EAAI,EAAGoE,EAAImP,EAAIzU,OAAS,EAAGkB,EAAIoE,EAAGpE,IACzC8hI,EAAOvvB,GAAGvyG,GAAK2X,SAASpE,EAAIxP,MAAU,EAAJ/D,EAAW,EAAJA,EAAQ,GAAI,GAEzD,CAEF,MACF,IAAK,MAED,IAAI0jI,EAAShF,GAAUjhI,GACvBmkI,EAAWzjI,IAAMwgI,GAAe+E,EAAOnD,IAAKlD,GACxCqG,EAAOC,WACT/B,EAAWgB,aAAac,EAAOC,WACjC/B,EAAWgC,eAAgB,EAC3BhC,EAAW9D,GAAK,EACZgE,IACFF,EAAWn7H,IAAMq7H,EAAOmB,MAAM,IAEhCpB,EAAiBD,EACjBA,EAAa,IAAIzE,GAAaE,GAEhC,MACF,IAAK,OAED,IAAIwG,EAASnF,GAAUjhI,GACnBqmI,EAAkBnsH,SAASksH,EAAO,oBAAqB,IACvDC,GAAmB38H,OAAO48H,mBAC5B1oH,EAAMyoH,iBAAmBA,GAG7B,MACF,IAAK,YAED,IAAIE,EAAStF,GAAUjhI,GACnBwhI,EAAsB5jH,EAAM4oH,WAAWD,EAAOtE,IAClDsE,EAAO3E,WAAaJ,EAAsBA,EAAoBI,WAAa,IAAItvH,KAAKi0H,EAAO,eAC3F,IAAIE,GAAmC,OAAxBjF,QAAwD,IAAxBA,OAAiC,EAASA,EAAoBG,WAAa,IAAIrvH,KAAKi0H,EAAOG,UACtIh9H,OAAOy5F,SAASsjC,KAClBF,EAAO5E,SAAW8E,IAEhBlF,GAAiBgF,EAAQ/E,IAAwB5jH,EAAMyoH,mBACzDzoH,EAAM4oH,WAAWD,EAAOtE,IAAMsE,GAGlC,MAxJM,CAHV,KAhBA,CACE,GAAI3oH,EAAM+mH,WAAY,CACpBL,IACA,QACF,CACAH,EAAW9D,GAAKiE,EAChBH,EAAWmB,GAAKf,EAChBJ,EAAWzjI,IAAMwgI,GAAej0F,EAAM2yF,GAClCyE,IACFF,EAAWn7H,IAAMq7H,EAAOmB,MAAMlB,IAC5BF,IACFD,EAAW9X,YAAc+X,GAC3BxmH,EAAM+B,SAAS/Z,KAAKu+H,GACpBA,EAAa,IAAIzE,GAAaE,GAC9B0E,GAEF,CA8JF1mH,EAAM+B,SAAW/B,EAAM+B,SAASyB,QAAO,SAASrE,GAC9C,OAAsB,IAAfA,EAAE6B,QACX,IACA,IAAI+nH,EAAc/oH,EAAM+B,SAAS/B,EAAM+B,SAASte,OAAS,GAazD,OAZIslI,IACEnC,IACFmC,EAAYC,QAAS,GAEvBhpH,EAAMipH,MAAQF,EAAYtG,GAC1BziH,EAAMkpH,aAAeH,EAAYpB,WAE/Bf,IACF5mH,EAAMmpH,MAAO,GAEfnpH,EAAMsxG,cAAgBA,EACtBtxG,EAAMopH,MAAQzC,EACP3mH,CACT,CC5MA,IAAIqpH,GAA6B,WAC/B,SAASC,IACPtkD,GAAgBhkF,KAAMsoI,EACxB,CAqBA,OApBAlkD,GAAakkD,EAAa,KAAM,CAAC,CAC/Bl+H,IAAK,QACLsH,MAAO,WACL,IAAI0K,EAAOnc,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,GACxE+gI,EAAY/gI,UAAUwC,OAAS,EAAIxC,UAAU,QAAK,EAClDm2H,EAAgBn2H,UAAUwC,OAAS,EAAIxC,UAAU,QAAK,EAC1D,IAAKmc,EAAK8yE,SAAS,WACjB,MAAM,IAAIj2D,MAAM,qBAClB,IAAI0qG,EAAQxB,GAAS/lH,GACrB,OAAIksH,EAAYC,gBAAgBnsH,GACvBkpH,GAAmB3B,EAAO3C,EAAW5K,GAEvCsN,GAAoBC,EAAO3C,EACpC,GACC,CACD52H,IAAK,kBACLsH,MAAO,SAAyB0K,GAC9B,OAAOA,EAAK8yE,SAAS,aAAe9yE,EAAK8yE,SAAS,yBACpD,KAEKo5C,CACT,CAzBiC,GCA7BE,GAAiC,WACnC,SAASC,EAAgBvZ,GACvB,IAAI5iC,EAAQtsF,KACZgkF,GAAgBhkF,KAAMyoI,GACtB5qD,GAAgB79E,KAAM,iBAAiB,SAASo1B,EAAKtzB,GACnD,IAAIqB,EAAWiyB,EAAIjyB,SAAU2O,EAAUsjB,EAAItjB,QACvCioF,EAAOjoF,GAAW,CAAC,EAAG6lH,EAAgB59B,EAAK49B,cAAe/1F,EAAYm4D,EAAKn4D,UAAW2yD,EAAUwF,EAAKxF,QAASkjC,EAAgB19B,EAAK09B,cACnI9kH,EAAO4hF,EAAU3yD,EACrB0qD,EAAM4iC,IAAIhnH,KAAKiuF,GAAMoB,MAAO,CAC1B5kF,OACAyhF,WAAYqjC,EACZ31H,QAEFwqF,EAAM4iC,IAAIhnH,KAAKiuF,GAAMG,cAAe,CAClCx0F,MACA4mI,QAAS/1H,GAAQ,IAEnB25E,EAAM4iC,IAAIhnH,KAAKiuF,GAAMC,KAAM,CACzBt0F,MACA04F,YAAar3F,EAASrB,IACtB4mI,QAAS/Q,EAAgB/1F,IAE3B0qD,EAAM4iC,IAAIhnH,KAAKiuF,GAAME,sBAAuB,CAC1Cpc,QAAS92E,EAAS82E,QAClBn4E,OAEJ,IACA+7E,GAAgB79E,KAAM,kBAAkB,SAASiQ,EAAO04H,GACtDr8C,EAAM4iC,IAAIhnH,KAAK2X,GAAM02E,WAAY,CAC/BtmF,MAAO+7E,GAAehoD,QAAQ/zB,GAC9B04H,aAEJ,IACA3oI,KAAKkvH,IAAMA,EACXlvH,KAAKy7E,OAAS,KACdz7E,KAAK4oI,eAAiB1Z,EAAI7+G,OAAO+lH,cACjC,IAAIyS,EAAmB7oI,KAAKkvH,IAAI7+G,OAAQylH,EAAa+S,EAAiB/S,WAAYC,EAAa8S,EAAiB9S,WAAYG,EAAsB2S,EAAiB3S,oBAAqB4S,EAAeD,EAAiBC,aACxN9oI,KAAKi+H,QAAU,IAAIU,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CAChF7lI,aAAc,OACd0vC,MAAOmjF,EACPC,aACA94F,QAASi5F,EACT8E,aAAch7H,KAAK+oI,kBAErB/oI,KAAKgpI,aAAe,IAAIrK,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CACrF7lI,aAAc,OACd0vC,MAAOmjF,EACPC,aACA94F,QAASi5F,EACT8E,aAAch7H,KAAK+oI,kBAErB/oI,KAAKipI,gBAAkB,IAAItK,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CACxF7lI,aAAc,OACd0vC,MAAOmjF,EACPC,aACA94F,QAASi5F,EACT8E,aAAch7H,KAAK+oI,iBAEvB,CAuMA,OAtMA3kD,GAAaqkD,EAAiB,CAAC,CAC7Br+H,IAAK,OACLsH,MAAO,WACL,IAAIw3H,EAAQnlD,GAAkC/F,KAAsBqE,MAAK,SAASkQ,EAAQzwF,EAAKqnI,EAAUC,GACvG,IAAIC,EAAQC,EAAWC,EAAWC,EAAcC,EAAaC,EAAaC,EAAgBC,EAAoBC,EAAqB9qH,EAAO8F,EAAOilH,EAAUC,EAAiBC,EAAoBC,EAAkBC,EAAgBC,EAAUC,EAAeC,EAAkBC,EAC7Q,OAAOtsD,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASngE,MAC/B,KAAK,EAUH,OATA62G,EAAS,CAACrpI,KAAKi+H,QAAQrwG,KAAK9rB,IACxBqnI,GACFE,EAAOriI,KAAKhH,KAAKgpI,aAAap7G,KAAKu7G,IAEjCC,GACFC,EAAOriI,KAAKhH,KAAKipI,gBAAgBr7G,KAAKw7G,IAExCz2C,EAAS/P,KAAO,EAChB+P,EAASngE,KAAO,EACTjO,QAAQ8Z,IAAIgrG,GACrB,KAAK,EAMH,GALAO,EAAqBj3C,EAAS9R,KAC9BgpD,EAAsB1jD,GAAeyjD,EAAoB,GACzD7qH,EAAQ8qH,EAAoB,GAC5BhlH,EAAQglH,EAAoB,GAC5BC,EAAWD,EAAoB,GAC3B9qH,EAAO,CACT4zE,EAASngE,KAAO,GAChB,KACF,CACA,OAAOmgE,EAAS3R,OAAO,SAAU,IACnC,KAAK,GACHhhF,KAAKuqI,cAAcxrH,EAAOjd,GAC1BwnI,EAAYvqH,EAAM3d,KAClBqoI,EAAc1qH,EAAM5b,SAASrB,KAAOA,EAChCqnI,GACFI,EAAsB,OAAV1kH,QAA4B,IAAVA,OAAmB,EAASA,EAAMzjB,KAChEooI,EAA4B,OAAbM,QAAkC,IAAbA,OAAsB,EAASA,EAAS1oI,KAC5EsoI,GAAyB,OAAV7kH,QAA4B,IAAVA,GAAmE,QAAtCklH,EAAkBllH,EAAM1hB,gBAA0C,IAApB4mI,OAAxD,EAA8FA,EAAgBjoI,MAAQqnI,EAC1KQ,GAA+B,OAAbG,QAAkC,IAAbA,GAA4E,QAA5CE,EAAqBF,EAAS3mI,gBAA6C,IAAvB6mI,OAA9D,EAAuGA,EAAmBloI,MAAQsnI,EAC/LG,GAAavpI,KAAKuqI,cAAc1lH,EAAOskH,GACvCK,GAAgBxpI,KAAKuqI,cAAcT,EAAUV,KAE7CI,EAAyB,OAAV3kH,QAA4B,IAAVA,OAAmB,EAASA,EAAMzjB,KACnEuoI,GAA4B,OAAV9kH,QAA4B,IAAVA,GAAoE,QAAvColH,EAAmBplH,EAAM1hB,gBAA2C,IAArB8mI,OAAzD,EAAgGA,EAAiBnoI,MAAQsnI,EAChLI,GAAgBxpI,KAAKuqI,cAAc1lH,EAAOukH,IAE5Cz2C,EAASngE,KAAO,GAChB,MACF,KAAK,GAGH,MAFAmgE,EAAS/P,KAAO,GAChB+P,EAASoxB,GAAKpxB,EAAS,SAAS,GAC1B3G,GAAehoD,QAAQ2uD,EAASoxB,IACxC,KAAK,GAWH,GAVAmmB,EAAiBlqI,KAAKkvH,IAAI7+G,OAAO65H,eACjCv3C,EAAS/P,KAAO,GACZsnD,IACFZ,EAAYY,EAAeZ,IAAcA,EACrCC,IACFA,EAAYW,EAAeX,GAAW,IAASA,GAC7CC,IACFA,EAAeU,EAAeV,GAAc,IAASA,IAEzDW,EAAW9B,GAAWnkG,MAAMolG,EAAWG,EAAazpI,KAAK4oI,iBACqC,KAA5D,QAA1B0B,EAAYH,SAAoC,IAAdG,OAAuB,EAASA,EAAUnC,QAAmBgC,EAASppH,UAAaopH,EAASppH,SAASte,OAAS,CACtJkwF,EAASngE,KAAO,GAChB,KACF,CACA,MAAM,IAAIyG,MAAM,uBAClB,KAAK,GACCswG,IACFa,EAAgB/B,GAAWnkG,MAAMqlG,EAAWG,EAAa1pI,KAAK4oI,iBAE5DY,IACFa,EAAmBhC,GAAWnkG,MAAMslG,EAAcG,EAAgB3pI,KAAK4oI,iBAEzEj2C,EAASngE,KAAO,GAChB,MACF,KAAK,GAGH,MAFAmgE,EAAS/P,KAAO,GAChB+P,EAASqxB,GAAKrxB,EAAS,SAAS,IAC1B,IAAI3G,GAAepC,GAAIC,SAAUD,GAAIa,UAAUE,IAAKgI,EAASqxB,IACrE,KAAK,GAYH,OAXImmB,IACEA,EAASK,SACXxqI,KAAKkvH,IAAIhnH,KAAK2X,GAAM23E,oBAAqB,CACvC2yC,aAGFnqI,KAAKkvH,IAAIhnH,KAAK2X,GAAM43E,iBAAkB,CACpC0yC,cAICx3C,EAAS3R,OAAO,SAAU,CAACmpD,EAAUC,EAAeC,IAC7D,KAAK,GACL,IAAK,MACH,OAAO13C,EAAS5f,OAExB,GAAGwf,EAASvyF,KAAM,CAAC,CAAC,EAAG,IAAK,CAAC,GAAI,KACnC,KACA,SAAS4tB,EAAK89B,EAAIiqC,EAAKC,GACrB,OAAOszC,EAAMnpI,MAAMC,KAAMC,UAC3B,CACA,OAAO2tB,CACT,CAtGO,IAuGN,CACDxjB,IAAK,YACLsH,MAAO,SAAmB43H,EAAWxnI,GACnC,IACIqoI,EADAD,EAAiBlqI,KAAKkvH,IAAI7+G,OAAO65H,eAErC,IACE,IAAIO,EAKJ,GAJIP,IACFZ,EAAYY,EAAeZ,IAAcA,GAE3Ca,EAAW9B,GAAWnkG,MAAMolG,EAAWxnI,EAAK9B,KAAK4oI,iBAC8C,KAA9D,QAA3B6B,EAAaN,SAAqC,IAAfM,OAAwB,EAASA,EAAWtC,OAAmBgC,EAASppH,WAAaopH,EAASppH,SAASte,OAC9I,MAAM,IAAIw2B,MAAM,sBAEpB,CAAE,MAAOhpB,GACP,MAAM,IAAI+7E,GAAepC,GAAIC,SAAUD,GAAIa,UAAUE,IAAK16E,EAC5D,CAYA,OAXIk6H,IACEA,EAASK,SACXxqI,KAAKkvH,IAAIhnH,KAAK2X,GAAM23E,oBAAqB,CACvC2yC,aAGFnqI,KAAKkvH,IAAIhnH,KAAK2X,GAAM43E,iBAAkB,CACpC0yC,cAIC,CAACA,EACV,GACC,CACD//H,IAAK,OACLsH,MAAO,SAAc5P,EAAKqnI,EAAUC,EAAasB,EAAIC,EAASh4H,GAC5D,IAAI29E,EAAStwF,KACbkT,aAAalT,KAAKy7E,QAClB9oE,EAAOA,GAAQ,IACf,IAAImjH,EAAa91H,KAAKkvH,IAAI7+G,OAAO2lH,eAC7BzvH,EAAqB,WACvB,IAAIw1F,EAAQhY,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,IAChF,IAAI79D,EACJ,OAAO4oD,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU7gE,MACjC,KAAK,EAIH,OAHAtf,aAAao9E,EAAO7U,QACpB4X,EAAUzQ,KAAO,EACjByQ,EAAU7gE,KAAO,EACV89D,EAAO1iE,KAAK9rB,EAAKqnI,EAAUC,GACpC,KAAK,EAEH,GADAh0G,EAAMi+D,EAAUxS,KACZzrD,EAAI,GAAI,CACVi+D,EAAU7gE,KAAO,EACjB,KACF,CACA,OAAO6gE,EAAUrS,OAAO,UAC1B,KAAK,EACH80C,EAAaxlC,EAAO4+B,IAAI7+G,OAAO2lH,eAC/B0U,EAAGt1G,EAAI,GAAIA,EAAI,GAAIA,EAAI,IACvBi+D,EAAU7gE,KAAO,GACjB,MACF,KAAK,GACH6gE,EAAUzQ,KAAO,GACjByQ,EAAU0wB,GAAK1wB,EAAU,SAAS,GAClCyiC,IACIA,GAAc,GAChB6U,EAAQt3C,EAAU0wB,IAEtB,KAAK,GACHzzB,EAAO7U,OAASr4E,WAAWmD,EAAIoM,GACjC,KAAK,GACL,IAAK,MACH,OAAO0gF,EAAUtgB,OAEzB,GAAGkgB,EAAU,KAAM,CAAC,CAAC,EAAG,KAC1B,KACA,OAAO,WACL,OAAO8I,EAAMh8F,MAAMC,KAAMC,UAC3B,CACF,CAzCyB,GA0CzBD,KAAKy7E,OAASr4E,WAAWmD,EAAIoM,EAC/B,GACC,CACDvI,IAAK,WACLsH,MAAO,WAEL,OADAwB,aAAalT,KAAKy7E,QACXz7E,KAAK6T,QACd,GACC,CACDzJ,IAAK,SACLsH,MAAO,WACL,OAAO6S,QAAQ8Z,IAAI,CAACr+B,KAAKi+H,QAAQpqH,SAAU7T,KAAKgpI,aAAan1H,UAC/D,KAEK40H,CACT,CAlQqC,GCJrC,SAASmC,GAAMlqF,EAAKp1C,EAAKM,GAIvB,OAHIN,EAAMM,IACRA,EAAMN,GAEDH,KAAKG,IAAIH,KAAKS,IAAI80C,EAAKp1C,GAAMM,EACtC,CCHA,IAAImpB,GAAS,IAAI83D,GAAO,YACpBg+C,GAAyB,WAC3B,SAASC,EAAQX,EAAUC,EAAeC,GACxCrmD,GAAgBhkF,KAAM8qI,GACtBjtD,GAAgB79E,KAAM,YAAQ,GAC9B69E,GAAgB79E,KAAM,KAAM,GAC5B69E,GAAgB79E,KAAM,UAAW,GACjC69E,GAAgB79E,KAAM,QAAS,GAC/B69E,GAAgB79E,KAAM,SAAU,GAChC69E,GAAgB79E,KAAM,OAAQ,IAC9B69E,GAAgB79E,KAAM,MAAO,IAC7B69E,GAAgB79E,KAAM,aAAc,IACpC69E,GAAgB79E,KAAM,aAAc,IACpC69E,GAAgB79E,KAAM,YAAa,IACnC69E,GAAgB79E,KAAM,UAAW,GACjC69E,GAAgB79E,KAAM,QAAS,GAC/B69E,GAAgB79E,KAAM,UAAW,GACjC69E,GAAgB79E,KAAM,SAAU,GAChC69E,GAAgB79E,KAAM,gBAAiB,GACvC69E,GAAgB79E,KAAM,iBAAkB,GACxC69E,GAAgB79E,KAAM,qBAAsB,GAC5C69E,GAAgB79E,KAAM,eAAgB,GACtC69E,GAAgB79E,KAAM,qBAAqB,GAC3C69E,GAAgB79E,KAAM,kBAAmB,GACzC69E,GAAgB79E,KAAM,kBAAkB,GACxC69E,GAAgB79E,KAAM,eAAgB,GACtC69E,GAAgB79E,KAAM,cAAc,GACpC69E,GAAgB79E,KAAM,eAAgB,GACtC69E,GAAgB79E,KAAM,SAAU,MAChC69E,GAAgB79E,KAAM,WAAY,IAClC69E,GAAgB79E,KAAM,eAAgB,IACtC69E,GAAgB79E,KAAM,kBAAmB,IACzC69E,GAAgB79E,KAAM,iBAAkB,IACxC69E,GAAgB79E,KAAM,qBAAsB,MAC5C69E,GAAgB79E,KAAM,wBAAyB,MAC/CA,KAAKw4C,OAAOx4C,KAAK+qI,oBAAoBZ,GAAWC,EAAeC,EACjE,CA8OA,OA7OAjmD,GAAa0mD,EAAS,CAAC,CACrB1gI,IAAK,cACLynB,IAAK,WACH,OAAI7xB,KAAK+gB,SAASte,OACTzC,KAAK+gB,SAAS/gB,KAAK+gB,SAASte,OAAS,GAEvC,IACT,GACC,CACD2H,IAAK,kBACLynB,IAAK,WACH,IAAIm5G,EACJ,OAAOhrI,KAAK8lI,iBAA4D,QAAxCkF,EAAkBhrI,KAAK+gB,SAAS,UAAoC,IAApBiqH,OAA6B,EAASA,EAAgBhrH,WAAa,CACrJ,GACC,CACD5V,IAAK,WACLynB,IAAK,WACH,OAAO7xB,KAAKu0F,OACd,EACA1M,IAAK,SAAax2E,GAChBrR,KAAKu0F,QAAUljF,CACjB,GACC,CACDjH,IAAK,UACLynB,IAAK,WACH,IAAIo5G,EACJ,OAAmD,QAA1CA,EAAoBjrI,KAAK+nI,mBAA+C,IAAtBkD,OAA+B,EAASA,EAAkB55H,MAAQ,CAC/H,EACAw2E,IAAK,SAAax2E,GAChB,IAAI65H,EAAUlrI,KAAK+nI,YACfmD,IACFA,EAAQlrH,SAAW3O,EAAM65H,EAAQ/5H,MACrC,GACC,CACD/G,IAAK,uBACLynB,IAAK,WACH,IAAIs5G,EACJ,OAAiE,QAAxDA,EAAwBnrI,KAAKorI,6BAA6D,IAA1BD,OAAmC,EAASA,EAAsBlD,QAAU,CACvJ,GACC,CACD79H,IAAK,kBACLsH,MAAO,SAAyBkwB,EAAW0jB,GAIzC,OAHItlD,KAAKqrI,oBACPrrI,KAAKsrI,eAAe1pG,EAAW0jB,GAE1BtlD,KAAKsrI,eAAe1pG,EAAW0jB,EACxC,GACC,CACDl7C,IAAK,kBACLsH,MAAO,SAAyB8xG,GAC9B,GAAKA,GAAQxjH,KAAKqrI,mBAAlB,CAEA,IAAI5J,EAAKje,EAAIie,GAAKzhI,KAAKurI,OACvB,OAAOvrI,KAAKqrI,mBAAmBtqH,SAAS8Y,MAAK,SAAS1b,GACpD,OAAOA,EAAEsjH,KAAOA,CAClB,GAJQ,CAKV,GACC,CACDr3H,IAAK,SACLsH,MAAO,SAAgBy4H,EAAUC,GAC/BpqI,KAAK8B,IAAMqoI,EAASroI,IAChBpB,MAAMy0B,QAAQg1G,EAASppH,WACP,OAAd/gB,KAAKmoI,WAA+B,IAAdnoI,KAAKmoI,OAC7BnoI,KAAKmoI,KAAOgC,EAAShC,MACvBnoI,KAAKwrI,gBAAgBrB,EAAUnqI,MAC/BA,KAAKsmI,QAAU6D,EAAS7D,QACxBtmI,KAAKooI,MAAQ+B,EAAS/B,MACtBpoI,KAAKqmI,QAAU8D,EAAS9D,QACxBrmI,KAAKioI,MAAQkC,EAASlC,QAAU,EAChCjoI,KAAKswH,cAAgB6Z,EAAS7Z,cAC9BtwH,KAAK8lI,eAAiBqE,EAASrE,eAC/B9lI,KAAKmoI,KAAOgC,EAAShC,KACrBnoI,KAAK+lI,WAAaoE,EAASpE,WAC3B/lI,KAAKimI,eAAiBkE,EAASlE,eAC/BjmI,KAAKomI,kBAAoB+D,EAAS/D,kBAClCpmI,KAAKmmI,aAAegE,EAAShE,aAC7BnmI,KAAKkmI,aAAeiE,EAASjE,aAC7BlmI,KAAKgmI,mBAAqBmE,EAASnE,mBACnChmI,KAAKynI,gBAAkB0C,EAAS1C,gBAChCznI,KAAKkoI,aAAeiC,EAASjC,aACzBkC,GAAiBpqI,KAAKqrI,oBAAsB3qI,MAAMy0B,QAAQi1G,EAAcrpH,YAC1E/gB,KAAKwrI,gBAAgBpB,EAAepqI,KAAKqrI,qBACpB,OAAhBrrI,KAAKurI,aAAmC,IAAhBvrI,KAAKurI,SAAsBpB,EAASppH,SAASte,QAAU2nI,EAAcrpH,SAASte,SACzGzC,KAAKurI,OAASpB,EAASppH,SAAS,GAAG0gH,GAAK2I,EAAcrpH,SAAS,GAAG0gH,OAItEzhI,KAAKoN,GAAK+8H,EAAS/8H,GACnBpN,KAAKsxC,QAAU64F,EAAS74F,QACxBtxC,KAAKqa,MAAQ8vH,EAAS9vH,MACtBra,KAAKsa,OAAS6vH,EAAS7vH,OACvBta,KAAKwH,KAAO2iI,EAAS3iI,KACrBxH,KAAKw5F,WAAa2wC,EAAS3wC,WAC3Bx5F,KAAKy5F,WAAa0wC,EAAS1wC,WAC3Bz5F,KAAKglI,UAAYmF,EAASnF,UAC1BhlI,KAAK6jI,aAAesG,EAAStG,aAC7B7jI,KAAK8jI,gBAAkBqG,EAASrG,iBAC3B9jI,KAAKqrI,oBAAsBrrI,KAAK6jI,aAAaphI,SAChDzC,KAAKqrI,mBAAqBrrI,KAAK6jI,aAAahqG,MAAK,SAAS1b,GACxD,OAAOA,EAAEkf,OACX,KAAMr9B,KAAK6jI,aAAa,KAErB7jI,KAAKorI,uBAAyBprI,KAAK8jI,gBAAgBrhI,SACtDzC,KAAKorI,sBAAwBprI,KAAK8jI,gBAAgBjqG,MAAK,SAAS1b,GAC9D,OAAOA,EAAEkf,OACX,KAAMr9B,KAAK8jI,gBAAgB,IAGjC,GACC,CACD15H,IAAK,iBACLsH,MAAO,SAAwB24H,GAC7B,IAAI/9C,EAAQtsF,KACZ,GAAMqqI,GAAoBrqI,KAAKorI,uBAAyB1qI,MAAMy0B,QAAQk1G,EAAiBtpH,UAAvF,CAEA,IAAI0qH,EAAUzrI,KAAKwrI,gBAAgBnB,EAAkBrqI,KAAKorI,uBACtDM,EAAO1rI,KAAKorI,sBAAsBrqH,SAItC,GAHI2qH,EAAKjpI,OAAS,MAChBzC,KAAKorI,sBAAsBrqH,SAAW2qH,EAAKhkI,MAAM,MAE9C+jI,EAEL,OAAOA,EAAQ9qI,KAAI,SAASwd,GAC1B,MAAO,CACLsjH,GAAItjH,EAAEsjH,GACN3/H,IAAKqc,EAAErc,IACPke,SAAU7B,EAAE6B,SACZ7O,MAAOgN,EAAEhN,MACTE,IAAK8M,EAAE9M,IACP+C,KAAMk4E,EAAM8+C,sBAAsBh3H,KAEtC,GAjBQ,CAkBV,GACC,CACDhK,IAAK,iBACLsH,MAAO,SAAwB0C,GAC7B,IAAIu3H,EAAW3rI,KAAK8jI,gBAAgBjqG,MAAK,SAAS1b,GAChD,OAAOA,EAAE/J,OAASA,CACpB,IACIi4E,EAASrsF,KAAKorI,sBACdO,IACF3rI,KAAKorI,sBAAwBO,EAC7Bt/C,EAAOtrE,SAAW,GAEtB,GACC,CACD3W,IAAK,sBACLsH,MAAO,SAA6By4H,GAClC,IAAKA,EAASpE,aAAeoE,EAASppH,SAASte,OAC7C,OAAO0nI,EAIT,IAHA,IAAIyB,EAAgBzB,EAAS7Z,cAAgB6Z,EAASjE,aAClDwF,EAAOvB,EAASppH,SAChB3P,EAAQ,EACHzN,EAAI,EAAGoE,EAAI2jI,EAAKjpI,OAAQkB,EAAIoE,EAAGpE,IAClC+nI,EAAK/nI,GAAGwN,OAASy6H,GAAiBF,EAAK/nI,GAAG8iI,cAC5Cr1H,EAAQzN,GAGZ,IAAIkoI,EAAaH,EAAKhkI,MAAM0J,GACxBmjF,EAAU,EAUd,OATAs3C,EAAW12H,SAAQ,SAASynC,GAC1BA,EAAEzrC,MAAQojF,EACVA,EAAU33C,EAAEvrC,GACd,IACA84H,EAASppH,SAAW8qH,EACpB1B,EAAS7Z,cAAgB/7B,EACzB41C,EAAS9D,QAAUwF,EAAW,GAAGpK,GACjC0I,EAAS7D,QAAUuF,EAAW,GAAGnF,GACjC3xG,GAAOpkB,IAAI,iCAAiC/I,OAAOuiI,EAAS9D,QAAS,eAAez+H,OAAOikI,EAAW,GAAGlF,UAAW,eAAe/+H,OAAO2sF,IACnI41C,CACT,GACC,CACD//H,IAAK,iBACLsH,MAAO,SAAwBkwB,EAAW0jB,GAGxC,IAFA,IAAIwmF,EAAa,EACb/qH,EAAW/gB,KAAK+gB,SACXpd,EAAI,EAAGoE,EAAIgZ,EAASte,OAAQkB,EAAIoE,EAAGpE,IAC1C,GAAIod,EAASpd,GAAG0N,KAAOuwB,EAAW,CAChCkqG,EAAanoI,EACb,KACF,CAWF,OATImoI,EAAaxmF,IACfwmF,EAAaxmF,GAEXwmF,IACF9rI,KAAK+gB,SAAW/gB,KAAK+gB,SAASrZ,MAAMokI,GAChC9rI,KAAKqrI,qBACPrrI,KAAKqrI,mBAAmBtqH,SAAW/gB,KAAKqrI,mBAAmBtqH,SAASrZ,MAAMokI,KAGvExmF,EAAUwmF,CACnB,GACC,CACD1hI,IAAK,kBACLsH,MAAO,SAAyBy4H,EAAU4B,GACxC,IAAIhrH,EAAWgrH,EAAOhrH,SACtB,GAAI/gB,KAAKmoI,KAAM,CACb,IAAI6D,EACAjG,EAAaoE,EAASpE,WACtBkG,EAASlrH,EAASA,EAASte,OAAS,GACpCwlI,EAAqF,QAA5E+D,EAAwB,OAAXC,QAA8B,IAAXA,OAAoB,EAASA,EAAOxK,UAA+B,IAAfuK,EAAwBA,GAAc,EACnI9D,GAA2B,OAAX+D,QAA8B,IAAXA,OAAoB,EAASA,EAAOtF,YAAc,EACrFuF,EAASjE,EAAQkC,EAASlC,OAASkC,EAASppH,SAASte,OAIzD,GAHIsjI,IACFmG,EAASA,GAAUhE,EAAeiC,EAASjC,cAEzCgE,EAAQ,CACVn3G,GAAOpkB,IAAI,0BAA0B/I,OAAOqgI,EAAO,gBAAgBrgI,OAAOsgI,EAAc,kBAAetgI,OAAOuiI,EAASlC,MAAO,gBAAgBrgI,OAAOuiI,EAASjC,eAC9J,IAAI92H,EAAQ+4H,EAASppH,SAASy0C,WAAU,SAASr3C,GAC/C,OAAOA,EAAEsjH,KAAOwG,GAAS9pH,EAAEwoH,YAAcuB,CAC3C,IACIiE,EAAW/6H,EAAQ,EAAI+4H,EAASppH,SAAWopH,EAASppH,SAASrZ,MAAM0J,EAAQ,GAC/E,GAAI2P,EAASte,QAAU0pI,EAAS1pI,OAAQ,CACtC,IAAI8xF,EAAU03C,EAAO56H,IACjB+6H,EAAsB73C,EAC1B43C,EAASh3H,SAAQ,SAASquG,GACxBA,EAAIryG,MAAQojF,EACZA,EAAUivB,EAAInyG,GAChB,IACA0jB,GAAOpkB,IAAI,aAAa/I,OAAOwkI,EAAqB,QAAQxkI,OAAO2sF,IACnE,IAAI83C,GAAqB,OAAXJ,QAA8B,IAAXA,OAAoB,EAASA,EAAOvF,MAAQ,EACzE2F,EAASF,EAAS,GAAGzF,IACvByF,EAASh3H,SAAQ,SAASquG,GACxB,OAAOA,EAAIkjB,IAAM2F,CACnB,GAEJ,CAGA,OAFAN,EAAO9D,MAAQkC,EAASlC,MACxB8D,EAAOhrH,SAAWA,EAASnZ,OAAOukI,GAC3BA,CACT,CACF,MACEJ,EAAOhrH,SAAWopH,EAASppH,QAE/B,KAEK+pH,CACT,CAlR6B,GCCzBwB,GAA2B,WAC7B,SAASC,EAAUrd,GACjBlrC,GAAgBhkF,KAAMusI,GACtB1uD,GAAgB79E,KAAM,UAAW,IACjC69E,GAAgB79E,KAAM,gBAAiB,MACvC69E,GAAgB79E,KAAM,YAAa,GACnC69E,GAAgB79E,KAAM,mBAAoB,GAC1CA,KAAKkvH,IAAMA,CACb,CA0QA,OAzQA9qC,GAAamoD,EAAW,CAAC,CACvBniI,IAAK,aACLynB,IAAK,WACH,IAAI26G,EACJ,OAAsD,QAA9CA,EAAsBxsI,KAAKysI,qBAAmD,IAAxBD,OAAiC,EAASA,EAAoBzG,UAC9H,GACC,CACD37H,IAAK,cACLynB,IAAK,WACH,IAAI66G,EACJ,OAAuD,QAA/CA,EAAuB1sI,KAAKysI,qBAAoD,IAAzBC,OAAkC,EAASA,EAAqB3E,WACjI,GACC,CACD39H,IAAK,iBACLynB,IAAK,WACH,IAAI86G,EACJ,OAA0D,QAAlDA,EAAwB3sI,KAAK4sI,uBAAuD,IAA1BD,OAAmC,EAASA,EAAsB3sI,KAAK6sI,gBAC3I,GACC,CACDziI,IAAK,cACLynB,IAAK,WACH,IAAIi7G,EACJ,OAA2D,QAAnDA,EAAyB9sI,KAAK4sI,uBAAwD,IAA3BE,OAAoC,EAASA,EAAuB9sI,KAAK6sI,gBAAkB,EAChK,GACC,CACDziI,IAAK,kBACLynB,IAAK,WACH,IAAIk7G,EACJ,OAAuD,QAA/CA,EAAuB/sI,KAAKysI,qBAAoD,IAAzBM,OAAkC,EAASA,EAAqBhsH,QACjI,GACC,CACD3W,IAAK,uBACLynB,IAAK,WACH,IAAIm7G,EACJ,OAAuD,QAA/CA,EAAuBhtI,KAAKysI,qBAAoD,IAAzBO,OAAkC,EAASA,EAAqBC,oBACjI,GACC,CACD7iI,IAAK,WACLynB,IAAK,WACH,IAAIq7G,EACJ,OAAuD,QAA/CA,EAAuBltI,KAAKysI,qBAAoD,IAAzBS,OAAkC,EAASA,EAAqBC,QACjI,EACAtlD,IAAK,SAAax2E,GACZrR,KAAKysI,gBACPzsI,KAAKysI,cAAcU,SAAW97H,EAElC,GACC,CACDjH,IAAK,gBACLynB,IAAK,WACH,IAAIu7G,EACJ,OAAwD,QAA/CA,EAAuBptI,KAAKysI,qBAAoD,IAAzBW,OAAkC,EAASA,EAAqB9c,gBAAkB,CACpJ,GACC,CACDlmH,IAAK,YACLynB,IAAK,WACH,IAAI9Q,EAAW/gB,KAAK4sI,gBACpB,GAAK7rH,GAAaA,EAASte,OAE3B,MAAO,CAACse,EAAS,GAAG5P,MAAO4P,EAASA,EAASte,OAAS,GAAG4O,IAC3D,GACC,CACDjH,IAAK,aACLynB,IAAK,WACH,IAAIw7G,EACJ,OAA4D,QAAnDA,EAAyBrtI,KAAK4sI,uBAAwD,IAA3BS,OAAoC,EAASA,EAAuB5qI,SAAW,CACrJ,GACC,CACD2H,IAAK,UACLynB,IAAK,WACH,IAAIy7G,EACJ,QAA6D,QAAnDA,EAAyBttI,KAAK4sI,uBAAwD,IAA3BU,GAAqCA,EAAuB7qI,OACnI,GACC,CACD2H,IAAK,SACLynB,IAAK,WACH,IAAI07G,EACJ,OAAuD,QAA/CA,EAAuBvtI,KAAKysI,qBAAoD,IAAzBc,OAAkC,EAASA,EAAqBpF,IACjI,GACC,CACD/9H,IAAK,mBACLynB,IAAK,WACH,OAAiC,IAA1B7xB,KAAK6sI,eACd,GACC,CACDziI,IAAK,cACLynB,IAAK,WACH,IAAI27G,EACJ,QAA0D,QAA/CA,EAAuBxtI,KAAKysI,qBAAoD,IAAzBe,IAAmCA,EAAqBpC,sBAC5H,GACC,CACDhhI,IAAK,kBACLsH,MAAO,SAAyB8xG,GAC9B,IAAIiqB,EACJ,OAAuD,QAA/CA,EAAuBztI,KAAKysI,qBAAoD,IAAzBgB,OAAkC,EAASA,EAAqBC,gBAAgBlqB,EACjJ,GACC,CACDp5G,IAAK,qBACLsH,MAAO,SAA4B0O,GACjC,IAAIutH,EACQ,OAARvtH,QAAwB,IAARA,IAClBA,EAAMpgB,KAAK6sI,gBAAkB,GAC/B7sI,KAAK6sI,gBAAkBjC,GAAMxqH,GAAM,EAAuD,QAAnDutH,EAAyB3tI,KAAK4sI,uBAAwD,IAA3Be,OAAoC,EAASA,EAAuBlrI,OACxK,GACC,CACD2H,IAAK,QACLsH,MAAO,WACL1R,KAAKolI,QAAU,GACfplI,KAAKysI,cAAgB,KACrBzsI,KAAK4tI,UAAY,EACjB5tI,KAAK6sI,iBAAmB,CAC1B,GACC,CACDziI,IAAK,oBACLsH,MAAO,SAA2BN,GAChC,IAAIy8H,EACJ,OAA2D,QAAnDA,EAAyB7tI,KAAK4sI,uBAAwD,IAA3BiB,OAAoC,EAASA,EAAuBz8H,EACzI,GACC,CACDhH,IAAK,wBACLsH,MAAO,WACL,IAAIN,EAAQnR,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EAC7ED,KAAK6sI,gBAAkBz7H,EAAQ,CACjC,GACC,CACDhH,IAAK,qBACLsH,MAAO,WACL,IAAIo8H,EACArM,EAAKxhI,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EACtEo1D,EAA+D,QAAnDy4E,EAAyB9tI,KAAK4sI,uBAAwD,IAA3BkB,OAAoC,EAASA,EAAuBt4E,WAAU,SAASr3C,GAChK,OAAOA,EAAEsjH,KAAOA,CAClB,IAIA,OAHkB,IAAdpsE,GACFr1D,KAAK+tI,sBAAsB14E,EAAW,GAEjCA,CACT,GACC,CACDjrD,IAAK,yBACLsH,MAAO,SAAgCiB,GACrC,IAAIoO,EAAW/gB,KAAK4sI,gBACpB,GAAI7rH,EAAU,CACZ,IAAK,IAAgCyiG,EAA5B7/G,EAAI,EAAGoE,EAAIgZ,EAASte,OAAakB,EAAIoE,EAAGpE,IAE/C,GADA6/G,EAAMziG,EAASpd,GACXgP,GAAQ6wG,EAAIryG,OAASwB,EAAO6wG,EAAInyG,IAClC,OAAO1N,EAGX,IAAIokI,EAAchnH,EAASA,EAASte,OAAS,GAC7C,GAAI0I,KAAK0V,IAAIlO,GAAwB,OAAhBo1H,QAAwC,IAAhBA,OAAyB,EAASA,EAAY12H,MAAQ,GACjG,OAAO0P,EAASte,OAAS,CAC7B,CACF,GACC,CACD2H,IAAK,iBACLsH,MAAO,SAAwBy4H,EAAUC,EAAeC,GACtD,IAAI/9C,EAAQtsF,KACZ,GAAKmqI,EAAL,CAEA,GAAIA,EAASK,SACXxqI,KAAKolI,QAAQ3iI,OAAS0nI,EAAS/E,QAAQ3iI,OACvC0nI,EAAS/E,QAAQ5iH,QAAO,SAASrE,GAC/B,OAAOA,EAAErc,GACX,IAAGqT,SAAQ,SAASkwH,EAAS1hI,GACvB2oF,EAAM84C,QAAQzhI,GAChB2oF,EAAM84C,QAAQzhI,GAAG60C,OAAO6sF,GAExB/4C,EAAM84C,QAAQzhI,GAAK,IAAIknI,GAAOxF,EAElC,IACArlI,KAAKysI,cAAgBzsI,KAAKolI,QAAQ,QAC7B,GAAI1kI,MAAMy0B,QAAQg1G,EAASppH,UAAW,CAC3C,IAAIijH,EAAShkI,KAAKysI,cAClB,GAAIzI,EAAQ,CACVA,EAAOxrF,OAAO2xF,EAAUC,EAAeC,GACvC,IAAI2D,EAAkBhK,EAAOiK,eAAe5D,GACxC2D,GACFhuI,KAAKkvH,IAAIhnH,KAAK2X,GAAM+uG,kBAAmB,CACrCp9G,KAAMw8H,GAGZ,MACEhuI,KAAKgyC,QACLhyC,KAAKysI,cAAgBzsI,KAAKolI,QAAQ,GAAK,IAAIyF,GAAOV,EAAUC,EAAeC,EAE/E,CACA,IAAIoC,EAAgBzsI,KAAKysI,cACrBA,GACEzsI,KAAKkvH,IAAIvuF,SAAW3gC,KAAK4tI,YAC3B5tI,KAAK4tI,UAAY5tI,KAAK4sI,gBAAgBzjD,QAAO,SAASjnF,EAAGwd,GAEvD,OADAxd,GAAKwd,EAAEM,SACA9d,CACT,GAAG,GAlCC,CAqCV,GACC,CACDkI,IAAK,uBACLsH,MAAO,SAA8B+vH,EAAItwH,GACvC,IAAI+8H,EACAxC,EAA2D,QAAnDwC,EAAyBluI,KAAK4sI,uBAAwD,IAA3BsB,OAAoC,EAASA,EAAuB1rH,QAAO,SAASrE,GACzJ,OAAOA,EAAEsjH,IAAMA,CACjB,IACAiK,EAAKv2H,SAAQ,SAASynC,GACpBA,EAAEzrC,MAAQA,EACVA,EAAQyrC,EAAEvrC,GACZ,GACF,GACC,CACDjH,IAAK,iBACLsH,MAAO,SAAwB0C,GAC7B,IAAI+5H,EAC6C,QAAhDA,EAAwBnuI,KAAKysI,qBAAqD,IAA1B0B,GAA4CA,EAAsBC,eAAeh6H,EAC5I,GACC,CACDhK,IAAK,kBACLsH,MAAO,WACL,IAAImkH,EAAkB51H,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,GACnF+jI,EAAShkI,KAAKysI,cAClB,GAAKzsI,KAAK4tI,WAAc5J,EAAxB,CAEA,IAAIpiG,EAAYoiG,EAAOzvC,QAAUv0F,KAAK4tI,UACtC,KAAIhsG,GAAa,GAAjB,CAEA,IAAI7gB,EAAWijH,EAAOjjH,SAClBA,EAASte,QAAUozH,IAEvB71H,KAAK6sI,gBAAkB7I,EAAOqK,gBAAgBzsG,EAAW5hC,KAAK6sI,iBAJtD,CAHA,CAQV,GACC,CACDziI,IAAK,0BACLsH,MAAO,SAAiC0P,EAAOktH,GAC7C,IAAIl9H,EAAQpR,KAAKuuI,uBAAuBntH,GACpCoiG,EAAMxjH,KAAKwuI,kBAAkBp9H,GACjC,GAAKoyG,IAEAA,EAAIsK,UAAatK,EAAIqK,UAA1B,CAEA,GAAa,IAATygB,GAAc9qB,EAAIsK,UAAYtK,EAAIqK,SACpC,OAAOrK,EACT,KAAIA,EAAInyG,IAAM+P,EAAQ,IAAtB,CAEA,IAAIoR,EAAOxyB,KAAKwuI,kBAAkBp9H,EAAQ,GAC1C,GAAKohB,IAEAA,EAAKs7F,UAAat7F,EAAKq7F,UAE5B,OAAIr7F,EAAKs7F,WAAatK,EAAIsK,UAAYt7F,EAAKq7F,WAAarK,EAAIqK,SACnDr7F,OADT,CANQ,CAJA,CAYV,GACC,CACDpoB,IAAK,mBACLsH,MAAO,SAA0B0gH,EAASvgC,GACxC,IAAIo5C,EACAS,EAAO1rI,KAAK4sI,gBAChB,GAAKlB,EAAL,CAEA,IAAI1D,GAAqD,QAA1CiD,EAAoBjrI,KAAK+nI,mBAA+C,IAAtBkD,OAA+B,EAASA,EAAkBxJ,MAAQrP,EAAQqP,GACvIuG,EACFhoI,KAAKmtI,SAAWt7C,EAGlB7xF,KAAKyuI,qBAAqBrc,EAAQqP,GAAK,EAAG5vC,EANlC,CAOV,KAEK06C,CACT,CAnR+B,GCH3BmC,GAAmB,IACnBC,GAAsB,GACtBC,GAAwB,EACxBC,GAAsB,IACtBC,GAAmC,WACrC,SAASC,EAAkBC,GACzBhrD,GAAgBhkF,KAAM+uI,GACtBlxD,GAAgB79E,KAAM,cAAe,GACrC69E,GAAgB79E,KAAM,cAAe,IACrC69E,GAAgB79E,KAAM,UAAW,IACjC69E,GAAgB79E,KAAM,aAAc,GACpC69E,GAAgB79E,KAAM,aAAc,GACpCA,KAAKivI,MAAQD,GAAQ,CAAC,CACxB,CAqFA,OApFA5qD,GAAa2qD,EAAmB,CAAC,CAC/B3kI,IAAK,YACLsH,MAAO,SAAmBw9H,EAAWh9C,GAC9Bg9C,GAAch9C,IAEnBlyF,KAAKmvI,QAAQnoI,KAAK,IAAMkoI,EAAYh9C,GACpClyF,KAAKmvI,QAAUnvI,KAAKmvI,QAAQznI,OAAOknI,IACrC,GACC,CACDxkI,IAAK,iBACLsH,MAAO,SAAwBw9H,EAAWh9C,GACxC,IAAIk9C,EAAaC,EACjB,GAAKH,GAAch9C,KAAMg9C,IAA6C,QAA9BE,EAAcpvI,KAAKivI,aAAmC,IAAhBG,OAAyB,EAASA,EAAYE,gBAAkBZ,KAA9I,CAEA1uI,KAAKuvI,YAAcL,EACnBlvI,KAAKwvI,YAAct9C,EACnBlyF,KAAKyvI,YAAc,IAAMP,EAAYh9C,EACrClyF,KAAK0vI,YAAY1oI,KAAK,CACpB2F,KAAMuiI,EACNlvH,SAAUkyE,EACVpc,UAAWt2D,YAAY7L,QAEzB,IAAIhH,GAAwC,QAA/B0iI,EAAervI,KAAKivI,aAAoC,IAAjBI,OAA0B,EAASA,EAAaM,qBAAuBhB,GACvH3uI,KAAK0vI,YAAYjtI,OAASkK,IAC5B3M,KAAK0vI,YAAc1vI,KAAK0vI,YAAYhoI,OAAOiF,GAXrC,CAaV,GACC,CACDvC,IAAK,cACLsH,MAAO,WACL,IAAIk+H,EACJ,IAAK5vI,KAAK0vI,YAAYjtI,SAAWzC,KAAKmvI,QAAQ1sI,OAC5C,OAAO,EACT,GAAIzC,KAAKmvI,QAAQ1sI,OACf,OAAOzC,KAAKmvI,QAAQhmD,QAAO,SAASjnF,EAAGwd,GACrC,OAAOxd,EAAKwd,CACd,IAAK1f,KAAKmvI,QAAQ1sI,OAEpB,IAAIotG,EAAa7vG,KAAK0vI,YAAY1vI,KAAK0vI,YAAYjtI,OAAS,GACxDotI,EAAOrwH,YAAY7L,MAAQk8F,EAAW/5B,UACtC+5D,IAAyC,QAA/BD,EAAe5vI,KAAKivI,aAAoC,IAAjBW,OAA0B,EAASA,EAAaE,qBAAuBjB,KAC1H7uI,KAAK0vI,YAAY1oI,KAAK,CACpB2F,KAAM,EACNqT,SAAU6vH,EACV/5D,UAAWt2D,YAAY7L,QAG3B,IAAI2oF,EAAYt8F,KAAK0vI,YAAYvmD,QAAO,SAASjnF,EAAGwd,GAClD,OAAOxd,EAAKwd,EAAE/S,IAChB,GAAG,GACC2jH,EAAgBtwH,KAAK0vI,YAAYvmD,QAAO,SAASjnF,EAAGwd,GACtD,OAAOxd,EAAKwd,EAAEM,QAChB,GAAG,GACH,OAAO,IAAMs8E,EAAYg0B,CAC3B,GACC,CACDlmH,IAAK,iBACLsH,MAAO,WACL,OAAK1R,KAAK0vI,YAAYjtI,QAAWzC,KAAKmvI,QAAQ1sI,OAE1CzC,KAAKmvI,QAAQ1sI,OACRzC,KAAKmvI,QAAQnvI,KAAKmvI,QAAQ1sI,OAAS,GAErCzC,KAAKyvI,YAJH,CAKX,GACC,CACDrlI,IAAK,eACLsH,MAAO,WACL,OAAO1R,KAAKuvI,UACd,GACC,CACDnlI,IAAK,eACLsH,MAAO,WACL,OAAO1R,KAAKwvI,UACd,GACC,CACDplI,IAAK,QACLsH,MAAO,WACL1R,KAAK0vI,YAAc,GACnB1vI,KAAKmvI,QAAU,GACfnvI,KAAKuvI,WAAa,EAClBvvI,KAAKwvI,WAAa,CACpB,KAEKT,CACT,CA/FuC,GCHnCgB,GAAgC,WAClC,SAASC,EAAe9gB,GACtB,IAAI5iC,EAAQtsF,KACZgkF,GAAgBhkF,KAAMgwI,GACtBnyD,GAAgB79E,KAAM,QAAS,MAC/B69E,GAAgB79E,KAAM,iBAAiB,SAASo1B,EAAKtzB,GACnD,IAAIV,EAAOg0B,EAAIh0B,KAAM+B,EAAWiyB,EAAIjyB,SAAU2O,EAAUsjB,EAAItjB,QACxDioF,EAAOjoF,GAAW,CAAC,EAAG6lH,EAAgB59B,EAAK49B,cAAe/1F,EAAYm4D,EAAKn4D,UAAW2yD,EAAUwF,EAAKxF,QAASkjC,EAAgB19B,EAAK09B,cACnI9kH,EAAO4hF,EAAU3yD,EACrB0qD,EAAM2jD,kBAAkBC,UAAUzY,GAAiBr2H,EAAKgzF,WAAYzhF,GACpE25E,EAAM4iC,IAAIhnH,KAAKiuF,GAAMoB,MAAO,CAC1B5kF,OACAyhF,WAAYqjC,EACZ31H,QAEFwqF,EAAM4iC,IAAIhnH,KAAKiuF,GAAMG,cAAe,CAClCx0F,MACA4mI,QAAS/1H,GAAQ,IAEnB25E,EAAM4iC,IAAIhnH,KAAKiuF,GAAMC,KAAM,CACzBt0F,MACA04F,YAAar3F,EAASrB,IACtB4mI,QAAS/Q,EAAgB/1F,IAE3B0qD,EAAM4iC,IAAIhnH,KAAKiuF,GAAME,sBAAuB,CAC1Cpc,QAAS92E,EAAS82E,QAClBn4E,OAEJ,IACA+7E,GAAgB79E,KAAM,kBAAkB,SAASiQ,EAAO04H,GACtDr8C,EAAM4iC,IAAIhnH,KAAKiuF,GAAMI,WAAY,CAC/BtmF,MAAO+7E,GAAehoD,QAAQ/zB,GAC9B04H,aAEJ,IACA3oI,KAAKkvH,IAAMA,EACXlvH,KAAKiwI,kBAAoB,IAAInB,GAC7B9uI,KAAKmwI,UAAY,CAAC,EAClBnwI,KAAKowI,UAAY,CAAC,EAClB,IAAIvH,EAAmB7oI,KAAKkvH,IAAI7+G,OAAQylH,EAAa+S,EAAiB/S,WAAYC,EAAa8S,EAAiB9S,WAAYE,EAAc4S,EAAiB5S,YAAa6S,EAAeD,EAAiBC,aACxM9oI,KAAKqwI,eAAiB,IAAI1R,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CACvF7lI,aAAc,cACd0vC,MAAOmjF,EACPC,aACA94F,QAASg5F,EACT+E,aAAch7H,KAAK+oI,kBAErB/oI,KAAKswI,oBAAsB,IAAI3R,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CAC5F7lI,aAAc,cACd0vC,MAAOmjF,EACPC,aACA94F,QAASg5F,EACT+E,aAAch7H,KAAK+oI,kBAErB/oI,KAAKuwI,WAAa,IAAI5R,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CACnF7lI,aAAc,cACd0vC,MAAOmjF,EACPC,aACA94F,QAASg5F,EACT+E,aAAch7H,KAAK+oI,iBAEvB,CA8JA,OA7JA3kD,GAAa4rD,EAAgB,CAAC,CAC5B5lI,IAAK,YACLsH,MAAO,WACL,MAAO,CACLgoE,MAAO15E,KAAKiwI,kBAAkBO,iBAC9B73F,SAAU34C,KAAKiwI,kBAAkBQ,cAErC,GACC,CACDrmI,IAAK,OACLsH,MAAO,SAAc8xG,EAAKktB,EAAUC,GAClC,IAAIC,EAAgB3wI,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK0wI,EACjFtH,EAAS,GAKb,OAJI7lB,IACF6lB,EAAO,GAAKrpI,KAAK6wI,iBAAiBrtB,EAAKmtB,IACrCD,IACFrH,EAAO,GAAKrpI,KAAK8wI,iBAAiBJ,EAAUE,IACvCrsH,QAAQ8Z,IAAIgrG,EACrB,GACC,CACDj/H,IAAK,mBACLsH,MAAO,SAA0B8xG,EAAKmtB,GACpC,OAAO3wI,KAAK+wI,aAAa/wI,KAAKqwI,eAAgB7sB,EAAKmtB,EACrD,GACC,CACDvmI,IAAK,mBACLsH,MAAO,SAA0B8xG,EAAKmtB,GACpC,OAAO3wI,KAAK+wI,aAAa/wI,KAAKswI,oBAAqB9sB,EAAKmtB,EAC1D,GACC,CACDvmI,IAAK,eACLsH,MAAO,WACL,IAAIs/H,EAAgBjtD,GAAkC/F,KAAsBqE,MAAK,SAASkQ,EAAQ0+C,EAAWztB,EAAKmtB,GAChH,IAAmBO,EACfvwI,EAAKyJ,EAAKs5G,EAAOytB,EAAQC,EAAU/H,EAAQgI,EAAsBC,EAAQC,EAASC,EAAQ5H,EAAoBC,EAAqBjtF,EAAGx7C,EADtIkvF,EAAStwF,KAEb,OAAOg+E,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASngE,MAC/B,KAAK,EAyDH,OAxDA62G,EAAS,GACTrpI,KAAKkvH,IAAIhnH,KAAKiuF,GAAM3uE,WAAY,CAC9B1lB,IAAK0hH,EAAI1hH,MAEXunI,EAAO,GAAK4H,EAAUrjH,KAAK41F,EAAI1hH,KAC3B6uI,GAAYntB,EAAIiK,cAClB6jB,EAAS9tB,EAAIiK,YAAY3rH,IACzBnB,EAAMX,KAAKmwI,UAAUmB,GAChB3wI,IACHX,KAAKkvH,IAAIhnH,KAAKiuF,GAAM3uE,WAAY,CAC9B1lB,IAAKwvI,IAEPjI,EAAO,GAAK4H,EAAUrjH,KAAK0jH,GAAQ7+G,MAAK,SAASjb,GAC/C,GAAIA,EAAG,CACL,IAAIzP,EAAI7B,OAAOgP,KAAKo7E,EAAO6/C,WACvBpoI,EAAI,KACNuoF,EAAO6/C,UAAY,CAAC,GACtBxvI,EAAM2vF,EAAO6/C,UAAUmB,GAAU95H,EAAEpW,KACnCkvF,EAAOi6C,cAAc/yH,EAAG85H,EAC1B,CACF,KAEFC,EAA2D,QAAhDF,EAAuB7tB,EAAIiK,YAAYrjH,WAA0C,IAAzBinI,OAAkC,EAASA,EAAqBvvI,IAC/HyvI,IACFH,EAAW5tB,EAAIiK,YAAYrjH,IAAI8rG,GAC/Bi7B,EAASnxI,KAAKowI,UAAUmB,GACnBJ,IACHnxI,KAAKkvH,IAAIhnH,KAAKiuF,GAAM3uE,WAAY,CAC9B1lB,IAAKyvI,IAEPlI,EAAO,GAAKrpI,KAAKuwI,WAAW3iH,KAAK2jH,GAAS9+G,MAAK,SAASjb,GAClDA,IACF25H,EAAS7gD,EAAO8/C,UAAUmB,GAAW/5H,EAAEpW,KACvCkvF,EAAOi6C,cAAc/yH,EAAG+5H,GAE5B,OAINC,EAAkC,QAAxBN,EAAW1tB,EAAIp5G,WAA8B,IAAb8mI,OAAsB,EAASA,EAASpvI,IAC9E0vI,GAAUhuB,EAAIp5G,IAAIy3H,uBACpBne,EAAQF,EAAIp5G,IAAI8rG,GAChB9rG,EAAMpK,KAAKowI,UAAUoB,GAChBpnI,IACHpK,KAAKkvH,IAAIhnH,KAAKiuF,GAAM3uE,WAAY,CAC9B1lB,IAAK0vI,IAEPnI,EAAO,GAAKrpI,KAAKuwI,WAAW3iH,KAAK4jH,GAAQ/+G,MAAK,SAASjb,GACjDA,IACFpN,EAAMkmF,EAAO8/C,UAAUoB,GAAUh6H,EAAEpW,KACnCkvF,EAAOi6C,cAAc/yH,EAAGg6H,GAE5B,MAGJ7+C,EAASngE,KAAO,EACTjO,QAAQ8Z,IAAIgrG,GACrB,KAAK,EAIH,GAHAO,EAAqBj3C,EAAS9R,KAC9BgpD,EAAsB1jD,GAAeyjD,EAAoB,GACzDhtF,EAAIitF,EAAoB,GACpBjtF,EAAG,CACL+1C,EAASngE,KAAO,GAChB,KACF,CACA,OAAOmgE,EAAS3R,OAAO,UACzB,KAAK,GAGH,OAFA5/E,EAAOw7C,EAAEx7C,KACTpB,KAAKuqI,cAAc3tF,EAAG4mE,EAAI1hH,KACnB6wF,EAAS3R,OAAO,SAAU,CAC/B5/E,OACAT,MACAyJ,MACA+mI,SACAztB,QACA0tB,aAEJ,KAAK,GACL,IAAK,MACH,OAAOz+C,EAAS5f,OAExB,GAAGwf,EAASvyF,KACd,KACA,SAAS+wI,EAAarlF,EAAIiqC,EAAKC,GAC7B,OAAOo7C,EAAcjxI,MAAMC,KAAMC,UACnC,CACA,OAAO8wI,CACT,CA/FO,IAgGN,CACD3mI,IAAK,QACLsH,MAAO,WACL1R,KAAKiQ,MAAQ,KACbjQ,KAAKmwI,UAAY,CAAC,EAClBnwI,KAAKowI,UAAY,CAAC,EAClBpwI,KAAKiwI,kBAAkBj+F,OACzB,GACC,CACD5nC,IAAK,SACLsH,MAAO,WACL,IAAIwoH,EAAUn2C,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,IAClF,OAAOjV,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU7gE,MACjC,KAAK,EAEH,OADA6gE,EAAU7gE,KAAO,EACVjO,QAAQ8Z,IAAI,CAACr+B,KAAKuwI,WAAW18H,SAAU7T,KAAKqwI,eAAex8H,SAAU7T,KAAKswI,oBAAoBz8H,WACvG,KAAK,EACL,IAAK,MACH,OAAOw/E,EAAUtgB,OAEzB,GAAGkgB,EAAUjzF,KACf,KACA,SAAS6T,IACP,OAAOqmH,EAAQn6H,MAAMC,KAAMC,UAC7B,CACA,OAAO4T,CACT,CAlBO,MAoBFm8H,CACT,CA5NoC,GCahCj7G,GAAS,IAAI83D,GAAO,OACpB4kD,GAAsB,SAASvZ,GACjC3zC,GAAUmtD,EAAMxZ,GAChB,IAAI/rC,EAASrG,GAAa4rD,GAC1B,SAASA,EAAKC,GACZ,IAAIrlD,EA6RJ,OA5RAtI,GAAgBhkF,KAAM0xI,GACtBplD,EAAQH,EAAOvrF,KAAKZ,MACpB69E,GAAgB8H,GAAuB2G,GAAQ,UAAWolD,EAAKpuH,SAC/Du6D,GAAgB8H,GAAuB2G,GAAQ,QAAS,MACxDzO,GAAgB8H,GAAuB2G,GAAQ,SAAU,MACzDzO,GAAgB8H,GAAuB2G,GAAQ,kBAAmB,MAClEzO,GAAgB8H,GAAuB2G,GAAQ,iBAAkB,MACjEzO,GAAgB8H,GAAuB2G,GAAQ,YAAa,MAC5DzO,GAAgB8H,GAAuB2G,GAAQ,iBAAkB,MACjEzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,MAC9DzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,MAC9DzO,GAAgB8H,GAAuB2G,GAAQ,SAAU,MACzDzO,GAAgB8H,GAAuB2G,GAAQ,aAAc,MAC7DzO,GAAgB8H,GAAuB2G,GAAQ,aAAc,MAC7DzO,GAAgB8H,GAAuB2G,GAAQ,aAAc,MAC7DzO,GAAgB8H,GAAuB2G,GAAQ,gBAAiB,KAChEzO,GAAgB8H,GAAuB2G,GAAQ,sBAAsB,GACrEzO,GAAgB8H,GAAuB2G,GAAQ,iBAAiB,GAChEzO,GAAgB8H,GAAuB2G,GAAQ,iBAAkB,MACjEzO,GAAgB8H,GAAuB2G,GAAQ,2BAA2B,GAC1EzO,GAAgB8H,GAAuB2G,GAAQ,eAAgCvI,GAAkC/F,KAAsBqE,MAAK,SAASkQ,IACnJ,IAAIq/C,EAAiBC,EAAa9J,EAAa+J,EAAuBzhI,EAAQ0hI,EAAkBC,EAAqBC,EAAOC,EAC5H,OAAOl0D,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASngE,MAC/B,KAAK,EACH,IAAM85D,EAAM6lD,oBAAuB7lD,EAAMttE,MAAQ,CAC/C2zE,EAASngE,KAAO,EAChB,KACF,CACA,OAAOmgE,EAAS3R,OAAO,UACzB,KAAK,EAKH,GAJA4wD,EAAkBtlD,EAAMg+C,UAAWuH,EAAcD,EAAgBC,YAAa9J,EAAc6J,EAAgB7J,YAC5G+J,EAAwBnsD,GAAuB2G,GAAQj8E,EAASyhI,EAAsBzhI,OACtF0hI,EAAmB,KACnBC,EAAsB7mI,KAAKG,IAAIH,KAAKS,KAAqB,OAAhBm8H,QAAwC,IAAhBA,OAAyB,EAASA,EAAY/nH,UAAY+xH,EAAmB,GAAK,EAAGA,GAAmB,IACrKF,EAAa,CACfl/C,EAASngE,KAAO,EAChB,KACF,CACA,OAAOmgE,EAAS3R,OAAO,UACzB,KAAK,EACH,GAAIsL,EAAM3rD,OAAQ,CAChBgyD,EAASngE,KAAO,GAChB,KACF,CAMA,GALAy/G,EAAQ3lD,EAAMmQ,aACVnQ,EAAMttE,MAAM+L,SAAWuhE,EAAMttE,MAAMmC,cACrC8wH,EAAQ3lD,EAAMmQ,WAAWw1C,EAAM7oD,WAAa,KAE9C8oD,EAAmB/mI,KAAK0V,IAAIoxH,EAAM5gI,IAAMi7E,EAAMttE,MAAMgB,UAAYgyH,IAC1DC,EAAMxoD,WAAap5E,EAAO8lH,aAAe+b,GAAmB,CAChEv/C,EAASngE,KAAO,GAChB,KACF,CAEA,OADA85D,EAAM8lD,UACCz/C,EAAS3R,OAAO,UACzB,KAAK,GACH,IAAM3wE,EAAOsmH,oBAAuBrqC,EAAM+lD,eAAeC,YAAc,CACrE3/C,EAASngE,KAAO,GAChB,KACF,CACA,OAAOmgE,EAAS3R,OAAO,UACzB,KAAK,IACEsL,EAAMimD,eAAiBjmD,EAAMkmD,aAAeX,EAAYpQ,GAAK,GAAKwQ,EAAM5gI,KAAOlG,KAAK0V,IAAIgxH,EAAY1gI,MAAQ8gI,EAAM5gI,KAAO,GAC5Hi7E,EAAMg+C,UAAUyD,sBAAsBzhD,EAAMg+C,UAAUiE,uBAAuB0D,EAAM5gI,IAAM,KAE7F,KAAK,GACH,OAAOshF,EAAS3R,OAAO,SAAUsL,EAAMmmD,sBACzC,KAAK,GACL,IAAK,MACH,OAAO9/C,EAAS5f,OAExB,GAAGwf,EACL,MACA1U,GAAgB8H,GAAuB2G,GAAQ,iBAAiB,WAC1DA,EAAM3rD,SAAW2rD,EAAMj8E,OAAOggH,eAC5B/jC,EAAMttE,MAAMgB,WAAamP,KAC3Bm9D,EAAM+lD,eAAe39E,eAAevlC,KAAUgE,OAAM,SAAStyB,GAC7D,GAGN,IACAg9E,GAAgB8H,GAAuB2G,GAAQ,UAA2BvI,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,IAC9I,OAAOjV,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU7gE,MACjC,KAAK,EACH,IAAM85D,EAAMttE,MAAMuQ,SAAuC,IAA5B+8D,EAAMttE,MAAMmC,YAAoB,CAC3DkyE,EAAU7gE,KAAO,EACjB,KACF,CAEA,OADAuC,GAAOzkB,MAAM,gCACN+iF,EAAUrS,OAAO,UAC1B,KAAK,EAEH,GADA9tE,aAAao5E,EAAMomD,mBACdpmD,EAAMqmD,cAAe,CACxBt/C,EAAU7gE,KAAO,EACjB,KACF,CACA85D,EAAMqmD,eAAgB,EACtBrmD,EAAM75C,QAAO,GACb4gD,EAAU7gE,KAAO,GACjB,MACF,KAAK,EAEH,OADA6gE,EAAU7gE,KAAO,GACV85D,EAAMykD,eACf,KAAK,GACHzkD,EAAM/Q,aACR,KAAK,GACL,IAAK,MACH,OAAO8X,EAAUtgB,OAEzB,GAAGkgB,EACL,MACApV,GAAgB8H,GAAuB2G,GAAQ,YAAY,WACzD,GAAIA,EAAM3rD,QACR,IAAK2rD,EAAMqmD,cAAe,CACxB,IAAIC,EAAiBtmD,EAAMj8E,OAAOuiI,eAGlC,GAFuB,OAAnBA,QAA8C,IAAnBA,IAC7BA,EAAiBtmD,EAAMg+C,UAAUsD,YAC9B9iI,OAAOy5F,SAASquC,GACnB,OACF1/H,aAAao5E,EAAMomD,kBACnBpmD,EAAMomD,iBAAmBtvI,YAAW,WAClCkpF,EAAMqmD,eAAgB,EACtBrmD,EAAMumD,QACR,GAAGD,GAAkB,EACvB,OAEAtmD,EAAM9Q,WAEV,IACAqC,GAAgB8H,GAAuB2G,GAAQ,aAA8BvI,GAAkC/F,KAAsBqE,MAAK,SAAS+S,IACjJ,IAAIx+B,EAAUk8E,EAAWC,EAAaC,EAAQhjI,EAAMijI,EAAUzvB,EAC9D,OAAOxlC,KAAsBU,MAAK,SAAmB8W,GACnD,MAAO,SACGA,EAAU5S,KAAO4S,EAAUhjE,MACjC,KAAK,EACH,GAAI85D,EAAMttE,MAAO,CACfw2E,EAAUhjE,KAAO,EACjB,KACF,CACA,OAAOgjE,EAAUxU,OAAO,UAC1B,KAAK,EAIH,GAHAsL,EAAM4mD,wBACNt8E,EAAW01B,EAAMttE,MAAMmC,YACvB2xH,EAAYxmD,EAAMg+C,UAAUwI,WACvBA,EAAW,CACdt9C,EAAUhjE,KAAO,GACjB,KACF,CAEA,GADAugH,EAAcnI,GAAMh0E,EAAUk8E,EAAU,GAAIxmD,EAAM3rD,OAASmyG,EAAU,GAAKxmD,EAAMttE,MAAMgB,YAChF+yH,GAAe,GAAK5nI,KAAK0V,IAAI+1C,EAAWm8E,IAAgB,IAAM,CAClEv9C,EAAUhjE,KAAO,GACjB,KACF,CAEA,OADA85D,EAAMttE,MAAMmC,YAAc4xH,EACnBv9C,EAAUxU,OAAO,UAC1B,KAAK,GAGH,GAFAgyD,EAAS1mD,EAAMg+C,UAAU6I,eACzBnjI,EAAO44E,GAAO54E,KAAK44E,GAAO/2D,IAAIy6D,EAAMttE,OAAQ43C,EAAU,KACjDo8E,EAAQ,CACXx9C,EAAUhjE,KAAO,GACjB,KACF,CACA,KAAMxiB,EAAKqB,KAAOlG,KAAK0V,IAAI7Q,EAAKqB,IAAM2hI,EAAO3hI,KAAO,IAAM,CACxDmkF,EAAUhjE,KAAO,GACjB,KACF,CACA,OAAOgjE,EAAUxU,OAAO,UAC1B,KAAK,GACH,IAAMsL,EAAM3rD,SAAU3wB,EAAKqB,IAAM,CAC/BmkF,EAAUhjE,KAAO,GACjB,KACF,CACA,OAAOgjE,EAAUxU,OAAO,UAC1B,KAAK,GAGH,GAFAiyD,EAAW3mD,EAAMg+C,UAAUiE,uBAAuB33E,GAClD4sD,EAAMl3B,EAAMg+C,UAAUkE,kBAAkByE,GACrB,OAAbA,QAAkC,IAAbA,GAAwBzvB,KAAOl3B,EAAM6lD,oBAAsB3uB,IAAQl3B,EAAMg+C,UAAUuH,aAAc,CAC1Hr8C,EAAUhjE,KAAO,GACjB,KACF,CACA,OAAOgjE,EAAUxU,OAAO,UAC1B,KAAK,GAKH,OAJAjsD,GAAOzkB,MAAM,UAAWsmD,EAAU4sD,GAClCl3B,EAAMg+C,UAAUyD,sBAAsBkF,GACtC3mD,EAAM9Q,YACNga,EAAUhjE,KAAO,GACV85D,EAAM+jD,eAAex8H,SAC9B,KAAK,GAEH,GADAy4E,EAAM6lD,oBAAqB,EACpBniI,EAAKqB,MAAOi7E,EAAM3rD,OAAS,CAChC60D,EAAUhjE,KAAO,GACjB,KACF,CAEA,OADAgjE,EAAUhjE,KAAO,GACV85D,EAAMmmD,oBAAmB,GAClC,KAAK,GACHnmD,EAAM/Q,aACR,KAAK,GACL,IAAK,MACH,OAAOia,EAAUziB,OAEzB,GAAGqiB,EACL,MACAvX,GAAgB8H,GAAuB2G,GAAQ,iBAAiB,WAC9D,GAAKA,EAAMttE,MAAX,CAEA,IAYMo0H,EAZFxd,EAAMtpC,EAAMj8E,OAChB,GAAIulH,EAAIj1F,QAAUi1F,EAAIU,YAAcV,EAAIS,eAAiB/pC,EAAMttE,MAAO,CACpE,IAAImuH,EAAW7gD,EAAMg+C,UAAU6C,SAC/B,IAAKA,EACH,OACF,IAAIkG,EAAUlG,EAAW7gD,EAAMttE,MAAMmC,YACjCkyH,GAAWzd,EAAIU,aACjBvhG,GAAOzkB,MAAM,6BAA6B1I,OAAO0kF,EAAMttE,MAAMmC,YAAa,eAAevZ,OAAOulI,EAAU,eAAevlI,OAAOyrI,IAChI/mD,EAAMttE,MAAMmC,YAAcgsH,EAAWvX,EAAIS,cAE7C,CACA,GAAIT,EAAIY,UAEsC,QAA3C4c,EAAoB9mD,EAAMgnD,mBAA+C,IAAtBF,GAAwCA,EAAkBG,MAAMjnD,EAAMttE,MAAMmC,aAE9HmrE,EAAMj8E,OAAOkmH,2BAA6BjqC,EAAMj8E,OAAO0gH,YACzDzkC,EAAMknD,wBAAwBlnD,EAAMttE,MAAMmC,YAjBpC,CAmBV,IACA08D,GAAgB8H,GAAuB2G,GAAQ,SAAS,WACtD,GAAKA,EAAMttE,MAAX,CAEAstE,EAAM/Q,aACN,IAAIv8D,EAAQstE,EAAMttE,MACdtB,EAAWkrE,GAAO/2D,IAAI7S,GACtBy0H,EAAiBnnD,EAAM+jD,eAAepgI,MAQ1C,GAPAq8E,EAAM4mD,wBACF5mD,EAAMonD,0BACHpnD,EAAM+lD,eAAev8C,WACxBxJ,EAAMonD,yBAA0B,EAChCpnD,EAAM6lD,oBAAqB,IAG3BsB,EAAJ,CACE,IAAIE,EAAyB,KACxB30H,EAAM8G,YAAcwmE,EAAMmQ,WAAWk3C,GAAwBlqD,UAAY,KAC5EgqD,EAAeG,OAAQ,EACvBtnD,EAAMunD,WAAW7nD,GAAehoD,QAAQyvG,IAG5C,MACI7qD,GAAOv3E,IAAIqM,IAAa,IAAOsB,EAAM8G,aACnCoyE,GAAel5E,IACjBstE,EAAMykD,eACFzkD,EAAMwnD,aACRxnD,EAAMwnD,YAAYC,GAAG/0H,EAAOstE,EAAMj8E,OAAO4oF,gBAAiB3M,EAAM3rD,SAG9D3hB,EAAM8G,WAAa,GAAKwmE,EAAMwnD,aAChCxnD,EAAMwnD,YAAYC,GAAG/0H,EAAOstE,EAAMj8E,OAAO4oF,iBAAkBj6E,EAAMmC,aAAqBmrE,EAAM3rD,SAI7F2rD,EAAM3rD,QACT2rD,EAAM8lD,SAjCA,CAmCV,IACA9lD,EAAMj8E,OAASshI,EAAOhc,GAAUgc,GAChCrlD,EAAMttE,MAAQstE,EAAMj8E,OAAO2O,MAC3BstE,EAAM0nD,gBAAkB,IAAIxL,GAAe7iD,GAAuB2G,IAClEA,EAAM+jD,eAAiB,IAAIN,GAAcpqD,GAAuB2G,IAChEA,EAAMg+C,UAAY,IAAIgC,GAAS3mD,GAAuB2G,IACtDA,EAAM+lD,eAAiB,IAAIxhB,GAAclrC,GAAuB2G,IAC5DqlD,EAAKnb,YACPlqC,EAAMgnD,YAAc,IAAI76C,GAAW9S,GAAuB2G,KAEvDqlD,EAAK5gB,aACRzkC,EAAMwnD,YAAc,IAAI/6C,IAC1BzM,EAAM9W,OAAS,IAAIwlB,GAAkBrV,GAAuB2G,GAAQ,KACpEA,EAAMttE,MAAM9e,iBAAiB,aAAcosF,EAAM2nD,eACjD3nD,EAAMttE,MAAM9e,iBAAiB,OAAQosF,EAAMpvB,SAC3CovB,EAAMttE,MAAM9e,iBAAiB,QAASosF,EAAM4nD,UAC5C5nD,EAAMttE,MAAM9e,iBAAiB,UAAWosF,EAAMlwC,YAC9CkwC,EAAMttE,MAAM9e,iBAAiB,aAAcosF,EAAM3vC,eAC1C2vC,CACT,CA6lCA,OA5lCAlI,GAAastD,EAAM,CAAC,CAClBtnI,IAAK,SACLynB,IAAK,WACH,OAAO7xB,KAAKsqI,UAAU3pG,MACxB,GACC,CACDv2B,IAAK,UACLynB,IAAK,WACH,OAAO7xB,KAAKsqI,UAAUlF,OACxB,GACC,CACDh7H,IAAK,gBACLynB,IAAK,WACH,OAAO7xB,KAAKsqI,UAAUmC,aACxB,GACC,CACDriI,IAAK,cACLynB,IAAK,WACH,OAAO7xB,KAAKsqI,UAAU6J,WACxB,GACC,CACD/pI,IAAK,gBACLynB,IAAK,WACH,OAAO7xB,KAAKsqI,UAAUha,aACxB,GACC,CACDlmH,IAAK,UACLynB,IAAK,WACH,IAAIuiH,EACJ,OAAwD,QAAhDA,EAAuBp0I,KAAKqyI,sBAAqD,IAAzB+B,OAAkC,EAASA,EAAqBhwC,OAClI,GACC,CACDh6F,IAAK,iBACLynB,IAAK,WACH,IAAIwiH,EAAYr0I,KAAKuyI,cAAgBvyI,KAAKsqI,UAAU6I,eAAiBnzI,KAAKsqI,UAAUuH,YACpF,OAAOwC,EAAYA,EAAUljI,MAAQkjI,EAAUr0H,SAAW,EAAI,IAChE,GACC,CACD5V,IAAK,YACLsH,MAAO,WACL,OAAO1R,KAAKqwI,eAAej0C,WAC7B,GACC,CACDhyF,IAAK,aACLsH,MAAO,WACL,IAAI4iI,EACAvrD,EAAU9oF,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,GAC/E,OAAO2oF,GAAO54E,KAAK44E,GAAO/2D,IAAI7xB,KAAKgf,OAAuC,QAA9Bs1H,EAAct0I,KAAKgf,aAAmC,IAAhBs1H,OAAyB,EAASA,EAAYnzH,YAAa4nE,EAC/I,GACC,CACD3+E,IAAK,WACLsH,MAAO,WACL,OAAO1R,KAAKw1E,OAAOE,UACrB,GACC,CACDtrE,IAAK,kBACLsH,MAAO,WACL,OAAOqmC,GAAwB/3C,KAAKgf,MACtC,GACC,CACD5U,IAAK,OACLsH,MAAO,WACL,IAAIw3H,EAAQnlD,GAAkC/F,KAAsBqE,MAAK,SAASoxC,IAChF,IAAI3xH,EAAKgQ,EAASqiH,EAAUogB,EAASt0I,UACrC,OAAO+9E,KAAsBU,MAAK,SAAmBi1C,GACnD,MAAO,SACGA,EAAU/wC,KAAO+wC,EAAUnhG,MACjC,KAAK,EAaH,OAZA1wB,EAAMyyI,EAAO9xI,OAAS,QAAmB,IAAd8xI,EAAO,GAAgBA,EAAO,GAAK,GAC9DziI,EAAUyiI,EAAO9xI,OAAS,QAAmB,IAAd8xI,EAAO,GAAgBA,EAAO,GAAK,CAAC,EACnEpgB,EAA8B,mBAAZriH,EAAwBA,IAAyB,OAAZA,QAAgC,IAAZA,IAAsBA,EAAQqiH,UAChF,WAArB1wC,GAAQ3xE,IAAqC,OAAZA,QAAgC,IAAZA,GAAsBA,EAAQ0iI,oBACrFx0I,KAAKuyI,eAAgB,EACrBvyI,KAAKy0I,eAAiB,KACtBz0I,KAAKqQ,OAAOuxB,eAAY,GAEtB9/B,IACF9B,KAAKqQ,OAAOvO,IAAMA,GACpBA,EAAM9B,KAAKqQ,OAAOvO,IAClB6xH,EAAUnhG,KAAO,EACVxyB,KAAKk8E,OAAOi4C,GACrB,KAAK,EAEH,OADAR,EAAUnhG,KAAO,GACVxyB,KAAK00I,UAAU5yI,GACxB,KAAK,GACH9B,KAAKu7E,aACP,KAAK,GACL,IAAK,MACH,OAAOo4C,EAAU5gD,OAEzB,GAAG0gD,EAAUzzH,KACf,KACA,SAAS4tB,IACP,OAAOs7G,EAAMnpI,MAAMC,KAAMC,UAC3B,CACA,OAAO2tB,CACT,CAnCO,IAoCN,CACDxjB,IAAK,YACLsH,MAAO,WACL,IAAIijI,EAAa5wD,GAAkC/F,KAAsBqE,MAAK,SAAS0xC,EAASjyH,GAC9F,IAAI8yI,EAAUnI,EAAep3E,EAAUw/E,EAAsBC,EAAuBC,EAAuBC,EAAuBC,EAAiBC,EAAQC,EAASC,EAAuBxzG,EAAWyzG,EACtM,OAAOr3D,KAAsBU,MAAK,SAAmBs1C,GACnD,MAAO,SACGA,EAAUpxC,KAAOoxC,EAAUxhG,MACjC,KAAK,EACH,IACM1wB,IACFA,EAAMA,EAAI+Y,OACd,CAAE,MAAOha,GACT,CACA,GAAIiB,EAAK,CACPkyH,EAAUxhG,KAAO,EACjB,KACF,CACA,MAAMxyB,KAAK6zI,WAAW,IAAI7nD,GAAepC,GAAIW,MAAOX,GAAIa,UAAUU,OAAQ,KAAM,KAAM,wBACxF,KAAK,EAEH,OADA6oC,EAAUxhG,KAAO,EACVxyB,KAAKs1I,UAAUxzI,GACxB,KAAK,EAGH,GAFA8yI,EAAW5gB,EAAUnzC,KACrB4rD,EAAgBzsI,KAAKsqI,UAAUmC,eAC1BzsI,KAAKuyI,cAAe,CACvBve,EAAUxhG,KAAO,GACjB,KACF,CACA,IAAKxyB,KAAK2gC,OAAQ,CAChBqzF,EAAUxhG,KAAO,GACjB,KACF,CACA6iC,EAAWr1D,KAAKsqI,UAAUiL,mBAAmBv1I,KAAKwyI,YAClDz9G,GAAOpkB,IAAI,cAAc/I,OAAO5H,KAAKwyI,WAAY,cAAc5qI,OAAOytD,EAAU,0BAC9D,IAAdA,IACFr1D,KAAKw1I,WAAa,KAClBx1I,KAAKwyI,WAAa,MAEpBxe,EAAUxhG,KAAO,GACjB,MACF,KAAK,GAQH,GAP8B,IAA1Bi6G,EAAcn7F,SAAkE,QAAhDujG,EAAuB70I,KAAKy0I,sBAAqD,IAAzBI,GAAmCA,EAAqBvjG,UAClJm7F,EAAcn7F,QAA4D,QAAjD0jG,EAAwBh1I,KAAKy0I,sBAAsD,IAA1BO,OAAmC,EAASA,EAAsB1jG,SAEtJ2jG,EAAqK,kBAAzF,QAAjDH,EAAwB90I,KAAKy0I,sBAAsD,IAA1BK,OAAmC,EAASA,EAAsBlzG,WAA4E,QAAjDmzG,EAAwB/0I,KAAKy0I,sBAAsD,IAA1BM,OAAmC,EAASA,EAAsBnzG,UAAY5hC,KAAKy1I,0BAC7Tz1I,KAAKqQ,OAAOuxB,UAAYqzG,EACxBC,EAASl1I,KAAKsqI,UAAUiE,uBAAuB0G,GAC/CE,EAAUn1I,KAAKsqI,UAAUkE,kBAAkB0G,EAAS,IAC/CC,EAAS,CACZnhB,EAAUxhG,KAAO,GACjB,KACF,CAGA,OAFA4iH,EAAwBD,EAAQhkI,MAChC6iH,EAAUxhG,KAAO,GACVxyB,KAAKqyI,eAAe9e,aAAa6hB,GAC1C,KAAK,GACH,GAAIR,EAAU,CACZ5gB,EAAUxhG,KAAO,GACjB,KACF,CACA,OAAOwhG,EAAUhzC,OAAO,UAC1B,KAAK,GACH,IAAKhhF,KAAK2gC,OAAQ,CAChBqzF,EAAUxhG,KAAO,GACjB,KACF,CAUA,GATAxyB,KAAKqyI,eAAep9C,qBAAqB,EAAG,YAC5ClgE,GAAOpkB,IAAI,gCAAiC3Q,KAAKsqI,UAAUha,eAC3Dv7F,GAAOpkB,IAAI,mBAAoB3Q,KAAKsqI,UAAUoL,YAC1C11I,KAAKqQ,OAAOgmH,cAAgBr2H,KAAKsqI,UAAUha,gBAC7CtwH,KAAKqQ,OAAOgmH,cAAgBr2H,KAAKsqI,UAAUha,cAC3CtwH,KAAKqQ,OAAOimH,WAAa,IAAMt2H,KAAKqQ,OAAOgmH,eAExCue,EAASpK,UACZxqI,KAAK21I,UAAU7zI,KACX9B,KAAKsqI,UAAUoL,WAAa11I,KAAKqQ,OAAOqmH,sBAAuB,CACnE1C,EAAUxhG,KAAO,GACjB,KACF,CACA,OAAOwhG,EAAUhzC,OAAO,UAC1B,KAAK,GAEH,OADAgzC,EAAUxhG,KAAO,GACVxyB,KAAK+wI,eACd,KAAK,GACH,OAAO/c,EAAUhzC,OAAO,UAC1B,KAAK,GAEH,OADAgzC,EAAUxhG,KAAO,GACVxyB,KAAKqyI,eAAe39E,eAAe+3E,EAAcnc,eAC1D,KAAK,GASH,OARA1uF,EAAY5hC,KAAKqQ,OAAOuxB,UACpBA,IACsD,QAAjDyzG,EAAwBr1I,KAAKy0I,sBAAsD,IAA1BY,GAAoCA,EAAsB9jG,WACxHvxC,KAAKgf,MAAMmC,YAAcygB,GAE3B5hC,KAAKsqI,UAAUyD,sBAAsB/tI,KAAKsqI,UAAUiE,uBAAuB3sG,IAAc,IAE3FoyF,EAAUxhG,KAAO,GACVxyB,KAAK+wI,eACd,KAAK,GACL,IAAK,MACH,OAAO/c,EAAUjhD,OAEzB,GAAGghD,EAAU/zH,KACf,KACA,SAAS00I,EAAUhpF,GACjB,OAAOipF,EAAW50I,MAAMC,KAAMC,UAChC,CACA,OAAOy0I,CACT,CA3GO,IA4GN,CACDtqI,IAAK,SACLsH,MAAO,WACL,IAAIkkI,EAAU7xD,GAAkC/F,KAAsBqE,MAAK,SAAS6xC,EAAS2hB,GAC3F,OAAO73D,KAAsBU,MAAK,SAAmB21C,GACnD,MAAO,SACGA,EAAUzxC,KAAOyxC,EAAU7hG,MACjC,KAAK,EAKH,OAJAxyB,KAAKqQ,OAAOuxB,UAAY,EACxB5hC,KAAKuyI,eAAgB,EACrBvyI,KAAKy0I,eAAiB,KACtBpgB,EAAU7hG,KAAO,EACVxyB,KAAK4tB,OACd,KAAK,EAEH,OADA5tB,KAAK2yI,eAAgB,EACdte,EAAUrzC,OAAO,SAAUhhF,KAAKgf,MAAMwP,MAAMqnH,IACrD,KAAK,EACL,IAAK,MACH,OAAOxhB,EAAUthD,OAEzB,GAAGmhD,EAAUl0H,KACf,KACA,SAASyyC,EAAOkjD,GACd,OAAOigD,EAAQ71I,MAAMC,KAAMC,UAC7B,CACA,OAAOwyC,CACT,CAxBO,IAyBN,CACDroC,IAAK,YACLsH,MAAO,WACL,IAAIokI,EAAa/xD,GAAkC/F,KAAsBqE,MAAK,SAASkyC,EAASzyH,GAC9F,IAAIgQ,EAASikI,EAAa3rI,EAAK4rI,EAAUzkG,EAAU3P,EAAWq0G,EAAUC,EAASj2I,UACjF,OAAO+9E,KAAsBU,MAAK,SAAmB81C,GACnD,MAAO,SACGA,EAAU5xC,KAAO4xC,EAAUhiG,MACjC,KAAK,EACH1gB,EAAUokI,EAAOzzI,OAAS,QAAmB,IAAdyzI,EAAO,GAAgBA,EAAO,GAAK,CAAC,EACnEH,EAAc,CACZxkG,UAAU,EACV3P,UAAW,EACX0P,QAAS,GAEXkjF,EAAUzQ,GAAKtgC,GAAQ3xE,GACvB0iH,EAAUhiG,KAAwB,WAAjBgiG,EAAUzQ,GAAkB,EAAqB,YAAjByQ,EAAUzQ,GAAmB,EAAqB,WAAjByQ,EAAUzQ,GAAkB,EAAI,GAClH,MACF,KAAK,EAIH,OAHAjyG,EAAU,CACR8vB,UAAW9vB,GAEN0iH,EAAUxzC,OAAO,QAAS,IACnC,KAAK,EAIH,OAHAlvE,EAAU,CACRy/B,SAAUz/B,GAEL0iH,EAAUxzC,OAAO,QAAS,IACnC,KAAK,EACH,IAAK52E,KAAO0H,OACW,IAAjBA,EAAQ1H,IAAoC,OAAjB0H,EAAQ1H,WAC9B0H,EAAQ1H,GAGnB,OAAOoqH,EAAUxzC,OAAO,QAAS,IACnC,KAAK,GACH,KAAM,+BAA+Bp5E,OAAOkK,GAC9C,KAAK,GAMH,GALAA,EAAU5L,OAAO+lB,OAAO,CAAC,EAAG8pH,EAAajkI,GACzCkkI,EAAWlkI,EAASy/B,EAAWykG,EAASzkG,SAAU3P,EAAYo0G,EAASp0G,UACvE5hC,KAAKqQ,OAAOvO,IAAMA,EAClB9B,KAAKqQ,OAAOuxB,UAAYA,EACxB5hC,KAAKy0I,eAAiB3iI,EAClBy/B,EAAU,CACZijF,EAAUhiG,KAAO,GACjB,KACF,CAEA,GADAgiG,EAAU5xC,KAAO,IACZ5iF,KAAKqQ,OAAO0gH,WAAY,CAC3ByD,EAAUhiG,KAAO,GACjB,KACF,CACAgiG,EAAUxQ,GAAKhkH,KAAK4tB,KAAK9rB,GACzB0yH,EAAUhiG,KAAO,GACjB,MACF,KAAK,GAEH,OADAgiG,EAAUhiG,KAAO,GACVxyB,KAAK4tB,KAAK9rB,GACnB,KAAK,GACH0yH,EAAUxQ,GAAKwQ,EAAU3zC,KAC3B,KAAK,GACHo1D,EAAWzhB,EAAUxQ,GACrBwQ,EAAUhiG,KAAO,GACjB,MACF,KAAK,GAIH,MAHAgiG,EAAU5xC,KAAO,GACjB4xC,EAAU2hB,GAAK3hB,EAAU,SAAS,IAClCx0H,KAAKkI,KAAK2X,GAAMy3E,kBAAmBk9B,EAAU2hB,IACvC3hB,EAAU2hB,GAClB,KAAK,GAOH,OANAn2I,KAAK2yI,eAAgB,EACjBsD,GACFj2I,KAAKkI,KAAK2X,GAAMw3E,mBAAoB,CAClCv1F,QAGG0yH,EAAUxzC,OAAO,SAAUhhF,KAAKgf,MAAMwP,MAAK,IACpD,KAAK,GASH,OARAxuB,KAAKuyI,eAAgB,EAChBvyI,KAAK2gC,SACR3gC,KAAKwyI,WAAa,KAClBxyI,KAAKw1I,WAAa,MAEpBx1I,KAAKsqI,UAAUt4F,QACfhyC,KAAKqyI,eAAe+D,iBACpB5hB,EAAUhiG,KAAO,GACVxyB,KAAK6yI,SACd,KAAK,GAEH,OADAre,EAAUhiG,KAAO,GACVxyB,KAAK00I,UAAU5yI,GACxB,KAAK,GACH9B,KAAKu7E,aACP,KAAK,GACHv7E,KAAKy0I,eAAiB,KACxB,KAAK,GACL,IAAK,MACH,OAAOjgB,EAAUzhD,OAEzB,GAAGwhD,EAAUv0H,KAAM,CAAC,CAAC,GAAI,KAC3B,KACA,SAASswC,EAAUslD,GACjB,OAAOkgD,EAAW/1I,MAAMC,KAAMC,UAChC,CACA,OAAOqwC,CACT,CAtGO,IAuGN,CACDlmC,IAAK,eACLsH,MAAO,WACL,IAAI2kI,EAAgBtyD,GAAkC/F,KAAsBqE,MAAK,SAASqyC,EAAStnH,GACjG,IAAIkpI,EAAOC,EAAWnR,EAASuG,EAAU6K,EAAOC,EAASx2I,UACzD,OAAO+9E,KAAsBU,MAAK,SAAmBi2C,GACnD,MAAO,SACGA,EAAU/xC,KAAO+xC,EAAUniG,MACjC,KAAK,EAIH,GAHA8jH,IAAQG,EAAOh0I,OAAS,QAAmB,IAAdg0I,EAAO,KAAgBA,EAAO,GAC3DF,EAAYv2I,KAAKysI,cACjBrH,EAAUplI,KAAKolI,QACRmR,GAAaA,EAAUnpI,KAAOA,GAAOg4H,KAAWA,EAAQ3iI,OAAS,GAAI,CAC1EkyH,EAAUniG,KAAO,EACjB,KACF,CACA,OAAOmiG,EAAU3zC,OAAO,UAC1B,KAAK,EAIH,GAHA2qD,EAAWvG,EAAQvrG,MAAK,SAAS1b,GAC/B,OAAOA,EAAE/Q,KAAOA,CAClB,IACIu+H,EAAU,CACZhX,EAAUniG,KAAO,EACjB,KACF,CACA,OAAOmiG,EAAU3zC,OAAO,UAC1B,KAAK,EAGH,OAFA2zC,EAAU/xC,KAAO,EACjB+xC,EAAUniG,KAAO,GACVxyB,KAAK6yI,SACd,KAAK,GACH,IAAKyD,EAAO,CACV3hB,EAAUniG,KAAO,GACjB,KACF,CAEA,OADAmiG,EAAUniG,KAAO,GACVxyB,KAAKqyI,eAAepe,iBAC7B,KAAK,GACHU,EAAUniG,KAAO,GACjB,MACF,KAAK,GAGH,MAFAmiG,EAAU/xC,KAAO,GACjB+xC,EAAU5Q,GAAK4Q,EAAU,SAAS,GAC5B30H,KAAK6zI,WAAW7nD,GAAe5kF,OAAOutH,EAAU5Q,KACxD,KAAK,GASH,GARIwyB,EAAUlL,oBAAsBM,EAAS9H,aAAaphI,OAAS,IACjE+zI,EAAQD,EAAUlL,mBAAmBj+H,GACrCu+H,EAASN,mBAAqBM,EAAS9H,aAAahqG,MAAK,SAAS1b,GAChE,OAAOA,EAAE/Q,KAAOopI,CAClB,KAAM7K,EAASN,oBAEjBrrI,KAAKsqI,UAAUmC,cAAgBd,EAC/BhX,EAAU/xC,KAAO,IACX5iF,KAAK2gC,QAAWgrG,EAAS5qH,SAASte,OAAS,CAC/CkyH,EAAUniG,KAAO,GACjB,KACF,CAEA,OADAmiG,EAAUniG,KAAO,GACVxyB,KAAK02I,eACd,KAAK,GAIH,OAHA12I,KAAKsqI,UAAUyD,sBAAsB/tI,KAAKsqI,UAAUiE,uBAAuBvuI,KAAKgf,MAAMmC,cAAgB,GACtGnhB,KAAKw1I,WAAa,KAClB7gB,EAAUniG,KAAO,GACVxyB,KAAKyyI,qBACd,KAAK,GACH9d,EAAUniG,KAAO,GACjB,MACF,KAAK,GAIH,MAHAmiG,EAAU/xC,KAAO,GACjB+xC,EAAU3Q,GAAK2Q,EAAU,SAAS,IAClC30H,KAAKsqI,UAAUmC,cAAgB8J,EACzB5hB,EAAU3Q,GAClB,KAAK,GAEH,OADAhkH,KAAKu7E,aACEo5C,EAAU3zC,OAAO,SAAU2qD,GACpC,KAAK,GACL,IAAK,MACH,OAAOhX,EAAU5hD,OAEzB,GAAG2hD,EAAU10H,KAAM,CAAC,CAAC,EAAG,IAAK,CAAC,GAAI,KACpC,KACA,SAAS22I,EAAa9gD,GACpB,OAAOwgD,EAAct2I,MAAMC,KAAMC,UACnC,CACA,OAAO02I,CACT,CAnFO,IAoFN,CACDvsI,IAAK,oBACLsH,MAAO,WACL,IAAIklI,EAAqB7yD,GAAkC/F,KAAsBqE,MAAK,SAAS0yC,EAAS3nH,GACtG,IAAIkpI,EAAOC,EAAWM,EAAalL,EAAUmL,EAAS72I,UACtD,OAAO+9E,KAAsBU,MAAK,SAAmBs2C,GACnD,MAAO,SACGA,EAAUpyC,KAAOoyC,EAAUxiG,MACjC,KAAK,EAGH,GAFA8jH,IAAQQ,EAAOr0I,OAAS,QAAmB,IAAdq0I,EAAO,KAAgBA,EAAO,GAC3DP,EAAYv2I,KAAKysI,cACb8J,EAAW,CACbvhB,EAAUxiG,KAAO,EACjB,KACF,CACA,OAAOwiG,EAAUh0C,OAAO,UAC1B,KAAK,EAEH,GADA61D,EAAcN,EAAUlL,mBACjBwL,GAAeA,EAAYzpI,KAAOA,KAAMmpI,EAAU1S,aAAaphI,OAAS,GAAI,CACjFuyH,EAAUxiG,KAAO,EACjB,KACF,CACA,OAAOwiG,EAAUh0C,OAAO,UAC1B,KAAK,EAIH,GAHA2qD,EAAW4K,EAAU1S,aAAahqG,MAAK,SAAS1b,GAC9C,OAAOA,EAAE/Q,KAAOA,CAClB,IACIu+H,EAAU,CACZ3W,EAAUxiG,KAAO,GACjB,KACF,CACA,OAAOwiG,EAAUh0C,OAAO,UAC1B,KAAK,GAGH,OAFAg0C,EAAUpyC,KAAO,GACjBoyC,EAAUxiG,KAAO,GACVxyB,KAAK6yI,SACd,KAAK,GACH,IAAKyD,EAAO,CACVthB,EAAUxiG,KAAO,GACjB,KACF,CAEA,OADAwiG,EAAUxiG,KAAO,GACVxyB,KAAKqyI,eAAepe,iBAC7B,KAAK,GACHe,EAAUxiG,KAAO,GACjB,MACF,KAAK,GAGH,MAFAwiG,EAAUpyC,KAAO,GACjBoyC,EAAUjR,GAAKiR,EAAU,SAAS,IAC5Bh1H,KAAK6zI,WAAW7nD,GAAe5kF,OAAO4tH,EAAUjR,KACxD,KAAK,GAGH,GAFAwyB,EAAUlL,mBAAqBM,EAC/B3W,EAAUpyC,KAAO,IACX5iF,KAAK2gC,QAAWgrG,EAAS5qH,SAASte,OAAS,CAC/CuyH,EAAUxiG,KAAO,GACjB,KACF,CAEA,OADAwiG,EAAUxiG,KAAO,GACVxyB,KAAK02I,eACd,KAAK,GAIH,OAHA12I,KAAKsqI,UAAUyD,sBAAsB/tI,KAAKsqI,UAAUiE,uBAAuBvuI,KAAKgf,MAAMmC,cAAgB,GACtGnhB,KAAKw1I,WAAa,KAClBxgB,EAAUxiG,KAAO,GACVxyB,KAAKyyI,qBACd,KAAK,GACHzd,EAAUxiG,KAAO,GACjB,MACF,KAAK,GAIH,MAHAwiG,EAAUpyC,KAAO,GACjBoyC,EAAUhR,GAAKgR,EAAU,SAAS,IAClCuhB,EAAUlL,mBAAqBwL,EACzB7hB,EAAUhR,GAClB,KAAK,GAEH,OADAhkH,KAAKu7E,aACEy5C,EAAUh0C,OAAO,SAAU2qD,GACpC,KAAK,GACL,IAAK,MACH,OAAO3W,EAAUjiD,OAEzB,GAAGgiD,EAAU/0H,KAAM,CAAC,CAAC,GAAI,IAAK,CAAC,GAAI,KACrC,KACA,SAAS+2I,EAAkB9yB,GACzB,OAAO2yB,EAAmB72I,MAAMC,KAAMC,UACxC,CACA,OAAO82I,CACT,CAnFO,IAoFN,CACD3sI,IAAK,uBACLsH,MAAO,WACL,IAAIslI,EAAwBjzD,GAAkC/F,KAAsBqE,MAAK,SAAS8yC,EAAU/gH,GAC1G,OAAO4pE,KAAsBU,MAAK,SAAoB22C,GACpD,MAAO,SACGA,EAAWzyC,KAAOyyC,EAAW7iG,MACnC,KAAK,EAGH,OAFAxyB,KAAKsqI,UAAU8D,eAAeh6H,GAC9BihH,EAAW7iG,KAAO,EACXxyB,KAAKg0I,gBAAgBiD,WAC9B,KAAK,EAEH,OADA5hB,EAAW7iG,KAAO,EACXxyB,KAAK02I,eACd,KAAK,EACL,IAAK,MACH,OAAOrhB,EAAWtiD,OAE1B,GAAGoiD,EAAWn1H,KAChB,KACA,SAASk3I,EAAqBhzB,GAC5B,OAAO8yB,EAAsBj3I,MAAMC,KAAMC,UAC3C,CACA,OAAOi3I,CACT,CAtBO,IAuBN,CACD9sI,IAAK,cACLsH,MAAO,WACL,IAAIojH,EAAe/wC,GAAkC/F,KAAsBqE,MAAK,SAAS80D,IACvF,OAAOn5D,KAAsBU,MAAK,SAAoB04D,GACpD,MAAO,SACGA,EAAWx0D,KAAOw0D,EAAW5kH,MACnC,KAAK,EACH,IAAKxyB,KAAKqyI,eAAgB,CACxB+E,EAAW5kH,KAAO,EAClB,KACF,CAEA,OADA4kH,EAAW5kH,KAAO,EACXxyB,KAAKqyI,eAAepd,cAC7B,KAAK,EACL,IAAK,MACH,OAAOmiB,EAAWrkE,OAE1B,GAAGokE,EAAWn3I,KAChB,KACA,SAASi1H,IACP,OAAOH,EAAa/0H,MAAMC,KAAMC,UAClC,CACA,OAAOg1H,CACT,CAtBO,IAuBN,CACD7qH,IAAK,UACLsH,MAAO,WACL,IAAIwjH,EAAWnxC,GAAkC/F,KAAsBqE,MAAK,SAASg1D,IACnF,IAAIC,EACJ,OAAOt5D,KAAsBU,MAAK,SAAoB64D,GACpD,MAAO,SACGA,EAAW30D,KAAO20D,EAAW/kH,MACnC,KAAK,EACH,GAAIxyB,KAAKgf,MAAO,CACdu4H,EAAW/kH,KAAO,EAClB,KACF,CACA,OAAO+kH,EAAWv2D,OAAO,UAC3B,KAAK,EAWH,OAVAhhF,KAAK8I,qBACL9I,KAAKsqI,UAAUt4F,QACfhyC,KAAKqwI,eAAer+F,QACwB,QAA3CslG,EAAqBt3I,KAAKszI,mBAAgD,IAAvBgE,GAAyCA,EAAmBtlG,QAChHhyC,KAAKgf,MAAM5e,oBAAoB,aAAcJ,KAAKi0I,eAClDj0I,KAAKgf,MAAM5e,oBAAoB,OAAQJ,KAAKk9D,SAC5Cl9D,KAAKgf,MAAM5e,oBAAoB,QAASJ,KAAKk0I,UAC7Cl0I,KAAKgf,MAAM5e,oBAAoB,UAAWJ,KAAKo8C,YAC/Cp8C,KAAKgf,MAAM5e,oBAAoB,aAAcJ,KAAK28C,eAClD46F,EAAW/kH,KAAO,GACXjO,QAAQ8Z,IAAI,CAACr+B,KAAK6yI,SAAU7yI,KAAKqyI,eAAelyI,YACzD,KAAK,GACHH,KAAKgf,MAAQ,KACf,KAAK,GACL,IAAK,MACH,OAAOu4H,EAAWxkE,OAE1B,GAAGskE,EAAWr3I,KAChB,KACA,SAASG,IACP,OAAO+0H,EAASn1H,MAAMC,KAAMC,UAC9B,CACA,OAAOE,CACT,CApCO,IAqCN,CACDiK,IAAK,YACLsH,MAAO,WACL,IAAI8lI,EAAWzzD,GAAkC/F,KAAsBqE,MAAK,SAASo1D,EAAU31I,GAC7F,IAAIqoI,EAAUuN,EAAuBC,EAAwB/C,EAAUxrB,EAAO8C,EAAO0rB,EACrF,OAAO55D,KAAsBU,MAAK,SAAoBm5D,GACpD,MAAO,SACGA,EAAWj1D,KAAOi1D,EAAWrlH,MACnC,KAAK,EAKH,GAJAqlH,EAAWj1D,KAAO,EAClBgyD,EAAkE,QAAtD8C,EAAwB13I,KAAKqQ,OAAOomH,oBAAoD,IAA1BihB,GAE/D,QAF4GC,EAAyBD,EAAsBl1H,QAAO,SAASrE,GACpL,OAAOA,EAAErc,MAAQA,CACnB,IAAG,UAA2C,IAA3B61I,OAF0F,EAE7CA,EAAuB/C,UAClFA,EAAU,CACbiD,EAAWrlH,KAAO,EAClB,KACF,CACAqlH,EAAW9zB,GAAK/jH,KAAKg0I,gBAAgB8D,UAAUlD,EAAU9yI,GACzD+1I,EAAWrlH,KAAO,EAClB,MACF,KAAK,EAEH,OADAqlH,EAAWrlH,KAAO,EACXxyB,KAAKg0I,gBAAgBpmH,KAAK9rB,GACnC,KAAK,EACH+1I,EAAW9zB,GAAK8zB,EAAWh3D,KAC7B,KAAK,EACHuoC,EAAQyuB,EAAW9zB,GACnBmI,EAAQ/lC,GAAeijC,EAAO,GAC9B+gB,EAAWje,EAAM,GACjB2rB,EAAWrlH,KAAO,GAClB,MACF,KAAK,GAGH,MAFAqlH,EAAWj1D,KAAO,GAClBi1D,EAAW7zB,GAAK6zB,EAAW,SAAS,GAC9B73I,KAAK6zI,WAAW7nD,GAAe5kF,OAAOywI,EAAW7zB,KACzD,KAAK,GACH,GAAImmB,EAAU,CACZ0N,EAAWrlH,KAAO,GAClB,KACF,CACA,OAAOqlH,EAAW72D,OAAO,UAC3B,KAAK,GAEH,GADAhhF,KAAKsqI,UAAUyN,eAAe5N,IACzBA,EAASK,SAAU,CACtBqN,EAAWrlH,KAAO,GAClB,KACF,CAOA,OAN+E,QAA1EolH,EAAwB53I,KAAKsqI,UAAUmC,cAAc3I,uBAAuD,IAA1B8T,GAAoCA,EAAsBn1I,QAC/IzC,KAAKkI,KAAK2X,GAAMgvG,kBAAmB,CACjCr9G,KAAMxR,KAAKsqI,UAAUmC,cAAc3I,kBAGvC+T,EAAWrlH,KAAO,GACXxyB,KAAK02I,eACd,KAAK,GAEH,OADA12I,KAAKkI,KAAK2X,GAAM6uG,eACTmpB,EAAW72D,OAAO,SAAUmpD,GACrC,KAAK,GACL,IAAK,MACH,OAAO0N,EAAW9kE,OAE1B,GAAG0kE,EAAWz3I,KAAM,CAAC,CAAC,EAAG,KAC3B,KACA,SAASs1I,EAAUnxB,GACjB,OAAOqzB,EAASz3I,MAAMC,KAAMC,UAC9B,CACA,OAAOq1I,CACT,CAjEO,IAkEN,CACDlrI,IAAK,eACLsH,MAAO,WACL,IAAIsmI,EAAuBC,EAAuB3nD,EAAStwF,KACvDgkI,EAAShkI,KAAKsqI,UAAUmC,cAC5B,IAAKzI,IAAWA,EAAOliI,IACrB,MAAM9B,KAAK6zI,WAAW7nD,GAAe5kF,OAAO,KAAM,KAAM,IAAI6xB,MAAM,6BACpE,IAAIn3B,EAAMkiI,EAAOliI,IACbqnI,EAAmE,QAAvD6O,EAAwBhU,EAAOqH,0BAA0D,IAA1B2M,OAAmC,EAASA,EAAsBl2I,IAC7IsnI,EAAyE,QAA1D6O,EAAwBjU,EAAOoH,6BAA6D,IAA1B6M,OAAmC,EAASA,EAAsBn2I,IACvJ,OAAO9B,KAAKg0I,gBAAgBpmH,KAAK9rB,EAAKqnI,EAAUC,GAAa32G,MAAK,SAAS05F,GACzE,IAAIK,EAAQrmC,GAAegmC,EAAO,GAAI+rB,EAAgB1rB,EAAM,GAAI4d,EAAgB5d,EAAM,GAAI6d,EAAmB7d,EAAM,GAC9G0rB,IAEL5nD,EAAOg6C,UAAUyN,eAAeG,EAAe9N,EAAeC,GACzD/5C,EAAO3vD,QAEZ2vD,EAAOqlD,UAAU7zI,EAAKqnI,EAAUC,GAClC,IAAGj2G,OAAM,SAASzd,GAChB,MAAM46E,EAAOujD,WAAW7nD,GAAe5kF,OAAOsO,GAChD,GACF,GACC,CACDtL,IAAK,YACLsH,MAAO,SAAmB5P,EAAKqnI,EAAUC,GACvC,IAEI+O,EAIEC,EANF/mD,EAASrxF,KACTq4I,EAAUr4I,KAAKsqI,UAAU+N,QAEzBr4I,KAAKsqI,UAAUvE,WACjBoS,EAAwE,KAAxDn4I,KAAKsqI,UAAUmC,cAAczG,oBAAsB,GAGnEmS,EAAsK,MAA5F,QAAxDC,EAAwBp4I,KAAKsqI,UAAUvC,mBAAmD,IAA1BqQ,OAAmC,EAASA,EAAsBp4H,WAAa,GAEnKhgB,KAAKg0I,gBAAgBsE,KACnBx2I,EACAqnI,EACAC,GACA,SAASmP,EAAIzzD,EAAI0zD,GACfnnD,EAAOi5C,UAAUyN,eAAeQ,EAAIzzD,EAAI0zD,GACxCnnD,EAAOi5C,UAAU+D,kBACjB,IAAIoK,EAAkBF,GAAMF,IAAYhnD,EAAOi5C,UAAU+N,SACrDI,IAAoBpnD,EAAOi5C,UAAUoO,kBAAoBrnD,EAAOi5C,UAAUoL,YAAcrkD,EAAOhhF,OAAOqmH,uBACxGrlC,EAAO0/C,eAELsH,IACFA,EAAUhnD,EAAOi5C,UAAU+N,QAC/B,IACA,SAAS3iI,GACP27E,EAAOwiD,WAAW7nD,GAAe5kF,OAAOsO,GAC1C,GACAyiI,EAEJ,GACC,CACD/tI,IAAK,qBACLsH,MAAO,WACL,IAAIinI,EAAsB50D,GAAkC/F,KAAsBqE,MAAK,SAASu2D,EAAUC,GACxG,IAAIr1B,EAAKyyB,EAAU6C,EAAaC,EAAwBlnD,EAAWmnD,EACnE,OAAOh7D,KAAsBU,MAAK,SAAoBu6D,GACpD,MAAO,SACGA,EAAWr2D,KAAOq2D,EAAWzmH,MACnC,KAAK,EAEH,GADAgxF,EAAMxjH,KAAKsqI,UAAUuH,YACjBruB,EAAK,CACPy1B,EAAWzmH,KAAO,EAClB,KACF,CACA,OAAOymH,EAAWj4D,OAAO,UAC3B,KAAK,EAOH,OANAi1D,GAAW,EACX6C,EAAc,KACdG,EAAWr2D,KAAO,EAClB5iF,KAAKmyI,oBAAqB,EAC1Bp9G,GAAOpkB,IAAI,oBAAoB/I,OAAO47G,EAAIie,GAAI,OAAO75H,OAAO47G,EAAIryG,MAAO,MAAMvJ,OAAO47G,EAAInyG,IAAK,iBAAiBzJ,OAAO47G,EAAImjB,YACzHsS,EAAWzmH,KAAO,GACXxyB,KAAKk5I,qBAAqB11B,EAAKxjH,KAAKsqI,UAAUoD,gBAAgBlqB,IACvE,KAAK,GACHyyB,EAAWgD,EAAWp4D,KACtBo4D,EAAWzmH,KAAO,GAClB,MACF,KAAK,GACHymH,EAAWr2D,KAAO,GAClBq2D,EAAWl1B,GAAKk1B,EAAW,SAAS,GACpCH,EAAcG,EAAWl1B,GAC3B,KAAK,GAGH,OAFAk1B,EAAWr2D,KAAO,GAClB5iF,KAAKmyI,oBAAqB,EACnB8G,EAAW31D,OAAO,IAC3B,KAAK,GACH,IAAKw1D,EAAa,CAChBG,EAAWzmH,KAAO,GAClB,KACF,CACA,IAAKxyB,KAAKqyI,eAAev8C,SAAU,CACjCmjD,EAAWzmH,KAAO,GAClB,KACF,CAIA,OAHAuC,GAAOpkB,IAAI,oBAAoB/I,OAAO47G,EAAIie,GAAI,gBAAgB75H,OAAO47G,EAAImjB,YACzE3mI,KAAKmyI,oBAAqB,EAC1BnyI,KAAK0zI,yBAA0B,EACxBuF,EAAWj4D,OAAO,UAAU,GACrC,KAAK,GACH,OAAOi4D,EAAWj4D,OAAO,SAAUhhF,KAAK6zI,WAAW7nD,GAAe5kF,OAAO0xI,KAC3E,KAAK,GAyBH,OAxBI7C,IACFpkD,EAAY7xF,KAAKy8F,aAAaprF,IAC1BrR,KAAK2gC,SAAW3gC,KAAKgf,MAAMuQ,SAAWsiE,GAAa1mF,KAAK0V,IAAI2iG,EAAInyG,IAAMwgF,GAAa,IACrF98D,GAAO7kB,KAAK,YAAYtI,OAAO47G,EAAIie,GAAI,kBAAkB75H,OAAO47G,EAAInyG,IAAK,eAAezJ,OAAOiqF,IAC/F7xF,KAAKsqI,UAAU6O,iBAAiB31B,EAAK3xB,IAEvCmnD,GAA0E,QAA3DD,EAAyB/4I,KAAKsqI,UAAUmC,qBAAsD,IAA3BsM,OAAoC,EAASA,EAAuBj3I,OAAS0hH,EAAIwd,UAC/JhhI,KAAKuyI,gBAAkByG,IACzBjkH,GAAO7kB,KAAK,kCACZlQ,KAAKqyI,eAAe+D,kBAElBp2I,KAAK2gC,QAAU3gC,KAAKuyI,eAAiByG,IACvCh5I,KAAKuyI,eAAgB,EACrBvyI,KAAKkI,KAAK2X,GAAMw3E,mBAAoB,CAClCv1F,IAAK9B,KAAKqQ,OAAOvO,OAGrB9B,KAAKsqI,UAAU8O,qBACX51B,EAAIwkB,OACNhoI,KAAK85D,OACK++E,GACV74I,KAAK+wI,gBAGFkI,EAAWj4D,OAAO,SAAUi1D,GACrC,KAAK,GACL,IAAK,MACH,OAAOgD,EAAWlmE,OAE1B,GAAG6lE,EAAW54I,KAAM,CAAC,CAAC,EAAG,GAAI,GAAI,KACnC,KACA,SAASyyI,EAAmBvf,GAC1B,OAAOylB,EAAoB54I,MAAMC,KAAMC,UACzC,CACA,OAAOwyI,CACT,CApFO,IAqFN,CACDroI,IAAK,uBACLsH,MAAO,WACL,IAAI2nI,EAAwBt1D,GAAkC/F,KAAsBqE,MAAK,SAASi3D,EAAU91B,EAAKktB,GAC/G,IAAI6I,EACA7S,EAAI/kC,EAAe63C,EAAWp4I,EAAMqgI,EAAItwH,EAAO6yH,EAAQyV,EAAQ73C,EAAY83C,EAC/E,OAAO17D,KAAsBU,MAAK,SAAoBi7D,GACpD,MAAO,SACGA,EAAW/2D,KAAO+2D,EAAWnnH,MACnC,KAAK,EAMH,OALAk0G,EAAKljB,EAAMA,EAAIkjB,GAAKgK,EAAShK,GAC7B/kC,EAAgB3hG,KAAKw1I,aAAe9O,EACpC8S,EAAY,GACZG,EAAW/2D,KAAO,EAClB+2D,EAAWnnH,KAAO,EACXxyB,KAAKqwI,eAAeziH,KAAK41F,EAAKktB,EAAU/uC,GACjD,KAAK,EACH63C,EAAYG,EAAW94D,KACvB84D,EAAWnnH,KAAO,GAClB,MACF,KAAK,EAKH,MAJAmnH,EAAW/2D,KAAO,EAClB+2D,EAAW51B,GAAK41B,EAAW,SAAS,GACpCA,EAAW51B,GAAG6vB,OAAQ,EACtB5zI,KAAKqwI,eAAepgI,MAAQ0pI,EAAW51B,GACjC41B,EAAW51B,GACnB,KAAK,GACH,GAAIy1B,EAAU,GAAI,CAChBG,EAAWnnH,KAAO,GAClB,KACF,CACA,OAAOmnH,EAAW34D,OAAO,UAC3B,KAAK,GAEH,OADA24D,EAAWnnH,KAAO,IACV+mH,EAAwBv5I,KAAKqyI,gBAAgBuH,cAAc75I,MAAMw5I,EAAuBhzD,GAAmBizD,IACrH,KAAK,GAEH,GADAp4I,EAAOu4I,EAAW94D,KACdz/E,EAAM,CACRu4I,EAAWnnH,KAAO,GAClB,KACF,CACA,OAAOmnH,EAAW34D,OAAO,UAC3B,KAAK,GAcH,OAbAygD,EAAKje,EAAMA,EAAIie,GAAKiP,EAASjP,GAC7BtwH,EAAQqyG,EAAMA,EAAIryG,MAAQu/H,EAASv/H,MACnC6yH,EAAShkI,KAAKsqI,UAAUmC,cACxBzsI,KAAKqyI,eAAep+C,aAAa7yF,EAAK,GAAIA,EAAK,GAAe,OAAX4iI,QAA8B,IAAXA,OAAoB,EAASA,EAAOvqC,WAAuB,OAAXuqC,QAA8B,IAAXA,OAAoB,EAASA,EAAOxqC,YAC7KigD,EAAS/lI,KAAKC,MACdiuF,EAAa5hG,KAAKwyI,aAAe/Q,EAAK,EAClCzhI,KAAK2gC,QAAU3gC,KAAKuyI,gBACtBmH,EAAW15I,KAAKy8F,aAAaprF,IAC7BrR,KAAKsqI,UAAUmE,qBAAqBhN,EAAIiY,GACxC3kH,GAAO7kB,KAAK,gDAAgDtI,OAAO65H,EAAI,mBAAmB75H,OAAO8xI,EAAU,eAAe9xI,OAAO5H,KAAKsqI,UAAU6C,WAChJh8H,EAAQuoI,GAEVC,EAAWnnH,KAAO,GACXxyB,KAAKqyI,eAAe/9C,aAAakvB,EAAKktB,EAAUtvI,EAAK,GAAIA,EAAK,GAAIugG,EAAeC,EAAYzwF,GACtG,KAAK,GAMH,OALAnR,KAAKkI,KAAK2X,GAAMkvG,YAAa,CAC3B2Z,QAASh1H,KAAKC,MAAQ8lI,EACtB33I,IAAK0hH,EAAI1hH,MAEX63I,EAAWnnH,KAAO,GACXxyB,KAAKqyI,eAAeze,YAAY5zH,KAAKqQ,OAAOqjH,cACrD,KAAK,GAGH,OAFA1zH,KAAKw1I,WAAa9O,EAClB1mI,KAAKwyI,WAAa/Q,EACXkY,EAAW34D,OAAO,UAAU,GACrC,KAAK,GACL,IAAK,MACH,OAAO24D,EAAW5mE,OAE1B,GAAGumE,EAAWt5I,KAAM,CAAC,CAAC,EAAG,IAC3B,KACA,SAASk5I,EAAqBrlB,EAAKe,GACjC,OAAOykB,EAAsBt5I,MAAMC,KAAMC,UAC3C,CACA,OAAOi5I,CACT,CA5EO,IA6EN,CACD9uI,IAAK,wBACLsH,MAAO,WACL,IAAImoI,EAAyB91D,GAAkC/F,KAAsBqE,MAAK,SAASy3D,IACjG,IAAIljF,EAAUl5C,EAAUq8H,EAAYp2I,EAAG+vH,EAAcsmB,EACrD,OAAOh8D,KAAsBU,MAAK,SAAoBu7D,GACpD,MAAO,SACGA,EAAWr3D,KAAOq3D,EAAWznH,MACnC,KAAK,EACHokC,EAAW52D,KAAKgf,MAAMmC,YACtBzD,EAAW1d,KAAKgf,MAAMtB,SACtBq8H,GAAa,EACbp2I,EAAI,EACN,KAAK,EACH,KAAMA,EAAI+Z,EAASjb,QAAS,CAC1Bw3I,EAAWznH,KAAO,GAClB,KACF,CACA,KAAM9U,EAASvM,MAAM,IAAMylD,GAAYA,EAAWl5C,EAASrM,IAAI1N,IAAK,CAClEs2I,EAAWznH,KAAO,EAClB,KACF,CAEA,OADAunH,GAAa,EACNE,EAAWj5D,OAAO,QAAS,IACpC,KAAK,EACHr9E,IACAs2I,EAAWznH,KAAO,EAClB,MACF,KAAK,GACH,IAAKxyB,KAAKqyI,eAAev8C,SAAU,CACjCmkD,EAAWznH,KAAO,GAClB,KACF,CAGA,GAFAkhG,EAAeqmB,EAAa/5I,KAAKqQ,OAAOqjH,aAAe,EACvDsmB,EAAYh6I,KAAKgf,MAAMmC,cACjB64H,EAAYtmB,EAAe,GAAI,CACnCumB,EAAWznH,KAAO,GAClB,KACF,CAEA,OADAynH,EAAWznH,KAAO,GACXxyB,KAAKqyI,eAAe9e,aAAa,EAAGymB,EAAYtmB,GACzD,KAAK,GACL,IAAK,MACH,OAAOumB,EAAWlnE,OAE1B,GAAG+mE,EAAW95I,KAChB,KACA,SAASkzI,IACP,OAAO2G,EAAuB95I,MAAMC,KAAMC,UAC5C,CACA,OAAOizI,CACT,CAjDO,IAkDN,CACD9oI,IAAK,0BACLsH,MAAO,SAAiCiB,GACtC,IAAIunI,EAAal6I,KAAKsqI,UAAU6P,wBAAwBxnI,EAAM3S,KAAKqyI,eAAe/D,MAC7E4L,GAELl6I,KAAKswC,UAAUtwC,KAAKqQ,OAAOvO,IAAKo4I,EAAW/oI,MAAQ,GACrD,GACC,CACD/G,IAAK,SACLsH,MAAO,WACL,IAAI0oI,EAAUr2D,GAAkC/F,KAAsBqE,MAAK,SAASg4D,IAClF,OAAOr8D,KAAsBU,MAAK,SAAoB47D,GACpD,MAAO,SACGA,EAAW13D,KAAO03D,EAAW9nH,MACnC,KAAK,EAIH,OAHAtf,aAAalT,KAAK0yI,kBAClB1yI,KAAKw7E,YACL8+D,EAAW9nH,KAAO,EACXjO,QAAQ8Z,IAAI,CAACr+B,KAAKqwI,eAAex8H,SAAU7T,KAAKg0I,gBAAgBiD,aACzE,KAAK,EACHj3I,KAAKmyI,oBAAqB,EAC5B,KAAK,EACL,IAAK,MACH,OAAOmI,EAAWvnE,OAE1B,GAAGsnE,EAAWr6I,KAChB,KACA,SAAS6yI,IACP,OAAOuH,EAAQr6I,MAAMC,KAAMC,UAC7B,CACA,OAAO4yI,CACT,CAtBO,IAuBN,CACDzoI,IAAK,SACLsH,MAAO,WACL,IAAI6oI,EAAUx2D,GAAkC/F,KAAsBqE,MAAK,SAASm4D,IAClF,IAAIC,EACAtmB,EAAUumB,EAAUz6I,UACxB,OAAO+9E,KAAsBU,MAAK,SAAoBi8D,GACpD,MAAO,SACGA,EAAW/3D,KAAO+3D,EAAWnoH,MACnC,KAAK,EAWH,OAVA2hG,EAAWumB,EAAQj4I,OAAS,QAAoB,IAAfi4I,EAAQ,IAAgBA,EAAQ,GACjE16I,KAAK2yI,eAAgB,EACrB3yI,KAAKwyI,WAAa,KAClBxyI,KAAKw1I,WAAa,KAClBx1I,KAAKy0I,eAAiB,KACtBz0I,KAAKsqI,UAAUt4F,QACfhyC,KAAKqwI,eAAer+F,QACwB,QAA3CyoG,EAAqBz6I,KAAKszI,mBAAgD,IAAvBmH,GAAyCA,EAAmBzoG,QAChHhyC,KAAKw1E,OAAOxjC,QACZ2oG,EAAWnoH,KAAO,GACXxyB,KAAK6yI,SACd,KAAK,GACH,OAAO8H,EAAW35D,OAAO,SAAUhhF,KAAKqyI,eAAergG,MAAMmiF,IAC/D,KAAK,GACL,IAAK,MACH,OAAOwmB,EAAW5nE,OAE1B,GAAGynE,EAAWx6I,KAChB,KACA,SAASk8E,IACP,OAAOq+D,EAAQx6I,MAAMC,KAAMC,UAC7B,CACA,OAAOi8E,CACT,CA/BO,IAgCN,CACD9xE,IAAK,OACLsH,MAAO,WACL1R,KAAK6yI,SACL7yI,KAAKqyI,eAAe7+C,eAChBxzF,KAAKgf,MAAM8G,YAAc,GAAK9lB,KAAKgf,MAAMtB,SAASjb,OAAS,IAC7DzC,KAAKu7E,YAET,GACC,CACDnxE,IAAK,YACLsH,MAAO,WACD1R,KAAK46I,YACP1nI,aAAalT,KAAK46I,YAEpB56I,KAAK46I,WAAa,IACpB,GACC,CACDxwI,IAAK,aACLsH,MAAO,WACL1R,KAAKw7E,YACLx7E,KAAK46I,WAAax3I,WAAWpD,KAAK66I,MAAO76I,KAAK86I,cAChD,GACC,CACD1wI,IAAK,aACLsH,MAAO,SAAoBzB,GACzB,IAAI8qI,EAKEC,EAAcC,EAAcC,EAJ9B1nD,EAAcvzF,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,IAAgBA,UAAU,IACmD,KAA/E,QAA5C86I,EAAqB9qI,EAAMuV,mBAAgD,IAAvBu1H,OAAgC,EAASA,EAAmBnH,OACpH7+G,GAAO7kB,KAAKD,IAGZ8kB,GAAO45D,MAAM1+E,GACb8kB,GAAO9kB,MAAMA,GACb8kB,GAAO9kB,MAAsC,QAA/B+qI,EAAeh7I,KAAKgf,aAAoC,IAAjBg8H,OAA0B,EAASA,EAAa/qI,OACjE,QAA/BgrI,EAAej7I,KAAKgf,aAAoC,IAAjBi8H,GAA2BA,EAAan1H,YAClF9lB,KAAKgf,MAAMsP,QAEbtuB,KAAKw7E,YACDx7E,KAAKuyI,gBACPvyI,KAAKuyI,eAAgB,EACrBvyI,KAAKkI,KAAK2X,GAAMy3E,kBAAmBrnF,IAErCjQ,KAAKkI,KAAK2X,GAAM8G,MAAO1W,GACnBujF,GACFxzF,KAAK85D,OACqC,QAA3CohF,EAAqBl7I,KAAKszI,mBAAgD,IAAvB4H,GAAyCA,EAAmBlpG,SAElH,OAAO/hC,CACT,GACC,CACD7F,IAAK,0BACLsH,MAAO,WACL,IAAIsN,EAAQhf,KAAKgf,MACbm8H,EAAgBn8H,EAAMmC,YAC1B,IAAKnC,EAAM+L,OAAQ,CACjB,IAAIqwH,EACAlG,EAASl1I,KAAKsqI,UAAUiE,uBAAuBvvH,EAAMmC,aACrD6xH,EAAShzI,KAAKsqI,UAAUkE,kBAAkB0G,GAC1CmG,EAA8C,QAAhCD,EAAep7I,KAAKw1E,cAAqC,IAAjB4lE,OAA0B,EAASA,EAAa1lE,WAAWymB,cACrH,GAAIk/C,GAAcrI,EAAQ,CACxB,IAAI7+F,EAAQ6+F,EAAOhzH,SAAWhgB,KAAKsqI,UAAUmC,cAAcn7F,QAAU+pG,EAAa,EAClFF,GAAiBhnG,CACnB,MACEgnG,GAAiB,CAErB,CACA,OAAOA,CACT,GACC,CACD/wI,IAAK,UACLsH,MAAO,WACL,IAAI4pI,EAAuBC,EACvBv8H,EAAQhf,KAAKgf,MACbw8H,EAAmBx7I,KAAKsqI,UAAWuH,EAAc2J,EAAiB3J,YAAa9J,EAAcyT,EAAiBzT,YAC9G0T,IAAe5J,GAAe9J,GAAen/C,GAAO8yD,WAAW18H,EAAO+oH,EAAY52H,MAAQ42H,EAAY/nH,SAAW,KAAOhB,EAAM8G,YAAc9G,EAAMgB,SAAW,IAAwD,QAAjDs7H,EAAwBt7I,KAAKqyI,sBAAsD,IAA1BiJ,OAAmC,EAASA,EAAsBK,eAAmE,QAAjDJ,EAAwBv7I,KAAKqyI,sBAAsD,IAA1BkJ,GAAoCA,EAAsBK,cACxa,GAAKH,EAAL,CAGA,IAAIxJ,EAAQjyI,KAAKy8F,aACbz9E,EAAM+L,SAAW/L,EAAMmC,cACzB8wH,EAAQjyI,KAAKy8F,WAAWw1C,EAAM7oD,WAAa,KAE7C,IAAI8oD,EAAmB/mI,KAAK0V,IAAIoxH,EAAM5gI,IAAM2N,EAAMgB,UAAY,KAAQhgB,KAAK2gC,QAAUonG,GAAekK,EAAM5gI,KAAO02H,EAAY52H,MAAQ42H,EAAY/nH,SAC7IkyH,GACFlyI,KAAKqyI,eAAe7+C,aAPtB,CASF,IACE,CAAC,CACHppF,IAAK,cACLsH,MAAO,SAAqB+a,GAC1B,OAAKA,GAA2B,UAAdA,GAAuC,UAAdA,EAGb,qBAAhBovH,YAFLzrD,GAAI3yD,aAGf,GACC,CACDrzB,IAAK,eACLsH,MAAO,WACLm7E,GAAO/yD,SACPgiH,GAAShiH,QACX,GACC,CACD1vB,IAAK,gBACLsH,MAAO,WACLm7E,GAAOjzD,UACPkiH,GAASliH,SACX,KAEK83G,CACT,CAh4C0B,CAg4CxBvqI,KACF02E,GAAgB4zD,GAAK,UAAW,UAChC,IACMsK,aAAaC,QAAQ,OACvBvK,GAAIwK,eAEJxK,GAAIyK,eAER,CAAE,MAAOjsI,IACT,CCv5CA,IAAIksI,GAAkC,WACpC,SAASC,EAAiBpN,EAAMx7G,GAC9B,IAAI84D,EAAQtsF,KACZgkF,GAAgBhkF,KAAMo8I,GACtBv+D,GAAgB79E,KAAM,QAAS,MAC/B69E,GAAgB79E,KAAM,UAAW,MACjC69E,GAAgB79E,KAAM,gBAAgB,WACpC,IAAIq8I,EAAeC,EAAsBC,EAAgBC,EACrDpN,EAAc9iD,EAAM2iD,MAAOjwH,EAAQowH,EAAYpwH,MAAOy9H,EAAerN,EAAYqN,aACjD,QAAnCJ,EAAgB/vD,EAAMhzD,eAAuC,IAAlB+iH,GAAsF,QAAjDC,EAAuBD,EAAcrrI,cAA6C,IAAzBsrI,GAA2CA,EAAqBp0I,KAAK,YAAa8W,EAAM09H,aAC7L,QAApCH,EAAiBjwD,EAAMhzD,eAAwC,IAAnBijH,GAAyF,QAAnDC,EAAwBD,EAAevrI,cAA8C,IAA1BwrI,GAA4CA,EAAsBt0I,KAAK,aAAcy1E,GAAeA,GAAe,CAAC,EAAG3+D,EAAM09H,aAAc,CAAC,EAAG,CAC3RjjI,UAAWoG,GAAMu3E,aAEE,IAAjBqlD,GACFnwD,EAAMqwD,SAAS39H,EAAMxZ,IAEzB,IACAq4E,GAAgB79E,KAAM,YAAY,SAAS8B,GACzC,IAAIkP,EAASs7E,EAAMhzD,QAAQtoB,OACvB4rI,EAAc5rI,EAAO+N,MACzB,IAAI69H,GAAmC,WAApBA,EAAYC,IAA/B,CAEA,IAAIC,EAAW9rI,EAAO+N,MAAMg+H,aAC5B/rI,EAAO+N,MAAQ+9H,EACfF,EAAYI,QAAQl7I,GAChBA,IACFkP,EAAOX,OAAOvO,IAAMA,GAEtB,IAAIutC,EAAar+B,EAAOhQ,KAAKquC,WACN,WAAnBA,EAAWwtG,KACb7rI,EAAOhQ,KAAKi8I,aAAaH,EAAUztG,GAErC,IAAI6tG,EAAY5wD,EAAMhzD,QAAQ5zB,YAAYstB,WAAW9Q,cACrDlR,EAAO4kB,iBAAiBsnH,GACxBlsI,EAAOvK,KAAK,WAAW,WACrBuK,EAAOwd,MACT,GAfQ,CAgBV,IACAqvD,GAAgB79E,KAAM,uBAAuB,SAAS8B,GACpD,IAAI26I,EAAenwD,EAAM2iD,MAAMwN,aACV,IAAjBA,GACFnwD,EAAMqwD,SAAS76I,EAEnB,IACA9B,KAAKivI,MAAQD,EACbhvI,KAAKs5B,QAAU9F,EACfxzB,KAAKm9I,OACP,CAiCA,OAhCA/4D,GAAag4D,EAAkB,CAAC,CAC9BhyI,IAAK,QACLsH,MAAO,WACL,IAAI29H,EAAervI,KAAKivI,MAAOjwH,EAAQqwH,EAAarwH,MAAOm3G,EAAckZ,EAAalZ,YAAasmB,EAAepN,EAAaoN,aAAc97G,EAAS0uG,EAAa1uG,OAC9J3hB,IAEA2hB,IAAU3hB,EAAMo+H,aAIjBX,GACFz9H,EAAMxa,aAAa,eAAgBi4I,GAEjCtmB,GACFn3G,EAAMxa,aAAa,cAAe2xH,GAEpCn2H,KAAKutC,eATHvuB,EAAMo+H,YAAY,OAUtB,GACC,CACDhzI,IAAK,cACLsH,MAAO,WACL,IAAIsN,EAAQhf,KAAKivI,MAAMjwH,MACvBA,EAAM9e,iBAAiB,YAAaF,KAAKq9I,aAC3C,GACC,CACDjzI,IAAK,UACLsH,MAAO,WACL,IAAIk+H,EAAc0N,EACc,QAA/B1N,EAAe5vI,KAAKivI,aAAoC,IAAjBW,GAAiF,QAA7C0N,EAAqB1N,EAAa5wH,aAA0C,IAAvBs+H,GAAyCA,EAAmBl9I,oBAAoB,YAAaJ,KAAKq9I,cACnOr9I,KAAKs5B,QAAU,IACjB,KAEK8iH,CACT,CAjFsC,GCIlCzrB,GAAY,CAAC,eACjB,SAAS4sB,GAAmB/0I,EAAMgrB,GAChC,IAAIxiB,EAASwiB,EAAOxiB,OAChBw/B,EAAUx/B,EAAOmQ,YACjBrP,EAAU,CACZ8vB,UAAW4O,GAEb,OAAQizC,GAAQj7E,IACd,IAAK,UACHsJ,EAAQy/B,SAAW/oC,EACnB,MACF,IAAK,SACH,IAAI2Y,EAAc3Y,EAAK2Y,YAAaq9G,EAAOh5C,GAAyBh9E,EAAMmoH,IAC1EzqH,OAAO+lB,OAAOna,EAAS0sH,GACI,kBAAhBr9G,IACTrP,EAAQ8vB,UAAYzgB,GAEtB,MAGJ,OAAOrP,CACT,CACA,IAAI0rI,GAA4B,SAASC,GACvCl5D,GAAUm5D,EAAYD,GACtB,IAAItxD,EAASrG,GAAa43D,GAC1B,SAASA,IACP,IAAIpxD,EACJtI,GAAgBhkF,KAAM09I,GACtB,IAAK,IAAI18H,EAAO/gB,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMsgB,GAAOqsE,EAAO,EAAGA,EAAOrsE,EAAMqsE,IAC/E7kF,EAAK6kF,GAAQptF,UAAUotF,GAuBzB,OArBAf,EAAQH,EAAOvrF,KAAKb,MAAMosF,EAAQ,CAACnsF,MAAM4H,OAAOY,IAChDq1E,GAAgB8H,GAAuB2G,GAAQ,SAAUv3D,IACzD8oD,GAAgB8H,GAAuB2G,GAAQ,MAAO,MACtDzO,GAAgB8H,GAAuB2G,GAAQ,kBAAmB,MAClEzO,GAAgB8H,GAAuB2G,GAAQ,YAAY,WACzD,IAAIqxD,EACJ,OAAmC,QAA3BA,EAAYrxD,EAAM4iC,WAA+B,IAAdyuB,OAAuB,EAASA,EAAUjoE,UACvF,IACAmI,GAAgB8H,GAAuB2G,GAAQ,qBAAqB,SAASyN,GAC3E,IAAI6jD,EACAxpI,EAAO2lF,EAAK3lF,KACa,QAA5BwpI,EAAatxD,EAAM4iC,WAAgC,IAAf0uB,GAAiCA,EAAW1G,qBAAqB9iI,EACxG,IACAypE,GAAgB8H,GAAuB2G,GAAQ,oBAAoB,WACjE,IAAIvhE,EAASuhE,EAAMt7E,OAAO+Z,OACrBA,GAELuhE,EAAMt7E,OAAOvK,KAAK,WAAW,WAC3B6lF,EAAMt7E,OAAOsd,OACf,GACF,IACOg+D,CACT,CAmMA,OAlMAlI,GAAas5D,EAAY,CAAC,CACxBtzI,IAAK,OACLynB,IAAK,WACH,OAAO7xB,KAAKkvH,GACd,GACC,CACD9kH,IAAK,UACLynB,IAAK,WACH,IAAIgsH,EACJ,OAAmC,QAA3BA,EAAa79I,KAAKkvH,WAAgC,IAAf2uB,OAAwB,EAASA,EAAWv6H,OACzF,GACC,CACDlZ,IAAK,aACLynB,IAAK,WACH,IAAIisH,EAAcC,EACdtxH,EAA6C,QAAhCqxH,EAAe99I,KAAKgR,cAAqC,IAAjB8sI,GAAmF,QAA/CC,EAAsBD,EAAaztI,cAA4C,IAAxB0tI,OAAjE,EAA2GA,EAAoBtxH,UAClN,QAASA,GAA2B,UAAdA,GAAuC,UAAdA,CACjD,GACC,CACDriB,IAAK,mBACLsH,MAAO,WACL,IAAI4+E,EAAStwF,KACTqQ,EAASrQ,KAAKgR,OAAOX,OACrB0mE,EAAY/2E,KAAKgR,OAAOgO,OAAShf,KAAKgR,OAAO+N,MAC7Ci/H,EAAU3tI,EAAO6+G,KAAO,CAAC,EAC7B,IAAK7+G,EAAOvO,KAAQuO,EAAO4tI,wBAAyBD,EAAQvuD,YAAaW,GAAI8tD,aAA7E,CAGIl+I,KAAKkvH,KACPlvH,KAAKkvH,IAAI/uH,UACX,IAAIg5C,EAAajzC,OAAOw3E,yBAAyB19E,KAAKgR,OAAQ,aACzDmoC,IAAcA,EAAWne,WAC5Bh7B,KAAKgR,OAAOs/B,UAAY,SAASxuC,EAAK0G,GACpC,OAAO,IAAI+b,SAAQ,SAASC,EAAS+Y,GACnC,IAAIvsB,EAASs/E,EAAOt/E,OAAQk+G,EAAM5+B,EAAO4+B,IACzC,GAAIA,EAAK,CACP,IAAIivB,EAAsBC,EACtBtsI,EAAUyrI,GAAmB/0I,EAAM8nF,GACvCt/E,EAAOX,OAAOvO,IAAMA,EACpBotH,EAAI5+E,UAAUxuC,EAAKgQ,GAAS2gB,MAAK,WAC/B,OAAOjO,GAAQ,EACjB,IAAG2O,MAAMoK,IACJzrB,EAAQy/B,UAA8D,QAAjD4sG,EAAuB7tD,EAAOt/E,OAAOX,cAA6C,IAAzB8tI,GAA0F,QAAtDC,EAAwBD,EAAqBjvB,WAA2C,IAA1BkvB,GAAoCA,EAAsBC,uBAC7O/tD,EAAOguD,kBAEX,MACE/gH,GAEJ,GACF,GAEF,IAqCMghH,EArCFC,EAAcx+I,KAAKgR,OAAOs/B,UAoC9B,GAnCAtwC,KAAKgR,OAAOo6B,cAAe,EAC3B4yG,EAAQvB,aAAeuB,EAAQvB,cAAgBpsI,EAAOosI,aACvB,OAA3BuB,EAAQpL,qBAAsD,IAA3BoL,EAAQpL,iBAC7CoL,EAAQpL,eAAiB,GAC3B5yI,KAAKkvH,IAAM,IAAIuiB,GAAI9zD,GAAe,CAChCozC,WAAY/wH,KAAK+wH,WACjBpwF,OAAQtwB,EAAOswB,OACf3hB,MAAO+3D,EACPn1C,UAAWvxB,EAAOuxB,UAClB9/B,IAAKuO,EAAOvO,KACXk8I,IACEh+I,KAAK+wH,YACR98F,GAAWC,qBAAqBl0B,KAAKgR,OAAQ,CAC3ClP,IAAK,CACH+vB,IAAK,WACH,IAAI8gG,EAAY8rB,EAChB,OAAqC,QAA7B9rB,EAAariC,EAAO4+B,WAAgC,IAAfyD,GAA2E,QAAzC8rB,EAAmB9rB,EAAW3zG,aAAwC,IAArBy/H,OAA3D,EAAkGA,EAAiBj5I,GAC1L,EACAu1B,cAAc,KAIhB/6B,KAAK+wH,aACP/wH,KAAK0+I,gBAAkB,IAAIvC,GAAgBx+D,GAAe,CACxDh9C,OAAQtwB,EAAOswB,OACf3hB,MAAO+3D,GACNinE,GAAUh+I,MACbA,KAAKgR,OAAO2tI,oBAAsB,WAEhC,IADA,IAAIC,EACKnxD,EAAQxtF,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAM+sF,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFllF,EAAKklF,GAASztF,UAAUytF,GAE1B,OAA4D,QAApDkxD,EAAwBtuD,EAAOouD,uBAAuD,IAA1BE,OAAmC,EAASA,EAAsBD,oBAAoB5+I,MAAM6+I,EAAuBp2I,EACzL,GAEE6H,EAAOswB,OAEyB,QAAjC49G,EAAgBv+I,KAAKgR,cAAsC,IAAlButI,GAAoCA,EAAcnrH,SAAS,UAAU,WAC7G,IAAIw/F,EACJ,OAAsC,QAA9BA,EAActiC,EAAO4+B,WAAiC,IAAhB0D,OAAyB,EAASA,EAAYngF,QAC9F,IAEFzyC,KAAK6I,GAAGxC,GAAmBm4I,GAC3Bx+I,KAAK6I,GAAGxC,IAA0B,kBAAmBrG,KAAK6+I,mBAC1D7+I,KAAK6I,GAAGxC,GAAgBrG,KAAKG,QAAQI,KAAKP,OAC1CA,KAAK8+I,cACL9+I,KAAK++I,gBAAgB5oD,GAAMC,MAC3Bp2F,KAAK++I,gBAAgB5oD,GAAM3uE,YAC3BxnB,KAAK++I,gBAAgB5oD,GAAME,uBAC3Br2F,KAAK++I,gBAAgB5oD,GAAMG,eAC3Bt2F,KAAK++I,gBAAgB5oD,GAAMI,YAC3Bv2F,KAAK++I,gBAAgB5oD,GAAMK,sBAC3Bx2F,KAAK++I,gBAAgB5oD,GAAMM,oBAC3Bz2F,KAAK++I,gBAAgB5oD,GAAMQ,eAC3B32F,KAAK++I,gBAAgB5oD,GAAMS,eAC3B52F,KAAK++I,gBAAgB5oD,GAAMU,WAC3B72F,KAAK++I,gBAAgB5oD,GAAMW,UAC3B92F,KAAK++I,gBAAgB5oD,GAAMa,iBAC3Bh3F,KAAK++I,gBAAgB5oD,GAAMuB,eAC3B13F,KAAK++I,gBAAgB5oD,GAAMc,KAC3Bj3F,KAAK++I,gBAAgB5oD,GAAMe,aAC3Bl3F,KAAK++I,gBAAgB5oD,GAAMoB,OAC3Bv3F,KAAK++I,gBAAgB5oD,GAAMqB,qBAC3Bx3F,KAAK++I,gBAAgB5oD,GAAMsB,kBAC3Bz3F,KAAK++I,gBAAgB5oD,GAAMwB,kBAC3B33F,KAAK++I,gBAAgB5oD,GAAMkB,oBAC3Br3F,KAAK++I,gBAAgB5oD,GAAMmB,mBAC3Bt3F,KAAK++I,gBAAgBl/H,GAAM8uG,gBAC3B3uH,KAAK++I,gBAAgBl/H,GAAM6uG,eAC3B1uH,KAAK++I,gBAAgBl/H,GAAM+uG,mBAC3B5uH,KAAK++I,gBAAgBl/H,GAAMgvG,mBAC3B7uH,KAAK++I,gBAAgBl/H,GAAMkvG,aACvB1+G,EAAOvO,KACT9B,KAAKkvH,IAAIthG,KAAKvd,EAAOvO,IAAK,CACxBqyH,UAAU,IACThhG,OAAM,SAAStyB,GAClB,GArGF,CAuGF,GACC,CACDuJ,IAAK,UACLsH,MAAO,WACL,IAAIstI,EACAh/I,KAAKkvH,MACPlvH,KAAKkvH,IAAI/uH,UACTH,KAAKkvH,IAAM,MAEsC,QAAlD8vB,EAAwBh/I,KAAK0+I,uBAAuD,IAA1BM,GAA4CA,EAAsB7+I,UAC7HH,KAAK0+I,gBAAkB,IACzB,GACC,CACDt0I,IAAK,cACLsH,MAAO,WACL,IAAI2/E,EAASrxF,KACbA,KAAKkvH,IAAIrmH,GAAGgX,GAAM8G,OAAO,SAASjR,GAC5B27E,EAAOrgF,QACTqgF,EAAOrgF,OAAO9I,KAAK7B,GAAc,IAAI8e,GAAOksE,EAAOrgF,OAAQ0E,GAE/D,GACF,GACC,CACDtL,IAAK,kBACLsH,MAAO,SAAyB+H,GAC9B,IAAIk4E,EAAS3xF,KACbA,KAAKkvH,IAAIrmH,GAAG4Q,GAAW,SAAS5Y,GAC1B8wF,EAAO3gF,SACT2gF,EAAO3gF,OAAO9I,KAAK,aAAcy1E,GAAeA,GAAe,CAAC,EAAG98E,GAAI,CAAC,EAAG,CACzE4Y,eAEEA,IAAc08E,GAAMe,aAAevF,EAAOu9B,IAAIilB,aAChDxiD,EAAOstD,mBAAmBp+I,GAGhC,GACF,GACC,CACDuJ,IAAK,qBACLsH,MAAO,SAA4B7Q,GACjC,IACE,IAAIq+I,EAAUvpE,KAAKzxC,MAAMxjC,MAAM6K,KAAK1K,EAAEO,KAAKS,SAASlB,KAAI,SAASwd,GAC/D,OAAOhc,OAAOqvG,aAAarzF,EAC7B,IAAG3H,KAAK,IAAI9O,MAAM,GAAI,IACtB,IAAKw3I,EAAQ,YACX,OACFl/I,KAAKgR,OAAO9I,KAAK,aAAc,CAC7BuR,UAAWoG,GAAMivG,iBACjBn8G,KAAMusI,EAAQ,aAElB,CAAE,MAAO1jF,GACT,CACF,IACE,CAAC,CACHpxD,IAAK,aACLynB,IAAK,WACH,MAAO,KACT,GACC,CACDznB,IAAK,cACLsH,MAAO,SAAqB+a,EAAW2tE,GACrC,OAAOq3C,GAAIh0G,YAAYhR,EAAW2tE,EACpC,KAEKsjD,CACT,CAnOgC,CAmO9BzpH,IACF4pD,GAAgB2/D,GAAW,MAAO/L,IAClC5zD,GAAgB2/D,GAAW,QAAS39H,I,e5JpGlC,IACErY,KAAM,OACN23I,WAAY,CAACC,MAAK,IAACC,KAAI,IAACC,WAAUA,GAAAA,GAClCl+I,IAAAA,GACE,MAAO,CACLgM,GAAI,GACJhM,KAAM,CAAC,EACP4K,KAAM,GACN2C,OAAQ,GACRqC,OAAQ,KACRuuI,WAAY,CACV,QAAS,QACT,QAAS,iBACT,QAAS,QAEXC,eAAgB,CACd,QAAS,aACT,QAAS,sBACT,QAAS,UAEX1yI,aAAc,GACdiC,WAAY,GACZC,UAAW,GACXW,QAAQ,EACR8vI,SAAS,GACT/vI,MAAM,GAEV,EACAzE,SAAU,KACLy0I,EAAAA,EAAAA,IAAS,CACVC,IAAK7xG,GAASA,EAAM8xG,OAAOD,IAC3BE,MAAO/xG,GAASA,EAAM8xG,OAAOC,MAC7BtyI,SAAUugC,GAASA,EAAM8xG,OAAOryI,YAGpCuyI,MAAO,CACL,OAAU,CACRvtH,OAAAA,CAAQwtH,GACQ,QAAXA,EAAGv4I,OACJxH,KAAKoN,GAAKpN,KAAKggJ,OAAOC,MAAM7yI,GAC5BpN,KAAKkgJ,WAELlgJ,KAAK8M,aAAe9M,KAAKggJ,OAAOC,MAAMnzI,aACtC9M,KAAK+O,WAAa/O,KAAKggJ,OAAOC,MAAMlxI,WACpC/O,KAAKgP,UAAYhP,KAAKggJ,OAAOC,MAAMjxI,UAEvC,EACAmxI,WAAW,GAEbR,GAAAA,CAAII,GACF//I,KAAKgM,KAAO2pE,KAAKzxC,MAAMyxC,KAAKC,UAAUmqE,GACxC,GAEFt0I,QAAS,KACJ20I,EAAAA,EAAAA,IAAW,CACZC,cAAe,yBAIjBxwI,gBAAAA,CAAiBlE,GACf3L,KAAK2P,QAAUhE,EACf3L,KAAKsgJ,WACP,EAGAn0I,IAAAA,CAAKrK,GACHJ,OAAOsB,KAAKlB,EACd,EACAuM,UAAAA,CAAWsE,GACT,OAAO4tI,IAAO5tI,GAAM+E,OAAO,aAC7B,EACA,kBAAM8oI,GACJxgJ,KAAKqgJ,eAAc,GACnB,IACE,IAAI,KAACj/I,EAAI,KAAE6kB,SAAcw6H,EAAAA,GAAiB,CAACrzI,GAAIpN,KAAKoN,KACxC,KAAR6Y,IACFjmB,KAAKoB,KAAOA,EACZpB,KAAK0gJ,aACL1gJ,KAAK2gJ,cAET,CAAE,MAAO9/I,GACT,CAAE,QACAb,KAAKqgJ,eAAc,EACrB,CACF,EACA,iBAAMM,GACJ,IACE,IAAI,KAACv/I,EAAI,KAAE6kB,SAAcw6H,EAAAA,GAAgB,CAACrzI,GAAIpN,KAAKoB,KAAK2N,aAC5C,KAARkX,IACFjmB,KAAK4gJ,aAAex/I,EAExB,CAAE,MAAOP,GACT,CAAE,QACAb,KAAKqgJ,eAAc,EACrB,CACF,EACA,eAAMC,GAEJ,IACE,IAAI,KAACO,EAAI,KAAE56H,EAAI,MAACvW,SAAe+wI,EAAAA,GAAc,CAC3C9wI,QAAS3P,KAAK2P,QACd8vI,SAAUz/I,KAAKy/I,SACf1wI,WAAY/O,KAAKoB,KAAK2N,WACtBC,UAAWhP,KAAKoB,KAAK4N,YAEX,KAARiX,IACFjmB,KAAK2O,OAASkyI,EACd7gJ,KAAK0P,MAAMA,EAEf,CAAE,MAAO7O,GAET,CAEF,EACA+L,MAAAA,GACE5M,KAAK8gJ,QAAQ95I,KAAK,QACpB,EACA6F,UAAAA,GACE7M,KAAK8gJ,QAAQ95I,KAAK,CAChBQ,KAAM,WACNy4I,MAAO,CACLlxI,WAAY/O,KAAKoB,KAAK2N,WACtBC,UAAWhP,KAAKoB,KAAK4N,UACrBlC,aAAc,KAGpB,EACA4zI,UAAAA,GACE,MAAMrwI,EAAS,CACb,GAAM,aACNmwB,OAAO,EACPrV,OAAQ,GACRgB,UAAU,EACVyU,WAAW,EACX/T,MAAM,EAENE,oBAAqB,EACrB,IAAO/sB,KAAKoB,KAAK2d,MACjB,aAAe,EACf,OAAU/e,KAAKoB,KAAK2/I,WACpB,QAAW,CAACvD,IACZ,QAAU,EACV,aAAgB,CACN,MAEV,OAAU,CACA,WAAa,EACb,aAAe,GAEzB,KAAO,EACP3iF,kBAAkB,GAEP,IAAIzhB,GAAO/oC,EAoB1B,EACA6vI,QAAAA,GAME,GALIlgJ,KAAKgR,QACPhR,KAAKgR,OAAOgwI,UAEdhhJ,KAAKoN,GAAKpN,KAAKggJ,OAAOC,MAAM7yI,GAC5BpN,KAAKwgJ,eACDxgJ,KAAK6/I,OAAS7/I,KAAK6/I,MAAMp9I,OAAQ,CACnC,IAAIqiG,EAAkC,IAAzB9kG,KAAK6/I,MAAMp9I,OAAS,GAAU,EACvC89D,EAAQp1D,KAAKmM,KAAKwtF,EAAQ9kG,KAAK2/I,IAAIl9I,QACnCk9I,EAAM,GACV,IAAK,IAAIh8I,EAAI,EAAEA,EAAI48D,EAAM58D,IACvBg8I,EAAMA,EAAI/3I,OAAO5H,KAAK2/I,KAExBA,EAAIplE,QACJv6E,KAAKgM,KAAO2zI,CACd,CACA3/I,KAAKihJ,WAAU,KACb79I,YAAW,KACTpD,KAAKsgJ,WAAW,GACf,IAAK,GAGZ,GAEFY,aAAAA,GACMlhJ,KAAKgR,QACPhR,KAAKgR,OAAOgwI,SAEhB,G,W6J7VJ,MAAMn1I,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S","sources":["webpack://new-web/./node_modules/delegate/src/closest.js","webpack://new-web/./node_modules/delegate/src/delegate.js","webpack://new-web/./node_modules/downloadjs/download.js","webpack://new-web/./node_modules/eventemitter3/index.js","webpack://new-web/./src/components/NewPage.vue","webpack://new-web/./src/components/NewPage.vue?ccdf","webpack://new-web/./src/views/info/index.vue","webpack://new-web/./node_modules/xgplayer/es/utils/debug.js","webpack://new-web/./node_modules/xgplayer/es/utils/xgplayerTimeRange.js","webpack://new-web/./node_modules/xgplayer/es/utils/util.js","webpack://new-web/./node_modules/xgplayer/es/utils/sniffer.js","webpack://new-web/./node_modules/xgplayer/es/version.js","webpack://new-web/./node_modules/xgplayer/es/error.js","webpack://new-web/./node_modules/xgplayer/es/events.js","webpack://new-web/./node_modules/xgplayer/es/mediaProxy.js","webpack://new-web/./node_modules/xgplayer/es/utils/database.js","webpack://new-web/./node_modules/xgplayer/es/constant.js","webpack://new-web/./node_modules/xgplayer/es/plugin/hooksDescriptor.js","webpack://new-web/./node_modules/xgplayer/es/plugin/basePlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/plugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/resizeObserver.js","webpack://new-web/./node_modules/xgplayer/es/plugin/pluginsManager.js","webpack://new-web/./node_modules/xgplayer/es/stateClassMap.js","webpack://new-web/./node_modules/xgplayer/es/defaultConfig.js","webpack://new-web/./node_modules/xgplayer/es/plugin/preset.js","webpack://new-web/./node_modules/xgplayer/es/lang/en.js","webpack://new-web/./node_modules/xgplayer/es/lang/i18n.js","webpack://new-web/./node_modules/xgplayer/es/state.js","webpack://new-web/./node_modules/xgplayer/es/instManager.js","webpack://new-web/./node_modules/xgplayer/es/player.js","webpack://new-web/./node_modules/xgplayer/es/plugins/controls/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/logger/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/replay.js","webpack://new-web/./node_modules/xgplayer/es/plugins/replay/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/poster/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/play.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pause.js","webpack://new-web/./node_modules/xgplayer/es/plugins/start/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/enter/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconTools.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","webpack://new-web/./node_modules/xgplayer/es/utils/draggabilly.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pc/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/touch.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/seekicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/keyboard/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/loading.js","webpack://new-web/./node_modules/xgplayer/es/plugins/loading/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/innerList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconPlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugins/play/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/back.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/backicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/timesegments.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeLarge.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeSmall.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeMuted.js","webpack://new-web/./node_modules/xgplayer/es/plugins/volume/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/rotate.js","webpack://new-web/./node_modules/xgplayer/es/plugins/rotate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIconExit.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pip/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/playNext.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playNext/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/download.js","webpack://new-web/./node_modules/xgplayer/es/plugins/download/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/screenShot/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionsIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/definition/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playbackRate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/cssFullScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/error/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/prompt/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/thumbnail.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/miniProgress.js","webpack://new-web/./node_modules/xgplayer/es/plugins/dynamicBg/index.js","webpack://new-web/./node_modules/xgplayer/es/lang/zh-cn.js","webpack://new-web/./node_modules/xgplayer/es/plugins/stats/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/gapJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/testspeed/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fpsDetect/index.js","webpack://new-web/./node_modules/xgplayer/es/presets/default.js","webpack://new-web/./node_modules/xgplayer/es/index.umd.js","webpack://new-web/./node_modules/xgplayer-hls/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/buffer.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/env.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/logger.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/utils.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/mse.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/event.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/streaming-helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/sei.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/gap.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/stats.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/types.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/env.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/aac.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/fixer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/nalu.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/exp-golomb.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/avc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/hevc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/metadata-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/byte-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/bit-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4-parser.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/decrypt/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-demuxer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/buffer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-remuxer.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/constants.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/transmuxer/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/types.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/is.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/fetch.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/xhr.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/task.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/model.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/master.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/media.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/stream.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/index.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/bandwidth.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/segment-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin-extension.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin.js","webpack://new-web/./src/views/info/index.vue?dbd0"],"sourcesContent":["var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","<template>\r\n    <div class=\"pagination\">\r\n      <!--  -->\r\n      <button\r\n        class=\"pagination-button\"\r\n        :disabled=\"currentPage <= 1\"\r\n        @click=\"goToPreviousTenPages\"\r\n      >\r\n        <van-icon name=\"arrow-left\" />\r\n      </button>\r\n  \r\n      <!--  -->\r\n      <div class=\"page-numbers\">\r\n        <span\r\n          v-for=\"page in visiblePages\"\r\n          :key=\"page\"\r\n          :class=\"{ active: page === currentPage }\"\r\n          @click=\"goToPage(page)\"\r\n        >\r\n          {{ page }}\r\n        </span>\r\n      </div>\r\n  \r\n      <!--  -->\r\n      <button\r\n        class=\"pagination-button\"\r\n        :disabled=\"currentPage >= totalPages\"\r\n        @click=\"goToNextTenPages\"\r\n      >\r\n        <van-icon name=\"arrow\" />\r\n      </button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"Pagination\",\r\n    props: {\r\n      totalPages: {\r\n        type: Number,\r\n        required: true,\r\n      },\r\n      currentPage: {\r\n        type: Number,\r\n        required: true,\r\n      },\r\n    },\r\n    emits: [\"page-change\"],\r\n    computed: {\r\n      // \r\n      visiblePages() {\r\n        const startPage = Math.floor((this.currentPage - 1) / 10) * 10 + 1;\r\n        const endPage = Math.min(startPage + 9, this.totalPages);\r\n        return Array.from({ length: endPage - startPage + 1 }, (_, i) => startPage + i);\r\n      },\r\n    },\r\n    methods: {\r\n      // \r\n      goToPage(page) {\r\n        if (page >= 1 && page <= this.totalPages) {\r\n          this.$emit(\"page-change\", page);\r\n        }\r\n      },\r\n      //  10 \r\n      goToPreviousTenPages() {\r\n        const newPage = Math.max(1, Math.floor((this.currentPage - 1) / 10) * 10 - 9);\r\n        this.$emit(\"page-change\", newPage);\r\n      },\r\n      //  10 \r\n      goToNextTenPages() {\r\n        const startPage = Math.floor((this.currentPage - 1) / 10) * 10 + 1;\r\n        // console.log(startPage,'==>',this.currentPage);\r\n        // alert(this.currentPage)\r\n        const newPage = Math.min(this.totalPages, startPage + 10);\r\n        this.$emit(\"page-change\", newPage);\r\n      }\r\n\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .pagination {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 10px;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .pagination-button {\r\n    padding: 10px 20px;\r\n    border: 1px solid #ccc;\r\n    background-color: #f9f9f9;\r\n    cursor: pointer;\r\n    border-radius: 4px;\r\n    transition: background-color 0.3s;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .pagination-button:disabled {\r\n    background-color: #e0e0e0;\r\n    cursor: not-allowed;\r\n  }\r\n  \r\n  .pagination-button:hover:not(:disabled) {\r\n    background-color: #ddd;\r\n  }\r\n  \r\n  .page-numbers {\r\n    display: flex;\r\n    gap: 5px;\r\n  }\r\n  \r\n  .page-numbers span {\r\n    padding: 10px 12px;\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n    color: white;\r\n    border-radius: 4px;\r\n    transition: background-color 0.3s;\r\n  }\r\n  \r\n  .page-numbers span.active {\r\n    background-color: #007bff;\r\n    color: red;\r\n    border-color: #007bff;\r\n  }\r\n  \r\n  .page-numbers span:hover:not(.active) {\r\n    background-color: #f1f1f1;\r\n  }\r\n  \r\n  @media (max-width: 750px) {\r\n    .pagination {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        gap: 1px;\r\n        padding: 1px;\r\n    }\r\n    .pagination-button {\r\n      padding: 3px 6px;\r\n      border-radius: 3px;\r\n    }\r\n    .page-numbers {\r\n      flex-wrap: wrap;\r\n      justify-content: center;\r\n      gap: 1px;\r\n      font-size: small;\r\n    }\r\n    .page-numbers span {\r\n      padding: 1px 2px; \r\n    }\r\n  }\r\n  </style>\r\n  ","import { render } from \"./NewPage.vue?vue&type=template&id=f7d15a28&scoped=true\"\nimport script from \"./NewPage.vue?vue&type=script&lang=js\"\nexport * from \"./NewPage.vue?vue&type=script&lang=js\"\n\nimport \"./NewPage.vue?vue&type=style&index=0&id=f7d15a28&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f7d15a28\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"info-container\">\r\n    <div class=\"info-wrapper\">\r\n      <div class=\"ads pc-hide\" style=\"padding-top: 0;margin-top: 0px;\">\r\n        <div class=\"ads-item\" v-for=\"item in _ads.slice(0, 8)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"video-location h5-hide\">\r\n        <div class=\"line\"></div>\r\n        <span class=\"link\" @click=\"goHome\">HOME</span>\r\n        <span class=\"arrow\"></span>\r\n        <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n        <span class=\"arrow\"></span>\r\n        {{data.title}}\r\n      </div>\r\n      <div class=\"video-info\">\r\n        <div class=\"h5-video-location pc-hide\">\r\n          <div class=\"line\"></div>\r\n          <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n          <span class=\"arrow\"></span>\r\n          {{data.title}}\r\n        </div>\r\n        <div id=\"mse\"></div>\r\n        <div class=\"video-wrapper\">\r\n          <div class=\"video-img\" id=\"video-info\"></div>\r\n        </div>\r\n        <div class=\"video-name\">\r\n           <span v-if=\"language == 'ko-KR'\">\r\n            {{data.title}}\r\n          </span>\r\n          <span v-if=\"language == 'en-US'\">\r\n            {{data.titleUs}}\r\n          </span>\r\n          <span v-if=\"language == 'zh-CN'\">\r\n            {{data.titleCn}}\r\n          </span>\r\n        </div>\r\n        <div class=\"info\">\r\n          <div class=\"viewed\">\r\n            <img src=\"@/assets/imgs/view.png\" alt=\"\">\r\n            <span> : {{data.watchTimes}}</span>\r\n          </div>\r\n          <div class=\"time\">\r\n            <img src=\"@/assets/imgs/flag.png\" alt=\"\">\r\n            <span> : {{formatTime(data.createdAt)}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"video-desc\" v-if=\"data.titleChinese\">\r\n          {{}}\r\n          <!-- data.titleChinese -->\r\n        </div>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(0, 16).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(0, 16)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n<!--      <Title class=\"page-title h5-hide\" :name=\"relatedMap[language]\" :more=\"false\"></Title>-->\r\n      <div class=\"list\" v-if=\"videos.slice(0, 8).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(0, 8)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(16, 24).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(16, 24)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\" v-if=\"videos.slice(8, 16).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(8, 16)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(24,32).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(24,32)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\" v-if=\"videos.slice(16, 24).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(16, 24)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(32, 40).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(32, 40)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"more\" @click=\"goCategory\">{{moreRelatedMap[language]}}</div> -->\r\n      <Pagination\r\n      :total-pages=\"total\"\r\n      :current-page=\"pageNum\"\r\n      @page-change=\"handlePageChange\"\r\n    />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as api from '@/api'\r\n  import moment from 'moment';\r\n  import Card from \"@/components/Card.vue\";\r\n  import Title from \"@/components/Title.vue\";\r\n  import {mapActions,mapState} from 'vuex';\r\n  import 'video.js/dist/video-js.css';\r\n  import VideoJs from 'video.js';\r\n  import Player from 'xgplayer';\r\n  import 'xgplayer/dist/index.min.css';\r\n  import HlsPlugin from 'xgplayer-hls'\r\n  import MobilePreset from 'xgplayer/es/presets/mobile'\r\n  import Pagination from \"@/components/NewPage.vue\";\r\n\r\n  export default {\r\n    name: \"Info\",\r\n    components: {Title,Card,Pagination},\r\n    data() {\r\n      return {\r\n        id: '',\r\n        data: {},\r\n        _ads: [],\r\n        videos: [],\r\n        player: null,\r\n        relatedMap: {\r\n          'ko-KR': '',\r\n          'en-US': 'Related videos',\r\n          'zh-CN': ''\r\n        },\r\n        moreRelatedMap: {\r\n          'ko-KR': '   ',\r\n          'en-US': 'More related videos',\r\n          'zh-CN': ''\r\n        },\r\n        classifyName: '',\r\n        classifyId: '',\r\n        specialId: '',\r\n        pageNum:1,\r\n        pageSize:20,\r\n        total:10\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ads: state => state.common.ads,\r\n        menus: state => state.common.menus,\r\n        language: state => state.common.language,\r\n      }),\r\n    },\r\n    watch: {\r\n      '$route': {\r\n        handler(nv) {\r\n          if(nv.name == 'info') {\r\n            this.id = this.$route.query.id\r\n            this.initData();\r\n\r\n            this.classifyName = this.$route.query.classifyName\r\n            this.classifyId = this.$route.query.classifyId\r\n            this.specialId = this.$route.query.specialId\r\n          }\r\n        },\r\n        immediate: true\r\n      },\r\n      ads(nv) {\r\n        this._ads = JSON.parse(JSON.stringify(nv));\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions({\r\n        toggleLoading: 'common/toggleLoading',\r\n      }),\r\n\r\n            // \r\n      handlePageChange(newPage) {\r\n        this.pageNum = newPage;\r\n        this.getVideos()\r\n      },\r\n\r\n\r\n      goAd(url) {\r\n        window.open(url)\r\n      },\r\n      formatTime(time) {\r\n        return moment(time).format('YYYY-MM-DD')\r\n      },\r\n      async getVideoInfo() {\r\n        this.toggleLoading(true);\r\n        try {\r\n          let {data, code} = await api.getVideoInfo({id: this.id})\r\n          if (code == 200) {\r\n            this.data = data;\r\n            this.initPlayer()\r\n            this.getMenuInfo()\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getMenuInfo() {\r\n        try {\r\n          let {data, code} = await api.getMenuInfo({id: this.data.classifyId})\r\n          if (code == 200) {\r\n            this.classifyInfo = data;\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getVideos() {\r\n        // console.log('why this plus one?=>',this.data.specialId)\r\n        try {\r\n          let {rows, code,total} = await api.getVideos({\r\n            pageNum: this.pageNum,\r\n            pageSize: this.pageSize,\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId\r\n          })\r\n          if (code == 200) {\r\n            this.videos = rows\r\n            this.total=total\r\n          }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n        }\r\n      },\r\n      goHome() {\r\n        this.$router.push('index')\r\n      },\r\n      goCategory() {\r\n        this.$router.push({\r\n          name: 'category',\r\n          query: {\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId,\r\n            classifyName: ''\r\n          }\r\n        })\r\n      },\r\n      initPlayer() {\r\n        const config = {\r\n          \"id\": \"video-info\",\r\n          fluid: true,\r\n          volume: 0.9,\r\n          autoplay: false,\r\n          videoInit: true,\r\n          loop: true,\r\n          // playbackRate: [0.5, 0.75, 1, 1.5, 2],\r\n          defaultPlaybackRate: 1,\r\n          \"url\": this.data.video,\r\n          \"playsinline\": true,\r\n          \"poster\": this.data.videoCover,\r\n          \"plugins\": [HlsPlugin],\r\n          \"isLive\": false,\r\n          \"playbackRate\": [\r\n                    null\r\n          ],\r\n          \"rotate\": {\r\n                    \"clockwise\": true,\r\n                    \"innerRotate\": true\r\n          },\r\n          \"pip\": true,\r\n          rotateFullscreen: true\r\n        }\r\n        let player = new Player(config)\r\n        // setTimeout(() => {\r\n        // let player = new Player(config)},0)\r\n        // document.getElementById('video-info').innerHTML = `<video id=\"video-js\" class=\"video-js\"></video>`\r\n        // setTimeout(() => {\r\n        //   this.player = VideoJs(document.getElementById('video-js'), {\r\n        //     controls: true,\r\n        //     muted: true,\r\n        //     fluid: true,\r\n        //     reload: \"auto\",\r\n        //     poster: this.data.videoCover,\r\n        //     sources: [\r\n        //       {\r\n        //         src: this.data.video,\r\n        //         type: 'application/x-mpegURL',\r\n        //       },\r\n        //     ],\r\n        //   }, function onPlayerReady() {\r\n        //   })\r\n        // }, 0)\r\n      },\r\n      initData() {\r\n        if (this.player) {\r\n          this.player.dispose()\r\n        }\r\n        this.id = this.$route.query.id\r\n        this.getVideoInfo()\r\n        if (this.menus && this.menus.length) {\r\n          let count = (this.menus.length + 1) * 24 + 1;\r\n          let times = Math.ceil(count / this.ads.length);\r\n          let ads = [];\r\n          for (let i = 0;i < times;i++) {\r\n            ads = ads.concat(this.ads);\r\n          }\r\n          ads.shift()\r\n          this._ads = ads;\r\n        }\r\n        this.$nextTick(() => {\r\n          setTimeout(() => {\r\n            this.getVideos(); //  1 \r\n          }, 1000); // 1000  = 1 \r\n        });\r\n        \r\n      }\r\n    },\r\n    beforeUnmount() {\r\n      if (this.player) {\r\n        this.player.dispose()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .info-container{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .info-wrapper{\r\n      width: 100%;\r\n      padding-top: 23px;\r\n      .video-location{\r\n        background: #172231;\r\n        height: 48px;\r\n        @include clear();\r\n        box-shadow: 0px 10px 10px rgba(255,255,225,0.1) inset,\r\n        0px -10px 10px rgba(0,0,0,0.3) inset;\r\n        margin-bottom: 60px;\r\n        line-height: 48px;\r\n        font-size: 24px;\r\n        .line{\r\n          width: 8px;\r\n          height: 30px;\r\n          background: $main-color;\r\n          margin-top: 9px;\r\n          float: left;\r\n          margin-left: 23px;\r\n          margin-right: 10px;\r\n        }\r\n        width: 100%;\r\n        color: #fff;\r\n        @include ellipsis;\r\n        .link{\r\n          transition: 0.3s ease;\r\n          &:hover{\r\n            color: $main-color;\r\n          }\r\n          cursor: pointer;\r\n        }\r\n        .arrow{\r\n          margin: 0 20px;\r\n        }\r\n      }\r\n      .video-info{\r\n        width: 100%;\r\n        margin-bottom: 110px;\r\n\r\n        .h5-video-location{\r\n          height: 50px;\r\n          line-height: 50px;\r\n          font-size: 18px;\r\n          color: #fff;\r\n          box-sizing: border-box;\r\n          @include ellipsis;\r\n          box-shadow: 0px 5px 5px rgba(255,255,225,0.1) inset,\r\n          0px -5px 5px rgba(0,0,0,0.3) inset;\r\n          background: #0e141d;\r\n          margin-bottom: 30px;\r\n          @include clear;\r\n          .line{\r\n            width: 5px;\r\n            height: 36px;\r\n            background: $main-color;\r\n            margin-top: 7px;\r\n            float: left;\r\n            margin-left: 7px;\r\n            margin-right: 10px;\r\n          }\r\n          .first{\r\n            color: $main-color;\r\n            margin-right: 10px;\r\n          }\r\n          @include ellipsis;\r\n          .link{\r\n            transition: 0.3s ease;\r\n            &:hover{\r\n              color: $main-color;\r\n            }\r\n            cursor: pointer;\r\n          }\r\n          .arrow{\r\n            margin: 0 10px;\r\n            position: relative;\r\n            top: -1px;\r\n          }\r\n        }\r\n        .video-wrapper{\r\n          box-sizing: border-box;\r\n          max-width: 75%;\r\n          margin: 0 auto;\r\n          background: #172231;\r\n        }\r\n        .video-img{\r\n          width: 100%;\r\n          background: #000;\r\n          .video-js{\r\n            width: 100%;\r\n            /*object-fit: cover;*/\r\n            /*object-position: center;*/\r\n          }\r\n        }\r\n        .info-h5{\r\n          width: 100%;\r\n          font-size: 12px;\r\n          color: #adadad;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          box-sizing: border-box;\r\n          padding: 10px;\r\n          .viewed{\r\n            display: flex;\r\n            align-items: center;\r\n            img{\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n        }\r\n        .info{\r\n          width: 700px;\r\n          margin: 0 auto;\r\n          height: 54px;\r\n          box-sizing: border-box;\r\n          line-height: 54px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          font-size: 30px;\r\n          color: #bababa;\r\n          img{\r\n            margin-right: 10px;\r\n            vertical-align: middle;\r\n          }\r\n          span{\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n        .video-name{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          font-size: 30px;\r\n          color: #d0d0d0;\r\n          height: 48px;\r\n          line-height: 48px;\r\n          margin-top: 30px;\r\n          margin-bottom: 50px;\r\n          @include ellipsis;\r\n          box-sizing: border-box;\r\n          text-align: center;\r\n        }\r\n        .video-desc{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding: 0 150px 0 25px;\r\n          font-size: 24px;\r\n          color: #8b8b8b;\r\n        }\r\n      }\r\n      .list{\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        flex-direction:row;\r\n        box-sizing: border-box;\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n        .video-card{\r\n          margin-bottom: 13px;\r\n        }\r\n      }\r\n      .page-title{\r\n        margin-bottom: 11px;\r\n      }\r\n      .ads{\r\n        width: 100%;\r\n        padding: 23px 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        box-sizing: border-box;\r\n        padding-top: 0px;\r\n        padding-bottom: 11px;\r\n        .ads-item{\r\n          width: calc((100% - 27px) / 4);\r\n          margin-bottom: 7px;\r\n          height: 125px;\r\n          @include border2;\r\n          box-sizing: border-box;\r\n          cursor: pointer;\r\n          border-radius: 2px;\r\n          :deep(.van-image){\r\n            width: 100%;\r\n            height: 100%;\r\n            .van-image__loading{\r\n              background: none;\r\n            }\r\n            .van-image__error{\r\n              background: none;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .more{\r\n        width: 788px;\r\n        height: 74px;\r\n        line-height: 74px;\r\n        font-size: 30px;\r\n        color: #fff;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        background: #343945;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  @media screen and (min-width: 1280px) and (max-width: 1600px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        .video-info{\r\n          .video-img{}\r\n          .video-desc{\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n  @media screen and (min-width: 750px) and (max-width: 1280px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        width: 750px;\r\n        .video-info{\r\n          .video-img{}\r\n          .video-wrapper{\r\n            padding-left: 50px;\r\n            padding-right: 50px;\r\n          }\r\n          .info{\r\n            height: 50px;\r\n            line-height: 50px;\r\n            font-size: 24px;\r\n          }\r\n          .video-name{\r\n            font-size: 24px;\r\n          }\r\n          .video-desc{\r\n            font-size: 21px;\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n        .ads{\r\n          .ads-item{\r\n            height: 100px;\r\n          }\r\n        }\r\n        .more{\r\n          width: 750px;\r\n        }\r\n      }\r\n    }\r\n    .sidebar{\r\n      display: none;\r\n    }\r\n  }\r\n  @media screen and (max-width: 750px) {\r\n    .h5-hide{\r\n      display: none!important;\r\n    }\r\n    .pc-hide{\r\n      display: flex!important;\r\n    }\r\n    .info-container{\r\n      width: 100%;\r\n      .info-wrapper{\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding-left: 2px;\r\n        padding-right: 2px;\r\n        .ads{\r\n          padding-left: 14px;\r\n          padding-right: 14px;\r\n          .ads-item{\r\n            width: 100%;\r\n            height: 130px;\r\n            margin-bottom: 6px;\r\n            border: 1px solid #d7d7d8;\r\n            &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4), {\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        .list{\r\n          margin-bottom: 25px;\r\n          .video-card{\r\n            width: 100%;\r\n            margin-bottom: 18px;\r\n          }\r\n        }\r\n        .more{\r\n          display: none;\r\n        }\r\n        .video-info{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding-bottom: 0px;\r\n          margin-bottom: 70px;\r\n          .pc-hide{\r\n            display: block!important;\r\n          }\r\n          .video-wrapper{\r\n            max-width: 100%;\r\n            padding: 0px;\r\n          }\r\n          .info-h5{\r\n            display: flex!important;\r\n          }\r\n          .info{\r\n            width: 100%;\r\n            font-size: 14px;\r\n            padding-left: 40px;\r\n            padding-right: 40px;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n          .video-img{\r\n            @include border;\r\n          }\r\n          .video-name{\r\n            width: 100%;\r\n            font-size: 16px;\r\n            color: #fff;\r\n            height: auto;\r\n            padding: 0 13px;\r\n            margin-top: 13px;\r\n            line-height: 24px;\r\n            margin-bottom: 20px;\r\n          }\r\n          .video-desc{\r\n            font-size: 14px;\r\n            color: #fff;\r\n            padding: 10px;\r\n            padding-top: 0px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n      .sidebar{\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  @media screen and (max-width: 750px) {\r\n    .xgplayer xg-icon svg{\r\n      width: 16px;\r\n    }\r\n  }\r\n\r\n</style>\r\n","const XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nconst STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nconst XGTAG = \"%c[xgplayer]\";\nconst XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function(message, ...optionalParams) {\n    this.config.debug >= 3 && console.log(XGTAG, STYLE.info, message, ...optionalParams);\n  },\n  logWarn: function(message, ...optionalParams) {\n    this.config.debug >= 1 && console.warn(XGTAG, STYLE.warn, message, ...optionalParams);\n  },\n  logError: function(message, ...optionalParams) {\n    if (this.config.debug < 1) {\n      return;\n    }\n    const _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    console[_fun](XGTAG, STYLE.error, message, ...optionalParams);\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","class XgplayerTimeRange {\n  constructor(bufferedList) {\n    this.bufferedList = bufferedList;\n  }\n  start(index) {\n    return this.bufferedList[index].start;\n  }\n  end(index) {\n    return this.bufferedList[index].end;\n  }\n  get length() {\n    return this.bufferedList.length;\n  }\n}\nexport { XgplayerTimeRange as default };\n","import XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nconst util = {};\nutil.createDom = function(el = \"div\", tpl = \"\", attrs = {}, cname = \"\") {\n  const dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach((item) => {\n    const key = item;\n    const value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html, attrs = {}, classname = \"\") {\n  try {\n    let doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    let dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach((key) => {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, (item) => item === className);\n  } catch (e) {\n    const orgClassName = el.className && typeof el.className === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach((item) => {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && typeof el.className === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach((item) => {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach((item) => {\n        const reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && typeof el.className === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach((item) => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  const classname = [];\n  for (let i = 0; i < arguments.length; i++) {\n    if (util.typeOf(arguments[i]) === \"String\") {\n      classname.push(arguments[i]);\n    } else if (util.typeOf(arguments[i]) === \"Object\") {\n      Object.keys(arguments[i]).map((key) => {\n        if (arguments[i][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function(el = document, sel) {\n  let dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  const charstr = String(pad);\n  const len = length >> 0;\n  let maxlen = Math.ceil(len / charstr.length);\n  const chars = [];\n  const r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  const hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  const minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  const second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    const touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach((key) => {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map((key) => {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        dst[key].push(...src[key]);\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  const url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  const a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    const back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  const id = setTimeout(() => {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  const { _timers } = context;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (let i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  const { _timers } = context;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map((item) => {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  const btn = util.createDom(`xg-${name}`, \"\", {}, `xgplayer-${name}-img`);\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`;\n  if (width && height) {\n    let w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = `${w}${unit}`;\n    btn.style.height = `${h}${unit}`;\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`;\n    if (name === \"start\") {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`;\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  const rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return `rgba(${rgb.join(\",\")}, ${alpha})`;\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && typeof obj === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    const styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map((item) => {\n      if (item) {\n        const arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map((key) => {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (let i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom, list = [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"]) {\n  const _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  const styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  const ret = {};\n  const remain = {};\n  styleArr.map((item) => {\n    if (item) {\n      const arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map((key) => {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  const _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  const styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  const ret = {};\n  styleArr.map((item) => {\n    if (item) {\n      const arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = (url, onload = () => {\n}, onerror = () => {\n}) => {\n  if (!url) {\n    return;\n  }\n  let img = new window.Image();\n  img.onload = (e) => {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = (e) => {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = (e) => {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = (vbuffered, maxHoleDuration = 0.5) => {\n  const buffered = [];\n  for (let i = 0; i < vbuffered.length; i++) {\n    buffered.push({ start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i), end: vbuffered.end(i) });\n  }\n  buffered.sort(function(a, b) {\n    const diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  let buffered2 = [];\n  if (maxHoleDuration) {\n    for (let i = 0; i < buffered.length; i++) {\n      const buf2len = buffered2.length;\n      if (buf2len) {\n        const buf2end = buffered2[buf2len - 1].end;\n        if (buffered[i].start - buf2end < maxHoleDuration) {\n          if (buffered[i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[i].end;\n          }\n        } else {\n          buffered2.push(buffered[i]);\n        }\n      } else {\n        buffered2.push(buffered[i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e, zoom = 1) {\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  const _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  const results = url.split(\"/\");\n  let domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  const _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (video.media) {\n    video = video.media;\n  }\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function(did = 0) {\n  let d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  const uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  let event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  const dom = util.createDom(\n    \"xg-bar\",\n    \"\",\n    { \"data-index\": -1 },\n    className\n  );\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function(pos = { x: 0, y: 0, scale: 1, rotate: 0 }, transformValue = \"\") {\n  const styles = {\n    scale: `${pos.scale || 1}`,\n    translate: `${pos.x || 0}%, ${pos.y || 0}%`,\n    rotate: `${pos.rotate || 0}deg`\n  };\n  const stylesKeys = Object.keys(styles);\n  stylesKeys.forEach((key) => {\n    const reg = new RegExp(`${key}\\\\([^\\\\(]+\\\\)`, \"g\");\n    const fn = `${key}(${styles[key]})`;\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += `${fn} `;\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  const _len = segments.length;\n  let _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (let i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments, index = -1) {\n  let _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  const _len = segments.length;\n  const { start, end, cTime, offset } = segments[_index];\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  let _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (let i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    const { start } = segments[_index];\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  const type = typeof value;\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  let lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  let lastInvokeTime = 0;\n  let leading = false;\n  let maxing = false;\n  let trailing = true;\n  const useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    const args = lastArgs;\n    const thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    const timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    const time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced(...args) {\n    const time = Date.now();\n    const isInvoking = shouldInvoke(time);\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  let leading = true;\n  let trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  let lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  const pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","const VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nconst H264_MIMETYPES = [\n  \"avc1.42E01E, mp4a.40.2\",\n  \"avc1.58A01E, mp4a.40.2\",\n  \"avc1.4D401E, mp4a.40.2\",\n  \"avc1.64001E, mp4a.40.2\",\n  \"avc1.42E01E\",\n  \"mp4v.20.8\",\n  \"avc1.42E01E, mp4a.40.2\",\n  \"avc1.58A01E, mp4a.40.2\",\n  \"avc1.4D401E, mp4a.40.2\",\n  \"avc1.64001E, mp4a.40.2\",\n  \"mp4v.20.8, mp4a.40.2\",\n  \"mp4v.20.240, mp4a.40.2\"\n];\nconst sniffer = {\n  get device() {\n    const r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    const ua = navigator.userAgent.toLowerCase();\n    const reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter((key) => reg[key].test(ua)))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    const ua = navigator.userAgent;\n    const isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    const isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    const isAndroid = /(?:Android)/.test(ua);\n    const isFireFox = /(?:Firefox)/.test(ua);\n    const isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    const isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    const isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    const isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    const ua = navigator.userAgent;\n    let reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    const _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      const version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    const reg = /(micromessenger)\\/([\\d.]+)/;\n    const match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4() {\n    const result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    let a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map((key) => {\n        if (a.canPlayType(`video/mp4; codecs=\"${key}\"`) === \"probably\") {\n          result.isSupport = true;\n          result.mime += `||${key}`;\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport(mime = 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"') {\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported(info) {\n    const defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      const videoConfig = info.video || {};\n      const audioConfig = info.audio || {};\n      try {\n        const videoSupported = MediaSource.isTypeSupported(\n          videoConfig.contentType\n        );\n        const audioSupported = MediaSource.isTypeSupported(\n          audioConfig.contentType\n        );\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.1.0-alpha.9\";\nexport { version as default };\n","import version from \"./version.js\";\nimport util from \"./utils/util.js\";\nconst ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nconst ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nclass Errors {\n  constructor(player, errorInfo = { errorType: \"\", errorCode: 0, errorMessage: \"\", originError: \"\", ext: {}, mediaError: null }) {\n    const ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      const mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      const { duration, currentTime, ended, src, currentSrc } = player;\n      const { readyState, networkState } = player.media;\n      let _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      const r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map((key) => {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        const r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        const arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (let i = 0; i < arguments.length; i++) {\n          r[arr[i]] = arguments[i];\n        }\n        r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return r;\n      }\n    }\n  }\n}\nexport { ERROR_TYPE_MAP, Errors as default };\n","const PLAY = \"play\";\nconst PLAYING = \"playing\";\nconst ENDED = \"ended\";\nconst PAUSE = \"pause\";\nconst ERROR = \"error\";\nconst SEEKING = \"seeking\";\nconst SEEKED = \"seeked\";\nconst TIME_UPDATE = \"timeupdate\";\nconst WAITING = \"waiting\";\nconst CANPLAY = \"canplay\";\nconst CANPLAY_THROUGH = \"canplaythrough\";\nconst DURATION_CHANGE = \"durationchange\";\nconst VOLUME_CHANGE = \"volumechange\";\nconst LOADED_DATA = \"loadeddata\";\nconst LOADED_METADATA = \"loadedmetadata\";\nconst RATE_CHANGE = \"ratechange\";\nconst PROGRESS = \"progress\";\nconst LOAD_START = \"loadstart\";\nconst EMPTIED = \"emptied\";\nconst STALLED = \"stalled\";\nconst SUSPEND = \"suspend\";\nconst ABORT = \"abort\";\nconst BUFFER_CHANGE = \"bufferedChange\";\nconst PLAYER_FOCUS = \"focus\";\nconst PLAYER_BLUR = \"blur\";\nconst READY = \"ready\";\nconst URL_NULL = \"urlNull\";\nconst AUTOPLAY_STARTED = \"autoplay_started\";\nconst AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nconst COMPLETE = \"complete\";\nconst REPLAY = \"replay\";\nconst DESTROY = \"destroy\";\nconst URL_CHANGE = \"urlchange\";\nconst DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nconst LEAVE_PLAYER = \"leaveplayer\";\nconst ENTER_PLAYER = \"enterplayer\";\nconst LOADING = \"loading\";\nconst FULLSCREEN_CHANGE = \"fullscreen_change\";\nconst CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nconst MINI_STATE_CHANGE = \"mini_state_change\";\nconst DEFINITION_CHANGE = \"definition_change\";\nconst BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nconst AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nconst SEI_PARSED = \"SEI_PARSED\";\nconst RETRY = \"retry\";\nconst VIDEO_RESIZE = \"video_resize\";\nconst PIP_CHANGE = \"pip_change\";\nconst ROTATE = \"rotate\";\nconst SCREEN_SHOT = \"screenShot\";\nconst PLAYNEXT = \"playnext\";\nconst SHORTCUT = \"shortcut\";\nconst XGLOG = \"xglog\";\nconst USER_ACTION = \"user_action\";\nconst RESET = \"reset\";\nconst SOURCE_ERROR = \"source_error\";\nconst SOURCE_SUCCESS = \"source_success\";\nconst SWITCH_SUBTITLE = \"switch_subtitle\";\nconst VIDEO_EVENTS = [\n  \"play\",\n  \"playing\",\n  \"ended\",\n  \"pause\",\n  \"error\",\n  \"seeking\",\n  \"seeked\",\n  \"timeupdate\",\n  \"waiting\",\n  \"canplay\",\n  \"canplaythrough\",\n  \"durationchange\",\n  \"volumechange\",\n  \"loadeddata\",\n  \"loadedmetadata\",\n  \"ratechange\",\n  \"progress\",\n  \"loadstart\",\n  \"emptied\",\n  \"stalled\",\n  \"suspend\",\n  \"abort\",\n  \"lowdecode\"\n];\nconst STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nconst FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ENTER_PLAYER, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LEAVE_PLAYER, LOADED_DATA, LOADED_METADATA, LOADING, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return (e, _err) => {\n    const eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      const _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      const callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nclass MediaProxy extends EventEmitter {\n  constructor(options) {\n    super(options);\n    this._hasStart = false;\n    this._currentTime = 0;\n    this._duration = 0;\n    this._internalOp = {};\n    this._lastMuted = false;\n    this.vtype = \"MP4\";\n    this._rate = -1;\n    this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    const playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete this.mediaConfig.playsinline;\n      delete this.mediaConfig[\"webkit-playsinline\"];\n      delete this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(this.mediaConfig, \"muted\")) {\n      this.mediaConfig.muted = true;\n    }\n    this.media = util.createDom(this.mediaConfig.mediaType, \"\", this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      this.media.defaultPlaybackRate = this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      this.media.muted = true;\n      this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      this.media.autoplay = true;\n    }\n    this._interval = {};\n    this.mediaEventMiddleware = {};\n    this.attachVideoEvents();\n  }\n  setEventsMiddleware(middlewares) {\n    Object.keys(middlewares).map((key) => {\n      this.mediaEventMiddleware[key] = middlewares[key];\n    });\n  }\n  removeEventsMiddleware(middlewares) {\n    Object.keys(middlewares).map((key) => {\n      delete this.mediaEventMiddleware[key];\n    });\n  }\n  attachVideoEvents(media = this.media) {\n    if (!this._evHandlers) {\n      this._evHandlers = VIDEO_EVENTS.map((eventKey) => {\n        const funName = `on${eventKey.charAt(0).toUpperCase()}${eventKey.slice(1)}`;\n        if (typeof this[funName] === \"function\") {\n          this.on(eventKey, this[funName]);\n        }\n        return {\n          [eventKey]: getVideoEventHandler(eventKey, this)\n        };\n      });\n    }\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      media.addEventListener(eventKey, item[eventKey], false);\n    });\n  }\n  detachVideoEvents(media = this.media) {\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      media.removeEventListener(eventKey, item[eventKey], false);\n    });\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      const funName = `on${eventKey.charAt(0).toUpperCase()}${eventKey.slice(1)}`;\n      if (typeof this[funName] === \"function\") {\n        this.off(eventKey, this[funName]);\n      }\n    });\n    this._evHandlers = null;\n  }\n  _attachSourceEvents(video, urls) {\n    video.removeAttribute(\"src\");\n    video.load();\n    urls.forEach((item, index) => {\n      this.media.appendChild(util.createDom(\"source\", \"\", {\n        src: `${item.src}`,\n        type: `${item.type || \"\"}`,\n        \"data-index\": index + 1\n      }));\n    });\n    const _c = video.children;\n    if (!_c) {\n      return;\n    }\n    this._videoSourceCount = _c.length;\n    this._videoSourceIndex = _c.length;\n    this._vLoadeddata = (e) => {\n      this.emit(SOURCE_SUCCESS, { src: e.target.currentSrc, host: util.getHostFromUrl(e.target.currentSrc) });\n    };\n    let _eHandler = null;\n    for (let i = 0; i < this._evHandlers.length; i++) {\n      if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n        _eHandler = this._evHandlers[i];\n        break;\n      }\n    }\n    !this._sourceError && (this._sourceError = (e) => {\n      const _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n      this._videoSourceIndex--;\n      if (this._videoSourceIndex === 0 || _dIndex >= this._videoSourceCount) {\n        const _err = { code: 4, message: \"sources_load_error\" };\n        _eHandler ? _eHandler.error(e, _err) : this.errorHandler(\"error\", _err);\n      }\n      const type = ERROR_TYPE_MAP[4];\n      this.emit(SOURCE_ERROR, new Errors(this, {\n        errorType: type,\n        errorCode: 4,\n        errorMessage: \"sources_load_error\",\n        mediaError: { code: 4, message: \"sources_load_error\" },\n        src: e.target.src\n      }));\n    });\n    for (let i = 0; i < _c.length; i++) {\n      _c[i].addEventListener(\"error\", this._sourceError);\n    }\n    video.addEventListener(\"loadeddata\", this._vLoadeddata);\n  }\n  _detachSourceEvents(video) {\n    const _c = video.children;\n    if (!_c || _c.length === 0 || !this._sourceError) {\n      return;\n    }\n    for (let i = 0; i < _c.length; i++) {\n      _c[i].removeEventListener(\"error\", this._sourceError);\n    }\n    while (_c.length > 0) {\n      video.removeChild(_c[0]);\n    }\n    this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n  }\n  errorHandler(name, error = null) {\n    if (this.media && (this.media.error || error)) {\n      let _e = this.media.error || error;\n      const type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n      let message = _e.message;\n      if (!this.media.currentSrc) {\n        message = \"empty_src\";\n        _e = {\n          code: 6,\n          message\n        };\n      }\n      this.emit(name, new Errors(this, {\n        errorType: type,\n        errorCode: _e.code,\n        errorMessage: _e.message || \"\",\n        mediaError: _e\n      }));\n    }\n  }\n  destroy() {\n    if (this.media) {\n      if (this.media.pause) {\n        this.media.pause();\n        this.media.muted = true;\n      }\n      this.media.removeAttribute(\"src\");\n      this.media.load();\n    }\n    this._currentTime = 0;\n    this._duration = 0;\n    this.mediaConfig = null;\n    for (const k in this._interval) {\n      if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n        clearInterval(this._interval[k]);\n        this._interval[k] = null;\n      }\n    }\n    this.detachVideoEvents();\n    this.media = null;\n    this.mediaEventMiddleware = {};\n    this.removeAllListeners();\n  }\n  get video() {\n    return this.media;\n  }\n  set video(media) {\n    this.media = media;\n  }\n  play() {\n    const ret = this.media ? this.media.play() : null;\n    return ret;\n  }\n  pause() {\n    this.media && this.media.pause();\n  }\n  load() {\n    this.media && this.media.load();\n  }\n  canPlayType(type) {\n    return this.media ? this.media.canPlayType(type) : false;\n  }\n  getBufferedRange(buffered) {\n    const range = [0, 0];\n    if (!this.media) {\n      return range;\n    }\n    if (!buffered) {\n      buffered = this.media.buffered;\n    }\n    const currentTime = this.media.currentTime;\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i);\n        range[1] = buffered.end(i);\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break;\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range;\n    } else {\n      return [0, 0];\n    }\n  }\n  set autoplay(isTrue) {\n    this.media && (this.media.autoplay = isTrue);\n  }\n  get autoplay() {\n    return this.media ? this.media.autoplay : false;\n  }\n  get buffered() {\n    return this.media ? this.media.buffered : null;\n  }\n  get buffered2() {\n    return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n  }\n  get bufferedPoint() {\n    const ret = {\n      start: 0,\n      end: 0\n    };\n    if (!this.media) {\n      return ret;\n    }\n    const _buffered = this.media.buffered;\n    if (!_buffered || _buffered.length === 0) {\n      return ret;\n    }\n    for (let i = 0; i < _buffered.length; i++) {\n      if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n        return {\n          start: _buffered.start(i),\n          end: _buffered.end(i)\n        };\n      }\n    }\n    return ret;\n  }\n  get crossOrigin() {\n    return this.media ? this.media.crossOrigin : \"\";\n  }\n  set crossOrigin(isTrue) {\n    this.media && (this.media.crossOrigin = isTrue);\n  }\n  get currentSrc() {\n    return this.media ? this.media.currentSrc : \"\";\n  }\n  set currentSrc(src) {\n    this.media && (this.media.currentSrc = src);\n  }\n  get currentTime() {\n    if (!this.media) {\n      return 0;\n    }\n    return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n  }\n  set currentTime(time) {\n    this.media && (this.media.currentTime = time);\n  }\n  get defaultMuted() {\n    return this.media ? this.media.defaultMuted : false;\n  }\n  set defaultMuted(isTrue) {\n    this.media && (this.media.defaultMuted = isTrue);\n  }\n  get duration() {\n    return this._duration;\n  }\n  get ended() {\n    return this.media ? this.media.ended : false;\n  }\n  get error() {\n    return this.media.error;\n  }\n  get errorNote() {\n    const err = this.media.error;\n    if (!err) {\n      return \"\";\n    }\n    const status = [\n      \"MEDIA_ERR_ABORTED\",\n      \"MEDIA_ERR_NETWORK\",\n      \"MEDIA_ERR_DECODE\",\n      \"MEDIA_ERR_SRC_NOT_SUPPORTED\"\n    ];\n    return status[this.media.error.code - 1];\n  }\n  get loop() {\n    return this.media ? this.media.loop : false;\n  }\n  set loop(isTrue) {\n    this.media && (this.media.loop = isTrue);\n  }\n  get muted() {\n    return this.media ? this.media.muted : false;\n  }\n  set muted(isTrue) {\n    if (!this.media || this.media.muted === isTrue) {\n      return;\n    }\n    this._lastMuted = this.media.muted;\n    this.media.muted = isTrue;\n  }\n  get networkState() {\n    return this.media.networkState;\n  }\n  get paused() {\n    return this.media ? this.media.paused : true;\n  }\n  get playbackRate() {\n    return this.media ? this.media.playbackRate : 0;\n  }\n  set playbackRate(rate) {\n    if (!this.media || rate === Infinity) {\n      return;\n    }\n    this.media.defaultPlaybackRate = rate;\n    this.media.playbackRate = rate;\n  }\n  get played() {\n    return this.media ? this.media.played : null;\n  }\n  get preload() {\n    return this.media ? this.media.preload : false;\n  }\n  set preload(isTrue) {\n    this.media && (this.media.preload = isTrue);\n  }\n  get readyState() {\n    return this.media.readyState;\n  }\n  get seekable() {\n    return this.media ? this.media.seekable : false;\n  }\n  get seeking() {\n    return this.media ? this.media.seeking : false;\n  }\n  get src() {\n    return this.media ? this.media.src : \"\";\n  }\n  set src(url) {\n    if (!this.media) {\n      return;\n    }\n    this.emit(URL_CHANGE, url);\n    this.emit(WAITING);\n    this._currentTime = 0;\n    this._duration = 0;\n    if (util.isMSE(this.media)) {\n      this.onWaiting();\n      return;\n    }\n    this._detachSourceEvents(this.media);\n    if (util.typeOf(url) === \"Array\") {\n      this._attachSourceEvents(this.media, url);\n    } else if (url) {\n      this.media.src = url;\n    } else {\n      this.media.removeAttribute(\"src\");\n    }\n    this.load();\n  }\n  get volume() {\n    return this.media ? this.media.volume : 0;\n  }\n  set volume(vol) {\n    if (vol === Infinity || !this.media) {\n      return;\n    }\n    this.media.volume = vol;\n  }\n  get aspectRatio() {\n    return this.media ? this.media.videoWidth / this.media.videoHeight : 0;\n  }\n  addInnerOP(event) {\n    this._internalOp[event] = true;\n  }\n  removeInnerOP(event) {\n    delete this._internalOp[event];\n  }\n  emit(event, data, ...args) {\n    super.emit(event, data, ...args);\n  }\n  on(event, callback, ...args) {\n    super.on(event, callback, ...args);\n  }\n  once(event, callback, ...args) {\n    super.once(event, callback, ...args);\n  }\n  off(event, callback, ...args) {\n    super.off(event, callback, ...args);\n  }\n  offAll() {\n    super.removeAllListeners();\n  }\n}\nexport { MediaProxy as default };\n","class INDEXDB {\n  constructor(mydb = { name: \"xgplayer\", version: 1, db: null, ojstore: { name: \"xg-m4a\", keypath: \"vid\" } }) {\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  openDB(callback) {\n    const self = this;\n    const version = this.myDB.version || 1;\n    const request = self.indexedDB.open(self.myDB.name, version);\n    request.onerror = function(e) {\n    };\n    request.onsuccess = (e) => {\n      this.myDB.db = e.target.result;\n      callback.call(self);\n    };\n    request.onupgradeneeded = (e) => {\n      const db = e.target.result;\n      e.target.transaction;\n      if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n        db.createObjectStore(self.myDB.ojstore.name, { keyPath: self.myDB.ojstore.keypath });\n      }\n    };\n  }\n  deletedb() {\n    const self = this;\n    self.indexedDB.deleteDatabase(this.myDB.name);\n  }\n  closeDB() {\n    this.myDB.db.close();\n  }\n  addData(storename, data) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    let request;\n    for (let i = 0; i < data.length; i++) {\n      request = store.add(data[i]);\n      request.onerror = function() {\n      };\n      request.onsuccess = function() {\n      };\n    }\n  }\n  putData(storename, data) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    let request;\n    for (let i = 0; i < data.length; i++) {\n      request = store.put(data[i]);\n      request.onerror = function() {\n      };\n      request.onsuccess = function() {\n      };\n    }\n  }\n  getDataByKey(storename, key, callback) {\n    const self = this;\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    const request = store.get(key);\n    request.onerror = function() {\n      callback.call(self, null);\n    };\n    request.onsuccess = function(e) {\n      const result = e.target.result;\n      callback.call(self, result);\n    };\n  }\n  deleteData(storename, key) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    store.delete(key);\n  }\n  clearData(storename) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    store.clear();\n  }\n}\nexport { INDEXDB as default };\n","const FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nconst GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nconst EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nconst PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","function callHandler(obj, handler, next, ...args) {\n  const ret = handler.call(obj, ...args);\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then((...args2) => {\n      next.call(obj, ...args2);\n    });\n  } else {\n    next.call(obj, ...args);\n  }\n}\nfunction hook(hookName, handler, preset = { pre: null, next: null }) {\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    if (preset.pre) {\n      try {\n        preset.pre.call(this, ...arguments);\n      } catch (e) {\n        e.message = `[pluginName: ${this.pluginName}:${hookName}:pre error] >> ${e.message}`;\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        const preRet = this.__hooks[hookName].call(this, this, ...arguments);\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then((isContinue) => {\n              if (isContinue !== false) {\n                callHandler(this, handler, preset.next, ...arguments);\n              }\n            }).catch((e) => {\n              throw e;\n            });\n          } else {\n            callHandler(this, handler, preset.next, ...arguments);\n          }\n        } else if (preRet === void 0) {\n          callHandler(this, handler, preset.next, ...arguments);\n        }\n      } catch (e) {\n        e.message = `[pluginName: ${this.pluginName}:${hookName}] >> ${e.message}`;\n        throw e;\n      }\n    } else {\n      callHandler(this, handler, preset.next, ...arguments);\n    }\n  }.bind(this);\n}\nfunction useHooks(hookName, handler) {\n  const { __hooks } = this;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(`has no supported hook which name [${hookName}]`);\n    return false;\n  }\n  __hooks && (__hooks[hookName] = handler);\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  const { __hooks } = this;\n  if (!__hooks) {\n    return;\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName, ...args) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  const plugin = this.plugins[pluginName.toLowerCase()];\n  return plugin.useHooks && plugin.useHooks(...args);\n}\nfunction removePluginHooks(pluginName, ...args) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  const plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    return plugin.removeHooks && plugin.removeHooks(...args);\n  }\n}\nfunction hooksDescriptor(instance, presetHooks = []) {\n  instance.__hooks = {};\n  presetHooks && presetHooks.map((item) => {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: () => {\n      return instance.__hooks && Object.keys(instance.__hooks).map((key) => {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler, ...args) {\n  if (obj.__hooks && obj.__hooks[hookName]) {\n    const ret = obj.__hooks[hookName].call(obj, obj, ...args);\n    if (ret && ret.then) {\n      ret.then((data) => {\n        return data === false ? null : handler.call(obj, obj, ...args);\n      }).catch((e) => {\n        console.warn(`[runHooks]${hookName} reject`, e.message);\n      });\n    } else if (ret !== false) {\n      return handler.call(obj, obj, ...args);\n    }\n  } else {\n    return handler.call(obj, obj, ...args);\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(`[${pluginName}] event or callback cant be undefined or null when call ${msg}`);\n}\nclass BasePlugin {\n  static defineGetterOrSetter(Obj, map) {\n    for (const key in map) {\n      if (Object.prototype.hasOwnProperty.call(map, key)) {\n        Object.defineProperty(Obj, key, map[key]);\n      }\n    }\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  static get pluginName() {\n    return \"pluginName\";\n  }\n  constructor(args) {\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  beforeCreate(args) {\n  }\n  afterCreate() {\n  }\n  beforePlayerInit() {\n  }\n  onPluginsReady() {\n  }\n  afterPlayerInit() {\n  }\n  destroy() {\n  }\n  __init(args) {\n    this.player = args.player;\n    this.playerConfig = args.player && args.player.config;\n    this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n    this.logger = args.player && args.player.logger;\n  }\n  updateLang(lang) {\n    if (!lang) {\n      lang = this.lang;\n    }\n  }\n  get lang() {\n    return this.player.lang;\n  }\n  get i18n() {\n    return this.player.i18n;\n  }\n  get i18nKeys() {\n    return this.player.i18nKeys;\n  }\n  get domEventType() {\n    let _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n    if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n      _e = this.playerConfig.domEventType;\n    }\n    return _e;\n  }\n  on(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      this.__events[event] = callback;\n      this.player.on(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback;\n        this.player.on(item, callback);\n      });\n    }\n  }\n  once(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      this.__onceEvents[event] = callback;\n      this.player.once(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__onceEvents[item] = callback;\n        this.player.once(event, callback);\n      });\n    }\n  }\n  off(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      delete this.__events[event];\n      this.player.off(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        delete this.__events[event];\n        this.player.off(item, callback);\n      });\n    }\n  }\n  offAll() {\n    [\"__events\", \"__onceEvents\"].forEach((key) => {\n      Object.keys(this[key]).forEach((item) => {\n        this[key][item] && this.off(item, this[key][item]);\n        item && delete this[key][item];\n      });\n    });\n    this.__events = {};\n    this.__onceEvents = {};\n  }\n  emit(event, ...res) {\n    if (!this.player) {\n      return;\n    }\n    this.player.emit(event, ...res);\n  }\n  emitUserAction(event, action, params = {}) {\n    if (!this.player) {\n      return;\n    }\n    const nParams = {\n      ...params,\n      pluginName: this.pluginName\n    };\n    this.player.emitUserAction(event, action, nParams);\n  }\n  hook(hookName, handler, preset = { pre: null, next: null }) {\n    return hook.call(this, ...arguments);\n  }\n  useHooks(hookName, handler, ...args) {\n    return useHooks.call(this, ...arguments);\n  }\n  removeHooks(hookName, handler, ...args) {\n    return removeHooks.call(this, ...arguments);\n  }\n  registerPlugin(plugin, options = {}, name = \"\") {\n    if (!this.player) {\n      return;\n    }\n    name && (options.pluginName = name);\n    return this.player.registerPlugin({ plugin, options });\n  }\n  getPlugin(name) {\n    return this.player ? this.player.getPlugin(name) : null;\n  }\n  __destroy() {\n    const player = this.player;\n    const pluginName = this.pluginName;\n    this.offAll();\n    util.clearAllTimers(this);\n    if (util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map((item) => {\n      this[item] = null;\n    });\n    player.unRegisterPlugin(pluginName);\n    delHooksDescriptor(this);\n  }\n}\nexport { BasePlugin as default };\n","import BasePlugin from \"./basePlugin.js\";\nimport delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nconst ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nconst POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nconst PLUGIN_STATE_CLASS = {\n  ICON_DISABLE: \"xg-icon-disable\",\n  ICON_HIDE: \"xg-icon-hide\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (typeof icon === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return `${classname} ${icon.class}`;\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (typeof icon === \"object\" && icon.attr && typeof icon.attr === \"object\") {\n    Object.keys(icon.attr).map((key) => {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key, classname = \"\", attr = {}, pluginName = \"\") {\n  let newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map((key2) => {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, `xg-img ${classname}`);\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map((key2) => {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(`warn>>icons.${key} in config of plugin named [${pluginName}] is a function mast return an Element Object`);\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(`Plugin named [${pluginName}]:createIcon`, e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(`warn>>icons.${key} in config of plugin named [${pluginName}] is invalid`);\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  const _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map((key) => {\n    const orgIcon = iconsConfig[key];\n    let classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    let attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    let newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.langText, key, {\n      get: () => {\n        const { lang, i18n } = plugin;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nclass Plugin extends BasePlugin {\n  static insert(html, parent, index = 0) {\n    const len = parent.children.length;\n    const insertIdx = Number(index);\n    const isDomElement = html instanceof window.Node;\n    if (len) {\n      let i = 0;\n      let coordinate = null;\n      let mode = \"\";\n      for (; i < len; i++) {\n        coordinate = parent.children[i];\n        const curIdx = Number(coordinate.getAttribute(\"data-index\"));\n        if (curIdx >= insertIdx) {\n          mode = \"beforebegin\";\n          break;\n        } else if (curIdx < insertIdx) {\n          mode = \"afterend\";\n        }\n      }\n      if (isDomElement) {\n        if (mode === \"afterend\") {\n          parent.appendChild(html);\n        } else {\n          parent.insertBefore(html, coordinate);\n        }\n      } else {\n        coordinate.insertAdjacentHTML(mode, html);\n      }\n      return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n    } else {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n      return parent.children[parent.children.length - 1];\n    }\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  static delegate(root, querySelector, eventType, callback, capture = false) {\n    const dels = [];\n    if (root instanceof window.Node && typeof callback === \"function\") {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          const ret = delegate(root, querySelector, item, callback, capture);\n          ret.key = `${querySelector}_${item}`;\n          dels.push(ret);\n        });\n      } else {\n        const ret = delegate(root, querySelector, eventType, callback, capture);\n        ret.key = `${querySelector}_${eventType}`;\n        dels.push(ret);\n      }\n    }\n    return dels;\n  }\n  static get ROOT_TYPES() {\n    return ROOT_TYPES;\n  }\n  static get POSITIONS() {\n    return POSITIONS;\n  }\n  constructor(args = {}) {\n    super(args);\n    this.__delegates = [];\n  }\n  __init(args) {\n    super.__init(args);\n    if (!args.root) {\n      return;\n    }\n    const _parent = args.root;\n    let _el = null;\n    this.icons = {};\n    this.root = null;\n    this.parent = null;\n    const _orgicons = this.registerIcons() || {};\n    registerIconsObj(_orgicons, this);\n    this.langText = {};\n    const defaultTexConfig = this.registerLanguageTexts() || {};\n    registerTextObj(defaultTexConfig, this);\n    let renderStr = \"\";\n    try {\n      renderStr = this.render();\n    } catch (e) {\n      XG_DEBUG.logError(`Plugin:${this.pluginName}:render`, e);\n      throw new Error(`Plugin:${this.pluginName}:render:${e.message}`);\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index);\n      _el.setAttribute(\"data-index\", args.index);\n    } else if (args.tag) {\n      _el = util.createDom(args.tag, \"\", args.attr, args.name);\n      _el.setAttribute(\"data-index\", args.index);\n      _parent.appendChild(_el);\n    } else {\n      return;\n    }\n    this.root = _el;\n    this.parent = _parent;\n    const attr = this.config.attr || {};\n    const style = this.config.style || {};\n    this.setAttr(attr);\n    this.setStyle(style);\n    if (this.config.index) {\n      this.root.setAttribute(\"data-index\", this.config.index);\n    }\n    this.__registerChildren();\n  }\n  __registerChildren() {\n    if (!this.root) {\n      return;\n    }\n    this._children = [];\n    const children = this.children();\n    if (children && typeof children === \"object\") {\n      if (Object.keys(children).length > 0) {\n        Object.keys(children).map((item) => {\n          const name = item;\n          const _plugin = children[name];\n          const options = {\n            root: this.root\n          };\n          let config, Plugin2;\n          if (typeof _plugin === \"function\") {\n            config = this.config[name] || {};\n            Plugin2 = _plugin;\n          } else if (typeof _plugin === \"object\" && typeof _plugin.plugin === \"function\") {\n            config = _plugin.options ? util.deepCopy(this.config[name] || {}, _plugin.options) : this.config[name] || {};\n            Plugin2 = _plugin.plugin;\n          }\n          options.config = config;\n          config.index !== void 0 && (options.index = config.index);\n          config.root && (options.root = config.root);\n          this.registerPlugin(Plugin2, options, name);\n        });\n      }\n    }\n  }\n  updateLang(lang) {\n    if (!lang) {\n      lang = this.lang;\n    }\n    function checkChildren(node, callback) {\n      for (let i = 0; i < node.children.length; i++) {\n        if (node.children[i].children.length > 0) {\n          checkChildren(node.children[i], callback);\n        } else {\n          callback(node.children[i]);\n        }\n      }\n    }\n    const { root, i18n, langText } = this;\n    if (root) {\n      checkChildren(root, (node) => {\n        const langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n        if (!langKey) {\n          return;\n        }\n        const langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n        if (langTextShow) {\n          node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n        }\n      });\n    }\n  }\n  get lang() {\n    return this.player.lang;\n  }\n  changeLangTextKey(dom, key = \"\") {\n    const i18n = this.i18n || {};\n    const langText = this.langText;\n    dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n    const text = i18n[key] || langText[key] || \"\";\n    if (text) {\n      dom.innerHTML = text;\n    }\n  }\n  plugins() {\n    return this._children;\n  }\n  disable() {\n    this.config.disable = true;\n    util.addClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n  }\n  enable() {\n    this.config.disable = false;\n    util.removeClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n  }\n  children() {\n    return {};\n  }\n  registerPlugin(plugin, options = {}, name = \"\") {\n    options.root = options.root || this.root;\n    const _c = super.registerPlugin(plugin, options, name);\n    this._children.push(_c);\n    return _c;\n  }\n  registerIcons() {\n    return {};\n  }\n  registerLanguageTexts() {\n    return {};\n  }\n  find(qs) {\n    if (!this.root) {\n      return;\n    }\n    return this.root.querySelector(qs);\n  }\n  bind(querySelector, eventType, callback) {\n    if (arguments.length < 3 && typeof eventType === \"function\") {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType);\n        });\n      } else {\n        this.bindEL(querySelector, eventType);\n      }\n    } else {\n      const ret = Plugin.delegate.call(this, this.root, querySelector, eventType, callback);\n      this.__delegates = this.__delegates.concat(ret);\n    }\n  }\n  unbind(querySelector, eventType) {\n    if (arguments.length < 3 && typeof eventType === \"function\") {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType);\n        });\n      } else {\n        this.unbindEL(querySelector, eventType);\n      }\n    } else {\n      const key = `${querySelector}_${eventType}`;\n      for (let i = 0; i < this.__delegates.length; i++) {\n        if (this.__delegates[i].key === key) {\n          this.__delegates[i].destroy();\n          this.__delegates.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n  setStyle(name, value) {\n    if (!this.root) {\n      return;\n    }\n    if (util.typeOf(name) === \"String\") {\n      return this.root.style[name] = value;\n    } else if (util.typeOf(name) === \"Object\") {\n      Object.keys(name).map((key) => {\n        this.root.style[key] = name[key];\n      });\n    }\n  }\n  setAttr(name, value) {\n    if (!this.root) {\n      return;\n    }\n    if (util.typeOf(name) === \"String\") {\n      return this.root.setAttribute(name, value);\n    } else if (util.typeOf(name) === \"Object\") {\n      Object.keys(name).map((key) => {\n        this.root.setAttribute(key, name[key]);\n      });\n    }\n  }\n  setHtml(htmlStr, callback) {\n    if (!this.root) {\n      return;\n    }\n    this.root.innerHTML = htmlStr;\n    if (typeof callback === \"function\") {\n      callback();\n    }\n  }\n  bindEL(event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return;\n    }\n    if (`on${event}` in this.root && typeof eventHandle === \"function\") {\n      this.root.addEventListener(event, eventHandle, isBubble);\n    }\n  }\n  unbindEL(event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return;\n    }\n    if (`on${event}` in this.root && typeof eventHandle === \"function\") {\n      this.root.removeEventListener(event, eventHandle, isBubble);\n    }\n  }\n  show(value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== void 0 ? value : \"block\";\n    const cs = window.getComputedStyle(this.root, null);\n    const cssDisplayValue = cs.getPropertyValue(\"display\");\n    if (cssDisplayValue === \"none\") {\n      return this.root.style.display = \"block\";\n    }\n  }\n  hide() {\n    this.root && (this.root.style.display = \"none\");\n  }\n  appendChild(pdom, child) {\n    if (!this.root) {\n      return null;\n    }\n    if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n      return this.root.appendChild(arguments[0]);\n    }\n    if (!child || !(child instanceof window.Element)) {\n      return null;\n    }\n    try {\n      if (typeof pdom === \"string\") {\n        return this.find(pdom).appendChild(child);\n      } else {\n        return pdom.appendChild(child);\n      }\n    } catch (err) {\n      XG_DEBUG.logError(\"Plugin:appendChild\", err);\n      return null;\n    }\n  }\n  render() {\n    return \"\";\n  }\n  destroy() {\n  }\n  __destroy() {\n    const { player } = this;\n    this.__delegates.map((item) => {\n      item.destroy();\n    });\n    this.__delegates = [];\n    if (this._children instanceof Array) {\n      this._children.map((item) => {\n        player.unRegisterPlugin(item.pluginName);\n      });\n      this._children = null;\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty(\"remove\")) {\n        this.root.remove();\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root);\n      }\n    }\n    super.__destroy();\n    this.icons = {};\n    [\"root\", \"parent\"].map((item) => {\n      this[item] = null;\n    });\n  }\n}\nexport { PLUGIN_STATE_CLASS, POSITIONS, ROOT_TYPES, Plugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nclass ResizeObserver {\n  constructor() {\n    __publicField(this, \"__trigger\", (entries) => {\n      const t = new Date().getTime();\n      this.timeStamp = t;\n      for (let i = 0; i < entries.length; i++) {\n        this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, { trailing: true }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  addObserver(target, handler) {\n    if (!this.observer) {\n      return;\n    }\n    this.observer && this.observer.observe(target);\n    const _pid = target.getAttribute(PLATER_ID);\n    const { __handlers } = this;\n    let index = -1;\n    for (let i = 0; i < __handlers.length; i++) {\n      if (__handlers[i] && target === __handlers[i].target) {\n        index = i;\n      }\n    }\n    if (index > -1) {\n      this.__handlers[index].handler = handler;\n    } else {\n      this.__handlers.push({\n        target,\n        handler,\n        playerId: _pid\n      });\n    }\n  }\n  unObserver(target) {\n    let i = -1;\n    this.__handlers.map((item, index) => {\n      if (target === item.target) {\n        i = index;\n      }\n    });\n    try {\n      this.observer && this.observer.unobserve(target);\n    } catch (e) {\n    }\n    this.observer && this.observer.unobserve(target);\n    i > -1 && this.__handlers.splice(i, 1);\n  }\n  destroyObserver() {\n    this.observer && this.observer.disconnect();\n    this.observer = null;\n    this.__handlers = null;\n  }\n  __runHandler(target) {\n    const { __handlers } = this;\n    for (let i = 0; i < __handlers.length; i++) {\n      if (__handlers[i] && target === __handlers[i].target) {\n        try {\n          __handlers[i].handler(target);\n        } catch (error) {\n          console.error(error);\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n}\nlet resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nconst pluginsManager = {\n  pluginGroup: {},\n  init(player) {\n    let cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = util.generateSessionId();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && player.root && addObserver(player.root, () => {\n      player.resize();\n    });\n    this.pluginGroup[cgid] = {\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  formatPluginInfo(plugin, config) {\n    let PLUFGIN = null;\n    let options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits(pluginName, plugins) {\n    for (let i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig(pluginName, playerConfig) {\n    const keys = Object.keys(playerConfig);\n    let _pConfig = null;\n    for (let i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister(player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default;\n        } else {\n          result = plugin;\n        }\n        this.register(player, result, plugin.options);\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error(\"timeout\"));\n        }, timeout);\n      })\n    ]);\n  },\n  register(player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    const originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = player;\n    const pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(`not supported plugin [${pluginName}]`);\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    const keys = Object.keys(originalOptions);\n    for (let i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        const config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach((key) => {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(`the is one plugin with same pluginName [${pluginName}] exist, destroy the old instance`);\n      }\n      const _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      const plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(`[unRegister:${name}] cgid:[${cgid}] error`, e);\n    }\n  },\n  deletePlugin(player, name) {\n    const cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins(player) {\n    const cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin(player, name) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    const cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit(player) {\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId;\n        if (!this.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        const plugins = this.pluginGroup[cgid]._plugins;\n        const pluginsRet = [];\n        Object.keys(plugins).forEach((pName) => {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              const ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([...pluginsRet]).then(() => {\n          resolve();\n        }).catch((e) => {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((pName) => {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang(lang, player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((item) => {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(`${item} setLang`);\n        }\n      }\n    });\n  },\n  reRender(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const _pList = [];\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((pName) => {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        this.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach((item) => {\n      this.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach((key) => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  destroy(player) {\n    const cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    player.root && unObserver(player.root);\n    const plugins = this.pluginGroup[cgid]._plugins;\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item);\n    }\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  BUILTIN_CLASS: \"xgplayer-built-in\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    isNoRoot: false,\n    isCustomRoot: true,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: () => {\n    },\n    enableSwipeHandler: () => {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: { list: [] },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  const { plugins = [], ignores = [], icons = {}, i18n = [] } = presetInst;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n  Object.keys(icons).map((key) => {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  const _ci18n = player.config.i18n || [];\n  i18n.push(..._ci18n);\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","import util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nconst XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach((key) => {\n    const _s = util.typeOf(src[key]);\n    const _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      dst[key].push(...src[key]);\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map((key) => {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  let ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map((lang2) => {\n      const keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  const { lang } = i18nLangs;\n  ext.map((item) => {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  let _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  const texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  const ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  ret.langKeys.push(...XGI18nLang.langKeys);\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nconst I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    const ret = {};\n    XGI18nLang.langKeys.map((key) => {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","const STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nconst STATE_ARRAY = [\n  \"ERROR\",\n  \"INITIAL\",\n  \"READY\",\n  \"ATTACHING\",\n  \"ATTACHED\",\n  \"NOTALLOW\",\n  \"RUNNING\",\n  \"ENDED\",\n  \"DESTROYED\"\n];\nexport { STATES, STATE_ARRAY };\n","import { EventEmitter } from \"eventemitter3\";\nconst store = {};\nlet instance = null;\nclass InstManager extends EventEmitter {\n  static getInstance() {\n    instance || (instance = new InstManager());\n    return instance;\n  }\n  add(player) {\n    if (!player) {\n      return;\n    }\n    store[player.playerId] = player;\n    if (Object.keys(store).length === 1) {\n      this.setActive(player.playerId, true);\n    }\n  }\n  remove(player) {\n    if (!player) {\n      return;\n    }\n    player.isUserActive;\n    delete store[player.playerId];\n  }\n  _iterate(fn, endEarly = false) {\n    for (const key in store) {\n      if (Object.prototype.hasOwnProperty.call(store, key)) {\n        const player = store[key];\n        if (endEarly) {\n          if (fn(player)) {\n            break;\n          }\n        } else {\n          fn(player);\n        }\n      }\n    }\n  }\n  forEach(fn) {\n    this._iterate(fn);\n  }\n  find(fn) {\n    let result = null;\n    this._iterate((player) => {\n      const flag = fn(player);\n      if (flag) {\n        result = player;\n      }\n      return flag;\n    }, true);\n    return result;\n  }\n  findAll(fn) {\n    const results = [];\n    this._iterate((player) => {\n      if (fn(player)) {\n        results.push(player);\n      }\n    });\n    return results;\n  }\n  setActive(playerId, isActive = true) {\n    if (!store[playerId]) {\n      return;\n    }\n    if (isActive) {\n      this.forEach((inst) => {\n        if (playerId === inst.playerId) {\n          inst.isUserActive = true;\n          inst.isInstNext = false;\n        } else {\n          inst.isUserActive = false;\n        }\n      });\n    } else {\n      store[playerId].isUserActive = isActive;\n    }\n    return playerId;\n  }\n  getActiveId() {\n    const keys = Object.keys(store);\n    for (let i = 0; i < keys.length; i++) {\n      const c = store[keys[i]];\n      if (c && c.isUserActive) {\n        return keys[i];\n      }\n    }\n    return null;\n  }\n  setNext(playerId, isNext = true) {\n    if (!store[playerId]) {\n      return;\n    }\n    if (isNext) {\n      this.forEach((inst) => {\n        if (playerId === inst.playerId) {\n          inst.isUserActive = false;\n          inst.isInstNext = true;\n        } else {\n          inst.isInstNext = false;\n        }\n      });\n    } else {\n      store[playerId].isInstNext = isNext;\n    }\n    return playerId;\n  }\n}\nfunction checkPlayerRoot(root) {\n  const keys = Object.keys(store);\n  for (let i = 0; i < keys.length; i++) {\n    const p = store[keys[i]];\n    if (p.root === root) {\n      return p;\n    }\n  }\n  return null;\n}\nexport { InstManager, checkPlayerRoot };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { READY, ERROR, LOADED_DATA, PLAY, CANPLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, REPLAY, FULLSCREEN_CHANGE, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, USER_ACTION, LOADING, PLAYNEXT, VIDEO_RESIZE } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nimport { InstManager, checkPlayerRoot } from \"./instManager.js\";\nconst PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nlet REAL_TIME_SPEED = 0;\nlet AVG_SPEED = 0;\nlet instManager = null;\nconst _Player = class extends MediaProxy {\n  constructor(options) {\n    const config = util.deepMerge(getDefaultConfig(), options);\n    super(config);\n    __publicField(this, \"canPlayFunc\", () => {\n      if (!this.config) {\n        return;\n      }\n      const { autoplay, defaultPlaybackRate } = this.config;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", this.__startTime);\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime > this.duration ? this.duration : this.__startTime;\n        this.__startTime = -1;\n      }\n      this.playbackRate = defaultPlaybackRate;\n      (autoplay || this._useAutoplay) && this.mediaPlay();\n      this.off(CANPLAY, this.canPlayFunc);\n      this.removeClass(STATE_CLASS.ENTER);\n    });\n    __publicField(this, \"onFullscreenChange\", (event, isFullScreen) => {\n      const delayResize = () => {\n        util.setTimeout(this, () => {\n          this.resize();\n        }, 100);\n      };\n      const fullEl = util.getFullScreenEl();\n      if (this._fullActionFrom) {\n        this._fullActionFrom = \"\";\n      } else {\n        this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: this.currentTime,\n          duration: this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      const isVideo = checkIsCurrentVideo(fullEl, this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === this._fullscreenEl || isVideo)) {\n        delayResize();\n        !this.config.closeFocusVideoFocus && this.media.focus();\n        this.fullscreen = true;\n        this.changeFullStyle(this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        this.emit(FULLSCREEN_CHANGE, true, this._fullScreenOffset);\n        if (this.cssfullscreen) {\n          this.exitCssFullscreen();\n        }\n      } else if (this.fullscreen) {\n        delayResize();\n        const { _fullScreenOffset, config } = this;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(this, () => {\n            this.fullscreen = false;\n            this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !this.config.closeFocusVideoFocus && this.media.focus();\n          this.fullscreen = false;\n          this._fullScreenOffset = null;\n        }\n        if (!this.cssfullscreen) {\n          this.recoverFullStyle(this.root, this._fullscreenEl, STATE_CLASS.FULLSCREEN);\n        } else {\n          this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        this._fullscreenEl = null;\n        this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    __publicField(this, \"_onWebkitbeginfullscreen\", (e) => {\n      this._fullscreenEl = this.media;\n      this.onFullscreenChange(e, true);\n    });\n    __publicField(this, \"_onWebkitendfullscreen\", (e) => {\n      this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(this, PlAYER_HOOKS);\n    this.config = config;\n    this._pluginInfoId = util.generateSessionId();\n    bindDebug(this);\n    const defaultPreset = this.constructor.defaultPreset;\n    const { presets } = this.config;\n    if (presets.length) {\n      const defaultIdx = presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      presets.push(defaultPreset);\n    }\n    this.userTimer = null;\n    this.waitTimer = null;\n    this.handleSource = true;\n    this._state = STATES.INITIAL;\n    this.isError = false;\n    this._hasStart = false;\n    this.isSeeking = false;\n    this.isCanplay = false;\n    this._useAutoplay = false;\n    this.__startTime = -1;\n    this.rotateDeg = 0;\n    this.isActive = false;\n    this.fullscreen = false;\n    this.cssfullscreen = false;\n    this.isRotateFullscreen = false;\n    this._fullscreenEl = null;\n    this.timeSegments = [];\n    this._cssfullscreenEl = null;\n    this.curDefinition = null;\n    this._orgCss = \"\";\n    this._fullScreenOffset = null;\n    this._videoHeight = 0;\n    this._videoWidth = 0;\n    this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    this.innerContainer = null;\n    this.topBar = null;\n    this.root = null;\n    this.__i18n = I18N.init(this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      this.config.autoplay = false;\n    }\n    this.database = new INDEXDB();\n    this.isUserActive = false;\n    this._onceSeekCanplay = null;\n    this._isPauseBeforeSeek = 0;\n    this.innerStates = {\n      isActiveLocked: false\n    };\n    this.instManager = instManager;\n    this._initMedia();\n    const { isNoRoot } = this.config;\n    const rootInit = !isNoRoot && this._initDOM();\n    if (!isNoRoot && !rootInit) {\n      console.error(\n        new Error(\n          `can't find the dom which id is ${this.config.id} or this.config.el does not exist`\n        )\n      );\n      return;\n    }\n    pluginsManager.init(this);\n    const { definition = {}, url } = this.config;\n    if (!url && definition.list && definition.list.length > 0) {\n      let defaultDefinitionObj = definition.list.find(\n        (e) => e.definition && e.definition === definition.defaultDefinition\n      );\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      this.config.url = defaultDefinitionObj.url;\n      this.curDefinition = defaultDefinitionObj;\n    }\n    this._bindEvents();\n    this._registerPresets();\n    this._registerPlugins();\n    pluginsManager.onPluginsReady(this);\n    this.getInitDefinition();\n    this.setState(STATES.READY);\n    util.setTimeout(this, () => {\n      this.emit(READY);\n    }, 0);\n    this.onReady && this.onReady();\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        this.start();\n      }\n    }\n  }\n  static set debugger(value) {\n    XG_DEBUG.config.debug = value;\n  }\n  static get version() {\n    return version;\n  }\n  static get debugger() {\n    return XG_DEBUG.config.debug;\n  }\n  static set instManager(value) {\n    instManager = value;\n  }\n  static get instManager() {\n    return instManager;\n  }\n  static getCurrentUserActivePlayerId() {\n    return instManager == null ? void 0 : instManager.getActiveId();\n  }\n  static setCurrentUserActive(playerId, isActive) {\n    instManager == null ? void 0 : instManager.setActive(playerId, isActive);\n  }\n  _initMedia() {\n    const XgVideoProxy = this.constructor.XgVideoProxy;\n    if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n      const el = this.innerContainer || this.root;\n      this.detachVideoEvents(this.media);\n      const _nVideo = new XgVideoProxy(el, this.config, this.mediaConfig);\n      this.attachVideoEvents(_nVideo);\n      this.media = _nVideo;\n    }\n    this.media.setAttribute(PLATER_ID, this.playerId);\n  }\n  _initDOM() {\n    const { id, el, isCustomRoot, controls, autoplay, isMobileSimulateMode } = this.config;\n    this.root = id ? document.getElementById(id) : null;\n    if (!this.root) {\n      if (el && el.nodeType === 1) {\n        this.root = el;\n      } else if (isCustomRoot) {\n        this.emit(\n          ERROR,\n          new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          })\n        );\n        console.error(\"this.confg.id or this.config.el can't be empty\");\n        return false;\n      } else {\n        this.root = util.createDom(\"div\", \"\", { id, class: STATE_CLASS.BUILTIN_CLASS });\n      }\n    }\n    const ret = checkPlayerRoot(this.root);\n    if (ret) {\n      XG_DEBUG.logWarn(\n        \"The is an Player instance already exists in this.root, destroy it and reinitialize\"\n      );\n      ret.destroy();\n    }\n    this.root.setAttribute(PLATER_ID, this.playerId);\n    instManager == null ? void 0 : instManager.add(this);\n    this._initBaseDoms();\n    const device = isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n    this.addClass(\n      `${STATE_CLASS.DEFAULT} ${STATE_CLASS.INACTIVE} xgplayer-${device} ${controls ? \"\" : STATE_CLASS.NO_CONTROLS}`\n    );\n    if (autoplay) {\n      this.addClass(STATE_CLASS.ENTER);\n    } else {\n      this.addClass(STATE_CLASS.NO_START);\n    }\n    if (this.config.fluid) {\n      let { width: width2, height: height2 } = this.config;\n      if (typeof width2 !== \"number\" || typeof height2 !== \"number\") {\n        width2 = 600;\n        height2 = 337.5;\n      }\n      const style = {\n        width: \"100%\",\n        height: \"0\",\n        \"max-width\": \"100%\",\n        \"padding-top\": `${height2 * 100 / width2}%`\n      };\n      Object.keys(style).forEach((key) => {\n        this.root.style[key] = style[key];\n      });\n    } else {\n      [\"width\", \"height\"].forEach((key) => {\n        if (this.config[key]) {\n          if (typeof this.config[key] !== \"number\") {\n            this.root.style[key] = this.config[key];\n          } else {\n            this.root.style[key] = `${this.config[key]}px`;\n          }\n        }\n      });\n    }\n    const { width, height, left, top } = this.root.getBoundingClientRect();\n    this.sizeInfo.width = width;\n    this.sizeInfo.height = height;\n    this.sizeInfo.left = left;\n    this.sizeInfo.top = top;\n    return true;\n  }\n  _initBaseDoms() {\n    this.topBar = null;\n    this.leftBar = null;\n    this.rightBar = null;\n    if (this.config.marginControls) {\n      this.innerContainer = util.createDom(\n        \"xg-video-container\",\n        \"\",\n        { \"data-index\": -1 },\n        \"xg-video-container\"\n      );\n      this.root.appendChild(this.innerContainer);\n    }\n  }\n  _bindEvents() {\n    [\"focus\", \"blur\"].forEach((item) => {\n      this.on(item, this[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n    });\n    FULLSCREEN_EVENTS.forEach((item) => {\n      document && document.addEventListener(item, this.onFullscreenChange);\n    });\n    if (sniffer.os.isIos) {\n      this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n    this.once(LOADED_DATA, this.resize);\n    this.playFunc = () => {\n      if (!this.config.closeFocusVideoFocus) {\n        this.media.focus();\n      }\n    };\n    this.once(PLAY, this.playFunc);\n  }\n  _unbindEvents() {\n    this.root && this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n    FULLSCREEN_EVENTS.forEach((item) => {\n      document.removeEventListener(item, this.onFullscreenChange);\n    });\n    this.playFunc && this.off(PLAY, this.playFunc);\n    this.off(CANPLAY, this.canPlayFunc);\n    this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n    this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n  }\n  _clearUserTimer() {\n    if (!this.userTimer) {\n      return;\n    }\n    util.clearTimeout(this, this.userTimer);\n    this.userTimer = null;\n  }\n  _startInit(url) {\n    if (!this.media) {\n      return;\n    }\n    if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n      url = \"\";\n      this.emit(URL_NULL);\n      XG_DEBUG.logWarn(\n        \"config.url is null, please get url and run player._startInit(url)\"\n      );\n      if (this.config.nullUrlStart) {\n        return;\n      }\n    }\n    if (this.handleSource) {\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        this._attachSourceEvents(this.media, url);\n      } else if (!this.media.src || this.media.src !== url) {\n        this.media.src = url;\n      } else if (!url) {\n        this.media.removeAttribute(\"src\");\n      }\n    }\n    if (util.typeOf(this.config.volume) === \"Number\") {\n      this.volume = this.config.volume;\n    }\n    const _root = this.innerContainer ? this.innerContainer : this.root;\n    if (_root && this.media instanceof window.Element && !_root.contains(this.media)) {\n      _root.insertBefore(this.media, _root.firstChild);\n    }\n    const { readyState } = this.media;\n    XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n    if (this.config.autoplay) {\n      !util.isMSE(this.media) && this.load();\n      (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n    }\n    const { startTime } = this.config;\n    this.__startTime = startTime > 0 ? startTime : -1;\n    this.config.startTime = 0;\n    if (readyState >= 2 && this.duration > 0) {\n      this.canPlayFunc();\n    } else {\n      this.on(CANPLAY, this.canPlayFunc);\n    }\n    if (!this.hasStart || this.state < STATES.ATTACHED) {\n      pluginsManager.afterInit(this);\n    }\n    this.hasStart = true;\n    this.setState(STATES.ATTACHED);\n    util.setTimeout(this, () => {\n      this.emit(COMPLETE);\n    }, 0);\n  }\n  _registerPlugins(isInit = true) {\n    this._loadingPlugins = [];\n    const ignores = this.config.ignores || [];\n    const plugins = this.config.plugins || [];\n    const i18n = this.config.i18n || [];\n    isInit && I18N.extend(i18n, this.__i18n);\n    const ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n    const cuPlugins = this.plugins;\n    plugins.forEach((plugin) => {\n      try {\n        const pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n        if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n          return null;\n        }\n        if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n          return;\n        }\n        if (plugin.lazy && plugin.loader) {\n          const loadingPlugin = pluginsManager.lazyRegister(this, plugin);\n          if (plugin.forceBeforeInit) {\n            loadingPlugin.then(() => {\n              this._loadingPlugins.splice(\n                this._loadingPlugins.indexOf(loadingPlugin),\n                1\n              );\n            }).catch((e) => {\n              XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n              this._loadingPlugins.splice(\n                this._loadingPlugins.indexOf(loadingPlugin),\n                1\n              );\n            });\n            this._loadingPlugins.push(loadingPlugin);\n          }\n          return;\n        }\n        return this.registerPlugin(plugin);\n      } catch (err) {\n        XG_DEBUG.logError(\"_registerPlugins:\", err);\n      }\n    });\n  }\n  _registerPresets() {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset);\n    });\n  }\n  _getRootByPosition(position) {\n    let _root = null;\n    switch (position) {\n      case POSITIONS.ROOT_RIGHT:\n        if (!this.rightBar) {\n          this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n        }\n        _root = this.rightBar;\n        break;\n      case POSITIONS.ROOT_LEFT:\n        if (!this.leftBar) {\n          this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n        }\n        _root = this.leftBar;\n        break;\n      case POSITIONS.ROOT_TOP:\n        if (!this.topBar) {\n          this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n          if (this.config.topBarAutoHide) {\n            util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n          }\n        }\n        _root = this.topBar;\n        break;\n      default:\n        _root = this.innerContainer || this.root;\n        break;\n    }\n    return _root;\n  }\n  registerPlugin(plugin, config) {\n    const _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n    const { PLUFGIN, options } = _retPlugin;\n    const { plugins } = this.config;\n    const exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n    !exits && plugins.push(PLUFGIN);\n    const _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n    _pConfig.root && (options.root = _pConfig.root);\n    _pConfig.position && (options.position = _pConfig.position);\n    const position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n    if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n      return this.controls && this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n    }\n    if (!options.root) {\n      options.root = PLUFGIN.pluginName === \"controls\" ? this.root : this._getRootByPosition(position);\n    }\n    return pluginsManager.register(this, PLUFGIN, options);\n  }\n  deregister(plugin) {\n    if (typeof plugin === \"string\") {\n      pluginsManager.unRegister(this, plugin);\n    } else if (plugin instanceof BasePlugin) {\n      pluginsManager.unRegister(this, plugin.pluginName);\n    }\n  }\n  unRegisterPlugin(plugin, removedFromConfig = false) {\n    this.deregister(plugin);\n    if (removedFromConfig) {\n      this.removePluginFromConfig(plugin);\n    }\n  }\n  removePluginFromConfig(plugin) {\n    let pluginName;\n    if (typeof plugin === \"string\") {\n      pluginName = plugin;\n    } else if (plugin instanceof BasePlugin) {\n      pluginName = plugin.pluginName;\n    }\n    if (!pluginName) {\n      return;\n    }\n    for (let i = this.config.plugins.length - 1; i > -1; i--) {\n      const plugin2 = this.config.plugins[i];\n      if (plugin2.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n        this.config.plugins.splice(i, 1);\n        break;\n      }\n    }\n  }\n  get plugins() {\n    return pluginsManager.getPlugins(this);\n  }\n  getPlugin(pluginName) {\n    const plugin = pluginsManager.findPlugin(this, pluginName);\n    return plugin && plugin.pluginName ? plugin : null;\n  }\n  addClass(className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className);\n    }\n  }\n  removeClass(className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className);\n  }\n  hasClass(className) {\n    if (!this.root) {\n      return;\n    }\n    return util.hasClass(this.root, className);\n  }\n  setAttribute(key, value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.setAttribute(key, value);\n  }\n  removeAttribute(key, value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.removeAttribute(key, value);\n  }\n  start(url) {\n    if (this.state > STATES.ATTACHING) {\n      return;\n    }\n    if (!url && !this.config.url) {\n      this.getInitDefinition();\n    }\n    this.hasStart = true;\n    this.setState(STATES.ATTACHING);\n    this._registerPlugins(false);\n    return pluginsManager.beforeInit(this).then(() => {\n      if (!this.config) {\n        return;\n      }\n      if (!url) {\n        url = this.url || this.config.url;\n      }\n      const _furl = this._preProcessUrl(url);\n      const ret = this._startInit(_furl.url);\n      return ret;\n    }).catch((e) => {\n      e.fileName = \"player\";\n      e.lineNumber = \"236\";\n      XG_DEBUG.logError(\"start:beforeInit:\", e);\n      throw e;\n    });\n  }\n  switchURL(url, options) {\n    let _src = url;\n    if (util.typeOf(url) === \"Object\") {\n      _src = url.url;\n    }\n    _src = this._preProcessUrl(_src).url;\n    const curTime = this.currentTime;\n    this.__startTime = curTime;\n    const isPaused = this.paused && !this.isError;\n    this.src = _src;\n    return new Promise((resolve, reject) => {\n      const _error = (e) => {\n        this.off(\"timeupdate\", _canplay);\n        this.off(\"canplay\", _canplay);\n        reject(e);\n      };\n      const _canplay = () => {\n        if (this.duration > 0 && this.__startTime > 0) {\n          this.currentTime = this.__startTime;\n          this.__startTime = -1;\n        }\n        if (isPaused) {\n          this.pause();\n        }\n        this.off(\"error\", _error);\n        resolve(true);\n      };\n      this.once(\"error\", _error);\n      if (!_src) {\n        this.errorHandler(\"error\", { code: 6, message: \"empty_src\" });\n        return;\n      }\n      if (sniffer.os.isAndroid) {\n        this.once(\"timeupdate\", _canplay);\n      } else {\n        this.once(\"canplay\", _canplay);\n      }\n      this.play();\n    });\n  }\n  videoPlay() {\n    this.mediaPlay();\n  }\n  mediaPlay() {\n    if (!this.hasStart && this.state < STATES.ATTACHED) {\n      this.removeClass(STATE_CLASS.NO_START);\n      this.addClass(STATE_CLASS.ENTER);\n      this.start();\n      this._useAutoplay = true;\n      return;\n    }\n    if (this.state < STATES.RUNNING) {\n      this.removeClass(STATE_CLASS.NO_START);\n      !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n    }\n    const playPromise = super.play();\n    if (playPromise !== void 0 && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n        this.addClass(STATE_CLASS.PLAYING);\n        if (this.state < STATES.RUNNING) {\n          XG_DEBUG.logInfo(\">>>>playPromise.then\");\n          this.setState(STATES.RUNNING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }).catch((e) => {\n        XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n        if (this.media && this.media.error) {\n          this.onError();\n          this.removeClass(STATE_CLASS.ENTER);\n          return;\n        }\n        if (e.name === \"NotAllowedError\") {\n          this._errorTimer = util.setTimeout(\n            this,\n            () => {\n              this._errorTimer = null;\n              this.emit(AUTOPLAY_PREVENTED);\n              this.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              this.removeClass(STATE_CLASS.ENTER);\n              this.pause();\n              this.setState(STATES.NOTALLOW);\n            },\n            0\n          );\n        }\n      });\n    } else {\n      XG_DEBUG.logWarn(\"video.play not return promise\");\n      if (this.state < STATES.RUNNING) {\n        this.setState(STATES.RUNNING);\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n        this.removeClass(STATE_CLASS.NO_START);\n        this.removeClass(STATE_CLASS.ENTER);\n        this.addClass(STATE_CLASS.PLAYING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n    }\n    return playPromise;\n  }\n  mediaPause() {\n    super.pause();\n  }\n  videoPause() {\n    super.pause();\n  }\n  play() {\n    this.removeClass(STATE_CLASS.PAUSED);\n    return runHooks(this, \"play\", () => {\n      return this.mediaPlay();\n    });\n  }\n  pause() {\n    runHooks(this, \"pause\", () => {\n      super.pause();\n    });\n  }\n  seek(time, status) {\n    if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n      return;\n    }\n    const { isSeekedPlay, seekedStatus } = this.config;\n    const _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n    time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n    !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n    this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n    this._onceSeekCanplay = () => {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.isSeeking = false;\n      switch (_status) {\n        case \"play\":\n          this.play();\n          break;\n        case \"pause\":\n          this.pause();\n          break;\n        default:\n          this._isPauseBeforeSeek > 1 || this.paused ? this.pause() : this.play();\n      }\n      this._isPauseBeforeSeek = 0;\n      this._onceSeekCanplay = null;\n    };\n    this.once(SEEKED, this._onceSeekCanplay);\n    if (this.state < STATES.RUNNING) {\n      this.removeClass(STATE_CLASS.NO_START);\n      this.currentTime = time;\n      this.play();\n    } else {\n      this.currentTime = time;\n    }\n  }\n  getInitDefinition() {\n    const { definition, url } = this.config;\n    if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n      definition.list.map((item) => {\n        if (item.definition === definition.defaultDefinition) {\n          this.config.url = item.url;\n          this.curDefinition = item;\n        }\n      });\n    }\n  }\n  changeDefinition(to, from) {\n    const { definition } = this.config;\n    if (Array.isArray(definition == null ? void 0 : definition.list)) {\n      definition.list.forEach((item) => {\n        if ((to == null ? void 0 : to.definition) === item.definition) {\n          this.curDefinition = item;\n        }\n      });\n    }\n    if ((to == null ? void 0 : to.bitrate) && typeof to.bitrate !== \"number\") {\n      to.bitrate = parseInt(to.bitrate, 10) || 0;\n    }\n    this.emit(DEFINITION_CHANGE, { from, to });\n    if (!this.hasStart) {\n      this.config.url = to.url;\n      return;\n    }\n    const ret = this.switchURL(to.url, {\n      seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\",\n      ...to\n    });\n    if (ret && ret.then) {\n      ret.then(() => {\n        this.emit(AFTER_DEFINITION_CHANGE, { from, to });\n      });\n    } else {\n      this.emit(AFTER_DEFINITION_CHANGE, { from, to });\n    }\n  }\n  reload() {\n    this.load();\n    this.reloadFunc = function() {\n      this.play();\n    };\n    this.once(LOADED_DATA, this.reloadFunc);\n  }\n  resetState() {\n    const {\n      NOT_ALLOW_AUTOPLAY,\n      PLAYING,\n      NO_START,\n      PAUSED,\n      REPLAY: REPLAY2,\n      ENTER,\n      ENDED,\n      ERROR: ERROR2,\n      LOADING: LOADING2\n    } = STATE_CLASS;\n    const clsList = [\n      NOT_ALLOW_AUTOPLAY,\n      PLAYING,\n      NO_START,\n      PAUSED,\n      REPLAY2,\n      ENTER,\n      ENDED,\n      ERROR2,\n      LOADING2\n    ];\n    this.hasStart = false;\n    this.isError = false;\n    this._useAutoplay = false;\n    this.mediaPause();\n    this._accPlayed.acc = 0;\n    this._accPlayed.t = 0;\n    this._accPlayed.loopAcc = 0;\n    clsList.forEach((cls) => {\n      this.removeClass(cls);\n    });\n    this.addClass(STATE_CLASS.NO_START);\n    this.emit(RESET);\n  }\n  reset(unregisterPlugins = [], isResetConfig) {\n    this.resetState();\n    const { plugins } = this;\n    if (!plugins) {\n      return;\n    }\n    unregisterPlugins.map((pn) => {\n      this.deregister(pn);\n    });\n    if (isResetConfig) {\n      const de = getDefaultConfig();\n      Object.keys(this.config).keys((k) => {\n        if (this.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n          this.config[k] = de[k];\n        }\n      });\n    }\n  }\n  destroy() {\n    const { innerContainer, root, media } = this;\n    if (!media) {\n      return;\n    }\n    this.hasStart = false;\n    this._useAutoplay = false;\n    root && root.removeAttribute(PLATER_ID);\n    this.updateAcc(\"destroy\");\n    this._unbindEvents();\n    this._detachSourceEvents(this.media);\n    util.clearAllTimers(this);\n    this.emit(DESTROY);\n    instManager == null ? void 0 : instManager.remove(this);\n    pluginsManager.destroy(this);\n    delHooksDescriptor(this);\n    super.destroy();\n    if (this.fullscreen && this._fullscreenEl === root) {\n      this.exitFullscreen();\n    }\n    if (innerContainer) {\n      const _c = innerContainer.children;\n      for (let i = 0; i < _c.length; i++) {\n        innerContainer.removeChild(_c[i]);\n      }\n    }\n    root && !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n    [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map((item) => {\n      this[item] && root.removeChild(this[item]);\n      this[item] = null;\n    });\n    const cList = root ? root.className.split(\" \") : [];\n    const isBuildIn = root && util.hasClass(root, STATE_CLASS.BUILTIN_CLASS);\n    if (cList.length > 0) {\n      root.className = cList.filter((name) => name.indexOf(\"xgplayer\") < 0).join(\" \");\n    } else {\n      root && (root.className = \"\");\n    }\n    this.removeAttribute(\"data-xgfill\");\n    [\n      \"isSeeking\",\n      \"isCanplay\",\n      \"isActive\",\n      \"cssfullscreen\",\n      \"fullscreen\"\n    ].forEach((key) => {\n      this[key] = false;\n    });\n    isBuildIn && this.root.parentNode && this.root.parentNode.removeChild(this.root);\n  }\n  replay() {\n    this.removeClass(STATE_CLASS.ENDED);\n    this.currentTime = 0;\n    this.isSeeking = false;\n    runHooks(this, \"replay\", () => {\n      this.once(SEEKED, () => {\n        const playPromise = this.mediaPlay();\n        if (playPromise && playPromise.catch) {\n          playPromise.catch((err) => {\n            console.log(err);\n          });\n        }\n      });\n      this.emit(REPLAY);\n      this.onPlay();\n    });\n  }\n  retry() {\n    this.removeClass(STATE_CLASS.ERROR);\n    this.addClass(STATE_CLASS.LOADING);\n    runHooks(this, \"retry\", () => {\n      const cur = this.currentTime;\n      const { url } = this.config;\n      const _srcRet = !util.isMSE(this.media) ? this._preProcessUrl(url) : { url };\n      this.src = _srcRet.url;\n      !this.config.isLive && (this.currentTime = cur);\n      this.once(CANPLAY, () => {\n        this.mediaPlay();\n      });\n    });\n  }\n  changeFullStyle(root, el, rootClass, pClassName) {\n    if (!root) {\n      return;\n    }\n    if (!pClassName) {\n      pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n    }\n    if (!this._orgCss) {\n      this._orgCss = util.filterStyleFromText(root);\n    }\n    util.addClass(root, rootClass);\n    if (el && el !== root && !this._orgPCss) {\n      this._orgPCss = util.filterStyleFromText(el);\n      util.addClass(el, pClassName);\n      el.setAttribute(PLATER_ID, this.playerId);\n    }\n  }\n  recoverFullStyle(root, el, rootClass, pClassName) {\n    if (!pClassName) {\n      pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n    }\n    if (this._orgCss) {\n      util.setStyleFromCsstext(root, this._orgCss);\n      this._orgCss = \"\";\n    }\n    util.removeClass(root, rootClass);\n    if (el && el !== root && this._orgPCss) {\n      util.setStyleFromCsstext(el, this._orgPCss);\n      this._orgPCss = \"\";\n      util.removeClass(el, pClassName);\n      el.removeAttribute(PLATER_ID);\n    }\n  }\n  getFullscreen(el = this.config.fullscreenTarget) {\n    const { root, media } = this;\n    if (!el) {\n      el = root;\n    }\n    this._fullScreenOffset = {\n      top: util.scrollTop(),\n      left: util.scrollLeft()\n    };\n    this._fullscreenEl = el;\n    this._fullActionFrom = \"get\";\n    const fullEl = util.getFullScreenEl();\n    if (fullEl === this._fullscreenEl) {\n      this.onFullscreenChange();\n      return Promise.resolve();\n    }\n    try {\n      for (let i = 0; i < GET_FULLSCREEN_API.length; i++) {\n        const key = GET_FULLSCREEN_API[i];\n        if (el[key]) {\n          const ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n          if (ret && ret.then) {\n            return ret;\n          } else {\n            return Promise.resolve();\n          }\n        }\n      }\n      if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n        media.webkitEnterFullscreen();\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(\"call getFullscreen fail\"));\n    } catch (err) {\n      return Promise.reject(new Error(\"call getFullscreen fail\"));\n    }\n  }\n  exitFullscreen(el) {\n    if (this.isRotateFullscreen) {\n      this.exitRotateFullscreen();\n    }\n    if (!this._fullscreenEl && !util.getFullScreenEl()) {\n      return;\n    }\n    const { root, media } = this;\n    this._fullActionFrom = \"exit\";\n    try {\n      for (let i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n        const key = EXIT_FULLSCREEN_API[i];\n        if (document[key]) {\n          const ret = document[key]();\n          if (ret && ret.then) {\n            return ret;\n          } else {\n            return Promise.resolve();\n          }\n        }\n      }\n      if (media && media.webkitSupportsFullscreen) {\n        media.webkitExitFullScreen();\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(\"call exitFullscreen fail\"));\n    } catch (err) {\n      return Promise.reject(new Error(\"call exitFullscreen fail\"));\n    }\n  }\n  getCssFullscreen(el = this.config.fullscreenTarget) {\n    if (this.isRotateFullscreen) {\n      this.exitRotateFullscreen();\n    } else if (this.fullscreen) {\n      this.exitFullscreen();\n    }\n    const _class = el ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.CSS_FULLSCREEN}` : STATE_CLASS.CSS_FULLSCREEN;\n    this.changeFullStyle(this.root, el, _class);\n    const { fullscreen = {} } = this.config;\n    const useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n    if (useCssFullscreen) {\n      this.fullscreen = true;\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n    this._cssfullscreenEl = el;\n    this.cssfullscreen = true;\n    this.emit(CSS_FULLSCREEN_CHANGE, true);\n  }\n  exitCssFullscreen() {\n    const _class = this._cssfullscreenEl ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.CSS_FULLSCREEN}` : STATE_CLASS.CSS_FULLSCREEN;\n    if (!this.fullscreen) {\n      this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n    } else {\n      const { fullscreen = {} } = this.config;\n      const useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n        this.fullscreen = false;\n        this.emit(FULLSCREEN_CHANGE, false);\n      } else {\n        this.removeClass(_class);\n      }\n    }\n    this._cssfullscreenEl = null;\n    this.cssfullscreen = false;\n    this.emit(CSS_FULLSCREEN_CHANGE, false);\n  }\n  getRotateFullscreen(el = this.config.fullscreenTarget) {\n    if (this.cssfullscreen) {\n      this.exitCssFullscreen(el);\n    }\n    const _class = el ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.ROTATE_FULLSCREEN}` : STATE_CLASS.ROTATE_FULLSCREEN;\n    this._fullscreenEl = el || this.root;\n    this.changeFullStyle(\n      this.root,\n      el,\n      _class,\n      STATE_CLASS.PARENT_ROTATE_FULLSCREEN\n    );\n    this.isRotateFullscreen = true;\n    this.fullscreen = true;\n    this.setRotateDeg(90);\n    this._rootStyle = this.root.getAttribute(\"style\");\n    this.root.style.width = `${window.innerHeight}px`;\n    this.emit(FULLSCREEN_CHANGE, true);\n  }\n  exitRotateFullscreen(el) {\n    const _class = this._fullscreenEl !== this.root ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.ROTATE_FULLSCREEN}` : STATE_CLASS.ROTATE_FULLSCREEN;\n    this.recoverFullStyle(\n      this.root,\n      this._fullscreenEl,\n      _class,\n      STATE_CLASS.PARENT_ROTATE_FULLSCREEN\n    );\n    this.isRotateFullscreen = false;\n    this.fullscreen = false;\n    this.setRotateDeg(0);\n    this.emit(FULLSCREEN_CHANGE, false);\n    if (this._rootStyle) {\n      this.root.style.style = this._rootStyle;\n      this._rootStyle = false;\n    }\n  }\n  setRotateDeg(deg) {\n    if (window.orientation === 90 || window.orientation === -90) {\n      this.rotateDeg = 0;\n    } else {\n      this.rotateDeg = deg;\n    }\n  }\n  focus(data = {\n    autoHide: !this.config.closeDelayBlur,\n    delay: this.config.inactive\n  }) {\n    if (this.isActive) {\n      this.onFocus(data);\n      return;\n    }\n    this.emit(PLAYER_FOCUS, {\n      paused: this.paused,\n      ended: this.ended,\n      ...data\n    });\n  }\n  blur(data = { ignorePaused: false }) {\n    if (!this.isActive) {\n      this.onBlur(data);\n      return;\n    }\n    this._clearUserTimer();\n    this.emit(PLAYER_BLUR, {\n      paused: this.paused,\n      ended: this.ended,\n      ...data\n    });\n  }\n  onFocus(data = { autoHide: true, delay: 3e3 }) {\n    const { innerStates } = this;\n    this.isActive = true;\n    this.removeClass(STATE_CLASS.INACTIVE);\n    this._clearUserTimer();\n    if (data.isLock !== void 0) {\n      innerStates.isActiveLocked = data.isLock;\n    }\n    if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n      this._clearUserTimer();\n      return;\n    }\n    const time = data && data.delay ? data.delay : this.config.inactive;\n    this.userTimer = util.setTimeout(this, () => {\n      this.userTimer = null;\n      this.blur();\n    }, time);\n  }\n  onBlur({ ignorePaused = false } = {}) {\n    if (this.innerStates.isActiveLocked) {\n      return;\n    }\n    const { closePauseVideoFocus } = this.config;\n    this.isActive = false;\n    if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.INACTIVE);\n    }\n  }\n  onEmptied() {\n    this.updateAcc(\"emptied\");\n  }\n  onCanplay() {\n    this.removeClass(STATE_CLASS.ENTER);\n    this.removeClass(STATE_CLASS.ERROR);\n    this.removeClass(STATE_CLASS.LOADING);\n    this.isCanplay = true;\n    this.waitTimer && util.clearTimeout(this, this.waitTimer);\n  }\n  onDurationchange() {\n    if (this.__startTime > 0 && this.duration > 0) {\n      this.currentTime = this.__startTime;\n      this.__startTime = -1;\n    }\n  }\n  onLoadeddata() {\n    this.isError = false;\n    this.isSeeking = false;\n  }\n  onLoadstart() {\n    this.removeClass(STATE_CLASS.ERROR);\n    this.isCanplay = false;\n  }\n  onPlay() {\n    if (this.state === STATES.ENDED) {\n      this.setState(STATES.RUNNING);\n    }\n    this.removeClass(STATE_CLASS.PAUSED);\n    this.ended && this.removeClass(STATE_CLASS.ENDED);\n    !this.config.closePlayVideoFocus && this.focus();\n  }\n  onPause() {\n    this.addClass(STATE_CLASS.PAUSED);\n    this.updateAcc(\"pause\");\n    if (!this.config.closePauseVideoFocus) {\n      this._clearUserTimer();\n      this.focus();\n    }\n  }\n  onEnded() {\n    this.updateAcc(\"ended\");\n    this.addClass(STATE_CLASS.ENDED);\n    this.setState(STATES.ENDED);\n  }\n  onError() {\n    this.isError = true;\n    this.updateAcc(\"error\");\n    this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n    this.removeClass(STATE_CLASS.NO_START);\n    this.removeClass(STATE_CLASS.ENTER);\n    this.removeClass(STATE_CLASS.LOADING);\n    this.addClass(STATE_CLASS.ERROR);\n  }\n  onSeeking() {\n    if (!this.isSeeking) {\n      this.updateAcc(\"seeking\");\n    }\n    this.isSeeking = true;\n    this.addClass(STATE_CLASS.SEEKING);\n  }\n  onSeeked() {\n    this.isSeeking = false;\n    if (this.waitTimer) {\n      util.clearTimeout(this, this.waitTimer);\n    }\n    this.removeClass(STATE_CLASS.LOADING);\n    this.removeClass(STATE_CLASS.SEEKING);\n  }\n  onWaiting() {\n    if (this.waitTimer) {\n      util.clearTimeout(this, this.waitTimer);\n    }\n    this.updateAcc(\"waiting\");\n    this.waitTimer = util.setTimeout(this, () => {\n      this.addClass(STATE_CLASS.LOADING);\n      this.emit(LOADING);\n      util.clearTimeout(this, this.waitTimer);\n      this.waitTimer = null;\n    }, this.config.minWaitDelay);\n  }\n  onPlaying() {\n    this.isError = false;\n    const { NO_START, PAUSED, ENDED, ERROR: ERROR2, REPLAY: REPLAY2, LOADING: LOADING2 } = STATE_CLASS;\n    const clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING2];\n    clsList.forEach((cls) => {\n      this.removeClass(cls);\n    });\n    if (!this._accPlayed.t && !this.paused && !this.ended) {\n      this._accPlayed.t = new Date().getTime();\n    }\n  }\n  onTimeupdate() {\n    !this._videoHeight && this.media.videoHeight && this.resize();\n    if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n      this.removeClass(STATE_CLASS.LOADING);\n      util.clearTimeout(this, this.waitTimer);\n      this.waitTimer = null;\n    }\n    if (!this.paused && this.state < STATES.RUNNING && this.duration) {\n      this.setState(STATES.RUNNING);\n      this.emit(AUTOPLAY_STARTED);\n    }\n    if (!this._accPlayed.t && !this.paused && !this.ended) {\n      this._accPlayed.t = new Date().getTime();\n    }\n  }\n  onVolumechange() {\n    util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n  }\n  onRatechange() {\n    this.config.defaultPlaybackRate = this.playbackRate;\n  }\n  emitUserAction(event, action, params) {\n    if (!this.media || !action || !event) {\n      return;\n    }\n    const eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n    if (params.props && util.typeOf(params.props) !== \"Array\") {\n      params.props = [params.props];\n    }\n    this.emit(USER_ACTION, {\n      eventType,\n      action,\n      currentTime: this.currentTime,\n      duration: this.duration,\n      ended: this.ended,\n      event,\n      ...params\n    });\n  }\n  updateAcc(endType) {\n    if (this._accPlayed.t) {\n      const _at = new Date().getTime() - this._accPlayed.t;\n      this._accPlayed.acc += _at;\n      this._accPlayed.t = 0;\n      if (endType === \"ended\" || this.ended) {\n        this._accPlayed.loopAcc = this._accPlayed.acc;\n      }\n    }\n  }\n  checkBuffer(time) {\n    const buffered = this.media.buffered;\n    if (!buffered || buffered.length === 0 || !this.duration) {\n      return true;\n    }\n    const currentTime = time || this.media.currentTime || 0.2;\n    const len = buffered.length;\n    for (let i = 0; i < len; i++) {\n      if (buffered.start(i) <= currentTime && buffered.end(i) > currentTime) {\n        return true;\n      }\n    }\n    return false;\n  }\n  resizePosition() {\n    const { vy, vx, h, w } = this.videoPos;\n    let rotate = this.videoPos.rotate;\n    if (rotate < 0 && h < 0 && w < 0) {\n      return;\n    }\n    let _pi = this.videoPos._pi;\n    if (!_pi && this.media.videoHeight) {\n      _pi = this.media.videoWidth / this.media.videoHeight * 100;\n    }\n    if (!_pi) {\n      return;\n    }\n    this.videoPos.pi = _pi;\n    rotate = rotate < 0 ? 0 : rotate;\n    const _pos = {\n      rotate\n    };\n    let offsetY = 0;\n    let offsetX = 0;\n    let scale = 1;\n    const _t = Math.abs(rotate / 90);\n    const { root, innerContainer } = this;\n    const width = root.offsetWidth;\n    const height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n    let rHeight = height;\n    let rWidth = width;\n    if (_t % 2 === 0) {\n      scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n      _pos.scale = scale;\n      offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n      _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n      offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n      _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n      this.media.style.width = `${rWidth}px`;\n      this.media.style.height = `${rHeight}px`;\n    } else if (_t % 2 === 1) {\n      rWidth = height;\n      rHeight = width;\n      const offset = height - width;\n      offsetX = -offset / 2 / rWidth * 100;\n      _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n      offsetY = offset / 2 / rHeight * 100;\n      _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n      _pos.scale = scale;\n      this.media.style.width = `${rWidth}px`;\n      this.media.style.height = `${rHeight}px`;\n    }\n    const formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n    this.media.style.transform = formStyle;\n    this.media.style.webkitTransform = formStyle;\n  }\n  position(pos = { h: 0, y: 0, x: 0, w: 0 }) {\n    if (!this.media || !pos || !pos.h) {\n      return;\n    }\n    const { videoPos } = this;\n    videoPos.h = pos.h * 100 || 0;\n    videoPos.w = pos.w * 100 || 0;\n    videoPos.vx = pos.x * 100 || 0;\n    videoPos.vy = pos.y * 100 || 0;\n    this.resizePosition();\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    Object.keys(config).map((key) => {\n      if (key !== \"plugins\") {\n        this.config[key] = config[key];\n        const plugin = this.plugins[key.toLowerCase()];\n        if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n          plugin.setConfig(config[key]);\n        }\n      }\n    });\n  }\n  playNext(config) {\n    this.resetState();\n    this.setConfig(config);\n    this._currentTime = 0;\n    this._duration = 0;\n    runHooks(this, \"playnext\", () => {\n      this.start();\n      this.emit(PLAYNEXT, config);\n    });\n  }\n  resize() {\n    if (!this.media || !this.root) {\n      return;\n    }\n    const containerSize = this.root.getBoundingClientRect();\n    this.sizeInfo.width = containerSize.width;\n    this.sizeInfo.height = containerSize.height;\n    this.sizeInfo.left = containerSize.left;\n    this.sizeInfo.top = containerSize.top;\n    const { videoWidth, videoHeight } = this.media;\n    const { fitVideoSize, videoFillMode } = this.config;\n    if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n      this.setAttribute(\"data-xgfill\", videoFillMode);\n    }\n    if (!videoHeight || !videoWidth) {\n      return;\n    }\n    this._videoHeight = videoHeight;\n    this._videoWidth = videoWidth;\n    const controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n    const width = containerSize.width;\n    const height = containerSize.height - controlsHeight;\n    const videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n    const fit = parseInt(width / height * 1e3, 10);\n    let rWidth = width;\n    let rHeight = height;\n    const _style = {};\n    if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n      rHeight = width / videoFit * 1e3;\n      if (this.config.fluid) {\n        _style.paddingTop = `${rHeight * 100 / rWidth}%`;\n      } else {\n        _style.height = `${rHeight + controlsHeight}px`;\n      }\n    } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n      rWidth = videoFit * height / 1e3;\n      _style.width = `${rWidth}px`;\n    }\n    if (!this.fullscreen && !this.cssfullscreen) {\n      Object.keys(_style).forEach((key) => {\n        this.root.style[key] = _style[key];\n      });\n    }\n    if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n      this.setAttribute(\"data-xgfill\", \"cover\");\n    }\n    const data = {\n      videoScale: videoFit,\n      vWidth: rWidth,\n      vHeight: rHeight,\n      cWidth: rWidth,\n      cHeight: rHeight + controlsHeight\n    };\n    this.resizePosition();\n    this.emit(VIDEO_RESIZE, data);\n  }\n  updateObjectPosition(left = 0, top = 0) {\n    if (this.media.updateObjectPosition) {\n      this.media.updateObjectPosition(left, top);\n      return;\n    }\n    this.media.style.objectPosition = `${left * 100}% ${top * 100}%`;\n  }\n  setState(newState) {\n    XG_DEBUG.logInfo(\n      \"setState\",\n      `state from:${STATE_ARRAY[this.state]} to:${STATE_ARRAY[newState]}`\n    );\n    this._state = newState;\n  }\n  _preProcessUrl(url, ext) {\n    const { preProcessUrl } = this.config;\n    return !util.isBlob(url) && typeof preProcessUrl === \"function\" ? preProcessUrl(url, ext) : { url };\n  }\n  get state() {\n    return this._state;\n  }\n  get isFullscreen() {\n    return this.fullscreen;\n  }\n  get isCssfullScreen() {\n    return this.cssfullscreen;\n  }\n  get hasStart() {\n    return this._hasStart;\n  }\n  set hasStart(bool) {\n    if (typeof bool === \"boolean\") {\n      this._hasStart = bool;\n      if (bool === false) {\n        this.setState(STATES.READY);\n      }\n      this.emit(\"hasstart\");\n    }\n  }\n  get isPlaying() {\n    return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n  }\n  set isPlaying(value) {\n    if (value) {\n      this.setState(STATES.RUNNING);\n    } else {\n      this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n    }\n  }\n  set definitionList(list) {\n    const { definition } = this.config;\n    let curDef = null;\n    let targetDef = null;\n    definition.list = list;\n    this.emit(\"resourceReady\", list);\n    list.forEach((item) => {\n      var _a;\n      if (((_a = this.curDefinition) == null ? void 0 : _a.definition) === item.definition) {\n        curDef = item;\n      }\n      if (definition.defaultDefinition === item.definition) {\n        targetDef = item;\n      }\n    });\n    if (!targetDef && list.length > 0) {\n      targetDef = list[0];\n    }\n    curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n  }\n  get definitionList() {\n    if (!this.config || !this.config.definition) {\n      return [];\n    }\n    return this.config.definition.list || [];\n  }\n  get videoFrameInfo() {\n    const ret = {\n      total: 0,\n      dropped: 0,\n      corrupted: 0,\n      droppedRate: 0,\n      droppedDuration: 0\n    };\n    if (!this.media || !this.media.getVideoPlaybackQuality) {\n      return ret;\n    }\n    const _quality = this.media.getVideoPlaybackQuality();\n    ret.dropped = _quality.droppedVideoFrames || 0;\n    ret.total = _quality.totalVideoFrames || 0;\n    ret.corrupted = _quality.corruptedVideoFrames || 0;\n    if (ret.total > 0) {\n      ret.droppedRate = ret.dropped / ret.total * 100;\n      ret.droppedDuration = parseInt(\n        this.cumulateTime / ret.total * ret.dropped,\n        0\n      );\n    }\n    return ret;\n  }\n  get controls() {\n    return this.plugins.controls;\n  }\n  set lang(lang) {\n    const result = I18N.langKeys.filter((key) => key === lang);\n    if (result.length === 0 && lang !== \"zh\") {\n      console.error(\n        `Sorry, set lang fail, because the language [${lang}] is not supported now, list of all supported languages is [${I18N.langKeys.join()}] `\n      );\n      return;\n    }\n    this.config.lang = lang;\n    pluginsManager.setLang(lang, this);\n  }\n  get lang() {\n    return this.config.lang;\n  }\n  get i18n() {\n    let _l = this.config.lang;\n    if (_l === \"zh\") {\n      _l = \"zh-cn\";\n    }\n    return this.__i18n.lang[_l] || this.__i18n.lang.en;\n  }\n  get i18nKeys() {\n    return this.__i18n.textKeys || {};\n  }\n  get version() {\n    return version;\n  }\n  get playerId() {\n    return this._pluginInfoId;\n  }\n  set url(url) {\n    this.__url = url;\n  }\n  get url() {\n    return this.__url || this.config.url;\n  }\n  set poster(posterUrl) {\n    this.plugins.poster && this.plugins.poster.update(posterUrl);\n  }\n  get poster() {\n    return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n  }\n  get readyState() {\n    return super.readyState;\n  }\n  get error() {\n    const key = super.error;\n    return this.i18n[key] || key;\n  }\n  get networkState() {\n    return super.networkState;\n  }\n  get fullscreenChanging() {\n    return !(this._fullScreenOffset === null);\n  }\n  get cumulateTime() {\n    const { acc, t } = this._accPlayed;\n    return t ? new Date().getTime() - t + acc : acc;\n  }\n  get zoom() {\n    return this.config.zoom;\n  }\n  set zoom(value) {\n    this.config.zoom = value;\n  }\n  set videoRotateDeg(val) {\n    val = util.convertDeg(val);\n    if (val % 90 !== 0 || val === this.videoPos.rotate) {\n      return;\n    }\n    this.videoPos.rotate = val;\n    this.resizePosition();\n  }\n  get videoRotateDeg() {\n    return this.videoPos.rotate;\n  }\n  set avgSpeed(val) {\n    AVG_SPEED = val;\n  }\n  get avgSpeed() {\n    return AVG_SPEED;\n  }\n  set realTimeSpeed(val) {\n    REAL_TIME_SPEED = val;\n  }\n  get realTimeSpeed() {\n    return REAL_TIME_SPEED;\n  }\n  get offsetCurrentTime() {\n    return this._offsetInfo.currentTime || 0;\n  }\n  set offsetCurrentTime(val) {\n    this._offsetInfo.currentTime = val;\n  }\n  get offsetDuration() {\n    return this._offsetInfo.duration || 0;\n  }\n  set offsetDuration(val) {\n    this._offsetInfo.duration = val || 0;\n  }\n  hook(hookName, handler, preset = { pre: null, next: null }) {\n    return hook.call(this, ...arguments);\n  }\n  useHooks(hookName, handler) {\n    return useHooks.call(this, ...arguments);\n  }\n  removeHooks(hookName, handler) {\n    return removeHooks.call(this, ...arguments);\n  }\n  usePluginHooks(pluginName, hookName, handler, ...args) {\n    return usePluginHooks.call(this, ...arguments);\n  }\n  removePluginHooks(pluginName, hookName, handler, ...args) {\n    return removePluginHooks.call(this, ...arguments);\n  }\n  setUserActive(isActive, isMuted) {\n    if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n      this.addInnerOP(\"volumechange\");\n      if (util.typeOf(isMuted) === Boolean) {\n        this.muted = isMuted;\n      }\n    }\n    instManager == null ? void 0 : instManager.setActive(this.playerId, isActive);\n  }\n  static isHevcSupported() {\n    return sniffer.isHevcSupported();\n  }\n  static probeConfigSupported(info) {\n    return sniffer.probeConfigSupported(info);\n  }\n  static install(name, descriptor) {\n    if (!_Player.plugins) {\n      _Player.plugins = {};\n    }\n    if (!_Player.plugins[name]) {\n      _Player.plugins[name] = descriptor;\n    }\n  }\n  static use(name, descriptor) {\n    if (!_Player.plugins) {\n      _Player.plugins = {};\n    }\n    _Player.plugins[name] = descriptor;\n  }\n};\nlet Player = _Player;\n__publicField(Player, \"defaultPreset\", null);\n__publicField(Player, \"XgVideoProxy\", null);\nPlayer.instManager = InstManager.getInstance();\nexport { Player as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nclass Controls extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { player, playerConfig } = this;\n      playerConfig.closeControlsBlur && player.focus({ autoHide: false });\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      const { player } = this;\n      player.focus();\n    });\n  }\n  static get pluginName() {\n    return \"controls\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: \"\",\n      initShow: false\n    };\n  }\n  beforeCreate(args) {\n    if (!args.config.mode && sniffer.device === \"mobile\") {\n      args.config.mode = \"flex\";\n    }\n    if (args.player.config.marginControls) {\n      args.config.autoHide = false;\n    }\n  }\n  afterCreate() {\n    const { disable, height, mode } = this.config;\n    if (disable) {\n      return;\n    }\n    mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n    const style = {\n      height: `${height}px`\n    };\n    Object.keys(style).map((key) => {\n      this.root.style[key] = style[key];\n    });\n    this.left = this.find(\"xg-left-grid\");\n    this.center = this.find(\"xg-center-grid\");\n    this.right = this.find(\"xg-right-grid\");\n    this.innerRoot = this.find(\"xg-inner-controls\");\n    this.on(MINI_STATE_CHANGE, (isMini) => {\n      isMini ? util.addClass(this.root, \"mini-controls\") : util.removeClass(this.root, \"mini-controls\");\n    });\n    const { isMobileSimulateMode } = this.playerConfig;\n    if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n      this.bind(\"mouseenter\", this.onMouseEnter);\n      this.bind(\"mouseleave\", this.onMouseLeave);\n    }\n  }\n  focus() {\n    this.player.focus({ autoHide: false });\n  }\n  focusAwhile() {\n    this.player.focus({ autoHide: true });\n  }\n  blur() {\n    this.player.blur({ ignorePaused: true });\n  }\n  recoverAutoHide() {\n    this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n  }\n  pauseAutoHide() {\n    util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n  }\n  show(value) {\n    this.root.style.display = \"\";\n    this.player.focus();\n  }\n  hide() {\n    this.root.style.display = \"none\";\n  }\n  get mode() {\n    return this.config.mode;\n  }\n  registerPlugin(plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    const defaultConfig = plugin.defaultConfig || {};\n    if (!options.root) {\n      const position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left;\n          break;\n        case POSITIONS.CONTROLS_RIGHT:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        case POSITIONS.CONTROLS:\n          options.root = this.root;\n          break;\n        default:\n          options.root = this.left;\n      }\n      return super.registerPlugin(plugin, options, name);\n    }\n  }\n  destroy() {\n    if (sniffer.device !== \"mobile\") {\n      this.unbind(\"mouseenter\", this.onMouseEnter);\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n    }\n  }\n  render() {\n    const { mode, autoHide, initShow, disable } = this.config;\n    if (disable) {\n      return;\n    }\n    const className = util.classNames(\n      { \"xgplayer-controls\": true },\n      { \"flex-controls\": mode === \"flex\" },\n      { \"bottom-controls\": mode === \"bottom\" },\n      { [STATE_CLASS.CONTROLS_AUTOHIDE]: autoHide },\n      { \"xgplayer-controls-initshow\": initShow || !autoHide }\n    );\n    return `<xg-controls class=\"${className}\" unselectable=\"on\">\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\n      <xg-left-grid class=\"xg-left-grid\">\n      </xg-left-grid>\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\n      <xg-right-grid class=\"xg-right-grid\">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>`;\n  }\n}\nexport { Controls as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nconst LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nclass XGLogger extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onTimeupdate\", () => {\n      this._state.isTimeUpdate = true;\n      if (this._state.autoplayStart) {\n        XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _onTimeupdate`);\n        this._sendFF(\"onTimeupdate\");\n      }\n    });\n    __publicField(this, \"_onAutoplayStart\", () => {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _onAutoplayStart`);\n      this._state.autoplayStart = true;\n      this.vt && this._sendFF(\"onAutoplayStart\");\n    });\n    __publicField(this, \"_onReset\", () => {\n      this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      this.vt = 0;\n      this.pt = 0;\n      this.fvt = 0;\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this._isSeeking = false;\n      this.seekingStart = 0;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this._isWaiting = false;\n      this._waitTimer && util.clearTimeout(this, this._waitTimer);\n      this._waittTimer && util.clearTimeout(this, this._waittTimer);\n      this._waitTimer = null;\n      this._waittTimer = null;\n      this._waitType = 0;\n    });\n    __publicField(this, \"_onSeeking\", () => {\n      if (this.seekingStart) {\n        return;\n      }\n      this.suspendWaitingStatus(\"seek\");\n      this.seekingStart = now();\n      this.emitLog(LOG_TYPES.SEEK_START, { start: now() });\n    });\n    __publicField(this, \"_onSeeked\", () => {\n      this.suspendSeekingStatus(\"seeked\");\n    });\n    __publicField(this, \"_onWaitingLoadStart\", () => {\n      if (this._isWaiting || this.vt) {\n        return;\n      }\n      this._isWaiting = true;\n      this.waitingStart = now();\n      this.fixedWaitingStart = now();\n      this._waitType = 1;\n      this.emitLog(LOG_TYPES.WAIT_START, { fixedStart: this.fixedWaitingStart, start: this.waitingStart, type: 1, endType: \"loadstart\" });\n    });\n    __publicField(this, \"_onWaiting\", () => {\n      if (this._isWaiting || !this.vt) {\n        return;\n      }\n      this._isWaiting = true;\n      if (!this.vt) {\n        this._waitType = 1;\n      } else if (this.seekingStart) {\n        this._waitType = 2;\n      } else {\n        this._waitType = 0;\n      }\n      this.fixedWaitingStart = now();\n      this._waitTimer = util.setTimeout(this, () => {\n        if (this._isWaiting) {\n          this.waitingStart = now();\n          util.clearTimeout(this, this._waitTimer);\n          this._waitTimer = null;\n          this._startWaitTimeout();\n          this.emitLog(LOG_TYPES.WAIT_START, { fixedStart: this.fixedWaitingStart, start: this.waitingStart, type: this._waitType, endType: this._waitType === 2 ? \"seek\" : \"playing\" });\n        }\n      }, 200);\n    });\n    __publicField(this, \"_onError\", () => {\n      this.suspendSeekingStatus(\"error\");\n      this.suspendWaitingStatus(\"error\");\n    });\n    __publicField(this, \"_onPlaying\", () => {\n      this._isWaiting && this.suspendWaitingStatus(\"playing\");\n    });\n  }\n  static get pluginName() {\n    return \"xgLogger\";\n  }\n  static get defaultConfig() {\n    return {\n      waitTimeout: 1e4\n    };\n  }\n  afterCreate() {\n    this._onReset();\n    this._waitType = \"firstFrame\";\n    this._initOnceEvents();\n    this.newPointTime = now();\n    this.loadedCostTime = 0;\n    this.startCostTime = 0;\n    this.on(LOAD_START, () => {\n      const { _state } = this;\n      const { autoplayStart, isFFSend } = _state;\n      this.startCostTime = now() - this.newPointTime;\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} LOAD_START`, `autoplayStart:${autoplayStart} isFFSend:${isFFSend} startCostTime:${this.startCostTime} newPointTime${this.newPointTime}`);\n      if (isFFSend) {\n        return;\n      }\n      !_state.isLs && this.emitLog(LOG_TYPES.LOAD_START, {});\n      _state.isLs = true;\n      _state.isTimeUpdate = false;\n      _state.isFFLoading = true;\n      this.pt = now();\n      this.vt = 0;\n      this.fvt = 0;\n      this._initOnceEvents();\n      this._onWaitingLoadStart();\n    });\n    this.on(LOADED_DATA, () => {\n      this.vt = now();\n      this.fvt = this.vt - this.pt;\n      this.loadedCostTime = this.vt - this.newPointTime;\n      const { isTimeUpdate, isFFSend, autoplayStart } = this._state;\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} LOADED_DATA`, `fvt:${this.fvt} isTimeUpdate:${this._state.isTimeUpdate} loadedCostTime:${this.loadedCostTime}`);\n      if (isTimeUpdate || autoplayStart) {\n        this._sendFF(\"loadedData\");\n      }\n      if (!isFFSend) {\n        this.emitLog(LOG_TYPES.LOADED_DATA, {});\n      }\n      this.suspendWaitingStatus(\"loadeddata\");\n    });\n    this.on(SEEKING, this._onSeeking);\n    this.on(SEEKED, this._onSeeked);\n    this.on(DESTROY, () => {\n      this.endState(\"destroy\");\n    });\n    this.on(URL_CHANGE, () => {\n      this.endState(\"urlChange\");\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} URL_CHANGE`);\n      this._state.isFFSend && this._onReset();\n    });\n    this.on([PLAYING, CANPLAY], this._onPlaying);\n    this.on(WAITING, this._onWaiting);\n    this.on(ERROR, this._onError);\n    this.on(RESET, () => {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} RESET`);\n      this.endState(\"reset\");\n      this._initOnceEvents();\n      this._onReset();\n    });\n  }\n  _initOnceEvents() {\n    this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n    this.off(TIME_UPDATE, this._onTimeupdate);\n    this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n    this.once(TIME_UPDATE, this._onTimeupdate);\n  }\n  _sendFF(endType) {\n    this.s = now();\n    const { isFFLoading, isFFSend } = this._state;\n    XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _sendFF`, `${endType} fvt:${this.fvt} isFFLoading:${isFFLoading} !isFFSend:${!isFFSend}`);\n    if (this.vt > 0 && isFFLoading && !isFFSend) {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} emitLog_firstFrame`, endType);\n      this._state.isFFLoading = false;\n      this._state.isFFSend = true;\n      this.emitLog(LOG_TYPES.FIRST_FRAME, { fvt: this.fvt, costTime: this.fvt, vt: this.vt, startCostTime: this.startCostTime, loadedCostTime: this.loadedCostTime });\n    }\n  }\n  _startWaitTimeout() {\n    if (this._waittTimer) {\n      util.clearTimeout(this, this._waittTimer);\n    }\n    this._waittTimer = util.setTimeout(this, () => {\n      this.suspendWaitingStatus(\"timeout\");\n      util.clearTimeout(this, this._waittTimer);\n      this._waittTimer = null;\n    }, this.config.waitTimeout);\n  }\n  endState(endType) {\n    this.suspendWaitingStatus(endType);\n    this.suspendSeekingStatus(endType);\n  }\n  suspendSeekingStatus(endType) {\n    if (!this.seekingStart) {\n      return;\n    }\n    const _now = now();\n    const _cost = _now - this.seekingStart;\n    this.seekingStart = 0;\n    this.emitLog(LOG_TYPES.SEEK_END, { end: _now, costTime: _cost, endType });\n  }\n  suspendWaitingStatus(endType) {\n    if (this._waitTimer) {\n      util.clearTimeout(this, this._waitTimer);\n      this._waitTimer = null;\n    }\n    if (this._waittTimer) {\n      util.clearTimeout(this, this._waittTimer);\n      this._waittTimer = null;\n    }\n    this._isWaiting = false;\n    if (!this.waitingStart) {\n      return;\n    }\n    const _now = now();\n    const _cost = _now - this.waitingStart;\n    const _fixedCost = _now - this.fixedWaitingStart;\n    const { waitTimeout } = this.config;\n    this._isWaiting = false;\n    this.waitingStart = 0;\n    this.fixedWaitingStart = 0;\n    this.emitLog(LOG_TYPES.WAIT_END, {\n      fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n      costTime: _cost > waitTimeout ? waitTimeout : _cost,\n      type: endType === \"loadeddata\" ? 1 : this._waitType,\n      endType: this._waitType === 2 ? \"seek\" : endType\n    });\n  }\n  emitLog(eventType, data) {\n    const { player } = this;\n    this.emit(XGLOG, {\n      t: now(),\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype,\n      eventType,\n      currentTime: this.player.currentTime,\n      readyState: player.video.readyState,\n      networkState: player.video.networkState,\n      ...data\n    });\n  }\n}\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nclass Replay extends Plugin {\n  static get pluginName() {\n    return \"replay\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: false\n    };\n  }\n  registerIcons() {\n    return {\n      replay: ReplaySvg\n    };\n  }\n  afterCreate() {\n    Plugin.insert(this.icons.replay, this.root, 0);\n    this.__handleReplay = this.hook(\"replayClick\", () => {\n      this.player.replay();\n    }, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    this.on(ENDED, () => {\n      if (!this.playerConfig.loop) {\n        util.addClass(this.player.root, \"replay\");\n      }\n      if (this.config.disable) {\n        return;\n      }\n      this.show();\n      const path = this.root.querySelector(\"path\");\n      if (path) {\n        const transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n        if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n          return null;\n        } else {\n          path.setAttribute(\"transform\", transform);\n        }\n      }\n    });\n    this.on(PLAY, () => {\n      this.hide();\n    });\n  }\n  handleReplay(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.player.replay();\n    util.removeClass(this.player.root, \"replay\");\n  }\n  show(value) {\n    if (this.config.disable) {\n      return;\n    }\n    this.root.style.display = \"flex\";\n  }\n  enable() {\n    this.config.disable = false;\n  }\n  disable() {\n    this.config.disable = true;\n    this.hide();\n  }\n  destroy() {\n    this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n  }\n  render() {\n    return `<xg-replay class=\"xgplayer-replay\">\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"${this.i18nKeys.REPLAY}\">${this.i18n.REPLAY}</xg-replay-txt>\n    </xg-replay>`;\n  }\n}\nexport { Replay as default };\n","import util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Poster extends Plugin {\n  static get pluginName() {\n    return \"poster\";\n  }\n  static get defaultConfig() {\n    return {\n      isEndedShow: true,\n      hideCanplay: false,\n      notHidden: false,\n      poster: \"\",\n      fillMode: \"fixWidth\"\n    };\n  }\n  set isEndedShow(value) {\n    this.config.isEndedShow = value;\n  }\n  get isEndedShow() {\n    return this.config.isEndedShow;\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.poster === \"string\") {\n      args.config.poster = args.player.config.poster;\n    }\n  }\n  afterCreate() {\n    this.on(ENDED, () => {\n      if (this.isEndedShow) {\n        util.removeClass(this.root, \"hide\");\n      }\n    });\n    if (this.config.hideCanplay) {\n      this.once(TIME_UPDATE, () => {\n        this.onTimeUpdate();\n      });\n      this.on(URL_CHANGE, () => {\n        util.removeClass(this.root, \"hide\");\n        util.addClass(this.root, \"xg-showplay\");\n        this.once(TIME_UPDATE, () => {\n          this.onTimeUpdate();\n        });\n      });\n    } else {\n      this.on(PLAY, () => {\n        util.addClass(this.root, \"hide\");\n      });\n    }\n  }\n  onTimeUpdate() {\n    if (!this.player.currentTime) {\n      this.once(TIME_UPDATE, () => {\n        this.onTimeUpdate();\n      });\n    } else {\n      util.removeClass(this.root, \"xg-showplay\");\n    }\n  }\n  update(poster) {\n    if (!poster) {\n      return;\n    }\n    this.config.poster = poster;\n    this.root.style.backgroundImage = `url(${poster})`;\n  }\n  getBgSize(mode) {\n    let _bg = \"\";\n    switch (mode) {\n      case \"cover\":\n        _bg = \"cover\";\n        break;\n      case \"contain\":\n        _bg = \"contain\";\n        break;\n      case \"fixHeight\":\n        _bg = \"auto 100%\";\n        break;\n      default:\n        _bg = \"\";\n    }\n    return _bg ? `background-size: ${_bg};` : \"\";\n  }\n  render() {\n    const { poster, hideCanplay, fillMode, notHidden } = this.config;\n    const _bg = this.getBgSize(fillMode);\n    const style = poster ? `background-image:url(${poster});${_bg}` : _bg;\n    const className = notHidden ? \"xg-not-hidden\" : hideCanplay ? \"xg-showplay\" : \"\";\n    return `<xg-poster class=\"xgplayer-poster ${className}\" style=\"${style}\">\n    </xg-poster>`;\n  }\n}\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nconst AnimateMap = {};\nfunction addAnimate(key, seconds, callback = { start: null, end: null }) {\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(() => {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map((key) => {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nclass Start extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onPlayerReset\", () => {\n      this.autoPlayStart = false;\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      this.setAttr(\"data-state\", \"play\");\n      util.removeClass(this.root, className);\n      this.show();\n    });\n    __publicField(this, \"onAutoplayStart\", () => {\n      if (this.autoPlayStart) {\n        return;\n      }\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(this.root, className);\n      this.autoPlayStart = true;\n      this.onPlayPause(\"play\");\n    });\n    this.autoPlayStart = false;\n  }\n  static get pluginName() {\n    return \"start\";\n  }\n  static get defaultConfig() {\n    return {\n      isShowPause: false,\n      isShowEnd: false,\n      disableAnimate: false,\n      mode: \"hide\"\n    };\n  }\n  afterCreate() {\n    const { player, playerConfig } = this;\n    this.initIcons();\n    this.once(READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === \"en\") {\n          util.addClass(player.root, \"lang-is-en\");\n        } else if (playerConfig.lang === \"jp\") {\n          util.addClass(player.root, \"lang-is-jp\");\n        }\n      }\n    });\n    this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n    if (!playerConfig.autoplay) {\n      this.show();\n    }\n    this.on(AUTOPLAY_PREVENTED, () => {\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      this.setAttr(\"data-state\", \"play\");\n      util.removeClass(this.root, className);\n      this.show();\n    });\n    this.on(PLAY, () => {\n      this.onPlayPause(\"play\");\n    });\n    this.on(PAUSE, () => {\n      this.onPlayPause(\"pause\");\n    });\n    this.on(RESET, () => {\n      this.onPlayerReset();\n    });\n    this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n      pre: (e) => {\n        e.cancelable && e.preventDefault();\n        e.stopPropagation();\n        const { paused } = this.player;\n        this.emitUserAction(e, \"switch_play_pause\", { props: \"paused\", from: paused, to: !paused });\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this.clickHandler);\n  }\n  registerIcons() {\n    return {\n      startPlay: { icon: PlaySvg, class: \"xg-icon-play\" },\n      startPause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\"xg-start-inner\", icons.startPlay);\n    this.appendChild(\"xg-start-inner\", icons.startPause);\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  focusHide() {\n    util.addClass(this.root, \"focus-hide\");\n  }\n  recover() {\n    util.removeClass(this.root, \"focus-hide\");\n  }\n  switchStatus(isAnimate) {\n    if (isAnimate) {\n      this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n    } else {\n      this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n    }\n  }\n  animate(endShow) {\n    this._animateId = addAnimate(\"pauseplay\", 400, {\n      start: () => {\n        util.addClass(this.root, \"interact\");\n        this.show();\n        this.switchStatus(true);\n      },\n      end: () => {\n        util.removeClass(this.root, \"interact\");\n        !endShow && this.hide();\n        this._animateId = null;\n      }\n    });\n  }\n  endAnimate() {\n    util.removeClass(this.root, \"interact\");\n    clearAnimation(this._animateId);\n    this._animateId = null;\n  }\n  switchPausePlay(e) {\n    const { player } = this;\n    e.cancelable && e.preventDefault();\n    e.stopPropagation();\n    if (player.state < STATES.READY) {\n      return;\n    }\n    const paused = this.player.paused;\n    if (!paused && player.state === STATES.RUNNING) {\n      player.pause();\n    } else {\n      player.play();\n    }\n  }\n  onPlayPause(status) {\n    const { config, player } = this;\n    if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n      return;\n    }\n    if (config.mode === \"show\") {\n      this.switchStatus();\n      this.show();\n      return;\n    }\n    if (config.mode === \"auto\") {\n      this.switchStatus();\n      return;\n    }\n    if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n      this.switchStatus();\n      this.show();\n      this.endAnimate();\n      return;\n    }\n    if (config.disableAnimate) {\n      this.switchStatus();\n      this.hide();\n      return;\n    }\n    if (status === \"play\") {\n      this.autoPlayStart ? this.animate() : this.hide();\n    } else {\n      if (!this.autoPlayStart || player.ended) {\n        return;\n      }\n      this.animate();\n    }\n  }\n  destroy() {\n    this.unbind([\"click\", \"touchend\"], this.clickHandler);\n    clearAnimation(this._animateId);\n  }\n  render() {\n    const className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n    return `\n    <xg-start class=\"xgplayer-start ${className}\">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>`;\n  }\n}\nexport { Start as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Enter extends Plugin {\n  static get pluginName() {\n    return \"enter\";\n  }\n  static get defaultConfig() {\n    return {\n      innerHtml: \"\",\n      logo: \"\"\n    };\n  }\n  render() {\n    const { innerHtml } = this.config;\n    const root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n    if (innerHtml && innerHtml instanceof window.HTMLElement) {\n      root.appendChild(innerHtml);\n    } else if (innerHtml && typeof innerHtml === \"string\") {\n      root.innerHTML = innerHtml;\n    } else {\n      let barStr = \"\";\n      for (let i = 1; i <= 12; i++) {\n        barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n      }\n      root.innerHTML = `<div class=\"xgplayer-enter-spinner\">${barStr}</div>`;\n    }\n    return root;\n  }\n}\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ` <div class=\"xg-tips ${isShow ? \"hide\" : \" \"}\" lang-key=\"${plugin.i18nKeys[textKey]}\">\n    ${plugin.i18n[textKey]}\n    </div>`;\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nclass MiniScreenIcon extends Plugin {\n  static get pluginName() {\n    return \"miniscreenIcon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 10\n    };\n  }\n  afterCreate() {\n    this.getMini = this.getMini.bind(this);\n    this.exitMini = this.exitMini.bind(this);\n    this.bind(\"click\", this.getMini);\n  }\n  getMini() {\n    this.config.onClick && this.config.onClick();\n  }\n  exitMini() {\n    this.config.onClick && this.config.onClick();\n  }\n  destroy() {\n    this.unbind([\"click\", \"touchend\"], this.getMini);\n  }\n  render() {\n    const langKey = \"MINISCREEN\";\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"${this.i18nKeys[langKey]}\">${this.i18n[langKey]}</span></div>\n      </xg-icon>`;\n  }\n}\nexport { MiniScreenIcon as default };\n","import EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  const num = parseFloat(value);\n  const isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nconst measurements = [\n  \"paddingLeft\",\n  \"paddingRight\",\n  \"paddingTop\",\n  \"paddingBottom\",\n  \"marginLeft\",\n  \"marginRight\",\n  \"marginTop\",\n  \"marginBottom\",\n  \"borderLeftWidth\",\n  \"borderRightWidth\",\n  \"borderTopWidth\",\n  \"borderBottomWidth\"\n];\nconst measurementsLength = measurements.length;\nfunction getZeroSize() {\n  const size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (let i = 0; i < measurementsLength; i++) {\n    const measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  const style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || typeof elem !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  const style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  const size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  const isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (let i = 0; i < measurementsLength; i++) {\n    const measurement = measurements[i];\n    const value = style[measurement];\n    const num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  const paddingWidth = size.paddingLeft + size.paddingRight;\n  const paddingHeight = size.paddingTop + size.paddingBottom;\n  const marginWidth = size.marginLeft + size.marginRight;\n  const marginHeight = size.marginTop + size.marginBottom;\n  const borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  const borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  const isBorderBoxSizeOuter = isBorderBox;\n  const styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  const styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (let i = 0; i < touches.length; i++) {\n    const touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nconst EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nconst POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nclass Draggabilly extends EventEmitter {\n  constructor(root, options = {}) {\n    super();\n    this.isEnabled = true;\n    this.isDragging = false;\n    this.isDown = false;\n    this.position = {};\n    this.downPoint = {};\n    this.dragPoint = { x: 0, y: 0 };\n    this.startPos = { x: 0, y: 0 };\n    this._root = root instanceof Element ? root : document.querySelector(root);\n    this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!this._root || !this._handlerDom) {\n      return;\n    }\n    this._bindStartEvent();\n  }\n  _bindStartEvent() {\n    if (\"ontouchstart\" in window) {\n      this._startKey = \"touchstart\";\n    } else {\n      this._startKey = \"mousedown\";\n    }\n    this[`on${this._startKey}`] = this[`on${this._startKey}`].bind(this);\n    this._handlerDom.addEventListener(this._startKey, this[`on${this._startKey}`]);\n    POST_START_EVENTS[this._startKey].map((key) => {\n      this[`on${key}`] = this[`on${key}`].bind(this);\n    });\n  }\n  _unbindStartEvent() {\n    this._handlerDom.removeEventListener(this._startKey, this[`on${this._startKey}`]);\n  }\n  _bindPostStartEvents(event) {\n    if (!event) {\n      return;\n    }\n    const events = POST_START_EVENTS[this._startKey];\n    events.map((eventName) => {\n      window.addEventListener(eventName, this[`on${eventName}`]);\n    });\n    this._boundPointerEvents = events;\n  }\n  _unbindPostStartEvents() {\n    if (!this._boundPointerEvents) {\n      return;\n    }\n    this._boundPointerEvents.map((eventName) => {\n      window.removeEventListener(eventName, this[`on${eventName}`]);\n    });\n    delete this._boundPointerEvents;\n  }\n  enable() {\n    this.isEnabled = true;\n  }\n  disable() {\n    this.isEnabled = false;\n    if (this.isDragging) {\n      this.onUp();\n    }\n  }\n  onDocUp(e) {\n    this.onUp();\n  }\n  animate() {\n    if (!this.isDragging) {\n      return;\n    }\n    this.positionDrag();\n    window.requestAnimationFrame(() => {\n      this.animate();\n    });\n  }\n  positionDrag() {\n    const transform = `translate3d(${this.dragPoint.x}px, ${this.dragPoint.y}px, 0)`;\n    this._root.style.transform = transform;\n    this._root.style.webKitTransform = transform;\n  }\n  setLeftTop() {\n    this._root.style.left = this.position.x + \"px\";\n    this._root.style.top = this.position.y + \"px\";\n  }\n  onmousedown(e) {\n    this.dragStart(e, e);\n  }\n  onmousemove(e) {\n    this.dragMove(e, e);\n  }\n  onmouseup(e) {\n    this.dragEnd(e, e);\n  }\n  ontouchstart(e) {\n    const touch = e.changedTouches[0];\n    this.dragStart(e, touch);\n    this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n    e.preventDefault();\n  }\n  ontouchmove(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragMove(e, touch);\n    }\n  }\n  ontouchend(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragEnd(e, touch);\n    }\n    e.preventDefault();\n  }\n  ontouchcancel(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragCancel(e, touch);\n    }\n  }\n  dragStart(e, pointer) {\n    if (!this._root || this.isDown || !this.isEnabled) {\n      return;\n    }\n    this.downPoint = pointer;\n    this.dragPoint.x = 0;\n    this.dragPoint.y = 0;\n    this._getPosition();\n    const size = getSize(this._root);\n    this.startPos.x = this.position.x;\n    this.startPos.y = this.position.y;\n    this.startPos.maxY = window.innerHeight - size.height;\n    this.startPos.maxX = window.innerWidth - size.width;\n    this.setLeftTop();\n    this.isDown = true;\n    this._bindPostStartEvents(e);\n  }\n  dragRealStart(e, pointer) {\n    this.isDragging = true;\n    this.animate();\n    this.emit(EVENTS.START, this.startPos);\n  }\n  dragEnd(e, pointer) {\n    if (!this._root) {\n      return;\n    }\n    this._unbindPostStartEvents();\n    if (this.isDragging) {\n      this._root.style.transform = \"\";\n      this.setLeftTop();\n      this.emit(EVENTS.ENDED);\n    }\n    this.presetInfo();\n  }\n  _dragPointerMove(e, pointer) {\n    const moveVector = {\n      x: pointer.pageX - this.downPoint.pageX,\n      y: pointer.pageY - this.downPoint.pageY\n    };\n    if (!this.isDragging && this.hasDragStarted(moveVector)) {\n      this.dragRealStart(e, pointer);\n    }\n    return moveVector;\n  }\n  dragMove(e, pointer) {\n    e = e || window.event;\n    if (!this.isDown) {\n      return;\n    }\n    const { x, y } = this.startPos;\n    const moveVector = this._dragPointerMove(e, pointer);\n    let dragX = moveVector.x;\n    let dragY = moveVector.y;\n    dragX = this.checkContain(\"x\", dragX, x);\n    dragY = this.checkContain(\"y\", dragY, y);\n    this.position.x = x + dragX;\n    this.position.y = y + dragY;\n    this.dragPoint.x = dragX;\n    this.dragPoint.y = dragY;\n    this.emit(EVENTS.MOVE, this.position);\n  }\n  dragCancel(e, pointer) {\n    this.dragEnd(e, pointer);\n  }\n  presetInfo() {\n    this.isDragging = false;\n    this.startPos = {\n      x: 0,\n      y: 0\n    };\n    this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    this.isDown = false;\n  }\n  destroy() {\n    this._unbindStartEvent();\n    this._unbindPostStartEvents();\n    if (this.isDragging) {\n      this.dragEnd();\n    }\n    this.removeAllListeners();\n    this._handlerDom = null;\n  }\n  hasDragStarted(moveVector) {\n    return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n  }\n  checkContain(axis, drag, grid) {\n    if (drag + grid < 0) {\n      return 0 - grid;\n    }\n    if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n      return this.startPos.maxX - grid;\n    }\n    if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n      return this.startPos.maxY - grid;\n    }\n    return drag;\n  }\n  _getPosition() {\n    const style = window.getComputedStyle(this._root);\n    const x = this._getPositionCoord(style.left, \"width\");\n    const y = this._getPositionCoord(style.top, \"height\");\n    this.position.x = Number.isNaN(x) ? 0 : x;\n    this.position.y = Number.isNaN(y) ? 0 : y;\n    this._addTransformPosition(style);\n  }\n  _addTransformPosition(style) {\n    const transform = style.transform;\n    if (transform.indexOf(\"matrix\") !== 0) {\n      return;\n    }\n    const matrixValues = transform.split(\",\");\n    const xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n    const translateX = parseInt(matrixValues[xIndex], 10);\n    const translateY = parseInt(matrixValues[xIndex + 1], 10);\n    this.position.x += translateX;\n    this.position.y += translateY;\n  }\n  _getPositionCoord(styleSide, measure) {\n    if (styleSide.indexOf(\"%\") !== -1) {\n      const parentSize = getSize(this._root.parentNode);\n      return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n    }\n    return parseInt(styleSide, 10);\n  }\n}\nexport { Draggabilly as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nclass MiniScreen extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onCancelClick\", (e) => {\n      this.exitMini();\n      this.isClose = true;\n    });\n    __publicField(this, \"onCenterClick\", (e) => {\n      const { player } = this;\n      player.paused ? player.play() : player.pause();\n    });\n    __publicField(this, \"onScroll\", (e) => {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - this.pos.scrollY) < 50) {\n        return;\n      }\n      let scrollHeight = parseInt(util.getCss(this.player.root, \"height\"));\n      scrollHeight += this.config.scrollTop;\n      this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !this.isMini && !this.isClose && this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        this.isMini && this.exitMini();\n        this.isClose = false;\n      }\n    });\n    this.isMini = false;\n    this.isClose = false;\n    const { config } = this;\n    this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: this.config.height,\n      width: this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    this.lastStyle = null;\n  }\n  static get pluginName() {\n    return \"miniscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 10,\n      disable: false,\n      width: 320,\n      height: 180,\n      left: -1,\n      top: -1,\n      isShowIcon: false,\n      isScrollSwitch: false,\n      scrollTop: 0,\n      disableDrag: false\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.mini === \"boolean\") {\n      args.config.isShowIcon = args.player.config.mini;\n    }\n  }\n  afterCreate() {\n    this.initIcons();\n    this.on(PAUSE, () => {\n      this.setAttr(\"data-state\", \"pause\");\n    });\n    this.on(PLAY, () => {\n      this.setAttr(\"data-state\", \"play\");\n    });\n  }\n  onPluginsReady() {\n    const { player, config } = this;\n    if (config.disable) {\n      return;\n    }\n    if (this.config.isShowIcon) {\n      const options = {\n        config: {\n          onClick: () => {\n            this.getMini();\n          }\n        }\n      };\n      player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n    }\n    const eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n    this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n    this.bind(\".play-icon\", eventName, this.onCenterClick);\n    if (!this.config.disableDrag) {\n      this._draggabilly = new Draggabilly(this.player.root, {\n        handle: this.root\n      });\n    }\n    if (this.config.isScrollSwitch) {\n      window.addEventListener(\"scroll\", this.onScroll);\n    }\n  }\n  registerIcons() {\n    return {\n      play: { icon: PlaySvg, class: \"xg-icon-play\" },\n      pause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".play-icon\", icons.play);\n    this.appendChild(\".play-icon\", icons.pause);\n  }\n  getMini() {\n    if (this.isMini) {\n      return;\n    }\n    const { player, playerConfig } = this;\n    const target = this.config.target || this.player.root;\n    this.lastStyle = {};\n    util.addClass(player.root, \"xgplayer-mini\");\n    [\"width\", \"height\", \"top\", \"left\"].map((key) => {\n      this.lastStyle[key] = target.style[key];\n      target.style[key] = `${this.pos[key]}px`;\n    });\n    if (playerConfig.fluid) {\n      target.style[\"padding-top\"] = \"\";\n    }\n    this.emit(MINI_STATE_CHANGE, true);\n    player.isMini = this.isMini = true;\n  }\n  exitMini() {\n    if (!this.isMini) {\n      return false;\n    }\n    const { player, playerConfig } = this;\n    const target = this.config.target || this.player.root;\n    util.removeClass(player.root, \"xgplayer-mini\");\n    if (this.lastStyle) {\n      Object.keys(this.lastStyle).map((key) => {\n        target.style[key] = this.lastStyle[key];\n      });\n    }\n    this.lastStyle = null;\n    if (playerConfig.fluid) {\n      player.root.style.width = \"100%\";\n      player.root.style.height = \"0\";\n      player.root.style[\"padding-top\"] = `${playerConfig.height * 100 / playerConfig.width}%`;\n    }\n    this.emit(MINI_STATE_CHANGE, false);\n    this.isMini = player.isMini = false;\n  }\n  destroy() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n    const eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n    this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n    this.unbind(\".play-icon\", eventName, this.onCenterClick);\n    this._draggabilly && this._draggabilly.destroy();\n    this._draggabilly = null;\n    this.exitMini();\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n      <xg-mini-layer class=\"xg-mini-layer\">\n      <xg-mini-header class=\"xgplayer-mini-header\">\n      ${xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips)}\n      </xg-mini-header>\n      <div class=\"mini-cancel-btn\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\n        </svg>\n      </div>\n      <div class=\"play-icon\">\n      </div>\n      </xg-mini-layer>`;\n  }\n}\nexport { MiniScreen as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { ENTER_PLAYER, LEAVE_PLAYER } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nconst MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nconst HOOKS = [\"videoClick\", \"videoDbClick\"];\nclass PCPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onMouseMove\", (e) => {\n      const { player, playerConfig } = this;\n      if (!player.isActive) {\n        player.focus({ autoHide: !playerConfig.closeDelayBlur });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { playerConfig, player } = this;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({ autoHide: false });\n      } else {\n        player.focus();\n      }\n      this.emit(ENTER_PLAYER);\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      const { closePlayerBlur, leavePlayerTime, closeDelayBlur } = this.playerConfig;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          this.player.focus({ autoHide: true, delay: leavePlayerTime });\n        } else {\n          this.player.blur({ ignorePaused: true });\n        }\n      }\n      this.emit(LEAVE_PLAYER);\n    });\n    __publicField(this, \"onVideoClick\", (e) => {\n      const { player, playerConfig } = this;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        this._clickCount++;\n        if (this.clickTimer) {\n          clearTimeout(this.clickTimer);\n          this.clickTimer = null;\n        }\n        this.clickTimer = setTimeout(() => {\n          if (!this._clickCount) {\n            return;\n          }\n          this._clickCount--;\n          runHooks(this, HOOKS[0], (plugin, data) => {\n            this.switchPlayPause(data.e);\n          }, { e, paused: player.paused });\n          clearTimeout(this.clickTimer);\n          this.clickTimer = null;\n        }, 300);\n      }\n    });\n    __publicField(this, \"onVideoDblClick\", (e) => {\n      const { player, playerConfig } = this;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && this._clickCount < 2) {\n        this._clickCount = 0;\n        return;\n      }\n      this._clickCount = 0;\n      if (this.clickTimer) {\n        clearTimeout(this.clickTimer);\n        this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(this, HOOKS[1], (plugin, data) => {\n        this.emitUserAction(data.e, \"switch_fullscreen\", { props: \"fullscreen\", from: player.fullscreen, to: !player.fullscreen });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, { e, fullscreen: player.fullscreen });\n    });\n  }\n  static get pluginName() {\n    return \"pc\";\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  afterCreate() {\n    this._clickCount = 0;\n    HOOKS.map((item) => {\n      this.__hooks[item] = null;\n    });\n    const { isMobileSimulateMode } = this.playerConfig;\n    if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n      return;\n    }\n    this.initEvents();\n  }\n  initEvents() {\n    const { media, root } = this.player;\n    const { enableContextmenu } = this.playerConfig;\n    root && root.addEventListener(\"click\", this.onVideoClick, false);\n    root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n    Object.keys(MOUSE_EVENTS).map((item) => {\n      root.addEventListener(item, this[MOUSE_EVENTS[item]], false);\n    });\n    !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n  }\n  switchPlayPause(e) {\n    const { player } = this;\n    this.emitUserAction(e, \"switch_play_pause\", { props: \"paused\", from: player.paused, to: !player.paused });\n    if (!player.ended) {\n      player.paused ? player.play() : player.pause();\n    } else {\n      player.duration !== Infinity && player.duration > 0 && player.replay();\n    }\n  }\n  onContextmenu(e) {\n    e = e || window.event;\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.returnValue = false;\n      e.cancelBubble = true;\n    }\n  }\n  destroy() {\n    const { video, root } = this.player;\n    this.clickTimer && clearTimeout(this.clickTimer);\n    root.removeEventListener(\"click\", this.onVideoClick, false);\n    root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n    video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n    Object.keys(MOUSE_EVENTS).map((item) => {\n      root.removeEventListener(item, this[MOUSE_EVENTS[item]], false);\n    });\n  }\n}\nexport { PCPlugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nconst TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nconst MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nclass Touche {\n  constructor(dom, config = { eventType: \"touch\" }) {\n    __publicField(this, \"onTouchStart\", (e) => {\n      const { _pos, root } = this;\n      const touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      this.__setPress(e);\n      root.addEventListener(this.events.end, this.onTouchEnd);\n      root.addEventListener(this.events.cancel, this.onTouchCancel);\n      root.addEventListener(this.events.move, this.onTouchMove);\n      this.trigger(EVENTS.TOUCH_START, e);\n    });\n    __publicField(this, \"onTouchCancel\", (e) => {\n      this.onTouchEnd(e);\n    });\n    __publicField(this, \"onTouchEnd\", (e) => {\n      const { _pos, root } = this;\n      this.__clearPress();\n      root.removeEventListener(this.events.cancel, this.onTouchCancel);\n      root.removeEventListener(this.events.end, this.onTouchEnd);\n      root.removeEventListener(this.events.move, this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    __publicField(this, \"onTouchMove\", (e) => {\n      const { _pos, config } = this;\n      const touch = getTouch(e.touches);\n      const x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      const y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      const diffx = x - _pos.x;\n      const diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      this.__clearPress();\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(config).map((key) => {\n      this.config[key] = config[key];\n    });\n    this.root = dom;\n    this.events = config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _initEvent() {\n    this.root.addEventListener(this.events.start, this.onTouchStart);\n  }\n  __setPress(e) {\n    const { config } = this;\n    if (this.pressIntrvalId) {\n      this.__clearPress();\n    }\n    this.pressIntrvalId = setTimeout(() => {\n      this.trigger(EVENTS.PRESS, e);\n      this._pos.press = true;\n      this.__clearPress();\n    }, config.pressDelay);\n  }\n  __clearPress() {\n    window.clearTimeout(this.pressIntrvalId);\n    this.pressIntrvalId = null;\n  }\n  __setDb(e) {\n    const { config } = this;\n    if (this.dbIntrvalId) {\n      this.__clearDb();\n      this.trigger(EVENTS.DOUBlE_CLICK, e);\n      return;\n    }\n    this.dbIntrvalId = setTimeout(() => {\n      this.__clearDb();\n      if (!this._pos.start && !this._pos.press && !this._pos.moving) {\n        this.trigger(EVENTS.CLICK, e);\n      }\n    }, config.dbClickDelay);\n  }\n  __clearDb() {\n    clearTimeout(this.dbIntrvalId);\n    this.dbIntrvalId = null;\n  }\n  on(event, handler) {\n    if (!this.__handlers[event]) {\n      this.__handlers[event] = [];\n    }\n    this.__handlers[event].push(handler);\n  }\n  off(event, handler) {\n    if (!this.__handlers[event]) {\n      return;\n    }\n    const handlers = this.__handlers[event];\n    let index = -1;\n    for (let i = 0; i < handlers.length; i++) {\n      if (handlers[i] === handler) {\n        index = i;\n        break;\n      }\n    }\n    if (index >= 0) {\n      this.__handlers[event].splice(index, 1);\n    }\n  }\n  trigger(event, e) {\n    if (!this.__handlers[event]) {\n      return;\n    }\n    this.__handlers[event].map((handler) => {\n      try {\n        handler(e);\n      } catch (error) {\n        console.error(`trigger>>:${event}`, error);\n      }\n    });\n  }\n  destroy() {\n    const map = {\n      touchend: \"onTouchEnd\",\n      touchmove: \"onTouchMove\",\n      touchstart: \"onTouchStart\"\n    };\n    Object.keys(map).forEach((key) => {\n      this.root.removeEventListener(key, this[map[key]]);\n    });\n  }\n}\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nconst ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nconst HOOKS = [\"videoClick\", \"videoDbClick\"];\nclass MobilePlugin extends Plugin {\n  constructor(options) {\n    super(options);\n    __publicField(this, \"onTouchStart\", (e) => {\n      const { player, config, pos, playerConfig } = this;\n      const touche = this.getTouche(e);\n      if (touche && !config.disableGesture && this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        this.timer && clearTimeout(this.timer);\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n        const rect = this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        const _x = parseInt(touche.pageX - pos.left, 10);\n        const _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    __publicField(this, \"onTouchMove\", (e) => {\n      const touche = this.getTouche(e);\n      const { pos, config, player } = this;\n      if (!touche || config.disableGesture || !this.duration || !pos.isStart) {\n        return;\n      }\n      const { miniMoveStep, hideControlsActive } = config;\n      const _x = parseInt(touche.pageX - pos.left, 10);\n      const _y = parseInt(touche.pageY - pos.top, 10);\n      const x = player.rotateDeg === 90 ? _y : _x;\n      const y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        const diffx = x - pos.x;\n        const diffy = y - pos.y;\n        let scope = pos.scope;\n        if (scope === -1) {\n          scope = this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({ autoHide: false }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        e.cancelable && e.preventDefault();\n        this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    __publicField(this, \"onTouchEnd\", (e) => {\n      const { player, pos, playerConfig } = this;\n      setTimeout(() => {\n        player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n      }, 10);\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      const { disableGesture, gestureX } = this.config;\n      if (!disableGesture && gestureX) {\n        this.endLastMove(pos.scope);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      this.changeAction(ACTIONS.AUTO);\n    });\n    __publicField(this, \"onRootTouchMove\", (e) => {\n      if (this.config.disableGesture || !this.config.gestureX) {\n        return;\n      }\n      if (this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!this.pos.isStart) {\n          this.onTouchStart(e);\n        } else {\n          this.onTouchMove(e);\n        }\n      }\n    });\n    __publicField(this, \"onRootTouchEnd\", (e) => {\n      if (this.pos.isStart && this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        this.onTouchEnd(e);\n      }\n    });\n    this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    this.timer = null;\n  }\n  static get pluginName() {\n    return \"mobile\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 0,\n      disableGesture: false,\n      gestureX: true,\n      gestureY: true,\n      gradient: \"normal\",\n      isTouchingSeek: false,\n      miniMoveStep: 5,\n      miniYPer: 5,\n      scopeL: 0.25,\n      scopeR: 0.25,\n      scopeM: 0.9,\n      pressRate: 2,\n      darkness: true,\n      maxDarkness: 0.8,\n      disableActive: false,\n      disableTimeProgress: false,\n      hideControlsActive: false,\n      hideControlsEnd: false,\n      moveDuration: 60 * 6 * 1e3,\n      closedbClick: false,\n      disablePress: true,\n      disableSeekIcon: false,\n      focusVideoClick: false\n    };\n  }\n  get duration() {\n    return this.playerConfig.customDuration || this.player.duration;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  registerIcons() {\n    return {\n      seekTipIcon: { icon: SeekTipIcon, class: \"xg-seek-pre\" }\n    };\n  }\n  afterCreate() {\n    HOOKS.map((item) => {\n      this.__hooks[item] = null;\n    });\n    const { playerConfig, config, player } = this;\n    if (playerConfig.closeVideoDblclick === true) {\n      config.closedbClick = true;\n    }\n    this.resetPos();\n    if (!util.isUndefined(playerConfig.disableGesture)) {\n      config.disableGesture = !!playerConfig.disableGesture;\n    }\n    this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n    this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n    player.root.appendChild(this.xgMask);\n    this.initCustomStyle();\n    this.registerThumbnail();\n    const eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n    this.touch = new Touche(this.root, { eventType, needPreventDefault: !this.config.disableGesture });\n    this.root.addEventListener(\"contextmenu\", (e) => {\n      e.preventDefault();\n    });\n    player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n    player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n    this.on(DURATION_CHANGE, () => {\n      const { player: player2, config: config2 } = this;\n      if (player2.duration * 1e3 < config2.moveDuration) {\n        config2.moveDuration = player2.duration * 1e3;\n      }\n    });\n    this.on([CANPLAY, ENDED], () => {\n      const { time, isStart } = this.pos;\n      if (!isStart && time > 0) {\n        this.pos.time = 0;\n      }\n    });\n    const eventsMap = {\n      touchstart: \"onTouchStart\",\n      touchmove: \"onTouchMove\",\n      touchend: \"onTouchEnd\",\n      press: \"onPress\",\n      pressend: \"onPressEnd\",\n      click: \"onClick\",\n      doubleclick: \"onDbClick\"\n    };\n    Object.keys(eventsMap).map((key) => {\n      this.touch.on(key, (e) => {\n        this[eventsMap[key]](e);\n      });\n    });\n    if (!config.disableActive) {\n      const progressPlugin = player.plugins.progress;\n      if (progressPlugin) {\n        progressPlugin.addCallBack(\"dragmove\", (data) => {\n          this.activeSeekNote(data.currentTime, data.forward);\n        });\n        [\"dragend\", \"click\"].forEach((key) => {\n          progressPlugin.addCallBack(key, () => {\n            this.changeAction(ACTIONS.AUTO);\n          });\n        });\n      }\n    }\n  }\n  registerThumbnail() {\n    const { player } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n      const timePreview = this.find(\".time-preview\");\n      timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n    }\n  }\n  initCustomStyle() {\n    const { commonStyle } = this.playerConfig || {};\n    const { playedColor, progressColor, timePreviewStyle, curTimeColor, durationColor } = commonStyle;\n    if (playedColor) {\n      this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n    }\n    if (progressColor) {\n      this.find(\".xg-bar\").style.backgroundColor = progressColor;\n    }\n    if (timePreviewStyle) {\n      const previewDom = this.find(\".time-preview\");\n      Object.keys(timePreviewStyle).forEach((key) => {\n        previewDom.style[key] = timePreviewStyle[key];\n      });\n    }\n    const curColor = curTimeColor || playedColor;\n    const durColor = durationColor;\n    curColor && (this.find(\".xg-cur\").style.color = curColor);\n    durColor && (this.find(\".xg-dur\").style.color = durColor);\n    this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n  }\n  resetPos(time = 0) {\n    if (this.pos) {\n      this.pos.isStart = false;\n      this.pos.scope = -1;\n      [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map((item) => {\n        this.pos[item] = 0;\n      });\n    } else {\n      this.pos = {\n        isStart: false,\n        x: 0,\n        y: 0,\n        volume: 0,\n        rate: 1,\n        light: 0,\n        width: 0,\n        height: 0,\n        scopeL: 0,\n        scopeR: 0,\n        scopeM1: 0,\n        scopeM2: 0,\n        scope: -1,\n        time: 0\n      };\n    }\n  }\n  changeAction(action) {\n    const { player, root } = this;\n    root.setAttribute(\"data-xg-action\", action);\n    const startPlugin = player.plugins.start;\n    startPlugin && startPlugin.recover();\n  }\n  getTouche(e) {\n    const rotateDeg = this.player.rotateDeg;\n    const touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n    return rotateDeg === 0 ? {\n      pageX: touche.pageX,\n      pageY: touche.pageY\n    } : {\n      pageX: touche.pageX,\n      pageY: touche.pageY\n    };\n  }\n  checkScope(x, y, diffx, diffy, pos) {\n    const { width } = pos;\n    let scope = -1;\n    if (x < 0 || x > width) {\n      return scope;\n    }\n    const mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n    if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n      scope = 0;\n    } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n      scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n    }\n    return scope;\n  }\n  executeMove(diffx, diffy, scope, width, height) {\n    switch (scope) {\n      case 0:\n        this.updateTime(diffx / width * this.config.scopeM);\n        break;\n      case 1:\n        this.updateBrightness(diffy / height);\n        break;\n      case 2:\n        if (!sniffer.os.isIos) {\n          this.updateVolume(diffy / height);\n        }\n        break;\n    }\n  }\n  endLastMove(lastScope) {\n    const { pos, player, config } = this;\n    const time = (pos.time - this.timeOffset) / 1e3;\n    switch (lastScope) {\n      case 0:\n        player.seek(Number(time).toFixed(1));\n        config.hideControlsEnd ? player.blur() : player.focus();\n        this.timer = setTimeout(() => {\n          this.pos.time = 0;\n        }, 500);\n        break;\n    }\n    this.changeAction(ACTIONS.AUTO);\n  }\n  checkIsRootTarget(e) {\n    const plugins = this.player.plugins || {};\n    if (plugins.progress && plugins.progress.root.contains(e.target)) {\n      return false;\n    }\n    return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n  }\n  sendUseAction(event) {\n    const { paused } = this.player;\n    this.emitUserAction(event, \"switch_play_pause\", {\n      prop: \"paused\",\n      from: paused,\n      to: !paused\n    });\n  }\n  clickHandler(e) {\n    const { player, config, playerConfig } = this;\n    if (player.state < STATES.RUNNING) {\n      if (!playerConfig.closeVideoClick) {\n        this.sendUseAction(util.createEvent(\"click\"));\n        player.play();\n      }\n      return;\n    }\n    if (!config.closedbClick || playerConfig.closeVideoClick) {\n      player.isActive ? player.blur() : player.focus();\n    } else if (!playerConfig.closeVideoClick) {\n      if (player.isActive || config.focusVideoClick) {\n        this.sendUseAction(util.createEvent(\"click\"));\n        this.switchPlayPause();\n      }\n      player.focus();\n    }\n  }\n  dbClickHandler(e) {\n    const { config, player } = this;\n    if (!config.closedbClick && player.state >= STATES.RUNNING) {\n      this.sendUseAction(util.createEvent(\"dblclick\"));\n      this.switchPlayPause();\n    }\n  }\n  onClick(e) {\n    const { player } = this;\n    runHooks(this, HOOKS[0], (plugin, data) => {\n      this.clickHandler(data.e);\n    }, { e, paused: player.paused });\n  }\n  onDbClick(e) {\n    const { player } = this;\n    runHooks(this, HOOKS[1], (plugin, data) => {\n      this.dbClickHandler(data.e);\n    }, { e, paused: player.paused });\n  }\n  onPress(e) {\n    const { pos, config, player } = this;\n    if (config.disablePress) {\n      return;\n    }\n    pos.rate = this.player.playbackRate;\n    this.emitUserAction(\"press\", \"change_rate\", {\n      prop: \"playbackRate\",\n      from: player.playbackRate,\n      to: config.pressRate\n    });\n    player.playbackRate = config.pressRate;\n    this.changeAction(ACTIONS.PLAYBACK);\n  }\n  onPressEnd(e) {\n    const { pos, config, player } = this;\n    if (config.disablePress) {\n      return;\n    }\n    this.emitUserAction(\"pressend\", \"change_rate\", { prop: \"playbackRate\", from: player.playbackRate, to: pos.rate });\n    player.playbackRate = pos.rate;\n    pos.rate = 1;\n    this.changeAction(ACTIONS.AUTO);\n  }\n  updateTime(percent) {\n    const { player, config } = this;\n    const { duration } = this.player;\n    percent = Number(percent.toFixed(4));\n    let time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n    time += this.pos.time;\n    time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n    player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n    player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n    this.activeSeekNote(time / 1e3, percent > 0);\n    if (config.isTouchingSeek) {\n      player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n    }\n    this.pos.time = time;\n  }\n  updateVolume(percent) {\n    if (this.player.rotateDeg) {\n      percent = -percent;\n    }\n    const { player, pos } = this;\n    percent = parseInt(percent * 100, 10);\n    pos.volume += percent;\n    if (Math.abs(pos.volume) < 10) {\n      return;\n    }\n    let volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n    volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n    player.volume = volume / 10;\n    pos.volume = 0;\n  }\n  updateBrightness(percent) {\n    if (this.player.rotateDeg) {\n      percent = -percent;\n    }\n    const { pos, config, xgMask } = this;\n    let light = pos.light + 0.8 * percent;\n    light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n    if (xgMask) {\n      xgMask.style.backgroundColor = `rgba(0,0,0,${light})`;\n    }\n    pos.light = light;\n  }\n  activeSeekNote(time, isForward = true) {\n    const { player, config } = this;\n    const isLive = !(this.duration !== Infinity && this.duration > 0);\n    if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n      return;\n    }\n    if (time < 0) {\n      time = 0;\n    } else if (time > player.duration) {\n      time = player.duration - 0.2;\n    }\n    this.changeAction(ACTIONS.SEEKING);\n    const startPlugin = player.plugins.start;\n    startPlugin && startPlugin.focusHide();\n    this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n    this.find(\".xg-cur\").innerHTML = util.format(time);\n    this.find(\".xg-curbar\").style.width = `${time / this.duration * 100}%`;\n    if (isForward) {\n      util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n    } else {\n      util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n    }\n    this.updateThumbnails(time);\n  }\n  updateThumbnails(time) {\n    const { player } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n    }\n  }\n  switchPlayPause() {\n    const { player } = this;\n    if (player.state < STATES.ATTACHED) {\n      return false;\n    } else if (!player.ended) {\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }\n  disableGesture() {\n    this.config.disableGesture = false;\n  }\n  enableGesture() {\n    this.config.disableGesture = true;\n  }\n  destroy() {\n    const { player } = this;\n    this.timer && clearTimeout(this.timer);\n    this.thumbnail = null;\n    player.root.removeChild(this.xgMask);\n    this.xgMask = null;\n    this.touch && this.touch.destroy();\n    this.touch = null;\n    player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n    player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n  }\n  render() {\n    const className = this.config.gradient !== \"normal\" ? `gradient ${this.config.gradient}` : \"gradient\";\n    return `\n     <xg-trigger class=\"trigger\">\n     <div class=\"${className}\"></div>\n        <div class=\"time-preview\">\n            <div class=\"xg-seek-show ${this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\"}\">\n              <i class=\"xg-seek-icon\"></i>\n              <span class=\"xg-cur\">00:00</span>\n              <span class=\"xg-separator\">/</span>\n              <span class=\"xg-dur\">00:00</span>\n            </div>\n              <div class=\"xg-bar xg-timebar\">\n                <div class=\"xg-curbar\"></div>\n              </div>\n        </div>\n        <div class=\"xg-playbackrate xg-top-note\">\n            <span><i>${this.config.pressRate}X</i>${this.i18n.FORWARD}</span>\n        </div>\n     </xg-trigger>\n    `;\n  }\n}\nexport { MobilePlugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  const tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nclass Keyboard extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onBodyKeyDown\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      const e = event || window.event;\n      const keyCode = e.keyCode;\n      const { _keyState, player } = this;\n      const { disable, disableBodyTrigger, isIgnoreUserActive } = this.config;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || this.config.isGlobalTrigger && !isDisableTag(e.target)) && this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && this.handleKeyDown(e);\n    });\n    __publicField(this, \"onBodyKeyUp\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n      this.handleKeyUp(event);\n    });\n    __publicField(this, \"onKeydown\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      const e = event || window.event;\n      const { _keyState } = this;\n      if (!e.repeat) {\n        if (this.config.disable || this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || this.checkCode(e.keyCode)) && (e.target === this.player.root || e.target === this.player.video || e.target === this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        this.player.root.addEventListener(\"keyup\", this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      this.handleKeyDown(e);\n    });\n    __publicField(this, \"onKeyup\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      this.handleKeyUp(event);\n    });\n  }\n  static get pluginName() {\n    return \"keyboard\";\n  }\n  static get defaultConfig() {\n    return {\n      seekStep: 10,\n      checkVisible: false,\n      disableBodyTrigger: false,\n      disableRootTrigger: false,\n      isGlobalTrigger: true,\n      keyCodeMap: {},\n      disable: false,\n      playbackRate: 2,\n      isIgnoreUserActive: true\n    };\n  }\n  mergekeyCodeMap() {\n    const extendkeyCodeMap = this.config.keyCodeMap;\n    if (extendkeyCodeMap) {\n      Object.keys(extendkeyCodeMap).map((key) => {\n        if (!this.keyCodeMap[key]) {\n          this.keyCodeMap[key] = extendkeyCodeMap[key];\n        } else {\n          [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map((key1) => {\n            extendkeyCodeMap[key][key1] && (this.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n          });\n        }\n      });\n    }\n  }\n  afterCreate() {\n    this.config.disable = !this.playerConfig.keyShortcut;\n    const seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n    if (!(!seekStep || typeof seekStep !== \"number\")) {\n      this.seekStep = seekStep;\n    }\n    this.keyCodeMap = {\n      space: {\n        keyCode: 32,\n        action: \"playPause\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: false\n      },\n      up: {\n        keyCode: 38,\n        action: \"upVolume\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: true\n      },\n      down: {\n        keyCode: 40,\n        action: \"downVolume\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: true\n      },\n      left: {\n        keyCode: 37,\n        action: \"seekBack\",\n        disablePress: false,\n        disable: false\n      },\n      right: {\n        keyCode: 39,\n        action: \"seek\",\n        pressAction: \"changePlaybackRate\",\n        disablePress: false,\n        disable: false\n      },\n      esc: {\n        keyCode: 27,\n        action: \"exitFullscreen\",\n        disablePress: true,\n        disable: false\n      }\n    };\n    this.mergekeyCodeMap();\n    this._keyState = {\n      isKeyDown: false,\n      isBodyKeyDown: false,\n      isPress: false,\n      tt: 0,\n      playbackRate: 0\n    };\n    this.player.root.addEventListener(\"keydown\", this.onKeydown);\n    document.addEventListener(\"keydown\", this.onBodyKeyDown);\n  }\n  setConfig(newConfig) {\n    Object.keys(newConfig).forEach((key) => {\n      this.config[key] = newConfig[key];\n    });\n  }\n  checkIsVisible() {\n    if (!this.config.checkVisible) {\n      return true;\n    }\n    const rec = this.player.root.getBoundingClientRect();\n    const { height, top, bottom } = rec;\n    const h = window.innerHeight;\n    if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n      return false;\n    }\n    return true;\n  }\n  checkCode(code, isBodyTarget) {\n    let flag = false;\n    Object.keys(this.keyCodeMap).map((key) => {\n      if (this.keyCodeMap[key] && code === this.keyCodeMap[key].keyCode && !this.keyCodeMap[key].disable) {\n        flag = !isBodyTarget || isBodyTarget && !this.keyCodeMap[key].noBodyTarget;\n      }\n    });\n    return flag;\n  }\n  downVolume(event) {\n    const { player } = this;\n    if (player.volume <= 0) {\n      return;\n    }\n    const val = parseFloat((player.volume - 0.1).toFixed(1));\n    const props = {\n      volume: {\n        from: player.volume,\n        to: val\n      }\n    };\n    this.emitUserAction(event, \"change_volume\", { props });\n    if (val >= 0) {\n      player.volume = val;\n    } else {\n      player.volume = 0;\n    }\n  }\n  upVolume(event) {\n    const { player } = this;\n    if (player.volume >= 1) {\n      return;\n    }\n    const val = parseFloat((player.volume + 0.1).toFixed(1));\n    const props = {\n      volume: {\n        from: player.volume,\n        to: val\n      }\n    };\n    this.emitUserAction(event, \"change_volume\", { props });\n    if (val <= 1) {\n      player.volume = val;\n    } else {\n      player.volume = 1;\n    }\n  }\n  seek(event) {\n    const { currentTime, offsetCurrentTime, duration, offsetDuration, timeSegments } = this.player;\n    let _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n    const _duration = offsetDuration || duration;\n    const _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n    if (_time + _step <= _duration) {\n      _time = _time + _step;\n    } else {\n      _time = _duration;\n    }\n    const _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n    const props = {\n      currentTime: {\n        from: currentTime,\n        to: _seekTime\n      }\n    };\n    this.emitUserAction(event, \"seek\", { props });\n    this.player.currentTime = _seekTime;\n  }\n  seekBack(event) {\n    const { currentTime, offsetCurrentTime, timeSegments } = this.player;\n    const _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n    const _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n    let _seekTime = _time - _step;\n    if (_seekTime < 0) {\n      _seekTime = 0;\n    }\n    _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n    const props = {\n      currentTime: {\n        from: currentTime,\n        to: _seekTime\n      }\n    };\n    this.emitUserAction(event, \"seek\", { props });\n    this.player.currentTime = _seekTime;\n  }\n  changePlaybackRate(event) {\n    const { _keyState, config, player } = this;\n    if (_keyState.playbackRate === 0) {\n      _keyState.playbackRate = player.playbackRate;\n      player.playbackRate = config.playbackRate;\n    }\n  }\n  playPause(event) {\n    const { player } = this;\n    if (!player) {\n      return;\n    }\n    this.emitUserAction(event, \"switch_play_pause\");\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n  exitFullscreen(event) {\n    const { player } = this;\n    const { fullscreen, cssfullscreen } = player;\n    if (fullscreen) {\n      this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n        prop: \"fullscreen\",\n        from: fullscreen,\n        to: !fullscreen\n      });\n      player.exitFullscreen();\n    }\n    if (cssfullscreen) {\n      this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n        prop: \"cssfullscreen\",\n        from: cssfullscreen,\n        to: !cssfullscreen\n      });\n      player.exitCssFullscreen();\n    }\n  }\n  handleKeyDown(e) {\n    const { _keyState } = this;\n    if (e.repeat) {\n      _keyState.isPress = true;\n      const _t = Date.now();\n      if (_t - _keyState.tt < 200) {\n        return;\n      }\n      _keyState.tt = _t;\n    }\n    this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n  }\n  handleKeyUp(e) {\n    const { _keyState } = this;\n    if (_keyState.playbackRate > 0) {\n      this.player.playbackRate = _keyState.playbackRate;\n      _keyState.playbackRate = 0;\n    }\n    _keyState.isKeyDown = false;\n    _keyState.isPress = false;\n    _keyState.tt = 0;\n  }\n  handleKeyCode(curKeyCode, event, isPress) {\n    const arr = Object.keys(this.keyCodeMap);\n    for (let i = 0; i < arr.length; i++) {\n      const { action, keyCode, disable, pressAction, disablePress } = this.keyCodeMap[arr[i]];\n      if (keyCode === curKeyCode) {\n        if (!disable && !(isPress && disablePress)) {\n          const _action = !isPress ? action : pressAction || action;\n          if (typeof _action === \"function\") {\n            action(event, this.player, isPress);\n          } else if (typeof _action === \"string\") {\n            if (typeof this[_action] === \"function\") {\n              this[_action](event, this.player, isPress);\n            }\n          }\n          this.emit(SHORTCUT, {\n            key: arr[i],\n            target: event.target,\n            isPress,\n            ...this.keyCodeMap[arr[i]]\n          });\n        }\n        preventDefault(event);\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n  destroy() {\n    this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n    document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n    this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n    document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n  }\n  disable() {\n    this.config.disable = true;\n  }\n  enable() {\n    this.config.disable = false;\n  }\n}\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nclass Loading extends Plugin {\n  static get pluginName() {\n    return \"loading\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.ROOT\n    };\n  }\n  registerIcons() {\n    return {\n      loadingIcon\n    };\n  }\n  afterCreate() {\n    this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n  }\n  render() {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>`;\n  }\n}\nexport { Loading as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nconst TPL = [\n  { tag: \"xg-cache\", className: \"xgplayer-progress-cache\", styleKey: \"cachedColor\" },\n  { tag: \"xg-played\", className: \"xgplayer-progress-played\", styleKey: \"playedColor\" }\n];\nclass InnerList {\n  constructor(args) {\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({ percent: 1 });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  updateDuration(duration) {\n    this.duration = duration;\n    let start = 0;\n    const { fragments } = this;\n    this.fragments = fragments.map((item) => {\n      item.start = parseInt(start, 10);\n      item.end = parseInt(start + item.percent * this.duration, 10);\n      item.duration = parseInt(item.percent * this.duration, 10);\n      start += item.percent * this.duration;\n      return item;\n    });\n  }\n  updateProgress(type = \"played\", data = { newIndex: 0, curIndex: 0, millisecond: 0 }) {\n    const { progressList, fragments } = this;\n    if (progressList.length < 1) {\n      return;\n    }\n    const { newIndex, curIndex, millisecond } = data;\n    if (newIndex !== curIndex) {\n      progressList.map((item, index) => {\n        if (index < newIndex) {\n          item[type].style.width = \"100%\";\n        } else if (index > newIndex) {\n          item[type].style.width = 0;\n        }\n      });\n    }\n    const curPFrag = fragments[newIndex];\n    const per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n    progressList[newIndex][type].style.width = per < 0 ? 0 : `${per * 100}%`;\n  }\n  updateFocus(data) {\n    if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n      return;\n    }\n    if (!data) {\n      if (this.focusIndex > -1) {\n        this.unHightLight(this.focusIndex);\n        const _data = {\n          index: -1,\n          preIndex: this.focusIndex,\n          fragment: null\n        };\n        this._callBack && this._callBack(_data);\n        this.focusIndex = -1;\n      }\n      return;\n    }\n    const newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n    if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n      this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n      this.setHightLight(newPIndex);\n      const _data = {\n        index: newPIndex,\n        preIndex: this.focusIndex,\n        fragment: this.fragments[this.focusIndex]\n      };\n      this.focusIndex = newPIndex;\n      this._callBack && this._callBack(_data);\n    }\n  }\n  update(data = { cached: 0, played: 0 }, duration) {\n    if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n      if (!duration && duration !== 0) {\n        return;\n      }\n      this.updateDuration(parseInt(duration * 1e3, 10));\n    }\n    const { playedIndex, cachedIndex } = this;\n    if (util.typeOf(data.played) !== \"Undefined\") {\n      const newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n      if (newPIndex < 0) {\n        return;\n      }\n      this.updateProgress(\"played\", {\n        newIndex: newPIndex,\n        curIndex: playedIndex,\n        millisecond: parseInt(data.played * 1e3, 10)\n      });\n      this.playedIndex = newPIndex;\n    }\n    if (util.typeOf(data.cached) !== \"Undefined\") {\n      const newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n      if (newCIndex < 0) {\n        return;\n      }\n      this.updateProgress(\"cached\", {\n        newIndex: newCIndex,\n        curIndex: cachedIndex,\n        millisecond: parseInt(data.cached * 1e3, 10)\n      });\n      this.cachedIndex = newCIndex;\n    }\n  }\n  findIndex(time, curIndex) {\n    const { fragments } = this;\n    if (!fragments || fragments.length === 0) {\n      return -1;\n    }\n    if (fragments.length === 1) {\n      return 0;\n    }\n    if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n      return curIndex;\n    }\n    if (time > fragments[fragments.length - 1].start) {\n      return fragments.length - 1;\n    }\n    for (let i = 0; i < fragments.length; i++) {\n      if (time > fragments[i].start && time <= fragments[i].end) {\n        curIndex = i;\n        break;\n      }\n    }\n    return curIndex;\n  }\n  findHightLight() {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n        return {\n          dom: children[i],\n          pos: children[i].getBoundingClientRect()\n        };\n      }\n    }\n  }\n  findFragment(index) {\n    const children = this.root.children;\n    if (index < 0 || index >= children.length) {\n      return null;\n    }\n    return {\n      dom: children[index],\n      pos: children[index].getBoundingClientRect()\n    };\n  }\n  unHightLight() {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      util.removeClass(children[i], this.fragConfig.fragFocusClass);\n    }\n  }\n  setHightLight(index) {\n    const children = this.root.children;\n    if (index < children.length) {\n      util.addClass(children[index], this.fragConfig.fragFocusClass);\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }\n  destroy() {\n    this.progressList = null;\n    this.fragments = null;\n    this.root.innerHTML = \"\";\n  }\n  reset(newOptions) {\n    Object.keys(this.fragConfig).forEach((key) => {\n      if (newOptions[key] !== void 0) {\n        this.fragConfig[key] = newOptions[key];\n      }\n    });\n    if (newOptions.fragments) {\n      this.fragments = newOptions.fragments.length === 0 ? [{ percent: 1 }] : newOptions.fragments;\n      this.updateDuration(this.duration);\n      this.playedIndex = 0;\n      this.cachedIndex = 0;\n      if (this.root) {\n        const _c = this.root.children;\n        while (_c.length > 0) {\n          this.root.removeChild(_c[0]);\n        }\n      }\n      this.render();\n    }\n  }\n  render() {\n    const { progressColor } = this.style;\n    if (!this.root) {\n      this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n    }\n    if (this.fragments) {\n      const { fragClass, fragFocusClass } = this.fragConfig;\n      this.progressList = this.fragments.map((item) => {\n        const inner = util.createDom(\"xg-inner\", \"\", {\n          style: progressColor ? `background:${progressColor}; flex: ${item.percent}` : `flex: ${item.percent}`\n        }, `${item.isFocus ? fragFocusClass : \"\"} xgplayer-progress-inner ${fragClass}`);\n        this.root.appendChild(inner);\n        TPL.forEach((item2) => {\n          inner.appendChild(util.createDom(item2.tag, \"\", {\n            style: item2.styleKey ? `background: ${this.style[item2.styleKey]}; width:0;` : \"width:0;\"\n          }, item2.className));\n        });\n        return {\n          cached: inner.children[0],\n          played: inner.children[1]\n        };\n      });\n    }\n    return this.root;\n  }\n}\nexport { InnerList as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nconst FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nclass Progress extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onMoveOnly\", (e, data) => {\n      const { pos, config, player } = this;\n      let ret = data;\n      if (e) {\n        util.event(e);\n        const _ePos = util.getEventPos(e, player.zoom);\n        const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = this.computeTime(e, x);\n      }\n      this.triggerCallbacks(\"dragmove\", ret, e);\n      this._updateInnerFocus(ret);\n    });\n    __publicField(this, \"onBodyClick\", (e) => {\n      if (!this.pos.isLocked) {\n        return;\n      }\n      this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    __publicField(this, \"_mouseDownHandler\", (event, data) => {\n      this._state.time = data.currentTime;\n      this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      this._updateInnerFocus(data);\n    });\n    __publicField(this, \"_mouseUpHandler\", (e, data) => {\n      const { pos } = this;\n      pos.moving && this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    __publicField(this, \"_mouseMoveHandler\", (e, data) => {\n      const { _state, pos, config, player } = this;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        this.triggerCallbacks(\"dragstart\", data, e);\n        this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      this.triggerCallbacks(\"dragmove\", data, e);\n      this._updateInnerFocus(data);\n    });\n    __publicField(this, \"onMouseDown\", (e) => {\n      const { _state, player, pos, config, playerConfig } = this;\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({ autoHide: false });\n      this.isProgressMoving = true;\n      util.addClass(this.progressBtn, \"active\");\n      const ret = this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      this._mouseDownHandlerHook(e, ret);\n      const eventType = e.type;\n      if (eventType === \"touchstart\") {\n        this.root.addEventListener(\"touchmove\", this.onMouseMove);\n        this.root.addEventListener(\"touchend\", this.onMouseUp);\n        this.root.addEventListener(\"touchcancel\", this.onMouseUp);\n      } else {\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        document.addEventListener(\"mousemove\", this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", this.onMouseUp, false);\n      }\n      return true;\n    });\n    __publicField(this, \"onMouseUp\", (e) => {\n      const { player, config, pos, playerConfig, _state } = this;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(this.progressBtn, \"active\");\n      const ret = this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        this.triggerCallbacks(\"dragend\", ret, e);\n        this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        this.triggerCallbacks(\"click\", ret, e);\n        this.emitUserAction(\"click\", \"click\", ret);\n      }\n      this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      const eventType = e.type;\n      if (eventType === \"touchend\" || eventType === \"touchcancel\") {\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n        this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        if (!pos.isEnter) {\n          this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && this.bind(\"mousemove\", this.onMoveOnly);\n        }\n      }\n      util.setTimeout(this, () => {\n        this.resetSeekState();\n      }, 10);\n      player.focus();\n    });\n    __publicField(this, \"onMouseMove\", (e) => {\n      const { _state, pos, player, config } = this;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      const diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      const ret = this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      this._mouseMoveHandlerHook(e, ret);\n    });\n    __publicField(this, \"onMouseOut\", (e) => {\n      this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    __publicField(this, \"onMouseOver\", (e) => {\n      this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { player, pos } = this;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      this.bind(\"mousemove\", this.onMoveOnly);\n      this.bind(\"mouseleave\", this.onMouseLeave);\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      const ret = this.computeTime(e, x);\n      this.triggerCallbacks(\"mouseenter\", ret, e);\n      this.focus();\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      this.triggerCallbacks(\"mouseleave\", null, e);\n      this.unlock();\n      this._updateInnerFocus(null);\n    });\n    __publicField(this, \"onVideoResize\", () => {\n      const { x, isDown, isEnter } = this.pos;\n      if (isEnter && !isDown) {\n        const ret = this.computeTime(null, x);\n        this.onMoveOnly(null, ret);\n      }\n    });\n    this.useable = false;\n    this.isProgressMoving = false;\n    this.__dragCallBacks = [];\n    this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    this._disableBlur = false;\n  }\n  static get pluginName() {\n    return \"progress\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_CENTER,\n      index: 0,\n      disable: false,\n      isDragingSeek: true,\n      closeMoveSeek: false,\n      isPauseMoving: false,\n      isCloseClickSeek: false,\n      fragments: [{ percent: 1 }],\n      fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n      fragClass: \"\",\n      fragAutoFocus: false,\n      miniMoveStep: 5,\n      miniStartStep: 2,\n      onMoveStart: () => {\n      },\n      onMoveEnd: () => {\n      },\n      endedDiff: 0.2\n    };\n  }\n  static get FRAGMENT_FOCUS_CLASS() {\n    return FRAGMENT_FOCUS_CLASS;\n  }\n  get offsetDuration() {\n    return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n  }\n  get duration() {\n    return this.playerConfig.customDuration || this.player.duration;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n  }\n  changeState(useable = true) {\n    this.useable = useable;\n  }\n  show(value) {\n    this.root && (this.root.style.display = \"flex\");\n  }\n  _initInner(fragments = [], config = {}) {\n    if (!fragments || fragments.length === 0) {\n      fragments = [{ percent: 1 }];\n    }\n    const _c = {\n      fragments,\n      ...config,\n      actionCallback: (data) => {\n        this.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n      }\n    };\n    if (!this.innerList) {\n      this.innerList = new InnerList(_c);\n      this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n      [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map((item) => {\n        this[item] = this.innerList[item].bind(this.innerList);\n      });\n    } else {\n      this.innerList.reset(_c);\n    }\n  }\n  _updateInnerFocus(data) {\n    this.innerList && this.innerList.updateFocus(data);\n  }\n  afterCreate() {\n    if (this.config.disable || this.playerConfig.isLive) {\n      return;\n    }\n    this.pos = {\n      x: 0,\n      y: 0,\n      moving: false,\n      isDown: false,\n      isEnter: false,\n      isLocked: false\n    };\n    this.outer = this.find(\"xg-outer\");\n    const { fragFocusClass, fragAutoFocus, fragClass } = this.config;\n    this._initInner(this.config.fragments, { fragFocusClass, fragAutoFocus, fragClass, style: this.playerConfig.commonStyle || {} });\n    if (sniffer.device === \"mobile\") {\n      this.config.isDragingSeek = false;\n      this.isMobile = true;\n    }\n    this.progressBtn = this.find(\".xgplayer-progress-btn\");\n    this.on(DURATION_CHANGE, () => {\n      this.onMouseLeave();\n    });\n    this.on(TIME_UPDATE, () => {\n      this.onTimeupdate();\n    });\n    this.on(SEEKED, () => {\n      this.onTimeupdate();\n      this.onCacheUpdate();\n    });\n    this.on(PROGRESS, () => {\n      this.onCacheUpdate();\n    });\n    this.on(ENDED, () => {\n      this.onCacheUpdate(true);\n      this.onTimeupdate(true);\n      this._state.now = 0;\n    });\n    this.on(EMPTIED, () => {\n      this.onReset();\n    });\n    this.on(VIDEO_RESIZE, () => {\n      this.onVideoResize();\n    });\n    this.bindDomEvents();\n    this.initCustomStyle();\n  }\n  setConfig(config) {\n    let frags = null;\n    Object.keys(config).forEach((key) => {\n      this.config[key] = config[key];\n      if (key === \"fragments\") {\n        frags = config[key];\n      }\n    });\n    if (frags) {\n      this._initInner(frags, config);\n    }\n  }\n  initCustomStyle() {\n    const { commonStyle } = this.playerConfig || {};\n    const { sliderBtnStyle } = commonStyle;\n    const { progressBtn } = this;\n    if (sliderBtnStyle) {\n      if (typeof sliderBtnStyle === \"string\") {\n        progressBtn.style.boxShadow = sliderBtnStyle;\n      } else if (typeof sliderBtnStyle === \"object\") {\n        Object.keys(sliderBtnStyle).map((key) => {\n          progressBtn.style[key] = sliderBtnStyle[key];\n        });\n      }\n    }\n  }\n  triggerCallbacks(type, data, event) {\n    if (this.__dragCallBacks.length > 0) {\n      this.__dragCallBacks.map((item) => {\n        if (item && item.handler && item.type === type) {\n          try {\n            item.handler(data, event);\n          } catch (error) {\n            console.error(`[XGPLAYER][triggerCallbacks] ${item} error`, error);\n          }\n        }\n      });\n    }\n  }\n  addCallBack(type, handle) {\n    if (handle && typeof handle === \"function\") {\n      this.__dragCallBacks.push({ type, handler: handle });\n    }\n  }\n  removeCallBack(type, event) {\n    const { __dragCallBacks } = this;\n    let _index = -1;\n    __dragCallBacks.map((item, index) => {\n      if (item && item.type === type && item.handler === event) {\n        _index = index;\n      }\n    });\n    if (_index > -1) {\n      __dragCallBacks.splice(_index, 1);\n    }\n  }\n  unlock() {\n    const { player, pos } = this;\n    pos.isEnter = false;\n    pos.isLocked = false;\n    if (player.isMini) {\n      return;\n    }\n    this.unbind(\"mousemove\", this.onMoveOnly);\n    if (pos.isDown) {\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n      return;\n    }\n    this.blur();\n  }\n  bindDomEvents() {\n    const { controls, config } = this.player;\n    this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n    this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n    this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n    if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n      this.root.addEventListener(\"touchstart\", this.onMouseDown);\n      if (controls) {\n        controls.root && controls.root.addEventListener(\"touchmove\", util.stopPropagation);\n        controls.center && controls.center.addEventListener(\"touchend\", util.stopPropagation);\n      }\n    }\n    if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n      this.bind(\"mousedown\", this.onMouseDown);\n      config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n      this.bind(\"mouseover\", this.onMouseOver);\n      this.bind(\"mouseout\", this.onMouseOut);\n      this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n    }\n  }\n  focus() {\n    this.player.controls.pauseAutoHide();\n    util.addClass(this.root, \"active\");\n  }\n  blur() {\n    if (this._disableBlur) {\n      return;\n    }\n    this.player.controls.recoverAutoHide();\n    util.removeClass(this.root, \"active\");\n  }\n  disableBlur() {\n    this._disableBlur = true;\n  }\n  enableBlur() {\n    this._disableBlur = false;\n  }\n  updateWidth(currentTime, seekTime, percent, type) {\n    const { config, player } = this;\n    if (config.isCloseClickSeek && type === 0) {\n      return;\n    }\n    const realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n    this.updatePercent(percent);\n    this.updateTime(currentTime);\n    if (type === 1 && (!config.isDragingSeek || player.config.mediaType === \"audio\")) {\n      return;\n    }\n    this._state.now = realTime;\n    this._state.direc = realTime > player.currentTime ? 0 : 1;\n    player.seek(realTime);\n  }\n  computeTime(e, x) {\n    const { player } = this;\n    const { width, height, top, left } = this.root.getBoundingClientRect();\n    let rWidth, rLeft;\n    const clientX = x;\n    if (player.rotateDeg === 90) {\n      rWidth = height;\n      rLeft = top;\n    } else {\n      rWidth = width;\n      rLeft = left;\n    }\n    let offset = clientX - rLeft;\n    offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n    let percent = offset / rWidth;\n    percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n    const currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n    const seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n    return {\n      percent,\n      currentTime,\n      seekTime,\n      offset,\n      width: rWidth,\n      left: rLeft,\n      e\n    };\n  }\n  updateTime(time) {\n    const { player, duration } = this;\n    if (time > duration) {\n      time = duration;\n    } else if (time < 0) {\n      time = 0;\n    }\n    const timeIcon = player.plugins.time;\n    if (timeIcon) {\n      timeIcon.updateTime(time);\n    }\n  }\n  resetSeekState() {\n    this.isProgressMoving = false;\n    const timeIcon = this.player.plugins.time;\n    timeIcon && timeIcon.resetActive();\n  }\n  updatePercent(percent, notSeek) {\n    this.isProgressMoving = true;\n    if (this.config.disable) {\n      return;\n    }\n    percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n    this.progressBtn.style.left = `${percent * 100}%`;\n    this.innerList.update({ played: percent * this.offsetDuration }, this.offsetDuration);\n    const { miniprogress } = this.player.plugins;\n    miniprogress && miniprogress.update({ played: percent * this.offsetDuration }, this.offsetDuration);\n  }\n  onTimeupdate(isEnded) {\n    const { player, _state, offsetDuration } = this;\n    if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n      return;\n    }\n    if (_state.now > -1) {\n      const abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n      if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n        _state.now = -1;\n        return;\n      } else {\n        _state.now = -1;\n      }\n    }\n    let time = this.currentTime;\n    time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n    this.innerList.update({ played: time }, offsetDuration);\n    this.progressBtn.style.left = `${time / offsetDuration * 100}%`;\n  }\n  onCacheUpdate(isEnded) {\n    const { player, duration } = this;\n    if (!player) {\n      return;\n    }\n    let _end = player.bufferedPoint.end;\n    _end = util.adjustTimeByDuration(_end, duration, isEnded);\n    this.innerList.update({ cached: _end }, duration);\n  }\n  onReset() {\n    this.innerList.update({ played: 0, cached: 0 }, 0);\n    this.progressBtn.style.left = \"0%\";\n  }\n  destroy() {\n    const { player } = this;\n    const { controls } = player;\n    this.thumbnailPlugin = null;\n    this.innerList.destroy();\n    this.innerList = null;\n    const { domEventType } = this;\n    if (domEventType === \"touch\" || domEventType === \"compatible\") {\n      this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n      this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n      this.root.removeEventListener(\"touchend\", this.onMouseUp);\n      this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n      if (controls) {\n        controls.root && controls.root.removeEventListener(\"touchmove\", util.stopPropagation);\n        controls.center && controls.center.removeEventListener(\"touchend\", util.stopPropagation);\n      }\n    }\n    if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n      this.unbind(\"mousedown\", this.onMouseDown);\n      this.unbind(\"mouseenter\", this.onMouseEnter);\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      player.root.removeEventListener(\"click\", this.onBodyClick, true);\n    }\n  }\n  render() {\n    if (this.config.disable || this.playerConfig.isLive) {\n      return;\n    }\n    const controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n    const className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n    return `\n    <xg-progress class=\"xgplayer-progress ${className}\">\n      <xg-outer class=\"xgplayer-progress-outer\">\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    `;\n  }\n}\nexport { Progress as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Icon extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onMouseenter\", (e) => {\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"_onMouseLeave\", (e) => {\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n    });\n  }\n  afterCreate() {\n    this.bind(\"mouseenter\", this._onMouseenter);\n    this.bind(\"mouseleave\", this._onMouseLeave);\n    if (this.config.disable) {\n      this.disable();\n    }\n  }\n  destroy() {\n    this.unbind(\"mouseenter\", this._onMouseenter);\n    this.unbind(\"mouseleave\", this._onMouseLeave);\n  }\n}\nexport { Icon as default };\n","import \"../../utils/util.js\";\nimport { PAUSE, ERROR, EMPTIED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nclass Play extends Icon {\n  static get pluginName() {\n    return \"play\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 0,\n      disable: false\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    const { player, config } = this;\n    if (config.disable) {\n      return;\n    }\n    this.initIcons();\n    this.btnClick = this.btnClick.bind(this);\n    this.bind([\"touchend\", \"click\"], this.btnClick);\n    this.on([PAUSE, ERROR, EMPTIED], () => {\n      this.animate(player.paused);\n    });\n    this.on(PLAY, () => {\n      this.animate(player.paused);\n    });\n    this.animate(true);\n  }\n  registerIcons() {\n    return {\n      play: { icon: PlaySvg, class: \"xg-icon-play\" },\n      pause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  btnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { player } = this;\n    this.emitUserAction(e, \"switch_play_pause\", { prop: \"paused\", from: player.paused, to: !player.paused });\n    if (player.ended) {\n      player.replay();\n    } else if (player.paused) {\n      player.play();\n      this.animate(false);\n    } else {\n      player.pause();\n      this.animate(true);\n    }\n    return false;\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.play);\n    this.appendChild(\".xgplayer-icon\", icons.pause);\n  }\n  animate(paused) {\n    if (!this.player) {\n      return;\n    }\n    const { i18nKeys } = this;\n    const tipDom = this.find(\".xg-tips\");\n    if (paused) {\n      this.setAttr(\"data-state\", \"pause\");\n      tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n    } else {\n      this.setAttr(\"data-state\", \"play\");\n      tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"touchend\", \"click\"], this.btnClick);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nclass TopBackIcon extends Plugin {\n  static get pluginName() {\n    return \"topbackicon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.ROOT_TOP,\n      index: 0\n    };\n  }\n  afterCreate() {\n    this.initIcons();\n    this.onClick = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.config.onClick(e);\n    };\n    this.bind([\"click\", \"touchend\"], this.onClick);\n  }\n  registerIcons() {\n    return {\n      screenBack: { icon: BackSVG, class: \"xg-fullscreen-back\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(this.root, icons.screenBack);\n  }\n  show() {\n    util.addClass(this.root, \"show\");\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n  }\n  render() {\n    return `<xg-icon class=\"xgplayer-back\">\n    </xg-icon>`;\n  }\n}\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nclass Fullscreen extends Icon {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onOrientationChange\", (e) => {\n      if (this.player.fullscreen && this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          this.player.setRotateDeg(0);\n        } else {\n          this.player.setRotateDeg(90);\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"fullscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 0,\n      useCssFullscreen: false,\n      rotateFullscreen: false,\n      useScreenOrientation: false,\n      lockOrientationType: \"landscape\",\n      switchCallback: null,\n      target: null,\n      disable: false,\n      needBackIcon: false\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    const { config, playerConfig } = this;\n    if (config.disable) {\n      return;\n    }\n    if (config.target) {\n      this.playerConfig.fullscreenTarget = this.config.target;\n    }\n    const fullEl = util.getFullScreenEl();\n    if (playerConfig.fullscreenTarget === fullEl) {\n      this.player.getFullscreen().catch((e) => {\n      });\n    }\n    this.initIcons();\n    this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n      pre: (e) => {\n        const { fullscreen } = this.player;\n        this.emitUserAction(e, \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n      }\n    });\n    this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n    this.on(FULLSCREEN_CHANGE, (isFullScreen) => {\n      const tipsDom = this.find(\".xg-tips\");\n      tipsDom && this.changeLangTextKey(tipsDom, isFullScreen ? this.i18nKeys.EXITFULLSCREEN_TIPS : this.i18nKeys.FULLSCREEN_TIPS);\n      this.animate(isFullScreen);\n    });\n    if (this.config.needBackIcon) {\n      this.topBackIcon = this.player.registerPlugin({\n        plugin: TopBackIcon,\n        options: {\n          config: {\n            onClick: (e) => {\n              this.handleFullscreen(e);\n            }\n          }\n        }\n      });\n    }\n    if (sniffer.device === \"mobile\") {\n      window.addEventListener(\"orientationchange\", this._onOrientationChange);\n    }\n  }\n  registerIcons() {\n    return {\n      fullscreen: { icon: FullScreenSvg, class: \"xg-get-fullscreen\" },\n      exitFullscreen: { icon: ExitFullScreenSvg, class: \"xg-exit-fullscreen\" }\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n    if (sniffer.device === \"mobile\") {\n      window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n    }\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n    this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n  }\n  toggleFullScreen(e) {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    const { player, config } = this;\n    const useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n    if (useCssFullscreen) {\n      if (player.fullscreen) {\n        player.exitCssFullscreen();\n      } else {\n        player.getCssFullscreen();\n      }\n      this.animate(player.fullscreen);\n    } else if (config.rotateFullscreen) {\n      if (player.fullscreen) {\n        player.exitRotateFullscreen();\n      } else {\n        player.getRotateFullscreen();\n      }\n      this.animate(player.fullscreen);\n    } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n      config.switchCallback(player.fullscreen);\n    } else {\n      if (player.fullscreen) {\n        player.exitFullscreen();\n        if (config.useScreenOrientation) {\n          this.unlockScreen();\n        }\n      } else {\n        player.getFullscreen().catch((e2) => {\n        });\n        if (config.useScreenOrientation && player.aspectRatio > 1) {\n          this.lockScreen(config.lockOrientationType);\n        }\n      }\n    }\n  }\n  animate(isFullScreen) {\n    isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n    if (this.topBackIcon) {\n      if (isFullScreen) {\n        this.topBackIcon.show();\n        this.hide();\n      } else {\n        this.topBackIcon.hide();\n        this.show();\n      }\n    }\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const langKey = \"FULLSCREEN_TIPS\";\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, langKey, this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n  lockScreen(orientation) {\n    try {\n      screen.orientation.lock(orientation).catch((e) => {\n      });\n    } catch (e) {\n    }\n  }\n  unlockScreen() {\n    try {\n      screen.orientation.unlock().catch((e) => {\n      });\n    } catch (e) {\n    }\n  }\n}\nexport { Fullscreen as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nclass Time extends Plugin {\n  static get pluginName() {\n    return \"time\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 2,\n      disable: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.isActiving = false;\n  }\n  get duration() {\n    const { offsetDuration, duration } = this.player;\n    return this.playerConfig.customDuration || offsetDuration || duration;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  afterCreate() {\n    const constrolsMode = this.player.controls.config.mode;\n    this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n    if (this.config.disable) {\n      return;\n    }\n    if (this.mode === \"flex\") {\n      this.createCenterTime();\n      this.root.style.display = \"none\";\n    }\n    this.durationDom = this.find(\".time-duration\");\n    this.timeDom = this.find(\".time-current\");\n    this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], (e) => {\n      if (e.eventName === \"durationchange\") {\n        this.isActiving = false;\n      }\n      this.onTimeUpdate();\n    });\n    this.on(ENDED, () => {\n      this.onTimeUpdate(true);\n    });\n    this.on(EMPTIED, () => {\n      this.onReset();\n    });\n  }\n  show(value) {\n    if (this.mode === \"flex\") {\n      this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n      this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n      return;\n    }\n    this.root.style.display = \"block\";\n  }\n  hide() {\n    if (this.mode === \"flex\") {\n      this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n      this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n      return;\n    }\n    this.root.style.display = \"none\";\n  }\n  onTimeUpdate(isEnded) {\n    const { player, config, duration } = this;\n    if (config.disable || this.isActiving || !player.hasStart) {\n      return;\n    }\n    let current = this.currentTime + this.timeOffset;\n    current = util.adjustTimeByDuration(current, duration, isEnded);\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n      if (duration !== Infinity && duration > 0) {\n        this.centerDurDom.innerHTML = util.format(duration);\n      }\n    } else {\n      this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n      if (duration !== Infinity && duration > 0) {\n        this.durationDom.innerHTML = util.format(duration);\n      }\n    }\n  }\n  onReset() {\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n      this.centerDurDom.innerHTML = util.format(0);\n    } else {\n      this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n      this.durationDom.innerHTML = util.format(0);\n    }\n  }\n  createCenterTime() {\n    const { player } = this;\n    if (!player.controls || !player.controls.center) {\n      return;\n    }\n    const center = player.controls.center;\n    this.centerCurDom = util.createDom(\n      \"xg-icon\",\n      \"00:00\",\n      {},\n      \"xgplayer-time xg-time-left\"\n    );\n    this.centerDurDom = util.createDom(\n      \"xg-icon\",\n      \"00:00\",\n      {},\n      \"xgplayer-time xg-time-right\"\n    );\n    center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n    center.appendChild(this.centerDurDom);\n  }\n  afterPlayerInit() {\n    const { config } = this;\n    if (this.duration === Infinity || this.playerConfig.isLive) {\n      util.hide(this.durationDom);\n      util.hide(this.timeDom);\n      util.hide(this.find(\".time-separator\"));\n      util.show(this.find(\".time-live-tag\"));\n    } else {\n      util.hide(this.find(\".time-live-tag\"));\n    }\n    if (config.hide) {\n      this.hide();\n      return;\n    }\n    this.show();\n  }\n  changeLiveState(isLive) {\n    if (isLive) {\n      util.hide(this.durationDom);\n      util.hide(this.timeDom);\n      util.hide(this.find(\".time-separator\"));\n      util.show(this.find(\".time-live-tag\"));\n    } else {\n      util.hide(this.find(\".time-live-tag\"));\n      util.show(this.find(\".time-separator\"));\n      util.show(this.durationDom);\n      util.show(this.timeDom);\n    }\n  }\n  updateTime(time) {\n    this.isActiving = true;\n    if (!time && time !== 0 || time > this.duration) {\n      return;\n    }\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n      return;\n    }\n    this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n  }\n  minWidthTime(timeStr) {\n    return timeStr.split(\":\").map((value) => `<span class=\"time-min-width\">${value}</span>`).join(\":\");\n  }\n  resetActive() {\n    const { player } = this;\n    const updateState = () => {\n      this.isActiving = false;\n    };\n    this.off(SEEKED, updateState);\n    if (player.isSeeking && player.media.seeking) {\n      this.once(SEEKED, updateState);\n    } else {\n      this.isActiving = false;\n    }\n  }\n  destroy() {\n    const { center } = this.player.controls;\n    this.centerCurDom && center.removeChild(this.centerCurDom);\n    this.centerCurDom = null;\n    this.centerDurDom && center.removeChild(this.centerDurDom);\n    this.centerDurDom = null;\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-time\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">${this.i18n.LIVE_TIP}</span>\n    </xg-icon>`;\n  }\n}\nexport { Time as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nclass TimeSegmentsControls extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onDurationChange\", () => {\n      this.updateSegments();\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const index = util.getIndexByTime(currentTime, timeSegments);\n      const time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      this.player.offsetCurrentTime = time;\n      this.changeIndex(index, timeSegments);\n    });\n    __publicField(this, \"_onLoadedData\", () => {\n      const { timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const time = util.getOffsetCurrentTime(0, timeSegments);\n      this.player.offsetCurrentTime = time;\n      this.changeIndex(0, timeSegments);\n      if (this.curPos.start > 0) {\n        this.player.currentTime = this.curPos.start;\n      }\n    });\n    __publicField(this, \"_onTimeupdate\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const _len = timeSegments.length;\n      this.lastCurrentTime = currentTime;\n      const index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== this.curIndex) {\n        this.changeIndex(index, timeSegments);\n      }\n      const curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      this.player.offsetCurrentTime = curTime;\n      if (!this.curPos) {\n        return;\n      }\n      const { start, end } = this.curPos;\n      if (currentTime < start) {\n        this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        this.player.pause();\n      }\n    });\n    __publicField(this, \"_onSeeking\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        const _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          const _seekTime = this.getSeekTime(currentTime, this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    __publicField(this, \"_onPlay\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        this.player.currentTime = timeSegments[0].start;\n      }\n    });\n  }\n  static get pluginName() {\n    return \"TimeSegmentsControls\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: true,\n      segments: []\n    };\n  }\n  afterCreate() {\n    this.curIndex = -1;\n    this.curPos = null;\n    this.lastCurrentTime = 0;\n    this.updateSegments();\n    this.on(DURATION_CHANGE, this._onDurationChange);\n    this.on(LOADED_DATA, this._onLoadedData);\n    this.on(TIME_UPDATE, this._onTimeupdate);\n    this.on(SEEKING, this._onSeeking);\n    this.on(PLAY, this._onPlay);\n  }\n  setConfig(newConfig) {\n    if (!newConfig) {\n      return;\n    }\n    const keys = Object.keys(newConfig);\n    if (keys.length < 1) {\n      return;\n    }\n    keys.forEach((key) => {\n      this.config[key] = newConfig[key];\n    });\n    this.updateSegments();\n  }\n  updateSegments() {\n    const { disable, segments } = this.config;\n    const { player } = this;\n    if (disable || !segments || segments.length === 0) {\n      player.timeSegments = [];\n      player.offsetDuration = 0;\n      player.offsetCurrentTime = -1;\n    } else {\n      const _segs = this.formatTimeSegments(segments, player.duration);\n      player.timeSegments = _segs;\n      player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n    }\n  }\n  formatTimeSegments(timeSegments, duration) {\n    const ret = [];\n    if (!timeSegments) {\n      return [];\n    }\n    timeSegments.sort((a, b) => {\n      return a.start - b.start;\n    });\n    timeSegments.forEach((item, index) => {\n      const _item = {};\n      _item.start = item.start < 0 ? 0 : item.start;\n      _item.end = duration > 0 && item.end > duration ? duration : item.end;\n      if (duration > 0 && _item.start > duration) {\n        return;\n      }\n      ret.push(_item);\n      const _segDuration = _item.end - _item.start;\n      if (index === 0) {\n        _item.offset = item.start;\n        _item.cTime = 0;\n        _item.segDuration = _segDuration;\n        _item.duration = _segDuration;\n      } else {\n        const last = ret[index - 1];\n        _item.offset = last.offset + (_item.start - last.end);\n        _item.cTime = last.duration + last.cTime;\n        _item.segDuration = _segDuration;\n        _item.duration = last.duration + _segDuration;\n      }\n    });\n    return ret;\n  }\n  getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n    let _time = -1;\n    const { start, end } = timeSegments[index];\n    if (currentTime >= start && currentTime <= end) {\n      return _time;\n    }\n    const diff = currentTime - lastCurrentTime;\n    if (diff < 0) {\n      if (currentTime < start) {\n        const diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n        _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n        return _time;\n      }\n    }\n    return -1;\n  }\n  _checkIfEnabled(segments) {\n    return !(!segments || segments.length < 1);\n  }\n  changeIndex(index, timeSegments) {\n    this.curIndex = index;\n    if (index >= 0 && timeSegments.length > 0) {\n      this.curPos = timeSegments[index];\n    } else {\n      this.curPos = null;\n    }\n  }\n}\nexport { TimeSegmentsControls as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nclass Volume extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onBarMousedown\", (e) => {\n      const { player } = this;\n      const bar = this.find(\".xgplayer-bar\");\n      util.event(e);\n      const barRect = bar.getBoundingClientRect();\n      const pos = util.getEventPos(e, player.zoom);\n      const height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", this.onBarMouseUp);\n      this._d.isStart = true;\n      return false;\n    });\n    __publicField(this, \"onBarMouseMove\", (e) => {\n      const { _d } = this;\n      if (!_d.isStart) {\n        return;\n      }\n      const { pos, player } = this;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      const w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      this.updateVolumePos(w, e);\n    });\n    __publicField(this, \"onBarMouseUp\", (e) => {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      const { _d } = this;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    __publicField(this, \"onMouseenter\", (e) => {\n      this._d.isActive = true;\n      this.focus();\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"onMouseleave\", (e) => {\n      this._d.isActive = false;\n      this.unFocus(100, false, e);\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"onVolumeChange\", (e) => {\n      if (!this.player) {\n        return;\n      }\n      const { muted, volume } = this.player;\n      if (!this._d.isMoving) {\n        this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : `${volume * 100}%`;\n        if (this.config.showValueLabel) {\n          this.updateVolumeValue();\n        }\n      }\n      this.animate(muted, volume);\n    });\n  }\n  static get pluginName() {\n    return \"volume\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 1,\n      disable: false,\n      showValueLabel: false,\n      default: 0.6,\n      miniVolume: 0.2\n    };\n  }\n  registerIcons() {\n    return {\n      volumeSmall: { icon: volumeSmallSvg, class: \"xg-volume-small\" },\n      volumeLarge: { icon: volumeLargeSvg, class: \"xg-volume\" },\n      volumeMuted: { icon: volumeMutedSvg, class: \"xg-volume-mute\" }\n    };\n  }\n  afterCreate() {\n    this._timerId = null;\n    this._d = {\n      isStart: false,\n      isMoving: false,\n      isActive: false\n    };\n    if (this.config.disable) {\n      return;\n    }\n    this.initIcons();\n    const { commonStyle, volume } = this.playerConfig;\n    if (commonStyle.volumeColor) {\n      this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n    }\n    this.changeMutedHandler = this.hook(\"mutedChange\", (e) => {\n      this.changeMuted(e);\n    }, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n    this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n    if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n      this.bind(\"mouseenter\", this._onMouseenterHandler);\n      this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n      this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n    }\n    this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n    this.on(VOLUME_CHANGE, this.onVolumeChange);\n    this.once(LOADED_DATA, this.onVolumeChange);\n    if (util.typeOf(volume) !== \"Number\") {\n      this.player.volume = this.config.default;\n    }\n    this.onVolumeChange();\n  }\n  updateVolumePos(height, event) {\n    const { player } = this;\n    const drag = this.find(\".xgplayer-drag\");\n    const bar = this.find(\".xgplayer-bar\");\n    if (!bar || !drag) {\n      return;\n    }\n    const now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n    drag.style.height = `${height}px`;\n    const to = Math.max(Math.min(now / 1e3, 1), 0);\n    const props = {\n      volume: {\n        from: player.volume,\n        to\n      }\n    };\n    if (player.muted) {\n      props.muted = {\n        from: true,\n        to: false\n      };\n    }\n    this.emitUserAction(event, \"change_volume\", { muted: player.muted, volume: player.volume, props });\n    player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n    player.muted && (player.muted = false);\n    if (this.config.showValueLabel) {\n      this.updateVolumeValue();\n    }\n  }\n  updateVolumeValue() {\n    const { volume, muted } = this.player;\n    const $labelValue = this.find(\".xgplayer-value-label\");\n    const vol = Math.max(Math.min(volume, 1), 0);\n    $labelValue.innerText = muted ? 0 : Math.ceil(vol * 100);\n  }\n  focus() {\n    const { player } = this;\n    player.focus({ autoHide: false });\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    util.addClass(this.root, \"slide-show\");\n  }\n  unFocus(delay = 100, isForce = true, e) {\n    const { _d, player } = this;\n    if (_d.isActive) {\n      return;\n    }\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    this._timerId = util.setTimeout(this, () => {\n      if (!_d.isActive) {\n        isForce ? player.blur() : player.focus();\n        util.removeClass(this.root, \"slide-show\");\n        _d.isStart && this.onBarMouseUp(e);\n      }\n      this._timerId = null;\n    }, delay);\n  }\n  changeMuted(e) {\n    e && e.stopPropagation();\n    const { player, _d } = this;\n    _d.isStart && this.onBarMouseUp(e);\n    this.emitUserAction(e, \"change_muted\", {\n      muted: player.muted,\n      volume: player.volume,\n      props: {\n        muted: {\n          from: player.muted,\n          to: !player.muted\n        }\n      }\n    });\n    if (player.volume > 0) {\n      player.muted = !player.muted;\n    }\n    if (player.volume < 0.01) {\n      player.volume = this.config.miniVolume;\n    }\n  }\n  animate(muted, volume) {\n    if (muted || volume === 0) {\n      this.setAttr(\"data-state\", \"mute\");\n    } else if (volume < 0.5 && this.icons.volumeSmall) {\n      this.setAttr(\"data-state\", \"small\");\n    } else {\n      this.setAttr(\"data-state\", \"normal\");\n    }\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n    this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n    this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n  }\n  destroy() {\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    this.unbind(\"mouseenter\", this.onMouseenter);\n    this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n    this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n    this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n    this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n    document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n    this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const volume = this.config.default || this.player.volume;\n    const isShowVolumeValue = this.config.showValueLabel;\n    return `\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        ${isShowVolumeValue ? `<div class=\"xgplayer-value-label\">${volume * 100}</div>` : \"\"}\n        <div class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>`;\n  }\n}\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g clip-path=\"url(#clip0)\">\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath id=\"clip0\">\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nclass Rotate extends Icon {\n  static get pluginName() {\n    return \"rotate\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 6,\n      innerRotate: true,\n      clockwise: false,\n      rotateDeg: 0,\n      disable: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.rotateDeg = this.config.rotateDeg || 0;\n  }\n  afterCreate() {\n    if (this.config.disable) {\n      return;\n    }\n    super.afterCreate();\n    this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    this.on(VIDEO_RESIZE, () => {\n      if (this.rotateDeg && this.config.innerRotate) {\n        util.setTimeout(this, () => {\n          this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n        }, 100);\n      }\n    });\n    const root = this.player.root;\n    this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n    this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n    if (this.rotateDeg) {\n      this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n  }\n  onBtnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.emitUserAction(e, \"rotate\");\n    this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n  }\n  updateRotateDeg(rotateDeg, innerRotate) {\n    if (!rotateDeg) {\n      rotateDeg = 0;\n    }\n    if (innerRotate) {\n      this.player.videoRotateDeg = rotateDeg;\n      return;\n    }\n    const { player, rootWidth, rootHeight } = this;\n    const { root, innerContainer } = player;\n    const video = player.media;\n    const width = root.offsetWidth;\n    const height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n    let rWidth = rootWidth;\n    let rHeight = rootHeight;\n    let x = 0;\n    let y = 0;\n    if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n      rWidth = `${height}px`;\n      rHeight = `${width}px`;\n      x = -(height - width) / 2;\n      y = -(width - height) / 2;\n    }\n    const _transform = `translate(${x}px,${y}px) rotate(${rotateDeg}turn)`;\n    const _styles = {\n      transformOrigin: \"center center\",\n      transform: _transform,\n      webKitTransform: _transform,\n      height: rHeight,\n      width: rWidth\n    };\n    const _target = innerRotate ? video : root;\n    const poster = innerRotate ? player.getPlugin(\"poster\") : null;\n    Object.keys(_styles).map((key) => {\n      _target.style[key] = _styles[key];\n      poster && poster.root && (poster.root.style[key] = _styles[key]);\n    });\n  }\n  rotate(clockwise = false, innerRotate = true, times = 1) {\n    const player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0;\n    }\n    const factor = clockwise ? 1 : -1;\n    this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n    this.updateRotateDeg(this.rotateDeg, innerRotate);\n    player.emit(ROTATE, this.rotateDeg * 360);\n  }\n  registerIcons() {\n    return {\n      rotate: RotateSvg\n    };\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      ${xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nconst PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nclass PIP extends Icon {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"switchPIP\", (e) => {\n      if (!this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (this.isPip) {\n        this.exitPIP();\n        this.emitUserAction(e, \"change_pip\", { props: \"pip\", from: true, to: false });\n        this.setAttr(\"data-state\", \"normal\");\n      } else if (this.player.media.readyState === 4) {\n        this.requestPIP();\n        this.emitUserAction(e, \"change_pip\", { props: \"pip\", from: false, to: true });\n        this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n  }\n  static get pluginName() {\n    return \"pip\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 6,\n      showIcon: false,\n      preferDocument: false,\n      width: void 0,\n      height: void 0,\n      docPiPNode: void 0,\n      docPiPStyle: void 0\n    };\n  }\n  static checkWebkitSetPresentationMode(video) {\n    return typeof video.webkitSetPresentationMode === \"function\";\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.pip === \"boolean\") {\n      args.config.showIcon = args.player.config.pip;\n    }\n  }\n  afterCreate() {\n    if (!this.isPIPAvailable()) {\n      return;\n    }\n    super.afterCreate();\n    this.pMode = PresentationMode.INLINE;\n    this.initPipEvents();\n    if (this.config.showIcon) {\n      this.initIcons();\n    }\n    this.once(COMPLETE, () => {\n      if (this.config.showIcon) {\n        util.removeClass(this.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n        this.bind(\"click\", this.switchPIP);\n      }\n    });\n  }\n  registerIcons() {\n    return {\n      pipIcon: { icon: PipIcon, class: \"xg-get-pip\" },\n      pipIconExit: { icon: PipIconExit, class: \"xg-exit-pip\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n    this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n  }\n  initPipEvents() {\n    const { player } = this;\n    this.leavePIPCallback = () => {\n      const paused = player.paused;\n      util.setTimeout(this, () => {\n        !paused && player.mediaPlay();\n      }, 0);\n      !paused && player.mediaPlay();\n      this.setAttr(\"data-state\", \"normal\");\n      this.pipWindow = null;\n      player.emit(PIP_CHANGE, false);\n    };\n    this.enterPIPCallback = (e) => {\n      player.emit(PIP_CHANGE, true);\n      if (e == null ? void 0 : e.pictureInPictureWindow) {\n        this.pipWindow = e.pictureInPictureWindow;\n      }\n      this.setAttr(\"data-state\", \"pip\");\n    };\n    this.onWebkitpresentationmodechanged = (e) => {\n      const mode = player.media.webkitPresentationMode;\n      if (this.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n        player.onFullscreenChange(null, false);\n      }\n      this.pMode = mode;\n      if (mode === PresentationMode.PIP) {\n        this.enterPIPCallback(e);\n      } else if (mode === PresentationMode.INLINE) {\n        this.leavePIPCallback(e);\n      }\n    };\n    if (player.media) {\n      player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n    }\n  }\n  copyStyleIntoPiPWindow(pipWin) {\n    const textContent = [...document.styleSheets].map((style2) => {\n      try {\n        return [...style2.cssRules].map((rule) => rule.cssText).join(\"\");\n      } catch (e) {\n        const link = document.createElement(\"link\");\n        link.rel = \"stylesheet\";\n        link.type = style2.type;\n        link.media = style2.media;\n        link.href = style2.href;\n        pipWin.document.head.appendChild(link);\n      }\n      return \"\";\n    }).filter(Boolean).join(\"\\n\");\n    const style = document.createElement(\"style\");\n    style.textContent = textContent;\n    pipWin.document.head.appendChild(style);\n  }\n  requestPIP() {\n    const { player, playerConfig, config } = this;\n    if (!this.isPIPAvailable() || this.isPip) {\n      return;\n    }\n    try {\n      const { poster } = playerConfig;\n      if (poster) {\n        player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n      }\n      if (config.preferDocument && this.isDocPIPAvailable()) {\n        const pipOptions = {};\n        if (config.width && config.height) {\n          pipOptions.width = config.width;\n          pipOptions.height = config.height;\n        } else {\n          const playerRect = player.root.getBoundingClientRect();\n          pipOptions.width = playerRect.width;\n          pipOptions.height = playerRect.height;\n        }\n        documentPictureInPicture.requestWindow(pipOptions).then((pipWin) => {\n          const { docPiPNode, docPiPStyle } = config;\n          this.enterPIPCallback();\n          const pipRoot = docPiPNode || player.root;\n          const parentNode = pipRoot.parentElement;\n          const previousSibling = pipRoot.previousSibling;\n          const nextSibling = pipRoot.nextSibling;\n          this.copyStyleIntoPiPWindow(pipWin);\n          const styles = document.createElement(\"style\");\n          styles.append(\"body{padding:0; margin:0;}\");\n          if (docPiPStyle) {\n            let cssContent = \"\";\n            if (typeof docPiPStyle === \"string\") {\n              cssContent = docPiPStyle;\n            } else if (typeof docPiPStyle === \"function\") {\n              cssContent = docPiPStyle.call(config);\n            }\n            if (cssContent) {\n              styles.append(cssContent);\n            }\n          } else if (pipRoot === player.root) {\n            styles.append(`\n              .xgplayer{width: 100%!important; height: 100%!important;}\n            `);\n          }\n          pipWin.document.head.append(styles);\n          pipWin.document.body.append(pipRoot);\n          pipWin.addEventListener(\"pagehide\", (event) => {\n            if (parentNode) {\n              if (nextSibling) {\n                parentNode.insertBefore(pipRoot, nextSibling);\n              } else if (previousSibling) {\n                parentNode.insertBefore(pipRoot, previousSibling.nextSibling);\n              } else {\n                parentNode.appendChild(pipRoot);\n              }\n            } else {\n            }\n            this.leavePIPCallback();\n          }, { once: true });\n        });\n      } else if (PIP.checkWebkitSetPresentationMode(player.media)) {\n        player.media.webkitSetPresentationMode(\"picture-in-picture\");\n      } else {\n        player.media.requestPictureInPicture();\n      }\n      return true;\n    } catch (reason) {\n      console.error(\"requestPiP\", reason);\n      return false;\n    }\n  }\n  exitPIP() {\n    const { player } = this;\n    try {\n      if (this.isPIPAvailable() && this.isPip) {\n        if (this.isDocPIPAvailable() && (documentPictureInPicture == null ? void 0 : documentPictureInPicture.window)) {\n          documentPictureInPicture.window.close();\n        } else if (PIP.checkWebkitSetPresentationMode(player.media)) {\n          player.media.webkitSetPresentationMode(\"inline\");\n        } else {\n          document.exitPictureInPicture();\n        }\n      }\n      return true;\n    } catch (reason) {\n      console.error(\"exitPIP\", reason);\n      return false;\n    }\n  }\n  get isPip() {\n    const { player } = this;\n    return !!(this.isDocPIPAvailable() && (documentPictureInPicture == null ? void 0 : documentPictureInPicture.window)) || document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n  }\n  isPIPAvailable() {\n    const video = this.player.media;\n    const _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : true;\n    return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\") || this.isDocPIPAvailable();\n  }\n  isDocPIPAvailable() {\n    return \"documentPictureInPicture\" in window && /^(https|file)/.test(location.protocol);\n  }\n  destroy() {\n    super.destroy();\n    const { player } = this;\n    player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n    player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n    PIP.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n    this.exitPIP();\n    this.unbind(\"click\", this.btnClick);\n  }\n  render() {\n    if (!this.config.showIcon || !this.isPIPAvailable()) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon xg-icon-disable\">\n      </div>\n      ${xgIconTips(this, \"PIP\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nclass PlayNextIcon extends Plugin {\n  constructor(options) {\n    super(options);\n    __publicField(this, \"playNext\", (e) => {\n      const { player } = this;\n      e.preventDefault();\n      e.stopPropagation();\n      if (this.idx + 1 < this.config.urlList.length) {\n        this.idx++;\n        this.nextHandler(this.config.urlList[this.idx], this.idx);\n        player.emit(PLAYNEXT, this.idx + 1);\n      } else {\n        this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    this.idx = -1;\n  }\n  static get pluginName() {\n    return \"playNext\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 1,\n      url: null,\n      urlList: []\n    };\n  }\n  afterCreate() {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n    this.initEvents();\n  }\n  registerIcons() {\n    return {\n      playNext: Next\n    };\n  }\n  initEvents() {\n    this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n    const event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this.bind(event, this.playNext);\n    this.show();\n  }\n  changeSrc(url) {\n    const { player } = this;\n    if (!url) {\n      return;\n    }\n    player.pause();\n    player.currentTime = 0;\n    if (player.switchURL) {\n      player.switchURL(url);\n    } else {\n      player.src = url;\n    }\n    player.config.url = url;\n    player.play();\n  }\n  destroy() {\n    this.unbind([\"touchend\", \"click\"], this.playNext);\n  }\n  render() {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return;\n    }\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      ${xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips)}\n     </xg-icon>\n    `;\n  }\n}\nexport { PlayNextIcon as default };\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nclass Download extends Icon {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"download\", (e) => {\n      if (this.isLock) {\n        return;\n      }\n      this.emitUserAction(e, \"download\");\n      const { url } = this.playerConfig;\n      let dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      const newUrl = this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      this.isLock = true;\n      this.timer = window.setTimeout(() => {\n        this.isLock = false;\n        window.clearTimeout(this.timer);\n        this.timer = null;\n      }, 300);\n    });\n    this.timer = null;\n    this.isLock = false;\n  }\n  static get pluginName() {\n    return \"download\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 3,\n      disable: true\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    if (this.config.disable) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", this.icons.download);\n    this._handler = this.hook(\"click\", this.download, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this._handler);\n  }\n  registerIcons() {\n    return {\n      download: DownloadSvg\n    };\n  }\n  getAbsoluteURL(url) {\n    if (!url.match(/^https?:\\/\\//)) {\n      const div = document.createElement(\"div\");\n      div.innerHTML = `<a href=\"${url}\">x</a>`;\n      url = div.firstChild.href;\n    }\n    return url;\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.download);\n    window.clearTimeout(this.timer);\n    this.timer = null;\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-download\">\n   <div class=\"xgplayer-icon\">\n   </div>\n   ${xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Download as default };\n","import \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nclass ScreenShot extends Icon {\n  static get pluginName() {\n    return \"screenShot\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 5,\n      quality: 0.92,\n      type: \"image/png\",\n      format: \".png\",\n      width: 600,\n      height: 337,\n      saveImg: true,\n      fitVideo: true,\n      disable: false,\n      name: \"screenshot\"\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.screenShot === \"boolean\") {\n      args.config.disable = !args.player.config.screenShot;\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n    const { config } = this;\n    this.initSize = (data) => {\n      if (config.fitVideo) {\n        config.width = data.vWidth;\n        config.height = data.vHeight;\n      }\n    };\n    this.once(VIDEO_RESIZE, this.initSize);\n  }\n  onPluginsReady() {\n    this.show();\n    this.onClickBtn = this.onClickBtn.bind(this);\n    this.bind([\"click\", \"touchend\"], this.onClickBtn);\n  }\n  saveScreenShot(data, filename) {\n    const saveLink = document.createElement(\"a\");\n    saveLink.href = data;\n    saveLink.download = filename;\n    const event = document.createEvent(\"MouseEvents\");\n    event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n    saveLink.dispatchEvent(event);\n  }\n  createCanvas(width, height) {\n    const canvas = document.createElement(\"canvas\");\n    const canvasCtx = canvas.getContext(\"2d\");\n    this.canvasCtx = canvasCtx;\n    this.canvas = canvas;\n    canvas.width = width || this.config.width;\n    canvas.height = height || this.config.height;\n    canvasCtx.imageSmoothingEnabled = true;\n    if (canvasCtx.imageSmoothingEnabled) {\n      canvasCtx.imageSmoothingQuality = \"high\";\n    }\n  }\n  onClickBtn(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.emitUserAction(e, \"shot\");\n    const { config } = this;\n    this.shot(config.width, config.height).then((data) => {\n      this.emit(SCREEN_SHOT, data);\n      if (config.saveImg) {\n        this.saveScreenShot(data, config.name + config.format);\n      }\n    });\n  }\n  shot(width, height, option = { quality: 0.92, type: \"image/png\" }) {\n    const { config, player } = this;\n    const quality = option.quality || config.quality;\n    const type = option.type || config.type;\n    return new Promise((resolve, reject) => {\n      let canvas = null;\n      let canvasCtx;\n      if (player.media.canvas) {\n        canvas = player.media.canvas;\n      } else {\n        if (!this.canvas) {\n          this.createCanvas(width, height);\n        } else {\n          this.canvas.width = width || config.width;\n          this.canvas.height = height || config.height;\n        }\n        canvas = this.canvas;\n        canvasCtx = this.canvasCtx;\n        const mediaRatio = player.media.videoWidth / player.media.videoHeight;\n        const canvasRatio = canvas.width / canvas.height;\n        const sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n        let dx, dy, dw, dh;\n        if (mediaRatio > canvasRatio) {\n          dw = canvas.width;\n          dh = canvas.width / mediaRatio;\n          dx = 0;\n          dy = Math.round((canvas.height - dh) / 2);\n        } else if (mediaRatio === canvasRatio) {\n          dw = canvas.width;\n          dh = canvas.height;\n          dx = 0;\n          dy = 0;\n        } else if (mediaRatio < canvasRatio) {\n          dw = canvas.height * mediaRatio;\n          dh = canvas.height;\n          dx = Math.round((canvas.width - dw) / 2);\n          dy = 0;\n        }\n        canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n      }\n      let src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n      src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n      resolve(src);\n    });\n  }\n  registerIcons() {\n    return {\n      screenshotIcon: null\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n    this.off(VIDEO_RESIZE, this.initSize);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n    const langKey = \"SCREENSHOT\";\n    return `\n      <xg-icon class=\"xgplayer-shot\">\n      <div class=\"${className}\">\n      ${this.icons.screenshotIcon ? \"\" : `<span lang-key=\"${this.i18nKeys[langKey]}\">${this.i18n[langKey]}</span>`}\n      </div>\n    </xg-icon>`;\n  }\n}\nexport { ScreenShot as default };\n","import util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass OptionList {\n  constructor(args) {\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, `xg-options-list xg-list-slide-scroll ${this.config.className}`);\n    args.root.appendChild(this.root);\n    const { maxHeight } = this.config;\n    if (maxHeight) {\n      this.setStyle({ maxHeight });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    const eventName = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  renderItemList(data) {\n    const { config, root } = this;\n    if (data) {\n      config.data = data;\n    } else {\n      data = config.data;\n    }\n    if (config.style) {\n      Object.keys(config.style).map((key) => {\n        root.style[key] = config[key];\n      });\n    }\n    if (data.length > 0) {\n      this.attrKeys = Object.keys(data[0]);\n    }\n    this.root.innerHTML = \"\";\n    data.map((item, index) => {\n      const className = item.selected ? \"option-item selected\" : \"option-item\";\n      item[\"data-index\"] = index;\n      this.root.appendChild(util.createDom(\"li\", `<span>${item.showText}</span>`, item, className));\n    });\n  }\n  onItemClick(e) {\n    if (!e.delegateTarget) {\n      e.delegateTarget = e.target;\n    }\n    const target = e.delegateTarget;\n    if (target && util.hasClass(target, \"selected\")) {\n      return false;\n    }\n    const changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n    const curSelected = this.root.querySelector(\".selected\");\n    util.addClass(target, \"selected\");\n    curSelected && util.removeClass(curSelected, \"selected\");\n    changeCallback(e, {\n      from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n      to: this.getAttrObj(target, this.attrKeys)\n    });\n  }\n  getAttrObj(dom, keys) {\n    if (!dom || !keys) {\n      return {};\n    }\n    const obj = {};\n    keys.map((key) => {\n      obj[key] = dom.getAttribute(key);\n    });\n    const index = dom.getAttribute(\"data-index\");\n    if (index) {\n      obj.index = Number(index);\n    }\n    return obj;\n  }\n  show() {\n    util.removeClass(this.root, \"hide\");\n    util.addClass(this.root, \"active\");\n  }\n  hide() {\n    util.removeClass(this.root, \"active\");\n    util.addClass(this.root, \"hide\");\n  }\n  setStyle(style) {\n    Object.keys(style).forEach((key) => {\n      this.root.style[key] = style[key];\n    });\n  }\n  destroy() {\n    if (this._delegates) {\n      this._delegates.map((item) => {\n        item.destroy && item.destroy();\n      });\n      this._delegates = null;\n    }\n    this.root.innerHTML = null;\n    this.parent.removeChild(this.root);\n    this.root = null;\n  }\n}\nexport { OptionList as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nconst LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\"\n};\nconst TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nconst IS_MOBILE = sniffer.device === \"mobile\";\nclass OptionsIcon extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onEnter\", (e) => {\n      e.stopPropagation();\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n      this.switchActiveState(e);\n    });\n    __publicField(this, \"switchActiveState\", (e) => {\n      e.stopPropagation();\n      const { toggleMode } = this.config;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        this.toggle(!this.isActive);\n      } else {\n        this.toggle(true);\n      }\n    });\n    __publicField(this, \"onLeave\", (e) => {\n      e.stopPropagation();\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n      if (this.config.listType !== LIST_TYPES.SIDE) {\n        this.isActive && this.toggle(false);\n      }\n    });\n    __publicField(this, \"onListEnter\", (e) => {\n      this.enterType = 2;\n    });\n    __publicField(this, \"onListLeave\", (e) => {\n      this.enterType = 0;\n      this.isActive && this.toggle(false);\n    });\n    this.isIcons = false;\n    this.isActive = false;\n    this.curValue = null;\n    this.curIndex = 0;\n  }\n  static get pluginName() {\n    return \"optionsIcon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 100,\n      list: [],\n      listType: \"middle\",\n      listStyle: {},\n      hidePortrait: true,\n      isShowIcon: false,\n      isItemClickHide: true,\n      toggleMode: TOGGLE_MODES.HOVER,\n      heightLimit: true\n    };\n  }\n  updateLang(value) {\n    this.renderItemList(this.config.list, this.curIndex);\n  }\n  afterCreate() {\n    const { config } = this;\n    this.initIcons();\n    if (IS_MOBILE && config.listType !== LIST_TYPES.MIDDLE) {\n      config.listType = LIST_TYPES.SIDE;\n    }\n    config.hidePortrait && util.addClass(this.root, \"portrait\");\n    this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], () => {\n      this._resizeList();\n    });\n    this.once(CANPLAY, () => {\n      if (config.list && config.list.length > 0) {\n        this.renderItemList(config.list);\n        this.show();\n      }\n    });\n    IS_MOBILE && this.on(PLAYER_FOCUS, () => {\n      if (!this.isActive) {\n        return;\n      }\n      this.optionsList && this.optionsList.hide();\n      this.isActive = false;\n    });\n    if (IS_MOBILE) {\n      config.toggleMode = TOGGLE_MODES.CLICK;\n      this.activeEvent = \"touchend\";\n    } else {\n      this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n    }\n    if (config.toggleMode === TOGGLE_MODES.CLICK) {\n      this.bind(this.activeEvent, this.switchActiveState);\n    } else {\n      this.bind(this.activeEvent, this.onEnter);\n      this.bind(\"mouseleave\", this.onLeave);\n    }\n    this.isIcons && this.bind(\"click\", this.onIconClick);\n  }\n  initIcons() {\n    const { icons } = this;\n    const _c = Object.keys(icons);\n    let _isIcons = false;\n    if (_c.length > 0) {\n      _c.forEach((key) => {\n        this.appendChild(\".xgplayer-icon\", icons[key]);\n        !_isIcons && (_isIcons = icons[key]);\n      });\n      this.isIcons = _isIcons;\n    }\n    if (_isIcons) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n    util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length < 2) {\n      return;\n    }\n    util.addClass(this.root, \"show\");\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n  }\n  getTextByLang(item, key, lang) {\n    if (item === void 0) {\n      return \"\";\n    }\n    const { list } = this.config;\n    !lang && (lang = this.player.lang);\n    key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n    typeof item === \"number\" && (item = list[item]);\n    try {\n      if (typeof item[key] === \"object\") {\n        return item[key][lang] || item[key].en;\n      } else {\n        return item[key];\n      }\n    } catch (err) {\n      console.warn(err);\n      return \"\";\n    }\n  }\n  toggle(isActive) {\n    if (isActive === this.isActive)\n      return;\n    const { controls } = this.player;\n    const { listType } = this.config;\n    if (isActive) {\n      listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n      this.optionsList && this.optionsList.show();\n    } else {\n      listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n      this.optionsList && this.optionsList.hide();\n    }\n    this.isActive = isActive;\n  }\n  onItemClick(e, data) {\n    e.stopPropagation();\n    const { listType, list } = this.config;\n    this.curIndex = data.to.index;\n    this.curItem = list[this.curIndex];\n    this.changeCurrentText();\n    const { isItemClickHide } = this.config;\n    (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n  }\n  onIconClick(e) {\n  }\n  changeCurrentText() {\n    if (this.isIcons) {\n      return;\n    }\n    const { list } = this.config;\n    const index = this.curIndex < list.length ? this.curIndex : 0;\n    const curItem = list[index];\n    if (!curItem)\n      return;\n    this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n  }\n  renderItemList(itemList, curIndex) {\n    const { config, optionsList, player } = this;\n    if (typeof curIndex === \"number\") {\n      this.curIndex = curIndex;\n      this.curItem = config.list[curIndex];\n    }\n    if (optionsList) {\n      optionsList.renderItemList(itemList);\n      this.changeCurrentText();\n      return;\n    }\n    const options = {\n      config: {\n        data: itemList || [],\n        className: getListClassName(config.listType, config.position),\n        onItemClick: (e, data) => {\n          this.onItemClick(e, data);\n        }\n      },\n      root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n    };\n    if (this.config.isShowIcon) {\n      const { height } = this.player.root.getBoundingClientRect();\n      const _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      if (_maxH && config.heightLimit) {\n        options.config.maxHeight = `${_maxH}px`;\n      }\n      this.optionsList = new OptionList(options);\n      this.changeCurrentText();\n      this.show();\n    }\n    this._resizeList();\n  }\n  _resizeList() {\n    if (!this.config.heightLimit) {\n      return;\n    }\n    const { height } = this.player.root.getBoundingClientRect();\n    const _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n    this.optionsList && this.optionsList.setStyle({ maxHeight: `${_maxH}px` });\n  }\n  destroy() {\n    const { config } = this;\n    if (config.toggleMode === TOGGLE_MODES.CLICK) {\n      this.unbind(this.activeEvent, this.switchActiveState);\n    } else {\n      this.unbind(this.activeEvent, this.onEnter);\n      this.unbind(\"mouseleave\", this.onLeave);\n    }\n    this.isIcons && this.unbind(\"click\", this.onIconClick);\n    if (this.optionsList) {\n      this.optionsList.destroy();\n      this.optionsList = null;\n    }\n  }\n  render() {\n    if (!this.config.isShowIcon) {\n      return;\n    }\n    return `<xg-icon class=\"xg-options-icon ${this.config.className || \"\"}\">\n    <div class=\"xgplayer-icon\">\n    </div>\n   </xg-icon>`;\n  }\n}\nexport { OptionsIcon as default };\n","import util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nclass DefinitionIcon extends OptionsIcon {\n  static get pluginName() {\n    return \"definition\";\n  }\n  static get defaultConfig() {\n    return {\n      ...OptionsIcon.defaultConfig,\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 3,\n      list: [],\n      defaultDefinition: \"\",\n      disable: false,\n      hidePortrait: false,\n      className: \"xgplayer-definition\",\n      isShowIcon: true\n    };\n  }\n  beforeCreate(args) {\n    const { list } = args.config;\n    if (Array.isArray(list) && list.length > 0) {\n      args.config.list = list.map((item) => {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n    }\n  }\n  constructor(args) {\n    super(args);\n    this.curTime = 0;\n    this.isPaused = true;\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.on(\"resourceReady\", (list) => {\n      this.changeDefinitionList(list);\n    });\n    this.on(DEFINITION_CHANGE, (data) => {\n      this.renderItemList(this.config.list, data.to);\n    });\n    if (this.player.definitionList.length < 2) {\n      this.hide();\n    }\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length < 2) {\n      return;\n    }\n    util.addClass(this.root, \"show\");\n  }\n  initDefinition() {\n    const { list, defaultDefinition } = this.config;\n    if (list.length > 0) {\n      let to = null;\n      list.map((item) => {\n        if (item.definition === defaultDefinition) {\n          to = item;\n        }\n      });\n      if (!to) {\n        to = list[0];\n      }\n      this.changeDefinition(to);\n    }\n  }\n  renderItemList(list = this.config.list || [], to) {\n    const targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n    if (to) {\n      list.forEach((item) => {\n        item.selected = false;\n      });\n    }\n    let curIndex = 0;\n    const items = list.map((item, index) => {\n      const showItem = {\n        ...item,\n        showText: this.getTextByLang(item) || item.definition,\n        selected: false\n      };\n      if (item.selected || item.definition && item.definition == targetDef) {\n        showItem.selected = true;\n        curIndex = index;\n      }\n      return showItem;\n    });\n    super.renderItemList(items, curIndex);\n  }\n  changeDefinitionList(list) {\n    if (!Array.isArray(list)) {\n      return;\n    }\n    this.config.list = list.map((item) => {\n      if (!item.text && item.name) {\n        item.text = item.name;\n      }\n      if (!item.text) {\n        item.text = item.definition;\n      }\n      return item;\n    });\n    this.renderItemList();\n    this.config.list.length < 2 ? this.hide() : this.show();\n  }\n  changeDefinition(to, from) {\n    this.player.changeDefinition(to, from);\n  }\n  onItemClick(e, data) {\n    const { definitionList } = this.player;\n    super.onItemClick(...arguments);\n    this.emitUserAction(e, \"change_definition\", { from: data.from, to: data.to });\n    for (let i = 0; i < definitionList.length; i++) {\n      if (data.to && definitionList[i].definition === data.to.definition) {\n        data.to.url = definitionList[i].url;\n      }\n      if (data.from && definitionList[i].definition === data.from.definition) {\n        data.from.url = definitionList[i].url;\n      }\n    }\n    this.player.changeDefinition(data.to, data.from);\n  }\n}\nexport { DefinitionIcon as default };\n","import \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nclass PlaybackRate extends OptionsIcon {\n  static get pluginName() {\n    return \"playbackRate\";\n  }\n  static get defaultConfig() {\n    return {\n      ...OptionsIcon.defaultConfig,\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 4,\n      list: [2, 1.5, 1, 0.75, 0.5],\n      className: \"xgplayer-playbackrate\",\n      isShowIcon: true,\n      hidePortrait: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.curRate = 1;\n  }\n  beforeCreate(args) {\n    const { playbackRate } = args.player.config;\n    const list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n    if (Array.isArray(list)) {\n      args.config.list = list.map((item) => {\n        if (typeof item === \"number\") {\n          item = {\n            rate: item,\n            text: `${item}x`\n          };\n        } else if (!item.text && item.rate) {\n          item.text = `${item.rate}x`;\n        }\n        return item;\n      });\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.on(RATE_CHANGE, () => {\n      if (this.curValue === this.player.playbackRate) {\n        return;\n      }\n      this.renderItemList();\n    });\n    this.renderItemList();\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length === 0) {\n      return;\n    }\n    super.show();\n  }\n  onItemClick(e, _data) {\n    super.onItemClick(e, _data);\n    const target = e.delegateTarget;\n    const rate = Number(target.getAttribute(\"rate\"));\n    if (!rate || rate === this.curValue) {\n      return false;\n    }\n    const props = {\n      playbackRate: {\n        from: this.player.playbackRate,\n        to: rate\n      }\n    };\n    this.emitUserAction(e, \"change_rate\", { props });\n    this.curValue = rate;\n    this.player.playbackRate = rate;\n  }\n  renderItemList() {\n    const playbackRate = this.player.playbackRate || 1;\n    this.curValue = playbackRate;\n    let curIndex = -1;\n    const items = this.config.list.map((item, index) => {\n      const itemInfo = {\n        rate: item.rate\n      };\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.selected = true;\n        curIndex = index;\n      }\n      itemInfo.showText = this.getTextByLang(item);\n      return itemInfo;\n    });\n    super.renderItemList(items, curIndex);\n  }\n  changeCurrentText() {\n    if (this.isIcons) {\n      return;\n    }\n    const { list } = this.config;\n    const index = this.curIndex < list.length ? this.curIndex : 0;\n    const curItem = list[index];\n    let _text = \"\";\n    if (!curItem || this.curIndex < 0) {\n      _text = `${this.player.playbackRate}x`;\n    } else {\n      _text = this.getTextByLang(curItem, \"iconText\");\n    }\n    this.find(\".icon-text\").innerHTML = _text;\n  }\n  destroy() {\n    super.destroy();\n  }\n}\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nclass CssFullScreen extends Icon {\n  static get pluginName() {\n    return \"cssFullscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 1,\n      disable: false,\n      target: null\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.cssFullscreen === \"boolean\") {\n      args.config.disable = !args.player.config.cssFullscreen;\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    if (this.config.disable) {\n      return;\n    }\n    if (this.config.target) {\n      this.playerConfig.fullscreenTarget = this.config.target;\n    }\n    this.initIcons();\n    this.on(CSS_FULLSCREEN_CHANGE, (isCssfullScreen) => {\n      this.animate(isCssfullScreen);\n    });\n    this.btnClick = this.btnClick.bind(this);\n    this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n  }\n  initIcons() {\n    const { icons } = this;\n    const contentIcon = this.find(\".xgplayer-icon\");\n    contentIcon.appendChild(icons.cssFullscreen);\n    contentIcon.appendChild(icons.exitCssFullscreen);\n  }\n  btnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { isCssfullScreen } = this.player;\n    this.emitUserAction(e, \"switch_cssfullscreen\", { cssfullscreen: isCssfullScreen });\n    if (!isCssfullScreen) {\n      this.player.getCssFullscreen();\n    } else {\n      this.player.exitCssFullscreen();\n    }\n  }\n  animate(isFullScreen) {\n    if (!this.root) {\n      return;\n    }\n    isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n    this.switchTips(isFullScreen);\n  }\n  switchTips(isFullScreen) {\n    const { i18nKeys } = this;\n    const tipDom = this.find(\".xg-tips\");\n    tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n  }\n  registerIcons() {\n    return {\n      cssFullscreen: { icon: CssFullSceenSvg, class: \"xg-get-cssfull\" },\n      exitCssFullscreen: { icon: ExitCssFullSceenSvg, class: \"xg-exit-cssfull\" }\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.btnClick);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { CssFullScreen as default };\n","import \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass ErrorPlugin extends Plugin {\n  static get pluginName() {\n    return \"error\";\n  }\n  afterCreate() {\n    this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.onError = this.hook(\"showError\", this.handleError);\n    this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    this.on(ERROR, (error) => {\n      this.onError(error);\n    });\n  }\n  errorRetry(e) {\n    this.emitUserAction(e, \"error_retry\", {});\n    this.player.retry();\n  }\n  handleError(error = {}) {\n    const { player } = this;\n    const type = error.errorType;\n    let errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n    if (!errorNote) {\n      switch (type) {\n        case \"decoder\":\n          errorNote = this.i18n.MEDIA_ERR_DECODE;\n          break;\n        case \"network\":\n          errorNote = this.i18n.MEDIA_ERR_NETWORK;\n          break;\n        default:\n          errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n      }\n    }\n    this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n    this.find(\".xgplayer-error-tips\").innerHTML = `${this.i18n.REFRESH_TIPS}<span class=\"xgplayer-error-refresh\">${this.i18n.REFRESH}</span>`;\n  }\n  destroy() {\n    this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n  }\n  render() {\n    return `<xg-error class=\"xgplayer-error\">\n      <div class=\"xgplayer-errornote\">\n       <span class=\"xgplayer-error-text\"></span>\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\n      </div>\n    </xg-error>`;\n  }\n}\nexport { ErrorPlugin as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nclass Prompt extends Plugin {\n  static get pluginName() {\n    return \"prompt\";\n  }\n  static get defaultConfig() {\n    return {\n      interval: 3e3,\n      style: {},\n      mode: \"arrow\",\n      autoHide: true,\n      detail: {\n        text: \"\",\n        highlight: \"\"\n      },\n      onClick: () => {\n      }\n    };\n  }\n  afterCreate() {\n    this.intervalId = 0;\n    this.customConfig = null;\n    this.bind(\".highlight\", [\"click\", \"touchend\"], (e) => {\n      if (this.config.onClick || this.customOnClick) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.customOnClick ? this.customOnClick(e) : this.config.onClick(e);\n      }\n    });\n    this.player.showPrompt = (...args) => {\n      this.showPrompt(...args);\n    };\n    this.player.hidePrompt = () => {\n      this.hide();\n    };\n  }\n  setStyle(style) {\n    Object.keys(style).map((key) => {\n      this.root.style[key] = style[key];\n    });\n  }\n  showPrompt(detail, config = {}, onClick = () => {\n  }) {\n    if (!detail) {\n      return;\n    }\n    this.customOnClick = onClick;\n    const { interval } = this.config;\n    if (this.intervalId) {\n      clearTimeout(this.intervalId);\n      this.intervalId = null;\n    }\n    util.addClass(this.root, \"show\");\n    config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n    if (typeof detail === \"string\") {\n      this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n    } else {\n      this.find(\".xgplayer-prompt-detail\").innerHTML = `${detail.text || \"\"}${detail.highlight ? `<i class=\"highlight\">${detail.highlight}</i>` : \"\"}`;\n    }\n    config.style && this.setStyle(config.style);\n    const autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n    if (autoHide) {\n      const hideinterval = config.interval || interval;\n      this.intervalId = setTimeout(() => {\n        this.hide();\n      }, hideinterval);\n    }\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n    util.removeClass(this.root, \"arrow\");\n    this.root.removeAttribute(\"style\");\n    this.customOnClick = null;\n  }\n  render() {\n    return `<xg-prompt class=\"xgplayer-prompt ${STATE_CLASS.CONTROLS_FOLLOW}\">\n    <span class=\"xgplayer-prompt-detail\"></span>\n    </xg-prompt>`;\n  }\n}\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nconst ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map((key) => {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nconst APIS = {\n  _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    const ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    const style = iSpot.style || {};\n    style.left = `${ret.left}%`;\n    style.width = `${ret.width}%`;\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map((key) => {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots() {\n    this._ispots.map((item) => {\n      this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot(iSpot, isNew = true) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    const ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    const style = iSpot.style || {};\n    style.left = `${ret.left}%`;\n    style.width = `${ret.width}%`;\n    let className = `xgspot_${iSpot.id} xgplayer-spot`;\n    ret.isMini && (className += \" mini\");\n    const _t = iSpot.template ? `<div class=\"xgplayer-spot-pop\">${iSpot.template}</div>` : \"\";\n    const dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map((key) => {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    const ret = this._ispots.filter((cur, index) => {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot(iSpot, needShow = false) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map((key) => {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    const dotDom = progress.find(`xg-spot[data-id=\"${iSpot.id}\"]`);\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot(id) {\n    const { _ispots } = this;\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const del = [];\n    for (let i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    const len = del.length;\n    for (let i = len - 1; i >= 0; i--) {\n      _ispots.splice(del[i], 1);\n      if (this.ispotsInit) {\n        const dotDom = progress.find(`xg-spot[data-id=\"${id}\"]`);\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (let i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots(iSpots = []) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    const len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (let i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach((ispot, index) => {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", `${ispot.id}`);\n        this._ispots.push(ispot);\n        this.updateDot(ispot);\n      } else {\n        this.createDot(ispot);\n      }\n    });\n  },\n  positionDots() {\n    const { _ispots, playerSize } = this;\n    const { sizeInfo } = this.player;\n    const { progress } = this.player.plugins;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach((item) => {\n      const dotDom = progress.find(`xg-spot[data-id=\"${item.id}\"]`);\n      dotDom && this.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot(dotDom, id) {\n    const _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    const pRect = this.playerSize;\n    const rect1 = dotDom.getBoundingClientRect();\n    const rect = _pop.getBoundingClientRect();\n    const _left = rect1.left - pRect.left;\n    const _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      const t = rect.width / 2 - _left;\n      _pop.style.left = `${t}px`;\n    } else if (_diff < rect.width / 2) {\n      const t = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = `${t}px`;\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const { _ispots } = this;\n    _ispots.forEach((item) => {\n      const dotDom = progress.find(`xg-spot[data-id=\"${item.id}\"]`);\n      this._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return [];\n    }\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom(id) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    return progress.find(`xg-spot[data-id=\"${id}\"]`);\n  }\n};\nfunction initDotsAPI(plugin) {\n  const { config, player } = plugin;\n  Object.keys(APIS).map((item) => {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  const ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map((item) => {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, () => {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, () => {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nconst CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nclass ProgressPreview extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onMousemove\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && this.config.isHideThumbnailHover) {\n        this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    __publicField(this, \"onMousedown\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    __publicField(this, \"onMouseup\", (e) => {\n      if (!this.isDrag) {\n        return;\n      }\n      const { progress } = this.player.plugins;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    __publicField(this, \"onDotMouseLeave\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      this._curDot.removeEventListener(\"mouseleave\", this.onDotMouseLeave);\n      this.blurDot(e.target);\n      this._curDot = null;\n      const { progress } = this.player.plugins;\n      progress && progress.enableBlur();\n      this.show();\n    });\n    __publicField(this, \"onProgressMouseOver\", (data, e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !this._curDot) {\n        this._curDot = e.target;\n        this.focusDot(e.target);\n        if (this._curDot.children.length > 0) {\n          this.hide();\n        }\n        const { progress } = this.player.plugins;\n        progress && progress.disableBlur();\n        this._curDot.addEventListener(\"mouseleave\", this.onDotMouseLeave);\n      }\n    });\n    this._ispots = [];\n    this.videoPreview = null;\n    this.videothumbnail = null;\n    this.thumbnail = null;\n    this.timeStr = \"\";\n    this._state = {\n      now: 0,\n      f: false\n    };\n  }\n  static get pluginName() {\n    return \"progresspreview\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 1,\n      miniWidth: 6,\n      ispots: [],\n      defaultText: \"\",\n      isFocusDots: true,\n      isHideThumbnailHover: true,\n      isShowThumbnail: true,\n      isShowCoverPreview: false,\n      mode: \"\",\n      disable: false,\n      width: 160,\n      height: 90\n    };\n  }\n  beforeCreate(args) {\n    const progress = args.player.plugins.progress;\n    if (progress) {\n      args.root = progress.root;\n    }\n  }\n  afterCreate() {\n    this._curDot = null;\n    this.handlerSpotClick = this.hook(\"spotClick\", (_event, data) => {\n      if (data.seekTime) {\n        this.player.seek(data.seekTime);\n      }\n    });\n    this.transformTimeHook = this.hook(\"transformTime\", (time) => {\n      this.setTimeContent(util.format(time));\n    });\n    initDotsAPI(this);\n    this.on(DURATION_CHANGE, () => {\n      this.show();\n    });\n    if (this.config.disable) {\n      this.disable();\n    }\n    this.extTextRoot = this.find(\".xg-spot-ext-text\");\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    Object.keys(config).map((key) => {\n      this.config[key] = config[key];\n    });\n  }\n  onPluginsReady() {\n    const { player } = this;\n    if (!player.plugins.progress) {\n      return;\n    }\n    this.previewLine = this.find(\".xg-spot-line\");\n    this.timePoint = this.find(\".xgplayer-progress-point\");\n    this.timeText = this.find(\".xg-spot-time\");\n    this.tipText = this.find(\".spot-inner-text\");\n    this._hasThumnail = false;\n    this.registerThumbnail();\n    this.bindEvents();\n  }\n  bindEvents() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    Object.keys(CALLBACK_MAP).map((key) => {\n      this[CALLBACK_MAP[key]] = this[CALLBACK_MAP[key]].bind(this);\n      progress.addCallBack(key, this[CALLBACK_MAP[key]]);\n    });\n    if (sniffer.device === \"mobile\")\n      return;\n    this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n    this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n    this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n    const fun = this.hook(\"previewClick\", (...args) => {\n    });\n    this.handlerPreviewClick = (e) => {\n      e.stopPropagation();\n      fun(parseInt(this._state.now * 1e3, 10) / 1e3, e);\n    };\n    this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n  }\n  onProgressMove(data, e) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n  }\n  onProgressDragStart(data) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.isDrag = true;\n    this.videoPreview && util.addClass(this.videoPreview, \"show\");\n  }\n  onProgressDragEnd(data) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.isDrag = false;\n    this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n  }\n  onProgressClick(data, e) {\n    if (this.config.disable) {\n      return;\n    }\n    if (util.hasClass(e.target, \"xgplayer-spot\")) {\n      e.stopPropagation();\n      e.preventDefault();\n      [\"time\", \"id\", \"text\"].map((key) => {\n        data[key] = e.target.getAttribute(`data-${key}`);\n      });\n      data.time && (data.time = Number(data.time));\n      this.handlerSpotClick(e, data);\n    }\n  }\n  updateLinePos(offset, cwidth) {\n    const { root, previewLine, player, config } = this;\n    const { mode } = player.controls;\n    const isflex = mode === \"flex\";\n    let lwidth = root.getBoundingClientRect().width;\n    if (!lwidth && this._hasThumnail) {\n      return;\n    }\n    lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n    let x = offset - lwidth / 2;\n    let _t;\n    if (x < 0 && !isflex) {\n      x = 0;\n      _t = offset - lwidth / 2;\n    } else if (x > cwidth - lwidth && !isflex) {\n      _t = x - (cwidth - lwidth);\n      x = cwidth - lwidth;\n    } else {\n      _t = 0;\n    }\n    _t !== void 0 && (previewLine.style.transform = `translateX(${_t.toFixed(2)}px)`);\n    root.style.transform = `translateX(${x.toFixed(2)}px) translateZ(0)`;\n  }\n  updateTimeText(timeStr) {\n    const { timeText, timePoint } = this;\n    timeText.innerHTML = timeStr;\n    !this.thumbnail && (timePoint.innerHTML = timeStr);\n  }\n  updatePosition(offset, cwidth, time, e) {\n    const { root, config, _state } = this;\n    if (!root) {\n      return;\n    }\n    _state.now = time;\n    this.transformTimeHook(time);\n    const timeStr = this.timeStr;\n    if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n      this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n      this.focusDot(e.target);\n      _state.f = true;\n      config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n    } else if (config.defaultText) {\n      _state.f = false;\n      this.showTips(config.defaultText, true, timeStr);\n    } else {\n      _state.f = false;\n      this.hideTips(\"\");\n    }\n    this.updateTimeText(timeStr);\n    this.updateThumbnails(_state.now);\n    this.updateLinePos(offset, cwidth);\n  }\n  setTimeContent(str) {\n    this.timeStr = str;\n  }\n  updateThumbnails(time) {\n    const { player, videoPreview, config } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n      const rect = videoPreview && videoPreview.getBoundingClientRect();\n      this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n    }\n  }\n  registerThumbnail(thumbnailConfig = {}) {\n    if (sniffer.device === \"mobile\") {\n      return;\n    }\n    const { player, config } = this;\n    const thumbnail = player.getPlugin(\"thumbnail\");\n    if (thumbnail) {\n      thumbnail.setConfig(thumbnailConfig);\n    }\n    if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n      util.addClass(this.root, \"short-line no-thumbnail\");\n      return;\n    } else {\n      util.removeClass(this.root, \"short-line no-thumbnail\");\n    }\n    if (config.mode === \"short\") {\n      util.addClass(this.root, \"short-line\");\n    }\n    this._hasThumnail = true;\n    const tRoot = this.find(\".xg-spot-thumbnail\");\n    this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n    if (config.isShowCoverPreview) {\n      this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n      player.root.appendChild(this.videoPreview);\n      this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n    }\n    this.updateThumbnails(0);\n  }\n  calcuPosition(time, duration) {\n    const { progress } = this.player.plugins;\n    const { player } = this;\n    const totalWidth = progress.root.getBoundingClientRect().width;\n    const widthPerSeconds = player.duration / totalWidth * 6;\n    if (time + duration > player.duration) {\n      duration = player.duration - time;\n    }\n    time / player.duration * 100;\n    duration / player.duration;\n    return {\n      left: time / player.duration * 100,\n      width: duration / player.duration * 100,\n      isMini: duration < widthPerSeconds\n    };\n  }\n  showDot(id) {\n    const dot = this.findDot(id);\n    if (dot) {\n      const rect = this.root.getBoundingClientRect();\n      const { width } = rect;\n      const offset = dot.time / this.player.duration * width;\n      this.updatePosition(offset, width, dot.time);\n    }\n  }\n  focusDot(target, id) {\n    if (!target) {\n      return;\n    }\n    if (!id) {\n      id = target.getAttribute(\"data-id\");\n    }\n    util.addClass(target, \"active\");\n    this._activeDotId = id;\n  }\n  blurDot(target) {\n    if (!target) {\n      const id = this._activeDotId;\n      target = this.getDotDom(id);\n    }\n    if (!target) {\n      return;\n    }\n    util.removeClass(target, \"active\");\n    this._activeDotId = null;\n  }\n  showTips(text, isDefault, timeStr = \"\") {\n    util.addClass(this.root, \"no-timepoint\");\n    if (!text) {\n      return;\n    }\n    util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n    if (isDefault && this.config.mode === \"production\") {\n      util.addClass(this.root, \"product\");\n      this.tipText.textContent = text;\n    } else {\n      util.removeClass(this.root, \"product\");\n      this.tipText.textContent = this._hasThumnail ? text : `${timeStr} ${text}`;\n    }\n  }\n  hideTips() {\n    util.removeClass(this.root, \"no-timepoint\");\n    this.tipText.textContent = \"\";\n    util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n    util.removeClass(this.root, \"product\");\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  enable() {\n    const { config, playerConfig } = this;\n    this.config.disable = false;\n    this.show();\n    if (!this.thumbnail && config.isShowThumbnail) {\n      this.registerThumbnail(playerConfig.thumbnail || {});\n    }\n  }\n  disable() {\n    this.config.disable = true;\n    this.hide();\n  }\n  destroy() {\n    const { progress } = this.player.plugins;\n    progress && Object.keys(CALLBACK_MAP).map((key) => {\n      progress.removeCallBack(key, this[CALLBACK_MAP[key]]);\n    });\n    this.videothumbnail = null;\n    this.thumbnail = null;\n    this.videoPreview && this.player.root.removeChild(this.videoPreview);\n    this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n    this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n    this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n    this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n  }\n  render() {\n    if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n      return \"\";\n    }\n    return `<div class=\"xg-spot-info hide ${this.config.mode === \"short\" ? \"short-line\" : \"\"}\">\n      <div class=\"xg-spot-content\">\n        <div class=\"xg-spot-thumbnail\">\n          <span class=\"xg-spot-time\"></span>\n        </div>\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\n      </div>\n      <div class=\"xgplayer-progress-point\">00:00</div>\n      <div class=\"xg-spot-ext-text\"></div>\n      <div class=\"xg-spot-line\"></div>\n    </div>`;\n  }\n}\nexport { ProgressPreview as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Thumbnail extends Plugin {\n  static get pluginName() {\n    return \"thumbnail\";\n  }\n  static get defaultConfig() {\n    return {\n      isShow: false,\n      urls: [],\n      pic_num: 0,\n      col: 0,\n      row: 0,\n      height: 90,\n      width: 160,\n      scale: 1,\n      className: \"\",\n      hidePortrait: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.ratio = 1;\n    this.interval = null;\n    this._preloadMark = {};\n  }\n  afterCreate() {\n    if (this.usable) {\n      this.initThumbnail();\n    }\n    this.on([DURATION_CHANGE], () => {\n      const { pic_num, interval } = this.config;\n      this.usable && (this.interval = interval > 0 ? interval : Math.round(this.player.duration * 1e3 / pic_num) / 1e3);\n    });\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    const keys = Object.keys(config);\n    if (keys.length < 1) {\n      return;\n    }\n    keys.forEach((key) => {\n      this.config[key] = config[key];\n    });\n    this.usable && this.initThumbnail();\n  }\n  get usable() {\n    const { urls, pic_num } = this.config;\n    return urls && urls.length > 0 && pic_num > 0;\n  }\n  initThumbnail() {\n    const { width, height, pic_num, interval } = this.config;\n    this.ratio = width / height * 100;\n    this.interval = interval || Math.round(this.player.duration / pic_num);\n    this._preloadMark = {};\n  }\n  getUrlByIndex(index) {\n    return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n  }\n  preload(index) {\n    if (this._preloadMark[index]) {\n      return;\n    }\n    const { urls } = this.config;\n    const len = urls.length;\n    const arr = [];\n    index > 0 && arr.push(index - 1);\n    arr.push(index);\n    index > 0 && index < len - 1 && arr.push(index + 1);\n    arr.map((item) => {\n      if (!this._preloadMark[item] && item >= 0 && item < len) {\n        this._preloadMark[item] = 1;\n        util.preloadImg(urls[item], () => {\n          this._preloadMark[item] = 2;\n        });\n      }\n    });\n  }\n  getPosition(now, containerWidth = 0, containerHeight = 0) {\n    const { pic_num, row, col, width, height } = this.config;\n    this.interval = Math.round(this.player.duration / pic_num);\n    let index = Math.ceil(now / this.interval);\n    index = index > pic_num ? pic_num : index;\n    const urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n    const indexInPage = index - urlIndex * (col * row);\n    const rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n    const colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n    let swidth = 0;\n    let sHeight = 0;\n    if (containerWidth && containerHeight) {\n      const per = containerWidth / containerHeight;\n      if (per < width / height) {\n        sHeight = containerHeight;\n        swidth = sHeight * (width / height);\n      } else {\n        swidth = containerWidth;\n        sHeight = swidth / (width / height);\n      }\n    } else if (!containerHeight) {\n      swidth = containerWidth || width;\n      sHeight = swidth / (width / height);\n    } else if (!containerWidth) {\n      sHeight = containerHeight || height;\n      swidth = sHeight * (width / height);\n    }\n    const url = this.getUrlByIndex(urlIndex);\n    return {\n      urlIndex,\n      rowIndex,\n      colIndex,\n      url,\n      height: sHeight,\n      width: swidth,\n      style: {\n        backgroundImage: `url(${url})`,\n        backgroundSize: `${swidth * col}px auto`,\n        backgroundPosition: `-${colIndex * swidth}px -${rowIndex * sHeight}px`,\n        width: `${swidth}px`,\n        height: `${sHeight}px`\n      }\n    };\n  }\n  update(dom, now, containerWidth = 0, containerHeight = 0, customStyle = \"\") {\n    const { pic_num, urls } = this.config;\n    if (pic_num <= 0 || !urls || urls.length === 0) {\n      return;\n    }\n    const pos = this.getPosition(now, containerWidth, containerHeight);\n    this.preload(pos.urlIndex);\n    Object.keys(pos.style).map((key) => {\n      dom.style[key] = pos.style[key];\n    });\n    Object.keys(customStyle).map((key) => {\n      dom.style[key] = customStyle[key];\n    });\n  }\n  changeConfig(newConfig = {}) {\n    this.setConfig(newConfig);\n  }\n  createThumbnail(root, className) {\n    const dom = util.createDom(\"xg-thumbnail\", \"\", {}, `thumbnail ${className}`);\n    root && root.appendChild(dom);\n    return dom;\n  }\n}\nexport { Thumbnail as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { TIME_UPDATE, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? `background:${color};` : \"\";\n}\nclass MiniProgress extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onTimeupdate\", () => {\n      const { ended } = this.player;\n      const { offsetDuration } = this;\n      let time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, ended);\n      this.update({ played: time }, offsetDuration);\n    });\n  }\n  static get pluginName() {\n    return \"MiniProgress\";\n  }\n  static get defaultConfig() {\n    return {\n      mode: \"auto\",\n      height: 2\n    };\n  }\n  get offsetDuration() {\n    return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n  }\n  afterCreate() {\n    if (!this.root) {\n      return;\n    }\n    this.on(TIME_UPDATE, this.onTimeupdate);\n    this.on(EMPTIED, () => {\n      this.reset();\n    });\n  }\n  reset() {\n    this.update({ played: 0, cached: 0 }, 0);\n  }\n  update(data = { cached: 0, played: 0 }, duration) {\n    if (!duration || !this.root) {\n      return;\n    }\n    if (data.cached) {\n      this.find(\"xg-mini-progress-cache\").style.width = `${data.cached / duration * 100}%`;\n    }\n    if (data.played) {\n      this.find(\"xg-mini-progress-played\").style.width = `${data.played / duration * 100}%`;\n    }\n  }\n  render() {\n    const { commonStyle, miniprogress } = this.playerConfig;\n    if (!miniprogress) {\n      return;\n    }\n    const { mode, height } = this.config;\n    const _style = {\n      cached: getBgColor(commonStyle.cachedColor),\n      played: getBgColor(commonStyle.playedColor),\n      progress: getBgColor(commonStyle.progressColor),\n      height: height > 0 && height !== 2 ? `height: ${height}px;` : \"\"\n    };\n    const stateClass = mode === \"show\" ? \"xg-mini-progress-show\" : \"\";\n    return `<xg-mini-progress class=\"xg-mini-progress ${stateClass}\" style=\"${_style.progress} ${_style.height}\">\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"${_style.cached}\"></xg-mini-progress-cache>\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"${_style.played}\"></xg-mini-progress-played>\n    </xg-mini-progress>`;\n  }\n}\nexport { MiniProgress as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START, TIME_UPDATE } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nconst MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    const ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nlet isSupportCanvas = null;\nclass DynamicBg extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onLoadedData\", (e) => {\n      if (!this.player) {\n        return;\n      }\n      this._frameCount = this.config.startFrameCount;\n      this.stop();\n      this.renderOnTimeupdate(e);\n      this.off(TIME_UPDATE, this.renderOnTimeupdate);\n      this.on(TIME_UPDATE, this.renderOnTimeupdate);\n    });\n    __publicField(this, \"onVisibilitychange\", (e) => {\n      if (document.visibilityState === \"visible\") {\n        this._checkIfCanStart() && this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        this.stop();\n      }\n    });\n    __publicField(this, \"renderOnTimeupdate\", (e) => {\n      if (this._frameCount > 0) {\n        this.renderOnce();\n        this._frameCount--;\n      } else {\n        this._isLoaded = true;\n        this.off(TIME_UPDATE, this.renderOnTimeupdate);\n        const { startInterval } = this.config;\n        !this.player.paused && this._checkIfCanStart() && this.start(0, startInterval);\n      }\n    });\n    __publicField(this, \"start\", (time, interval) => {\n      const video = this.player.video;\n      const _now = nowTime();\n      const _sVideo = this.checkVideoIsSupport(video);\n      if (!_sVideo || !this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = this.interval;\n      }\n      this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && this.update(_sVideo, this.videoPI);\n          this.preTime = _now;\n        } else if (_now - this.preTime >= interval) {\n          video && video.videoWidth && this.update(_sVideo, this.videoPI);\n          this.preTime = _now;\n        }\n      }\n      this.frameId = this._loopType === \"timer\" ? util.setTimeout(this, this.start, interval) : util.requestAnimationFrame(this.start);\n    });\n    __publicField(this, \"stop\", () => {\n      if (this.frameId) {\n        this._loopType === \"timer\" ? util.clearTimeout(this, this.frameId) : util.cancelAnimationFrame(this.frameId);\n        this.frameId = null;\n      }\n    });\n  }\n  static get pluginName() {\n    return \"dynamicBg\";\n  }\n  static get defaultConfig() {\n    return {\n      isInnerRender: false,\n      disable: true,\n      index: -1,\n      mode: \"framerate\",\n      frameRate: 10,\n      filter: \"blur(50px)\",\n      startFrameCount: 2,\n      startInterval: 0,\n      addMask: true,\n      multiple: 1.2,\n      maskBg: \"rgba(0,0,0,0.7)\"\n    };\n  }\n  static get isSupport() {\n    if (typeof isSupportCanvas === \"boolean\") {\n      return isSupportCanvas;\n    }\n    isSupportCanvas = checkIsSupportCanvas();\n    return isSupportCanvas;\n  }\n  static supportCanvasFilter() {\n    return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n  }\n  afterCreate() {\n    if (this.playerConfig.dynamicBg === true) {\n      this.config.disable = false;\n    }\n    if (!DynamicBg.isSupport) {\n      this.config.disable = true;\n    }\n    const { disable, mode, frameRate } = this.config;\n    if (disable) {\n      return;\n    }\n    this._pos = {\n      width: 0,\n      height: 0,\n      rwidth: 0,\n      rheight: 0,\n      x: 0,\n      y: 0,\n      pi: 0\n    };\n    this.isStart = false;\n    this._isLoaded = false;\n    this.videoPI = 0;\n    this.preTime = 0;\n    this.interval = parseInt(1e3 / frameRate, 10);\n    this.canvas = null;\n    this.canvasCtx = null;\n    this._frameCount = 0;\n    this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n    this.once(COMPLETE, () => {\n      if (!this.player) {\n        return;\n      }\n      this.init();\n      this.renderByPoster();\n      if (!this.player.paused) {\n        this.start();\n      }\n    });\n    if (mode === MODES.POSTER) {\n      return;\n    }\n    if (mode !== MODES.FIRST_FRAME) {\n      this.on(EMPTIED, () => {\n        this.stop();\n      });\n      this.on(PLAY, () => {\n        const { startInterval } = this.config;\n        this._checkIfCanStart() && this.start(0, startInterval);\n      });\n      this.on(PAUSE, () => {\n        this.stop();\n      });\n    }\n    this.on(LOADED_DATA, this.onLoadedData);\n    this.on(LOAD_START, () => {\n      this._isLoaded = false;\n      this.stop();\n    });\n    document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n  }\n  setConfig(config) {\n    Object.keys(config).forEach((key) => {\n      if (key === \"root\" && config[key] !== this.config[key]) {\n        this.reRender(config[key]);\n      } else if (key === \"frameRate\") {\n        this.interval = parseInt(1e3 / config[key], 10);\n      } else if (key === \"disable\" && config[key]) {\n        this.stop();\n      }\n      this.config[key] = config[key];\n    });\n  }\n  init(_root) {\n    const { player, config } = this;\n    this.canvasFilter = DynamicBg.supportCanvasFilter();\n    try {\n      let parent = _root || config.root;\n      if (!parent) {\n        parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n      }\n      parent.insertAdjacentHTML(\n        \"afterbegin\",\n        `<div class=\"xgplayer-dynamic-bg\" data-index=\"${config.index}\"><canvas>\n        </canvas><xgmask></xgmask></div>`\n      );\n      this.root = parent.children[0];\n      this.canvas = this.find(\"canvas\");\n      if (!this.canvasFilter) {\n        this.canvas.style.filter = config.filter;\n        this.canvas.style.webkitFilter = config.filter;\n      }\n      this.mask = this.find(\"xgmask\");\n      config.addMask && (this.mask.style.background = config.maskBg);\n      this.canvasCtx = this.canvas.getContext(\"2d\");\n    } catch (e) {\n      XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n    }\n  }\n  reRender(root) {\n    const { disable } = this.config;\n    if (!disable && !this.root) {\n      return;\n    }\n    this.stop();\n    const _p = this.root ? this.root.parentElement : null;\n    if (_p !== root) {\n      _p.removeChild(this.root);\n    }\n    if (!root) {\n      this.root = null;\n      return;\n    }\n    this.init(root);\n    this.renderOnce();\n    const { startInterval } = this.config;\n    this._checkIfCanStart() && this.start(0, startInterval);\n  }\n  checkVideoIsSupport(video) {\n    if (!video) {\n      return null;\n    }\n    const _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n    if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n      return _tVideo;\n    }\n    const _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n    if (_tagName === \"canvas\" || _tagName === \"img\") {\n      return _tVideo;\n    }\n    return null;\n  }\n  renderByPoster() {\n    const { poster } = this.playerConfig;\n    if (poster) {\n      const url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n      this.updateImg(url);\n    }\n  }\n  _checkIfCanStart() {\n    const { mode } = this.config;\n    return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n  }\n  renderOnce() {\n    const video = this.player.video;\n    if (!video.videoWidth || !video.videoHeight) {\n      return;\n    }\n    this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n    const _sVideo = this.checkVideoIsSupport(video);\n    _sVideo && this.update(_sVideo, this.videoPI);\n  }\n  updateImg(url) {\n    if (!url) {\n      return;\n    }\n    const { width, height } = this.canvas.getBoundingClientRect();\n    let image = new window.Image();\n    image.onload = () => {\n      if (!this.canvas || this.frameId || this.isStart) {\n        return;\n      }\n      this.canvas.height = height;\n      this.canvas.width = width;\n      const pi = parseInt(width / height * 100, 10);\n      this.update(image, pi);\n      image = null;\n    };\n    image.src = url;\n  }\n  update(video, sourcePI) {\n    if (!this.canvas || !this.canvasCtx || !sourcePI) {\n      return;\n    }\n    try {\n      const { _pos, config } = this;\n      const { width, height } = this.canvas.getBoundingClientRect();\n      if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n        const pi = parseInt(width / height * 100, 10);\n        _pos.pi = sourcePI;\n        _pos.width !== width && (_pos.width = this.canvas.width = width);\n        _pos.height !== height && (_pos.height = this.canvas.height = height);\n        let rheight = height;\n        let rwidth = width;\n        if (pi < sourcePI) {\n          rwidth = parseInt(height * sourcePI / 100, 10);\n        } else if (pi > sourcePI) {\n          rheight = parseInt(width * 100 / sourcePI, 10);\n        }\n        _pos.rwidth = rwidth * config.multiple;\n        _pos.rheight = rheight * config.multiple;\n        _pos.x = (width - _pos.rwidth) / 2;\n        _pos.y = (height - _pos.rheight) / 2;\n      }\n      this.canvasFilter && (this.canvasCtx.filter = config.filter);\n      this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n    } catch (e) {\n      XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n    }\n  }\n  destroy() {\n    this.stop();\n    document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n    this.canvasCtx = null;\n    this.canvas = null;\n  }\n  render() {\n    return \"\";\n  }\n}\nexport { DynamicBg as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport * as events from \"../../events.js\";\nimport { USER_ACTION } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nconst INFO = \"info\";\nconst { STATS_EVENTS } = events;\nclass Stats extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_recordUserActions\", (actionData) => {\n      const time = this._getTime();\n      const payload = Object.assign({}, actionData, { msg: actionData.msg || actionData.action });\n      this._stats[INFO].push({\n        type: \"userAction\",\n        ...time,\n        payload\n      });\n    });\n    __publicField(this, \"_onReset\", () => {\n      this.reset();\n    });\n    __publicField(this, \"_recordInfo\", (data) => {\n      this.info(data);\n    });\n    __publicField(this, \"_downloadStats\", () => {\n      const stats = this.getStats();\n      const blob = new Blob([JSON.stringify(stats)], { type: \"application/json\" });\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n  }\n  static get pluginName() {\n    return \"stats\";\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  _getTime() {\n    return {\n      timestamp: Date.now(),\n      timeFormat: new Date().toISOString()\n    };\n  }\n  afterCreate() {\n    this.reset();\n    this.on(USER_ACTION, this._recordUserActions);\n    this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n    this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n    this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n  }\n  destroy() {\n    this.offAll();\n  }\n  downloadStats() {\n    this._downloadStats();\n  }\n  info(data) {\n    if (data.profile) {\n      this._infoProfile(data);\n    } else {\n      this._info(data);\n    }\n  }\n  _info(data) {\n    const time = this._getTime();\n    this._stats[INFO].push({\n      ...time,\n      payload: data\n    });\n  }\n  _infoProfile(data) {\n    if (data && data.startMs) {\n      const endMs = Date.now();\n      const dur = endMs - data.startMs;\n      const profile = {\n        cat: \"function\",\n        dur,\n        name: data.name || data.msg,\n        ph: \"X\",\n        pid: 0,\n        tid: 0,\n        ts: data.startMs,\n        profile: true,\n        ...data\n      };\n      this._info(profile);\n    } else {\n      console.warn(\"infoProfile need object data, include startMs\");\n    }\n  }\n  reset() {\n    this._stats = {\n      [INFO]: [],\n      media: {}\n    };\n  }\n  getStats() {\n    const { player } = this;\n    const mediaElem = player.media;\n    const buffered = [];\n    for (let i = 0; i < mediaElem.buffered.length; i++) {\n      buffered.push({\n        start: mediaElem.buffered.start(i),\n        end: mediaElem.buffered.end(i)\n      });\n    }\n    const mediaInfo = {\n      currentTime: mediaElem.currentTime,\n      readyState: mediaElem.readyState,\n      buffered,\n      paused: mediaElem.paused,\n      ended: mediaElem.ended\n    };\n    this._stats.media = mediaInfo;\n    return {\n      raw: this._stats,\n      timestat: this._getTimeStats(),\n      profile: this._getProfile()\n    };\n  }\n  _getTimeStats() {\n    const allStat = this._stats[INFO];\n    const msgs = allStat.map((stat) => {\n      const data = stat.payload.data;\n      let msg = \"\";\n      try {\n        if (data instanceof Error) {\n          msg = data.msg;\n        } else if (data !== void 0) {\n          msg = JSON.stringify(data);\n        }\n      } catch (error) {\n        console.log(\"err\", error);\n      }\n      return `[${stat.timeFormat}] : ${stat.payload.msg} ${msg} `;\n    });\n    return msgs;\n  }\n  _getProfile() {\n    const profile = {\n      traceEvents: []\n    };\n    const allStat = this._stats[INFO];\n    allStat.forEach((stat) => {\n      if (stat.payload.profile) {\n        profile.traceEvents.push(stat.payload);\n      }\n    });\n    return profile;\n  }\n}\nexport { Stats as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass GapJump extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onGapJump\", () => {\n      const { player, config } = this;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && this.hasPlayed) {\n        return;\n      }\n      const buffered = player.media.buffered;\n      const smallGapLimit = config.smallGapLimit || 0.5;\n      const gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      const currentTime = player.media.currentTime;\n      const idx = this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      const jumpTo = buffered.start(idx) + 0.1;\n      const seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      const jumpSize = jumpTo - currentTime;\n      const isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        this.player && this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"gapJump\";\n  }\n  static get defaultConfig() {\n    return {\n      useGapJump: false,\n      smallGapLimit: 0.5,\n      gapDetectionThreshold: 0.3\n    };\n  }\n  afterCreate() {\n    const { useGapJump } = this.config;\n    if (useGapJump === false) {\n      return;\n    }\n    this.hasPlayed = false;\n    this.seekingEventReceived = false;\n    this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n    this.on(WAITING, this.onGapJump);\n    this.on(PLAY, () => {\n      this.hasPlayed = true;\n    });\n    this.on(SEEKING, () => {\n      this.seekingEventReceived = true;\n    });\n  }\n  _getIndex(buffered, time, threshold) {\n    if (!buffered || !buffered.length) {\n      return null;\n    }\n    if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n      return null;\n    }\n    const bufferedInfo = this._getBuffered(buffered);\n    let idx = null;\n    for (let i = 0; i < bufferedInfo.length; i++) {\n      const item = bufferedInfo[i];\n      if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n        idx = i;\n        break;\n      }\n    }\n    return idx;\n  }\n  _getBuffered(b) {\n    if (!b) {\n      return [];\n    }\n    const ret = [];\n    for (let i = 0; i < b.length; i++) {\n      ret.push({\n        start: b.start(i),\n        end: b.end(i)\n      });\n    }\n    return ret;\n  }\n}\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass WaitingTimeoutJump extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onWaiting\", () => {\n      const { config } = this;\n      if (this.jumpCnt > config.jumpCntMax || this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.timer = setTimeout(this.onJump, config.waitingTime * 1e3);\n    });\n    __publicField(this, \"onJump\", () => {\n      const { player, config } = this;\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && this.hasPlayed) {\n        return;\n      }\n      this.jumpSize = config.jumpSize * (this.jumpCnt + 1);\n      if (this.jumpCnt === config.jumpSize && this.jumpSize < 6) {\n        this.jumpSize = 6;\n      }\n      const jumpTo = player.currentTime + this.jumpSize;\n      const seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      console.log(\"waitintTimeout, currentTime:\", player.currentTime, \", jumpTo:\", jumpTo);\n      this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n  }\n  static get pluginName() {\n    return \"waitingTimeoutJump\";\n  }\n  static get defaultConfig() {\n    return {\n      useWaitingTimeoutJump: false,\n      waitingTime: 15,\n      jumpSize: 2,\n      jumpCntMax: 4\n    };\n  }\n  afterCreate() {\n    const { useWaitingTimeoutJump, jumpSize } = this.config;\n    if (useWaitingTimeoutJump === false) {\n      return;\n    }\n    this.hasPlayed = false;\n    this.jumpCnt = 0;\n    this.timer = null;\n    this.jumpSize = jumpSize;\n    this.on(WAITING, this.onWaiting);\n    this.on([PLAYING, CANPLAY], () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n      this.jumpSize = this.config.jumpSize;\n    });\n    this.on(PLAY, () => {\n      this.hasPlayed = true;\n    });\n  }\n}\nexport { WaitingTimeoutJump as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { LOADED_DATA, REPLAY, DOWNLOAD_SPEED_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nconst DEFAULT_SPEED_TYPE = \"cdn\";\nconst SPEED_TYPE = [\"cdn\"];\nclass TestSpeed extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"getSpeed\", (type = DEFAULT_SPEED_TYPE) => {\n      if (!this.speedListCache || !this.speedListCache[type])\n        return 0;\n      if (this.speedListCache[type].length <= 0)\n        return 0;\n      let total = 0;\n      this.speedListCache[type].map((item) => {\n        total += item;\n      });\n      return Math.floor(total / this.speedListCache[type].length);\n    });\n    __publicField(this, \"startTimer\", () => {\n      if (util.isMSE(this.player.video)) {\n        return;\n      }\n      this.initSpeedList();\n      this.cnt = 0;\n      this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n    });\n    __publicField(this, \"initSpeedList\", () => {\n      this.speedListCache = {};\n      SPEED_TYPE.forEach((type) => {\n        this.speedListCache[type] = [];\n      });\n    });\n    __publicField(this, \"_onRealSpeedChange\", (data) => {\n      data.speed && this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    __publicField(this, \"testSpeed\", () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (!this.player || !this.config.openSpeed)\n        return;\n      const { url, loadSize, testCnt, testTimeStep } = this.config;\n      const testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (this.cnt >= testCnt) {\n        return;\n      }\n      this.cnt++;\n      try {\n        const start = new Date().getTime();\n        let end = null;\n        const xhr = new XMLHttpRequest();\n        this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        const headers = {};\n        const random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach((k) => {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = () => {\n          if (xhr.readyState === 4) {\n            this.xhr = null;\n            end = new Date().getTime();\n            const size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            const speed = Math.round(size * 1e3 / (end - start));\n            this.appendList(speed);\n            this.timer = setTimeout(this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    __publicField(this, \"appendList\", (speed, type = DEFAULT_SPEED_TYPE) => {\n      if (!this.speedListCache || !this.speedListCache[type])\n        return;\n      const { saveSpeedMax } = this.config;\n      if (this.speedListCache[type].length >= saveSpeedMax) {\n        this.speedListCache[type].shift();\n      }\n      this.speedListCache[type].push(speed);\n      const { player } = this;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      this.updateSpeed(type);\n    });\n    __publicField(this, \"updateSpeed\", (type = DEFAULT_SPEED_TYPE) => {\n      const speed = this.getSpeed(type);\n      const { player } = this;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, { speed, realTimeSpeed: player.realTimeSpeed });\n          }\n        } else {\n          const speedName = this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, { speed, realTimeSpeed: player.realTimeSpeed });\n          }\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"testspeed\";\n  }\n  static get defaultConfig() {\n    return {\n      openSpeed: false,\n      testCnt: 3,\n      loadSize: 200 * 1024,\n      testTimeStep: 3e3,\n      url: \"\",\n      saveSpeedMax: 5,\n      addSpeedTypeList: []\n    };\n  }\n  afterCreate() {\n    const { openSpeed, addSpeedTypeList } = this.config;\n    if ((addSpeedTypeList == null ? void 0 : addSpeedTypeList.length) > 0) {\n      SPEED_TYPE.push(...addSpeedTypeList);\n    }\n    this.initSpeedList();\n    this.on(\"real_time_speed\", this._onRealSpeedChange);\n    this.timer = null;\n    this.cnt = 0;\n    this.xhr = null;\n    if (!openSpeed) {\n      return;\n    }\n    this.on([LOADED_DATA, REPLAY], this.startTimer);\n  }\n  getSpeedName(namePrefix, type) {\n    return namePrefix + \"Speed\" + type.toUpperCase();\n  }\n  set openSpeed(value) {\n    this.config.openSpeed = value;\n    if (!value && this.timer) {\n      clearTimeout(this.timer);\n      this.timer = null;\n      return;\n    }\n    if (this.config.openSpeed) {\n      if (this.timer)\n        return;\n      this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n    }\n  }\n  get openSpeed() {\n    return this.config.openSpeed;\n  }\n  destroy() {\n    this.off(\"real_time_speed\", this._onRealSpeedChange);\n    this.off([LOADED_DATA, REPLAY], this.startTimer);\n    SPEED_TYPE.forEach((type) => {\n      this.speedListCache && this.speedListCache[type] && (this.speedListCache[type] = []);\n    });\n    this.speedListCache && (this.speedListCache = {});\n    clearTimeout(this.timer);\n    this.timer = null;\n    if (this.xhr && this.xhr.readyState !== 4) {\n      this.xhr.cancel && this.xhr.cancel();\n      this.xhr = null;\n    }\n  }\n}\nexport { TestSpeed as default };\n","import \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass FpsDetect extends Plugin {\n  static get pluginName() {\n    return \"FpsDetect\";\n  }\n  static get defaultConfig() {\n    return {\n      disabled: false,\n      tick: 1e3,\n      stuckCount: 3,\n      reportFrame: 0\n    };\n  }\n  afterCreate() {\n    const { player, config } = this;\n    const media = player.media || player.video;\n    this.timer = null;\n    this._lastDecodedFrames = 0;\n    this._currentStuckCount = 0;\n    this._lastCheckPoint = null;\n    this._payload = [];\n    if (config.disabled)\n      return;\n    const getVideoPlaybackQuality = media.getVideoPlaybackQuality;\n    if (!getVideoPlaybackQuality)\n      return;\n    this.on(PLAY, () => {\n      this._startTick();\n    });\n    this.on(PAUSE, () => {\n      this._stopTick();\n    });\n    this.on(ENDED, () => {\n      this._stopTick();\n    });\n    this.on(EMPTIED, () => {\n      this._stopTick();\n    });\n  }\n  _startTick() {\n    this._stopTick();\n    this._timer = setTimeout(() => {\n      this._checkDecodeFPS();\n      this._startTick();\n    }, this.config.tick);\n  }\n  _stopTick() {\n    clearTimeout(this._timer);\n    this._timer = null;\n  }\n  _checkBuffer(curTime, buffered) {\n    let enoughBuffer = false;\n    const buffers = [];\n    for (let i = 0; i < buffered.length; i++) {\n      const start = buffered.start(i);\n      const end = buffered.end(i);\n      buffers.push({ start, end });\n      if (start <= curTime && curTime <= end - 1) {\n        enoughBuffer = true;\n        break;\n      }\n    }\n    return {\n      enoughBuffer,\n      buffers\n    };\n  }\n  _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n    const media = this.player.media || this.player.video;\n    const hidden = document.hidden;\n    const { paused, readyState, currentTime, buffered } = media;\n    if (hidden || paused || readyState < 4) {\n      return;\n    }\n    const { enoughBuffer, buffers } = this._checkBuffer(currentTime, buffered);\n    if (!enoughBuffer) {\n      return;\n    }\n    if (curDecodedFrames <= this.config.reportFrame) {\n      this._currentStuckCount++;\n      this._payload.push({ currentTime, buffers, curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval });\n      if (this._currentStuckCount >= this.config.stuckCount) {\n        this.emit(FPS_STUCK, this._payload);\n        this._reset();\n      }\n    } else {\n      this._reset();\n    }\n  }\n  _reset() {\n    this._payload = [];\n    this._currentStuckCount = 0;\n  }\n  _checkDecodeFPS() {\n    const media = this.player.media || this.player.video;\n    if (!media) {\n      return;\n    }\n    const { totalVideoFrames, droppedVideoFrames } = media.getVideoPlaybackQuality();\n    const currTime = performance.now();\n    if (totalVideoFrames) {\n      if (this._lastCheckPoint) {\n        const curDecoded = totalVideoFrames - this._lastDecodedFrames;\n        const checkInterval = currTime - this._lastCheckPoint;\n        this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n      }\n    }\n    this._lastDecodedFrames = totalVideoFrames;\n    this._lastCheckPoint = currTime;\n  }\n  destroy() {\n    this._stopTick();\n  }\n}\nexport { FpsDetect as default };\n","import sniffer from \"../utils/sniffer.js\";\nimport Controls from \"../plugins/controls/index.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nclass DefaultPreset {\n  constructor(options, playerConfig) {\n    const simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n    const { isLive, controls } = playerConfig;\n    const basePlugin = controls ? [Controls] : [];\n    const vodPlugins = isLive ? basePlugin : [...basePlugin, TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time];\n    const contolsIcons = [\n      ...vodPlugins,\n      Play,\n      Fullscreen,\n      Rotate,\n      PlayNextIcon,\n      DefinitionIcon,\n      PlaybackRate,\n      Download,\n      ScreenShot,\n      Volume,\n      PIP\n    ];\n    const layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n    this.plugins = [...contolsIcons, Stats, XGLogger, ...layers, GapJump, WaitingTimeoutJump];\n    const mode = simulateMode ? \"mobile\" : sniffer.device;\n    switch (mode) {\n      case \"pc\":\n        this.plugins.push(...[Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n        break;\n      case \"mobile\":\n        this.plugins.push(...[MobilePlugin]);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PCPlugin, CssFullScreen]);\n    }\n    if (sniffer.os.isIpad || mode === \"pc\") {\n      this.plugins.push(DynamicBg);\n    }\n    if (sniffer.os.isIpad) {\n      this.plugins.push(PCPlugin);\n    }\n    this.ignores = [];\n    this.i18n = [];\n  }\n}\nexport { DefaultPreset as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport { InstManager } from \"./instManager.js\";\nimport DefaultPreset from \"./presets/default.js\";\nclass PresetPlayer extends Player {\n}\n__publicField(PresetPlayer, \"defaultPreset\", DefaultPreset);\n__publicField(PresetPlayer, \"Util\", util);\n__publicField(PresetPlayer, \"Sniffer\", sniffer);\n__publicField(PresetPlayer, \"Errors\", Errors);\n__publicField(PresetPlayer, \"Events\", events);\n__publicField(PresetPlayer, \"Plugin\", Plugin);\n__publicField(PresetPlayer, \"BasePlugin\", BasePlugin);\n__publicField(PresetPlayer, \"I18N\", I18N);\n__publicField(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\n__publicField(PresetPlayer, \"InstManager\", InstManager);\nexport { PresetPlayer as default };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a = [null];\n      a.push.apply(a, args2);\n      var Constructor = Function.bind.apply(Parent2, a);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? /* @__PURE__ */ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _construct as construct, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeFunction as isNativeFunction, _isNativeReflectConstruct as isNativeReflectConstruct, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray, _wrapNativeSuper as wrapNativeSuper };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar _ERR_CODE;\nvar ERR = {\n  MANIFEST: \"manifest\",\n  NETWORK: \"network\",\n  NETWORK_TIMEOUT: \"network_timeout\",\n  NETWORK_FORBIDDEN: \"network_forbidden\",\n  NETWORK_NOTFOUND: \"network_notfound\",\n  NETWROK_RANGE_NOT_SATISFIABLE: \"network_range_not_satisfiable\",\n  DEMUX: \"demux\",\n  REMUX: \"remux\",\n  MEDIA: \"media\",\n  DRM: \"drm\",\n  OTHER: \"other\",\n  RUNTIME: \"runtime\",\n  SUB_TYPES: {\n    FLV: \"FLV\",\n    HLS: \"HLS\",\n    MP4: \"MP4\",\n    FMP4: \"FMP4\",\n    MSE_ADD_SB: \"MSE_ADD_SB\",\n    MSE_APPEND_BUFFER: \"MSE_APPEND_BUFFER\",\n    MSE_OTHER: \"MSE_OTHER\",\n    MSE_FULL: \"MSE_FULL\",\n    MSE_CHANGE_TYPE: \"MSE_CHANGE_TYPE\",\n    OPTION: \"OPTION\",\n    DASH: \"DASH\",\n    LICENSE: \"LICENSE\",\n    CUSTOM_LICENSE: \"CUSTOM_LICENSE\",\n    MSE_HIJACK: \"MSE_HIJACK\",\n    EME_HIJACK: \"EME_HIJACK\",\n    SIDX: \"SIDX\",\n    NO_CANPLAY_ERROR: \"NO_CANPLAY_ERROR\",\n    BUFFERBREAK_ERROR: \"BUFFERBREAK_ERROR\",\n    WAITING_TIMEOUT_ERROR: \"WAITING_TIMEOUT_ERROR\",\n    MEDIA_ERR_ABORTED: \"MEDIA_ERR_ABORTED\",\n    MEDIA_ERR_NETWORK: \"MEDIA_ERR_NETWORK\",\n    MEDIA_ERR_DECODE: \"MEDIA_ERR_DECODE\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"MEDIA_ERR_SRC_NOT_SUPPORTED\",\n    MEDIA_ERR_CODEC_NOT_SUPPORTED: \"MEDIA_ERR_CODEC_NOT_SUPPORTED\",\n    MEDIA_ERR_URL_EMPTY: \"MEDIA_ERR_URL_EMPTY\"\n  }\n};\nvar ERR_CODE = (_ERR_CODE = {}, _defineProperty(_ERR_CODE, ERR.MANIFEST, {\n  HLS: 1100,\n  DASH: 1200\n}), _defineProperty(_ERR_CODE, ERR.NETWORK, 2100), _defineProperty(_ERR_CODE, ERR.NETWORK_TIMEOUT, 2101), _defineProperty(_ERR_CODE, ERR.NETWORK_FORBIDDEN, 2103), _defineProperty(_ERR_CODE, ERR.NETWORK_NOTFOUND, 2104), _defineProperty(_ERR_CODE, ERR.NETWROK_RANGE_NOT_SATISFIABLE, 2116), _defineProperty(_ERR_CODE, ERR.DEMUX, {\n  FLV: 3100,\n  HLS: 3200,\n  MP4: 3300,\n  FMP4: 3400,\n  SIDX: 3410\n}), _defineProperty(_ERR_CODE, ERR.REMUX, {\n  FMP4: 4100,\n  MP4: 4200\n}), _defineProperty(_ERR_CODE, ERR.MEDIA, {\n  MEDIA_ERR_ABORTED: 5101,\n  MEDIA_ERR_NETWORK: 5102,\n  MEDIA_ERR_DECODE: 5103,\n  MEDIA_ERR_SRC_NOT_SUPPORTED: 5104,\n  MEDIA_ERR_CODEC_NOT_SUPPORTED: 5105,\n  MEDIA_ERR_URL_EMPTY: 5106,\n  MSE_ADD_SB: 5200,\n  MSE_APPEND_BUFFER: 5201,\n  MSE_OTHER: 5202,\n  MSE_FULL: 5203,\n  MSE_HIJACK: 5204,\n  MSE_CHANGE_TYPE: 5205,\n  EME_HIJACK: 5301\n}), _defineProperty(_ERR_CODE, ERR.DRM, {\n  LICENSE: 7100,\n  CUSTOM_LICENSE: 7200\n}), _defineProperty(_ERR_CODE, ERR.OTHER, 8e3), _defineProperty(_ERR_CODE, ERR.RUNTIME, {\n  NO_CANPLAY_ERROR: 9001,\n  BUFFERBREAK_ERROR: 9002,\n  WAITING_TIMEOUT_ERROR: 9003\n}), _ERR_CODE);\nvar StreamingError = /* @__PURE__ */ function(_Error) {\n  _inherits(StreamingError2, _Error);\n  var _super = _createSuper(StreamingError2);\n  function StreamingError2(type, subType, origin, payload, msg) {\n    var _this;\n    _classCallCheck(this, StreamingError2);\n    _this = _super.call(this, msg || (origin === null || origin === void 0 ? void 0 : origin.message));\n    _this.errorType = type === ERR.NETWORK_TIMEOUT ? ERR.NETWORK : type;\n    _this.originError = origin;\n    _this.ext = payload;\n    _this.errorCode = ERR_CODE[type][subType] || ERR_CODE[type];\n    _this.errorMessage = _this.message;\n    if (!_this.errorCode) {\n      _this.errorType = ERR.OTHER;\n      _this.errorCode = ERR_CODE[_this.errorType];\n    }\n    return _this;\n  }\n  _createClass(StreamingError2, null, [{\n    key: \"create\",\n    value: function create(type, subType, origin, payload, msg) {\n      if (type instanceof StreamingError2) {\n        return type;\n      } else if (type instanceof Error) {\n        origin = type;\n        type = \"\";\n      }\n      if (!type)\n        type = ERR.OTHER;\n      return new StreamingError2(type, subType, origin, payload, msg);\n    }\n  }, {\n    key: \"network\",\n    value: function network(error) {\n      var _error$response;\n      return new StreamingError2(error !== null && error !== void 0 && error.isTimeout ? ERR.NETWORK_TIMEOUT : ERR.NETWORK, null, error instanceof Error ? error : null, {\n        url: error === null || error === void 0 ? void 0 : error.url,\n        response: error === null || error === void 0 ? void 0 : error.response,\n        httpCode: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status\n      });\n    }\n  }]);\n  return StreamingError2;\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { ERR, ERR_CODE, StreamingError };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n  }\n  _createClass(Buffer2, null, [{\n    key: \"start\",\n    value: function start(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      if (buf.length === 1 && buf.start(0) < 0)\n        return 0;\n      return buf.start(0);\n    }\n  }, {\n    key: \"end\",\n    value: function end(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      return buf.end(buf.length - 1);\n    }\n  }, {\n    key: \"get\",\n    value: function get(b) {\n      if (!b)\n        return;\n      try {\n        return b.buffered;\n      } catch (error) {\n      }\n    }\n  }, {\n    key: \"buffers\",\n    value: function buffers(buf, maxHole) {\n      if (!buf || !buf.length)\n        return [];\n      var buffers2 = [];\n      for (var i = 0, l = buf.length; i < l; i++) {\n        var bufLen = buffers2.length;\n        if (!bufLen || !maxHole) {\n          buffers2.push([buf.start(i), buf.end(i)]);\n        } else {\n          var last = buffers2[bufLen - 1];\n          var lastEnd = last[1];\n          var start = buf.start(i);\n          if (start - lastEnd <= maxHole) {\n            var end = buf.end(i);\n            if (end > lastEnd) {\n              last[1] = end;\n            }\n          } else {\n            buffers2.push([buf.start(i), buf.end(i)]);\n          }\n        }\n      }\n      return buffers2;\n    }\n  }, {\n    key: \"totalLength\",\n    value: function totalLength(buffers) {\n      if (!buffers || !buffers.length)\n        return 0;\n      return buffers.reduce(function(a, c) {\n        return a += c[1] - c[0];\n      }, 0);\n    }\n  }, {\n    key: \"info\",\n    value: function info(buf) {\n      var pos = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var maxHole = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      if (!buf || !buf.length)\n        return {\n          start: 0,\n          end: 0,\n          buffers: []\n        };\n      var start = 0;\n      var end = 0;\n      var index = 0;\n      var nextStart = 0;\n      var nextEnd = 0;\n      var prevStart = 0;\n      var prevEnd = 0;\n      var buffers = Buffer2.buffers(buf, maxHole);\n      for (var i = 0, l = buffers.length; i < l; i++) {\n        var item = buffers[i];\n        if (pos + maxHole >= item[0] && pos <= item[1]) {\n          start = item[0];\n          end = item[1];\n          index = i;\n        } else if (pos + maxHole < item[0]) {\n          nextStart = item[0];\n          nextEnd = item[1];\n          break;\n        } else if (pos + maxHole > item[1]) {\n          prevStart = item[0];\n          prevEnd = item[1];\n        }\n      }\n      return {\n        start,\n        end,\n        index,\n        buffers,\n        nextStart,\n        nextEnd,\n        prevStart,\n        prevEnd,\n        currentTime: pos,\n        behind: pos - start,\n        remaining: end ? end - pos : 0,\n        length: Buffer2.totalLength && Buffer2.totalLength(buffers)\n      };\n    }\n  }, {\n    key: \"isBuffered\",\n    value: function isBuffered(media, pos) {\n      if (media) {\n        var buffered = Buffer2.get(media);\n        if (buffered !== null && buffered !== void 0 && buffered.length) {\n          for (var i = 0; i < buffered.length; i++) {\n            if (pos >= buffered.start(i) && pos <= buffered.end(i)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer };\n","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar LogCacheLevel = {\n  \"DEBUG\": 1,\n  \"LOG\": 2,\n  \"WARN\": 3,\n  \"ERROR\": 4\n};\nvar LOG_MAX_SIZE = 200 * 1024;\nvar SIMPLE_TYPE = [\"Boolean\", \"Number\", \"String\", \"Undefined\", \"Null\", \"Date\", \"Object\"];\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, config) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    this.logCacheLevel = (config === null || config === void 0 ? void 0 : config.logCacheLevel) || 3;\n    this.logMaxSize = (config === null || config === void 0 ? void 0 : config.logMaxSize) || LOG_MAX_SIZE;\n    this.logSize = 0;\n    this.logTextArray = [];\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.logCache.apply(this, [LogCacheLevel.DEBUG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console = console).debug.apply(_console, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      this.logCache.apply(this, [LogCacheLevel.LOG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console2 = console).log.apply(_console2, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      this.logCache.apply(this, [LogCacheLevel.WARN].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console3 = console).warn.apply(_console3, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      this.logCache.apply(this, [LogCacheLevel.ERROR].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console4 = console).error.apply(_console4, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"logCache\",\n    value: function logCache(logCacheLevel) {\n      if (logCacheLevel < this.logCacheLevel)\n        return;\n      var text = \"\";\n      try {\n        for (var _len5 = arguments.length, logText = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n          logText[_key5 - 1] = arguments[_key5];\n        }\n        var finLogText = logText.map(function(item) {\n          return logable(item);\n        });\n        text = \"[\".concat(nowTime(), \"]\") + this._prefix + JSON.stringify(finLogText);\n      } catch (e) {\n        return;\n      }\n      if (logCacheLevel >= this.logCacheLevel) {\n        this.logSize += text.length;\n        this.logTextArray.push(text);\n      }\n      if (this.logSize > this.logMaxSize) {\n        var delLog = this.logTextArray.shift();\n        this.logSize -= delLog.length;\n      }\n    }\n  }, {\n    key: \"getLogCache\",\n    value: function getLogCache() {\n      var logText = this.logTextArray.join(\"\\n\");\n      this.reset();\n      return logText;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.logTextArray = [];\n      this.logSize = 0;\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }, {\n    key: \"setLogLevel\",\n    value: function setLogLevel(val) {\n      this.logCacheLevel = val;\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nfunction nowTime() {\n  return new Date().toLocaleString();\n}\nfunction reduceDepth(val) {\n  if (_typeof(val) !== \"object\") {\n    return val;\n  }\n  var objType = Object.prototype.toString.call(val).slice(8, -1);\n  switch (objType) {\n    case \"Array\":\n    case \"Uint8Array\":\n    case \"ArrayBuffer\":\n      return objType + \"[\" + val.length + \"]\";\n    case \"Object\":\n      return \"{}\";\n    default:\n      return objType;\n  }\n}\nfunction logable(obj, maxDepth, depth) {\n  if (!depth)\n    depth = 1;\n  if (!maxDepth)\n    maxDepth = 2;\n  var result = {};\n  if (!obj || _typeof(obj) !== \"object\") {\n    return obj;\n  }\n  var objType = Object.prototype.toString.call(obj).slice(8, -1);\n  if (!SIMPLE_TYPE.includes(objType)) {\n    return objType;\n  }\n  if (depth > maxDepth) {\n    return void 0;\n  }\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (depth === maxDepth) {\n        result[key] = reduceDepth(obj[key]);\n      } else if (_typeof(obj[key]) === \"object\") {\n        result[key] = logable(obj[key], maxDepth, depth + 1);\n      } else {\n        result[key] = obj[key];\n      }\n    }\n  }\n  return result;\n}\nexport { LogCacheLevel, Logger };\n","function createPublicPromise() {\n  var res, rej;\n  var promise = new Promise(function(resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.used = false;\n  promise.resolve = function() {\n    promise.used = true;\n    return res.apply(void 0, arguments);\n  };\n  promise.reject = function() {\n    promise.used = true;\n    return rej.apply(void 0, arguments);\n  };\n  return promise;\n}\nfunction nowTime() {\n  try {\n    return parseInt(performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nvar SafeJSON = {\n  stringify: function stringify(obj) {\n    try {\n      return JSON.stringify(obj);\n    } catch (e) {\n      return \"\";\n    }\n  },\n  parse: function parse(obj) {\n    try {\n      return JSON.parse(obj);\n    } catch (e) {\n      return void 0;\n    }\n  }\n};\nexport { SafeJSON, createPublicPromise, nowTime };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper, typeof as _typeof, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"./buffer.js\";\nimport { isBrowser } from \"./env.js\";\nimport { StreamingError, ERR } from \"./error.js\";\nimport { Logger } from \"./logger.js\";\nimport { createPublicPromise, nowTime, SafeJSON } from \"./utils.js\";\nfunction getMediaSource() {\n  var preferMMS = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n  try {\n    if (!isBrowser)\n      return null;\n    if (preferMMS && typeof ManagedMediaSource !== \"undefined\")\n      return ManagedMediaSource;\n    return window.MediaSource;\n  } catch (e) {\n  }\n}\nfunction isMMS(mediaSource) {\n  return /ManagedMediaSource/gi.test(Object.prototype.toString.call(mediaSource));\n}\nfunction getTimeRanges(buffered) {\n  var ranges = [];\n  if (buffered instanceof TimeRanges) {\n    for (var i = 0; i < buffered.length; i++) {\n      ranges.push({\n        start: buffered.start(i),\n        end: buffered.end(i)\n      });\n    }\n  }\n  return ranges;\n}\nvar MSEErrorType = {\n  UPDATE_ERROR: \"updateError\"\n};\nvar OP_NAME = {\n  APPEND: \"appendBuffer\",\n  REMOVE: \"removeBuffer\",\n  UPDATE_DURATION: \"updateDuration\"\n};\nvar MSEError = /* @__PURE__ */ function(_Error) {\n  _inherits(MSEError2, _Error);\n  var _super = _createSuper(MSEError2);\n  function MSEError2(type, msg) {\n    var _this;\n    _classCallCheck(this, MSEError2);\n    _this = _super.call(this, msg || type);\n    _this.type = type;\n    _this.msg = msg;\n    return _this;\n  }\n  return _createClass(MSEError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nvar MSE = /* @__PURE__ */ function() {\n  function MSE2(media, config) {\n    var _this2 = this;\n    _classCallCheck(this, MSE2);\n    _defineProperty(this, \"media\", null);\n    _defineProperty(this, \"mediaSource\", null);\n    _defineProperty(this, \"_openPromise\", createPublicPromise());\n    _defineProperty(this, \"_queue\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_sourceBuffer\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_mseFullFlag\", {});\n    _defineProperty(this, \"_st\", 0);\n    _defineProperty(this, \"_opst\", 0);\n    _defineProperty(this, \"_logger\", null);\n    _defineProperty(this, \"_config\", null);\n    _defineProperty(this, \"_url\", null);\n    _defineProperty(this, \"_onStartStreaming\", function() {\n      _this2._logger.debug(\"startstreaming\");\n    });\n    _defineProperty(this, \"_onEndStreaming\", function() {\n      _this2._logger.debug(\"endstreaming\");\n    });\n    _defineProperty(this, \"_onSBUpdateEnd\", function(type) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (!((op === null || op === void 0 ? void 0 : op.opName) === OP_NAME.UPDATE_DURATION)) {\n          queue.shift();\n        }\n        if (op) {\n          var _this2$_sourceBuffer$, _op$context;\n          var costtime = nowTime() - _this2._opst;\n          _this2._logger.debug(\"UpdateEnd(\".concat(type, \"/\").concat(op.opName, \")\"), SafeJSON.stringify(getTimeRanges((_this2$_sourceBuffer$ = _this2._sourceBuffer[type]) === null || _this2$_sourceBuffer$ === void 0 ? void 0 : _this2$_sourceBuffer$.buffered)), costtime, op.context);\n          op.promise.resolve({\n            name: op.opName,\n            context: op.context,\n            costtime\n          });\n          var callback = (_op$context = op.context) === null || _op$context === void 0 ? void 0 : _op$context.callback;\n          if (callback && typeof callback === \"function\") {\n            callback(op.context);\n          }\n          _this2._startQueue(type);\n        }\n      }\n    });\n    _defineProperty(this, \"_onSBUpdateError\", function(type, event) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op) {\n          _this2._logger.error(\"UpdateError\", type, op.opName, op.context);\n          op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_APPEND_BUFFER, event));\n        }\n      }\n    });\n    this._config = Object.assign(MSE2.getDefaultConfig(), config);\n    if (media)\n      this.bindMedia(media);\n    this._logger = new Logger(\"MSE\");\n    if (this._config.openLog) {\n      Logger.enable();\n    }\n  }\n  _createClass(MSE2, [{\n    key: \"isOpened\",\n    get: function get() {\n      var _this$mediaSource;\n      return ((_this$mediaSource = this.mediaSource) === null || _this$mediaSource === void 0 ? void 0 : _this$mediaSource.readyState) === \"open\";\n    }\n  }, {\n    key: \"hasOpTasks\",\n    get: function get() {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this._queue).forEach(function(k) {\n        var queue = _this3._queue[k];\n        if (Array.isArray(queue)) {\n          flag || (flag = queue.length > 0);\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this._url;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      var _this$mediaSource2;\n      return ((_this$mediaSource2 = this.mediaSource) === null || _this$mediaSource2 === void 0 ? void 0 : _this$mediaSource2.duration) || -1;\n    }\n  }, {\n    key: \"isEnded\",\n    get: function get() {\n      return this.mediaSource ? this.mediaSource.readyState === \"ended\" : false;\n    }\n  }, {\n    key: \"streaming\",\n    get: function get() {\n      return isMMS(this.mediaSource) ? this.mediaSource.streaming : true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull(type) {\n      return type ? this._mseFullFlag[type] : this._mseFullFlag[MSE2.VIDEO];\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this4 = this;\n      var isReduceDuration = this.mediaSource && this.mediaSource.duration > duration;\n      if (this.mediaSource && this.mediaSource.duration > duration) {\n        var bufferEnd = 0;\n        Object.keys(this._sourceBuffer).forEach(function(k) {\n          try {\n            bufferEnd = Math.max(_this4.bufferEnd(k) || 0, bufferEnd);\n          } catch (error) {\n          }\n        });\n        if (duration < bufferEnd) {\n          return Promise.resolve();\n        }\n      }\n      return this._enqueueBlockingOp(function() {\n        if (_this4.isEnded) {\n          _this4._logger.debug(\"setDuration but ended\");\n          return;\n        }\n        if (_this4.mediaSource) {\n          _this4.mediaSource.duration = duration;\n          _this4._logger.debug(\"setDuration\", duration);\n        }\n      }, OP_NAME.UPDATE_DURATION, {\n        isReduceDuration\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this5 = this;\n      if (this._openPromise.used && !this.isOpened && this.mediaSource) {\n        var ms = this.mediaSource;\n        var onOpen = function onOpen2() {\n          var costTime = nowTime() - _this5._st;\n          _this5._logger.debug(\"sourceopen\", costTime);\n          ms.removeEventListener(\"sourceopen\", onOpen2);\n          _this5._openPromise.resolve({\n            costtime: costTime\n          });\n        };\n        ms.addEventListener(\"sourceopen\", onOpen);\n        this._openPromise = createPublicPromise();\n      }\n      return this._openPromise;\n    }\n  }, {\n    key: \"bindMedia\",\n    value: function() {\n      var _bindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(media) {\n        var _this6 = this;\n        var MediaSource2, ms, useMMS, onOpen;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.mediaSource || this.media)) {\n                  _context.next = 3;\n                  break;\n                }\n                _context.next = 3;\n                return this.unbindMedia();\n              case 3:\n                MediaSource2 = getMediaSource(this._config.preferMMS);\n                if (!(!media || !MediaSource2)) {\n                  _context.next = 6;\n                  break;\n                }\n                throw new Error(\"Param media or MediaSource does not exist\");\n              case 6:\n                this.media = media;\n                ms = this.mediaSource = new MediaSource2();\n                useMMS = isMMS(ms);\n                this._st = nowTime();\n                onOpen = function onOpen2() {\n                  var costTime = nowTime() - _this6._st;\n                  _this6._logger.debug(\"sourceopen\");\n                  ms.removeEventListener(\"sourceopen\", onOpen2);\n                  URL.revokeObjectURL(media.src);\n                  _this6._openPromise.resolve({\n                    costtime: costTime\n                  });\n                };\n                ms.addEventListener(\"sourceopen\", onOpen);\n                if (useMMS) {\n                  ms.addEventListener(\"startstreaming\", this._onStartStreaming);\n                  ms.addEventListener(\"endstreaming\", this._onEndStreaming);\n                }\n                this._url = URL.createObjectURL(ms);\n                media.src = this._url;\n                media.disableRemotePlayback = useMMS;\n                return _context.abrupt(\"return\", this._openPromise);\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function bindMedia(_x) {\n        return _bindMedia.apply(this, arguments);\n      }\n      return bindMedia;\n    }()\n  }, {\n    key: \"unbindMedia\",\n    value: function() {\n      var _unbindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        var _this7 = this;\n        var ms, hasMetadata, mseOpen;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._openPromise.used)\n                  this._openPromise.resolve();\n                ms = this.mediaSource;\n                if (ms) {\n                  Object.keys(this._queue).forEach(function(t) {\n                    var queue = _this7._queue[t];\n                    if (queue) {\n                      queue.forEach(function(x) {\n                        var _x$promise, _x$promise$resolve;\n                        return (_x$promise = x.promise) === null || _x$promise === void 0 ? void 0 : (_x$promise$resolve = _x$promise.resolve) === null || _x$promise$resolve === void 0 ? void 0 : _x$promise$resolve.call(_x$promise);\n                      });\n                    }\n                  });\n                  hasMetadata = !!this.media && this.media.readyState >= 1;\n                  mseOpen = ms.readyState === \"open\";\n                  if (hasMetadata && mseOpen) {\n                    try {\n                      ms.endOfStream();\n                    } catch (error) {\n                    }\n                  }\n                  Object.keys(this._sourceBuffer).forEach(function(k) {\n                    try {\n                      ms.removeSourceBuffer(_this7._sourceBuffer[k]);\n                    } catch (error) {\n                    }\n                  });\n                  if (isMMS(ms)) {\n                    ms.removeEventListener(\"startstreaming\", this._onStartStreaming);\n                    ms.removeEventListener(\"endstreaming\", this._onEndStreaming);\n                  }\n                }\n                if (this.media) {\n                  this.media.disableRemotePlayback = false;\n                  this.media.removeAttribute(\"src\");\n                  try {\n                    this.media.load();\n                  } catch (error) {\n                  }\n                  this.media = null;\n                }\n                this.mediaSource = null;\n                this._openPromise = createPublicPromise();\n                this._queue = /* @__PURE__ */ Object.create(null);\n                this._sourceBuffer = /* @__PURE__ */ Object.create(null);\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function unbindMedia() {\n        return _unbindMedia.apply(this, arguments);\n      }\n      return unbindMedia;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(type, mimeType) {\n      if (this._sourceBuffer[type] || !this.mediaSource)\n        return;\n      var sb;\n      try {\n        sb = this._sourceBuffer[type] = this.mediaSource.addSourceBuffer(mimeType);\n      } catch (error) {\n        throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_ADD_SB, error);\n      }\n      sb.mimeType = mimeType;\n      sb.addEventListener(\"updateend\", this._onSBUpdateEnd.bind(this, type));\n      sb.addEventListener(\"error\", this._onSBUpdateError.bind(this, type));\n    }\n  }, {\n    key: \"changeType\",\n    value: function changeType(type, mimeType) {\n      var _this8 = this;\n      var sb = this._sourceBuffer[type];\n      if (!this.mediaSource || !sb || sb.mimeType === mimeType)\n        return Promise.resolve();\n      if (typeof sb.changeType !== \"function\") {\n        return Promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, new Error(\"changeType is not a function\")));\n      }\n      return this._enqueueOp(type, function() {\n        try {\n          sb.changeType(mimeType);\n        } catch (e) {\n          throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, e);\n        }\n        sb.mimeType = mimeType;\n        _this8._onSBUpdateEnd(type);\n      }, \"changeType\", {\n        mimeType\n      });\n    }\n  }, {\n    key: \"createOrChangeSource\",\n    value: function createOrChangeSource(type, mimeType) {\n      this.createSource(type, mimeType);\n      return this.changeType(type, mimeType);\n    }\n  }, {\n    key: \"append\",\n    value: function append(type, buffer, context) {\n      var _this9 = this;\n      if (!buffer || !buffer.byteLength) {\n        return Promise.resolve();\n      }\n      if (!this._sourceBuffer[type])\n        return Promise.resolve();\n      return this._enqueueOp(type, function() {\n        var _this9$_sourceBuffer$;\n        if (!_this9.mediaSource || _this9.media.error)\n          return;\n        _this9._logger.debug(\"MSE APPEND START\", context);\n        _this9._opst = nowTime();\n        (_this9$_sourceBuffer$ = _this9._sourceBuffer[type]) === null || _this9$_sourceBuffer$ === void 0 ? void 0 : _this9$_sourceBuffer$.appendBuffer(buffer);\n      }, OP_NAME.APPEND, context);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, startTime, endTime, context) {\n      var _this10 = this;\n      var isInsertHead = false;\n      if (this._mseFullFlag[type]) {\n        isInsertHead = true;\n      }\n      return this._enqueueOp(type, function() {\n        if (!_this10.mediaSource || _this10.media.error)\n          return;\n        var sb = _this10._sourceBuffer[type];\n        if (startTime >= endTime || !sb) {\n          _this10._onSBUpdateEnd(type);\n          return;\n        }\n        _this10._opst = nowTime();\n        _this10._logger.debug(\"MSE REMOVE START\", type, startTime, endTime, context);\n        sb.remove(startTime, endTime);\n      }, OP_NAME.REMOVE, context, isInsertHead);\n    }\n  }, {\n    key: \"clearBuffer\",\n    value: function clearBuffer(startTime, endTime) {\n      var _this11 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        p = _this11.remove(k, startTime, endTime);\n      });\n      return p || Promise.resolve();\n    }\n  }, {\n    key: \"clearAllBuffer\",\n    value: function clearAllBuffer() {\n      var _this12 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        var sb = _this12._sourceBuffer[k];\n        p = _this12.remove(k, 0, Buffer.end(Buffer.get(sb)));\n      });\n      return p;\n    }\n  }, {\n    key: \"clearOpQueues\",\n    value: function clearOpQueues(type, allClear) {\n      var _this$_queue$type;\n      this._logger.debug(\"MSE clearOpQueue START\");\n      var queue = this._queue[type];\n      if (allClear && queue) {\n        this._queue[type] = [];\n        return;\n      }\n      if (!queue || !queue[type] || queue.length < 5)\n        return;\n      var initQueue = [];\n      queue.forEach(function(op) {\n        if (op.context && op.context.isinit) {\n          initQueue.push(op);\n        }\n      });\n      this._queue[type] = queue.slice(0, 2);\n      initQueue.length > 0 && (_this$_queue$type = this._queue[type]).push.apply(_this$_queue$type, initQueue);\n    }\n  }, {\n    key: \"endOfStream\",\n    value: function endOfStream(reason) {\n      var _this13 = this;\n      if (!this.mediaSource || this.mediaSource.readyState !== \"open\")\n        return Promise.resolve();\n      return this._enqueueBlockingOp(function() {\n        var ms = _this13.mediaSource;\n        if (!ms || ms.readyState !== \"open\")\n          return;\n        _this13._logger.debug(\"MSE endOfStream START\");\n        if (reason) {\n          ms.endOfStream(reason);\n        } else {\n          ms.endOfStream();\n        }\n      }, \"endOfStream\");\n    }\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function setLiveSeekableRange(start, end) {\n      var ms = this.mediaSource;\n      if (start < 0 || end < start || !(ms !== null && ms !== void 0 && ms.setLiveSeekableRange) || ms.readyState !== \"open\")\n        return;\n      ms.setLiveSeekableRange(start, end);\n    }\n  }, {\n    key: \"getSourceBuffer\",\n    value: function getSourceBuffer(type) {\n      return this._sourceBuffer[type];\n    }\n  }, {\n    key: \"buffered\",\n    value: function buffered(type) {\n      return Buffer.get(this._sourceBuffer[type]);\n    }\n  }, {\n    key: \"bufferStart\",\n    value: function bufferStart(type) {\n      return Buffer.start(this.buffered(type));\n    }\n  }, {\n    key: \"bufferEnd\",\n    value: function bufferEnd(type) {\n      return Buffer.end(this.buffered(type));\n    }\n  }, {\n    key: \"_enqueueOp\",\n    value: function _enqueueOp(type, exec, opName, context, isInsertHead) {\n      var _this14 = this;\n      if (!this.mediaSource)\n        return Promise.resolve();\n      var queue = this._queue[type] = this._queue[type] || [];\n      var op = {\n        exec,\n        promise: createPublicPromise(),\n        opName,\n        context\n      };\n      if (isInsertHead) {\n        queue.splice(0, 0, op);\n        this._mseFullFlag[type] = false;\n        this._startQueue(type);\n      } else {\n        queue.push(op);\n      }\n      if (this.isOpened || this.isEnded) {\n        if (queue.length === 1) {\n          this._startQueue(type);\n        }\n      } else {\n        this._openPromise.then(function() {\n          if (queue.length === 1) {\n            _this14._startQueue(type);\n          }\n        });\n      }\n      return op.promise;\n    }\n  }, {\n    key: \"_enqueueBlockingOp\",\n    value: function() {\n      var _enqueueBlockingOp2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(exec, opName, context) {\n        var _this15 = this;\n        var types, waiters;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.mediaSource) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\", Promise.resolve());\n              case 2:\n                types = Object.keys(this._sourceBuffer);\n                if (types.length) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\", exec());\n              case 5:\n                waiters = [];\n                types.forEach(function(t) {\n                  var queue = _this15._queue[t];\n                  var prom = createPublicPromise();\n                  waiters.push(prom);\n                  queue.push({\n                    exec: function exec2() {\n                      prom.resolve();\n                    },\n                    promise: prom,\n                    opName,\n                    context\n                  });\n                  if (queue.length === 1) {\n                    _this15._startQueue(t);\n                  }\n                });\n                return _context3.abrupt(\"return\", Promise.all(waiters).then(function() {\n                  try {\n                    return exec();\n                  } finally {\n                    types.forEach(function(t) {\n                      var queue = _this15._queue[t];\n                      var sb = _this15._sourceBuffer[t];\n                      queue === null || queue === void 0 ? void 0 : queue.shift();\n                      if (!sb || !sb.updating) {\n                        _this15._startQueue(t);\n                      }\n                    });\n                  }\n                }));\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _enqueueBlockingOp(_x2, _x3, _x4) {\n        return _enqueueBlockingOp2.apply(this, arguments);\n      }\n      return _enqueueBlockingOp;\n    }()\n  }, {\n    key: \"_startQueue\",\n    value: function _startQueue(type) {\n      var queue = this._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op && !this._mseFullFlag[type]) {\n          try {\n            op.exec();\n          } catch (error) {\n            if (error && error.message && error.message.indexOf(\"SourceBuffer is full\") >= 0) {\n              this._mseFullFlag[type] = true;\n              if (op.context && _typeof(op.context) === \"object\") {\n                op.context.isFull = true;\n              }\n              this._logger.error(\"[MSE error],  context,\", op.context, \" ,name,\", op.opName, \",err,SourceBuffer is full\");\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_FULL, error));\n            } else {\n              this._logger.error(error);\n              op.promise.reject(error.constructor === StreamingError ? error : new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_OTHER, error));\n              queue.shift();\n              this._startQueue(type);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setTimeoffset\",\n    value: function setTimeoffset(type, timestampOffset, context) {\n      var _this16 = this;\n      return this._enqueueOp(type, function() {\n        if (timestampOffset < 0) {\n          timestampOffset += 1e-3;\n        }\n        _this16._sourceBuffer[type].timestampOffset = timestampOffset;\n        _this16._onSBUpdateEnd(type);\n      }, \"setTimeoffset\", context);\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(type, context) {\n      var _this17 = this;\n      if (!this.isOpened) {\n        return Promise.resolve();\n      }\n      return this._enqueueOp(type, function() {\n        _this17._sourceBuffer[type].abort();\n        _this17._onSBUpdateEnd(type);\n      }, \"abort\", context);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n      var MediaSource2 = getMediaSource();\n      if (!MediaSource2)\n        return false;\n      try {\n        return MediaSource2.isTypeSupported(mime);\n      } catch (error) {\n        this._logger.error(mime, error);\n        return false;\n      }\n    }\n  }, {\n    key: \"isMMSOnly\",\n    value: function isMMSOnly() {\n      return typeof ManagedMediaSource !== \"undefined\" && typeof MediaSource === \"undefined\";\n    }\n  }, {\n    key: \"getDefaultConfig\",\n    value: function getDefaultConfig() {\n      return {\n        openLog: false,\n        preferMMS: false\n      };\n    }\n  }]);\n  return MSE2;\n}();\n_defineProperty(MSE, \"VIDEO\", \"video\");\n_defineProperty(MSE, \"AUDIO\", \"audio\");\nexport { MSE, MSEError, MSEErrorType };\n","var EVENT = {\n  ERROR: \"error\",\n  TTFB: \"core.ttfb\",\n  LOAD_START: \"core.loadstart\",\n  LOAD_RESPONSE_HEADERS: \"core.loadresponseheaders\",\n  LOAD_COMPLETE: \"core.loadcomplete\",\n  LOAD_RETRY: \"core.loadretry\",\n  SOURCEBUFFER_CREATED: \"core.sourcebuffercreated\",\n  MEDIASOURCE_OPENED: \"core.mediasourceopened\",\n  ANALYZE_DURATION_EXCEEDED: \"core.analyzedurationexceeded\",\n  APPEND_BUFFER: \"core.appendbuffer\",\n  REMOVE_BUFFER: \"core.removebuffer\",\n  BUFFEREOS: \"core.buffereos\",\n  KEYFRAME: \"core.keyframe\",\n  CHASEFRAME: \"core.chaseframe\",\n  METADATA_PARSED: \"core.metadataparsed\",\n  SEI: \"core.sei\",\n  SEI_IN_TIME: \"core.seiintime\",\n  FLV_SCRIPT_DATA: \"core.flvscriptdata\",\n  LOWDECODE: \"core.lowdecode\",\n  SWITCH_URL_SUCCESS: \"core.switchurlsuccess\",\n  SWITCH_URL_FAILED: \"core.switchurlfailed\",\n  SPEED: \"core.speed\",\n  HLS_MANIFEST_LOADED: \"core.hlsmanifestloaded\",\n  HLS_LEVEL_LOADED: \"core.hlslevelloaded\",\n  DEMUXED_TRACK: \"core.demuxedtrack\",\n  STREAM_EXCEPTION: \"core.streamexception\",\n  LARGE_AV_FIRST_FRAME_GAP_DETECT: \"LARGE_AV_FIRST_FRAME_GAP_DETECT\",\n  LARGE_VIDEO_DTS_GAP_DETECT: \"LARGE_VIDEO_DTS_GAP_DETECT\",\n  LARGE_AUDIO_DTS_GAP_DETECT: \"LARGE_AUDIO_DTS_GAP_DETECT\",\n  AUDIO_GAP_DETECT: \"AUDIO_GAP_DETECT\",\n  AUDIO_OVERLAP_DETECT: \"AUDIO_OVERLAP_DETECT\",\n  MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT: \"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT\",\n  REAL_TIME_SPEED: \"real_time_speed\"\n};\nexport { EVENT };\n","function isMediaPlaying(media) {\n  return media && !media.paused && !media.ended && media.playbackRate !== 0 && media.readyState !== 0;\n}\nfunction getVideoPlaybackQuality(video) {\n  if (!video)\n    return {};\n  if (typeof video.getVideoPlaybackQuality === \"function\") {\n    var info = video.getVideoPlaybackQuality();\n    return {\n      droppedVideoFrames: info.droppedVideoFrames || info.corruptedVideoFrames,\n      totalVideoFrames: info.totalVideoFrames,\n      creationTime: info.creationTime\n    };\n  }\n  return {\n    droppedVideoFrames: video.webkitDroppedFrameCount,\n    totalVideoFrames: video.webkitDecodedFrameCount,\n    creationTime: performance.now()\n  };\n}\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  if (arr.length < 2)\n    return arr[0];\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nfunction sleep() {\n  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  return new Promise(function(resolve) {\n    return setTimeout(resolve, t);\n  });\n}\nexport { concatUint8Array, getVideoPlaybackQuality, isMediaPlaying, sleep };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"../event.js\";\nvar SeiService = /* @__PURE__ */ function() {\n  function SeiService2(emitter) {\n    var _this = this;\n    _classCallCheck(this, SeiService2);\n    _defineProperty(this, \"_seiSet\", /* @__PURE__ */ new Set());\n    this.emitter = emitter;\n    emitter.on(EVENT.SEI, function(sei) {\n      if (sei)\n        _this._seiSet.add(sei);\n    });\n  }\n  _createClass(SeiService2, [{\n    key: \"throw\",\n    value: function _throw(currentTime, isLive) {\n      var _this2 = this;\n      if (currentTime === null || currentTime === void 0 || !this._seiSet.size)\n        return;\n      var min = currentTime - 0.2;\n      var max = currentTime + 0.2;\n      var toThrow = [];\n      this._seiSet.forEach(function(sei) {\n        if (sei.time >= min && sei.time <= max) {\n          toThrow.push(sei);\n        }\n      });\n      toThrow.forEach(function(sei) {\n        _this2._seiSet.delete(sei);\n        _this2.emitter.emit(EVENT.SEI_IN_TIME, sei);\n      });\n      if (!isLive)\n        return;\n      this._seiSet.forEach(function(s) {\n        if (s.time < currentTime - 5) {\n          _this2._seiSet.delete(s);\n        }\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._seiSet.clear();\n    }\n  }]);\n  return SeiService2;\n}();\nexport { SeiService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"../buffer.js\";\nvar GapService = /* @__PURE__ */ function() {\n  function GapService2() {\n    _classCallCheck(this, GapService2);\n    _defineProperty(this, \"_prevCurrentTime\", 0);\n  }\n  _createClass(GapService2, [{\n    key: \"do\",\n    value: function _do(media) {\n      var maxJumpDistance = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n      var isLive = arguments.length > 2 ? arguments[2] : void 0;\n      var seekThreshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;\n      if (!media)\n        return;\n      var currentTime = media.currentTime;\n      var jumpTo = 0;\n      if (this._prevCurrentTime === currentTime) {\n        var info = Buffer.info(Buffer.get(media), currentTime);\n        if (!info.buffers.length)\n          return;\n        if (isLive && info.nextStart || info.nextStart && info.nextStart - currentTime < maxJumpDistance) {\n          jumpTo = info.nextStart + 0.1;\n        } else if (info.end && info.end - currentTime > seekThreshold && !media.seeking) {\n          jumpTo = currentTime + 0.1;\n        }\n      }\n      this._prevCurrentTime = currentTime;\n      if (jumpTo && currentTime !== jumpTo) {\n        media.currentTime = jumpTo;\n      }\n    }\n  }]);\n  return GapService2;\n}();\nexport { GapService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../mse.js\";\nimport { EVENT } from \"../event.js\";\nimport \"eventemitter3\";\nimport \"../logger.js\";\nimport \"../error.js\";\nvar Stats = /* @__PURE__ */ function() {\n  function Stats2(timescale) {\n    _classCallCheck(this, Stats2);\n    _defineProperty(this, \"encodeType\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"domain\", \"\");\n    _defineProperty(this, \"fps\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"samplerate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"gop\", 0);\n    _defineProperty(this, \"_bitsAccumulateSize\", 0);\n    _defineProperty(this, \"_bitsAccumulateDuration\", 0);\n    _defineProperty(this, \"_startGopId\", -1);\n    this._timescale = timescale;\n  }\n  _createClass(Stats2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return {\n        encodeType: this.encodeType,\n        audioCodec: this.audioCodec,\n        videoCodec: this.videoCodec,\n        domain: this.domain,\n        fps: this.fps,\n        bitrate: this.bitrate,\n        width: this.width,\n        height: this.height,\n        samplerate: this.samplerate,\n        channelCount: this.channelCount,\n        gop: this.gop\n      };\n    }\n  }, {\n    key: \"setEncodeType\",\n    value: function setEncodeType(encode) {\n      this.encodeType = encode;\n    }\n  }, {\n    key: \"setFpsFromScriptData\",\n    value: function setFpsFromScriptData(_ref) {\n      var _data$onMetaData;\n      var data = _ref.data;\n      var fps = data === null || data === void 0 ? void 0 : (_data$onMetaData = data.onMetaData) === null || _data$onMetaData === void 0 ? void 0 : _data$onMetaData.framerate;\n      if (fps && fps > 0 && fps < 100) {\n        this.fps = fps;\n      }\n    }\n  }, {\n    key: \"setVideoMeta\",\n    value: function setVideoMeta(track) {\n      this.width = track.width;\n      this.height = track.height;\n      this.videoCodec = track.codec;\n      this.encodeType = track.codecType;\n      if (track.fpsNum && track.fpsDen) {\n        var fps = track.fpsNum / track.fpsDen;\n        if (fps > 0 && fps < 100) {\n          this.fps = fps;\n        }\n      }\n    }\n  }, {\n    key: \"setAudioMeta\",\n    value: function setAudioMeta(track) {\n      this.audioCodec = track.codec;\n      this.samplerate = track.sampleRate;\n      this.channelCount = track.channelCount;\n    }\n  }, {\n    key: \"setDomain\",\n    value: function setDomain(responseUrl) {\n      this.domain = responseUrl.split(\"/\").slice(2, 3)[0];\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(samples) {\n      var _this = this;\n      if (!this.fps || this.fps >= 100) {\n        if (samples.length) {\n          var duration = samples.reduce(function(a, b) {\n            return a += b.duration;\n          }, 0) / samples.length;\n          this.fps = Math.round(this._timescale / duration);\n        }\n      }\n      samples.forEach(function(sample) {\n        if (_this._startGopId === -1) {\n          _this._startGopId = sample.gopId;\n        }\n        if (sample.gopId === _this._startGopId) {\n          _this.gop++;\n        }\n        _this._bitsAccumulateDuration += sample.duration / (_this._timescale / 1e3);\n        _this._bitsAccumulateSize += sample.units.reduce(function(a, c) {\n          return a += c.length;\n        }, 0);\n        if (_this._bitsAccumulateDuration >= 1e3) {\n          _this.bitrate = _this._bitsAccumulateSize * 8;\n          _this._bitsAccumulateDuration = 0;\n          _this._bitsAccumulateSize = 0;\n        }\n      });\n    }\n  }]);\n  return Stats2;\n}();\nvar MediaStatsService = /* @__PURE__ */ function() {\n  function MediaStatsService2(core) {\n    var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;\n    _classCallCheck(this, MediaStatsService2);\n    _defineProperty(this, \"_core\", null);\n    _defineProperty(this, \"_samples\", []);\n    this._core = core;\n    this._timescale = timescale;\n    this._stats = new Stats(timescale);\n    this._bindEvents();\n  }\n  _createClass(MediaStatsService2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      var _this$_core, _this$_core2, _this$_core2$speedInf, _this$_core3, _this$_core3$speedInf, _this$_core4, _this$_core4$speedInf, _this$_core5, _this$_core5$speedInf, _this$_core6, _this$_core6$bufferIn;\n      var _ref2 = ((_this$_core = this._core) === null || _this$_core === void 0 ? void 0 : _this$_core.media) || {}, _ref2$currentTime = _ref2.currentTime, currentTime = _ref2$currentTime === void 0 ? 0 : _ref2$currentTime, _ref2$decodeFps = _ref2.decodeFps, decodeFps = _ref2$decodeFps === void 0 ? 0 : _ref2$decodeFps;\n      return _objectSpread2(_objectSpread2({}, this._stats.getStats()), {}, {\n        downloadSpeed: ((_this$_core2 = this._core) === null || _this$_core2 === void 0 ? void 0 : (_this$_core2$speedInf = _this$_core2.speedInfo) === null || _this$_core2$speedInf === void 0 ? void 0 : _this$_core2$speedInf.call(_this$_core2).speed) || 0,\n        avgSpeed: ((_this$_core3 = this._core) === null || _this$_core3 === void 0 ? void 0 : (_this$_core3$speedInf = _this$_core3.speedInfo) === null || _this$_core3$speedInf === void 0 ? void 0 : _this$_core3$speedInf.call(_this$_core3).avgSpeed) || 0,\n        totalReceivedByte: ((_this$_core4 = this._core) === null || _this$_core4 === void 0 ? void 0 : (_this$_core4$speedInf = _this$_core4.speedInfo) === null || _this$_core4$speedInf === void 0 ? void 0 : _this$_core4$speedInf.call(_this$_core4).totalSize) || 0,\n        totalReceivedCost: ((_this$_core5 = this._core) === null || _this$_core5 === void 0 ? void 0 : (_this$_core5$speedInf = _this$_core5.speedInfo) === null || _this$_core5$speedInf === void 0 ? void 0 : _this$_core5$speedInf.call(_this$_core5).totalCost) || 0,\n        currentTime,\n        bufferEnd: ((_this$_core6 = this._core) === null || _this$_core6 === void 0 ? void 0 : (_this$_core6$bufferIn = _this$_core6.bufferInfo()) === null || _this$_core6$bufferIn === void 0 ? void 0 : _this$_core6$bufferIn.remaining) || 0,\n        decodeFps\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n      this._core.on(EVENT.DEMUXED_TRACK, function(_ref3) {\n        var videoTrack = _ref3.videoTrack;\n        return _this2._stats.updateBitrate(videoTrack.samples);\n      });\n      this._core.on(EVENT.FLV_SCRIPT_DATA, function(data) {\n        _this2._stats.setFpsFromScriptData(data);\n      });\n      this._core.on(EVENT.METADATA_PARSED, function(e) {\n        if (e.type === \"video\") {\n          _this2._stats.setVideoMeta(e.track);\n        } else {\n          _this2._stats.setAudioMeta(e.track);\n        }\n      });\n      this._core.on(EVENT.TTFB, function(e) {\n        _this2._stats.setDomain(e.responseUrl);\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._samples = [];\n      this._stats = new Stats(this._timescale);\n    }\n  }]);\n  return MediaStatsService2;\n}();\nexport { MediaStatsService };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _unsupportedIterableToArray as unsupportedIterableToArray };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n  }\n  _createClass(Logger2, [{\n    key: \"warn\",\n    value: function warn() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).warn.apply(_console, [this._prefix].concat(args));\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","var TrackType = {\n  VIDEO: \"video\",\n  AUDIO: \"audio\",\n  METADATA: \"metadata\"\n};\nvar VideoCodecType = {\n  AV1: \"av1\",\n  AVC: \"avc\",\n  HEVC: \"hevc\"\n};\nvar AudioCodecType = {\n  AAC: \"aac\",\n  G711PCMA: \"g7110a\",\n  G711PCMU: \"g7110m\",\n  OPUS: \"opus\"\n};\nvar WarningType = {\n  LARGE_AV_SHIFT: \"LARGE_AV_SHIFT\",\n  LARGE_VIDEO_GAP: \"LARGE_VIDEO_GAP\",\n  LARGE_VIDEO_GAP_BETWEEN_CHUNK: \"LARGE_VIDEO_GAP_BETWEEN_CHUNK\",\n  LARGE_AUDIO_GAP: \"LARGE_AUDIO_GAP\",\n  AUDIO_FILLED: \"AUDIO_FILLED\",\n  AUDIO_DROPPED: \"AUDIO_DROPPED\"\n};\nexport { AudioCodecType, TrackType, VideoCodecType, WarningType };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar AudioSample = /* @__PURE__ */ _createClass(\n  function AudioSample2(pts, data, duration, sampleOffset) {\n    _classCallCheck(this, AudioSample2);\n    _defineProperty(this, \"duration\", 1024);\n    _defineProperty(this, \"flag\", {\n      dependsOn: 2,\n      isNonSyncSample: 0\n    });\n    _defineProperty(this, \"keyframe\", true);\n    this.originPts = this.pts = this.dts = pts;\n    this.data = data;\n    this.size = data.byteLength;\n    this.sampleOffset = sampleOffset;\n    if (duration)\n      this.duration = duration;\n  }\n);\nexport { AudioSample };\n","var isBrowser = typeof window !== \"undefined\";\nvar ua = isBrowser && navigator.userAgent.toLocaleLowerCase();\nvar isSafari = isBrowser && /^((?!chrome|android).)*safari/.test(ua);\nvar isFirefox = isBrowser && ua.includes(\"firefox\");\nvar isAndroid = isBrowser && ua.includes(\"android\");\nexport { isAndroid, isBrowser, isFirefox, isSafari };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../utils/logger.js\";\nimport { isFirefox, isAndroid } from \"../utils/env.js\";\nvar AAC = /* @__PURE__ */ function() {\n  function AAC2() {\n    _classCallCheck(this, AAC2);\n  }\n  _createClass(AAC2, null, [{\n    key: \"getRateIndexByRate\",\n    value: function getRateIndexByRate(rate) {\n      return AAC2.FREQ.indexOf(rate);\n    }\n  }, {\n    key: \"parseADTS\",\n    value: function parseADTS(data, pts) {\n      var len = data.length;\n      var i = 0;\n      while (i + 2 < len) {\n        if (data[i] === 255 && (data[i + 1] & 246) === 240) {\n          break;\n        }\n        i++;\n      }\n      if (i >= len)\n        return;\n      var skip = i;\n      var frames = [];\n      var samplingFrequencyIndex = (data[i + 2] & 60) >>> 2;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        throw new Error(\"Invalid sampling index: \".concat(samplingFrequencyIndex));\n      var objectType = ((data[i + 2] & 192) >>> 6) + 1;\n      var channelCount = (data[i + 2] & 1) << 2 | (data[i + 3] & 192) >>> 6;\n      var _AAC$_getConfig = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig.config, codec = _AAC$_getConfig.codec;\n      var protectionSkipBytes;\n      var frameLength;\n      var frameIndex = 0;\n      var duration = AAC2.getFrameDuration(sampleRate);\n      while (i + 7 < len) {\n        if (data[i] !== 255 || (data[i + 1] & 246) !== 240) {\n          i++;\n          continue;\n        }\n        frameLength = (data[i + 3] & 3) << 11 | data[i + 4] << 3 | (data[i + 5] & 224) >> 5;\n        if (!frameLength || len - i < frameLength)\n          break;\n        protectionSkipBytes = (~data[i + 1] & 1) * 2;\n        frames.push({\n          pts: pts + frameIndex * duration,\n          data: data.subarray(i + 7 + protectionSkipBytes, i + frameLength)\n        });\n        frameIndex++;\n        i += frameLength;\n      }\n      return {\n        skip,\n        remaining: i >= len ? void 0 : data.subarray(i),\n        frames,\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        codec,\n        config,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"parseAudioSpecificConfig\",\n    value: function parseAudioSpecificConfig(data) {\n      if (!data.length)\n        return;\n      var objectType = data[0] >>> 3;\n      var samplingFrequencyIndex = (data[0] & 7) << 1 | data[1] >>> 7;\n      var channelCount = (data[1] & 120) >>> 3;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        return;\n      var _AAC$_getConfig2 = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig2.config, codec = _AAC$_getConfig2.codec;\n      return {\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        config,\n        codec,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getFrameDuration\",\n    value: function getFrameDuration(rate) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      return 1024 * timescale / rate;\n    }\n  }, {\n    key: \"_getConfig\",\n    value: function _getConfig(samplingIndex, channelCount, originObjectType) {\n      var config = [];\n      var objectType;\n      var extensionSamplingIndex;\n      if (isFirefox) {\n        if (samplingIndex >= 6) {\n          objectType = 5;\n          extensionSamplingIndex = samplingIndex - 3;\n        } else {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      } else if (isAndroid) {\n        objectType = 2;\n        extensionSamplingIndex = samplingIndex;\n      } else {\n        objectType = originObjectType === 2 || originObjectType === 5 ? originObjectType : 5;\n        extensionSamplingIndex = samplingIndex;\n        if (samplingIndex >= 6) {\n          extensionSamplingIndex = samplingIndex - 3;\n        } else if (channelCount === 1) {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      }\n      config[0] = objectType << 3;\n      config[0] |= (samplingIndex & 14) >> 1;\n      config[1] = (samplingIndex & 1) << 7;\n      config[1] |= channelCount << 3;\n      if (objectType === 5) {\n        config[1] |= (extensionSamplingIndex & 14) >> 1;\n        config[2] = (extensionSamplingIndex & 1) << 7;\n        config[2] |= 2 << 2;\n        config[3] = 0;\n      }\n      return {\n        config,\n        codec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getSilentFrame\",\n    value: function getSilentFrame(codec, channelCount) {\n      switch (codec) {\n        case \"mp4a.40.2\":\n          if (channelCount === 1) {\n            return new Uint8Array([0, 200, 0, 128, 35, 128]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);\n          }\n          if (channelCount === 4) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);\n          }\n          if (channelCount === 5) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);\n          }\n          if (channelCount === 6) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);\n          }\n          break;\n        default:\n          if (channelCount === 1) {\n            return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          break;\n      }\n    }\n  }]);\n  return AAC2;\n}();\n_defineProperty(AAC, \"FREQ\", [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]);\nexport { AAC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType } from \"../model/types.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport \"../utils/logger.js\";\nimport { isSafari } from \"../utils/env.js\";\nvar LARGE_AV_FIRST_FRAME_GAP = 9e4 / 2;\nvar AUDIO_GAP_OVERLAP_THRESHOLD_COUNT = 3;\nvar MAX_SILENT_FRAME_DURATION = 9e4;\nvar AUDIO_EXCETION_LOG_EMIT_DURATION = 5 * 9e4;\nvar MAX_VIDEO_FRAME_DURATION = 9e4;\nvar MAX_DTS_DELTA_WITH_NEXT_CHUNK = 9e4 / 2;\nvar LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD = 9e4 * 5;\nvar TsFixer = /* @__PURE__ */ function() {\n  function TsFixer2(videoTrack, audioTrack, metadataTrack, fixerConfig) {\n    _classCallCheck(this, TsFixer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    this.metadataTrack = metadataTrack;\n    this._baseDts = -1;\n    this._baseVideoDts = -1;\n    this._baseAudioDts = -1;\n    this._baseDtsInited = false;\n    this._audioNextPts = void 0;\n    this._videoNextDts = void 0;\n    this._audioTimestampBreak = false;\n    this._videoTimestampBreak = false;\n    this._lastAudioExceptionGapDot = 0;\n    this._lastAudioExceptionOverlapDot = 0;\n    this._lastAudioExceptionLargeGapDot = 0;\n    this._needForceFixLargeGap = fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.forceFixLargeGap;\n    this._largeGapThreshold = (fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.largeGapThreshold) || LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD;\n  }\n  _createClass(TsFixer2, [{\n    key: \"fix\",\n    value: function fix() {\n      var _this = this;\n      var startTime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      startTime = Math.round(startTime * 9e4);\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var vSamples = videoTrack.samples;\n      var aSamples = audioTrack.samples;\n      if (!vSamples.length && !aSamples.length)\n        return;\n      var firstVideoSample = vSamples[0];\n      var firstAudioSample = aSamples[0];\n      var vaDelta = 0;\n      if (vSamples.length && aSamples.length) {\n        vaDelta = firstVideoSample.dts - firstAudioSample.pts;\n      }\n      if (!this._baseDtsInited) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n      }\n      if (discontinuity) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        this._baseDts -= startTime;\n        this._baseAudioDts -= startTime;\n        this._baseVideoDts -= startTime;\n      }\n      if (!contiguous) {\n        this._videoNextDts = vaDelta > 0 ? startTime + vaDelta : startTime;\n        this._audioNextPts = vaDelta > 0 ? startTime : startTime - vaDelta;\n        if (this._needForceFixLargeGap) {\n          this._videoNextDts = 0;\n          this._audioNextPts = 0;\n        }\n        var vDeltaToNextDts = firstVideoSample ? firstVideoSample.dts - this._baseDts - this._videoNextDts : 0;\n        var aDeltaToNextDts = firstAudioSample ? firstAudioSample.pts - this._baseDts - this._audioNextPts : 0;\n        if (Math.abs(vDeltaToNextDts || aDeltaToNextDts) > MAX_VIDEO_FRAME_DURATION) {\n          this._calculateBaseDts(this.audioTrack, this.videoTrack);\n          this._baseDts -= startTime;\n        }\n      }\n      this._resetBaseDtsWhenStreamBreaked();\n      this._fixAudio(audioTrack);\n      this._fixVideo(videoTrack);\n      if (this.metadataTrack.exist()) {\n        var timescale = this.metadataTrack.timescale;\n        this.metadataTrack.seiSamples.forEach(function(s) {\n          s.pts = s.originPts - _this._baseDts;\n          s.time = Math.max(0, s.pts) / timescale;\n        });\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].dts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts * audioTrack.timescale / 9e4;\n      }\n    }\n  }, {\n    key: \"_fixVideo\",\n    value: function _fixVideo(videoTrack) {\n      var _this2 = this;\n      var samples = videoTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.dts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n        x.pts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n      });\n      if (this._videoNextDts === void 0) {\n        var samp0 = samples[0];\n        this._videoNextDts = samp0.dts;\n      }\n      var len = samples.length;\n      var sampleDuration = 0;\n      var firstSample = samples[0];\n      var nextSample = samples[1];\n      var vDelta = this._videoNextDts - firstSample.dts;\n      if (Math.abs(vDelta) > MAX_DTS_DELTA_WITH_NEXT_CHUNK) {\n        var _samples$;\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK,\n          nextDts: this._videoNextDts / 90,\n          firstSampleDts: firstSample.dts / 90,\n          nextSampleDts: (((_samples$ = samples[1]) === null || _samples$ === void 0 ? void 0 : _samples$.dts) || 0) / 90,\n          sampleDuration: vDelta / 90\n        });\n        firstSample.dts += vDelta;\n        firstSample.pts += vDelta;\n        if (nextSample && Math.abs(nextSample.dts - firstSample.dts) > MAX_VIDEO_FRAME_DURATION) {\n          this._videoTimestampBreak = true;\n          samples.forEach(function(x, i2) {\n            if (i2 === 0)\n              return;\n            x.dts += vDelta;\n            x.pts += vDelta;\n          });\n        } else {\n          for (var i = 1; i < len - 1; i++) {\n            var _samples$i;\n            var dts = (_samples$i = samples[i]) === null || _samples$i === void 0 ? void 0 : _samples$i.dts;\n            var prevDts = samples[i - 1].dts;\n            if (dts && dts - prevDts < 0) {\n              samples[i].dts += vDelta;\n              samples[i].pts += vDelta;\n            }\n          }\n        }\n      }\n      var refSampleDurationInt;\n      if (videoTrack.fpsNum && videoTrack.fpsDen) {\n        refSampleDurationInt = videoTrack.timescale * (videoTrack.fpsDen / videoTrack.fpsNum);\n      }\n      if (refSampleDurationInt < 90 * 10) {\n        refSampleDurationInt = 0;\n      }\n      if (!refSampleDurationInt) {\n        var first = videoTrack.samples[0];\n        var second = videoTrack.samples[1];\n        refSampleDurationInt = len === 1 ? 9e3 : Math.floor(second.dts - first.dts);\n      }\n      for (var _i = 0; _i < len; _i++) {\n        var _dts = samples[_i].dts;\n        var _nextSample = samples[_i + 1];\n        if (_i < len - 1) {\n          sampleDuration = _nextSample.dts - _dts;\n        } else if (samples[_i - 1]) {\n          sampleDuration = Math.min(_dts - samples[_i - 1].dts, refSampleDurationInt);\n        } else {\n          sampleDuration = refSampleDurationInt;\n        }\n        if (sampleDuration > MAX_VIDEO_FRAME_DURATION || sampleDuration < 0) {\n          this._videoTimestampBreak = true;\n          sampleDuration = this._audioTimestampBreak ? refSampleDurationInt : Math.max(sampleDuration, 30 * 90);\n          var expectFragEnd = this._audioNextPts || 0;\n          if (_nextSample && _nextSample.dts > expectFragEnd) {\n            sampleDuration = refSampleDurationInt;\n          }\n          videoTrack.warnings.push({\n            type: WarningType.LARGE_VIDEO_GAP,\n            time: _dts / videoTrack.timescale,\n            dts: _dts,\n            originDts: samples[_i].originDts,\n            nextDts: this._videoNextDts,\n            sampleDuration,\n            refSampleDuration: refSampleDurationInt\n          });\n        }\n        samples[_i].duration = sampleDuration;\n        this._videoNextDts += sampleDuration;\n      }\n    }\n  }, {\n    key: \"_fixAudio\",\n    value: function _fixAudio(audioTrack) {\n      var _this3 = this;\n      var samples = audioTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.pts -= _this3._needForceFixLargeGap ? _this3._baseAudioDts : _this3._baseDts;\n        x.dts = x.pts;\n      });\n      this._doFixAudioInternal(audioTrack, samples, 9e4);\n    }\n  }, {\n    key: \"_calculateBaseDts\",\n    value: function _calculateBaseDts(audioTrack, videoTrack) {\n      var audioSamps = audioTrack.samples;\n      var videoSamps = videoTrack.samples;\n      if (!audioSamps.length && !videoSamps.length) {\n        return false;\n      }\n      var audioBasePts = Infinity;\n      var videoBaseDts = Infinity;\n      if (audioSamps.length) {\n        audioTrack.baseDts = audioBasePts = audioSamps[0].pts;\n        this._baseAudioDts = audioBasePts;\n      }\n      if (videoSamps.length) {\n        videoTrack.baseDts = videoBaseDts = videoSamps[0].dts;\n        this._baseVideoDts = videoBaseDts;\n      }\n      this._baseDts = Math.min(audioBasePts, videoBaseDts);\n      var delta = videoBaseDts - audioBasePts;\n      var largeGap = false;\n      if (Number.isFinite(delta) && Math.abs(delta) > LARGE_AV_FIRST_FRAME_GAP) {\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_AV_SHIFT,\n          videoBaseDts,\n          audioBasePts,\n          baseDts: this._baseDts,\n          delta\n        });\n      }\n      if (Number.isFinite(delta) && Math.abs(delta) > this._largeGapThreshold * MAX_SILENT_FRAME_DURATION) {\n        largeGap = true;\n      }\n      if (!this._baseDtsInited) {\n        if (largeGap && this._needForceFixLargeGap) {\n          this._needForceFixLargeGap = true;\n        } else {\n          this._needForceFixLargeGap = false;\n        }\n      }\n      this._baseDtsInited = true;\n      return true;\n    }\n  }, {\n    key: \"_resetBaseDtsWhenStreamBreaked\",\n    value: function _resetBaseDtsWhenStreamBreaked() {\n      if (this._baseDtsInited && this._videoTimestampBreak && this._audioTimestampBreak) {\n        var calc = this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        if (!calc)\n          return;\n        this._baseDts -= Math.min(this._audioNextPts, this._videoNextDts);\n        this._audioLastSample = null;\n        this._videoLastSample = null;\n        this._videoTimestampBreak = false;\n        this._audioTimestampBreak = false;\n      }\n    }\n  }, {\n    key: \"_doFixAudioInternal\",\n    value: function _doFixAudioInternal(audioTrack, samples, timescale) {\n      if (!audioTrack.sampleDuration)\n        audioTrack.sampleDuration = AAC.getFrameDuration(audioTrack.timescale, timescale);\n      var refSampleDuration = audioTrack.sampleDuration;\n      if (this._audioNextPts === void 0) {\n        var samp0 = samples[0];\n        this._audioNextPts = samp0.pts;\n      }\n      for (var i = 0; i < samples.length; i++) {\n        var nextPts = this._audioNextPts;\n        var sample = samples[i];\n        var delta = sample.pts - nextPts;\n        if (!this._audioTimestampBreak && delta >= AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta <= MAX_SILENT_FRAME_DURATION && !isSafari) {\n          var silentFrame = AAC.getSilentFrame(audioTrack.codec, audioTrack.channelCount) || samples[0].data.subarray();\n          var count = Math.floor(delta / refSampleDuration);\n          if (Math.abs(sample.pts - this._lastAudioExceptionGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionGapDot = sample.pts;\n          }\n          audioTrack.warnings.push({\n            type: WarningType.AUDIO_FILLED,\n            pts: sample.pts / 90,\n            originPts: sample.originPts,\n            count,\n            nextPts: nextPts / 90,\n            refSampleDuration\n          });\n          for (var j = 0; j < count; j++) {\n            var silentSample = new AudioSample(Math.floor(nextPts), silentFrame);\n            silentSample.originPts = Math.floor(this._baseDts + nextPts);\n            samples.splice(i, 0, silentSample);\n            this._audioNextPts += refSampleDuration;\n            i++;\n          }\n          i--;\n        } else if (delta <= -AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta >= -1 * MAX_SILENT_FRAME_DURATION) {\n          if (Math.abs(sample.pts - this._lastAudioExceptionOverlapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionOverlapDot = sample.pts;\n            audioTrack.warnings.push({\n              type: WarningType.AUDIO_DROPPED,\n              pts: sample.pts / 90,\n              originPts: sample.originPts,\n              nextPts: nextPts / 90,\n              refSampleDuration\n            });\n          }\n          samples.splice(i, 1);\n          i--;\n        } else {\n          if (Math.abs(delta) >= MAX_SILENT_FRAME_DURATION) {\n            this._audioTimestampBreak = true;\n            if (Math.abs(sample.pts - this._lastAudioExceptionLargeGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n              this._lastAudioExceptionLargeGapDot = sample.pts;\n              audioTrack.warnings.push({\n                type: WarningType.LARGE_AUDIO_GAP,\n                time: sample.pts / 1e3,\n                pts: sample.pts / 90,\n                originPts: sample.originPts,\n                nextPts: nextPts / 90,\n                sampleDuration: delta,\n                refSampleDuration\n              });\n            }\n          }\n          sample.dts = sample.pts = nextPts;\n          this._audioNextPts += refSampleDuration;\n        }\n      }\n    }\n  }]);\n  return TsFixer2;\n}();\nexport { TsFixer };\n","export { Logger } from \"./logger.js\";\nexport { isAndroid, isBrowser, isFirefox, isSafari } from \"./env.js\";\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nvar MAX_SIZE = Math.pow(2, 32);\nfunction readBig16(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 8) + (data[i + 1] || 0);\n}\nfunction readBig24(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 16) + (data[i + 1] << 8) + (data[i + 2] || 0);\n}\nfunction readBig32(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 24 >>> 0) + (data[i + 1] << 16) + (data[i + 2] << 8) + (data[i + 3] || 0);\n}\nfunction readBig64(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return readBig32(data, i) * MAX_SIZE + readBig32(data, i + 4);\n}\nfunction getAvcCodec(codecs) {\n  var codec = \"avc1.\";\n  var h;\n  for (var i = 0; i < 3; i++) {\n    h = codecs[i].toString(16);\n    if (h.length < 2)\n      h = \"0\".concat(h);\n    codec += h;\n  }\n  return codec;\n}\nfunction formatIV(arr) {\n  var iv = \"\";\n  arr.forEach(function(value) {\n    iv += bufferToString(value);\n  });\n  if (iv.length <= 32) {\n    var len = 32 - iv.length;\n    for (var i = 0; i < len; i++) {\n      iv += \"0\";\n    }\n  }\n  return iv;\n}\nfunction parse(a) {\n  if (!Array.isArray(a)) {\n    var arr = [];\n    var value = \"\";\n    for (var i = 0; i < a.length; i++) {\n      if (i % 2) {\n        value = a[i - 1] + a[i];\n        arr.push(parseInt(value, 16));\n        value = \"\";\n      }\n    }\n    return arr;\n  }\n  return a.map(function(item) {\n    return parseInt(item, 16);\n  });\n}\nfunction bufferToString(value) {\n  return (\"0\" + Number(value).toString(16)).slice(-2).toUpperCase();\n}\nfunction combineToFloat(integer, decimal) {\n  return Number(integer + \".\" + decimal);\n}\nfunction toDegree(matrix) {\n  if (matrix.length < 5)\n    return 0;\n  var scaled0 = Math.hypot(matrix[0], matrix[3]), scaled1 = Math.hypot(matrix[1], matrix[4]);\n  return 0 === scaled0 || 0 === scaled1 ? 0 : 180 * Math.atan2(matrix[1] / scaled1, matrix[0] / scaled0) / Math.PI;\n}\nexport { MAX_SIZE, combineToFloat, concatUint8Array, formatIV, getAvcCodec, parse, readBig16, readBig24, readBig32, readBig64, toDegree };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { readBig32 } from \"../utils/index.js\";\nvar NALu = /* @__PURE__ */ function() {\n  function NALu2() {\n    _classCallCheck(this, NALu2);\n  }\n  _createClass(NALu2, null, [{\n    key: \"parseAnnexB\",\n    value: function parseAnnexB(data) {\n      var len = data.length;\n      var start = 2;\n      var end = 0;\n      while (data[start] !== null && data[start] !== void 0 && data[start] !== 1) {\n        start++;\n      }\n      start++;\n      end = start + 2;\n      if (end >= len)\n        return [];\n      var units = [];\n      while (end < len) {\n        switch (data[end]) {\n          case 0:\n            if (data[end - 1] !== 0) {\n              end += 2;\n              break;\n            } else if (data[end - 2] !== 0) {\n              end++;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            do {\n              end++;\n            } while (data[end] !== 1 && end < len);\n            start = end + 1;\n            end = start + 2;\n            break;\n          case 1:\n            if (data[end - 1] !== 0 || data[end - 2] !== 0) {\n              end += 3;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            start = end + 1;\n            end = start + 2;\n            break;\n          default:\n            end += 3;\n            break;\n        }\n      }\n      if (start < len)\n        units.push(data.subarray(start));\n      return units;\n    }\n  }, {\n    key: \"parseAvcC\",\n    value: function parseAvcC(data) {\n      var size = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 4;\n      if (data.length < 4)\n        return;\n      var dataLen = data.length;\n      var units = [];\n      var offset = 0;\n      var length;\n      while (offset + size < dataLen) {\n        length = readBig32(data, offset);\n        if (size === 3)\n          length >>>= 8;\n        offset += size;\n        if (!length)\n          continue;\n        if (offset + length > dataLen) {\n          break;\n        }\n        units.push(data.subarray(offset, offset + length));\n        offset += length;\n      }\n      return units;\n    }\n  }, {\n    key: \"parseSEI\",\n    value: function parseSEI(unit, isHevc) {\n      var len = unit.length;\n      var i = isHevc ? 2 : 1;\n      var type = 0;\n      var size = 0;\n      var uuid = \"\";\n      while (unit[i] === 255) {\n        type += 255;\n        i++;\n      }\n      type += unit[i++];\n      while (unit[i] === 255) {\n        size += 255;\n        i++;\n      }\n      size += unit[i++];\n      if (type === 5 && len > i + 16) {\n        for (var j = 0; j < 16; j++) {\n          uuid += unit[i].toString(16);\n          i++;\n        }\n      }\n      return {\n        payload: unit.subarray(i, i + size),\n        type,\n        size,\n        uuid\n      };\n    }\n  }, {\n    key: \"removeEPB\",\n    value: function removeEPB(uint) {\n      var length = uint.byteLength;\n      var emulationPreventionBytesPositions = [];\n      var i = 1;\n      while (i < length - 2) {\n        if (uint[i] === 0 && uint[i + 1] === 0 && uint[i + 2] === 3) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n      if (!emulationPreventionBytesPositions.length)\n        return uint;\n      var newLength = length - emulationPreventionBytesPositions.length;\n      var newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          sourceIndex++;\n          emulationPreventionBytesPositions.shift();\n        }\n        newData[i] = uint[sourceIndex];\n      }\n      return newData;\n    }\n  }]);\n  return NALu2;\n}();\nexport { NALu };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ExpGolomb = /* @__PURE__ */ function() {\n  function ExpGolomb2(data) {\n    _classCallCheck(this, ExpGolomb2);\n    _defineProperty(this, \"_bytesAvailable\", void 0);\n    _defineProperty(this, \"_bitsAvailable\", 0);\n    _defineProperty(this, \"_word\", 0);\n    if (!data)\n      throw new Error(\"ExpGolomb data params is required\");\n    this._data = data;\n    this._bytesAvailable = data.byteLength;\n    if (this._bytesAvailable)\n      this._loadWord();\n  }\n  _createClass(ExpGolomb2, [{\n    key: \"bitsAvailable\",\n    get: function get() {\n      return this._bitsAvailable;\n    }\n  }, {\n    key: \"_loadWord\",\n    value: function _loadWord() {\n      var position = this._data.byteLength - this._bytesAvailable;\n      var availableBytes = Math.min(4, this._bytesAvailable);\n      if (availableBytes === 0)\n        throw new Error(\"No bytes available\");\n      var workingBytes = new Uint8Array(4);\n      workingBytes.set(this._data.subarray(position, position + availableBytes));\n      this._word = new DataView(workingBytes.buffer).getUint32(0);\n      this._bitsAvailable = availableBytes * 8;\n      this._bytesAvailable -= availableBytes;\n    }\n  }, {\n    key: \"skipBits\",\n    value: function skipBits(count) {\n      if (this._bitsAvailable > count) {\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      } else {\n        count -= this._bitsAvailable;\n        var skipBytes = Math.floor(count / 8);\n        count -= skipBytes * 8;\n        this._bytesAvailable -= skipBytes;\n        this._loadWord();\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      }\n    }\n  }, {\n    key: \"readBits\",\n    value: function readBits(size) {\n      if (size > 32) {\n        throw new Error(\"Cannot read more than 32 bits\");\n      }\n      var bits = Math.min(this._bitsAvailable, size);\n      var val = this._word >>> 32 - bits;\n      this._bitsAvailable -= bits;\n      if (this._bitsAvailable > 0) {\n        this._word <<= bits;\n      } else if (this._bytesAvailable > 0) {\n        this._loadWord();\n      }\n      bits = size - bits;\n      if (bits > 0 && this._bitsAvailable) {\n        return val << bits | this.readBits(bits);\n      }\n      return val;\n    }\n  }, {\n    key: \"skipLZ\",\n    value: function skipLZ() {\n      var leadingZeroCount;\n      for (leadingZeroCount = 0; leadingZeroCount < this._bitsAvailable; ++leadingZeroCount) {\n        if ((this._word & 2147483648 >>> leadingZeroCount) !== 0) {\n          this._word <<= leadingZeroCount;\n          this._bitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n      this._loadWord();\n      return leadingZeroCount + this.skipLZ();\n    }\n  }, {\n    key: \"skipUEG\",\n    value: function skipUEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n  }, {\n    key: \"readUEG\",\n    value: function readUEG() {\n      var clz = this.skipLZ();\n      return this.readBits(clz + 1) - 1;\n    }\n  }, {\n    key: \"readEG\",\n    value: function readEG() {\n      var val = this.readUEG();\n      if (1 & val) {\n        return 1 + val >>> 1;\n      }\n      return -1 * (val >>> 1);\n    }\n  }, {\n    key: \"readBool\",\n    value: function readBool() {\n      return this.readBits(1) === 1;\n    }\n  }, {\n    key: \"readUByte\",\n    value: function readUByte() {\n      return this.readBits(8);\n    }\n  }, {\n    key: \"skipScalingList\",\n    value: function skipScalingList(count) {\n      var lastScale = 8;\n      var nextScale = 8;\n      var deltaScale;\n      for (var j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = this.readEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n  }]);\n  return ExpGolomb2;\n}();\nexport { ExpGolomb };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { getAvcCodec } from \"../utils/index.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nvar AVC = /* @__PURE__ */ function() {\n  function AVC2() {\n    _classCallCheck(this, AVC2);\n  }\n  _createClass(AVC2, null, [{\n    key: \"parseAVCDecoderConfigurationRecord\",\n    value: function parseAVCDecoderConfigurationRecord(data) {\n      if (data.length < 7)\n        return;\n      var nalUnitSize = (data[4] & 3) + 1;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var offset = 6;\n      var spsCount = data[5] & 31;\n      var spsSize;\n      for (var i = 0; i < spsCount; i++) {\n        spsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!spsSize)\n          continue;\n        var sps = data.subarray(offset, offset + spsSize);\n        offset += spsSize;\n        spsArr.push(sps);\n        if (!spsParsed) {\n          spsParsed = AVC2.parseSPS(NALu.removeEPB(sps));\n        }\n      }\n      var ppsCount = data[offset];\n      offset++;\n      var ppsSize;\n      for (var _i = 0; _i < ppsCount; _i++) {\n        ppsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!ppsSize)\n          continue;\n        ppsArr.push(data.subarray(offset, offset + ppsSize));\n        offset += ppsSize;\n      }\n      return {\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      var profileIdc = eg.readUByte();\n      var profileCompatibility = eg.readUByte();\n      var levelIdc = eg.readUByte();\n      eg.skipUEG();\n      var chromaFormat = 420;\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128 || profileIdc === 138 || profileIdc === 144) {\n        var chromaFormatIdc = eg.readUEG();\n        if (chromaFormatIdc <= 3)\n          chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n        if (chromaFormatIdc === 3)\n          eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        eg.skipBits(1);\n        if (eg.readBool()) {\n          var scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n          for (var i = 0; i < scalingListCount; i++) {\n            if (eg.readBool()) {\n              if (i < 6) {\n                eg.skipScalingList(16);\n              } else {\n                eg.skipScalingList(64);\n              }\n            }\n          }\n        }\n      }\n      eg.skipUEG();\n      var picOrderCntType = eg.readUEG();\n      if (picOrderCntType === 0) {\n        eg.readUEG();\n      } else if (picOrderCntType === 1) {\n        eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        var numRefFramesInPicOrderCntCycle = eg.readUEG();\n        for (var _i2 = 0; _i2 < numRefFramesInPicOrderCntCycle; _i2++) {\n          eg.skipUEG();\n        }\n      }\n      eg.skipUEG();\n      eg.skipBits(1);\n      var picWidthInMbsMinus1 = eg.readUEG();\n      var picHeightInMapUnitsMinus1 = eg.readUEG();\n      var frameMbsOnlyFlag = eg.readBits(1);\n      if (frameMbsOnlyFlag === 0)\n        eg.skipBits(1);\n      eg.skipBits(1);\n      var frameCropLeftOffset = 0;\n      var frameCropRightOffset = 0;\n      var frameCropTopOffset = 0;\n      var frameCropBottomOffset = 0;\n      if (eg.readBool()) {\n        frameCropLeftOffset = eg.readUEG();\n        frameCropRightOffset = eg.readUEG();\n        frameCropTopOffset = eg.readUEG();\n        frameCropBottomOffset = eg.readUEG();\n      }\n      var sarRatio;\n      var fixedFrame;\n      var fpsNum;\n      var fpsDen;\n      var fps;\n      if (eg.readBool()) {\n        if (eg.readBool()) {\n          var aspectRatioIdc = eg.readUByte();\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];\n              break;\n            case 2:\n              sarRatio = [12, 11];\n              break;\n            case 3:\n              sarRatio = [10, 11];\n              break;\n            case 4:\n              sarRatio = [16, 11];\n              break;\n            case 5:\n              sarRatio = [40, 33];\n              break;\n            case 6:\n              sarRatio = [24, 11];\n              break;\n            case 7:\n              sarRatio = [20, 11];\n              break;\n            case 8:\n              sarRatio = [32, 11];\n              break;\n            case 9:\n              sarRatio = [80, 33];\n              break;\n            case 10:\n              sarRatio = [18, 11];\n              break;\n            case 11:\n              sarRatio = [15, 11];\n              break;\n            case 12:\n              sarRatio = [64, 33];\n              break;\n            case 13:\n              sarRatio = [160, 99];\n              break;\n            case 14:\n              sarRatio = [4, 3];\n              break;\n            case 15:\n              sarRatio = [3, 2];\n              break;\n            case 16:\n              sarRatio = [2, 1];\n              break;\n            case 255: {\n              sarRatio = [eg.readUByte() << 8 | eg.readUByte(), eg.readUByte() << 8 | eg.readUByte()];\n              break;\n            }\n          }\n        }\n        if (eg.readBool())\n          eg.readBool();\n        if (eg.readBool()) {\n          eg.readBits(4);\n          if (eg.readBool())\n            eg.readBits(24);\n        }\n        if (eg.readBool()) {\n          eg.readUEG();\n          eg.readUEG();\n        }\n        if (eg.readBool()) {\n          var numUnitsInTick = eg.readBits(32);\n          var timeScale = eg.readBits(32);\n          fixedFrame = eg.readBool();\n          fpsNum = timeScale;\n          fpsDen = numUnitsInTick * 2;\n          fps = fpsNum / fpsDen;\n        }\n      }\n      return {\n        codec: getAvcCodec(unit.subarray(1, 4)),\n        profileIdc,\n        profileCompatibility,\n        levelIdc,\n        chromaFormat,\n        width: Math.ceil((picWidthInMbsMinus1 + 1) * 16 - 2 * (frameCropLeftOffset + frameCropRightOffset)),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset),\n        sarRatio,\n        fpsNum,\n        fpsDen,\n        fps,\n        fixedFrame\n      };\n    }\n  }]);\n  return AVC2;\n}();\nexport { AVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nimport \"../utils/logger.js\";\nimport \"../utils/env.js\";\nvar HEVC = /* @__PURE__ */ function() {\n  function HEVC2() {\n    _classCallCheck(this, HEVC2);\n  }\n  _createClass(HEVC2, null, [{\n    key: \"parseHEVCDecoderConfigurationRecord\",\n    value: function parseHEVCDecoderConfigurationRecord(data) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (data.length < 23)\n        return;\n      hvcC = hvcC || {};\n      var nalUnitSize = (data[21] & 3) + 1;\n      var vpsParsed;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var vpsArr = [];\n      var offset = 23;\n      var numOfArrays = data[22];\n      var nalUnitType;\n      var numNalus;\n      var nalSize;\n      for (var i = 0; i < numOfArrays; i++) {\n        nalUnitType = data[offset] & 63;\n        numNalus = data[offset + 1] << 8 | data[offset + 2];\n        offset += 3;\n        for (var j = 0; j < numNalus; j++) {\n          nalSize = data[offset] << 8 | data[offset + 1];\n          offset += 2;\n          if (!nalSize)\n            continue;\n          switch (nalUnitType) {\n            case 32:\n              {\n                var vps = data.subarray(offset, offset + nalSize);\n                if (!vpsParsed)\n                  vpsParsed = HEVC2.parseVPS(NALu.removeEPB(vps), hvcC);\n                vpsArr.push(vps);\n              }\n              break;\n            case 33:\n              {\n                var sps = data.subarray(offset, offset + nalSize);\n                if (!spsParsed)\n                  spsParsed = HEVC2.parseSPS(NALu.removeEPB(sps), hvcC);\n                spsArr.push(sps);\n              }\n              break;\n            case 34:\n              ppsArr.push(data.subarray(offset, offset + nalSize));\n              break;\n          }\n          offset += nalSize;\n        }\n      }\n      return {\n        hvcC,\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        vpsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseVPS\",\n    value: function parseVPS(unit, hvcC) {\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(12);\n      var vpsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(hvcC.numTemporalLayers || 0, vpsMaxSubLayersMinus1 + 1);\n      eg.readBits(17);\n      HEVC2._parseProfileTierLevel(eg, vpsMaxSubLayersMinus1, hvcC);\n      return hvcC;\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(4);\n      var spsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(spsMaxSubLayersMinus1 + 1, hvcC.numTemporalLayers || 0);\n      hvcC.temporalIdNested = eg.readBits(1);\n      HEVC2._parseProfileTierLevel(eg, spsMaxSubLayersMinus1, hvcC);\n      eg.readUEG();\n      var chromaFormatIdc = hvcC.chromaFormatIdc = eg.readUEG();\n      var chromaFormat = 420;\n      if (chromaFormatIdc <= 3)\n        chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n      var separateColourPlaneFlag = 0;\n      if (chromaFormatIdc === 3) {\n        separateColourPlaneFlag = eg.readBits(1);\n      }\n      var width = eg.readUEG();\n      var height = eg.readUEG();\n      var conformanceWindowFlag = eg.readBits(1);\n      var confWinLeftOffset;\n      var confWinRightOffset;\n      var confWinTopOffset;\n      var confWinBottomOffset;\n      if (conformanceWindowFlag === 1) {\n        confWinLeftOffset = eg.readUEG();\n        confWinRightOffset = eg.readUEG();\n        confWinTopOffset = eg.readUEG();\n        confWinBottomOffset = eg.readUEG();\n      }\n      hvcC.bitDepthLumaMinus8 = eg.readUEG();\n      hvcC.bitDepthChromaMinus8 = eg.readUEG();\n      if (conformanceWindowFlag === 1) {\n        var subWidthC = (chromaFormatIdc === 1 || chromaFormatIdc === 2) && separateColourPlaneFlag === 0 ? 2 : 1;\n        var subHeightC = chromaFormatIdc === 1 && separateColourPlaneFlag === 0 ? 2 : 1;\n        width -= subWidthC * (confWinRightOffset + confWinLeftOffset);\n        height -= subHeightC * (confWinBottomOffset + confWinTopOffset);\n      }\n      return {\n        codec: \"hev1.1.6.L93.B0\",\n        width,\n        height,\n        chromaFormat,\n        hvcC\n      };\n    }\n  }, {\n    key: \"_parseProfileTierLevel\",\n    value: function _parseProfileTierLevel(eg, maxSubLayersMinus1, hvcC) {\n      var generalTierFlag = hvcC.generalTierFlag || 0;\n      hvcC.generalProfileSpace = eg.readBits(2);\n      hvcC.generalTierFlag = Math.max(eg.readBits(1), generalTierFlag);\n      hvcC.generalProfileIdc = Math.max(eg.readBits(5), hvcC.generalProfileIdc || 0);\n      hvcC.generalProfileCompatibilityFlags = eg.readBits(32);\n      hvcC.generalConstraintIndicatorFlags = [eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8)];\n      var generalLevelIdc = eg.readBits(8);\n      if (generalTierFlag < hvcC.generalTierFlag) {\n        hvcC.generalLevelIdc = generalLevelIdc;\n      } else {\n        hvcC.generalLevelIdc = Math.max(generalLevelIdc, hvcC.generalLevelIdc || 0);\n      }\n      var subLayerProfilePresentFlag = [];\n      var subLayerLevelPresentFlag = [];\n      if (maxSubLayersMinus1 > eg.bitsAvailable) {\n        throw new Error(\"maxSubLayersMinus inavlid size \".concat(maxSubLayersMinus1));\n      }\n      for (var j = 0; j < maxSubLayersMinus1; j++) {\n        subLayerProfilePresentFlag[j] = eg.readBits(1);\n        subLayerLevelPresentFlag[j] = eg.readBits(1);\n      }\n      if (maxSubLayersMinus1 > 0) {\n        eg.readBits((8 - maxSubLayersMinus1) * 2);\n      }\n      for (var i = 0; i < maxSubLayersMinus1; i++) {\n        if (subLayerProfilePresentFlag[i] !== 0) {\n          eg.readBits(2);\n          eg.readBits(1);\n          eg.readBits(5);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(4);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(12);\n        }\n        if (subLayerLevelPresentFlag[i] !== 0) {\n          eg.readBits(8);\n        }\n      }\n    }\n  }]);\n  return HEVC2;\n}();\nexport { HEVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"./types.js\";\nvar VideoTrack = /* @__PURE__ */ function() {\n  function VideoTrack2() {\n    _classCallCheck(this, VideoTrack2);\n    _defineProperty(this, \"id\", 1);\n    _defineProperty(this, \"type\", TrackType.VIDEO);\n    _defineProperty(this, \"codecType\", VideoCodecType.AVC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"hvcC\", void 0);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"pps\", []);\n    _defineProperty(this, \"sps\", []);\n    _defineProperty(this, \"vps\", []);\n    _defineProperty(this, \"fpsNum\", 0);\n    _defineProperty(this, \"fpsDen\", 0);\n    _defineProperty(this, \"sarRatio\", []);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"nalUnitSize\", 4);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"isVideo\", true);\n    _defineProperty(this, \"lastKeyFrameDts\", 0);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"pssh\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(VideoTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = this.width = this.height = this.fpsDen = this.fpsNum = this.duration = this.baseMediaDecodeTime = this.timescale = 0;\n      this.codec = \"\";\n      this.present = false;\n      this.pid = -1;\n      this.pps = [];\n      this.sps = [];\n      this.vps = [];\n      this.sarRatio = [];\n      this.samples = [];\n      this.warnings = [];\n      this.hvcC = null;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      if (/av01/.test(this.codec)) {\n        return true;\n      }\n      return !!(this.pps.length && this.sps.length && this.codec);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isVideoEncryption;\n    }\n  }]);\n  return VideoTrack2;\n}();\nexport { VideoTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, AudioCodecType } from \"./types.js\";\nvar AudioTrack = /* @__PURE__ */ function() {\n  function AudioTrack2() {\n    _classCallCheck(this, AudioTrack2);\n    _defineProperty(this, \"id\", 2);\n    _defineProperty(this, \"type\", TrackType.AUDIO);\n    _defineProperty(this, \"codecType\", AudioCodecType.AAC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"sampleDuration\", 0);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"sampleSize\", 16);\n    _defineProperty(this, \"sampleRate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"objectType\", 0);\n    _defineProperty(this, \"sampleRateIndex\", 0);\n    _defineProperty(this, \"config\", []);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(AudioTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = 0;\n      this.timescale = 0;\n      this.sampleDuration = 0;\n      this.sampleRate = 0;\n      this.channelCount = 0;\n      this.baseMediaDecodeTime = 0;\n      this.present = false;\n      this.pid = -1;\n      this.codec = \"\";\n      this.samples = [];\n      this.config = [];\n      this.warnings = [];\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.sampleRate && this.channelCount && this.codec && (this.codecType === AudioCodecType.AAC || this.codecType === AudioCodecType.G711PCMA || this.codecType === AudioCodecType.G711PCMU || this.codecType === AudioCodecType.OPUS));\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isAudioEncryption;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }]);\n  return AudioTrack2;\n}();\nexport { AudioTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar VideoSample = /* @__PURE__ */ function() {\n  function VideoSample2(pts, dts, units) {\n    _classCallCheck(this, VideoSample2);\n    _defineProperty(this, \"flag\", {});\n    _defineProperty(this, \"keyframe\", false);\n    _defineProperty(this, \"gopId\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"size\", 0);\n    _defineProperty(this, \"units\", []);\n    _defineProperty(this, \"chromaFormat\", 420);\n    this.originPts = this.pts = pts;\n    this.originDts = this.dts = dts;\n    if (units)\n      this.units = units;\n  }\n  _createClass(VideoSample2, [{\n    key: \"cts\",\n    get: function get() {\n      return this.pts - this.dts;\n    }\n  }, {\n    key: \"setToKeyframe\",\n    value: function setToKeyframe() {\n      this.keyframe = true;\n      this.flag.dependsOn = 2;\n      this.flag.isNonSyncSample = 0;\n    }\n  }]);\n  return VideoSample2;\n}();\nexport { VideoSample };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType } from \"./types.js\";\nvar Sample = /* @__PURE__ */ _createClass(\n  function Sample2(data, pts) {\n    _classCallCheck(this, Sample2);\n    _defineProperty(this, \"time\", 0);\n    this.data = data;\n    this.originPts = this.pts = pts;\n  }\n);\nvar FlvScriptSample = /* @__PURE__ */ function(_Sample) {\n  _inherits(FlvScriptSample2, _Sample);\n  var _super = _createSuper(FlvScriptSample2);\n  function FlvScriptSample2() {\n    _classCallCheck(this, FlvScriptSample2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(FlvScriptSample2);\n}(Sample);\nvar SeiSample = /* @__PURE__ */ function(_Sample2) {\n  _inherits(SeiSample2, _Sample2);\n  var _super2 = _createSuper(SeiSample2);\n  function SeiSample2() {\n    _classCallCheck(this, SeiSample2);\n    return _super2.apply(this, arguments);\n  }\n  return _createClass(SeiSample2);\n}(Sample);\nvar MetadataTrack = /* @__PURE__ */ function() {\n  function MetadataTrack2() {\n    _classCallCheck(this, MetadataTrack2);\n    _defineProperty(this, \"id\", 3);\n    _defineProperty(this, \"type\", TrackType.METADATA);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"flvScriptSamples\", []);\n    _defineProperty(this, \"seiSamples\", []);\n  }\n  _createClass(MetadataTrack2, [{\n    key: \"exist\",\n    value: function exist() {\n      return !!((this.flvScriptSamples.length || this.seiSamples.length) && this.timescale);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.timescale = 0;\n      this.flvScriptSamples = [];\n      this.seiSamples = [];\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!(this.flvScriptSamples.length || this.seiSamples.length);\n    }\n  }]);\n  return MetadataTrack2;\n}();\nexport { FlvScriptSample, MetadataTrack, SeiSample };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsFixer } from \"./fixer.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { AVC } from \"../codec/avc.js\";\nimport { HEVC } from \"../codec/hevc.js\";\nimport { NALu } from \"../codec/nalu.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack, SeiSample } from \"../model/metadata-track.js\";\nimport { VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nvar logger = new Logger(\"TsDemuxer\");\nvar TsDemuxer = /* @__PURE__ */ function() {\n  function TsDemuxer2(videoTrack, audioTrack, metadataTrack) {\n    var fixerConfig = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n    _classCallCheck(this, TsDemuxer2);\n    _defineProperty(this, \"_pmtId\", -1);\n    _defineProperty(this, \"_remainingPacketData\", null);\n    _defineProperty(this, \"_videoPesData\", []);\n    _defineProperty(this, \"_audioPesData\", []);\n    _defineProperty(this, \"_gopId\", 0);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n    this._fixer = new TsFixer(this.videoTrack, this.audioTrack, this.metadataTrack, fixerConfig);\n  }\n  _createClass(TsDemuxer2, [{\n    key: \"demux\",\n    value: function demux(data) {\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      var audioTrack = this.audioTrack, videoTrack = this.videoTrack, metadataTrack = this.metadataTrack;\n      if (discontinuity) {\n        this._pmtId = -1;\n        videoTrack.reset();\n        audioTrack.reset();\n        metadataTrack.reset();\n      }\n      if (!contiguous || discontinuity) {\n        this._remainingPacketData = null;\n        this._videoPesData = [];\n        this._audioPesData = [];\n      } else {\n        videoTrack.samples = [];\n        audioTrack.samples = [];\n        metadataTrack.seiSamples = [];\n        videoTrack.warnings = [];\n        audioTrack.warnings = [];\n        if (this._remainingPacketData) {\n          data = concatUint8Array(this._remainingPacketData, data);\n          this._remainingPacketData = null;\n        }\n      }\n      var dataLen = data.length;\n      var remainingLength = dataLen % 188;\n      if (remainingLength) {\n        this._remainingPacketData = data.subarray(dataLen - remainingLength);\n        dataLen -= remainingLength;\n      }\n      var videoPid = videoTrack.pid;\n      var audioPid = audioTrack.pid;\n      for (var start = 0; start < dataLen; start += 188) {\n        if (data[start] !== 71)\n          throw new Error(\"TS packet did not start with 0x47\");\n        var payloadUnitStartIndicator = !!(data[start + 1] & 64);\n        var pid = ((data[start + 1] & 31) << 8) + data[start + 2];\n        var adaptationFiledControl = (data[start + 3] & 48) >> 4;\n        var offset = void 0;\n        if (adaptationFiledControl > 1) {\n          offset = start + 5 + data[start + 4];\n          if (offset === start + 188)\n            continue;\n        } else {\n          offset = start + 4;\n        }\n        switch (pid) {\n          case 0:\n            if (payloadUnitStartIndicator)\n              offset += data[offset] + 1;\n            this._pmtId = (data[offset + 10] & 31) << 8 | data[offset + 11];\n            break;\n          case this._pmtId:\n            {\n              if (payloadUnitStartIndicator)\n                offset += data[offset] + 1;\n              var tableEnd = offset + 3 + ((data[offset + 1] & 15) << 8 | data[offset + 2]) - 4;\n              var programInfoLength = (data[offset + 10] & 15) << 8 | data[offset + 11];\n              offset += 12 + programInfoLength;\n              while (offset < tableEnd) {\n                var esPid = (data[offset + 1] & 31) << 8 | data[offset + 2];\n                switch (data[offset]) {\n                  case 15:\n                    audioTrack.pid = audioPid = esPid;\n                    break;\n                  case 27:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.AVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  case 36:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.HEVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  default:\n                    logger.warn(\"Unsupported stream. type: \".concat(data[offset], \", pid: \").concat(esPid));\n                }\n                offset += ((data[offset + 3] & 15) << 8 | data[offset + 4]) + 5;\n              }\n            }\n            break;\n          case videoPid:\n            if (payloadUnitStartIndicator && this._videoPesData.length) {\n              this._parseVideoData();\n            }\n            this._videoPesData.push(data.subarray(offset, start + 188));\n            break;\n          case audioPid:\n            if (payloadUnitStartIndicator && this._audioPesData.length) {\n              this._parseAudioData();\n            }\n            this._audioPesData.push(data.subarray(offset, start + 188));\n            break;\n          case 17:\n          case 8191:\n            break;\n          default:\n            logger.warn(\"Unknown pid: \".concat(pid));\n        }\n      }\n      this._parseVideoData();\n      this._parseAudioData();\n      audioTrack.formatTimescale = videoTrack.formatTimescale = videoTrack.timescale = metadataTrack.timescale = 9e4;\n      audioTrack.timescale = audioTrack.sampleRate || 0;\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack\n      };\n    }\n  }, {\n    key: \"fix\",\n    value: function fix(startTime, discontinuity, contiguous) {\n      this._fixer.fix(startTime, discontinuity, contiguous);\n      return {\n        videoTrack: this.videoTrack,\n        audioTrack: this.audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demuxAndFix\",\n    value: function demuxAndFix(data, discontinuity, contiguous, startTime) {\n      this.demux(data, discontinuity, contiguous);\n      return this.fix(startTime, discontinuity, contiguous);\n    }\n  }, {\n    key: \"_parseVideoData\",\n    value: function _parseVideoData() {\n      if (!this._videoPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._videoPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse video pes\", this._videoPesData);\n        return;\n      }\n      var units = NALu.parseAnnexB(pes.data);\n      if (units) {\n        this._createVideoSample(units, pes.pts, pes.dts);\n      } else {\n        logger.warn(\"Cannot parse avc units\", pes);\n      }\n      this._videoPesData = [];\n    }\n  }, {\n    key: \"_createVideoSample\",\n    value: function _createVideoSample(units, pts, dts) {\n      var _this = this;\n      if (!units.length)\n        return;\n      var track = this.videoTrack;\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var sample = new VideoSample(pts, dts);\n      units.forEach(function(unit) {\n        var type = isHevc ? unit[0] >>> 1 & 63 : unit[0] & 31;\n        switch (type) {\n          case 5:\n          case 16:\n          case 17:\n          case 18:\n          case 19:\n          case 20:\n          case 21:\n          case 22:\n          case 23:\n            if (!isHevc && type !== 5 || isHevc && type === 5)\n              break;\n            sample.setToKeyframe();\n            _this._gopId++;\n            break;\n          case 6:\n          case 39:\n          case 40:\n            if (!isHevc && type !== 6 || isHevc && type === 6)\n              break;\n            _this.metadataTrack.seiSamples.push(new SeiSample(NALu.parseSEI(NALu.removeEPB(unit), isHevc), pts));\n            return;\n          case 32:\n            if (!isHevc)\n              break;\n            if (!track.vps.length) {\n              var hvcC = HEVC.parseVPS(NALu.removeEPB(unit), track.hvcC);\n              track.hvcC = track.hvcC || hvcC;\n              track.vps = [unit];\n            }\n            break;\n          case 7:\n          case 33:\n            if (!isHevc && type !== 7 || isHevc && type === 7)\n              break;\n            if (!track.sps.length) {\n              var data = NALu.removeEPB(unit);\n              var spsInfo = isHevc ? HEVC.parseSPS(data, track.hvcC) : AVC.parseSPS(data);\n              track.sps = [unit];\n              track.hvcC = track.hvcC || spsInfo.hvcC;\n              track.codec = spsInfo.codec;\n              track.width = spsInfo.width;\n              track.height = spsInfo.height;\n              track.sarRatio = spsInfo.sarRatio;\n              track.fpsNum = spsInfo.fpsNum;\n              track.fpsDen = spsInfo.fpsDen;\n            }\n            break;\n          case 8:\n          case 34:\n            if (!isHevc && type !== 8 || isHevc && type === 8)\n              break;\n            if (!track.pps.length)\n              track.pps = [unit];\n            break;\n          case 9:\n          case 35:\n            break;\n          case 38:\n            if (isHevc) {\n              var ffByteFound = false;\n              for (var i = 2; i < unit.byteLength; i++) {\n                if (unit[i] === 255) {\n                  ffByteFound = true;\n                  break;\n                }\n              }\n              if (!ffByteFound) {\n                return;\n              }\n            }\n            break;\n        }\n        sample.units.push(unit);\n      });\n      sample.gopId = this._gopId;\n      this._pushVideoSample(track, sample);\n    }\n  }, {\n    key: \"_pushVideoSample\",\n    value: function _pushVideoSample(track, sample) {\n      if (sample.units.length) {\n        if (sample.pts === null || sample.pts === void 0) {\n          logger.warn(\"Video sample no pts\", sample);\n          var lastSample = track.samples[track.samples.length - 1];\n          if (lastSample) {\n            sample.pts = lastSample.pts;\n            sample.dts = lastSample.dts;\n          } else {\n            logger.warn(\"Drop video sample\", sample);\n          }\n        } else {\n          track.samples.push(sample);\n        }\n      }\n    }\n  }, {\n    key: \"_parseAudioData\",\n    value: function _parseAudioData() {\n      if (!this._audioPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._audioPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse audio pes\", this._audioPesData);\n        return;\n      }\n      this._parseAacData(pes);\n      this._audioPesData = [];\n    }\n  }, {\n    key: \"_parseAacData\",\n    value: function _parseAacData(pes) {\n      var track = this.audioTrack;\n      var pts = pes.pts;\n      if (pts === null || pts === void 0) {\n        logger.warn(\"AAC pes not pts\", track);\n        if (!track.samples.length || !track.sampleRate) {\n          return;\n        }\n        pts = track.samples[track.samples.length - 1].pts + AAC.getFrameDuration(track.sampleRate);\n      }\n      var ret = AAC.parseADTS(pes.data, pts);\n      if (ret) {\n        var _track$samples;\n        track.codec = ret.codec;\n        track.channelCount = ret.channelCount;\n        track.sampleRate = ret.sampleRate;\n        track.objectType = ret.objectType;\n        track.sampleRateIndex = ret.samplingFrequencyIndex;\n        track.config = ret.config;\n        (_track$samples = track.samples).push.apply(_track$samples, _toConsumableArray(ret.frames.map(function(s) {\n          return new AudioSample(s.pts, s.data);\n        })));\n        if (ret.skip) {\n          logger.warn(\"Skip aac adts \".concat(ret.skip, \" bits\"));\n        }\n        if (ret.remaining) {\n          logger.warn(\"Remaining aac adts \".concat(ret.remaining, \" bits\"));\n        }\n      } else {\n        logger.warn(\"Cannot parse aac adts\", pes);\n      }\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      if (!data.length)\n        return false;\n      return data[0] === 71 && data[188] === 71 && data[376] === 71;\n    }\n  }, {\n    key: \"_parsePES\",\n    value: function _parsePES(data) {\n      var headerDataLen = data[8];\n      if (headerDataLen === null || headerDataLen === void 0 || data.length < headerDataLen + 9)\n        return;\n      var startPrefix = data[0] << 16 | data[1] << 8 | data[2];\n      if (startPrefix !== 1)\n        return;\n      var pesLen = (data[4] << 8) + data[5];\n      if (pesLen && pesLen > data.length - 6)\n        return;\n      var pts;\n      var dts;\n      var ptsDtsFlags = data[7];\n      if (ptsDtsFlags & 192) {\n        pts = (data[9] & 14) * 536870912 + (data[10] & 255) * 4194304 + (data[11] & 254) * 16384 + (data[12] & 255) * 128 + (data[13] & 254) / 2;\n        if (ptsDtsFlags & 64) {\n          dts = (data[14] & 14) * 536870912 + (data[15] & 255) * 4194304 + (data[16] & 254) * 16384 + (data[17] & 255) * 128 + (data[18] & 254) / 2;\n          if (pts - dts > 60 * 9e4)\n            pts = dts;\n        } else {\n          dts = pts;\n        }\n      }\n      return {\n        data: data.subarray(9 + headerDataLen),\n        pts,\n        dts\n      };\n    }\n  }]);\n  return TsDemuxer2;\n}();\nexport { TsDemuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ByteReader = /* @__PURE__ */ function() {\n  function ByteReader2(buf, offset, len) {\n    _classCallCheck(this, ByteReader2);\n    this.dv = new DataView(buf);\n    this.start = this.offset = offset || this.dv.byteOffset;\n    this.end = len ? this.start + len : this.start + this.dv.byteLength;\n  }\n  _createClass(ByteReader2, [{\n    key: \"buffer\",\n    get: function get() {\n      return this.dv.buffer;\n    }\n  }, {\n    key: \"unreadLength\",\n    get: function get() {\n      return Math.max(this.end - this.offset, 0);\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.end - this.start;\n    }\n  }, {\n    key: \"readFloat\",\n    value: function readFloat(byteNum) {\n      var val = 0;\n      switch (byteNum) {\n        case 4:\n          val = this.dv.getFloat32(this.offset);\n          break;\n        case 8:\n          val = this.dv.getFloat64(this.offset);\n          break;\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte float is not supported\"));\n      }\n      this.offset += byteNum;\n      return val;\n    }\n  }, {\n    key: \"back\",\n    value: function back(byteNum) {\n      this.offset -= byteNum;\n    }\n  }, {\n    key: \"skip\",\n    value: function skip(byteNum) {\n      this.offset += byteNum;\n    }\n  }, {\n    key: \"readInt\",\n    value: function readInt(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getInt8(offset);\n        case 2:\n          return this.dv.getInt16(offset);\n        case 4:\n          return this.dv.getInt32(offset);\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"read\",\n    value: function read(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getUint8(offset);\n        case 2:\n          return this.dv.getUint16(offset);\n        case 3:\n          return (this.dv.getUint16(offset) << 8) + this.dv.getUint8(offset + 2);\n        case 4:\n          return this.dv.getUint32(offset);\n        default:\n          this.back(byteNum - 4);\n          return this.read(byteNum - 4) + this.dv.getUint32(offset) * Math.pow(256, byteNum - 4);\n      }\n    }\n  }, {\n    key: \"write\",\n    value: function write(byteNum, val) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.setUint8(offset, val);\n        case 2:\n          return this.dv.setUint16(offset, val);\n        case 3:\n          return this.dv.setUint8(offset, val >>> 16), this.dv.setUint16(offset + 1, 65535 & val);\n        case 4:\n          return this.dv.setUint32(offset, val);\n        default:\n          throw new Error(\"write \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"readToBuffer\",\n    value: function readToBuffer(len) {\n      var buffer;\n      if (this.offset || len) {\n        buffer = this.dv.buffer.slice(this.offset, len ? this.offset + len : this.end);\n      } else {\n        buffer = this.dv.buffer;\n      }\n      this.offset += buffer.byteLength;\n      return buffer;\n    }\n  }, {\n    key: \"readToUint8\",\n    value: function readToUint8(len) {\n      var uint8 = new Uint8Array(this.dv.buffer, this.offset, len || this.unreadLength);\n      this.offset += uint8.byteLength;\n      return uint8;\n    }\n  }, {\n    key: \"readString\",\n    value: function readString(len) {\n      var i = 0, str = \"\";\n      for (; i < len; i++) {\n        str += String.fromCharCode(this.dv.getUint8(this.offset));\n        this.offset++;\n      }\n      return str;\n    }\n  }], [{\n    key: \"fromUint8\",\n    value: function fromUint8(uint8) {\n      return new ByteReader2(uint8.buffer, uint8.byteOffset, uint8.byteLength);\n    }\n  }, {\n    key: \"concatUint8s\",\n    value: function concatUint8s(args) {\n      var uint8 = new Uint8Array(args.reduce(function(ret, v) {\n        return ret + v.byteLength;\n      }, 0));\n      var offset = 0;\n      args.forEach(function(v) {\n        uint8.set(v, offset);\n        offset += v.byteLength;\n      });\n      return uint8;\n    }\n  }, {\n    key: \"concatUint8\",\n    value: function concatUint8() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this.concatUint8s(args);\n    }\n  }]);\n  return ByteReader2;\n}();\nexport { ByteReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar BitReader = /* @__PURE__ */ function() {\n  function BitReader2(val, size) {\n    _classCallCheck(this, BitReader2);\n    this.offset = 0;\n    this.val = val;\n    this.size = size;\n  }\n  _createClass(BitReader2, [{\n    key: \"skip\",\n    value: function skip(len) {\n      this.offset += len;\n    }\n  }, {\n    key: \"read\",\n    value: function read(len) {\n      var unreadLength = this.size - this.offset - len;\n      if (unreadLength >= 0) {\n        var bits = 0, i = 0;\n        this.offset += len;\n        if (this.size > 31) {\n          for (; i < len; i++) {\n            bits += Math.pow(2, i);\n          }\n          return this.val / Math.pow(2, unreadLength) & bits;\n        } else {\n          for (; i < len; i++) {\n            bits += 1 << i;\n          }\n          return this.val >>> unreadLength & bits;\n        }\n      }\n      throw new Error(\"the number of the read operation exceeds the total length limit of bits\");\n    }\n  }], [{\n    key: \"fromByte\",\n    value: function fromByte(byte, len) {\n      return new BitReader2(byte.read(len), len << 3);\n    }\n  }]);\n  return BitReader2;\n}();\nexport { BitReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { readBig32, readBig64, readBig24, readBig16, combineToFloat, toDegree, getAvcCodec } from \"../utils/index.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { ByteReader } from \"../utils/byte-reader.js\";\nimport { BitReader } from \"../utils/bit-reader.js\";\nvar MP4Parser = /* @__PURE__ */ function() {\n  function MP4Parser2() {\n    _classCallCheck(this, MP4Parser2);\n  }\n  _createClass(MP4Parser2, null, [{\n    key: \"findBox\",\n    value: function findBox(data, names) {\n      var start = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var ret = [];\n      if (!data)\n        return ret;\n      var size = 0;\n      var type = \"\";\n      var headerSize = 0;\n      while (data.length > 7) {\n        size = readBig32(data);\n        type = String.fromCharCode.apply(null, data.subarray(4, 8));\n        headerSize = 8;\n        if (size === 1) {\n          size = readBig64(data, 8);\n          headerSize += 8;\n        } else if (!size) {\n          size = data.length;\n        }\n        if (!names[0] || type === names[0]) {\n          var subData = data.subarray(0, size);\n          if (names.length < 2) {\n            ret.push({\n              start,\n              size,\n              headerSize,\n              type,\n              data: subData\n            });\n          } else {\n            return MP4Parser2.findBox(subData.subarray(headerSize), names.slice(1), start + headerSize);\n          }\n        }\n        start += size;\n        data = data.subarray(size);\n      }\n      return ret;\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.trackId = readBig32(data);\n        var start = 4;\n        var baseDataOffsetPresent = ret.flags & 255 & 1;\n        var sampleDescriptionIndexPresent = ret.flags & 255 & 2;\n        var defaultSampleDurationPresent = ret.flags & 255 & 8;\n        var defaultSampleSizePresent = ret.flags & 255 & 16;\n        var defaultSampleFlagsPresent = ret.flags & 255 & 32;\n        if (baseDataOffsetPresent) {\n          start += 4;\n          ret.baseDataOffset = readBig32(data, start);\n          start += 4;\n        }\n        if (sampleDescriptionIndexPresent) {\n          ret.sampleDescriptionIndex = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleDurationPresent) {\n          ret.defaultSampleDuration = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleSizePresent) {\n          ret.defaultSampleSize = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleFlagsPresent) {\n          ret.defaultSampleFlags = readBig32(data, start);\n        }\n      });\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        ret.reference_ID = readBig32(data, start);\n        start += 4;\n        ret.timescale = readBig32(data, start);\n        start += 4;\n        if (ret.version === 0) {\n          ret.earliest_presentation_time = readBig32(data, start);\n          start += 4;\n          ret.first_offset = readBig32(data, start);\n          start += 4;\n        } else {\n          ret.earliest_presentation_time = readBig64(data, start);\n          start += 8;\n          ret.first_offset = readBig64(data, start);\n          start += 8;\n        }\n        start += 2;\n        ret.references = [];\n        var count = readBig16(data, start);\n        start += 2;\n        for (var i = 0; i < count; i++) {\n          var ref = {};\n          ret.references.push(ref);\n          var tmp32 = readBig32(data, start);\n          start += 4;\n          ref.reference_type = tmp32 >> 31 & 1;\n          ref.referenced_size = tmp32 & 2147483647;\n          ref.subsegment_duration = readBig32(data, start);\n          start += 4;\n          tmp32 = readBig32(data, start);\n          start += 4;\n          ref.starts_with_SAP = tmp32 >> 31 & 1;\n          ref.SAP_type = tmp32 >> 28 & 7;\n          ref.SAP_delta_time = tmp32 & 268435455;\n        }\n      });\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mvhd = MP4Parser2.mvhd(MP4Parser2.findBox(data, [\"mvhd\"], start)[0]);\n        ret.trak = MP4Parser2.findBox(data, [\"trak\"], start).map(function(trak) {\n          return MP4Parser2.trak(trak);\n        });\n        ret.pssh = MP4Parser2.pssh(MP4Parser2.findBox(data, [\"pssh\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        ret.nextTrackId = readBig32(data, start + 76);\n      });\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tkhd = MP4Parser2.tkhd(MP4Parser2.findBox(data, [\"tkhd\"], start)[0]);\n        ret.mdia = MP4Parser2.mdia(MP4Parser2.findBox(data, [\"mdia\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        if (ret.version === 1) {\n          byte.read(8);\n          byte.read(8);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(8);\n        } else {\n          byte.read(4);\n          byte.read(4);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(4);\n        }\n        byte.skip(16);\n        ret.matrix = [];\n        for (var i = 0; i < 36; i++) {\n          ret.matrix.push(byte.read(1));\n        }\n        byte.back(36);\n        var caculatedMatrix = [];\n        for (var _i = 0, int32; _i < 3; _i++) {\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          int32 = byte.readInt(4);\n          caculatedMatrix.push(combineToFloat(int32 >> 30, int32 & 1073741823));\n        }\n        ret.rotation = toDegree(caculatedMatrix);\n        ret.width = byte.read(4);\n        ret.height = byte.read(4);\n      });\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mdhd = MP4Parser2.mdhd(MP4Parser2.findBox(data, [\"mdhd\"], start)[0]);\n        ret.hdlr = MP4Parser2.hdlr(MP4Parser2.findBox(data, [\"hdlr\"], start)[0]);\n        ret.minf = MP4Parser2.minf(MP4Parser2.findBox(data, [\"minf\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        var lang = readBig16(data, start);\n        ret.language = String.fromCharCode((lang >> 10 & 31) + 96, (lang >> 5 & 31) + 96, (lang & 31) + 96);\n      });\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 0) {\n          ret.handlerType = String.fromCharCode.apply(null, data.subarray(4, 8));\n        }\n      });\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.vmhd = MP4Parser2.vmhd(MP4Parser2.findBox(data, [\"vmhd\"], start)[0]);\n        ret.smhd = MP4Parser2.smhd(MP4Parser2.findBox(data, [\"smhd\"], start)[0]);\n        ret.stbl = MP4Parser2.stbl(MP4Parser2.findBox(data, [\"stbl\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"vmhd\",\n    value: function vmhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.graphicsmode = readBig16(data);\n        ret.opcolor = [readBig16(data, 2), readBig16(data, 4), readBig16(data, 6)];\n      });\n    }\n  }, {\n    key: \"smhd\",\n    value: function smhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.balance = readBig16(data);\n      });\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var _ret$stsd$entries$, _ret$stsd$entries$$si, _ret$stsd$entries$$si2;\n        ret.stsd = MP4Parser2.stsd(MP4Parser2.findBox(data, [\"stsd\"], start)[0]);\n        ret.stts = MP4Parser2.stts(MP4Parser2.findBox(data, [\"stts\"], start)[0]);\n        ret.ctts = MP4Parser2.ctts(MP4Parser2.findBox(data, [\"ctts\"], start)[0]);\n        ret.stsc = MP4Parser2.stsc(MP4Parser2.findBox(data, [\"stsc\"], start)[0]);\n        ret.stsz = MP4Parser2.stsz(MP4Parser2.findBox(data, [\"stsz\"], start)[0]);\n        ret.stco = MP4Parser2.stco(MP4Parser2.findBox(data, [\"stco\"], start)[0]);\n        if (!ret.stco) {\n          ret.co64 = MP4Parser2.co64(MP4Parser2.findBox(data, [\"co64\"], start)[0]);\n          ret.stco = ret.co64;\n        }\n        var default_IV_size = (_ret$stsd$entries$ = ret.stsd.entries[0]) === null || _ret$stsd$entries$ === void 0 ? void 0 : (_ret$stsd$entries$$si = _ret$stsd$entries$.sinf) === null || _ret$stsd$entries$$si === void 0 ? void 0 : (_ret$stsd$entries$$si2 = _ret$stsd$entries$$si.schi) === null || _ret$stsd$entries$$si2 === void 0 ? void 0 : _ret$stsd$entries$$si2.tenc.default_IV_size;\n        ret.stss = MP4Parser2.stss(MP4Parser2.findBox(data, [\"stss\"], start)[0]);\n        ret.senc = MP4Parser2.senc(MP4Parser2.findBox(data, [\"senc\"], start)[0], default_IV_size);\n      });\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(box) {\n      var iv = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        var sampleCount = readBig32(data, start);\n        start += 4;\n        ret.samples = [];\n        for (var i = 0; i < sampleCount; i++) {\n          var sample = {};\n          sample.InitializationVector = [];\n          for (var j = 0; j < iv; j++) {\n            sample.InitializationVector[j] = data[start + j];\n          }\n          start += iv;\n          if (ret.flags & 2) {\n            sample.subsamples = [];\n            var subsampleCount = readBig16(data, start);\n            start += 2;\n            for (var _j = 0; _j < subsampleCount; _j++) {\n              var subsample = {};\n              subsample.BytesOfClearData = readBig16(data, start);\n              start += 2;\n              subsample.BytesOfProtectedData = readBig32(data, start);\n              start += 4;\n              sample.subsamples.push(subsample);\n            }\n          }\n          ret.samples.push(sample);\n        }\n      });\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(box) {\n      return parseBox(box, true, function(ret, data) {\n        var keyIds = [];\n        var systemId = [];\n        var start = 0;\n        for (var i = 0; i < 16; i++) {\n          systemId.push(toHex(data[start + i]));\n        }\n        start += 16;\n        if (ret.version > 0) {\n          var numKeyIds = readBig32(data, start);\n          start += 4;\n          for (var _i2 = 0; _i2 < (\"\" + numKeyIds).length; _i2++) {\n            for (var j = 0; j < 16; j++) {\n              var keyId = data[start];\n              start += 1;\n              keyIds.push(toHex(keyId));\n            }\n          }\n        }\n        var dataSize = readBig32(data, start);\n        ret.data_size = dataSize;\n        start += 4;\n        ret.kid = keyIds;\n        ret.system_id = systemId;\n        ret.buffer = data;\n      });\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(box) {\n      return parseBox(box, true, function(ret, data, start) {\n        ret.entryCount = readBig32(data);\n        ret.entries = MP4Parser2.findBox(data.subarray(4), [], start + 4).map(function(b) {\n          switch (b.type) {\n            case \"av01\":\n              return MP4Parser2.av01(b);\n            case \"avc1\":\n            case \"avc2\":\n            case \"avc3\":\n            case \"avc4\":\n              return MP4Parser2.avc1(b);\n            case \"hvc1\":\n            case \"hev1\":\n              return MP4Parser2.hvc1(b);\n            case \"mp4a\":\n              return MP4Parser2.mp4a(b);\n            case \"alaw\":\n            case \"ulaw\":\n              return MP4Parser2.alaw(b);\n            case \"enca\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.channelCount = readBig16(data2, 16);\n                ret2.samplesize = readBig16(data2, 18);\n                ret2.sampleRate = readBig32(data2, 24) / (1 << 16);\n                data2 = data2.subarray(28);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.esds = MP4Parser2.esds(MP4Parser2.findBox(data2, [\"esds\"], start2)[0]);\n              });\n            case \"encv\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.width = readBig16(data2, 24);\n                ret2.height = readBig16(data2, 26);\n                ret2.horizresolution = readBig32(data2, 28);\n                ret2.vertresolution = readBig32(data2, 32);\n                data2 = data2.subarray(78);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.avcC = MP4Parser2.avcC(MP4Parser2.findBox(data2, [\"avcC\"], start2)[0]);\n                ret2.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(data2, [\"hvcC\"], start2)[0]);\n                ret2.pasp = MP4Parser2.pasp(MP4Parser2.findBox(data2, [\"pasp\"], start2)[0]);\n              });\n          }\n        }).filter(Boolean);\n      });\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(box) {\n      return parseBox(box, false, function(ret, data) {\n        var start = 6;\n        ret.default_IsEncrypted = data[start];\n        start += 1;\n        ret.default_IV_size = data[start];\n        start += 1;\n        ret.default_KID = [];\n        for (var i = 0; i < 16; i++) {\n          ret.default_KID.push(toHex(data[start]));\n          start += 1;\n        }\n      });\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tenc = MP4Parser2.tenc(MP4Parser2.findBox(data, [\"tenc\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.schi = MP4Parser2.schi(MP4Parser2.findBox(data, [\"schi\"], start)[0]);\n        ret.frma = MP4Parser2.frma(MP4Parser2.findBox(data, [\"frma\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"frma\",\n    value: function frma(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data_format = \"\";\n        for (var i = 0; i < 4; i++) {\n          ret.data_format += String.fromCharCode(data[i]);\n        }\n      });\n    }\n  }, {\n    key: \"colr\",\n    value: function colr(box) {\n      return parseBox(box, false, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        ret.data = box.data;\n        ret.colorType = byte.readString(4);\n        if (ret.colorType === \"nclx\") {\n          ret.colorPrimaries = byte.read(2);\n          ret.transferCharacteristics = byte.read(2);\n          ret.matrixCoefficients = byte.read(2);\n          ret.fullRangeFlag = byte.read(1) >> 7;\n        } else if (ret.colorType === \"rICC\" || ret.colorType === \"prof\") {\n          ret.iccProfile = data.readToUint8();\n        }\n      });\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.av1C = MP4Parser2.av1C(MP4Parser2.findBox(bodyData, [\"av1C\"], start)[0]);\n        ret.colr = MP4Parser2.colr(MP4Parser2.findBox(bodyData, [\"colr\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"av1C\",\n    value: function av1C(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        var byte = ByteReader.fromUint8(data);\n        var bit = BitReader.fromByte(byte, 4);\n        ret.marker = bit.read(1);\n        ret.version = bit.read(7);\n        ret.seqProfile = bit.read(3);\n        ret.seqLevelIdx0 = bit.read(5);\n        ret.seqTier0 = bit.read(1);\n        ret.highBitdepth = bit.read(1);\n        ret.twelveBit = bit.read(1);\n        ret.monochrome = bit.read(1);\n        ret.chromaSubsamplingX = bit.read(1);\n        ret.chromaSubsamplingY = bit.read(1);\n        ret.chromaSamplePosition = bit.read(2);\n        ret.reserved = bit.read(3);\n        ret.initialPresentationDelayPresent = bit.read(1);\n        if (ret.initialPresentationDelayPresent) {\n          ret.initialPresentationDelayMinusOne = bit.read(4);\n        } else {\n          ret.initialPresentationDelayMinusOne = 0;\n        }\n        ret.configOBUs = byte.readToUint8();\n        var bitdepth;\n        if (ret.seqLevelIdx0 === 2 && ret.highBitdepth === 1) {\n          bitdepth = ret.twelveBit === 1 ? \"12\" : \"10\";\n        } else if (ret.seqProfile <= 2) {\n          bitdepth = ret.highBitdepth === 1 ? \"10\" : \"08\";\n        }\n        ret.codec = [\"av01\", ret.seqProfile, (ret.seqLevelIdx0 < 10 ? \"0\" + ret.seqLevelIdx0 : ret.seqLevelIdx0) + (ret.seqTier0 ? \"H\" : \"M\"), bitdepth].join(\".\");\n      });\n    }\n  }, {\n    key: \"avc1\",\n    value: function avc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.avcC = MP4Parser2.avcC(MP4Parser2.findBox(bodyData, [\"avcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.configurationVersion = data[0];\n        ret.AVCProfileIndication = data[1];\n        ret.profileCompatibility = data[2];\n        ret.AVCLevelIndication = data[3];\n        ret.codec = getAvcCodec([data[1], data[2], data[3]]);\n        ret.lengthSizeMinusOne = data[4] & 3;\n        ret.spsLength = data[5] & 31;\n        ret.sps = [];\n        var start = 6;\n        for (var i = 0; i < ret.spsLength; i++) {\n          var size = readBig16(data, start);\n          start += 2;\n          ret.sps.push(data.subarray(start, start + size));\n          start += size;\n        }\n        ret.ppsLength = data[start];\n        start += 1;\n        ret.pps = [];\n        for (var _i3 = 0; _i3 < ret.ppsLength; _i3++) {\n          var _size = readBig16(data, start);\n          start += 2;\n          ret.pps.push(data.subarray(start, start += _size));\n          start += _size;\n        }\n      });\n    }\n  }, {\n    key: \"hvc1\",\n    value: function hvc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(bodyData, [\"hvcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.codec = \"hev1.1.6.L93.B0\";\n        ret.configurationVersion = data[0];\n        var tmp = data[1];\n        ret.generalProfileSpace = tmp >> 6;\n        ret.generalTierFlag = (tmp & 32) >> 5;\n        ret.generalProfileIdc = tmp & 31;\n        ret.generalProfileCompatibility = readBig32(data, 2);\n        ret.generalConstraintIndicatorFlags = data.subarray(6, 12);\n        ret.generalLevelIdc = data[12];\n        ret.avgFrameRate = readBig16(data, 19);\n        ret.numOfArrays = data[22];\n        ret.vps = [];\n        ret.sps = [];\n        ret.pps = [];\n        var start = 23;\n        var type = 0;\n        var numNalus = 0;\n        var size = 0;\n        for (var i = 0; i < ret.numOfArrays; i++) {\n          type = data[start] & 63;\n          numNalus = readBig16(data, start + 1);\n          start += 3;\n          var nalus = [];\n          for (var j = 0; j < numNalus; j++) {\n            size = readBig16(data, start);\n            start += 2;\n            nalus.push(data.subarray(start, start + size));\n            start += size;\n          }\n          if (type === 32) {\n            var _ret$vps;\n            (_ret$vps = ret.vps).push.apply(_ret$vps, nalus);\n          } else if (type === 33) {\n            var _ret$sps;\n            (_ret$sps = ret.sps).push.apply(_ret$sps, nalus);\n          } else if (type === 34) {\n            var _ret$pps;\n            (_ret$pps = ret.pps).push.apply(_ret$pps, nalus);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.hSpacing = readBig32(data);\n        ret.vSpacing = readBig32(data, 4);\n      });\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseAudioSampleEntry(ret, data);\n        ret.esds = MP4Parser2.esds(MP4Parser2.findBox(data.subarray(bodyStart), [\"esds\"], start + bodyStart)[0]);\n      });\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.codec = \"mp4a.\";\n        var start = 0;\n        var byteRead = 0;\n        var size = 0;\n        var tag = 0;\n        while (data.length) {\n          start = 0;\n          tag = data[start];\n          byteRead = data[start + 1];\n          start += 2;\n          while (byteRead & 128) {\n            size = (byteRead & 127) << 7;\n            byteRead = data[start];\n            start += 1;\n          }\n          size += byteRead & 127;\n          if (tag === 3) {\n            data = data.subarray(start + 3);\n          } else if (tag === 4) {\n            ret.codec += (data[start].toString(16) + \".\").padStart(3, \"0\");\n            data = data.subarray(start + 13);\n          } else if (tag === 5) {\n            var config = ret.config = data.subarray(start, start + size);\n            var objectType = (config[0] & 248) >> 3;\n            if (objectType === 31 && config.length >= 2) {\n              objectType = 32 + ((config[0] & 7) << 3) + ((config[1] & 224) >> 5);\n            }\n            ret.objectType = objectType;\n            ret.codec += objectType.toString(16);\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          } else {\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"alaw\",\n    value: function alaw(box) {\n      return parseBox(box, false, function(ret, data) {\n        parseAudioSampleEntry(ret, data);\n      });\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            count: readBig32(data, start),\n            delta: readBig32(data, start + 4)\n          });\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        if (ret.version === 1) {\n          for (var i = 0; i < entryCount; i++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: readBig32(data, start + 4)\n            });\n            start += 8;\n          }\n        } else {\n          for (var _i4 = 0; _i4 < entryCount; _i4++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: -(~readBig32(data, start + 4) + 1)\n            });\n            start += 8;\n          }\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            firstChunk: readBig32(data, start),\n            samplesPerChunk: readBig32(data, start + 4),\n            sampleDescriptionIndex: readBig32(data, start + 8)\n          });\n          start += 12;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(box) {\n      return parseBox(box, true, function(ret, data) {\n        var sampleSize = readBig32(data);\n        var sampleCount = readBig32(data, 4);\n        var entrySizes = [];\n        if (!sampleSize) {\n          var start = 8;\n          for (var i = 0; i < sampleCount; i++) {\n            entrySizes.push(readBig32(data, start));\n            start += 4;\n          }\n        }\n        ret.sampleSize = sampleSize;\n        ret.sampleCount = sampleCount;\n        ret.entrySizes = entrySizes;\n      });\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"co64\",\n    value: function co64(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig64(data, start));\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mfhd = MP4Parser2.mfhd(MP4Parser2.findBox(data, [\"mfhd\"], start)[0]);\n        ret.traf = MP4Parser2.findBox(data, [\"traf\"], start).map(function(t) {\n          return MP4Parser2.traf(t);\n        });\n      });\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.sequenceNumber = readBig32(data);\n      });\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tfhd = MP4Parser2.tfhd(MP4Parser2.findBox(data, [\"tfhd\"], start)[0]);\n        ret.tfdt = MP4Parser2.tfdt(MP4Parser2.findBox(data, [\"tfdt\"], start)[0]);\n        ret.trun = MP4Parser2.trun(MP4Parser2.findBox(data, [\"trun\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(box) {\n      return parseBox(box, true, function(ret, data) {\n        var version = ret.version, flags = ret.flags;\n        var dataLen = data.length;\n        var sampleCount = ret.sampleCount = readBig32(data);\n        var offset = 4;\n        if (dataLen > offset && flags & 1) {\n          ret.dataOffset = -(~readBig32(data, offset) + 1);\n          offset += 4;\n        }\n        if (dataLen > offset && flags & 4) {\n          ret.firstSampleFlags = readBig32(data, offset);\n          offset += 4;\n        }\n        ret.samples = [];\n        if (dataLen > offset) {\n          var sample;\n          for (var i = 0; i < sampleCount; i++) {\n            sample = {};\n            if (flags & 256) {\n              sample.duration = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 512) {\n              sample.size = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 1024) {\n              sample.flags = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 2048) {\n              if (version) {\n                sample.cts = -(~readBig32(data, offset + 4) + 1);\n              } else {\n                sample.cts = readBig32(data, offset);\n              }\n              offset += 4;\n            }\n            ret.samples.push(sample);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 1) {\n          ret.baseMediaDecodeTime = readBig64(data);\n        } else {\n          ret.baseMediaDecodeTime = readBig32(data);\n        }\n      });\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(data) {\n      return !!MP4Parser2.findBox(data, [\"ftyp\"]);\n    }\n  }, {\n    key: \"parseSampleFlags\",\n    value: function parseSampleFlags(flags) {\n      return {\n        isLeading: (flags[0] & 12) >>> 2,\n        dependsOn: flags[0] & 3,\n        isDependedOn: (flags[1] & 192) >>> 6,\n        hasRedundancy: (flags[1] & 48) >>> 4,\n        paddingValue: (flags[1] & 14) >>> 1,\n        isNonSyncSample: flags[1] & 1,\n        degradationPriority: flags[2] << 8 | flags[3]\n      };\n    }\n  }, {\n    key: \"moovToTrack\",\n    value: function moovToTrack(moov, videoTrack, audioTrack) {\n      var _e$esds, _e$esds2;\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia, _t$mdia$hdlr;\n        return ((_t$mdia = t.mdia) === null || _t$mdia === void 0 ? void 0 : (_t$mdia$hdlr = _t$mdia.hdlr) === null || _t$mdia$hdlr === void 0 ? void 0 : _t$mdia$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia2, _t$mdia2$hdlr;\n        return ((_t$mdia2 = t.mdia) === null || _t$mdia2 === void 0 ? void 0 : (_t$mdia2$hdlr = _t$mdia2.hdlr) === null || _t$mdia2$hdlr === void 0 ? void 0 : _t$mdia2$hdlr.handlerType) === \"soun\";\n      });\n      if (vTrack && videoTrack) {\n        var _vTrack$tkhd, _vTrack$mdia, _vTrack$mdia$minf, _vTrack$mdia$minf$stb, _vTrack$mdia2, _vTrack$mdia2$minf, _vTrack$mdia2$minf$st;\n        var v = videoTrack;\n        var _vTrackId = (_vTrack$tkhd = vTrack.tkhd) === null || _vTrack$tkhd === void 0 ? void 0 : _vTrack$tkhd.trackId;\n        if (_vTrackId !== null && _vTrackId !== void 0)\n          v.id = vTrack.tkhd.trackId;\n        v.tkhdDuration = vTrack.tkhd.duration;\n        v.mvhdDurtion = moov.mvhd.duration;\n        v.mvhdTimecale = moov.mvhd.timescale;\n        v.timescale = v.formatTimescale = vTrack.mdia.mdhd.timescale;\n        v.duration = vTrack.mdia.mdhd.duration || v.mvhdDurtion / v.mvhdTimecale * v.timescale;\n        v.rotation = vTrack.tkhd.rotation;\n        v.matrix = vTrack.tkhd.matrix;\n        var e1 = vTrack.mdia.minf.stbl.stsd.entries[0];\n        v.width = e1.width;\n        v.height = e1.height;\n        if (e1.pasp) {\n          v.sarRatio = [e1.pasp.hSpacing, e1.pasp.vSpacing];\n        }\n        if (e1.av1C) {\n          v.codecType = VideoCodecType.AV1;\n          v.codec = e1.av1C.codec;\n          v.av1C = e1.av1C.data;\n          v.colr = e1.colr.data;\n        } else if (e1.hvcC) {\n          v.codecType = VideoCodecType.HEVC;\n          v.codec = e1.hvcC.codec;\n          v.vps = e1.hvcC.vps;\n          v.sps = e1.hvcC.sps;\n          v.pps = e1.hvcC.pps;\n          v.hvcC = e1.hvcC.data;\n        } else if (e1.avcC) {\n          v.codec = e1.avcC.codec;\n          v.sps = e1.avcC.sps;\n          v.pps = e1.avcC.pps;\n        } else {\n          throw new Error(\"unknown video stsd entry\");\n        }\n        v.present = true;\n        v.ext = {};\n        v.ext.stss = (_vTrack$mdia = vTrack.mdia) === null || _vTrack$mdia === void 0 ? void 0 : (_vTrack$mdia$minf = _vTrack$mdia.minf) === null || _vTrack$mdia$minf === void 0 ? void 0 : (_vTrack$mdia$minf$stb = _vTrack$mdia$minf.stbl) === null || _vTrack$mdia$minf$stb === void 0 ? void 0 : _vTrack$mdia$minf$stb.stss;\n        v.ext.ctts = (_vTrack$mdia2 = vTrack.mdia) === null || _vTrack$mdia2 === void 0 ? void 0 : (_vTrack$mdia2$minf = _vTrack$mdia2.minf) === null || _vTrack$mdia2$minf === void 0 ? void 0 : (_vTrack$mdia2$minf$st = _vTrack$mdia2$minf.stbl) === null || _vTrack$mdia2$minf$st === void 0 ? void 0 : _vTrack$mdia2$minf$st.ctts;\n        if (e1 && e1.type === \"encv\") {\n          var _e1$sinf, _e1$sinf$schi, _e1$sinf2, _e1$sinf2$schi, _e1$sinf3, _e1$sinf3$schi, _e1$sinf4, _e1$sinf4$frma;\n          v.isVideoEncryption = true;\n          e1.default_KID = (_e1$sinf = e1.sinf) === null || _e1$sinf === void 0 ? void 0 : (_e1$sinf$schi = _e1$sinf.schi) === null || _e1$sinf$schi === void 0 ? void 0 : _e1$sinf$schi.tenc.default_KID;\n          e1.default_IsEncrypted = (_e1$sinf2 = e1.sinf) === null || _e1$sinf2 === void 0 ? void 0 : (_e1$sinf2$schi = _e1$sinf2.schi) === null || _e1$sinf2$schi === void 0 ? void 0 : _e1$sinf2$schi.tenc.default_IsEncrypted;\n          e1.default_IV_size = (_e1$sinf3 = e1.sinf) === null || _e1$sinf3 === void 0 ? void 0 : (_e1$sinf3$schi = _e1$sinf3.schi) === null || _e1$sinf3$schi === void 0 ? void 0 : _e1$sinf3$schi.tenc.default_IV_size;\n          v.videoSenc = vTrack.mdia.minf.stbl.senc && vTrack.mdia.minf.stbl.senc.samples;\n          e1.data_format = (_e1$sinf4 = e1.sinf) === null || _e1$sinf4 === void 0 ? void 0 : (_e1$sinf4$frma = _e1$sinf4.frma) === null || _e1$sinf4$frma === void 0 ? void 0 : _e1$sinf4$frma.data_format;\n          v.useEME = moov.useEME;\n          v.kidValue = moov.kidValue;\n          v.pssh = moov.pssh;\n          v.encv = e1;\n        }\n      }\n      if (aTrack && audioTrack) {\n        var _aTrack$tkhd, _e$esds3, _e$esds4, _aTrack$mdia, _aTrack$mdia$minf, _aTrack$mdia$minf$stb, _aTrack$mdia2, _aTrack$mdia2$minf, _aTrack$mdia2$minf$st;\n        var a = audioTrack;\n        var _aTrackId = (_aTrack$tkhd = aTrack.tkhd) === null || _aTrack$tkhd === void 0 ? void 0 : _aTrack$tkhd.trackId;\n        if (_aTrackId !== null && _aTrackId !== void 0)\n          a.id = aTrack.tkhd.trackId;\n        a.tkhdDuration = aTrack.tkhd.duration;\n        a.mvhdDurtion = moov.mvhd.duration;\n        a.mvhdTimecale = moov.mvhd.timescale;\n        a.timescale = a.formatTimescale = aTrack.mdia.mdhd.timescale;\n        a.duration = aTrack.mdia.mdhd.duration || a.mvhdDurtion / a.mvhdTimecale * a.timescale;\n        var _e = aTrack.mdia.minf.stbl.stsd.entries[0];\n        a.sampleSize = _e.sampleSize;\n        a.sampleRate = _e.sampleRate;\n        a.channelCount = _e.channelCount;\n        a.present = true;\n        switch (_e.type) {\n          case \"alaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMA;\n            a.sampleRate = 8e3;\n            break;\n          case \"ulaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMU;\n            a.sampleRate = 8e3;\n            break;\n          default:\n            a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n            a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n            a.objectType = ((_e$esds = _e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.objectType) || 2;\n            if (_e.esds)\n              a.config = Array.from(_e.esds.config);\n            a.codec = ((_e$esds2 = _e.esds) === null || _e$esds2 === void 0 ? void 0 : _e$esds2.codec) || \"mp4a.40.2\";\n            break;\n        }\n        a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n        a.objectType = ((_e$esds3 = _e.esds) === null || _e$esds3 === void 0 ? void 0 : _e$esds3.objectType) || 2;\n        if (_e.esds) {\n          if (_e.esds.config) {\n            a.config = Array.from(_e.esds.config);\n          } else {\n            console.warn(\"esds config is null\");\n          }\n        }\n        a.codec = ((_e$esds4 = _e.esds) === null || _e$esds4 === void 0 ? void 0 : _e$esds4.codec) || \"mp4a.40.2\";\n        a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n        a.ext = {};\n        a.ext.stss = (_aTrack$mdia = aTrack.mdia) === null || _aTrack$mdia === void 0 ? void 0 : (_aTrack$mdia$minf = _aTrack$mdia.minf) === null || _aTrack$mdia$minf === void 0 ? void 0 : (_aTrack$mdia$minf$stb = _aTrack$mdia$minf.stbl) === null || _aTrack$mdia$minf$stb === void 0 ? void 0 : _aTrack$mdia$minf$stb.stss;\n        a.ext.ctts = (_aTrack$mdia2 = aTrack.mdia) === null || _aTrack$mdia2 === void 0 ? void 0 : (_aTrack$mdia2$minf = _aTrack$mdia2.minf) === null || _aTrack$mdia2$minf === void 0 ? void 0 : (_aTrack$mdia2$minf$st = _aTrack$mdia2$minf.stbl) === null || _aTrack$mdia2$minf$st === void 0 ? void 0 : _aTrack$mdia2$minf$st.ctts;\n        a.present = true;\n        if (_e && _e.type === \"enca\") {\n          var _e$sinf, _e$sinf$frma, _e$sinf2, _e$sinf2$schi, _e$sinf3, _e$sinf3$schi, _e$sinf4, _e$sinf4$schi;\n          a.isAudioEncryption = true;\n          _e.data_format = (_e$sinf = _e.sinf) === null || _e$sinf === void 0 ? void 0 : (_e$sinf$frma = _e$sinf.frma) === null || _e$sinf$frma === void 0 ? void 0 : _e$sinf$frma.data_format;\n          _e.default_KID = (_e$sinf2 = _e.sinf) === null || _e$sinf2 === void 0 ? void 0 : (_e$sinf2$schi = _e$sinf2.schi) === null || _e$sinf2$schi === void 0 ? void 0 : _e$sinf2$schi.tenc.default_KID;\n          _e.default_IsEncrypted = (_e$sinf3 = _e.sinf) === null || _e$sinf3 === void 0 ? void 0 : (_e$sinf3$schi = _e$sinf3.schi) === null || _e$sinf3$schi === void 0 ? void 0 : _e$sinf3$schi.tenc.default_IsEncrypted;\n          _e.default_IV_size = (_e$sinf4 = _e.sinf) === null || _e$sinf4 === void 0 ? void 0 : (_e$sinf4$schi = _e$sinf4.schi) === null || _e$sinf4$schi === void 0 ? void 0 : _e$sinf4$schi.tenc.default_IV_size;\n          a.audioSenc = aTrack.mdia.minf.stbl.senc && aTrack.mdia.minf.stbl.senc.samples;\n          a.useEME = moov.useEME;\n          a.kidValue = moov.kidValue;\n          a.enca = _e;\n        }\n      }\n      audioTrack && (audioTrack.isVideoEncryption = videoTrack ? videoTrack.isVideoEncryption : false);\n      videoTrack && (videoTrack.isAudioEncryption = audioTrack ? audioTrack.isAudioEncryption : false);\n      if (videoTrack !== null && videoTrack !== void 0 && videoTrack.encv || audioTrack !== null && audioTrack !== void 0 && audioTrack.enca) {\n        var _videoTrack$encv, _audioTrack$enca;\n        var vkid = videoTrack === null || videoTrack === void 0 ? void 0 : (_videoTrack$encv = videoTrack.encv) === null || _videoTrack$encv === void 0 ? void 0 : _videoTrack$encv.default_KID;\n        var akid = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$enca = audioTrack.enca) === null || _audioTrack$enca === void 0 ? void 0 : _audioTrack$enca.default_KID;\n        var kid = vkid || akid ? (vkid || akid).join(\"\") : null;\n        videoTrack && (videoTrack.kid = kid);\n        audioTrack && (audioTrack.kid = kid);\n      }\n      videoTrack && (videoTrack.flags = 3841);\n      audioTrack && (audioTrack.flags = 1793);\n      return {\n        videoTrack,\n        audioTrack\n      };\n    }\n  }, {\n    key: \"evaluateDefaultDuration\",\n    value: function evaluateDefaultDuration(videoTrack, audioTrack, videoSampleCount) {\n      var _audioTrack$samples;\n      var audioSampleCount = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$samples = audioTrack.samples) === null || _audioTrack$samples === void 0 ? void 0 : _audioTrack$samples.length;\n      if (!audioSampleCount)\n        return 1024;\n      var segmentDuration = 1024 * audioSampleCount / audioTrack.timescale;\n      return segmentDuration * videoTrack.timescale / videoSampleCount;\n    }\n  }, {\n    key: \"moofToSamples\",\n    value: function moofToSamples(moof, videoTrack, audioTrack) {\n      var ret = {};\n      if (moof.mfhd) {\n        if (videoTrack)\n          videoTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n        if (audioTrack)\n          audioTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n      }\n      moof.traf.forEach(function(_ref) {\n        var tfhd = _ref.tfhd, tfdt = _ref.tfdt, trun = _ref.trun;\n        if (!tfhd || !trun)\n          return;\n        if (tfdt) {\n          if (videoTrack && videoTrack.id === tfhd.trackId)\n            videoTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n          if (audioTrack && audioTrack.id === tfhd.trackId)\n            audioTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n        }\n        var defaultSize = tfhd.defaultSampleSize || 0;\n        var defaultDuration = tfhd.defaultSampleDuration || MP4Parser2.evaluateDefaultDuration(videoTrack, audioTrack, trun.samples.length || trun.sampleCount);\n        var offset = trun.dataOffset || 0;\n        var dts = 0;\n        var gopId = -1;\n        if (!trun.samples.length && trun.sampleCount) {\n          ret[tfhd.trackId] = [];\n          for (var i = 0; i < trun.sampleCount; i++) {\n            ret[tfhd.trackId].push({\n              offset,\n              dts,\n              duration: defaultDuration,\n              size: defaultSize\n            });\n            dts += defaultDuration;\n            offset += defaultSize;\n          }\n        } else {\n          ret[tfhd.trackId] = trun.samples.map(function(s, index) {\n            s = {\n              offset,\n              dts,\n              pts: dts + (s.cts || 0),\n              duration: s.duration || defaultDuration,\n              size: s.size || defaultSize,\n              gopId,\n              keyframe: index === 0 || s.flags !== null && s.flags !== void 0 && (s.flags & 65536) >>> 0 !== 65536\n            };\n            if (s.keyframe) {\n              gopId++;\n              s.gopId = gopId;\n            }\n            dts += s.duration;\n            offset += s.size;\n            return s;\n          });\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"moovToSamples\",\n    value: function moovToSamples(moov) {\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia3, _t$mdia3$hdlr;\n        return ((_t$mdia3 = t.mdia) === null || _t$mdia3 === void 0 ? void 0 : (_t$mdia3$hdlr = _t$mdia3.hdlr) === null || _t$mdia3$hdlr === void 0 ? void 0 : _t$mdia3$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia4, _t$mdia4$hdlr;\n        return ((_t$mdia4 = t.mdia) === null || _t$mdia4 === void 0 ? void 0 : (_t$mdia4$hdlr = _t$mdia4.hdlr) === null || _t$mdia4$hdlr === void 0 ? void 0 : _t$mdia4$hdlr.handlerType) === \"soun\";\n      });\n      if (!vTrack && !aTrack)\n        return;\n      var videoSamples;\n      var audioSamples;\n      if (vTrack) {\n        var _vTrack$mdia3, _vTrack$mdia3$minf;\n        var videoStbl = (_vTrack$mdia3 = vTrack.mdia) === null || _vTrack$mdia3 === void 0 ? void 0 : (_vTrack$mdia3$minf = _vTrack$mdia3.minf) === null || _vTrack$mdia3$minf === void 0 ? void 0 : _vTrack$mdia3$minf.stbl;\n        if (!videoStbl)\n          return;\n        var stts = videoStbl.stts, stsc = videoStbl.stsc, stsz = videoStbl.stsz, stco = videoStbl.stco, stss = videoStbl.stss, ctts = videoStbl.ctts;\n        if (!stts || !stsc || !stsz || !stco || !stss)\n          return;\n        videoSamples = getSamples(stts, stsc, stsz, stco, ctts, stss);\n      }\n      if (aTrack) {\n        var _aTrack$mdia3, _aTrack$mdia3$minf, _aTrack$mdia$mdhd;\n        var audioStbl = (_aTrack$mdia3 = aTrack.mdia) === null || _aTrack$mdia3 === void 0 ? void 0 : (_aTrack$mdia3$minf = _aTrack$mdia3.minf) === null || _aTrack$mdia3$minf === void 0 ? void 0 : _aTrack$mdia3$minf.stbl;\n        if (!audioStbl)\n          return;\n        var timescale = (_aTrack$mdia$mdhd = aTrack.mdia.mdhd) === null || _aTrack$mdia$mdhd === void 0 ? void 0 : _aTrack$mdia$mdhd.timescale;\n        var _stts = audioStbl.stts, _stsc = audioStbl.stsc, _stsz = audioStbl.stsz, _stco = audioStbl.stco;\n        if (!timescale || !_stts || !_stsc || !_stsz || !_stco)\n          return;\n        audioSamples = getSamples(_stts, _stsc, _stsz, _stco);\n      }\n      return {\n        videoSamples,\n        audioSamples\n      };\n    }\n  }]);\n  return MP4Parser2;\n}();\nfunction getSamples(stts, stsc, stsz, stco, ctts, stss) {\n  var samples = [];\n  var cttsEntries = ctts === null || ctts === void 0 ? void 0 : ctts.entries;\n  var stscEntries = stsc.entries;\n  var stcoEntries = stco.entries;\n  var stszEntrySizes = stsz.entrySizes;\n  var stssEntries = stss === null || stss === void 0 ? void 0 : stss.entries;\n  var keyframeMap;\n  if (stssEntries) {\n    keyframeMap = {};\n    stssEntries.forEach(function(x) {\n      keyframeMap[x - 1] = true;\n    });\n  }\n  var cttsArr;\n  if (cttsEntries) {\n    cttsArr = [];\n    cttsEntries.forEach(function(_ref2) {\n      var count = _ref2.count, offset = _ref2.offset;\n      for (var i = 0; i < count; i++) {\n        cttsArr.push(offset);\n      }\n    });\n  }\n  var sample;\n  var gopId = -1;\n  var dts = 0;\n  var pos = 0;\n  var chunkIndex = 0;\n  var chunkRunIndex = 0;\n  var offsetInChunk = 0;\n  var lastSampleInChunk = stscEntries[0].samplesPerChunk;\n  var lastChunkInRun = stscEntries[1] ? stscEntries[1].firstChunk - 1 : Infinity;\n  stts.entries.forEach(function(_ref3) {\n    var count = _ref3.count, delta = _ref3.delta;\n    for (var i = 0; i < count; i++) {\n      sample = {\n        dts,\n        duration: delta,\n        size: stszEntrySizes[pos] || stsz.sampleSize,\n        offset: stcoEntries[chunkIndex] + offsetInChunk,\n        index: pos\n      };\n      if (stssEntries) {\n        sample.keyframe = keyframeMap[pos];\n        if (sample.keyframe) {\n          gopId++;\n        }\n        sample.gopId = gopId;\n      }\n      if (cttsArr && pos < cttsArr.length) {\n        sample.pts = sample.dts + cttsArr[pos];\n      }\n      samples.push(sample);\n      dts += delta;\n      pos++;\n      if (pos < lastSampleInChunk) {\n        offsetInChunk += sample.size;\n      } else {\n        chunkIndex++;\n        offsetInChunk = 0;\n        if (chunkIndex >= lastChunkInRun) {\n          chunkRunIndex++;\n          lastChunkInRun = stscEntries[chunkRunIndex + 1] ? stscEntries[chunkRunIndex + 1].firstChunk - 1 : Infinity;\n        }\n        lastSampleInChunk += stscEntries[chunkRunIndex].samplesPerChunk;\n      }\n    }\n  });\n  return samples;\n}\nfunction parseVisualSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.width = readBig16(data, 24);\n  ret.height = readBig16(data, 26);\n  ret.horizresolution = readBig32(data, 28);\n  ret.vertresolution = readBig32(data, 32);\n  ret.frameCount = readBig16(data, 40);\n  ret.depth = readBig16(data, 74);\n  return 78;\n}\nfunction parseAudioSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.channelCount = readBig16(data, 16);\n  ret.sampleSize = readBig16(data, 18);\n  ret.sampleRate = readBig32(data, 24) / (1 << 16);\n  return 28;\n}\nfunction parseBox(box, isFullBox, parse) {\n  if (!box)\n    return;\n  if (box.size !== box.data.length) {\n    throw new Error(\"box \".concat(box.type, \" size !== data.length\"));\n  }\n  var ret = {\n    start: box.start,\n    size: box.size,\n    headerSize: box.headerSize,\n    type: box.type\n  };\n  if (isFullBox) {\n    ret.version = box.data[box.headerSize];\n    ret.flags = readBig24(box.data, box.headerSize + 1);\n    ret.headerSize += 4;\n  }\n  parse(ret, box.data.subarray(ret.headerSize), ret.start + ret.headerSize);\n  return ret;\n}\nvar padStart = function padStart2(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nvar toHex = function toHex2() {\n  var hex = [];\n  for (var _len = arguments.length, value = new Array(_len), _key = 0; _key < _len; _key++) {\n    value[_key] = arguments[_key];\n  }\n  value.forEach(function(item) {\n    hex.push(padStart(Number(item).toString(16), 2, 0));\n  });\n  return hex[0];\n};\nexport { MP4Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { concatUint8Array } from \"xgplayer-streaming-shared\";\nvar Decryptor = /* @__PURE__ */ function() {\n  function Decryptor2() {\n    _classCallCheck(this, Decryptor2);\n    var crypto = window.crypto || window.msCrypto;\n    this.subtle = crypto && (crypto.subtle || crypto.webkitSubtle);\n    this.externalDecryptor = null;\n  }\n  _createClass(Decryptor2, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$externalDecrypt;\n      if ((_this$externalDecrypt = this.externalDecryptor) !== null && _this$externalDecrypt !== void 0 && _this$externalDecrypt.destroy) {\n        this.externalDecryptor.destroy();\n      }\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(video, audio) {\n      if (!video && !audio)\n        return;\n      var ret = [];\n      if (video) {\n        ret[0] = this._decryptSegment(video);\n      }\n      if (audio) {\n        ret[1] = this._decryptSegment(audio);\n      }\n      return Promise.all(ret);\n    }\n  }, {\n    key: \"_decryptSegment\",\n    value: function() {\n      var _decryptSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(seg) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = seg.data;\n                if (!seg.key) {\n                  _context2.next = 5;\n                  break;\n                }\n                _context2.next = 4;\n                return this._decryptData(seg.data, seg.key, seg.keyIv);\n              case 4:\n                data = _context2.sent;\n              case 5:\n                if (seg.map) {\n                  _context2.next = 7;\n                  break;\n                }\n                return _context2.abrupt(\"return\", data);\n              case 7:\n                return _context2.abrupt(\"return\", concatUint8Array(seg.map, data));\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function _decryptSegment(_x4) {\n        return _decryptSegment2.apply(this, arguments);\n      }\n      return _decryptSegment;\n    }()\n  }, {\n    key: \"_decryptData\",\n    value: function() {\n      var _decryptData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(data, key, iv) {\n        var aesKey;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.externalDecryptor) {\n                  _context3.next = 6;\n                  break;\n                }\n                _context3.next = 3;\n                return this.externalDecryptor.decrypt(data, key, iv);\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n              case 6:\n                if (this.subtle) {\n                  _context3.next = 8;\n                  break;\n                }\n                throw new Error(\"crypto is not defined\");\n              case 8:\n                _context3.next = 10;\n                return this.subtle.importKey(\"raw\", key, {\n                  name: \"AES-CBC\"\n                }, false, [\"encrypt\", \"decrypt\"]);\n              case 10:\n                aesKey = _context3.sent;\n                _context3.t0 = Uint8Array;\n                _context3.next = 14;\n                return this.subtle.decrypt({\n                  name: \"AES-CBC\",\n                  iv\n                }, aesKey, data);\n              case 14:\n                _context3.t1 = _context3.sent;\n                return _context3.abrupt(\"return\", new _context3.t0(_context3.t1));\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _decryptData(_x5, _x6, _x7) {\n        return _decryptData2.apply(this, arguments);\n      }\n      return _decryptData;\n    }()\n  }]);\n  return Decryptor2;\n}();\nexport { Decryptor };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack } from \"../model/metadata-track.js\";\nimport { concatUint8Array, readBig32 } from \"../utils/index.js\";\nimport { MP4Parser } from \"./mp4-parser.js\";\nvar FMP4Demuxer = /* @__PURE__ */ function() {\n  function FMP4Demuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, FMP4Demuxer2);\n    _defineProperty(this, \"__loadedMoofWraps\", []);\n    _defineProperty(this, \"__lastRemainData\", null);\n    _defineProperty(this, \"__lastRemainDataStart\", 0);\n    _defineProperty(this, \"__nextMoofStart\", -1);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n  }\n  _createClass(FMP4Demuxer2, [{\n    key: \"demuxPart\",\n    value: function demuxPart(partData, partDataStart, moov) {\n      var _this = this;\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      var isAV01 = /av01/.test(videoTrack.codec);\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      var data = partData;\n      var dataStart = partDataStart;\n      if (this.__lastRemainData) {\n        var lastRemainDataEnd = this.__lastRemainDataStart + this.__lastRemainData.byteLength;\n        var continuous = partDataStart <= lastRemainDataEnd && partDataStart > this.__lastRemainDataStart && partDataStart + partData.byteLength > lastRemainDataEnd;\n        if (continuous) {\n          var noDuplicateData = partData.subarray(this.__lastRemainData.byteLength + this.__lastRemainDataStart - partDataStart);\n          data = concatUint8Array(this.__lastRemainData, noDuplicateData);\n          dataStart = this.__lastRemainDataStart;\n          this.__lastRemainData = null;\n        } else {\n          this.__lastRemainData = null;\n          this.__lastRemainDataStart = 0;\n          this.__nextMoofStart = -1;\n        }\n      }\n      if (!moov) {\n        var moovBox = MP4Parser.findBox(data, [\"moov\"])[0];\n        if (!moovBox)\n          throw new Error(\"cannot found moov box\");\n        moov = MP4Parser.moov(moovBox);\n      }\n      if (data) {\n        var dataEnd = dataStart + data.byteLength;\n        if (!videoExist && !audioExist) {\n          MP4Parser.moovToTrack(moov, videoTrack, audioTrack);\n        }\n        var moofBoxes = [];\n        if (this.__nextMoofStart < 0) {\n          MP4Parser.findBox(data, [\"moof\"], dataStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        } else if (this.__nextMoofStart >= dataStart && this.__nextMoofStart <= dataEnd - 8) {\n          MP4Parser.findBox(data.subarray(this.__nextMoofStart - dataStart), [\"moof\"], this.__nextMoofStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        }\n        moofBoxes.filter(function(moofBox) {\n          return moofBox.size <= moofBox.data.length;\n        }).forEach(function(moofBox) {\n          var moof = MP4Parser.moof(moofBox);\n          _this.__nextMoofStart = moof.start + Math.max.apply(Math, _toConsumableArray(moof.traf.map(function(v) {\n            return v.trun.samples.reduce(function(ret, w) {\n              return ret + w.size;\n            }, v.trun.dataOffset || 0);\n          })));\n          _this.__loadedMoofWraps.push({\n            start: moof.start,\n            nextMoofStart: _this.__nextMoofStart,\n            moof\n          });\n          _this.__loadedMoofWraps.sort(function(p, n) {\n            return p.start - n.start;\n          });\n        });\n        var _iterator = _createForOfIteratorHelper(this.__loadedMoofWraps), _step;\n        try {\n          var _loop = function _loop2() {\n            var moofWrap = _step.value;\n            if (moofWrap.start > dataEnd || moofWrap.nextMoofStart < dataStart) {\n              return \"continue\";\n            }\n            var moofStart = moofWrap.start;\n            var tracks = MP4Parser.moofToSamples(moofWrap.moof, videoTrack, audioTrack);\n            var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n            var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n            var nalSize;\n            Object.keys(tracks).forEach(function(k) {\n              if (videoTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset += moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                  sample.duration = x.duration;\n                  sample.gopId = x.gopId;\n                  if (x.keyframe)\n                    sample.setToKeyframe();\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  sample.data = sampleData;\n                  if (!isAV01) {\n                    var start = 0;\n                    var len = sampleData.length - 1;\n                    while (start < len) {\n                      nalSize = readBig32(sampleData, start);\n                      start += 4;\n                      sample.units.push(sampleData.subarray(start, start + nalSize));\n                      start += nalSize;\n                    }\n                  }\n                  _this.__lastRemainDataStart = xStart + x.size;\n                  videoTrack.samples.push(sample);\n                });\n              } else if (audioTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset + moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n                  _this.__lastRemainDataStart = xStart + x.size;\n                });\n              }\n            });\n          };\n          for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n            var _ret = _loop();\n            if (_ret === \"continue\")\n              continue;\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      if (this.__lastRemainDataStart > dataStart && this.__lastRemainDataStart < data.byteLength + dataStart) {\n        this.__lastRemainData = data.subarray(this.__lastRemainDataStart - dataStart);\n      } else {\n        this.__lastRemainData = data;\n        this.__lastRemainDataStart = dataStart;\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].pts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts;\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demux\",\n    value: function demux(videoData, audioData) {\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      if (audioData) {\n        if (!audioExist) {\n          var moovBox = MP4Parser.findBox(audioData, [\"moov\"])[0];\n          if (!moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(moovBox), null, audioTrack);\n        }\n        var moofBox = MP4Parser.findBox(audioData, [\"moof\"])[0];\n        if (moofBox) {\n          var samples = MP4Parser.moofToSamples(MP4Parser.moof(moofBox), null, audioTrack)[audioTrack.id];\n          var baseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          if (samples) {\n            var baseOffset = moofBox.start;\n            samples.map(function(x) {\n              x.offset += baseOffset;\n              var sampleData = audioData.subarray(x.offset, x.offset + x.size);\n              audioTrack.samples.push(new AudioSample(x.dts + baseMediaDecodeTime, sampleData, x.duration));\n            });\n          }\n        }\n      }\n      if (videoData) {\n        if (!videoExist && !audioExist) {\n          var _moovBox = MP4Parser.findBox(videoData, [\"moov\"])[0];\n          if (!_moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(_moovBox), videoTrack, audioTrack);\n        }\n        var _moofBox = MP4Parser.findBox(videoData, [\"moof\"])[0];\n        if (_moofBox) {\n          var tracks = MP4Parser.moofToSamples(MP4Parser.moof(_moofBox), videoTrack, audioTrack);\n          var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n          var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          var _baseOffset = _moofBox.start;\n          var nalSize;\n          Object.keys(tracks).forEach(function(k) {\n            if (videoTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                sample.duration = x.duration;\n                sample.gopId = x.gopId;\n                if (x.keyframe)\n                  sample.setToKeyframe();\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                sample.data = sampleData;\n                var start = 0;\n                var len = sampleData.length - 1;\n                while (start < len) {\n                  nalSize = readBig32(sampleData, start);\n                  start += 4;\n                  sample.units.push(sampleData.subarray(start, start + nalSize));\n                  start += nalSize;\n                }\n                videoTrack.samples.push(sample);\n              });\n            } else if (audioTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n              });\n            }\n          });\n        }\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n      this.metadataTrack.reset();\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      return MP4Parser.probe(data);\n    }\n  }]);\n  return FMP4Demuxer2;\n}();\nexport { FMP4Demuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction Concat(ResultConstructor) {\n  var totalLength = 0;\n  for (var _len = arguments.length, arrays = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    arrays[_key - 1] = arguments[_key];\n  }\n  arrays.forEach(function(arr) {\n    totalLength += arr.length;\n  });\n  var result = new ResultConstructor(totalLength);\n  var offset = 0;\n  arrays.forEach(function(arr) {\n    result.set(arr, offset);\n    offset += arr.length;\n  });\n  return result;\n}\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n    this.buffer = new Uint8Array(0);\n  }\n  _createClass(Buffer2, [{\n    key: \"write\",\n    value: function write() {\n      var self = this;\n      for (var _len2 = arguments.length, buffer = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        buffer[_key2] = arguments[_key2];\n      }\n      buffer.forEach(function(item) {\n        if (item) {\n          self.buffer = Concat(Uint8Array, self.buffer, item);\n        } else {\n          window.console.warn(item);\n        }\n      });\n    }\n  }], [{\n    key: \"writeUint16\",\n    value: function writeUint16(value) {\n      return new Uint8Array([value >> 8 & 255, value & 255]);\n    }\n  }, {\n    key: \"writeUint32\",\n    value: function writeUint32(value) {\n      return new Uint8Array([value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255]);\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer as default };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray, slicedToArray as _slicedToArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { concatUint8Array, parse } from \"../utils/index.js\";\nimport Buffer from \"./buffer.js\";\nvar UINT32_MAX = Math.pow(2, 32) - 1;\nvar MP4 = /* @__PURE__ */ function() {\n  function MP42() {\n    _classCallCheck(this, MP42);\n  }\n  _createClass(MP42, null, [{\n    key: \"box\",\n    value: function box(type) {\n      for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        payload[_key - 1] = arguments[_key];\n      }\n      payload = payload.filter(Boolean);\n      var size = 8 + payload.reduce(function(p, c) {\n        return p + c.byteLength;\n      }, 0);\n      var ret = new Uint8Array(size);\n      ret[0] = size >> 24 & 255;\n      ret[1] = size >> 16 & 255;\n      ret[2] = size >> 8 & 255;\n      ret[3] = size & 255;\n      ret.set(type, 4);\n      var offset = 8;\n      payload.forEach(function(data) {\n        ret.set(data, offset);\n        offset += data.byteLength;\n      });\n      return ret;\n    }\n  }, {\n    key: \"ftyp\",\n    value: function ftyp(tracks) {\n      var isHevc = tracks.find(function(t) {\n        return t.type === TrackType.VIDEO && t.codecType === VideoCodecType.HEVC;\n      });\n      return isHevc ? MP42.FTYPHEV1 : MP42.FTYPAVC1;\n    }\n  }, {\n    key: \"initSegment\",\n    value: function initSegment(tracks) {\n      var ftyp = MP42.ftyp(tracks);\n      var init = concatUint8Array(ftyp, MP42.moov(tracks));\n      return init;\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(data) {\n      var content = new Uint8Array([\n        1,\n        0,\n        0,\n        0\n      ].concat([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75], [0, 0, 0, 1], parse(data.kid), [0, 0, 0, 0]));\n      return MP42.box(MP42.types.pssh, content);\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(tracks) {\n      if (tracks[0].useEME && (tracks[0].encv || tracks[0].enca)) {\n        if (!tracks[0].pssh) {\n          tracks[0].pssh = {\n            kid: tracks[0].kid\n          };\n        }\n        var pssh = this.pssh(tracks[0].pssh);\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale), MP42.mvex(tracks)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [pssh]));\n      } else {\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [MP42.mvex(tracks)]));\n      }\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mvhd2 = MP42.box(MP42.types.mvhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        1,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        255,\n        255,\n        255,\n        255\n      ]));\n      return mvhd2;\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(track) {\n      var trak2 = MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.tkhdDuration || 0, track.width, track.height), MP42.mdia(track));\n      return trak2;\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(id, duration) {\n      var width = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var height = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var tkhd2 = MP42.box(MP42.types.tkhd, new Uint8Array([\n        0,\n        0,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        id >> 24 & 255,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        0,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        0,\n        0,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        0\n      ]));\n      return tkhd2;\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(track) {\n      var mdia2 = MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minf(track));\n      return mdia2;\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mdhd2 = MP42.box(MP42.types.mdhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        85,\n        196,\n        0,\n        0\n      ]));\n      return mdhd2;\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(type) {\n      var hdlr2 = MP42.box(MP42.types.hdlr, MP42.HDLR_TYPES[type]);\n      return hdlr2;\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(track) {\n      var minf2 = MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stbl(track));\n      return minf2;\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(track) {\n      var extBox = [];\n      if (track && track.ext) {\n        track.ext.stss && extBox.push(MP42.stss(track.ext.stss.entries));\n      }\n      var stbl2 = MP42.box(MP42.types.stbl, MP42.stsd(track), MP42.STTS, extBox[0], MP42.STSC, MP42.STSZ, MP42.STCO);\n      return stbl2;\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(track) {\n      var content;\n      if (track.type === \"audio\") {\n        if (track.useEME && track.enca) {\n          content = MP42.enca(track);\n        } else {\n          if (track.codecType === AudioCodecType.OPUS) {\n            content = MP42.opus(track);\n          } else {\n            content = MP42.mp4a(track);\n          }\n        }\n      } else if (track.useEME && track.encv) {\n        content = MP42.encv(track);\n      } else if (track.av1C) {\n        content = MP42.av01(track);\n      } else {\n        content = MP42.avc1hev1(track);\n      }\n      var stsd2 = MP42.box(MP42.types.stsd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]), content);\n      return stsd2;\n    }\n  }, {\n    key: \"enca\",\n    value: function enca(data) {\n      var channelCount = data.enca.channelCount;\n      var sampleRate = data.enca.sampleRate;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        sampleRate >> 8 & 255,\n        sampleRate & 255,\n        0,\n        0\n      ]);\n      var esds = MP42.esds(data.config);\n      var sinf = MP42.sinf(data.enca);\n      return MP42.box(MP42.types.enca, content, esds, sinf);\n    }\n  }, {\n    key: \"encv\",\n    value: function encv(track) {\n      var _concat$concat, _ref;\n      var sps = track.sps.length > 0 ? track.sps[0] : [];\n      var pps = track.pps.length > 0 ? track.pps[0] : [];\n      var width = track.width;\n      var height = track.height;\n      var hSpacing = track.sarRatio[0];\n      var vSpacing = track.sarRatio[1];\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        18,\n        100,\n        97,\n        105,\n        108,\n        121,\n        109,\n        111,\n        116,\n        105,\n        111,\n        110,\n        47,\n        104,\n        108,\n        115,\n        46,\n        106,\n        115,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]);\n      var avcc = new Uint8Array((_concat$concat = (_ref = [\n        1,\n        sps[1],\n        sps[2],\n        sps[3],\n        252 | 3,\n        224 | 1,\n        sps.length >>> 8 & 255,\n        sps.length & 255\n      ]).concat.apply(_ref, _toConsumableArray(sps)).concat([1, pps.length >>> 8 & 255, pps.length & 255])).concat.apply(_concat$concat, _toConsumableArray(pps)));\n      var btrt = new Uint8Array([0, 0, 88, 57, 0, 15, 200, 192, 0, 4, 86, 72]);\n      var sinf = MP42.sinf(track.encv);\n      var pasp = new Uint8Array([\n        hSpacing >> 24,\n        hSpacing >> 16 & 255,\n        hSpacing >> 8 & 255,\n        hSpacing & 255,\n        vSpacing >> 24,\n        vSpacing >> 16 & 255,\n        vSpacing >> 8 & 255,\n        vSpacing & 255\n      ]);\n      return MP42.box(MP42.types.encv, content, MP42.box(MP42.types.avcC, avcc), MP42.box(MP42.types.btrt, btrt), sinf, MP42.box(MP42.types.pasp, pasp));\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(data) {\n      var content = new Uint8Array([]);\n      var tenc = MP42.tenc(data);\n      return MP42.box(MP42.types.schi, content, tenc);\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(data) {\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.default_IsEncrypted & 255,\n        data.default_IV_size & 255\n      ].concat(parse(data.default_KID)));\n      return MP42.box(MP42.types.tenc, content);\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(data) {\n      var content = new Uint8Array([]);\n      var frma = new Uint8Array([data.data_format.charCodeAt(0), data.data_format.charCodeAt(1), data.data_format.charCodeAt(2), data.data_format.charCodeAt(3)]);\n      var schm = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        99,\n        101,\n        110,\n        99,\n        0,\n        1,\n        0,\n        0\n      ]);\n      var schi = MP42.schi(data);\n      return MP42.box(MP42.types.sinf, content, MP42.box(MP42.types.frma, frma), MP42.box(MP42.types.schm, schm), schi);\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(track) {\n      return MP42.box(MP42.types.av01, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), track.av1C, track.colr);\n    }\n  }, {\n    key: \"avc1hev1\",\n    value: function avc1hev1(track) {\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var typ = isHevc ? MP42.types.hvc1 : MP42.types.avc1;\n      var config = isHevc ? MP42.hvcC(track) : MP42.avcC(track);\n      var boxes = [new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), config];\n      if (isHevc) {\n        boxes.push(MP42.box(MP42.types.fiel, new Uint8Array([1, 0])));\n      } else if (track.sarRatio && track.sarRatio.length > 1) {\n        boxes.push(MP42.pasp(track.sarRatio));\n      }\n      return MP42.box.apply(MP42, [typ].concat(boxes));\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(track) {\n      var _concat$concat2, _ref2;\n      var sps = [];\n      var pps = [];\n      var len;\n      track.sps.forEach(function(s) {\n        len = s.byteLength;\n        sps.push(len >>> 8 & 255);\n        sps.push(len & 255);\n        sps.push.apply(sps, _toConsumableArray(s));\n      });\n      track.pps.forEach(function(p) {\n        len = p.byteLength;\n        pps.push(len >>> 8 & 255);\n        pps.push(len & 255);\n        pps.push.apply(pps, _toConsumableArray(p));\n      });\n      return MP42.box(MP42.types.avcC, new Uint8Array((_concat$concat2 = (_ref2 = [\n        1,\n        sps[3],\n        sps[4],\n        sps[5],\n        252 | 3,\n        224 | track.sps.length\n      ]).concat.apply(_ref2, sps).concat([track.pps.length])).concat.apply(_concat$concat2, pps)));\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(track) {\n      var hvcC2 = track.hvcC;\n      if (hvcC2 instanceof ArrayBuffer || hvcC2 instanceof Uint8Array)\n        return hvcC2;\n      var vps = track.vps, sps = track.sps, pps = track.pps;\n      var data;\n      if (hvcC2) {\n        var pcf = hvcC2.generalProfileCompatibilityFlags;\n        var cif = hvcC2.generalConstraintIndicatorFlags;\n        var numOfArrays = (vps.length && 1) + (sps.length && 1) + (pps.length && 1);\n        data = [\n          1,\n          hvcC2.generalProfileSpace << 6 | hvcC2.generalTierFlag << 5 | hvcC2.generalProfileIdc,\n          pcf >>> 24,\n          pcf >>> 16,\n          pcf >>> 8,\n          pcf,\n          cif[0],\n          cif[1],\n          cif[2],\n          cif[3],\n          cif[4],\n          cif[5],\n          hvcC2.generalLevelIdc,\n          240,\n          0,\n          252,\n          hvcC2.chromaFormatIdc | 252,\n          hvcC2.bitDepthLumaMinus8 | 248,\n          hvcC2.bitDepthChromaMinus8 | 248,\n          0,\n          0,\n          hvcC2.numTemporalLayers << 3 | hvcC2.temporalIdNested << 2 | 3,\n          numOfArrays\n        ];\n        var write = function write2(x) {\n          var _data;\n          data.push(x.length >> 8, x.length);\n          (_data = data).push.apply(_data, _toConsumableArray(x));\n        };\n        if (vps.length) {\n          data.push(160, 0, vps.length);\n          vps.forEach(write);\n        }\n        if (sps.length) {\n          data.push(161, 0, sps.length);\n          sps.forEach(write);\n        }\n        if (pps.length) {\n          data.push(162, 0, pps.length);\n          pps.forEach(write);\n        }\n      } else {\n        data = [\n          1,\n          1,\n          96,\n          0,\n          0,\n          0,\n          144,\n          0,\n          0,\n          0,\n          0,\n          0,\n          93,\n          240,\n          0,\n          252,\n          253,\n          248,\n          248,\n          0,\n          0,\n          15,\n          3,\n          160,\n          0,\n          1,\n          0,\n          24,\n          64,\n          1,\n          12,\n          1,\n          255,\n          255,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          153,\n          152,\n          9,\n          161,\n          0,\n          1,\n          0,\n          45,\n          66,\n          1,\n          1,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          160,\n          2,\n          128,\n          128,\n          45,\n          22,\n          89,\n          153,\n          164,\n          147,\n          43,\n          154,\n          128,\n          128,\n          128,\n          130,\n          0,\n          0,\n          3,\n          0,\n          2,\n          0,\n          0,\n          3,\n          0,\n          50,\n          16,\n          162,\n          0,\n          1,\n          0,\n          7,\n          68,\n          1,\n          193,\n          114,\n          180,\n          98,\n          64\n        ];\n      }\n      return MP42.box(MP42.types.hvcC, new Uint8Array(data));\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2), hSpacing = _ref4[0], vSpacing = _ref4[1];\n      return MP42.box(MP42.types.pasp, new Uint8Array([hSpacing >> 24, hSpacing >> 16 & 255, hSpacing >> 8 & 255, hSpacing & 255, vSpacing >> 24, vSpacing >> 16 & 255, vSpacing >> 8 & 255, vSpacing & 255]));\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(track) {\n      return MP42.box(MP42.types.mp4a, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]), track.config.length ? MP42.esds(track.config) : void 0);\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(config) {\n      var len = config.length;\n      var esds2 = MP42.box(MP42.types.esds, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        3,\n        23 + len,\n        0,\n        0,\n        0,\n        4,\n        15 + len,\n        64,\n        21,\n        0,\n        6,\n        0,\n        0,\n        0,\n        218,\n        192,\n        0,\n        0,\n        218,\n        192,\n        5\n      ].concat([len]).concat(config).concat(\n        [6, 1, 2]\n      )));\n      return esds2;\n    }\n  }, {\n    key: \"opus\",\n    value: function opus(track) {\n      var opusAudioDescription = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]);\n      var opusSpecificConfig = track.config.length ? MP42.dOps(track) : [];\n      return MP42.box(MP42.types.Opus, opusAudioDescription, opusSpecificConfig);\n    }\n  }, {\n    key: \"dOps\",\n    value: function dOps(track) {\n      if (track.config) {\n        track.config[4] = track.sampleRate >>> 24 & 255;\n        track.config[5] = track.sampleRate >>> 16 & 255;\n        track.config[6] = track.sampleRate >>> 8 & 255;\n        track.config[7] = track.sampleRate & 255;\n        return MP42.box(MP42.types.dOps, track.config);\n      }\n    }\n  }, {\n    key: \"mvex\",\n    value: function mvex(tracks) {\n      var mvex2 = MP42.box.apply(MP42, [MP42.types.mvex].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trex(t.id);\n      }))));\n      return mvex2;\n    }\n  }, {\n    key: \"trex\",\n    value: function trex(id) {\n      var trex2 = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        1\n      ]));\n      return trex2;\n    }\n  }, {\n    key: \"trex1\",\n    value: function trex1(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"trex2\",\n    value: function trex2(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(tracks) {\n      var moof2 = MP42.box.apply(MP42, [MP42.types.moof, MP42.mfhd(tracks[0].samples ? tracks[0].samples[0].gopId : 0)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.traf(t);\n      }))));\n      return moof2;\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(sequenceNumber) {\n      var mfhd2 = MP42.box(MP42.types.mfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        sequenceNumber >> 24,\n        sequenceNumber >> 16 & 255,\n        sequenceNumber >> 8 & 255,\n        sequenceNumber & 255\n      ]));\n      return mfhd2;\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(track) {\n      var tfhd = MP42.tfhd(track.id);\n      var tfdt = MP42.tfdt(track, track.baseMediaDecodeTime);\n      var sencLength = 0;\n      var samples;\n      if (track.isVideo && track.videoSenc) {\n        samples = track.videoSenc;\n        samples.forEach(function(item) {\n          sencLength = sencLength + 8;\n          if (item.subsamples && item.subsamples.length) {\n            sencLength = sencLength + 2;\n            sencLength = sencLength + item.subsamples.length * 6;\n          }\n        });\n      }\n      track.videoSencLength = sencLength;\n      if (!track.useEME || !track.isVideoEncryption && !track.isAudioEncryption) {\n        var sdtp = MP42.sdtp(track);\n        var offset = 16 + 20 + 8 + 16 + 8 + 8;\n        return MP42.box(MP42.types.traf, tfhd, tfdt, sdtp, MP42.trun(track.samples, sdtp.byteLength + offset));\n      } else if (track.isVideoEncryption) {\n        if (track.isVideo) {\n          var saiz = MP42.saiz(track);\n          var saio = MP42.saio(track);\n          var trun = MP42.trun1(track);\n          var senc = MP42.senc(track);\n          var traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, saiz, saio, trun, senc);\n          return traf2;\n        } else {\n          if (!track.isAudioEncryption) {\n            var sbgp = MP42.sbgp();\n            var _trun = MP42.trun1(track);\n            return MP42.box(MP42.types.traf, tfhd, tfdt, sbgp, _trun);\n          } else {\n            var _sbgp = MP42.sbgp();\n            var _saiz = MP42.saiz(track);\n            var _saio = MP42.saio(track);\n            var _senc = MP42.senc(track);\n            var _trun2 = MP42.trun1(track);\n            var _traf = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp, _saiz, _saio, _senc, _trun2);\n            return _traf;\n          }\n        }\n      } else {\n        if (track.isVideo) {\n          var _trun3 = MP42.trun1(track);\n          return MP42.box(MP42.types.traf, tfhd, tfdt, _trun3);\n        } else {\n          var _sbgp2 = MP42.sbgp();\n          var _saiz2 = MP42.saiz(track);\n          var _saio2 = MP42.saio(track);\n          var _senc2 = MP42.senc(track);\n          var _trun4 = MP42.trun1(track);\n          var _traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp2, _saiz2, _saio2, _senc2, _trun4);\n          return _traf2;\n        }\n      }\n    }\n  }, {\n    key: \"sdtp\",\n    value: function sdtp(data) {\n      var buffer = new Buffer();\n      data.samples.forEach(function(item) {\n        buffer.write(new Uint8Array(data.isVideo ? [item.keyframe ? 32 : 16] : [16]));\n      });\n      return MP42.box(MP42.types.sdtp, this.extension(0, 0), buffer.buffer);\n    }\n  }, {\n    key: \"trun1\",\n    value: function trun1(data) {\n      var buffer = new Buffer();\n      var sampleCount = Buffer.writeUint32(data.samples.length);\n      var offset = null;\n      if (data.isVideo) {\n        var sencLength = data.videoSencLength;\n        offset = Buffer.writeUint32(data.samples.length * 16 + sencLength + 149);\n        if (!data.isVideoEncryption && data.isAudioEncryption) {\n          offset = Buffer.writeUint32(data.samples.length * 16 + 92);\n        }\n      } else {\n        var len = data.samples.length * 12 + 124;\n        if (data.isAudioEncryption) {\n          len = data.samples.length * 12 + 8 * data.audioSenc.length + 177;\n        }\n        offset = Buffer.writeUint32(len);\n      }\n      data.samples.forEach(function(item) {\n        buffer.write(Buffer.writeUint32(item.duration));\n        buffer.write(Buffer.writeUint32(item.size));\n        buffer.write(Buffer.writeUint32(item.keyframe ? 33554432 : 65536));\n        if (data.isVideo) {\n          buffer.write(Buffer.writeUint32(item.cts ? item.cts : 0));\n        }\n      });\n      return MP42.box(MP42.types.trun, this.extension(0, data.flags), sampleCount, offset, buffer.buffer);\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(data) {\n      var buffer = new Buffer();\n      var len = data.samples.length;\n      var ceil = data.isVideo ? 16 : 8;\n      var flag = data.isVideo ? 2 : 0;\n      var samples = [];\n      var samplesLength = 0;\n      if (data.isVideo) {\n        samples = data.videoSenc;\n        samplesLength = data.videoSencLength;\n      } else {\n        samples = data.audioSenc;\n      }\n      samplesLength = samplesLength || ceil * len;\n      buffer.write(Buffer.writeUint32(16 + samplesLength), MP42.types.senc, this.extension(0, flag));\n      buffer.write(Buffer.writeUint32(len));\n      samples.forEach(function(item) {\n        for (var i = 0; i < item.InitializationVector.length; i++) {\n          buffer.write(new Uint8Array([item.InitializationVector[i]]));\n        }\n        if (item.subsamples && item.subsamples.length) {\n          buffer.write(Buffer.writeUint16(item.subsamples.length));\n          item.subsamples.forEach(function(value) {\n            buffer.write(Buffer.writeUint16(value.BytesOfClearData));\n            buffer.write(Buffer.writeUint32(value.BytesOfProtectedData));\n          });\n        }\n      });\n      return buffer.buffer;\n    }\n  }, {\n    key: \"saio\",\n    value: function saio(data) {\n      var length = data.samples.length * 12 + 141;\n      if (!data.isVideo && data.isAudioEncryption) {\n        length = 149;\n      }\n      var content = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, length >> 24 & 255, length >> 16 & 255, length >> 8 & 255, length & 255]);\n      return MP42.box(MP42.types.saio, content);\n    }\n  }, {\n    key: \"saiz\",\n    value: function saiz(data) {\n      var samplesLength = data.samples.length;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        16,\n        samplesLength >> 24 & 255,\n        samplesLength >> 16 & 255,\n        samplesLength >> 8 & 255,\n        samplesLength & 255\n      ]);\n      return MP42.box(MP42.types.saiz, content);\n    }\n  }, {\n    key: \"sbgp\",\n    value: function sbgp() {\n      var content = new Uint8Array([\n        114,\n        111,\n        108,\n        108,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        1,\n        25,\n        0,\n        0,\n        0,\n        1\n      ]);\n      return MP42.box(MP42.types.sbgp, this.extension(0, 0), content);\n    }\n  }, {\n    key: \"extension\",\n    value: function extension(version, flag) {\n      return new Uint8Array([version, flag >> 16 & 255, flag >> 8 & 255, flag & 255]);\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(id) {\n      return MP42.box(MP42.types.tfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255\n      ]));\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(data, baseMediaDecodeTime) {\n      var upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));\n      var lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));\n      if (data.useEME && (data.isVideoEncryption || data.isAudioEncryption)) {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          0,\n          0,\n          0,\n          0,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      } else {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          1,\n          0,\n          0,\n          0,\n          upperWordBaseMediaDecodeTime >> 24,\n          upperWordBaseMediaDecodeTime >> 16 & 255,\n          upperWordBaseMediaDecodeTime >> 8 & 255,\n          upperWordBaseMediaDecodeTime & 255,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      }\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(samples, offset) {\n      var sampleLen = samples.length;\n      var dataLen = 12 + 16 * sampleLen;\n      offset += 8 + dataLen;\n      var data = new Uint8Array(dataLen);\n      data.set([\n        0,\n        0,\n        15,\n        1,\n        sampleLen >>> 24 & 255,\n        sampleLen >>> 16 & 255,\n        sampleLen >>> 8 & 255,\n        sampleLen & 255,\n        offset >>> 24 & 255,\n        offset >>> 16 & 255,\n        offset >>> 8 & 255,\n        offset & 255\n      ], 0);\n      for (var i = 0; i < sampleLen; i++) {\n        var _samples$i = samples[i], duration = _samples$i.duration, size = _samples$i.size, _samples$i$flag = _samples$i.flag, flag = _samples$i$flag === void 0 ? {} : _samples$i$flag, _samples$i$cts = _samples$i.cts, cts = _samples$i$cts === void 0 ? 0 : _samples$i$cts;\n        data.set([\n          duration >>> 24 & 255,\n          duration >>> 16 & 255,\n          duration >>> 8 & 255,\n          duration & 255,\n          size >>> 24 & 255,\n          size >>> 16 & 255,\n          size >>> 8 & 255,\n          size & 255,\n          flag.isLeading << 2 | (flag.dependsOn === null || flag.dependsOn === void 0 ? 1 : flag.dependsOn),\n          flag.isDependedOn << 6 | flag.hasRedundancy << 4 | flag.paddingValue << 1 | (flag.isNonSyncSample === null || flag.isNonSyncSample === void 0 ? 1 : flag.isNonSyncSample),\n          flag.degradationPriority & 240 << 8,\n          flag.degradationPriority & 15,\n          cts >>> 24 & 255,\n          cts >>> 16 & 255,\n          cts >>> 8 & 255,\n          cts & 255\n        ], 12 + 16 * i);\n      }\n      return MP42.box(MP42.types.trun, data);\n    }\n  }, {\n    key: \"moovMP4\",\n    value: function moovMP4(tracks) {\n      return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].duration, tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trackMP4(t);\n      }))));\n    }\n  }, {\n    key: \"trackMP4\",\n    value: function trackMP4(track) {\n      return MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.duration, track.width, track.height), MP42.mdiaMP4(track));\n    }\n  }, {\n    key: \"mdiaMP4\",\n    value: function mdiaMP4(track) {\n      return MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minfMP4(track));\n    }\n  }, {\n    key: \"minfMP4\",\n    value: function minfMP4(track) {\n      return MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stblMP4(track));\n    }\n  }, {\n    key: \"stblMP4\",\n    value: function stblMP4(track) {\n      var ext = track.ext;\n      var boxes = [MP42.stsd(track), MP42.stts(ext.stts), MP42.stsc(ext.stsc), MP42.stsz(ext.stsz), MP42.stco(ext.stco)];\n      if (ext.stss.length) {\n        boxes.push(MP42.stss(ext.stss));\n      }\n      if (ext.ctts.length) {\n        boxes.push(MP42.ctts(ext.ctts));\n      }\n      return MP42.box.apply(MP42, [MP42.types.stbl].concat(boxes));\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref5) {\n        var value = _ref5.value, count = _ref5.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.stts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(entries) {\n      var len = entries.length;\n      var data = new Uint8Array(12 * len);\n      var offset = 0;\n      entries.forEach(function(_ref6) {\n        var firstChunk = _ref6.firstChunk, samplesPerChunk = _ref6.samplesPerChunk, sampleDescIndex = _ref6.sampleDescIndex;\n        data.set([firstChunk >> 24, firstChunk >> 16 & 255, firstChunk >> 8 & 255, firstChunk & 255, samplesPerChunk >> 24, samplesPerChunk >> 16 & 255, samplesPerChunk >> 8 & 255, samplesPerChunk & 255, sampleDescIndex >> 24, sampleDescIndex >> 16 & 255, sampleDescIndex >> 8 & 255, sampleDescIndex & 255], offset);\n        offset += 12;\n      });\n      return MP42.box(MP42.types.stsc, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(samplesSizes) {\n      var len = samplesSizes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      samplesSizes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stsz, concatUint8Array(new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(offsets) {\n      var len = offsets.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      offsets.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stco, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(keyframeIndexes) {\n      var len = keyframeIndexes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      keyframeIndexes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stss, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref7) {\n        var value = _ref7.value, count = _ref7.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.ctts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"styp\",\n    value: function styp() {\n      return MP42.box(MP42.types.styp, new Uint8Array([109, 115, 100, 104, 0, 0, 0, 0, 109, 115, 100, 104, 109, 115, 105, 120]));\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(data) {\n      var timescale = data.timescale;\n      var duration = data.samples[0].duration;\n      var durationCount = duration * data.samples.length;\n      var earliestTime = data.samples[0].sampleOffset * duration;\n      var mdatSize = 8;\n      data.samples.forEach(function(item) {\n        mdatSize += item.size;\n      });\n      var length = 0;\n      if (data.isVideo) {\n        var sencLength = 0;\n        var samples;\n        if (data.videoSenc) {\n          samples = data.videoSenc;\n        }\n        if (data.isVideo) {\n          samples.forEach(function(item) {\n            sencLength = sencLength + 8;\n            if (item.subsamples && item.subsamples.length) {\n              sencLength = sencLength + 2;\n              sencLength = sencLength + item.subsamples.length * 6;\n            }\n          });\n        }\n        data.videoSencLength = sencLength;\n        length = mdatSize + 141 + data.samples.length * 16 + sencLength;\n        if (data.useEME && data.isAudioEncryption && !data.isVideoEncryption) {\n          length = mdatSize + data.samples.length * 16 + 84;\n        }\n      } else {\n        length = mdatSize + 116 + data.samples.length * 12;\n        if (data.useEME && data.isAudioEncryption) {\n          length = mdatSize + 169 + data.samples.length * 12 + 8 * data.audioSenc.length;\n        }\n      }\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.id & 255,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        earliestTime >> 24 & 255,\n        earliestTime >> 16 & 255,\n        earliestTime >> 8 & 255,\n        earliestTime & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        length >> 16 & 255,\n        length >> 8 & 255,\n        length & 255,\n        durationCount >> 24 & 255,\n        durationCount >> 16 & 255,\n        durationCount >> 8 & 255,\n        durationCount & 255,\n        144,\n        0,\n        0,\n        0\n      ]);\n      return MP42.box(MP42.types.sidx, content);\n    }\n  }, {\n    key: \"mdat\",\n    value: function mdat(data) {\n      var mdat2 = MP42.box(MP42.types.mdat, data);\n      return mdat2;\n    }\n  }]);\n  return MP42;\n}();\n_defineProperty(MP4, \"types\", [\"Opus\", \"dOps\", \"av01\", \"av1C\", \"avc1\", \"avcC\", \"hvc1\", \"hvcC\", \"dinf\", \"dref\", \"esds\", \"ftyp\", \"hdlr\", \"mdat\", \"mdhd\", \"mdia\", \"mfhd\", \"minf\", \"moof\", \"moov\", \"mp4a\", \"mvex\", \"mvhd\", \"pasp\", \"stbl\", \"stco\", \"stsc\", \"stsd\", \"stsz\", \"stts\", \"tfdt\", \"tfhd\", \"traf\", \"trak\", \"trex\", \"tkhd\", \"vmhd\", \"smhd\", \"ctts\", \"stss\", \"styp\", \"pssh\", \"sidx\", \"sbgp\", \"saiz\", \"saio\", \"senc\", \"trun\", \"encv\", \"enca\", \"sinf\", \"btrt\", \"frma\", \"tenc\", \"schm\", \"schi\", \"mehd\", \"fiel\", \"sdtp\"].reduce(function(p, c) {\n  p[c] = [c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2), c.charCodeAt(3)];\n  return p;\n}, /* @__PURE__ */ Object.create(null)));\n_defineProperty(MP4, \"HDLR_TYPES\", {\n  video: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    118,\n    105,\n    100,\n    101,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    86,\n    105,\n    100,\n    101,\n    111,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ]),\n  audio: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    115,\n    111,\n    117,\n    110,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    83,\n    111,\n    117,\n    110,\n    100,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ])\n});\n_defineProperty(MP4, \"FTYPAVC1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  97,\n  118,\n  99,\n  49\n])));\n_defineProperty(MP4, \"FTYPHEV1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  104,\n  101,\n  118,\n  49\n])));\n_defineProperty(MP4, \"DINF\", MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  12,\n  117,\n  114,\n  108,\n  32,\n  0,\n  0,\n  0,\n  1\n]))));\n_defineProperty(MP4, \"VMHD\", MP4.box(MP4.types.vmhd, new Uint8Array([\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"SMHD\", MP4.box(MP4.types.smhd, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"StblTable\", new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n]));\n_defineProperty(MP4, \"STTS\", MP4.box(MP4.types.stts, MP4.StblTable));\n_defineProperty(MP4, \"STSC\", MP4.box(MP4.types.stsc, MP4.StblTable));\n_defineProperty(MP4, \"STSZ\", MP4.box(MP4.types.stsz, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"STCO\", MP4.box(MP4.types.stco, MP4.StblTable));\nexport { MP4 };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, enable) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    Logger2.disabled = enable;\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).debug.apply(_console, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      if (Logger2.disabled)\n        return;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      (_console2 = console).log.apply(_console2, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      if (Logger2.disabled)\n        return;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      (_console3 = console).warn.apply(_console3, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      if (Logger2.disabled)\n        return;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      (_console4 = console).error.apply(_console4, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MP4 } from \"./mp4.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"./logger.js\";\nvar FMP4Remuxer = /* @__PURE__ */ function() {\n  function FMP4Remuxer2(videoTrack, audioTrack, options) {\n    _classCallCheck(this, FMP4Remuxer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    var browserVersions = /Chrome\\/([^.]+)/.exec(navigator.userAgent);\n    this.forceFirstIDR = browserVersions && Number(browserVersions[1]) < 50;\n    this.log = new Logger(\"FMP4Remuxer\", options && options.openLog ? !options.openLog : true);\n  }\n  _createClass(FMP4Remuxer2, [{\n    key: \"remux\",\n    value: function remux() {\n      var createInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var hasVideo = videoTrack.exist();\n      var hasAudio = audioTrack.exist();\n      var videoInitSegment;\n      var audioInitSegment;\n      var initSegment;\n      var tracks = [];\n      if (createInit) {\n        if (options && options.initMerge) {\n          if (hasVideo) {\n            tracks.push(this.videoTrack);\n          }\n          if (hasAudio) {\n            tracks.push(this.audioTrack);\n          }\n          initSegment = MP4.initSegment(tracks);\n        } else {\n          if (hasVideo)\n            videoInitSegment = MP4.initSegment([this.videoTrack]);\n          if (hasAudio)\n            audioInitSegment = MP4.initSegment([this.audioTrack]);\n        }\n      }\n      var videoSegment;\n      var audioSegment;\n      if (hasVideo && videoTrack.hasSample()) {\n        videoSegment = this._remuxVideo();\n      }\n      if (hasAudio && audioTrack.hasSample()) {\n        audioSegment = this._remuxAudio();\n      }\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      return {\n        initSegment,\n        videoInitSegment,\n        audioInitSegment,\n        videoSegment,\n        audioSegment\n      };\n    }\n  }, {\n    key: \"_remuxVideo\",\n    value: function _remuxVideo() {\n      var track = this.videoTrack;\n      if (this.forceFirstIDR) {\n        track.samples[0].flag = {\n          dependsOn: 2,\n          isNonSyncSample: 0\n        };\n      }\n      var samples = track.samples;\n      var isAV01 = /av01/.test(track.codec);\n      var mdatSize = 0;\n      if (isAV01) {\n        samples.forEach(function(s) {\n          mdatSize += s.data.byteLength;\n        });\n      } else {\n        samples.forEach(function(s) {\n          mdatSize += s.units.reduce(function(t, c) {\n            return t + c.byteLength;\n          }, 0);\n          mdatSize += s.units.length * 4;\n        });\n      }\n      var mdata = new Uint8Array(mdatSize);\n      if (isAV01) {\n        for (var i = 0, l = samples.length, offset = 0, sample; i < l; i++) {\n          sample = samples[i];\n          mdata.set(sample.data, offset);\n          sample.size = sample.data.byteLength;\n          offset += sample.size;\n        }\n      } else {\n        var mdatView = new DataView(mdata.buffer);\n        var _loop = function _loop2(_offset2, _sample2) {\n          _sample2 = samples[_i];\n          var sampleSize = 0;\n          _sample2.units.forEach(function(u) {\n            mdatView.setUint32(_offset2, u.byteLength);\n            _offset2 += 4;\n            mdata.set(u, _offset2);\n            _offset2 += u.byteLength;\n            sampleSize += 4 + u.byteLength;\n          });\n          _sample2.size = sampleSize;\n          _offset = _offset2, _sample = _sample2;\n        };\n        for (var _i = 0, _l = samples.length, _offset = 0, _sample; _i < _l; _i++) {\n          _loop(_offset, _sample);\n        }\n      }\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"_remuxAudio\",\n    value: function _remuxAudio() {\n      var track = this.audioTrack;\n      var mdata = new Uint8Array(track.samples.reduce(function(t, c) {\n        return t + c.size;\n      }, 0));\n      track.samples.reduce(function(offset, s) {\n        mdata.set(s.data, offset);\n        return offset + s.size;\n      }, 0);\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n    }\n  }]);\n  return FMP4Remuxer2;\n}();\nexport { FMP4Remuxer };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nvar Event = _objectSpread2(_objectSpread2({}, EVENT), {}, {\n  STREAM_PARSED: \"core.streamparsed\",\n  NO_AUDIO_TRACK: \"core.noaudiotrack\",\n  SUBTITLE_SEGMENTS: \"core.subtitlesegments\",\n  SUBTITLE_PLAYLIST: \"core.subtitleplaylist\",\n  SEI_PAYLOAD_TIME: \"core.seipayloadtime\",\n  APPEND_COST: \"core.appendcost\"\n});\nexport { Event };\n","import { createClass as _createClass, objectSpread2 as _objectSpread2, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger, concatUint8Array, StreamingError, ERR } from \"xgplayer-streaming-shared\";\nimport { TrackType, WarningType, FMP4Demuxer, TsDemuxer, FMP4Remuxer } from \"xgplayer-transmuxer\";\nimport { Event } from \"../../constants.js\";\nvar logger = new Logger(\"Transmuxer\");\nvar Transmuxer = /* @__PURE__ */ function() {\n  function Transmuxer2(hls, isMP4, needRemux, fixerConfig) {\n    _classCallCheck(this, Transmuxer2);\n    _defineProperty(this, \"_initSegmentId\", \"\");\n    this.hls = hls;\n    this._demuxer = isMP4 ? new FMP4Demuxer() : new TsDemuxer(null, null, null, fixerConfig);\n    this._isMP4 = isMP4;\n    if (needRemux)\n      this._remuxer = new FMP4Remuxer(this._demuxer.videoTrack, this._demuxer.audioTrack);\n  }\n  _createClass(Transmuxer2, [{\n    key: \"transmux\",\n    value: function transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, needInit) {\n      var demuxer = this._demuxer;\n      try {\n        if (this._isMP4) {\n          demuxer.demux(videoChunk, audioChunk);\n        } else {\n          demuxer.demuxAndFix(concatUint8Array(videoChunk, audioChunk), discontinuity, contiguous, startTime);\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.DEMUX, ERR.SUB_TYPES.HLS, error);\n      }\n      var videoTrack = demuxer.videoTrack, audioTrack = demuxer.audioTrack, metadataTrack = demuxer.metadataTrack;\n      var vParsed = {\n        codec: videoTrack.codec,\n        timescale: videoTrack.timescale,\n        firstDts: videoTrack.firstDts / videoTrack.timescale,\n        firstPts: videoTrack.firstPts / videoTrack.timescale,\n        duration: videoTrack.samplesDuration / videoTrack.timescale\n      };\n      var aParsed = {\n        codec: audioTrack.codec,\n        timescale: audioTrack.timescale,\n        firstDts: audioTrack.firstDts / videoTrack.timescale,\n        firstPts: audioTrack.firstPts / videoTrack.timescale,\n        duration: audioTrack.samplesDuration / videoTrack.timescale\n      };\n      var newId = \"\".concat(videoTrack.codec, \"/\").concat(videoTrack.width, \"/\").concat(videoTrack.height, \"/\").concat(audioTrack.codec, \"/\").concat(audioTrack.config);\n      if (newId !== this._initSegmentId) {\n        this._initSegmentId = newId;\n        needInit = true;\n      }\n      this._fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity || needInit);\n      this.hls.emit(Event.DEMUXED_TRACK, {\n        videoTrack,\n        audioTrack\n      });\n      if (this._remuxer) {\n        if (needInit && this.hls.isLive && !this.hls.config.mseLowLatency) {\n          videoTrack.duration = this.hls.totalDuration * videoTrack.timescale;\n          audioTrack.duration = this.hls.totalDuration * audioTrack.timescale;\n        }\n        try {\n          var _this$_remuxer$remux = this._remuxer.remux(needInit), videoInitSegment = _this$_remuxer$remux.videoInitSegment, videoSegment = _this$_remuxer$remux.videoSegment, audioInitSegment = _this$_remuxer$remux.audioInitSegment, audioSegment = _this$_remuxer$remux.audioSegment;\n          var v = concatUint8Array(videoInitSegment, videoSegment);\n          var a = concatUint8Array(audioInitSegment, audioSegment);\n          return [v ? _objectSpread2(_objectSpread2({}, vParsed), {}, {\n            data: v\n          }) : void 0, a ? _objectSpread2(_objectSpread2({}, aParsed), {}, {\n            data: a\n          }) : void 0];\n        } catch (error) {\n          throw new StreamingError(ERR.REMUX, ERR.SUB_TYPES.FMP4, error);\n        }\n      } else {\n        return [videoTrack, audioTrack];\n      }\n    }\n  }, {\n    key: \"_fireEvents\",\n    value: function _fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity) {\n      var _this = this;\n      var tracks = [videoTrack, audioTrack];\n      var logCC = \"discontinuity: \".concat(discontinuity);\n      tracks.forEach(function(track) {\n        var _track$samples;\n        if ((_track$samples = track.samples) !== null && _track$samples !== void 0 && _track$samples.length) {\n          logCC += \"; \".concat(track.samples.length, \" \").concat(track.type === TrackType.VIDEO ? \"video\" : \"audio\", \" samples, firstDts/firstPts/duration: \").concat((track.firstDts / track.timescale).toFixed(3), \"/\").concat((track.firstPts / track.timescale).toFixed(3), \"/\").concat((track.samplesDuration / track.timescale).toFixed(3));\n        }\n        if (discontinuity && track.exist()) {\n          _this.hls.emit(Event.METADATA_PARSED, {\n            type: track.type,\n            track,\n            meta: _objectSpread2({\n              codec: track.codec,\n              timescale: track.timescale,\n              baseDts: track.baseDts\n            }, track.type === TrackType.VIDEO ? {\n              width: track.width,\n              height: track.height,\n              sarRatio: track.sarRatio\n            } : {\n              codec: track.codec,\n              channelCount: track.channelCount,\n              sampleRate: track.sampleRate\n            })\n          });\n        }\n      });\n      logger.debug(logCC);\n      videoTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AV_SHIFT:\n            type = Event.LARGE_AV_FIRST_FRAME_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP:\n            type = Event.LARGE_VIDEO_DTS_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK:\n            type = Event.MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"video exception\", warn);\n      });\n      audioTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AUDIO_GAP:\n            type = Event.LARGE_AUDIO_DTS_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_FILLED:\n            type = Event.AUDIO_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_DROPPED:\n            type = Event.AUDIO_OVERLAP_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"audio exception\", warn);\n      });\n      videoTrack.samples.forEach(function(sample) {\n        if (sample.keyframe) {\n          _this.hls.emit(Event.KEYFRAME, {\n            pts: sample.pts\n          });\n        }\n      });\n      metadataTrack.seiSamples.forEach(function(sei) {\n        _this.hls.emit(Event.SEI, _objectSpread2(_objectSpread2({}, sei), {}, {\n          originPts: sei.originPts / 90,\n          sei: {\n            code: sei.data.type,\n            content: sei.data.payload,\n            dts: sei.pts\n          }\n        }));\n      });\n    }\n  }]);\n  return Transmuxer2;\n}();\nexport { Transmuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray, objectWithoutProperties as _objectWithoutProperties } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsDemuxer, MP4Parser } from \"xgplayer-transmuxer\";\nimport { Logger, StreamingError, ERR, MSE, EVENT, Buffer } from \"xgplayer-streaming-shared\";\nimport { Decryptor } from \"./decrypt/index.js\";\nimport { Transmuxer } from \"./transmuxer/index.js\";\nimport { Event } from \"../constants.js\";\nvar _excluded = [\"data\"], _excluded2 = [\"data\"];\nvar logger = new Logger(\"BufferService\");\nvar BufferService = /* @__PURE__ */ function() {\n  function BufferService2(hls) {\n    var _this = this;\n    _classCallCheck(this, BufferService2);\n    _defineProperty(this, \"_decryptor\", new Decryptor());\n    _defineProperty(this, \"_transmuxer\", null);\n    _defineProperty(this, \"_mse\", null);\n    _defineProperty(this, \"_softVideo\", null);\n    _defineProperty(this, \"_sourceCreated\", false);\n    _defineProperty(this, \"_needInitSegment\", true);\n    _defineProperty(this, \"_directAppend\", false);\n    this.hls = hls;\n    if (hls.config.softDecode) {\n      this._softVideo = hls.media;\n    } else {\n      this._mse = new MSE(null, {\n        preferMMS: hls.config.preferMMS\n      });\n      if (hls.config.url) {\n        this._mse.bindMedia(hls.media).then(function(e) {\n          _this.hls.emit(EVENT.MEDIASOURCE_OPENED, e);\n        });\n      }\n    }\n    if (hls.config.decryptor) {\n      this._decryptor.externalDecryptor = hls.config.decryptor;\n    }\n  }\n  _createClass(BufferService2, [{\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_transmuxer, _this$_transmuxer$_de, _this$_transmuxer$_de2;\n      return (_this$_transmuxer = this._transmuxer) === null || _this$_transmuxer === void 0 ? void 0 : (_this$_transmuxer$_de = _this$_transmuxer._demuxer) === null || _this$_transmuxer$_de === void 0 ? void 0 : (_this$_transmuxer$_de2 = _this$_transmuxer$_de._fixer) === null || _this$_transmuxer$_de2 === void 0 ? void 0 : _this$_transmuxer$_de2._baseDts;\n    }\n  }, {\n    key: \"nbSb\",\n    get: function get() {\n      var _this$_mse;\n      if (!((_this$_mse = this._mse) !== null && _this$_mse !== void 0 && _this$_mse._sourceBuffer))\n        return 0;\n      return Object.keys(this._mse._sourceBuffer).length;\n    }\n  }, {\n    key: \"msIsOpened\",\n    get: function get() {\n      var _this$_mse2;\n      return (_this$_mse2 = this._mse) === null || _this$_mse2 === void 0 ? void 0 : _this$_mse2.isOpened;\n    }\n  }, {\n    key: \"msHasOpTasks\",\n    get: function get() {\n      var _this$_mse3;\n      return (_this$_mse3 = this._mse) === null || _this$_mse3 === void 0 ? void 0 : _this$_mse3.hasOpTasks;\n    }\n  }, {\n    key: \"msStreaming\",\n    get: function get() {\n      var _this$_mse4;\n      return (_this$_mse4 = this._mse) === null || _this$_mse4 === void 0 ? void 0 : _this$_mse4.streaming;\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function() {\n      var _updateDuration = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(duration) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                logger.debug(\"update duration\", duration);\n                if (!this._mse) {\n                  _context.next = 9;\n                  break;\n                }\n                if (this._mse.isOpened) {\n                  _context.next = 5;\n                  break;\n                }\n                _context.next = 5;\n                return this._mse.open();\n              case 5:\n                _context.next = 7;\n                return this._mse.updateDuration(duration);\n              case 7:\n                _context.next = 10;\n                break;\n              case 9:\n                if (this._softVideo) {\n                  this._softVideo.duration = duration;\n                }\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function updateDuration(_x) {\n        return _updateDuration.apply(this, arguments);\n      }\n      return updateDuration;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(videoChunk, audioChunk, videoCodec, audioCodec) {\n      if (this._sourceCreated)\n        return;\n      var chunk = videoChunk || audioChunk;\n      if (!chunk)\n        return;\n      if (TsDemuxer.probe(chunk)) {\n        if (!this._transmuxer)\n          this._transmuxer = new Transmuxer(this.hls, false, !this._softVideo, this.hls.config.fixerConfig);\n      } else if (MP4Parser.probe(chunk)) {\n        if (this._softVideo) {\n          if (!this._transmuxer)\n            this._transmuxer = new Transmuxer(this.hls, true, null, this.hls.config.fixerConfig);\n        } else {\n          this._directAppend = true;\n          var mix = false;\n          if (videoChunk && !videoCodec) {\n            MP4Parser.findBox(videoChunk, [\"moov\", \"trak\"]).forEach(function(t) {\n              var box = MP4Parser.findBox(t.data, [\"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"])[0];\n              if (box) {\n                var e = MP4Parser.stsd(box).entries[0];\n                if (e) {\n                  if (e.hvcC) {\n                    videoCodec = e.hvcC.codec || \"hev1.1.6.L93.B0\";\n                  } else if (e.avcC) {\n                    videoCodec = e.avcC.codec;\n                  } else if (e.sampleRate || e.esds) {\n                    var _e$esds;\n                    audioCodec = ((_e$esds = e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.codec) || \"mp4a.40.2\";\n                    mix = true;\n                  }\n                }\n              }\n            });\n          }\n          if (audioChunk && !audioCodec) {\n            MP4Parser.findBox(audioChunk, [\"moov\", \"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"]).forEach(function(stsd) {\n              var e = MP4Parser.stsd(stsd).entries[0];\n              if (e && e.esds)\n                audioCodec = e.esds.codec;\n            });\n          }\n          if (videoChunk && !videoCodec)\n            videoCodec = \"avc1.42e01e\";\n          if (audioChunk && !audioCodec)\n            audioCodec = \"mp4a.40.2\";\n          if (mix) {\n            videoCodec += \", \".concat(audioCodec);\n            audioCodec = \"\";\n          }\n          this._createMseSource(videoCodec, audioCodec);\n        }\n      } else {\n        throw new StreamingError(ERR.OTHER, null, null, null, \"unsupported stream\");\n      }\n      if (this._softVideo)\n        this._sourceCreated = true;\n    }\n  }, {\n    key: \"appendBuffer\",\n    value: function() {\n      var _appendBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(segment, audioSegment, videoChunk, audioChunk, discontinuity, contiguous, startTime) {\n        var _this2 = this;\n        var afterAppend, p, needInit, _this$_transmuxer$tra, _this$_transmuxer$tra2, video, audio, isFirstAppend, mse, _p, videoData, videoRest, audioData, audioRest;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!(videoChunk !== null && videoChunk !== void 0 && videoChunk.length) && !(audioChunk !== null && audioChunk !== void 0 && audioChunk.length))) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                afterAppend = function afterAppend2() {\n                  var _this2$hls;\n                  if ((_this2$hls = _this2.hls) !== null && _this2$hls !== void 0 && _this2$hls.emit) {\n                    var _this2$hls2;\n                    (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.emit(EVENT.APPEND_BUFFER, {\n                      start: segment.start,\n                      end: segment.end\n                    });\n                  }\n                };\n                if (!this._directAppend) {\n                  _context2.next = 8;\n                  break;\n                }\n                p = [];\n                if (videoChunk)\n                  p.push(this._mse.append(MSE.VIDEO, videoChunk));\n                if (audioChunk)\n                  p.push(this._mse.append(MSE.AUDIO, audioChunk));\n                return _context2.abrupt(\"return\", Promise.all(p).then(afterAppend));\n              case 8:\n                needInit = this._needInitSegment || discontinuity;\n                _this$_transmuxer$tra = this._transmuxer.transmux(videoChunk, audioChunk, needInit, contiguous, startTime, this._needInitSegment || discontinuity), _this$_transmuxer$tra2 = _slicedToArray(_this$_transmuxer$tra, 2), video = _this$_transmuxer$tra2[0], audio = _this$_transmuxer$tra2[1];\n                if (audioChunk && audioSegment) {\n                  audioSegment === null || audioSegment === void 0 ? void 0 : audioSegment.setTrackExist(false, true);\n                }\n                if (audioChunk && segment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(true, false);\n                }\n                if (!audioSegment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(!!video, !!audio);\n                }\n                if (video && !audio) {\n                  this.hls.emit(Event.NO_AUDIO_TRACK);\n                }\n                if (!this._softVideo) {\n                  _context2.next = 20;\n                  break;\n                }\n                this._softVideo.appendBuffer(video, audio);\n                this._needInitSegment = false;\n                afterAppend();\n                _context2.next = 30;\n                break;\n              case 20:\n                if (!this._mse) {\n                  _context2.next = 30;\n                  break;\n                }\n                isFirstAppend = !this._sourceCreated;\n                if (isFirstAppend) {\n                  this._createMseSource(video === null || video === void 0 ? void 0 : video.codec, audio === null || audio === void 0 ? void 0 : audio.codec);\n                }\n                this._needInitSegment = false;\n                mse = this._mse;\n                _p = [];\n                if (needInit && !isFirstAppend) {\n                  this._handleCodecChange(video, audio).forEach(function(task) {\n                    return _p.push(task);\n                  });\n                }\n                if (video) {\n                  videoData = video.data, videoRest = _objectWithoutProperties(video, _excluded);\n                  _p.push(mse.append(MSE.VIDEO, videoData, videoRest));\n                }\n                if (audio) {\n                  audioData = audio.data, audioRest = _objectWithoutProperties(audio, _excluded2);\n                  _p.push(mse.append(MSE.AUDIO, audioData, audioRest));\n                }\n                return _context2.abrupt(\"return\", Promise.all(_p).then(afterAppend));\n              case 30:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function appendBuffer(_x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n        return _appendBuffer.apply(this, arguments);\n      }\n      return appendBuffer;\n    }()\n  }, {\n    key: \"removeBuffer\",\n    value: function() {\n      var _removeBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n        var _this3 = this;\n        var start, end, media, _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                start = _args3.length > 0 && _args3[0] !== void 0 ? _args3[0] : 0;\n                end = _args3.length > 1 && _args3[1] !== void 0 ? _args3[1] : Infinity;\n                media = this.hls.media;\n                if (!(!this._mse || !media || start < 0 || end < start || start >= this._mse.duration)) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 5:\n                return _context3.abrupt(\"return\", this._mse.clearBuffer(start, end).then(function() {\n                  return _this3.hls.emit(EVENT.REMOVE_BUFFER, {\n                    start,\n                    end,\n                    removeEnd: end\n                  });\n                }));\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function removeBuffer() {\n        return _removeBuffer.apply(this, arguments);\n      }\n      return removeBuffer;\n    }()\n  }, {\n    key: \"evictBuffer\",\n    value: function() {\n      var _evictBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(bufferBehind) {\n        var media, currentTime, removeEnd, start;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                media = this.hls.media;\n                if (!(!this._mse || !media || !bufferBehind || bufferBehind < 0)) {\n                  _context4.next = 3;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 3:\n                currentTime = media.currentTime;\n                removeEnd = currentTime - bufferBehind;\n                if (!(removeEnd <= 0)) {\n                  _context4.next = 7;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 7:\n                start = Buffer.start(Buffer.get(media));\n                if (!(start + 1 >= removeEnd)) {\n                  _context4.next = 10;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 10:\n                return _context4.abrupt(\"return\", this.removeBuffer(0, removeEnd));\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function evictBuffer(_x9) {\n        return _evictBuffer.apply(this, arguments);\n      }\n      return evictBuffer;\n    }()\n  }, {\n    key: \"clearAllBuffer\",\n    value: function() {\n      var _clearAllBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this._mse) {\n                  _context5.next = 2;\n                  break;\n                }\n                return _context5.abrupt(\"return\", this._mse.clearAllBuffer());\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function clearAllBuffer() {\n        return _clearAllBuffer.apply(this, arguments);\n      }\n      return clearAllBuffer;\n    }()\n  }, {\n    key: \"decryptBuffer\",\n    value: function decryptBuffer(video, audio) {\n      return this._decryptor.decrypt(video, audio);\n    }\n  }, {\n    key: \"reset\",\n    value: function() {\n      var _reset = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6() {\n        var reuseMse, _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                reuseMse = _args6.length > 0 && _args6[0] !== void 0 ? _args6[0] : false;\n                if (!(this._mse && !reuseMse)) {\n                  _context6.next = 8;\n                  break;\n                }\n                this._transmuxer = null;\n                this._sourceCreated = false;\n                _context6.next = 6;\n                return this._mse.unbindMedia();\n              case 6:\n                _context6.next = 8;\n                return this._mse.bindMedia(this.hls.media);\n              case 8:\n                this._needInitSegment = true;\n                this._directAppend = false;\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function reset() {\n        return _reset.apply(this, arguments);\n      }\n      return reset;\n    }()\n  }, {\n    key: \"endOfStream\",\n    value: function() {\n      var _endOfStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this._mse) {\n                  _context7.next = 5;\n                  break;\n                }\n                if (!this._sourceCreated) {\n                  _context7.next = 5;\n                  break;\n                }\n                _context7.next = 4;\n                return this._mse.endOfStream();\n              case 4:\n                this.hls.emit(EVENT.BUFFEREOS);\n              case 5:\n                if (this._softVideo) {\n                  this._softVideo.endOfStream();\n                }\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this);\n      }));\n      function endOfStream() {\n        return _endOfStream.apply(this, arguments);\n      }\n      return endOfStream;\n    }()\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function() {\n      var _setLiveSeekableRange = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(start, end) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (this._mse)\n                  this._mse.setLiveSeekableRange(start, end);\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this);\n      }));\n      function setLiveSeekableRange(_x10, _x11) {\n        return _setLiveSeekableRange.apply(this, arguments);\n      }\n      return setLiveSeekableRange;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9() {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!this._mse) {\n                  _context9.next = 3;\n                  break;\n                }\n                _context9.next = 3;\n                return this._mse.unbindMedia();\n              case 3:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10() {\n        var _this$_decryptor;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                (_this$_decryptor = this._decryptor) === null || _this$_decryptor === void 0 ? void 0 : _this$_decryptor.destroy();\n                _context10.next = 3;\n                return this.detachMedia();\n              case 3:\n                this._decryptor = null;\n                this._mse = null;\n                this._softVideo = null;\n              case 6:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_createMseSource\",\n    value: function _createMseSource(videoCodec, audioCodec) {\n      logger.debug(\"create mse source, videoCodec=\".concat(videoCodec, \", audioCodec=\").concat(audioCodec));\n      var mse = this._mse;\n      if (!mse)\n        return;\n      if (videoCodec) {\n        mse.createSource(MSE.VIDEO, \"video/mp4;codecs=\".concat(videoCodec));\n        this._sourceCreated = true;\n      }\n      if (audioCodec) {\n        mse.createSource(MSE.AUDIO, \"audio/mp4;codecs=\".concat(audioCodec));\n        this._sourceCreated = true;\n      }\n      this.hls.emit(EVENT.SOURCEBUFFER_CREATED);\n    }\n  }, {\n    key: \"_handleCodecChange\",\n    value: function _handleCodecChange(video, audio) {\n      var tasks = [];\n      var mse = this._mse;\n      var codecList = [{\n        type: MSE.VIDEO,\n        codecs: video === null || video === void 0 ? void 0 : video.codec\n      }, {\n        type: MSE.AUDIO,\n        codecs: audio === null || audio === void 0 ? void 0 : audio.codec\n      }];\n      codecList.filter(function(item) {\n        return !!item.codecs;\n      }).forEach(function(_ref) {\n        var type = _ref.type, codecs = _ref.codecs;\n        var sourceBuffer = mse.getSourceBuffer(type);\n        if (sourceBuffer) {\n          var codec = codecs.split(\",\")[0];\n          if (!new RegExp(codec, \"ig\").test(sourceBuffer.mimeType)) {\n            tasks.push(mse.changeType(type, \"\".concat(type, \"/mp4;codecs=\").concat(codecs)));\n          }\n        }\n      });\n      return tasks;\n    }\n  }, {\n    key: \"seamlessSwitch\",\n    value: function seamlessSwitch() {\n      this._needInitSegment = true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull() {\n      var _this$_mse5;\n      var mediaType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : MSE.VIDEO;\n      return (_this$_mse5 = this._mse) === null || _this$_mse5 === void 0 ? void 0 : _this$_mse5.isFull(mediaType);\n    }\n  }]);\n  return BufferService2;\n}();\nexport { BufferService };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction getConfig(cfg) {\n  var media = (cfg === null || cfg === void 0 ? void 0 : cfg.media) || document.createElement(\"video\");\n  return _objectSpread2(_objectSpread2({\n    maxPlaylistSize: 50,\n    retryCount: 3,\n    retryDelay: 1e3,\n    pollRetryCount: 2,\n    loadTimeout: 1e4,\n    manifestLoadTimeout: 1e4,\n    preloadTime: 30,\n    softDecode: false,\n    bufferBehind: 10,\n    maxJumpDistance: 3,\n    startTime: 0,\n    useLowLatency: true,\n    targetLatency: 10,\n    maxLatency: 20,\n    allowedStreamTrackChange: true,\n    seiInTime: false,\n    manifestList: [],\n    minSegmentsStartPlay: 3,\n    preferMMS: false,\n    preferMMSStreaming: false,\n    mseLowLatency: true,\n    fixerConfig: {\n      forceFixLargeGap: false,\n      largeGapThreshold: 5\n    }\n  }, cfg), {}, {\n    media\n  });\n}\nexport { getConfig };\n","var LoaderType = {\n  FETCH: \"fetch\",\n  XHR: \"xhr\"\n};\nvar ResponseType = {\n  ARRAY_BUFFER: \"arraybuffer\",\n  TEXT: \"text\",\n  JSON: \"json\"\n};\nexport { LoaderType, ResponseType };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, wrapNativeSuper as _wrapNativeSuper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType } from \"./types.js\";\nvar NetError = /* @__PURE__ */ function(_Error) {\n  _inherits(NetError2, _Error);\n  var _super = _createSuper(NetError2);\n  function NetError2(url, request, response, msg) {\n    var _this;\n    _classCallCheck(this, NetError2);\n    _this = _super.call(this, msg);\n    _defineProperty(_assertThisInitialized(_this), \"retryCount\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"isTimeout\", false);\n    _defineProperty(_assertThisInitialized(_this), \"loaderType\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"startTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"endTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"options\", {});\n    _this.url = url;\n    _this.request = request;\n    _this.response = response;\n    return _this;\n  }\n  return _createClass(NetError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { NetError };\n","import { typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar toString = Object.prototype.toString;\nfunction isObject(a) {\n  return a !== null && _typeof(a) === \"object\";\n}\nfunction isPlainObject(val) {\n  if (toString.call(val) !== \"[object Object]\") {\n    return false;\n  }\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\nfunction isDate(a) {\n  return toString.call(a) === \"[object Date]\";\n}\nexport { isDate, isObject, isPlainObject };\n","import { isDate, isObject } from \"../is.js\";\nfunction getRangeValue(value) {\n  if (!value || value[0] === null || value[0] === void 0 || value[0] === 0 && (value[1] === null || value[1] === void 0)) {\n    return;\n  }\n  var ret = \"bytes=\" + value[0] + \"-\";\n  if (value[1])\n    ret += value[1];\n  return ret;\n}\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\nfunction setUrlParams(url, params) {\n  if (!url)\n    return;\n  if (!params)\n    return url;\n  var v;\n  var str = Object.keys(params).map(function(k) {\n    v = params[k];\n    if (v === null || v === void 0)\n      return;\n    if (Array.isArray(v)) {\n      k = k + \"[]\";\n    } else {\n      v = [v];\n    }\n    return v.map(function(x) {\n      if (isDate(x)) {\n        x = x.toISOString();\n      } else if (isObject(x)) {\n        x = JSON.stringify(x);\n      }\n      return \"\".concat(encode(k), \"=\").concat(encode(x));\n    }).join(\"&\");\n  }).filter(Boolean).join(\"&\");\n  if (str) {\n    var hashIndex = url.indexOf(\"#\");\n    if (hashIndex !== -1) {\n      url = url.slice(0, hashIndex);\n    }\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + str;\n  }\n  return url;\n}\nfunction createResponse(data, done, response, contentLength, age, startTime, firstByteTime, index, range, vid, priOptions) {\n  age = age !== null && age !== void 0 ? parseFloat(age) : null;\n  contentLength = parseInt(contentLength || \"0\", 10);\n  if (Number.isNaN(contentLength))\n    contentLength = 0;\n  var options = {\n    range,\n    vid,\n    index,\n    contentLength,\n    age,\n    startTime,\n    firstByteTime,\n    endTime: Date.now(),\n    priOptions\n  };\n  return {\n    data,\n    done,\n    options,\n    response\n  };\n}\nfunction calculateSpeed(byteLen, milliSecond) {\n  return Math.round(byteLen * 8 * 1e3 / milliSecond / 1024);\n}\nexport { calculateSpeed, createResponse, getRangeValue, setUrlParams };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, createResponse, calculateSpeed } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar CACHESIZE = 2 * 1024 * 1024;\nvar FetchLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(FetchLoader2, _EventEmitter);\n  var _super = _createSuper(FetchLoader2);\n  function FetchLoader2() {\n    var _this;\n    _classCallCheck(this, FetchLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_abortController\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_reader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_response\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_running\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_onProcessMinLen\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(FetchLoader2, [{\n    key: \"load\",\n    value: function load(_ref) {\n      var _this$_abortControlle, _this2 = this;\n      var url = _ref.url, vid = _ref.vid, timeout = _ref.timeout, responseType = _ref.responseType, onProgress = _ref.onProgress, index = _ref.index, onTimeout = _ref.onTimeout, onCancel = _ref.onCancel, range = _ref.range, transformResponse = _ref.transformResponse, request = _ref.request, params = _ref.params, logger = _ref.logger, method = _ref.method, headers = _ref.headers, body = _ref.body, mode = _ref.mode, credentials = _ref.credentials, cache = _ref.cache, redirect = _ref.redirect, referrer = _ref.referrer, referrerPolicy = _ref.referrerPolicy, onProcessMinLen = _ref.onProcessMinLen, priOptions = _ref.priOptions;\n      this._logger = logger;\n      this._aborted = false;\n      this._onProcessMinLen = onProcessMinLen;\n      this._onCancel = onCancel;\n      this._abortController = typeof AbortController !== \"undefined\" && new AbortController();\n      this._running = true;\n      this._index = index;\n      this._range = range || [0, 0];\n      this._vid = vid || url;\n      this._priOptions = priOptions || {};\n      var init = {\n        method,\n        headers,\n        body,\n        mode,\n        credentials,\n        cache,\n        redirect,\n        referrer,\n        referrerPolicy,\n        signal: (_this$_abortControlle = this._abortController) === null || _this$_abortControlle === void 0 ? void 0 : _this$_abortControlle.signal\n      };\n      var isTimeout = false;\n      clearTimeout(this._timeoutTimer);\n      url = setUrlParams(url, params);\n      var rangeValue = getRangeValue(range);\n      if (rangeValue) {\n        if (request) {\n          headers = request.headers;\n        } else {\n          headers = init.headers = init.headers || (Headers ? new Headers() : {});\n        }\n        if (Headers && headers instanceof Headers) {\n          headers.append(\"Range\", rangeValue);\n        } else {\n          headers.Range = rangeValue;\n        }\n      }\n      if (timeout) {\n        this._timeoutTimer = setTimeout(function() {\n          isTimeout = true;\n          _this2.cancel();\n          if (onTimeout) {\n            var error = new NetError(url, init, null, \"timeout\");\n            error.isTimeout = true;\n            onTimeout(error, {\n              index: _this2._index,\n              range: _this2._range,\n              vid: _this2._vid,\n              priOptions: _this2._priOptions\n            });\n          }\n        }, timeout);\n      }\n      var startTime = Date.now();\n      this._logger.debug(\"[fetch load start], index,\", index, \",range,\", range);\n      return new Promise(function(resolve, reject) {\n        fetch(request || url, request ? void 0 : init).then(/* @__PURE__ */ function() {\n          var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(response) {\n            var firstByteTime, data, costTime, speed;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1)\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    clearTimeout(_this2._timeoutTimer);\n                    _this2._response = response;\n                    if (!(_this2._aborted || !_this2._running)) {\n                      _context.next = 4;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 4:\n                    if (transformResponse) {\n                      response = transformResponse(response, url) || response;\n                    }\n                    if (response.ok) {\n                      _context.next = 7;\n                      break;\n                    }\n                    throw new NetError(url, init, response, \"bad network response\");\n                  case 7:\n                    firstByteTime = Date.now();\n                    if (!(responseType === ResponseType.TEXT)) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 11;\n                    return response.text();\n                  case 11:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 15:\n                    if (!(responseType === ResponseType.JSON)) {\n                      _context.next = 22;\n                      break;\n                    }\n                    _context.next = 18;\n                    return response.json();\n                  case 18:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 22:\n                    if (!onProgress) {\n                      _context.next = 29;\n                      break;\n                    }\n                    _this2.resolve = resolve;\n                    _this2.reject = reject;\n                    _this2._loadChunk(response, onProgress, startTime, firstByteTime);\n                    return _context.abrupt(\"return\");\n                  case 29:\n                    _context.next = 31;\n                    return response.arrayBuffer();\n                  case 31:\n                    data = _context.sent;\n                    data = new Uint8Array(data);\n                    _this2._running = false;\n                    costTime = Date.now() - startTime;\n                    speed = calculateSpeed(data.byteLength, costTime);\n                    _this2.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: data.byteLength,\n                      time: costTime,\n                      vid: _this2._vid,\n                      index: _this2._index,\n                      range: _this2._range,\n                      priOptions: _this2._priOptions\n                    });\n                  case 37:\n                    _this2._logger.debug(\"[fetch load end], index,\", index, \",range,\", range);\n                    resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), startTime, firstByteTime, index, range, _this2._vid, _this2._priOptions));\n                  case 39:\n                  case \"end\":\n                    return _context.stop();\n                }\n            }, _callee);\n          }));\n          return function(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }()).catch(function(error) {\n          var _error;\n          clearTimeout(_this2._timeoutTimer);\n          _this2._running = false;\n          if (_this2._aborted && !isTimeout)\n            return;\n          error = error instanceof NetError ? error : new NetError(url, init, null, (_error = error) === null || _error === void 0 ? void 0 : _error.message);\n          error.startTime = startTime;\n          error.endTime = Date.now();\n          error.isTimeout = isTimeout;\n          error.options = {\n            index: _this2._index,\n            range: _this2._range,\n            vid: _this2._vid,\n            priOptions: _this2._priOptions\n          };\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._aborted) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                this._aborted = true;\n                this._running = false;\n                if (!this._response) {\n                  _context2.next = 14;\n                  break;\n                }\n                _context2.prev = 5;\n                if (!this._reader) {\n                  _context2.next = 9;\n                  break;\n                }\n                _context2.next = 9;\n                return this._reader.cancel();\n              case 9:\n                _context2.next = 13;\n                break;\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](5);\n              case 13:\n                this._response = this._reader = null;\n              case 14:\n                if (this._abortController) {\n                  try {\n                    this._abortController.abort();\n                  } catch (error) {\n                  }\n                  this._abortController = null;\n                }\n                if (this._onCancel) {\n                  this._onCancel({\n                    index: this._index,\n                    range: this._range,\n                    vid: this._vid,\n                    priOptions: this._priOptions\n                  });\n                }\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this, [[5, 11]]);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_loadChunk\",\n    value: function _loadChunk(response, onProgress, st, firstByteTime) {\n      var _this3 = this;\n      if (!response.body || !response.body.getReader) {\n        this._running = false;\n        var err = new NetError(response.url, \"\", response, \"onProgress of bad response.body.getReader\");\n        err.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this.reject(err);\n        return;\n      }\n      if (this._onProcessMinLen > 0) {\n        this._cache = new Uint8Array(CACHESIZE);\n        this._writeIdx = 0;\n      }\n      var reader = this._reader = response.body.getReader();\n      var data;\n      var startTime;\n      var endTime;\n      var pump = /* @__PURE__ */ function() {\n        var _ref3 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n          var _this3$_range;\n          var startRange, startByte, curLen, retData, temp, costTime, speed;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1)\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  startTime = Date.now();\n                  _context3.prev = 1;\n                  _context3.next = 4;\n                  return reader.read();\n                case 4:\n                  data = _context3.sent;\n                  endTime = Date.now();\n                  _context3.next = 13;\n                  break;\n                case 8:\n                  _context3.prev = 8;\n                  _context3.t0 = _context3[\"catch\"](1);\n                  endTime = Date.now();\n                  if (!_this3._aborted) {\n                    _this3._running = false;\n                    _context3.t0.options = {\n                      index: _this3._index,\n                      range: _this3._range,\n                      vid: _this3._vid,\n                      priOptions: _this3._priOptions\n                    };\n                    _this3.reject(_context3.t0);\n                  }\n                  return _context3.abrupt(\"return\");\n                case 13:\n                  startRange = ((_this3$_range = _this3._range) === null || _this3$_range === void 0 ? void 0 : _this3$_range.length) > 0 ? _this3._range[0] : 0;\n                  startByte = startRange + _this3._receivedLength;\n                  if (!_this3._aborted) {\n                    _context3.next = 19;\n                    break;\n                  }\n                  _this3._running = false;\n                  onProgress(void 0, false, {\n                    range: [startByte, startByte],\n                    vid: _this3._vid,\n                    index: _this3._index,\n                    startTime,\n                    endTime,\n                    st,\n                    firstByteTime,\n                    priOptions: _this3._priOptions\n                  }, response);\n                  return _context3.abrupt(\"return\");\n                case 19:\n                  curLen = data.value ? data.value.byteLength : 0;\n                  _this3._receivedLength += curLen;\n                  _this3._logger.debug(\"\\u3010fetchLoader,onProgress call\\u3011,task,\", _this3._range, \", start,\", startByte, \", end,\", startRange + _this3._receivedLength, \", done,\", data.done);\n                  if (_this3._onProcessMinLen > 0) {\n                    if (_this3._writeIdx + curLen >= _this3._onProcessMinLen || data.done) {\n                      retData = new Uint8Array(_this3._writeIdx + curLen);\n                      retData.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                      curLen > 0 && retData.set(data.value, _this3._writeIdx);\n                      _this3._writeIdx = 0;\n                      _this3._logger.debug(\"\\u3010fetchLoader,onProgress enough\\u3011,done,\", data.done, \",len,\", retData.byteLength, \", writeIdx,\", _this3._writeIdx);\n                    } else {\n                      if (curLen > 0 && _this3._writeIdx + curLen < CACHESIZE) {\n                        _this3._cache.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress cache\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      } else if (curLen > 0) {\n                        temp = new Uint8Array(_this3._writeIdx + curLen + 2048);\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra start\\u3011,size,\", _this3._writeIdx + curLen + 2048, \", datalen,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                        temp.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                        curLen > 0 && temp.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        delete _this3._cache;\n                        _this3._cache = temp;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra end\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      }\n                    }\n                  } else {\n                    retData = data.value;\n                  }\n                  if (retData && retData.byteLength > 0 || data.done) {\n                    onProgress(retData, data.done, {\n                      range: [_this3._range[0] + _this3._receivedLength - (retData ? retData.byteLength : 0), _this3._range[0] + _this3._receivedLength],\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      startTime,\n                      endTime,\n                      st,\n                      firstByteTime,\n                      priOptions: _this3._priOptions\n                    }, response);\n                  }\n                  if (!data.done) {\n                    pump();\n                  } else {\n                    costTime = Date.now() - st;\n                    speed = calculateSpeed(_this3._receivedLength, costTime);\n                    _this3.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: _this3._receivedLength,\n                      time: costTime,\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      range: _this3._range,\n                      priOptions: _this3._priOptions\n                    });\n                    _this3._running = false;\n                    _this3._logger.debug(\"[fetchLoader onProgress end],task,\", _this3._range, \",done,\", data.done);\n                    _this3.resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), st, firstByteTime, _this3._index, _this3._range, _this3._vid, _this3._priOptions));\n                  }\n                case 25:\n                case \"end\":\n                  return _context3.stop();\n              }\n          }, _callee3, null, [[1, 8]]);\n        }));\n        return function pump2() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      pump();\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return !!(typeof fetch !== \"undefined\");\n    }\n  }]);\n  return FetchLoader2;\n}(EventEmitter);\nexport { FetchLoader };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType, ResponseType } from \"./types.js\";\nfunction getConfig(cfg) {\n  return _objectSpread2({\n    loaderType: LoaderType.FETCH,\n    retry: 0,\n    retryDelay: 0,\n    timeout: 0,\n    request: null,\n    onTimeout: void 0,\n    onProgress: void 0,\n    onRetryError: void 0,\n    transformRequest: void 0,\n    transformResponse: void 0,\n    transformError: void 0,\n    responseType: ResponseType.TEXT,\n    range: void 0,\n    url: \"\",\n    params: void 0,\n    method: \"GET\",\n    headers: {},\n    body: void 0,\n    mode: void 0,\n    credentials: void 0,\n    cache: void 0,\n    redirect: void 0,\n    referrer: void 0,\n    referrerPolicy: void 0,\n    integrity: void 0,\n    onProcessMinLen: 0\n  }, cfg);\n}\nexport { getConfig };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, calculateSpeed, createResponse } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar XhrLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(XhrLoader2, _EventEmitter);\n  var _super = _createSuper(XhrLoader2);\n  function XhrLoader2() {\n    var _this;\n    _classCallCheck(this, XhrLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_url\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_onProgress\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_headers\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_currentChunkSizeKB\", 384);\n    _defineProperty(_assertThisInitialized(_this), \"_timeout\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_withCredentials\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_startTime\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteResolve\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteReject\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_runing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_responseType\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_credentials\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_method\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_transformResponse\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_firstRtt\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(XhrLoader2, [{\n    key: \"load\",\n    value: function load(req) {\n      var _this2 = this;\n      clearTimeout(this._timeoutTimer);\n      this._logger = req.logger;\n      this._range = req.range;\n      this._onProgress = req.onProgress;\n      this._index = req.index;\n      this._headers = req.headers;\n      this._withCredentials = req.credentials === \"include\" || req.credentials === \"same-origin\";\n      this._body = req.body || null;\n      req.method && (this._method = req.method);\n      this._timeout = req.timeout || null;\n      this._runing = true;\n      this._vid = req.vid || req.url;\n      this._responseType = req.responseType;\n      this._firstRtt = -1;\n      this._onTimeout = req.onTimeout;\n      this._onCancel = req.onCancel;\n      this._request = req.request;\n      this._priOptions = req.priOptions || {};\n      this._logger.debug(\"\\u3010xhrLoader task\\u3011, range\", this._range);\n      this._url = setUrlParams(req.url, req.params);\n      var startTime = Date.now();\n      return new Promise(function(resolve, reject) {\n        _this2._loadCompleteResolve = resolve;\n        _this2._loadCompleteReject = reject;\n        _this2._startLoad();\n      }).catch(function(error) {\n        clearTimeout(_this2._timeoutTimer);\n        _this2._runing = false;\n        if (_this2._aborted)\n          return;\n        error = error instanceof NetError ? error : new NetError(_this2._url, _this2._request);\n        error.startTime = startTime;\n        error.endTime = Date.now();\n        error.options = {\n          index: _this2._index,\n          vid: _this2._vid,\n          priOptions: _this2._priOptions\n        };\n        throw error;\n      });\n    }\n  }, {\n    key: \"_startLoad\",\n    value: function _startLoad() {\n      var range = null;\n      if (this._responseType === ResponseType.ARRAY_BUFFER && this._range && this._range.length > 1) {\n        if (this._onProgress) {\n          this._firstRtt = -1;\n          var chunkSize = this._currentChunkSizeKB * 1024;\n          var from = this._range[0] + this._receivedLength;\n          var to = this._range[1];\n          if (chunkSize < this._range[1] - from) {\n            to = from + chunkSize;\n          }\n          range = [from, to];\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", SubRange, \", range);\n        } else {\n          range = this._range;\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", allRange, \", range);\n        }\n      }\n      this._internalOpen(range);\n    }\n  }, {\n    key: \"_internalOpen\",\n    value: function _internalOpen(range) {\n      var _this3 = this;\n      try {\n        this._startTime = Date.now();\n        var xhr = this._xhr = new XMLHttpRequest();\n        xhr.open(this._method || \"GET\", this._url, true);\n        xhr.responseType = this._responseType;\n        this._timeout && (xhr.timeout = this._timeout);\n        xhr.withCredentials = this._withCredentials;\n        xhr.onload = this._onLoad.bind(this);\n        xhr.onreadystatechange = this._onReadyStatechange.bind(this);\n        xhr.onerror = function(errorEvent) {\n          var _errorEvent$currentTa, _errorEvent$currentTa2, _errorEvent$currentTa3;\n          _this3._running = false;\n          var error = new NetError(_this3._url, _this3._request, errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa = errorEvent.currentTarget) === null || _errorEvent$currentTa === void 0 ? void 0 : _errorEvent$currentTa.response, \"xhr.onerror.status:\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa2 = errorEvent.currentTarget) === null || _errorEvent$currentTa2 === void 0 ? void 0 : _errorEvent$currentTa2.status) + \",statusText,\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa3 = errorEvent.currentTarget) === null || _errorEvent$currentTa3 === void 0 ? void 0 : _errorEvent$currentTa3.statusText));\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        xhr.ontimeout = function(event) {\n          _this3.cancel();\n          var error = new NetError(_this3._url, _this3._request, {\n            status: 408\n          }, \"timeout\");\n          if (_this3._onTimeout) {\n            error.isTimeout = true;\n            _this3._onTimeout(error, {\n              index: _this3._index,\n              range: _this3._range,\n              vid: _this3._vid,\n              priOptions: _this3._priOptions\n            });\n          }\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        var headers = this._headers || {};\n        var rangeValue = getRangeValue(range);\n        if (rangeValue) {\n          headers.Range = rangeValue;\n        }\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        this._logger.debug(\"[xhr.send->] tast,\", this._range, \",load sub range, \", range);\n        xhr.send(this._body);\n      } catch (e) {\n        e.options = {\n          index: this._index,\n          range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this._loadCompleteReject(e);\n      }\n    }\n  }, {\n    key: \"_onReadyStatechange\",\n    value: function _onReadyStatechange(e) {\n      var xhr = e.target;\n      if (xhr.readyState === 2) {\n        this._firstRtt < 0 && (this._firstRtt = Date.now());\n      }\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(e) {\n      var _this$_range;\n      var status = e.target.status;\n      if (status < 200 || status > 299) {\n        var error = new NetError(this._url, null, _objectSpread2(_objectSpread2({}, e.target.response), {}, {\n          status\n        }), \"bad response,status:\" + status);\n        error.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        return this._loadCompleteReject(error);\n      }\n      var data = null;\n      var done = false;\n      var byteStart;\n      var startRange = ((_this$_range = this._range) === null || _this$_range === void 0 ? void 0 : _this$_range.length) > 0 ? this._range[0] : 0;\n      if (this._responseType === ResponseType.ARRAY_BUFFER) {\n        var _this$_range2;\n        var chunk = new Uint8Array(e.target.response);\n        byteStart = startRange + this._receivedLength;\n        if (chunk && chunk.byteLength > 0) {\n          this._receivedLength += chunk.byteLength;\n          var costTime = Date.now() - this._startTime;\n          var speed = calculateSpeed(this._receivedLength, costTime);\n          this.emit(EVENT.REAL_TIME_SPEED, {\n            speed,\n            len: this._receivedLength,\n            time: costTime,\n            vid: this._vid,\n            index: this._index,\n            range: [byteStart, startRange + this._receivedLength],\n            priOptions: this._priOptions\n          });\n        }\n        data = chunk;\n        if (((_this$_range2 = this._range) === null || _this$_range2 === void 0 ? void 0 : _this$_range2.length) > 1 && this._range[1] && this._receivedLength < this._range[1] - this._range[0]) {\n          done = false;\n        } else {\n          done = true;\n        }\n        this._logger.debug(\"[xhr load done->], tast :\", this._range, \", start\", byteStart, \"end \", startRange + this._receivedLength, \",dataLen,\", chunk ? chunk.byteLength : 0, \",receivedLength\", this._receivedLength, \",index,\", this._index, \", done,\", done);\n      } else {\n        done = true;\n        data = e.target.response;\n      }\n      var response = {\n        ok: status >= 200 && status < 300,\n        status,\n        statusText: this._xhr.statusText,\n        url: this._xhr.responseURL,\n        headers: this._getHeaders(this._xhr),\n        body: this._xhr.response\n      };\n      if (this._transformResponse) {\n        response = this._transformResponse(response, this._url) || response;\n      }\n      if (this._onProgress) {\n        this._onProgress(data, done, {\n          index: this._index,\n          vid: this._vid,\n          range: [byteStart, startRange + this._receivedLength],\n          startTime: this._startTime,\n          endTime: Date.now(),\n          priOptions: this._priOptions\n        }, response);\n      }\n      if (!done) {\n        this._startLoad();\n      } else {\n        this._runing = false;\n        this._loadCompleteResolve && this._loadCompleteResolve(createResponse(this._onProgress ? null : data, done, response, response.headers[\"content-length\"], response.headers.age, this._startTime, this._firstRtt, this._index, this._range, this._vid, this._priOptions));\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._aborted)\n        return;\n      this._aborted = true;\n      this._runing = false;\n      _get(_getPrototypeOf(XhrLoader2.prototype), \"removeAllListeners\", this).call(this);\n      if (this._onCancel) {\n        this._onCancel({\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        });\n      }\n      if (this._xhr) {\n        return this._xhr.abort();\n      }\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(xhr) {\n      var headerLines = xhr.getAllResponseHeaders().trim().split(\"\\r\\n\");\n      var headers = {};\n      var _iterator = _createForOfIteratorHelper(headerLines), _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n          var header = _step.value;\n          var parts = header.split(\": \");\n          headers[parts[0].toLowerCase()] = parts.slice(1).join(\": \");\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return headers;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof XMLHttpRequest !== \"undefined\";\n    }\n  }]);\n  return XhrLoader2;\n}(EventEmitter);\nexport { XhrLoader };\n","import { createClass as _createClass, objectWithoutProperties as _objectWithoutProperties, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { XhrLoader } from \"./xhr.js\";\nimport { LoaderType } from \"./types.js\";\nimport { createPublicPromise } from \"../utils.js\";\nimport { Logger } from \"../logger.js\";\nvar _excluded = [\"retry\", \"retryDelay\", \"onRetryError\", \"transformError\"];\nvar Task = /* @__PURE__ */ function() {\n  function Task2(type, config) {\n    _classCallCheck(this, Task2);\n    this.promise = createPublicPromise();\n    this.alive = !!config.onProgress;\n    !config.logger && (config.logger = new Logger(\"Loader\"));\n    this._loaderType = type;\n    this._loader = type === LoaderType.FETCH && typeof fetch !== \"undefined\" ? new FetchLoader() : new XhrLoader();\n    this._config = config;\n    this._retryCount = 0;\n    this._retryTimer = null;\n    this._canceled = false;\n    this._retryCheckFunc = config.retryCheckFunc;\n    this._logger = config.logger;\n  }\n  _createClass(Task2, [{\n    key: \"exec\",\n    value: function exec() {\n      var _this = this;\n      var _this$_config = this._config, retry = _this$_config.retry, retryDelay = _this$_config.retryDelay, onRetryError = _this$_config.onRetryError, transformError = _this$_config.transformError, rest = _objectWithoutProperties(_this$_config, _excluded);\n      var request = /* @__PURE__ */ function() {\n        var _ref = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n          var response, error, isRetry;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1)\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return _this._loader.load(rest);\n                case 3:\n                  response = _context.sent;\n                  _this.promise.resolve(response);\n                  _context.next = 27;\n                  break;\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](0);\n                  _this._loader.running = false;\n                  _this._logger.debug(\"[task request catch err]\", _context.t0);\n                  if (!_this._canceled) {\n                    _context.next = 13;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 13:\n                  _context.t0.loaderType = _this._loaderType;\n                  _context.t0.retryCount = _this._retryCount;\n                  error = _context.t0;\n                  if (transformError) {\n                    error = transformError(error) || error;\n                  }\n                  if (onRetryError && _this._retryCount > 0)\n                    onRetryError(error, _this._retryCount, {\n                      index: rest.index,\n                      vid: rest.vid,\n                      range: rest.range,\n                      priOptions: rest.priOptions\n                    });\n                  _this._retryCount++;\n                  isRetry = true;\n                  if (_this._retryCheckFunc) {\n                    isRetry = _this._retryCheckFunc(_context.t0);\n                  }\n                  if (!(isRetry && _this._retryCount <= retry)) {\n                    _context.next = 26;\n                    break;\n                  }\n                  clearTimeout(_this._retryTimer);\n                  _this._logger.debug(\"[task request setTimeout],retry\", _this._retryCount, \",retry range,\", rest.range);\n                  _this._retryTimer = setTimeout(request, retryDelay);\n                  return _context.abrupt(\"return\");\n                case 26:\n                  _this.promise.reject(error);\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n          }, _callee, null, [[0, 7]]);\n        }));\n        return function request2() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      request();\n      return this.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(this._retryTimer);\n                this._canceled = true;\n                this._loader.running = false;\n                return _context2.abrupt(\"return\", this._loader.cancel());\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._loader && this._loader.running;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._loader;\n    }\n  }]);\n  return Task2;\n}();\nexport { Task };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { LoaderType } from \"./types.js\";\nexport { LoaderType, ResponseType } from \"./types.js\";\nimport { getConfig } from \"./config.js\";\nimport { Task } from \"./task.js\";\nimport { isPlainObject } from \"../is.js\";\nimport { sleep } from \"../streaming-helper.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar NetLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(NetLoader2, _EventEmitter);\n  var _super = _createSuper(NetLoader2);\n  function NetLoader2(cfg) {\n    var _this;\n    _classCallCheck(this, NetLoader2);\n    _this = _super.call(this, cfg);\n    _defineProperty(_assertThisInitialized(_this), \"type\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"_queue\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_alive\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_currentTask\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_finnalUrl\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_config\", void 0);\n    _this._config = getConfig(cfg);\n    if (_this._config.loaderType === LoaderType.XHR || !FetchLoader.isSupported()) {\n      _this.type = LoaderType.XHR;\n    }\n    _this.log = cfg.logger;\n    return _this;\n  }\n  _createClass(NetLoader2, [{\n    key: \"isFetch\",\n    value: function isFetch() {\n      return this.type === LoaderType.FETCH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (typeof url === \"string\" || !url) {\n        config.url = url || config.url || this._config.url;\n      } else {\n        config = url;\n      }\n      config = Object.assign({}, this._config, config);\n      if (config.params)\n        config.params = Object.assign({}, config.params);\n      if (config.headers && isPlainObject(config.headers))\n        config.headers = Object.assign({}, config.headers);\n      if (config.body && isPlainObject(config.body))\n        config.body = Object.assign({}, config.body);\n      if (config.transformRequest) {\n        config = config.transformRequest(config) || config;\n      }\n      config.logger = this.log;\n      var task = new Task(this.type, config);\n      task.loader.on(EVENT.REAL_TIME_SPEED, function(data) {\n        _this2.emit(EVENT.REAL_TIME_SPEED, data);\n      });\n      this._queue.push(task);\n      if (this._queue.length === 1 && (!this._currentTask || !this._currentTask.running)) {\n        this._processTask();\n      }\n      return task.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n        var cancels;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                cancels = this._queue.map(function(t) {\n                  return t.cancel();\n                }).concat(this._alive.map(function(t) {\n                  return t.cancel();\n                }));\n                if (this._currentTask) {\n                  cancels.push(this._currentTask.cancel());\n                }\n                this._queue = [];\n                this._alive = [];\n                _context.next = 6;\n                return Promise.all(cancels);\n              case 6:\n                _context.next = 8;\n                return sleep();\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_processTask\",\n    value: function _processTask() {\n      var _this3 = this;\n      this._currentTask = this._queue.shift();\n      if (!this._currentTask)\n        return;\n      if (this._currentTask.alive) {\n        this._alive.push(this._currentTask);\n      }\n      var req = this._currentTask.exec().catch(function(e) {\n      });\n      if (!(req && typeof req.finally === \"function\"))\n        return;\n      req.finally(function() {\n        var _this3$_currentTask, _this3$_alive;\n        if ((_this3$_currentTask = _this3._currentTask) !== null && _this3$_currentTask !== void 0 && _this3$_currentTask.alive && ((_this3$_alive = _this3._alive) === null || _this3$_alive === void 0 ? void 0 : _this3$_alive.length) > 0) {\n          _this3._alive = _this3._alive.filter(function(task) {\n            return task && task !== _this3._currentTask;\n          });\n        }\n        _this3._processTask();\n      });\n    }\n  }], [{\n    key: \"isFetchSupport\",\n    value: function isFetchSupport() {\n      return FetchLoader.isSupported();\n    }\n  }]);\n  return NetLoader2;\n}(EventEmitter);\nexport { NetLoader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, assertThisInitialized as _assertThisInitialized } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nvar MasterPlaylist = /* @__PURE__ */ _createClass(function MasterPlaylist2() {\n  _classCallCheck(this, MasterPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"streams\", []);\n  _defineProperty(this, \"isMaster\", true);\n});\nvar MediaType = {\n  Audio: \"AUDIO\",\n  Video: \"VIDEO\",\n  SubTitle: \"SUBTITLE\",\n  ClosedCaptions: \"CLOSED-CAPTIONS\"\n};\nvar KeySystems = {\n  CLEAR_KEY: \"org.w3.clearkey\",\n  FAIRPLAY: [\"urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2\", \"com.apple.streamingkeydelivery\"],\n  WIDEVINE: [\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\", \"com.widevine.alpha\", \"com.widevine\"],\n  PLAYREADY: [\"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\", \"com.microsoft.playready\"]\n};\nfunction flatArray(arr) {\n  var ret = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      ret = ret.concat(flatArray(arr[i]));\n    } else {\n      ret.push(arr[i]);\n    }\n  }\n  return ret;\n}\nvar MediaStream = /* @__PURE__ */ _createClass(function MediaStream2() {\n  _classCallCheck(this, MediaStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"default\", false);\n  _defineProperty(this, \"autoSelect\", false);\n  _defineProperty(this, \"forced\", false);\n  _defineProperty(this, \"group\", \"\");\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"lang\", \"\");\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"endSN\", 0);\n});\nvar AudioStream = /* @__PURE__ */ function(_MediaStream) {\n  _inherits(AudioStream2, _MediaStream);\n  var _super = _createSuper(AudioStream2);\n  function AudioStream2() {\n    var _this;\n    _classCallCheck(this, AudioStream2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"mediaType\", MediaType.Audio);\n    _defineProperty(_assertThisInitialized(_this), \"channels\", 0);\n    return _this;\n  }\n  return _createClass(AudioStream2);\n}(MediaStream);\nvar SubTitleStream = /* @__PURE__ */ function(_MediaStream3) {\n  _inherits(SubTitleStream2, _MediaStream3);\n  var _super3 = _createSuper(SubTitleStream2);\n  function SubTitleStream2() {\n    var _this3;\n    _classCallCheck(this, SubTitleStream2);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this3 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this3), \"mediaType\", MediaType.SubTitle);\n    return _this3;\n  }\n  return _createClass(SubTitleStream2);\n}(MediaStream);\nvar MasterStream = /* @__PURE__ */ _createClass(function MasterStream2() {\n  _classCallCheck(this, MasterStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"bitrate\", 0);\n  _defineProperty(this, \"width\", 0);\n  _defineProperty(this, \"height\", 0);\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"audioCodec\", \"\");\n  _defineProperty(this, \"videoCodec\", \"\");\n  _defineProperty(this, \"textCodec\", \"\");\n  _defineProperty(this, \"audioGroup\", \"\");\n  _defineProperty(this, \"audioStreams\", []);\n  _defineProperty(this, \"subtitleStreams\", []);\n  _defineProperty(this, \"closedCaptionsStream\", []);\n});\nvar MediaPlaylist = /* @__PURE__ */ _createClass(function MediaPlaylist2() {\n  _classCallCheck(this, MediaPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"type\", \"\");\n  _defineProperty(this, \"startCC\", 0);\n  _defineProperty(this, \"endCC\", 0);\n  _defineProperty(this, \"startSN\", 0);\n  _defineProperty(this, \"endSN\", 0);\n  _defineProperty(this, \"totalDuration\", 0);\n  _defineProperty(this, \"targetDuration\", 0);\n  _defineProperty(this, \"partTargetDuration\", 0);\n  _defineProperty(this, \"canSkipUntil\", 0);\n  _defineProperty(this, \"canSkipDateRanges\", false);\n  _defineProperty(this, \"skippedSegments\", 0);\n  _defineProperty(this, \"canBlockReload\", false);\n  _defineProperty(this, \"partHoldBack\", 0);\n  _defineProperty(this, \"live\", true);\n  _defineProperty(this, \"lowLatency\", false);\n  _defineProperty(this, \"endPartIndex\", 0);\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"dateRanges\", {});\n  _defineProperty(this, \"skippedSegments\", 0);\n});\nvar MediaSegment = /* @__PURE__ */ function() {\n  function MediaSegment2(parentUrl) {\n    _classCallCheck(this, MediaSegment2);\n    _defineProperty(this, \"sn\", 0);\n    _defineProperty(this, \"cc\", 0);\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"parentUrl\", \"\");\n    _defineProperty(this, \"title\", \"\");\n    _defineProperty(this, \"start\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"dataTime\", \"\");\n    _defineProperty(this, \"key\", null);\n    _defineProperty(this, \"byteRange\", null);\n    _defineProperty(this, \"isInitSegment\", false);\n    _defineProperty(this, \"initSegment\", null);\n    _defineProperty(this, \"isLast\", false);\n    _defineProperty(this, \"hasAudio\", false);\n    _defineProperty(this, \"hasVideo\", false);\n    _defineProperty(this, \"independent\", false);\n    _defineProperty(this, \"partIndex\", 0);\n    this.parentUrl = parentUrl;\n  }\n  _createClass(MediaSegment2, [{\n    key: \"end\",\n    get: function get() {\n      return this.start + this.duration;\n    }\n  }, {\n    key: \"setTrackExist\",\n    value: function setTrackExist(v, a) {\n      this.hasVideo = v;\n      this.hasAudio = a;\n    }\n  }, {\n    key: \"setByteRange\",\n    value: function setByteRange(data, prevSegment) {\n      this.byteRange = [0];\n      var bytes = data.split(\"@\");\n      if (bytes.length === 1 && prevSegment && prevSegment.byteRange) {\n        this.byteRange[0] = prevSegment.byteRange[1] || 0;\n        if (this.byteRange[0])\n          this.byteRange[0] += 1;\n      } else {\n        this.byteRange[0] = parseInt(bytes[1]);\n      }\n      this.byteRange[1] = this.byteRange[0] + parseInt(bytes[0]) - 1;\n    }\n  }]);\n  return MediaSegment2;\n}();\nvar MediaSegmentKey = /* @__PURE__ */ function() {\n  function MediaSegmentKey2(segKey) {\n    _classCallCheck(this, MediaSegmentKey2);\n    _defineProperty(this, \"method\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"iv\", null);\n    _defineProperty(this, \"keyFormat\", \"\");\n    _defineProperty(this, \"keyFormatVersions\", \"\");\n    if (segKey instanceof MediaSegmentKey2) {\n      this.method = segKey.method;\n      this.url = segKey.url;\n      this.keyFormat = segKey.keyFormat;\n      this.keyFormatVersions = segKey.keyFormatVersions;\n      if (segKey.iv)\n        this.iv = new Uint8Array(segKey.iv);\n    }\n  }\n  _createClass(MediaSegmentKey2, [{\n    key: \"clone\",\n    value: function clone(sn) {\n      var key = new MediaSegmentKey2(this);\n      if (sn !== null && sn !== void 0)\n        key.setIVFromSN(sn);\n      return key;\n    }\n  }, {\n    key: \"setIVFromSN\",\n    value: function setIVFromSN(sn) {\n      if (!this.iv && this.method === \"AES-128\" && typeof sn === \"number\" && this.url) {\n        this.iv = new Uint8Array(16);\n        for (var i = 12; i < 16; i++) {\n          this.iv[i] = sn >> 8 * (15 - i) & 255;\n        }\n      }\n    }\n  }, {\n    key: \"isSegmentEncrypted\",\n    value: function isSegmentEncrypted() {\n      var method = this.method;\n      return method === \"AES-128\";\n    }\n  }, {\n    key: \"isValidKeySystem\",\n    value: function isValidKeySystem() {\n      var isKeyFormatValid = flatArray([KeySystems.CLEAR_KEY, KeySystems.FAIRPLAY, KeySystems.WIDEVINE, KeySystems.PLAYREADY]).indexOf(this.keyFormat) > -1;\n      if (!isKeyFormatValid) {\n        return false;\n      }\n      var isMethodValid = [\"SAMPLE-AES\", \"SAMPLE-AES-CENC\", \"SAMPLE-AES-CTR\"].indexOf(this.method) > -1;\n      if (!isMethodValid) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      if (!this.method) {\n        return false;\n      }\n      if (this.isSegmentEncrypted()) {\n        return true;\n      } else if (this.isValidKeySystem()) {\n        return true;\n      }\n      return false;\n    }\n  }]);\n  return MediaSegmentKey2;\n}();\nexport { AudioStream, MasterPlaylist, MasterStream, MediaPlaylist, MediaSegment, MediaSegmentKey, MediaStream, SubTitleStream };\n","var REGEXP_TAG = /^#(EXT[^:]*)(?::(.*))?$/;\nvar REGEXP_ATTR = /([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;\nvar REGEXP_ABSOLUTE_URL = /^(?:[a-zA-Z0-9+\\-.]+:)?\\/\\//;\nvar REGEXP_URL_PAIR = /^((?:[a-zA-Z0-9+\\-.]+:)?\\/\\/[^/?#]*)?([^?#]*\\/)?/;\nfunction getLines(text) {\n  return text.split(/[\\r\\n]/).map(function(x) {\n    return x.trim();\n  }).filter(Boolean);\n}\nfunction parseTag(text) {\n  var ret = text.match(REGEXP_TAG);\n  if (!ret || !ret[1])\n    return;\n  return [ret[1].replace(\"EXT-X-\", \"\"), ret[2]];\n}\nfunction parseAttr(text) {\n  var ret = {};\n  var match = REGEXP_ATTR.exec(text);\n  while (match) {\n    ret[match[1]] = match[2] || match[3];\n    match = REGEXP_ATTR.exec(text);\n  }\n  return ret;\n}\nfunction getAbsoluteUrl(url, parentUrl) {\n  if (!parentUrl || !url || REGEXP_ABSOLUTE_URL.test(url))\n    return url;\n  var pairs = REGEXP_URL_PAIR.exec(parentUrl);\n  if (!pairs)\n    return url;\n  if (url[0] === \"/\")\n    return pairs[1] + url;\n  return pairs[1] + pairs[2] + url;\n}\nvar CODECS_REGEXP = {\n  audio: [/^mp4a/, /^vorbis$/, /^opus$/, /^flac$/, /^[ae]c-3$/],\n  video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/],\n  text: [/^vtt$/, /^wvtt/, /^stpp/]\n};\nfunction getCodecs(type, codecs) {\n  var re = CODECS_REGEXP[type];\n  if (!re || !codecs || !codecs.length)\n    return;\n  for (var i = 0; i < re.length; i++) {\n    for (var j = 0; j < codecs.length; j++) {\n      if (re[i].test(codecs[j]))\n        return codecs[j];\n    }\n  }\n}\nfunction isValidDaterange(attr, dateRangeWithSameId) {\n  var _badValueForSameId;\n  if (dateRangeWithSameId) {\n    for (var key in dateRangeWithSameId) {\n      if (Object.prototype.hasOwnProperty.call(dateRangeWithSameId, key) && attr[key] !== dateRangeWithSameId[key]) {\n        _badValueForSameId = key;\n        break;\n      }\n    }\n  }\n  var duration = null;\n  if (attr.DURATION) {\n    duration = parseFloat(attr.DURATION);\n    if (!Number.isFinite(duration)) {\n      duration = null;\n    } else if (attr._endDate) {\n      duration = (attr._endDate.getTime() - attr._startDate.getTime()) / 1e3;\n    }\n  }\n  var cue = enumeratedStringList(attr.CUE || attr[\"X-CUE\"], {\n    pre: false,\n    post: false,\n    once: false\n  });\n  return !!attr.ID && !_badValueForSameId && Number.isFinite(attr._startDate.getTime()) && (duration === null || duration >= 0) && (!(attr.END_ON_NEXT === \"YES\") || !!attr.CLASS) && (!attr.CUE || !cue.pre && !cue.post || cue.pre !== cue.post) && (!(attr.CLASS === \"com.apple.hls.interstitial\") || \"X-ASSET-URI\" in attr || \"X-ASSET-LIST\" in attr);\n}\nfunction enumeratedStringList(attrValue, dict) {\n  return (attrValue ? attrValue.split(/[ ,]+/) : []).reduce(function(result, identifier) {\n    result[identifier.toLowerCase()] = true;\n    return result;\n  }, dict);\n}\nexport { getAbsoluteUrl, getCodecs, getLines, isValidDaterange, parseAttr, parseTag };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MasterPlaylist, MediaStream, SubTitleStream, AudioStream, MasterStream } from \"./model.js\";\nimport { parseTag, parseAttr, getAbsoluteUrl, getCodecs } from \"./utils.js\";\nfunction parseMasterPlaylist(lines, parentUrl) {\n  var master = new MasterPlaylist();\n  var index = 0;\n  var line;\n  var audioStreams = [];\n  var subtitleStreams = [];\n  while (line = lines[index++]) {\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    if (name === \"VERSION\") {\n      master.version = parseInt(data);\n    } else if (name === \"MEDIA\" && data) {\n      var attr = parseAttr(data);\n      var stream = void 0;\n      switch (attr.TYPE) {\n        case \"AUDIO\":\n          stream = new AudioStream();\n          break;\n        case \"SUBTITLES\":\n          stream = new SubTitleStream();\n          break;\n        default:\n          stream = new MediaStream();\n      }\n      stream.url = getAbsoluteUrl(attr.URI, parentUrl);\n      stream.default = attr.DEFAULT === \"YES\";\n      stream.autoSelect = attr.AUTOSELECT === \"YES\";\n      stream.group = attr[\"GROUP-ID\"];\n      stream.name = attr.NAME;\n      stream.lang = attr.LANGUAGE;\n      if (attr.CHANNELS) {\n        stream.channels = Number(attr.CHANNELS.split(\"/\")[0]);\n        if (Number.isNaN(stream.channels))\n          stream.channels = 0;\n      }\n      if (attr.TYPE === \"AUDIO\" && attr.URI) {\n        audioStreams.push(stream);\n      }\n      if (attr.TYPE === \"SUBTITLES\") {\n        subtitleStreams.push(stream);\n      }\n    } else if (name === \"STREAM-INF\" && data) {\n      var _stream = new MasterStream();\n      var _attr = parseAttr(data);\n      _stream.bitrate = parseInt(_attr[\"AVERAGE-BANDWIDTH\"] || _attr.BANDWIDTH);\n      _stream.name = _attr.NAME;\n      _stream.url = getAbsoluteUrl(lines[index++], parentUrl);\n      if (_attr.RESOLUTION) {\n        var _attr$RESOLUTION$spli = _attr.RESOLUTION.split(\"x\"), _attr$RESOLUTION$spli2 = _slicedToArray(_attr$RESOLUTION$spli, 2), w = _attr$RESOLUTION$spli2[0], h = _attr$RESOLUTION$spli2[1];\n        _stream.width = parseInt(w);\n        _stream.height = parseInt(h);\n      }\n      if (_attr.CODECS) {\n        var codecs = _attr.CODECS.split(/[ ,]+/).filter(Boolean);\n        _stream.videoCodec = getCodecs(\"video\", codecs);\n        _stream.audioCodec = getCodecs(\"audio\", codecs);\n        _stream.textCodec = getCodecs(\"text\", codecs);\n      }\n      _stream.audioGroup = _attr.AUDIO;\n      _stream.subtitleGroup = _attr.SUBTITLES;\n      master.streams.push(_stream);\n    }\n  }\n  master.streams.forEach(function(s, i) {\n    s.id = i;\n  });\n  if (audioStreams.length) {\n    audioStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.audioGroup) {\n        stream2.audioStreams = audioStreams.filter(function(x) {\n          return x.group === stream2.audioGroup;\n        });\n      }\n    });\n  }\n  if (subtitleStreams.length) {\n    subtitleStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.subtitleGroup) {\n        stream2.subtitleStreams = subtitleStreams.filter(function(x) {\n          return x.group === stream2.subtitleGroup;\n        });\n      }\n    });\n  }\n  return master;\n}\nexport { parseMasterPlaylist };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MediaPlaylist, MediaSegment, MediaSegmentKey } from \"./model.js\";\nimport { getAbsoluteUrl, parseTag, parseAttr, isValidDaterange } from \"./utils.js\";\nfunction parseMediaPlaylist(lines, parentUrl, useLowLatency) {\n  var media = new MediaPlaylist();\n  media.url = parentUrl;\n  var curSegment = new MediaSegment(parentUrl);\n  var curInitSegment = null;\n  var curKey = null;\n  var totalDuration = 0;\n  var curSN = 0;\n  var curCC = 0;\n  var index = 0;\n  var line;\n  var endOfList = false;\n  var partSegmentIndex = 0;\n  while (line = lines[index++]) {\n    if (line[0] !== \"#\") {\n      if (media.lowLatency) {\n        curSN++;\n        continue;\n      }\n      curSegment.sn = curSN;\n      curSegment.cc = curCC;\n      curSegment.url = getAbsoluteUrl(line, parentUrl);\n      if (curKey)\n        curSegment.key = curKey.clone(curSN);\n      if (curInitSegment)\n        curSegment.initSegment = curInitSegment;\n      media.segments.push(curSegment);\n      curSegment = new MediaSegment(parentUrl);\n      curSN++;\n      continue;\n    }\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    switch (name) {\n      case \"VERSION\":\n        media.version = parseInt(data);\n        break;\n      case \"PLAYLIST-TYPE\":\n        media.type = data === null || data === void 0 ? void 0 : data.toUpperCase();\n        break;\n      case \"TARGETDURATION\":\n        media.targetDuration = parseFloat(data);\n        break;\n      case \"PART-INF\":\n        {\n          if (useLowLatency) {\n            media.lowLatency = true;\n          }\n          var attr = parseAttr(data);\n          if (attr[\"PART-TARGET\"]) {\n            media.partTargetDuration = parseFloat(attr[\"PART-TARGET\"]);\n          }\n        }\n        break;\n      case \"SERVER-CONTROL\":\n        {\n          var _attr = parseAttr(data);\n          media.canBlockReload = _attr[\"CAN-BLOCK-RELOAD\"] === \"YES\";\n          media.partHoldBack = parseFloat(_attr[\"PART-HOLD-BACK\"] || 0);\n          media.canSkipUntil = parseFloat(_attr[\"CAN-SKIP-UNTIL\"] || 0);\n          media.canSkipDateRanges = _attr[\"CAN-SKIP-DATERANGES\"] === \"YES\";\n        }\n        break;\n      case \"ENDLIST\":\n        {\n          endOfList = true;\n        }\n        break;\n      case \"MEDIA-SEQUENCE\":\n        curSN = media.startSN = parseInt(data);\n        break;\n      case \"DISCONTINUITY-SEQUENCE\":\n        curCC = media.startCC = parseInt(data);\n        break;\n      case \"DISCONTINUITY\":\n        curCC++;\n        break;\n      case \"BYTERANGE\":\n        curSegment.setByteRange(data, media.segments[media.segments.length - 1]);\n        break;\n      case \"PART\":\n        {\n          if (!media.lowLatency)\n            break;\n          var _attr2 = parseAttr(data);\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          curSegment.independent = _attr2[\"INDEPENDENT\"] === \"YES\";\n          curSegment.sn = curSN;\n          curSegment.cc = curCC;\n          curSegment.partIndex = partSegmentIndex;\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          totalDuration += curSegment.duration;\n          curSegment.url = getAbsoluteUrl(_attr2[\"URI\"], parentUrl);\n          if (curKey)\n            curSegment.key = curKey.clone(curSN);\n          if (curInitSegment)\n            curSegment.initSegment = curInitSegment;\n          media.segments.push(curSegment);\n          curSegment = new MediaSegment(parentUrl);\n          partSegmentIndex++;\n        }\n        break;\n      case \"PRELOAD-HINT\":\n        break;\n      case \"PROGRAM-DATE-TIME\":\n        curSegment.dataTime = data;\n        break;\n      case \"EXTINF\":\n        {\n          if (media.lowLatency) {\n            partSegmentIndex = 0;\n            break;\n          }\n          var _data$split = data.split(\",\"), _data$split2 = _slicedToArray(_data$split, 2), duration = _data$split2[0], title = _data$split2[1];\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(duration);\n          totalDuration += curSegment.duration;\n          curSegment.title = title;\n        }\n        break;\n      case \"KEY\":\n        {\n          var _attr3 = parseAttr(data);\n          if (_attr3.METHOD === \"NONE\") {\n            curKey = null;\n            break;\n          }\n          curKey = new MediaSegmentKey();\n          curKey.method = _attr3.METHOD;\n          curKey.url = /^blob:/.test(_attr3.URI) ? _attr3.URI : getAbsoluteUrl(_attr3.URI, parentUrl);\n          curKey.keyFormat = _attr3.KEYFORMAT || \"identity\";\n          curKey.keyFormatVersions = _attr3.KEYFORMATVERSIONS;\n          if (!curKey.isSupported()) {\n            throw new Error(\"encrypt \".concat(_attr3.METHOD, \"/\").concat(_attr3.KEYFORMAT, \" is not supported\"));\n          }\n          if (_attr3.IV) {\n            var str = _attr3.IV.slice(2);\n            str = (str.length & 1 ? \"0\" : \"\") + str;\n            curKey.iv = new Uint8Array(str.length / 2);\n            for (var i = 0, l = str.length / 2; i < l; i++) {\n              curKey.iv[i] = parseInt(str.slice(i * 2, i * 2 + 2), 16);\n            }\n          }\n        }\n        break;\n      case \"MAP\":\n        {\n          var _attr4 = parseAttr(data);\n          curSegment.url = getAbsoluteUrl(_attr4.URI, parentUrl);\n          if (_attr4.BYTERANGE)\n            curSegment.setByteRange(_attr4.BYTERANGE);\n          curSegment.isInitSegment = true;\n          curSegment.sn = 0;\n          if (curKey) {\n            curSegment.key = curKey.clone(0);\n          }\n          curInitSegment = curSegment;\n          curSegment = new MediaSegment(parentUrl);\n        }\n        break;\n      case \"SKIP\":\n        {\n          var _attr5 = parseAttr(data);\n          var skippedSegments = parseInt(_attr5[\"SKIPPED-SEGMENTS\"], 10);\n          if (skippedSegments <= Number.MAX_SAFE_INTEGER) {\n            media.skippedSegments += skippedSegments;\n          }\n        }\n        break;\n      case \"DATERANGE\":\n        {\n          var _attr6 = parseAttr(data);\n          var dateRangeWithSameId = media.dateRanges[_attr6.ID];\n          _attr6._startDate = dateRangeWithSameId ? dateRangeWithSameId._startDate : new Date(_attr6[\"START-DATE\"]);\n          var endDate = (dateRangeWithSameId === null || dateRangeWithSameId === void 0 ? void 0 : dateRangeWithSameId._endDate) || new Date(_attr6.END_DATE);\n          if (Number.isFinite(endDate)) {\n            _attr6._endDate = endDate;\n          }\n          if (isValidDaterange(_attr6, dateRangeWithSameId) || media.skippedSegments) {\n            media.dateRanges[_attr6.ID] = _attr6;\n          }\n        }\n        break;\n    }\n  }\n  media.segments = media.segments.filter(function(x) {\n    return x.duration !== 0;\n  });\n  var lastSegment = media.segments[media.segments.length - 1];\n  if (lastSegment) {\n    if (endOfList) {\n      lastSegment.isLast = true;\n    }\n    media.endSN = lastSegment.sn;\n    media.endPartIndex = lastSegment.partIndex;\n  }\n  if (endOfList) {\n    media.live = false;\n  }\n  media.totalDuration = totalDuration;\n  media.endCC = curCC;\n  return media;\n}\nexport { parseMediaPlaylist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { parseMasterPlaylist } from \"./master.js\";\nimport { parseMediaPlaylist } from \"./media.js\";\nimport { getLines } from \"./utils.js\";\nvar M3U8Parser = /* @__PURE__ */ function() {\n  function M3U8Parser2() {\n    _classCallCheck(this, M3U8Parser2);\n  }\n  _createClass(M3U8Parser2, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n      var parentUrl = arguments.length > 1 ? arguments[1] : void 0;\n      var useLowLatency = arguments.length > 2 ? arguments[2] : void 0;\n      if (!text.includes(\"#EXTM3U\"))\n        throw new Error(\"Invalid m3u8 file\");\n      var lines = getLines(text);\n      if (M3U8Parser2.isMediaPlaylist(text)) {\n        return parseMediaPlaylist(lines, parentUrl, useLowLatency);\n      }\n      return parseMasterPlaylist(lines, parentUrl);\n    }\n  }, {\n    key: \"isMediaPlaylist\",\n    value: function isMediaPlaylist(text) {\n      return text.includes(\"#EXTINF:\") || text.includes(\"#EXT-X-TARGETDURATION:\");\n    }\n  }]);\n  return M3U8Parser2;\n}();\nexport { M3U8Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, NetLoader, ERR } from \"xgplayer-streaming-shared\";\nimport { M3U8Parser } from \"./parser/index.js\";\nimport { Event } from \"../constants.js\";\nvar ManifestLoader = /* @__PURE__ */ function() {\n  function ManifestLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, ManifestLoader2);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(Event.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._timer = null;\n    this._useLowLatency = hls.config.useLowLatency;\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, manifestLoadTimeout = _this$hls$config.manifestLoadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._loader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._subtitleLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(ManifestLoader2, [{\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(url, audioUrl, subtitleUrl) {\n        var toLoad, videoText, audioText, subtitleText, videoResUrl, audioResUrl, subtitleResUrl, _yield$Promise$all, _yield$Promise$all2, video, audio, subtitle, _audio$response, _subtitle$response, _audio$response2, onPreM3U8Parse, playlist, audioPlaylist, subtitlePlaylist, _playlist;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [this._loader.load(url)];\n                if (audioUrl) {\n                  toLoad.push(this._audioLoader.load(audioUrl));\n                }\n                if (subtitleUrl) {\n                  toLoad.push(this._subtitleLoader.load(subtitleUrl));\n                }\n                _context.prev = 3;\n                _context.next = 6;\n                return Promise.all(toLoad);\n              case 6:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                video = _yield$Promise$all2[0];\n                audio = _yield$Promise$all2[1];\n                subtitle = _yield$Promise$all2[2];\n                if (video) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\", []);\n              case 13:\n                this._emitOnLoaded(video, url);\n                videoText = video.data;\n                videoResUrl = video.response.url || url;\n                if (audioUrl) {\n                  audioText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleText = subtitle === null || subtitle === void 0 ? void 0 : subtitle.data;\n                  audioResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response = audio.response) === null || _audio$response === void 0 ? void 0 : _audio$response.url) || audioUrl;\n                  subtitleResUrl = (subtitle === null || subtitle === void 0 ? void 0 : (_subtitle$response = subtitle.response) === null || _subtitle$response === void 0 ? void 0 : _subtitle$response.url) || subtitleUrl;\n                  audioText && this._emitOnLoaded(audio, audioUrl);\n                  subtitleText && this._emitOnLoaded(subtitle, subtitleUrl);\n                } else {\n                  subtitleText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response2 = audio.response) === null || _audio$response2 === void 0 ? void 0 : _audio$response2.url) || subtitleUrl;\n                  subtitleText && this._emitOnLoaded(audio, subtitleUrl);\n                }\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](3);\n                throw StreamingError.network(_context.t0);\n              case 22:\n                onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n                _context.prev = 23;\n                if (onPreM3U8Parse) {\n                  videoText = onPreM3U8Parse(videoText) || videoText;\n                  if (audioText)\n                    audioText = onPreM3U8Parse(audioText, true) || audioText;\n                  if (subtitleText)\n                    subtitleText = onPreM3U8Parse(subtitleText, true) || subtitleText;\n                }\n                playlist = M3U8Parser.parse(videoText, videoResUrl, this._useLowLatency);\n                if (!(((_playlist = playlist) === null || _playlist === void 0 ? void 0 : _playlist.live) === false && playlist.segments && !playlist.segments.length)) {\n                  _context.next = 28;\n                  break;\n                }\n                throw new Error(\"empty segments list\");\n              case 28:\n                if (audioText) {\n                  audioPlaylist = M3U8Parser.parse(audioText, audioResUrl, this._useLowLatency);\n                }\n                if (subtitleText) {\n                  subtitlePlaylist = M3U8Parser.parse(subtitleText, subtitleResUrl, this._useLowLatency);\n                }\n                _context.next = 35;\n                break;\n              case 32:\n                _context.prev = 32;\n                _context.t1 = _context[\"catch\"](23);\n                throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, _context.t1);\n              case 35:\n                if (playlist) {\n                  if (playlist.isMaster) {\n                    this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n                      playlist\n                    });\n                  } else {\n                    this.hls.emit(Event.HLS_LEVEL_LOADED, {\n                      playlist\n                    });\n                  }\n                }\n                return _context.abrupt(\"return\", [playlist, audioPlaylist, subtitlePlaylist]);\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this, [[3, 19], [23, 32]]);\n      }));\n      function load(_x, _x2, _x3) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"parseText\",\n    value: function parseText(videoText, url) {\n      var onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n      var playlist;\n      try {\n        var _playlist2;\n        if (onPreM3U8Parse) {\n          videoText = onPreM3U8Parse(videoText) || videoText;\n        }\n        playlist = M3U8Parser.parse(videoText, url, this._useLowLatency);\n        if (((_playlist2 = playlist) === null || _playlist2 === void 0 ? void 0 : _playlist2.live) === false && playlist.segments && !playlist.segments.length) {\n          throw new Error(\"empty segments list\");\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, error);\n      }\n      if (playlist) {\n        if (playlist.isMaster) {\n          this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n            playlist\n          });\n        } else {\n          this.hls.emit(Event.HLS_LEVEL_LOADED, {\n            playlist\n          });\n        }\n      }\n      return [playlist];\n    }\n  }, {\n    key: \"poll\",\n    value: function poll(url, audioUrl, subtitleUrl, cb, errorCb, time) {\n      var _this2 = this;\n      clearTimeout(this._timer);\n      time = time || 3e3;\n      var retryCount = this.hls.config.pollRetryCount;\n      var fn = /* @__PURE__ */ function() {\n        var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1)\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  clearTimeout(_this2._timer);\n                  _context2.prev = 1;\n                  _context2.next = 4;\n                  return _this2.load(url, audioUrl, subtitleUrl);\n                case 4:\n                  res = _context2.sent;\n                  if (res[0]) {\n                    _context2.next = 7;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 7:\n                  retryCount = _this2.hls.config.pollRetryCount;\n                  cb(res[0], res[1], res[2]);\n                  _context2.next = 15;\n                  break;\n                case 11:\n                  _context2.prev = 11;\n                  _context2.t0 = _context2[\"catch\"](1);\n                  retryCount--;\n                  if (retryCount <= 0) {\n                    errorCb(_context2.t0);\n                  }\n                case 15:\n                  _this2._timer = setTimeout(fn, time);\n                case 16:\n                case \"end\":\n                  return _context2.stop();\n              }\n          }, _callee2, null, [[1, 11]]);\n        }));\n        return function fn2() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n      this._timer = setTimeout(fn, time);\n    }\n  }, {\n    key: \"stopPoll\",\n    value: function stopPoll() {\n      clearTimeout(this._timer);\n      return this.cancel();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      return Promise.all([this._loader.cancel(), this._audioLoader.cancel()]);\n    }\n  }]);\n  return ManifestLoader2;\n}();\nexport { ManifestLoader };\n","function clamp(num, min, max) {\n  if (min > max) {\n    max = min;\n  }\n  return Math.min(Math.max(num, min), max);\n}\nexport { clamp };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger } from \"xgplayer-streaming-shared\";\nvar logger = new Logger(\"playlist\");\nvar Stream = /* @__PURE__ */ function() {\n  function Stream2(playlist, audioPlaylist, subtitlePlaylist) {\n    _classCallCheck(this, Stream2);\n    _defineProperty(this, \"live\", void 0);\n    _defineProperty(this, \"id\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"name\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"textCodec\", \"\");\n    _defineProperty(this, \"startCC\", 0);\n    _defineProperty(this, \"endCC\", 0);\n    _defineProperty(this, \"startSN\", 0);\n    _defineProperty(this, \"endSN\", -1);\n    _defineProperty(this, \"totalDuration\", 0);\n    _defineProperty(this, \"targetDuration\", 0);\n    _defineProperty(this, \"partTargetDuration\", 0);\n    _defineProperty(this, \"canSkipUntil\", 0);\n    _defineProperty(this, \"canSkipDateRanges\", false);\n    _defineProperty(this, \"skippedSegments\", 0);\n    _defineProperty(this, \"canBlockReload\", false);\n    _defineProperty(this, \"partHoldBack\", 0);\n    _defineProperty(this, \"lowLatency\", false);\n    _defineProperty(this, \"endPartIndex\", 0);\n    _defineProperty(this, \"snDiff\", null);\n    _defineProperty(this, \"segments\", []);\n    _defineProperty(this, \"audioStreams\", []);\n    _defineProperty(this, \"subtitleStreams\", []);\n    _defineProperty(this, \"closedCaptions\", []);\n    _defineProperty(this, \"currentAudioStream\", null);\n    _defineProperty(this, \"currentSubtitleStream\", null);\n    this.update(this._setLLPlaybackPoint(playlist), audioPlaylist, subtitlePlaylist);\n  }\n  _createClass(Stream2, [{\n    key: \"lastSegment\",\n    get: function get() {\n      if (this.segments.length) {\n        return this.segments[this.segments.length - 1];\n      }\n      return null;\n    }\n  }, {\n    key: \"segmentDuration\",\n    get: function get() {\n      var _this$segments$;\n      return this.targetDuration || ((_this$segments$ = this.segments[0]) === null || _this$segments$ === void 0 ? void 0 : _this$segments$.duration) || 0;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      return this.endTime;\n    },\n    set: function set(end) {\n      this.endTime = end;\n    }\n  }, {\n    key: \"endTime\",\n    get: function get() {\n      var _this$lastSegment;\n      return ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.end) || 0;\n    },\n    set: function set(end) {\n      var lastSeg = this.lastSegment;\n      if (lastSeg)\n        lastSeg.duration = end - lastSeg.start;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentSubtitle;\n      return ((_this$currentSubtitle = this.currentSubtitleStream) === null || _this$currentSubtitle === void 0 ? void 0 : _this$currentSubtitle.endSN) || 0;\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment(startTime, pointer) {\n      if (this.currentAudioStream) {\n        this._clearSegments(startTime, pointer);\n      }\n      return this._clearSegments(startTime, pointer);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      if (!seg || !this.currentAudioStream)\n        return;\n      var sn = seg.sn - this.snDiff;\n      return this.currentAudioStream.segments.find(function(x) {\n        return x.sn === sn;\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(playlist, audioPlaylist) {\n      this.url = playlist.url;\n      if (Array.isArray(playlist.segments)) {\n        if (this.live === null || this.live === void 0)\n          this.live = playlist.live;\n        this._updateSegments(playlist, this);\n        this.startCC = playlist.startCC;\n        this.endCC = playlist.endCC;\n        this.startSN = playlist.startSN;\n        this.endSN = playlist.endSN || -1;\n        this.totalDuration = playlist.totalDuration;\n        this.targetDuration = playlist.targetDuration;\n        this.live = playlist.live;\n        this.lowLatency = playlist.lowLatency;\n        this.canBlockReload = playlist.canBlockReload;\n        this.canSkipDateRanges = playlist.canSkipDateRanges;\n        this.canSkipUntil = playlist.canSkipUntil;\n        this.partHoldBack = playlist.partHoldBack;\n        this.partTargetDuration = playlist.partTargetDuration;\n        this.skippedSegments = playlist.skippedSegments;\n        this.endPartIndex = playlist.endPartIndex;\n        if (audioPlaylist && this.currentAudioStream && Array.isArray(audioPlaylist.segments)) {\n          this._updateSegments(audioPlaylist, this.currentAudioStream);\n          if ((this.snDiff === null || this.snDiff === void 0) && playlist.segments.length && audioPlaylist.segments.length) {\n            this.snDiff = playlist.segments[0].sn - audioPlaylist.segments[0].sn;\n          }\n        }\n      } else {\n        this.id = playlist.id;\n        this.bitrate = playlist.bitrate;\n        this.width = playlist.width;\n        this.height = playlist.height;\n        this.name = playlist.name;\n        this.audioCodec = playlist.audioCodec;\n        this.videoCodec = playlist.videoCodec;\n        this.textCodec = playlist.textCodec;\n        this.audioStreams = playlist.audioStreams;\n        this.subtitleStreams = playlist.subtitleStreams;\n        if (!this.currentAudioStream && this.audioStreams.length) {\n          this.currentAudioStream = this.audioStreams.find(function(x) {\n            return x.default;\n          }) || this.audioStreams[0];\n        }\n        if (!this.currentSubtitleStream && this.subtitleStreams.length) {\n          this.currentSubtitleStream = this.subtitleStreams.find(function(x) {\n            return x.default;\n          }) || this.subtitleStreams[0];\n        }\n      }\n    }\n  }, {\n    key: \"updateSubtitle\",\n    value: function updateSubtitle(subtitlePlaylist) {\n      var _this = this;\n      if (!(subtitlePlaylist && this.currentSubtitleStream && Array.isArray(subtitlePlaylist.segments)))\n        return;\n      var newSegs = this._updateSegments(subtitlePlaylist, this.currentSubtitleStream);\n      var segs = this.currentSubtitleStream.segments;\n      if (segs.length > 100) {\n        this.currentSubtitleStream.segments = segs.slice(100);\n      }\n      if (!newSegs)\n        return;\n      return newSegs.map(function(x) {\n        return {\n          sn: x.sn,\n          url: x.url,\n          duration: x.duration,\n          start: x.start,\n          end: x.end,\n          lang: _this.currentSubtitleStream.lang\n        };\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var toSwitch = this.subtitleStreams.find(function(x) {\n        return x.lang === lang;\n      });\n      var origin = this.currentSubtitleStream;\n      if (toSwitch) {\n        this.currentSubtitleStream = toSwitch;\n        origin.segments = [];\n      }\n    }\n  }, {\n    key: \"_setLLPlaybackPoint\",\n    value: function _setLLPlaybackPoint(playlist) {\n      if (!playlist.lowLatency || !playlist.segments.length)\n        return playlist;\n      var maxStartPoint = playlist.totalDuration - playlist.partHoldBack;\n      var segs = playlist.segments;\n      var index = 0;\n      for (var i = 0, l = segs.length; i < l; i++) {\n        if (segs[i].start <= maxStartPoint && segs[i].independent) {\n          index = i;\n        }\n      }\n      var usefulSegs = segs.slice(index);\n      var endTime = 0;\n      usefulSegs.forEach(function(s) {\n        s.start = endTime;\n        endTime = s.end;\n      });\n      playlist.segments = usefulSegs;\n      playlist.totalDuration = endTime;\n      playlist.startSN = usefulSegs[0].sn;\n      playlist.startCC = usefulSegs[0].cc;\n      logger.log(\"set ll-hls playback point: SN=\".concat(playlist.startSN, \" partIndex=\").concat(usefulSegs[0].partIndex, \", duration=\").concat(endTime));\n      return playlist;\n    }\n  }, {\n    key: \"_clearSegments\",\n    value: function _clearSegments(startTime, pointer) {\n      var sliceStart = 0;\n      var segments = this.segments;\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].end >= startTime) {\n          sliceStart = i;\n          break;\n        }\n      }\n      if (sliceStart > pointer) {\n        sliceStart = pointer;\n      }\n      if (sliceStart) {\n        this.segments = this.segments.slice(sliceStart);\n        if (this.currentAudioStream) {\n          this.currentAudioStream.segments = this.currentAudioStream.segments.slice(sliceStart);\n        }\n      }\n      return pointer - sliceStart;\n    }\n  }, {\n    key: \"_updateSegments\",\n    value: function _updateSegments(playlist, segObj) {\n      var segments = segObj.segments;\n      if (this.live) {\n        var _endSeg$sn;\n        var lowLatency = playlist.lowLatency;\n        var endSeg = segments[segments.length - 1];\n        var endSN = (_endSeg$sn = endSeg === null || endSeg === void 0 ? void 0 : endSeg.sn) !== null && _endSeg$sn !== void 0 ? _endSeg$sn : -1;\n        var endPartIndex = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.partIndex) || 0;\n        var hasNew = endSN < playlist.endSN && playlist.segments.length;\n        if (lowLatency) {\n          hasNew = hasNew || endPartIndex < playlist.endPartIndex;\n        }\n        if (hasNew) {\n          logger.log(\"update segments: endSN:\".concat(endSN, \", partIndex:\").concat(endPartIndex, \" --> endSN:\").concat(playlist.endSN, \", partIndex:\").concat(playlist.endPartIndex));\n          var index = playlist.segments.findIndex(function(x) {\n            return x.sn === endSN && x.partIndex === endPartIndex;\n          });\n          var toAppend = index < 0 ? playlist.segments : playlist.segments.slice(index + 1);\n          if (segments.length && toAppend.length) {\n            var endTime = endSeg.end;\n            var endTimeBeforeAppend = endTime;\n            toAppend.forEach(function(seg) {\n              seg.start = endTime;\n              endTime = seg.end;\n            });\n            logger.log(\"liveEdge: \".concat(endTimeBeforeAppend, \" -> \").concat(endTime));\n            var lastCC = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.cc) || -1;\n            if (lastCC > toAppend[0].cc) {\n              toAppend.forEach(function(seg) {\n                return seg.cc += lastCC;\n              });\n            }\n          }\n          segObj.endSN = playlist.endSN;\n          segObj.segments = segments.concat(toAppend);\n          return toAppend;\n        }\n      } else {\n        segObj.segments = playlist.segments;\n      }\n    }\n  }]);\n  return Stream2;\n}();\nexport { Stream };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { clamp } from \"../utils.js\";\nimport { Stream } from \"./stream.js\";\nimport { Event } from \"../constants.js\";\nvar Playlist = /* @__PURE__ */ function() {\n  function Playlist2(hls) {\n    _classCallCheck(this, Playlist2);\n    _defineProperty(this, \"streams\", []);\n    _defineProperty(this, \"currentStream\", null);\n    _defineProperty(this, \"dvrWindow\", 0);\n    _defineProperty(this, \"_segmentPointer\", -1);\n    this.hls = hls;\n  }\n  _createClass(Playlist2, [{\n    key: \"lowLatency\",\n    get: function get() {\n      var _this$currentStream;\n      return (_this$currentStream = this.currentStream) === null || _this$currentStream === void 0 ? void 0 : _this$currentStream.lowLatency;\n    }\n  }, {\n    key: \"lastSegment\",\n    get: function get() {\n      var _this$currentStream2;\n      return (_this$currentStream2 = this.currentStream) === null || _this$currentStream2 === void 0 ? void 0 : _this$currentStream2.lastSegment;\n    }\n  }, {\n    key: \"currentSegment\",\n    get: function get() {\n      var _this$currentSegments;\n      return (_this$currentSegments = this.currentSegments) === null || _this$currentSegments === void 0 ? void 0 : _this$currentSegments[this._segmentPointer];\n    }\n  }, {\n    key: \"nextSegment\",\n    get: function get() {\n      var _this$currentSegments2;\n      return (_this$currentSegments2 = this.currentSegments) === null || _this$currentSegments2 === void 0 ? void 0 : _this$currentSegments2[this._segmentPointer + 1];\n    }\n  }, {\n    key: \"currentSegments\",\n    get: function get() {\n      var _this$currentStream3;\n      return (_this$currentStream3 = this.currentStream) === null || _this$currentStream3 === void 0 ? void 0 : _this$currentStream3.segments;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentStream4;\n      return (_this$currentStream4 = this.currentStream) === null || _this$currentStream4 === void 0 ? void 0 : _this$currentStream4.currentSubtitleEndSn;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      var _this$currentStream5;\n      return (_this$currentStream5 = this.currentStream) === null || _this$currentStream5 === void 0 ? void 0 : _this$currentStream5.liveEdge;\n    },\n    set: function set(end) {\n      if (this.currentStream) {\n        this.currentStream.liveEdge = end;\n      }\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      var _this$currentStream6;\n      return ((_this$currentStream6 = this.currentStream) === null || _this$currentStream6 === void 0 ? void 0 : _this$currentStream6.totalDuration) || 0;\n    }\n  }, {\n    key: \"seekRange\",\n    get: function get() {\n      var segments = this.currentSegments;\n      if (!segments || !segments.length)\n        return;\n      return [segments[0].start, segments[segments.length - 1].end];\n    }\n  }, {\n    key: \"nbSegments\",\n    get: function get() {\n      var _this$currentSegments3;\n      return ((_this$currentSegments3 = this.currentSegments) === null || _this$currentSegments3 === void 0 ? void 0 : _this$currentSegments3.length) || 0;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      var _this$currentSegments4;\n      return !((_this$currentSegments4 = this.currentSegments) !== null && _this$currentSegments4 !== void 0 && _this$currentSegments4.length);\n    }\n  }, {\n    key: \"isLive\",\n    get: function get() {\n      var _this$currentStream7;\n      return (_this$currentStream7 = this.currentStream) === null || _this$currentStream7 === void 0 ? void 0 : _this$currentStream7.live;\n    }\n  }, {\n    key: \"hadSegmentLoaded\",\n    get: function get() {\n      return this._segmentPointer !== -1;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      var _this$currentStream8;\n      return !!((_this$currentStream8 = this.currentStream) !== null && _this$currentStream8 !== void 0 && _this$currentStream8.currentSubtitleStream);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      var _this$currentStream9;\n      return (_this$currentStream9 = this.currentStream) === null || _this$currentStream9 === void 0 ? void 0 : _this$currentStream9.getAudioSegment(seg);\n    }\n  }, {\n    key: \"moveSegmentPointer\",\n    value: function moveSegmentPointer(pos) {\n      var _this$currentSegments5;\n      if (pos === null || pos === void 0)\n        pos = this._segmentPointer + 1;\n      this._segmentPointer = clamp(pos, -1, (_this$currentSegments5 = this.currentSegments) === null || _this$currentSegments5 === void 0 ? void 0 : _this$currentSegments5.length);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.streams = [];\n      this.currentStream = null;\n      this.dvrWindow = 0;\n      this._segmentPointer = -1;\n    }\n  }, {\n    key: \"getSegmentByIndex\",\n    value: function getSegmentByIndex(index) {\n      var _this$currentSegments6;\n      return (_this$currentSegments6 = this.currentSegments) === null || _this$currentSegments6 === void 0 ? void 0 : _this$currentSegments6[index];\n    }\n  }, {\n    key: \"setNextSegmentByIndex\",\n    value: function setNextSegmentByIndex() {\n      var index = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      this._segmentPointer = index - 1;\n    }\n  }, {\n    key: \"setNextSegmentBySN\",\n    value: function setNextSegmentBySN() {\n      var _this$currentSegments7;\n      var sn = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var preIndex = (_this$currentSegments7 = this.currentSegments) === null || _this$currentSegments7 === void 0 ? void 0 : _this$currentSegments7.findIndex(function(x) {\n        return x.sn === sn;\n      });\n      if (preIndex !== -1) {\n        this.setNextSegmentByIndex(preIndex + 1);\n      }\n      return preIndex;\n    }\n  }, {\n    key: \"findSegmentIndexByTime\",\n    value: function findSegmentIndexByTime(time) {\n      var segments = this.currentSegments;\n      if (segments) {\n        for (var i = 0, l = segments.length, seg; i < l; i++) {\n          seg = segments[i];\n          if (time >= seg.start && time < seg.end) {\n            return i;\n          }\n        }\n        var lastSegment = segments[segments.length - 1];\n        if (Math.abs(time - (lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.end)) < 0.2)\n          return segments.length - 1;\n      }\n    }\n  }, {\n    key: \"upsertPlaylist\",\n    value: function upsertPlaylist(playlist, audioPlaylist, subtitlePlaylist) {\n      var _this = this;\n      if (!playlist)\n        return;\n      if (playlist.isMaster) {\n        this.streams.length = playlist.streams.length;\n        playlist.streams.filter(function(x) {\n          return x.url;\n        }).forEach(function(stream2, i) {\n          if (_this.streams[i]) {\n            _this.streams[i].update(stream2);\n          } else {\n            _this.streams[i] = new Stream(stream2);\n          }\n        });\n        this.currentStream = this.streams[0];\n      } else if (Array.isArray(playlist.segments)) {\n        var stream = this.currentStream;\n        if (stream) {\n          stream.update(playlist, audioPlaylist, subtitlePlaylist);\n          var newSubtitleSegs = stream.updateSubtitle(subtitlePlaylist);\n          if (newSubtitleSegs) {\n            this.hls.emit(Event.SUBTITLE_SEGMENTS, {\n              list: newSubtitleSegs\n            });\n          }\n        } else {\n          this.reset();\n          this.currentStream = this.streams[0] = new Stream(playlist, audioPlaylist, subtitlePlaylist);\n        }\n      }\n      var currentStream = this.currentStream;\n      if (currentStream) {\n        if (this.hls.isLive && !this.dvrWindow) {\n          this.dvrWindow = this.currentSegments.reduce(function(a, c) {\n            a += c.duration;\n            return a;\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"updateSegmentsRanges\",\n    value: function updateSegmentsRanges(sn, start) {\n      var _this$currentSegments8;\n      var segs = (_this$currentSegments8 = this.currentSegments) === null || _this$currentSegments8 === void 0 ? void 0 : _this$currentSegments8.filter(function(x) {\n        return x.sn >= sn;\n      });\n      segs.forEach(function(s) {\n        s.start = start;\n        start = s.end;\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var _this$currentStream10;\n      (_this$currentStream10 = this.currentStream) === null || _this$currentStream10 === void 0 ? void 0 : _this$currentStream10.switchSubtitle(lang);\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment() {\n      var maxPlaylistSize = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 50;\n      var stream = this.currentStream;\n      if (!this.dvrWindow || !stream)\n        return;\n      var startTime = stream.endTime - this.dvrWindow;\n      if (startTime <= 0)\n        return;\n      var segments = stream.segments;\n      if (segments.length <= maxPlaylistSize)\n        return;\n      this._segmentPointer = stream.clearOldSegment(startTime, this._segmentPointer);\n    }\n  }, {\n    key: \"checkSegmentTrackChange\",\n    value: function checkSegmentTrackChange(cTime, nbSb) {\n      var index = this.findSegmentIndexByTime(cTime);\n      var seg = this.getSegmentByIndex(index);\n      if (!seg)\n        return;\n      if (!seg.hasAudio && !seg.hasVideo)\n        return;\n      if (nbSb !== 2 && seg.hasAudio && seg.hasVideo)\n        return seg;\n      if (seg.end - cTime > 0.3)\n        return;\n      var next = this.getSegmentByIndex(index + 1);\n      if (!next)\n        return;\n      if (!next.hasAudio && !next.hasVideo)\n        return;\n      if (next.hasAudio !== seg.hasAudio || next.hasVideo !== seg.hasVideo)\n        return next;\n    }\n  }, {\n    key: \"feedbackLiveEdge\",\n    value: function feedbackLiveEdge(segment, bufferEnd) {\n      var _this$lastSegment;\n      var segs = this.currentSegments;\n      if (!segs)\n        return;\n      var isLast = ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.sn) === segment.sn;\n      if (isLast) {\n        this.liveEdge = bufferEnd;\n        return;\n      }\n      this.updateSegmentsRanges(segment.sn + 1, bufferEnd);\n    }\n  }]);\n  return Playlist2;\n}();\nexport { Playlist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar SKIP_SMALL_CHUNK = 1e3;\nvar MAX_CHUNK_SAVE_SIZE = 50;\nvar MAX_SEGMENT_SAVE_SIZE = 3;\nvar LONGTIME_NO_RECEIVE = 3e3;\nvar BandwidthService = /* @__PURE__ */ function() {\n  function BandwidthService2(opts) {\n    _classCallCheck(this, BandwidthService2);\n    _defineProperty(this, \"_chunkSpeed\", 0);\n    _defineProperty(this, \"_chunkCache\", []);\n    _defineProperty(this, \"_speeds\", []);\n    _defineProperty(this, \"_totalSize\", 0);\n    _defineProperty(this, \"_totalCost\", 0);\n    this._opts = opts || {};\n  }\n  _createClass(BandwidthService2, [{\n    key: \"addRecord\",\n    value: function addRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._speeds.push(8e3 * totalByte / ms);\n      this._speeds = this._speeds.slice(-MAX_SEGMENT_SAVE_SIZE);\n    }\n  }, {\n    key: \"addChunkRecord\",\n    value: function addChunkRecord(totalByte, ms) {\n      var _this$_opts, _this$_opts2;\n      if (!totalByte || !ms || totalByte < (((_this$_opts = this._opts) === null || _this$_opts === void 0 ? void 0 : _this$_opts.skipChunkSize) || SKIP_SMALL_CHUNK))\n        return;\n      this._totalSize += totalByte;\n      this._totalCost += ms;\n      this._chunkSpeed = 8e3 * totalByte / ms;\n      this._chunkCache.push({\n        size: totalByte,\n        duration: ms,\n        timestamp: performance.now()\n      });\n      var size = ((_this$_opts2 = this._opts) === null || _this$_opts2 === void 0 ? void 0 : _this$_opts2.chunkCountForSpeed) || MAX_CHUNK_SAVE_SIZE;\n      if (this._chunkCache.length > size) {\n        this._chunkCache = this._chunkCache.slice(-size);\n      }\n    }\n  }, {\n    key: \"getAvgSpeed\",\n    value: function getAvgSpeed() {\n      var _this$_opts3;\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds.reduce(function(a, c) {\n          return a += c;\n        }) / this._speeds.length;\n      }\n      var lastSample = this._chunkCache[this._chunkCache.length - 1];\n      var cost = performance.now() - lastSample.timestamp;\n      if (cost > (((_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : _this$_opts3.longtimeNoReceived) || LONGTIME_NO_RECEIVE)) {\n        this._chunkCache.push({\n          size: 0,\n          duration: cost,\n          timestamp: performance.now()\n        });\n      }\n      var totalSize = this._chunkCache.reduce(function(a, c) {\n        return a += c.size;\n      }, 0);\n      var totalDuration = this._chunkCache.reduce(function(a, c) {\n        return a += c.duration;\n      }, 0);\n      return 8e3 * totalSize / totalDuration;\n    }\n  }, {\n    key: \"getLatestSpeed\",\n    value: function getLatestSpeed() {\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds[this._speeds.length - 1];\n      }\n      return this._chunkSpeed;\n    }\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      return this._totalSize;\n    }\n  }, {\n    key: \"getTotalCost\",\n    value: function getTotalCost() {\n      return this._totalCost;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._chunkCache = [];\n      this._speeds = [];\n      this._totalSize = 0;\n      this._totalCost = 0;\n    }\n  }]);\n  return BandwidthService2;\n}();\nexport { BandwidthService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, BandwidthService, NetLoader } from \"xgplayer-streaming-shared\";\nvar SegmentLoader = /* @__PURE__ */ function() {\n  function SegmentLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, SegmentLoader2);\n    _defineProperty(this, \"error\", null);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var data = res.data, response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this._bandwidthService.addRecord(contentLength || data.byteLength, time);\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(EVENT.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._bandwidthService = new BandwidthService();\n    this._mapCache = {};\n    this._keyCache = {};\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, loadTimeout = _this$hls$config.loadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._segmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioSegmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._keyLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(SegmentLoader2, [{\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return {\n        speed: this._bandwidthService.getLatestSpeed(),\n        avgSpeed: this._bandwidthService.getAvgSpeed()\n      };\n    }\n  }, {\n    key: \"load\",\n    value: function load(seg, audioSeg, loadInit) {\n      var loadAudioInit = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : loadInit;\n      var toLoad = [];\n      if (seg)\n        toLoad[0] = this.loadVideoSegment(seg, loadInit);\n      if (audioSeg)\n        toLoad[1] = this.loadAudioSegment(audioSeg, loadAudioInit);\n      return Promise.all(toLoad);\n    }\n  }, {\n    key: \"loadVideoSegment\",\n    value: function loadVideoSegment(seg, loadInit) {\n      return this._loadSegment(this._segmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"loadAudioSegment\",\n    value: function loadAudioSegment(seg, loadInit) {\n      return this._loadSegment(this._audioSegmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"_loadSegment\",\n    value: function() {\n      var _loadSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(segLoader, seg, loadInit) {\n        var _this2 = this, _seg$key;\n        var map, key, keyIv, mapKey, mapKeyIv, toLoad, _seg$initSegment$key, mapUrl, _keyUrl, keyUrl, _yield$Promise$all, _yield$Promise$all2, s, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [];\n                this.hls.emit(EVENT.LOAD_START, {\n                  url: seg.url\n                });\n                toLoad[0] = segLoader.load(seg.url);\n                if (loadInit && seg.initSegment) {\n                  mapUrl = seg.initSegment.url;\n                  map = this._mapCache[mapUrl];\n                  if (!map) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: mapUrl\n                    });\n                    toLoad[1] = segLoader.load(mapUrl).then(function(r) {\n                      if (r) {\n                        var l = Object.keys(_this2._mapCache);\n                        if (l > 30)\n                          _this2._mapCache = {};\n                        map = _this2._mapCache[mapUrl] = r.data;\n                        _this2._emitOnLoaded(r, mapUrl);\n                      }\n                    });\n                  }\n                  _keyUrl = (_seg$initSegment$key = seg.initSegment.key) === null || _seg$initSegment$key === void 0 ? void 0 : _seg$initSegment$key.url;\n                  if (_keyUrl) {\n                    mapKeyIv = seg.initSegment.key.iv;\n                    mapKey = this._keyCache[_keyUrl];\n                    if (!mapKey) {\n                      this.hls.emit(EVENT.LOAD_START, {\n                        url: _keyUrl\n                      });\n                      toLoad[2] = this._keyLoader.load(_keyUrl).then(function(r) {\n                        if (r) {\n                          mapKey = _this2._keyCache[_keyUrl] = r.data;\n                          _this2._emitOnLoaded(r, _keyUrl);\n                        }\n                      });\n                    }\n                  }\n                }\n                keyUrl = (_seg$key = seg.key) === null || _seg$key === void 0 ? void 0 : _seg$key.url;\n                if (keyUrl && seg.key.isSegmentEncrypted()) {\n                  keyIv = seg.key.iv;\n                  key = this._keyCache[keyUrl];\n                  if (!key) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: keyUrl\n                    });\n                    toLoad[3] = this._keyLoader.load(keyUrl).then(function(r) {\n                      if (r) {\n                        key = _this2._keyCache[keyUrl] = r.data;\n                        _this2._emitOnLoaded(r, keyUrl);\n                      }\n                    });\n                  }\n                }\n                _context.next = 8;\n                return Promise.all(toLoad);\n              case 8:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 1);\n                s = _yield$Promise$all2[0];\n                if (s) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 13:\n                data = s.data;\n                this._emitOnLoaded(s, seg.url);\n                return _context.abrupt(\"return\", {\n                  data,\n                  map,\n                  key,\n                  mapKey,\n                  keyIv,\n                  mapKeyIv\n                });\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function _loadSegment(_x, _x2, _x3) {\n        return _loadSegment2.apply(this, arguments);\n      }\n      return _loadSegment;\n    }()\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.error = null;\n      this._mapCache = {};\n      this._keyCache = {};\n      this._bandwidthService.reset();\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Promise.all([this._keyLoader.cancel(), this._segmentLoader.cancel(), this._audioSegmentLoader.cancel()]);\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }]);\n  return SegmentLoader2;\n}();\nexport { SegmentLoader };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, slicedToArray as _slicedToArray, regeneratorRuntime as _regeneratorRuntime, typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport { Logger, Buffer, StreamingError, isMediaPlaying, SeiService, GapService, MediaStatsService, MSE, getVideoPlaybackQuality, ERR } from \"xgplayer-streaming-shared\";\nimport { Logger as Logger$1 } from \"xgplayer-transmuxer\";\nimport { BufferService } from \"./buffer-service/index.js\";\nimport { getConfig } from \"./config.js\";\nexport { getConfig } from \"./config.js\";\nimport { Event } from \"./constants.js\";\nimport { ManifestLoader } from \"./manifest-loader/index.js\";\nexport { ManifestLoader } from \"./manifest-loader/index.js\";\nimport { Playlist } from \"./playlist/index.js\";\nexport { Playlist } from \"./playlist/index.js\";\nimport { SegmentLoader } from \"./segment-loader/index.js\";\nexport { SegmentLoader } from \"./segment-loader/index.js\";\nimport { clamp } from \"./utils.js\";\nvar logger = new Logger(\"hls\");\nvar Hls = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Hls2, _EventEmitter);\n  var _super = _createSuper(Hls2);\n  function Hls2(_cfg) {\n    var _this;\n    _classCallCheck(this, Hls2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"version\", Hls2.version);\n    _defineProperty(_assertThisInitialized(_this), \"media\", null);\n    _defineProperty(_assertThisInitialized(_this), \"config\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_manifestLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_playlist\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_bufferService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_gapService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_seiService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_stats\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegSn\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegCc\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickInterval\", 500);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentProcessing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_reloadOnPlay\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_switchUrlOpts\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_isProcessQuotaExceeded\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_loadSegment\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n      var _this$_playlist, nextSegment, lastSegment, _assertThisInitialize, config, minFrameDuration, maxBufferThroughout, bInfo, bufferThroughout;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1)\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this._segmentProcessing || !_this.media)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              _this$_playlist = _this._playlist, nextSegment = _this$_playlist.nextSegment, lastSegment = _this$_playlist.lastSegment;\n              _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n              minFrameDuration = 0.016;\n              maxBufferThroughout = Math.min(Math.max((lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.duration) - minFrameDuration / 2 || 0, minFrameDuration), 0.1);\n              if (nextSegment) {\n                _context.next = 8;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 8:\n              if (_this.isLive) {\n                _context.next = 18;\n                break;\n              }\n              bInfo = _this.bufferInfo();\n              if (_this.media.paused && !_this.media.currentTime) {\n                bInfo = _this.bufferInfo(bInfo.nextStart || 0.5);\n              }\n              bufferThroughout = Math.abs(bInfo.end - _this.media.duration) < maxBufferThroughout;\n              if (!(bInfo.remaining >= config.preloadTime || bufferThroughout)) {\n                _context.next = 15;\n                break;\n              }\n              _this._tryEos();\n              return _context.abrupt(\"return\");\n            case 15:\n              if (!(config.preferMMSStreaming && !_this._bufferService.msStreaming)) {\n                _context.next = 17;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 17:\n              if (!_this._urlSwitching && _this._prevSegSn !== nextSegment.sn - 1 && bInfo.end && Math.abs(nextSegment.start - bInfo.end) > 1) {\n                _this._playlist.setNextSegmentByIndex(_this._playlist.findSegmentIndexByTime(bInfo.end + 0.1));\n              }\n            case 18:\n              return _context.abrupt(\"return\", _this._loadSegmentDirect());\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n      }, _callee);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadeddata\", function() {\n      if (_this.isLive && !_this.config.mseLowLatency) {\n        if (_this.media.duration !== Infinity) {\n          _this._bufferService.updateDuration(Infinity).catch(function(e) {\n          });\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1)\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this.media.seeking && _this.media.currentTime === 0)) {\n                _context2.next = 3;\n                break;\n              }\n              logger.debug(\"replay currentTime 0, return\");\n              return _context2.abrupt(\"return\");\n            case 3:\n              clearTimeout(_this._disconnectTimer);\n              if (!_this._reloadOnPlay) {\n                _context2.next = 9;\n                break;\n              }\n              _this._reloadOnPlay = false;\n              _this.replay(true);\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.next = 11;\n              return _this._loadSegment();\n            case 11:\n              _this._startTick();\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n      }, _callee2);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPause\", function() {\n      if (_this.isLive) {\n        if (!_this._reloadOnPlay) {\n          var disconnectTime = _this.config.disconnectTime;\n          if (disconnectTime === null || disconnectTime === void 0)\n            disconnectTime = _this._playlist.dvrWindow;\n          if (!Number.isFinite(disconnectTime))\n            return;\n          clearTimeout(_this._disconnectTimer);\n          _this._disconnectTimer = setTimeout(function() {\n            _this._reloadOnPlay = true;\n            _this._clear();\n          }, disconnectTime || 0);\n        }\n      } else {\n        _this._stopTick();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n      var seekTime, seekRange, newSeekTime, curSeg, info, segIndex, seg;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1)\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.media) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 2:\n              _this._onCheckQuotaExceeded();\n              seekTime = _this.media.currentTime;\n              seekRange = _this._playlist.seekRange;\n              if (!seekRange) {\n                _context3.next = 10;\n                break;\n              }\n              newSeekTime = clamp(seekTime, seekRange[0], _this.isLive ? seekRange[1] : _this.media.duration);\n              if (!(newSeekTime >= 0 && Math.abs(seekTime - newSeekTime) >= 0.1)) {\n                _context3.next = 10;\n                break;\n              }\n              _this.media.currentTime = newSeekTime;\n              return _context3.abrupt(\"return\");\n            case 10:\n              curSeg = _this._playlist.currentSegment;\n              info = Buffer.info(Buffer.get(_this.media), seekTime, 0.1);\n              if (!curSeg) {\n                _context3.next = 17;\n                break;\n              }\n              if (!(info.end && Math.abs(info.end - curSeg.end) < 0.2)) {\n                _context3.next = 15;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 15:\n              if (!(_this.isLive && info.end)) {\n                _context3.next = 17;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 17:\n              segIndex = _this._playlist.findSegmentIndexByTime(seekTime);\n              seg = _this._playlist.getSegmentByIndex(segIndex);\n              if (!(segIndex === null || segIndex === void 0 || !seg || _this._segmentProcessing && seg === _this._playlist.nextSegment)) {\n                _context3.next = 21;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 21:\n              logger.debug(\"seek to\", seekTime, seg);\n              _this._playlist.setNextSegmentByIndex(segIndex);\n              _this._stopTick();\n              _context3.next = 26;\n              return _this._segmentLoader.cancel();\n            case 26:\n              _this._segmentProcessing = false;\n              if (!(!info.end || _this.isLive)) {\n                _context3.next = 30;\n                break;\n              }\n              _context3.next = 30;\n              return _this._loadSegmentDirect(true);\n            case 30:\n              _this._startTick();\n            case 31:\n            case \"end\":\n              return _context3.stop();\n          }\n      }, _callee3);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      if (!_this.media)\n        return;\n      var cfg = _this.config;\n      if (cfg.isLive && cfg.maxLatency && cfg.targetLatency && _this.media) {\n        var liveEdge = _this._playlist.liveEdge;\n        if (!liveEdge)\n          return;\n        var latency = liveEdge - _this.media.currentTime;\n        if (latency >= cfg.maxLatency) {\n          logger.debug(\"latency jump, currentTime:\".concat(_this.media.currentTime, \", liveEdge:\").concat(liveEdge, \",  latency=\").concat(latency));\n          _this.media.currentTime = liveEdge - cfg.targetLatency;\n        }\n      }\n      if (cfg.seiInTime) {\n        var _this$_seiService;\n        (_this$_seiService = _this._seiService) === null || _this$_seiService === void 0 ? void 0 : _this$_seiService.throw(_this.media.currentTime);\n      }\n      if (_this.config.allowedStreamTrackChange && !_this.config.softDecode) {\n        _this._checkStreamTrackChange(_this.media.currentTime);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_tick\", function() {\n      if (!_this.media)\n        return;\n      _this._startTick();\n      var media = _this.media;\n      var buffered = Buffer.get(media);\n      var segLoaderError = _this._segmentLoader.error;\n      _this._onCheckQuotaExceeded();\n      if (_this._isProcessQuotaExceeded) {\n        if (!_this._bufferService.isFull()) {\n          _this._isProcessQuotaExceeded = false;\n          _this._segmentProcessing = false;\n        }\n      }\n      if (segLoaderError) {\n        var bufferMaxHoleTolerance = 0.5;\n        if (!media.readyState || _this.bufferInfo(bufferMaxHoleTolerance).remaining < 1) {\n          segLoaderError.fatal = true;\n          _this._emitError(StreamingError.network(segLoaderError));\n        }\n        return;\n      }\n      if (Buffer.end(buffered) >= 0.1 && media.readyState) {\n        if (isMediaPlaying(media)) {\n          _this._loadSegment();\n          if (_this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, _this.isLive);\n          }\n        } else {\n          if (media.readyState < 2 && _this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, !media.currentTime ? true : _this.isLive);\n          }\n        }\n      }\n      if (!_this.isLive) {\n        _this._tryEos();\n      }\n    });\n    _this.config = _cfg = getConfig(_cfg);\n    _this.media = _this.config.media;\n    _this._manifestLoader = new ManifestLoader(_assertThisInitialized(_this));\n    _this._segmentLoader = new SegmentLoader(_assertThisInitialized(_this));\n    _this._playlist = new Playlist(_assertThisInitialized(_this));\n    _this._bufferService = new BufferService(_assertThisInitialized(_this));\n    if (_cfg.seiInTime) {\n      _this._seiService = new SeiService(_assertThisInitialized(_this));\n    }\n    if (!_cfg.softDecode)\n      _this._gapService = new GapService();\n    _this._stats = new MediaStatsService(_assertThisInitialized(_this), 9e4);\n    _this.media.addEventListener(\"loadeddata\", _this._onLoadeddata);\n    _this.media.addEventListener(\"play\", _this._onPlay);\n    _this.media.addEventListener(\"pause\", _this._onPause);\n    _this.media.addEventListener(\"seeking\", _this._onSeeking);\n    _this.media.addEventListener(\"timeupdate\", _this._onTimeupdate);\n    return _this;\n  }\n  _createClass(Hls2, [{\n    key: \"isLive\",\n    get: function get() {\n      return this._playlist.isLive;\n    }\n  }, {\n    key: \"streams\",\n    get: function get() {\n      return this._playlist.streams;\n    }\n  }, {\n    key: \"currentStream\",\n    get: function get() {\n      return this._playlist.currentStream;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      return this._playlist.hasSubtitle;\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      return this._playlist.totalDuration;\n    }\n  }, {\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_bufferService;\n      return (_this$_bufferService = this._bufferService) === null || _this$_bufferService === void 0 ? void 0 : _this$_bufferService.baseDts;\n    }\n  }, {\n    key: \"abrSwitchPoint\",\n    get: function get() {\n      var targetSeg = this._urlSwitching ? this._playlist.currentSegment : this._playlist.nextSegment;\n      return targetSeg ? targetSeg.start + targetSeg.duration / 2 : null;\n    }\n  }, {\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return this._segmentLoader.speedInfo();\n    }\n  }, {\n    key: \"bufferInfo\",\n    value: function bufferInfo() {\n      var _this$media;\n      var maxHole = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0.1;\n      return Buffer.info(Buffer.get(this.media), (_this$media = this.media) === null || _this$media === void 0 ? void 0 : _this$media.currentTime, maxHole);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      return this._stats.getStats();\n    }\n  }, {\n    key: \"playbackQuality\",\n    value: function playbackQuality() {\n      return getVideoPlaybackQuality(this.media);\n    }\n  }, {\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4() {\n        var url, options, reuseMse, _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                url = _args4.length > 0 && _args4[0] !== void 0 ? _args4[0] : \"\";\n                options = _args4.length > 1 && _args4[1] !== void 0 ? _args4[1] : {};\n                reuseMse = typeof options === \"boolean\" ? options : !!(options !== null && options !== void 0 && options.reuseMse);\n                if (_typeof(options) === \"object\" && options !== null && options !== void 0 && options.clearSwitchStatus) {\n                  this._urlSwitching = false;\n                  this._switchUrlOpts = null;\n                  this.config.startTime = void 0;\n                }\n                if (url)\n                  this.config.url = url;\n                url = this.config.url;\n                _context4.next = 8;\n                return this._reset(reuseMse);\n              case 8:\n                _context4.next = 10;\n                return this._loadData(url);\n              case 10:\n                this._startTick();\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function load() {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"_loadData\",\n    value: function() {\n      var _loadData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5(url) {\n        var manifest, currentStream, preIndex, _this$_switchUrlOpts, _this$_switchUrlOpts3, _this$_switchUrlOpts4, _this$_switchUrlOpts2, switchTimePoint, segIdx, nextSeg, bufferClearStartPoint, startTime, _this$_switchUrlOpts5;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                try {\n                  if (url)\n                    url = url.trim();\n                } catch (e) {\n                }\n                if (url) {\n                  _context5.next = 3;\n                  break;\n                }\n                throw this._emitError(new StreamingError(ERR.OTHER, ERR.SUB_TYPES.OPTION, null, null, \"m3u8 url is missing\"));\n              case 3:\n                _context5.next = 5;\n                return this._loadM3U8(url);\n              case 5:\n                manifest = _context5.sent;\n                currentStream = this._playlist.currentStream;\n                if (!this._urlSwitching) {\n                  _context5.next = 23;\n                  break;\n                }\n                if (!this.isLive) {\n                  _context5.next = 14;\n                  break;\n                }\n                preIndex = this._playlist.setNextSegmentBySN(this._prevSegSn);\n                logger.log(\"segment nb=\".concat(this._prevSegSn, \" index of \").concat(preIndex, \" in the new playlist\"));\n                if (preIndex === -1) {\n                  this._prevSegCc = null;\n                  this._prevSegSn = null;\n                }\n                _context5.next = 23;\n                break;\n              case 14:\n                if (currentStream.bitrate === 0 && (_this$_switchUrlOpts = this._switchUrlOpts) !== null && _this$_switchUrlOpts !== void 0 && _this$_switchUrlOpts.bitrate) {\n                  currentStream.bitrate = (_this$_switchUrlOpts2 = this._switchUrlOpts) === null || _this$_switchUrlOpts2 === void 0 ? void 0 : _this$_switchUrlOpts2.bitrate;\n                }\n                switchTimePoint = typeof ((_this$_switchUrlOpts3 = this._switchUrlOpts) === null || _this$_switchUrlOpts3 === void 0 ? void 0 : _this$_switchUrlOpts3.startTime) === \"number\" ? (_this$_switchUrlOpts4 = this._switchUrlOpts) === null || _this$_switchUrlOpts4 === void 0 ? void 0 : _this$_switchUrlOpts4.startTime : this._getSeamlessSwitchPoint();\n                this.config.startTime = switchTimePoint;\n                segIdx = this._playlist.findSegmentIndexByTime(switchTimePoint);\n                nextSeg = this._playlist.getSegmentByIndex(segIdx + 1);\n                if (!nextSeg) {\n                  _context5.next = 23;\n                  break;\n                }\n                bufferClearStartPoint = nextSeg.start;\n                _context5.next = 23;\n                return this._bufferService.removeBuffer(bufferClearStartPoint);\n              case 23:\n                if (manifest) {\n                  _context5.next = 25;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 25:\n                if (!this.isLive) {\n                  _context5.next = 36;\n                  break;\n                }\n                this._bufferService.setLiveSeekableRange(0, 4294967295);\n                logger.log(\"totalDuration first time got:\", this._playlist.totalDuration);\n                logger.log(\"nb segments got:\", this._playlist.nbSegments);\n                if (this.config.targetLatency < this._playlist.totalDuration) {\n                  this.config.targetLatency = this._playlist.totalDuration;\n                  this.config.maxLatency = 1.5 * this.config.targetLatency;\n                }\n                if (!manifest.isMaster)\n                  this._pollM3U8(url);\n                if (!(this._playlist.nbSegments < this.config.minSegmentsStartPlay)) {\n                  _context5.next = 33;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 33:\n                _context5.next = 35;\n                return this._loadSegment();\n              case 35:\n                return _context5.abrupt(\"return\");\n              case 36:\n                _context5.next = 38;\n                return this._bufferService.updateDuration(currentStream.totalDuration);\n              case 38:\n                startTime = this.config.startTime;\n                if (startTime) {\n                  if (!((_this$_switchUrlOpts5 = this._switchUrlOpts) !== null && _this$_switchUrlOpts5 !== void 0 && _this$_switchUrlOpts5.seamless)) {\n                    this.media.currentTime = startTime;\n                  }\n                  this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(startTime) || 0);\n                }\n                _context5.next = 42;\n                return this._loadSegment();\n              case 42:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function _loadData(_x) {\n        return _loadData2.apply(this, arguments);\n      }\n      return _loadData;\n    }()\n  }, {\n    key: \"replay\",\n    value: function() {\n      var _replay = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6(isPlayEmit) {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.config.startTime = 0;\n                this._urlSwitching = false;\n                this._switchUrlOpts = null;\n                _context6.next = 5;\n                return this.load();\n              case 5:\n                this._reloadOnPlay = false;\n                return _context6.abrupt(\"return\", this.media.play(!isPlayEmit));\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function replay(_x2) {\n        return _replay.apply(this, arguments);\n      }\n      return replay;\n    }()\n  }, {\n    key: \"switchURL\",\n    value: function() {\n      var _switchURL = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7(url) {\n        var options, defaultOpts, key, _options, seamless, startTime, appended, _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                options = _args7.length > 1 && _args7[1] !== void 0 ? _args7[1] : {};\n                defaultOpts = {\n                  seamless: false,\n                  startTime: 0,\n                  bitrate: 0\n                };\n                _context7.t0 = _typeof(options);\n                _context7.next = _context7.t0 === \"number\" ? 5 : _context7.t0 === \"boolean\" ? 7 : _context7.t0 === \"object\" ? 9 : 11;\n                break;\n              case 5:\n                options = {\n                  startTime: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 7:\n                options = {\n                  seamless: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 9:\n                for (key in options) {\n                  if (options[key] === void 0 || options[key] === null) {\n                    delete options[key];\n                  }\n                }\n                return _context7.abrupt(\"break\", 12);\n              case 11:\n                throw \"unsupported switchURL args: \".concat(options);\n              case 12:\n                options = Object.assign({}, defaultOpts, options);\n                _options = options, seamless = _options.seamless, startTime = _options.startTime;\n                this.config.url = url;\n                this.config.startTime = startTime;\n                this._switchUrlOpts = options;\n                if (seamless) {\n                  _context7.next = 38;\n                  break;\n                }\n                _context7.prev = 18;\n                if (!this.config.softDecode) {\n                  _context7.next = 23;\n                  break;\n                }\n                _context7.t1 = this.load(url);\n                _context7.next = 26;\n                break;\n              case 23:\n                _context7.next = 25;\n                return this.load(url);\n              case 25:\n                _context7.t1 = _context7.sent;\n              case 26:\n                appended = _context7.t1;\n                _context7.next = 33;\n                break;\n              case 29:\n                _context7.prev = 29;\n                _context7.t2 = _context7[\"catch\"](18);\n                this.emit(Event.SWITCH_URL_FAILED, _context7.t2);\n                throw _context7.t2;\n              case 33:\n                this._reloadOnPlay = false;\n                if (appended) {\n                  this.emit(Event.SWITCH_URL_SUCCESS, {\n                    url\n                  });\n                }\n                return _context7.abrupt(\"return\", this.media.play(true));\n              case 38:\n                this._urlSwitching = true;\n                if (!this.isLive) {\n                  this._prevSegSn = null;\n                  this._prevSegCc = null;\n                }\n                this._playlist.reset();\n                this._bufferService.seamlessSwitch();\n                _context7.next = 44;\n                return this._clear();\n              case 44:\n                _context7.next = 46;\n                return this._loadData(url);\n              case 46:\n                this._startTick();\n              case 47:\n                this._switchUrlOpts = null;\n              case 48:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this, [[18, 29]]);\n      }));\n      function switchURL(_x3) {\n        return _switchURL.apply(this, arguments);\n      }\n      return switchURL;\n    }()\n  }, {\n    key: \"switchStream\",\n    value: function() {\n      var _switchStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(id) {\n        var force, curStream, streams, toSwitch, curId, _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                force = _args8.length > 1 && _args8[1] !== void 0 ? _args8[1] : true;\n                curStream = this.currentStream;\n                streams = this.streams;\n                if (!(!curStream || curStream.id === id || !streams || streams.length < 2)) {\n                  _context8.next = 5;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 5:\n                toSwitch = streams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context8.next = 8;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 8:\n                _context8.prev = 8;\n                _context8.next = 11;\n                return this._clear();\n              case 11:\n                if (!force) {\n                  _context8.next = 14;\n                  break;\n                }\n                _context8.next = 14;\n                return this._bufferService.clearAllBuffer();\n              case 14:\n                _context8.next = 19;\n                break;\n              case 16:\n                _context8.prev = 16;\n                _context8.t0 = _context8[\"catch\"](8);\n                throw this._emitError(StreamingError.create(_context8.t0));\n              case 19:\n                if (curStream.currentAudioStream && toSwitch.audioStreams.length > 2) {\n                  curId = curStream.currentAudioStream.id;\n                  toSwitch.currentAudioStream = toSwitch.audioStreams.find(function(x) {\n                    return x.id === curId;\n                  }) || toSwitch.currentAudioStream;\n                }\n                this._playlist.currentStream = toSwitch;\n                _context8.prev = 21;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context8.next = 25;\n                  break;\n                }\n                _context8.next = 25;\n                return this._refreshM3U8();\n              case 25:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context8.next = 29;\n                return this._loadSegmentDirect();\n              case 29:\n                _context8.next = 35;\n                break;\n              case 31:\n                _context8.prev = 31;\n                _context8.t1 = _context8[\"catch\"](21);\n                this._playlist.currentStream = curStream;\n                throw _context8.t1;\n              case 35:\n                this._startTick();\n                return _context8.abrupt(\"return\", toSwitch);\n              case 37:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this, [[8, 16], [21, 31]]);\n      }));\n      function switchStream(_x4) {\n        return _switchStream.apply(this, arguments);\n      }\n      return switchStream;\n    }()\n  }, {\n    key: \"switchAudioStream\",\n    value: function() {\n      var _switchAudioStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9(id) {\n        var force, curStream, audioStream, toSwitch, _args9 = arguments;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                force = _args9.length > 1 && _args9[1] !== void 0 ? _args9[1] : true;\n                curStream = this.currentStream;\n                if (curStream) {\n                  _context9.next = 4;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 4:\n                audioStream = curStream.currentAudioStream;\n                if (!(!audioStream || audioStream.id === id || curStream.audioStreams.length < 2)) {\n                  _context9.next = 7;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 7:\n                toSwitch = curStream.audioStreams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context9.next = 10;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 10:\n                _context9.prev = 10;\n                _context9.next = 13;\n                return this._clear();\n              case 13:\n                if (!force) {\n                  _context9.next = 16;\n                  break;\n                }\n                _context9.next = 16;\n                return this._bufferService.clearAllBuffer();\n              case 16:\n                _context9.next = 21;\n                break;\n              case 18:\n                _context9.prev = 18;\n                _context9.t0 = _context9[\"catch\"](10);\n                throw this._emitError(StreamingError.create(_context9.t0));\n              case 21:\n                curStream.currentAudioStream = toSwitch;\n                _context9.prev = 22;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context9.next = 26;\n                  break;\n                }\n                _context9.next = 26;\n                return this._refreshM3U8();\n              case 26:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context9.next = 30;\n                return this._loadSegmentDirect();\n              case 30:\n                _context9.next = 36;\n                break;\n              case 32:\n                _context9.prev = 32;\n                _context9.t1 = _context9[\"catch\"](22);\n                curStream.currentAudioStream = audioStream;\n                throw _context9.t1;\n              case 36:\n                this._startTick();\n                return _context9.abrupt(\"return\", toSwitch);\n              case 38:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this, [[10, 18], [22, 32]]);\n      }));\n      function switchAudioStream(_x5) {\n        return _switchAudioStream.apply(this, arguments);\n      }\n      return switchAudioStream;\n    }()\n  }, {\n    key: \"switchSubtitleStream\",\n    value: function() {\n      var _switchSubtitleStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10(lang) {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this._playlist.switchSubtitle(lang);\n                _context10.next = 3;\n                return this._manifestLoader.stopPoll();\n              case 3:\n                _context10.next = 5;\n                return this._refreshM3U8();\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function switchSubtitleStream(_x6) {\n        return _switchSubtitleStream.apply(this, arguments);\n      }\n      return switchSubtitleStream;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee11() {\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1)\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (!this._bufferService) {\n                  _context11.next = 3;\n                  break;\n                }\n                _context11.next = 3;\n                return this._bufferService.detachMedia();\n              case 3:\n              case \"end\":\n                return _context11.stop();\n            }\n        }, _callee11, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee12() {\n        var _this$_seiService2;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1)\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (this.media) {\n                  _context12.next = 2;\n                  break;\n                }\n                return _context12.abrupt(\"return\");\n              case 2:\n                this.removeAllListeners();\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService2 = this._seiService) === null || _this$_seiService2 === void 0 ? void 0 : _this$_seiService2.reset();\n                this.media.removeEventListener(\"loadeddata\", this._onLoadeddata);\n                this.media.removeEventListener(\"play\", this._onPlay);\n                this.media.removeEventListener(\"pause\", this._onPause);\n                this.media.removeEventListener(\"seeking\", this._onSeeking);\n                this.media.removeEventListener(\"timeupdate\", this._onTimeupdate);\n                _context12.next = 13;\n                return Promise.all([this._clear(), this._bufferService.destroy()]);\n              case 13:\n                this.media = null;\n              case 14:\n              case \"end\":\n                return _context12.stop();\n            }\n        }, _callee12, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_loadM3U8\",\n    value: function() {\n      var _loadM3U = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee13(url) {\n        var playlist, _this$config$manifest, _this$config$manifest2, manifest, _ref4, _ref5, _this$_playlist$curre;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1)\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.prev = 0;\n                manifest = (_this$config$manifest = this.config.manifestList) === null || _this$config$manifest === void 0 ? void 0 : (_this$config$manifest2 = _this$config$manifest.filter(function(x) {\n                  return x.url === url;\n                })[0]) === null || _this$config$manifest2 === void 0 ? void 0 : _this$config$manifest2.manifest;\n                if (!manifest) {\n                  _context13.next = 6;\n                  break;\n                }\n                _context13.t0 = this._manifestLoader.parseText(manifest, url);\n                _context13.next = 9;\n                break;\n              case 6:\n                _context13.next = 8;\n                return this._manifestLoader.load(url);\n              case 8:\n                _context13.t0 = _context13.sent;\n              case 9:\n                _ref4 = _context13.t0;\n                _ref5 = _slicedToArray(_ref4, 1);\n                playlist = _ref5[0];\n                _context13.next = 17;\n                break;\n              case 14:\n                _context13.prev = 14;\n                _context13.t1 = _context13[\"catch\"](0);\n                throw this._emitError(StreamingError.create(_context13.t1));\n              case 17:\n                if (playlist) {\n                  _context13.next = 19;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 19:\n                this._playlist.upsertPlaylist(playlist);\n                if (!playlist.isMaster) {\n                  _context13.next = 24;\n                  break;\n                }\n                if ((_this$_playlist$curre = this._playlist.currentStream.subtitleStreams) !== null && _this$_playlist$curre !== void 0 && _this$_playlist$curre.length) {\n                  this.emit(Event.SUBTITLE_PLAYLIST, {\n                    list: this._playlist.currentStream.subtitleStreams\n                  });\n                }\n                _context13.next = 24;\n                return this._refreshM3U8();\n              case 24:\n                this.emit(Event.STREAM_PARSED);\n                return _context13.abrupt(\"return\", playlist);\n              case 26:\n              case \"end\":\n                return _context13.stop();\n            }\n        }, _callee13, this, [[0, 14]]);\n      }));\n      function _loadM3U8(_x7) {\n        return _loadM3U.apply(this, arguments);\n      }\n      return _loadM3U8;\n    }()\n  }, {\n    key: \"_refreshM3U8\",\n    value: function _refreshM3U8() {\n      var _stream$currentAudioS, _stream$currentSubtit, _this2 = this;\n      var stream = this._playlist.currentStream;\n      if (!stream || !stream.url)\n        throw this._emitError(StreamingError.create(null, null, new Error(\"m3u8 url is not defined\")));\n      var url = stream.url;\n      var audioUrl = (_stream$currentAudioS = stream.currentAudioStream) === null || _stream$currentAudioS === void 0 ? void 0 : _stream$currentAudioS.url;\n      var subtitleUrl = (_stream$currentSubtit = stream.currentSubtitleStream) === null || _stream$currentSubtit === void 0 ? void 0 : _stream$currentSubtit.url;\n      return this._manifestLoader.load(url, audioUrl, subtitleUrl).then(function(_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3), mediaPlaylist = _ref7[0], audioPlaylist = _ref7[1], subtitlePlaylist = _ref7[2];\n        if (!mediaPlaylist)\n          return;\n        _this2._playlist.upsertPlaylist(mediaPlaylist, audioPlaylist, subtitlePlaylist);\n        if (!_this2.isLive)\n          return;\n        _this2._pollM3U8(url, audioUrl, subtitleUrl);\n      }).catch(function(err) {\n        throw _this2._emitError(StreamingError.create(err));\n      });\n    }\n  }, {\n    key: \"_pollM3U8\",\n    value: function _pollM3U8(url, audioUrl, subtitleUrl) {\n      var _this3 = this;\n      var isEmpty = this._playlist.isEmpty;\n      var pollInterval;\n      if (this._playlist.lowLatency) {\n        pollInterval = (this._playlist.currentStream.partTargetDuration || 0) * 1e3;\n      } else {\n        var _this$_playlist$lastS;\n        pollInterval = (((_this$_playlist$lastS = this._playlist.lastSegment) === null || _this$_playlist$lastS === void 0 ? void 0 : _this$_playlist$lastS.duration) || 0) * 1e3;\n      }\n      this._manifestLoader.poll(\n        url,\n        audioUrl,\n        subtitleUrl,\n        function(p1, p2, p3) {\n          _this3._playlist.upsertPlaylist(p1, p2, p3);\n          _this3._playlist.clearOldSegment();\n          var switchToNoEmpty = p1 && isEmpty && !_this3._playlist.isEmpty;\n          if (switchToNoEmpty || !_this3._playlist.hadSegmentLoaded && _this3._playlist.nbSegments >= _this3.config.minSegmentsStartPlay) {\n            _this3._loadSegment();\n          }\n          if (isEmpty)\n            isEmpty = _this3._playlist.isEmpty;\n        },\n        function(err) {\n          _this3._emitError(StreamingError.create(err));\n        },\n        pollInterval\n      );\n    }\n  }, {\n    key: \"_loadSegmentDirect\",\n    value: function() {\n      var _loadSegmentDirect2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee14(loadOnce) {\n        var seg, appended, cachedError, _this$_playlist$curre2, bufferEnd, sameStream;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1)\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                seg = this._playlist.nextSegment;\n                if (seg) {\n                  _context14.next = 3;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 3:\n                appended = false;\n                cachedError = null;\n                _context14.prev = 5;\n                this._segmentProcessing = true;\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", [\").concat(seg.start, \", \").concat(seg.end, \"], partIndex:\").concat(seg.partIndex));\n                _context14.next = 10;\n                return this._reqAndBufferSegment(seg, this._playlist.getAudioSegment(seg));\n              case 10:\n                appended = _context14.sent;\n                _context14.next = 16;\n                break;\n              case 13:\n                _context14.prev = 13;\n                _context14.t0 = _context14[\"catch\"](5);\n                cachedError = _context14.t0;\n              case 16:\n                _context14.prev = 16;\n                this._segmentProcessing = false;\n                return _context14.finish(16);\n              case 19:\n                if (!cachedError) {\n                  _context14.next = 26;\n                  break;\n                }\n                if (!this._bufferService.isFull()) {\n                  _context14.next = 25;\n                  break;\n                }\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                this._segmentProcessing = true;\n                this._isProcessQuotaExceeded = true;\n                return _context14.abrupt(\"return\", false);\n              case 25:\n                return _context14.abrupt(\"return\", this._emitError(StreamingError.create(cachedError)));\n              case 26:\n                if (appended) {\n                  bufferEnd = this.bufferInfo().end;\n                  if (this.isLive && !this.media.seeking && bufferEnd && Math.abs(seg.end - bufferEnd) > 1) {\n                    logger.warn(\"segment: \".concat(seg.sn, \" expected end=\").concat(seg.end, \", real end=\").concat(bufferEnd));\n                    this._playlist.feedbackLiveEdge(seg, bufferEnd);\n                  }\n                  sameStream = ((_this$_playlist$curre2 = this._playlist.currentStream) === null || _this$_playlist$curre2 === void 0 ? void 0 : _this$_playlist$curre2.url) === seg.parentUrl;\n                  if (this._urlSwitching && !sameStream) {\n                    logger.warn(\"pre playlist segment appended!\");\n                    this._bufferService.seamlessSwitch();\n                  }\n                  if (this.isLive && this._urlSwitching && sameStream) {\n                    this._urlSwitching = false;\n                    this.emit(Event.SWITCH_URL_SUCCESS, {\n                      url: this.config.url\n                    });\n                  }\n                  this._playlist.moveSegmentPointer();\n                  if (seg.isLast) {\n                    this._end();\n                  } else if (!loadOnce) {\n                    this._loadSegment();\n                  }\n                }\n                return _context14.abrupt(\"return\", appended);\n              case 28:\n              case \"end\":\n                return _context14.stop();\n            }\n        }, _callee14, this, [[5, 13, 16, 19]]);\n      }));\n      function _loadSegmentDirect(_x8) {\n        return _loadSegmentDirect2.apply(this, arguments);\n      }\n      return _loadSegmentDirect;\n    }()\n  }, {\n    key: \"_reqAndBufferSegment\",\n    value: function() {\n      var _reqAndBufferSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee15(seg, audioSeg) {\n        var _this$_bufferService2;\n        var cc, discontinuity, responses, data, sn, start, stream, before, contiguous, segStart;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1)\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                cc = seg ? seg.cc : audioSeg.cc;\n                discontinuity = this._prevSegCc !== cc;\n                responses = [];\n                _context15.prev = 3;\n                _context15.next = 6;\n                return this._segmentLoader.load(seg, audioSeg, discontinuity);\n              case 6:\n                responses = _context15.sent;\n                _context15.next = 14;\n                break;\n              case 9:\n                _context15.prev = 9;\n                _context15.t0 = _context15[\"catch\"](3);\n                _context15.t0.fatal = false;\n                this._segmentLoader.error = _context15.t0;\n                throw _context15.t0;\n              case 14:\n                if (responses[0]) {\n                  _context15.next = 16;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 16:\n                _context15.next = 18;\n                return (_this$_bufferService2 = this._bufferService).decryptBuffer.apply(_this$_bufferService2, _toConsumableArray(responses));\n              case 18:\n                data = _context15.sent;\n                if (data) {\n                  _context15.next = 21;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 21:\n                sn = seg ? seg.sn : audioSeg.sn;\n                start = seg ? seg.start : audioSeg.start;\n                stream = this._playlist.currentStream;\n                this._bufferService.createSource(data[0], data[1], stream === null || stream === void 0 ? void 0 : stream.videoCodec, stream === null || stream === void 0 ? void 0 : stream.audioCodec);\n                before = Date.now();\n                contiguous = this._prevSegSn === sn - 1;\n                if (this.isLive && this._urlSwitching) {\n                  segStart = this.bufferInfo().end;\n                  this._playlist.updateSegmentsRanges(sn, segStart);\n                  logger.warn(\"update the new playlist liveEdge, segment id=\".concat(sn, \", buffer start=\").concat(segStart, \", liveEdge=\").concat(this._playlist.liveEdge));\n                  start = segStart;\n                }\n                _context15.next = 30;\n                return this._bufferService.appendBuffer(seg, audioSeg, data[0], data[1], discontinuity, contiguous, start);\n              case 30:\n                this.emit(Event.APPEND_COST, {\n                  elapsed: Date.now() - before,\n                  url: seg.url\n                });\n                _context15.next = 33;\n                return this._bufferService.evictBuffer(this.config.bufferBehind);\n              case 33:\n                this._prevSegCc = cc;\n                this._prevSegSn = sn;\n                return _context15.abrupt(\"return\", true);\n              case 36:\n              case \"end\":\n                return _context15.stop();\n            }\n        }, _callee15, this, [[3, 9]]);\n      }));\n      function _reqAndBufferSegment(_x9, _x10) {\n        return _reqAndBufferSegment2.apply(this, arguments);\n      }\n      return _reqAndBufferSegment;\n    }()\n  }, {\n    key: \"_onCheckQuotaExceeded\",\n    value: function() {\n      var _onCheckQuotaExceeded2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee16() {\n        var seekTime, buffered, inBuffered, i, bufferBehind, mediaTime;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1)\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                seekTime = this.media.currentTime;\n                buffered = this.media.buffered;\n                inBuffered = false;\n                i = 0;\n              case 4:\n                if (!(i < buffered.length)) {\n                  _context16.next = 11;\n                  break;\n                }\n                if (!(buffered.start(0) >= seekTime && seekTime < buffered.end(i))) {\n                  _context16.next = 8;\n                  break;\n                }\n                inBuffered = true;\n                return _context16.abrupt(\"break\", 11);\n              case 8:\n                i++;\n                _context16.next = 4;\n                break;\n              case 11:\n                if (!this._bufferService.isFull()) {\n                  _context16.next = 17;\n                  break;\n                }\n                bufferBehind = inBuffered ? this.config.bufferBehind : 5;\n                mediaTime = this.media.currentTime;\n                if (!(mediaTime - bufferBehind > 0)) {\n                  _context16.next = 17;\n                  break;\n                }\n                _context16.next = 17;\n                return this._bufferService.removeBuffer(0, mediaTime - bufferBehind);\n              case 17:\n              case \"end\":\n                return _context16.stop();\n            }\n        }, _callee16, this);\n      }));\n      function _onCheckQuotaExceeded() {\n        return _onCheckQuotaExceeded2.apply(this, arguments);\n      }\n      return _onCheckQuotaExceeded;\n    }()\n  }, {\n    key: \"_checkStreamTrackChange\",\n    value: function _checkStreamTrackChange(time) {\n      var changedSeg = this._playlist.checkSegmentTrackChange(time, this._bufferService.nbSb);\n      if (!changedSeg)\n        return;\n      this.switchURL(this.config.url, changedSeg.start + 0.2);\n    }\n  }, {\n    key: \"_clear\",\n    value: function() {\n      var _clear2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee17() {\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1)\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                clearTimeout(this._disconnectTimer);\n                this._stopTick();\n                _context17.next = 4;\n                return Promise.all([this._segmentLoader.cancel(), this._manifestLoader.stopPoll()]);\n              case 4:\n                this._segmentProcessing = false;\n              case 5:\n              case \"end\":\n                return _context17.stop();\n            }\n        }, _callee17, this);\n      }));\n      function _clear() {\n        return _clear2.apply(this, arguments);\n      }\n      return _clear;\n    }()\n  }, {\n    key: \"_reset\",\n    value: function() {\n      var _reset2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee18() {\n        var _this$_seiService3;\n        var reuseMse, _args18 = arguments;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1)\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                reuseMse = _args18.length > 0 && _args18[0] !== void 0 ? _args18[0] : false;\n                this._reloadOnPlay = false;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._switchUrlOpts = null;\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService3 = this._seiService) === null || _this$_seiService3 === void 0 ? void 0 : _this$_seiService3.reset();\n                this._stats.reset();\n                _context18.next = 11;\n                return this._clear();\n              case 11:\n                return _context18.abrupt(\"return\", this._bufferService.reset(reuseMse));\n              case 12:\n              case \"end\":\n                return _context18.stop();\n            }\n        }, _callee18, this);\n      }));\n      function _reset() {\n        return _reset2.apply(this, arguments);\n      }\n      return _reset;\n    }()\n  }, {\n    key: \"_end\",\n    value: function _end() {\n      this._clear();\n      this._bufferService.endOfStream();\n      if (this.media.readyState <= 2 || this.media.buffered.length > 1) {\n        this._startTick();\n      }\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      if (this._tickTimer) {\n        clearTimeout(this._tickTimer);\n      }\n      this._tickTimer = null;\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      this._stopTick();\n      this._tickTimer = setTimeout(this._tick, this._tickInterval);\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(error) {\n      var _error$originError;\n      var endOfStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      if (((_error$originError = error.originError) === null || _error$originError === void 0 ? void 0 : _error$originError.fatal) === false) {\n        logger.warn(error);\n      } else {\n        var _this$media2, _this$media3, _this$_seiService4;\n        logger.table(error);\n        logger.error(error);\n        logger.error((_this$media2 = this.media) === null || _this$media2 === void 0 ? void 0 : _this$media2.error);\n        if ((_this$media3 = this.media) !== null && _this$media3 !== void 0 && _this$media3.readyState) {\n          this.media.pause();\n        }\n        this._stopTick();\n        if (this._urlSwitching) {\n          this._urlSwitching = false;\n          this.emit(Event.SWITCH_URL_FAILED, error);\n        }\n        this.emit(Event.ERROR, error);\n        if (endOfStream)\n          this._end();\n        (_this$_seiService4 = this._seiService) === null || _this$_seiService4 === void 0 ? void 0 : _this$_seiService4.reset();\n      }\n      return error;\n    }\n  }, {\n    key: \"_getSeamlessSwitchPoint\",\n    value: function _getSeamlessSwitchPoint() {\n      var media = this.media;\n      var nextLoadPoint = media.currentTime;\n      if (!media.paused) {\n        var _this$_stats;\n        var segIdx = this._playlist.findSegmentIndexByTime(media.currentTime);\n        var curSeg = this._playlist.getSegmentByIndex(segIdx);\n        var latestKbps = (_this$_stats = this._stats) === null || _this$_stats === void 0 ? void 0 : _this$_stats.getStats().downloadSpeed;\n        if (latestKbps && curSeg) {\n          var delay = curSeg.duration * this._playlist.currentStream.bitrate / latestKbps + 1;\n          nextLoadPoint += delay;\n        } else {\n          nextLoadPoint += 5;\n        }\n      }\n      return nextLoadPoint;\n    }\n  }, {\n    key: \"_tryEos\",\n    value: function _tryEos() {\n      var _this$_bufferService3, _this$_bufferService4;\n      var media = this.media;\n      var _this$_playlist2 = this._playlist, nextSegment = _this$_playlist2.nextSegment, lastSegment = _this$_playlist2.lastSegment;\n      var eosAllowed = (!nextSegment || lastSegment && Buffer.isBuffered(media, lastSegment.start + lastSegment.duration / 2)) && media.readyState && media.duration > 0 && ((_this$_bufferService3 = this._bufferService) === null || _this$_bufferService3 === void 0 ? void 0 : _this$_bufferService3.msIsOpened) && !((_this$_bufferService4 = this._bufferService) !== null && _this$_bufferService4 !== void 0 && _this$_bufferService4.msHasOpTasks);\n      if (!eosAllowed) {\n        return;\n      }\n      var bInfo = this.bufferInfo();\n      if (media.paused && !media.currentTime) {\n        bInfo = this.bufferInfo(bInfo.nextStart || 0.5);\n      }\n      var bufferThroughout = Math.abs(bInfo.end - media.duration) < 0.1 || !this.isLive && lastSegment && bInfo.end >= lastSegment.start + lastSegment.duration;\n      if (bufferThroughout) {\n        this._bufferService.endOfStream();\n      }\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(mediaType) {\n      if (!mediaType || mediaType === \"video\" || mediaType === \"audio\") {\n        return MSE.isSupported();\n      }\n      return typeof WebAssembly !== \"undefined\";\n    }\n  }, {\n    key: \"enableLogger\",\n    value: function enableLogger() {\n      Logger.enable();\n      Logger$1.enable();\n    }\n  }, {\n    key: \"disableLogger\",\n    value: function disableLogger() {\n      Logger.disable();\n      Logger$1.disable();\n    }\n  }]);\n  return Hls2;\n}(EventEmitter);\n_defineProperty(Hls, \"version\", \"3.0.20\");\ntry {\n  if (localStorage.getItem(\"xgd\")) {\n    Hls.enableLogger();\n  } else {\n    Hls.disableLogger();\n  }\n} catch (error) {\n}\nexport { Hls, logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Event } from \"./hls/constants.js\";\nvar PluginExtension = /* @__PURE__ */ function() {\n  function PluginExtension2(opts, plugin) {\n    var _this = this;\n    _classCallCheck(this, PluginExtension2);\n    _defineProperty(this, \"_opts\", null);\n    _defineProperty(this, \"_plugin\", null);\n    _defineProperty(this, \"_onLowDecode\", function() {\n      var _this$_plugin, _this$_plugin$player, _this$_plugin2, _this$_plugin2$player;\n      var _this$_opts = _this._opts, media = _this$_opts.media, innerDegrade = _this$_opts.innerDegrade;\n      (_this$_plugin = _this._plugin) === null || _this$_plugin === void 0 ? void 0 : (_this$_plugin$player = _this$_plugin.player) === null || _this$_plugin$player === void 0 ? void 0 : _this$_plugin$player.emit(\"lowdecode\", media.degradeInfo);\n      (_this$_plugin2 = _this._plugin) === null || _this$_plugin2 === void 0 ? void 0 : (_this$_plugin2$player = _this$_plugin2.player) === null || _this$_plugin2$player === void 0 ? void 0 : _this$_plugin2$player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, media.degradeInfo), {}, {\n        eventName: Event.LOWDECODE\n      }));\n      if (innerDegrade === 1) {\n        _this._degrade(media.src);\n      }\n    });\n    _defineProperty(this, \"_degrade\", function(url) {\n      var player = _this._plugin.player;\n      var originVideo = player.video;\n      if (originVideo && originVideo.TAG !== \"MVideo\")\n        return;\n      var newVideo = player.video.degradeVideo;\n      player.video = newVideo;\n      originVideo.degrade(url);\n      if (url) {\n        player.config.url = url;\n      }\n      var firstChild = player.root.firstChild;\n      if (firstChild.TAG === \"MVideo\") {\n        player.root.replaceChild(newVideo, firstChild);\n      }\n      var hlsPlugin = _this._plugin.constructor.pluginName.toLowerCase();\n      player.unRegisterPlugin(hlsPlugin);\n      player.once(\"canplay\", function() {\n        player.play();\n      });\n    });\n    _defineProperty(this, \"forceDegradeToVideo\", function(url) {\n      var innerDegrade = _this._opts.innerDegrade;\n      if (innerDegrade === 1) {\n        _this._degrade(url);\n      }\n    });\n    this._opts = opts;\n    this._plugin = plugin;\n    this._init();\n  }\n  _createClass(PluginExtension2, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this$_opts2 = this._opts, media = _this$_opts2.media, preloadTime = _this$_opts2.preloadTime, innerDegrade = _this$_opts2.innerDegrade, isLive = _this$_opts2.isLive;\n      if (!media)\n        return;\n      if (!isLive && media.setPlayMode) {\n        media.setPlayMode(\"VOD\");\n        return;\n      }\n      if (innerDegrade) {\n        media.setAttribute(\"innerdegrade\", innerDegrade);\n      }\n      if (preloadTime) {\n        media.setAttribute(\"preloadtime\", preloadTime);\n      }\n      this._bindEvents();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var media = this._opts.media;\n      media.addEventListener(\"lowdecode\", this._onLowDecode);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$_opts3, _this$_opts3$media;\n      (_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : (_this$_opts3$media = _this$_opts3.media) === null || _this$_opts3$media === void 0 ? void 0 : _this$_opts3$media.removeEventListener(\"lowdecode\", this._onLowDecode);\n      this._plugin = null;\n    }\n  }]);\n  return PluginExtension2;\n}();\nexport { PluginExtension as default };\n","import { defineProperty as _defineProperty, typeof as _typeof, objectWithoutProperties as _objectWithoutProperties, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { BasePlugin, Events, Errors } from \"xgplayer\";\nimport { MSE, EVENT } from \"xgplayer-streaming-shared\";\nimport { Hls, logger } from \"./hls/index.js\";\nimport { Event } from \"./hls/constants.js\";\nimport PluginExtension from \"./plugin-extension.js\";\nvar _excluded = [\"currentTime\"];\nfunction parseSwitchUrlArgs(args, plugin) {\n  var player = plugin.player;\n  var curTime = player.currentTime;\n  var options = {\n    startTime: curTime\n  };\n  switch (_typeof(args)) {\n    case \"boolean\":\n      options.seamless = args;\n      break;\n    case \"object\": {\n      var currentTime = args.currentTime, rest = _objectWithoutProperties(args, _excluded);\n      Object.assign(options, rest);\n      if (typeof currentTime === \"number\") {\n        options.startTime = currentTime;\n      }\n      break;\n    }\n  }\n  return options;\n}\nvar HlsPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(HlsPlugin2, _BasePlugin);\n  var _super = _createSuper(HlsPlugin2);\n  function HlsPlugin2() {\n    var _this;\n    _classCallCheck(this, HlsPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"logger\", logger);\n    _defineProperty(_assertThisInitialized(_this), \"hls\", null);\n    _defineProperty(_assertThisInitialized(_this), \"pluginExtension\", null);\n    _defineProperty(_assertThisInitialized(_this), \"getStats\", function() {\n      var _this$hls;\n      return (_this$hls = _this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.getStats();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchSubtitle\", function(_ref) {\n      var _this$hls2;\n      var lang = _ref.lang;\n      (_this$hls2 = _this.hls) === null || _this$hls2 === void 0 ? void 0 : _this$hls2.switchSubtitleStream(lang);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_keepPauseStatus\", function() {\n      var paused = _this.player.paused;\n      if (!paused)\n        return;\n      _this.player.once(\"canplay\", function() {\n        _this.player.pause();\n      });\n    });\n    return _this;\n  }\n  _createClass(HlsPlugin2, [{\n    key: \"core\",\n    get: function get() {\n      return this.hls;\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      var _this$hls3;\n      return (_this$hls3 = this.hls) === null || _this$hls3 === void 0 ? void 0 : _this$hls3.version;\n    }\n  }, {\n    key: \"softDecode\",\n    get: function get() {\n      var _this$player, _this$player$config;\n      var mediaType = (_this$player = this.player) === null || _this$player === void 0 ? void 0 : (_this$player$config = _this$player.config) === null || _this$player$config === void 0 ? void 0 : _this$player$config.mediaType;\n      return !!mediaType && mediaType !== \"video\" && mediaType !== \"audio\";\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n      var _this2 = this;\n      var config = this.player.config;\n      var mediaElem = this.player.media || this.player.video;\n      var hlsOpts = config.hls || {};\n      if (!config.url && !config.__allowHlsEmptyUrl__ || !hlsOpts.preferMMS && MSE.isMMSOnly()) {\n        return;\n      }\n      if (this.hls)\n        this.hls.destroy();\n      var descriptor = Object.getOwnPropertyDescriptor(this.player, \"switchURL\");\n      if (!descriptor || descriptor.writable) {\n        this.player.switchURL = function(url, args) {\n          return new Promise(function(resolve, reject) {\n            var player = _this2.player, hls = _this2.hls;\n            if (hls) {\n              var _this2$player$config, _this2$player$config$;\n              var options = parseSwitchUrlArgs(args, _this2);\n              player.config.url = url;\n              hls.switchURL(url, options).then(function() {\n                return resolve(true);\n              }).catch(reject);\n              if (!options.seamless && (_this2$player$config = _this2.player.config) !== null && _this2$player$config !== void 0 && (_this2$player$config$ = _this2$player$config.hls) !== null && _this2$player$config$ !== void 0 && _this2$player$config$.keepStatusAfterSwitch) {\n                _this2._keepPauseStatus();\n              }\n            } else {\n              reject();\n            }\n          });\n        };\n      }\n      var onSwitchUrl = this.player.switchURL;\n      this.player.handleSource = false;\n      hlsOpts.innerDegrade = hlsOpts.innerDegrade || config.innerDegrade;\n      if (hlsOpts.disconnectTime === null || hlsOpts.disconnectTime === void 0)\n        hlsOpts.disconnectTime = 0;\n      this.hls = new Hls(_objectSpread2({\n        softDecode: this.softDecode,\n        isLive: config.isLive,\n        media: mediaElem,\n        startTime: config.startTime,\n        url: config.url\n      }, hlsOpts));\n      if (!this.softDecode) {\n        BasePlugin.defineGetterOrSetter(this.player, {\n          url: {\n            get: function get() {\n              var _this2$hls, _this2$hls$media;\n              return (_this2$hls = _this2.hls) === null || _this2$hls === void 0 ? void 0 : (_this2$hls$media = _this2$hls.media) === null || _this2$hls$media === void 0 ? void 0 : _this2$hls$media.src;\n            },\n            configurable: true\n          }\n        });\n      }\n      if (this.softDecode) {\n        this.pluginExtension = new PluginExtension(_objectSpread2({\n          isLive: config.isLive,\n          media: mediaElem\n        }, hlsOpts), this);\n        this.player.forceDegradeToVideo = function() {\n          var _this2$pluginExtensio;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return (_this2$pluginExtensio = _this2.pluginExtension) === null || _this2$pluginExtensio === void 0 ? void 0 : _this2$pluginExtensio.forceDegradeToVideo.apply(_this2$pluginExtensio, args);\n        };\n      }\n      if (config.isLive) {\n        var _this$player2;\n        (_this$player2 = this.player) === null || _this$player2 === void 0 ? void 0 : _this$player2.useHooks(\"replay\", function() {\n          var _this2$hls2;\n          return (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.replay();\n        });\n      }\n      this.on(Events.URL_CHANGE, onSwitchUrl);\n      this.on(Events.SWITCH_SUBTITLE || \"switch_subtitle\", this._onSwitchSubtitle);\n      this.on(Events.DESTROY, this.destroy.bind(this));\n      this._transError();\n      this._transCoreEvent(EVENT.TTFB);\n      this._transCoreEvent(EVENT.LOAD_START);\n      this._transCoreEvent(EVENT.LOAD_RESPONSE_HEADERS);\n      this._transCoreEvent(EVENT.LOAD_COMPLETE);\n      this._transCoreEvent(EVENT.LOAD_RETRY);\n      this._transCoreEvent(EVENT.SOURCEBUFFER_CREATED);\n      this._transCoreEvent(EVENT.MEDIASOURCE_OPENED);\n      this._transCoreEvent(EVENT.APPEND_BUFFER);\n      this._transCoreEvent(EVENT.REMOVE_BUFFER);\n      this._transCoreEvent(EVENT.BUFFEREOS);\n      this._transCoreEvent(EVENT.KEYFRAME);\n      this._transCoreEvent(EVENT.METADATA_PARSED);\n      this._transCoreEvent(EVENT.DEMUXED_TRACK);\n      this._transCoreEvent(EVENT.SEI);\n      this._transCoreEvent(EVENT.SEI_IN_TIME);\n      this._transCoreEvent(EVENT.SPEED);\n      this._transCoreEvent(EVENT.HLS_MANIFEST_LOADED);\n      this._transCoreEvent(EVENT.HLS_LEVEL_LOADED);\n      this._transCoreEvent(EVENT.STREAM_EXCEPTION);\n      this._transCoreEvent(EVENT.SWITCH_URL_SUCCESS);\n      this._transCoreEvent(EVENT.SWITCH_URL_FAILED);\n      this._transCoreEvent(Event.NO_AUDIO_TRACK);\n      this._transCoreEvent(Event.STREAM_PARSED);\n      this._transCoreEvent(Event.SUBTITLE_SEGMENTS);\n      this._transCoreEvent(Event.SUBTITLE_PLAYLIST);\n      this._transCoreEvent(Event.APPEND_COST);\n      if (config.url) {\n        this.hls.load(config.url, {\n          reuseMse: true\n        }).catch(function(e) {\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$pluginExtension;\n      if (this.hls) {\n        this.hls.destroy();\n        this.hls = null;\n      }\n      (_this$pluginExtension = this.pluginExtension) === null || _this$pluginExtension === void 0 ? void 0 : _this$pluginExtension.destroy();\n      this.pluginExtension = null;\n    }\n  }, {\n    key: \"_transError\",\n    value: function _transError() {\n      var _this3 = this;\n      this.hls.on(Event.ERROR, function(err) {\n        if (_this3.player) {\n          _this3.player.emit(Events.ERROR, new Errors(_this3.player, err));\n        }\n      });\n    }\n  }, {\n    key: \"_transCoreEvent\",\n    value: function _transCoreEvent(eventName) {\n      var _this4 = this;\n      this.hls.on(eventName, function(e) {\n        if (_this4.player) {\n          _this4.player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, e), {}, {\n            eventName\n          }));\n          if (eventName === EVENT.SEI_IN_TIME && _this4.hls.hasSubtitle) {\n            _this4._emitSeiPaylodTime(e);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_emitSeiPaylodTime\",\n    value: function _emitSeiPaylodTime(e) {\n      try {\n        var seiJson = JSON.parse(Array.from(e.data.payload).map(function(x) {\n          return String.fromCharCode(x);\n        }).join(\"\").slice(0, -1));\n        if (!seiJson[\"rtmp_dts\"])\n          return;\n        this.player.emit(\"core_event\", {\n          eventName: Event.SEI_PAYLOAD_TIME,\n          time: seiJson[\"rtmp_dts\"]\n        });\n      } catch (e2) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"hls\";\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported(mediaType, codec) {\n      return Hls.isSupported(mediaType, codec);\n    }\n  }]);\n  return HlsPlugin2;\n}(BasePlugin);\n_defineProperty(HlsPlugin, \"Hls\", Hls);\n_defineProperty(HlsPlugin, \"EVENT\", Event);\nexport { HlsPlugin, parseSwitchUrlArgs };\n","import { render } from \"./index.vue?vue&type=template&id=d9ee5164&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=d9ee5164&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=d9ee5164&lang=scss&scoped=true\"\nimport \"./index.vue?vue&type=style&index=2&id=d9ee5164&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d9ee5164\"]])\n\nexport default __exports__"],"names":["DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","module","exports","require","_delegate","type","callback","useCapture","listenerFn","listener","apply","this","arguments","addEventListener","destroy","removeEventListener","delegate","elements","bind","document","querySelectorAll","Array","map","call","e","delegateTarget","target","root","factory","define","download","data","strFileName","strMimeType","blob","reader","self","window","defaultMime","mimeType","payload","url","anchor","createElement","toString","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","length","split","pop","href","indexOf","ajax","XMLHttpRequest","open","responseType","onload","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","i","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","decoder","atob","decodeURIComponent","binData","uiArr","winMode","setAttribute","className","innerHTML","style","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","replace","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","has","Object","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","slice","getOwnPropertySymbols","concat","listeners","handlers","l","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","undefined","j","on","removeAllListeners","off","prefixed","class","_createElementBlock","_hoisted_1","_createElementVNode","disabled","$props","currentPage","onClick","_cache","$options","goToPreviousTenPages","_createVNode","_component_van_icon","_hoisted_2","_hoisted_3","_Fragment","_renderList","visiblePages","page","key","_normalizeClass","active","$event","goToPage","_hoisted_4","totalPages","goToNextTenPages","_hoisted_5","props","Number","required","emits","computed","startPage","Math","floor","endPage","min","from","_","methods","$emit","newPage","max","__exports__","render","$data","_ads","item","_component_van_image","goAd","link","fit","position","picUrl","loading","_withCtx","_component_van_loading","size","goHome","goCategory","classifyName","_createTextVNode","_toDisplayString","title","_hoisted_6","_hoisted_7","id","_hoisted_8","_ctx","language","_hoisted_9","_createCommentVNode","_hoisted_10","titleUs","_hoisted_11","titleCn","_hoisted_12","_hoisted_13","_imports_0","alt","watchTimes","_hoisted_14","_imports_1","formatTime","createdAt","titleChinese","_hoisted_15","_hoisted_16","_hoisted_17","videos","_hoisted_18","_createBlock","_component_Card","classifyId","specialId","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_component_Pagination","total","pageNum","onPageChange","handlePageChange","XG_DEBUG_OPEN","STYLE","info","error","warn","XGTAG","XG_DEBUG","config","debug","logInfo","message","optionalParams","console","log","logWarn","logError","_fun","bindDebug","player","XgplayerTimeRange","bufferedList","start","index","end","util","checkIsIn","list","isObject","value","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","requestAnimationFrame","invokeFunc","time","thisArg","startTimer","pendingFunc","wait2","cancelAnimationFrame","cancelTimer","clearTimeout","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","Date","now","trailingEdge","cancel","flush","pending","debounced","isInvoking","throttle","getLang","lang","documentElement","getAttribute","toLocaleLowerCase","checkIsCurrentVideo","playerId","pid","tagName","createDom","el","tpl","attrs","cname","dom","keys","forEach","createDomFromHtml","html","classname","doc","children","addClass","err","hasClass","some","classList","orgClassName","match","RegExp","add","removeClass","remove","reg","toggleClass","classNames","typeOf","join","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","maxlen","ceil","chars","r","substring","format","isNaN","round","hour","minute","second","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","obj","deepCopy","dst","Node","deepMerge","getBgImage","backgroundImage","copyDom","back","attributes","node","setInterval","eventName","intervalFunc","frequency","_interval","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","btn","w","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","styleArr","arr","filterStyleFromText","_cssText","cssText","ret","remain","getStyleFromCsstext","preloadImg","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","b","diff","buffered2","buf2len","buf2end","getEventPos","zoom","x","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","media","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","d","getTime","performance","uuid","c","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","stylesKeys","lastIndex","convertDeg","abs","getIndexByTime","segments","_len","_index","getOffsetCurrentTime","currentTime","cTime","offset","getCurrentTimeByOffset","offsetTime","VERSION_REG","android","ios","H264_MIMETYPES","sniffer","device","os","isPc","browser","ua","toLowerCase","ie","firefox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","osVersion","_match","exec","version","isWeixin","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","i18n","ended","readyState","networkState","_errc","code","playerVersion","stack","host","ex","msg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","LOADED_METADATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","LEAVE_PLAYER","ENTER_PLAYER","LOADING","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","emitVideoEvent","eventKey","errorHandler","getVideoEventHandler","_err","eData","originalEvent","detail","timeStamp","paused","isInternalOp","_internalOp","muted","volume","vtype","removeInnerOP","_currentTime","_rate","playbackRate","_duration","isMutedChange","_lastMuted","mediaEventMiddleware","MediaProxy","super","_hasStart","mediaConfig","assign","controls","autoplay","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","mediaType","videoAttributes","playerType","x5VideoPlayerType","loop","autoplayMuted","defaultPlaybackRate","attachVideoEvents","setEventsMiddleware","middlewares","removeEventsMiddleware","_evHandlers","funName","charAt","toUpperCase","detachVideoEvents","_attachSourceEvents","urls","removeAttribute","load","_c","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","_detachSourceEvents","_e","pause","k","play","getBufferedRange","range","isTrue","bufferedPoint","_buffered","crossOrigin","defaultMuted","errorNote","status","rate","Infinity","played","preload","seekable","seeking","onWaiting","vol","aspectRatio","videoWidth","videoHeight","addInnerOP","offAll","INDEXDB","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","openDB","request","onsuccess","onupgradeneeded","transaction","objectStoreNames","contains","createObjectStore","keyPath","deletedb","deleteDatabase","closeDB","close","addData","storename","store","objectStore","putData","put","getDataByKey","get","deleteData","delete","clearData","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","handler","next","then","args2","hook","hookName","preset","pre","__hooks","pluginName","preRet","isContinue","catch","useHooks","removeHooks","usePluginHooks","plugins","plugin","removePluginHooks","hooksDescriptor","instance","presetHooks","defineProperty","delHooksDescriptor","runHooks","showErrorMsg","BasePlugin","defineGetterOrSetter","Obj","defaultConfig","beforeCreate","__args","__events","__onceEvents","playerConfig","__init","afterCreate","beforePlayerInit","onPluginsReady","afterPlayerInit","logger","updateLang","i18nKeys","domEventType","isArray","res","emitUserAction","action","params","nParams","registerPlugin","getPlugin","__destroy","unRegisterPlugin","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","PLUGIN_STATE_CLASS","ICON_DISABLE","ICON_HIDE","isUrl","mergeIconClass","icon","mergeIconAttr","attr","createIcon","newIcon","key2","tag","registerIconsObj","iconsConfig","_icons","icons","orgIcon","registerTextObj","textConfig","langText","Plugin","insert","parent","insertIdx","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","eventType","capture","dels","__delegates","_parent","_el","_orgicons","registerIcons","defaultTexConfig","registerLanguageTexts","renderStr","Error","setAttr","setStyle","__registerChildren","_children","_plugin","Plugin2","checkChildren","langKey","langTextShow","changeLangTextKey","disable","find","enable","qs","bindEL","unbind","unbindEL","setHtml","htmlStr","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","pdom","child","__defProp","__defNormalProp","enumerable","configurable","writable","__publicField","ResizeObserver","entries","t","__runHandler","__handlers","observer","__trigger","addObserver","observe","_pid","unObserver","unobserve","destroyObserver","disconnect","resizeObserver","pluginsManager","pluginGroup","init","cgid","_pluginInfoId","closeResizeObserver","resize","_originalOptions","_plugins","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","lazyRegister","lazyPlugin","timeout","race","loader","__esModule","default","register","reject","originalOptions","isSupported","codecType","unRegister","_instance","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","prevTask","_loadingPlugins","all","pluginsRet","pName","afterInit","setLang","reRender","_pList","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","BUILTIN_CLASS","MOBILE","MINI","getDefaultConfig","isNoRoot","isCustomRoot","nullUrlStart","fluid","fitVideoSize","videoFillMode","isLive","videoInit","poster","isMobileSimulateMode","execBeforePluginsCall","allowSeekAfterEnded","enableContextmenu","closeVideoClick","closeVideoDblclick","closePlayerBlur","closeDelayBlur","leavePlayerTime","closePlayVideoFocus","closePauseVideoFocus","closeFocusVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","miniprogress","disableSwipeHandler","enableSwipeHandler","preProcessUrl","ignores","whitelist","inactive","marginControls","fullscreenTarget","screenShot","pip","mini","cssFullscreen","keyShortcut","presets","definition","customDuration","timeOffset","thumbnail","isHideTips","minWaitDelay","commonStyle","progressColor","playedColor","cachedColor","sliderBtnStyle","volumeColor","usePreset","Preset","presetInst","_ci18n","EN","LANG","TEXT","network","mse","parse","runtime","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","extend","i18nTextList","i18nLangs","lang2","keyLang","use","langData","_clang","texts","pId","I18N","zh","STATES","INITIAL","ATTACHING","ATTACHED","NOTALLOW","RUNNING","DESTROYED","STATE_ARRAY","InstManager","getInstance","setActive","isUserActive","_iterate","endEarly","flag","findAll","isActive","inst","isInstNext","getActiveId","setNext","isNext","checkPlayerRoot","p","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","instManager","_Player","__startTime","_useAutoplay","mediaPlay","canPlayFunc","isFullScreen","delayResize","fullEl","_fullActionFrom","prop","to","isVideo","_fullscreenEl","focus","fullscreen","changeFullStyle","_fullScreenOffset","cssfullscreen","exitCssFullscreen","needFullscreenScroll","scrollTo","left","top","recoverFullStyle","onFullscreenChange","defaultPreset","defaultIdx","userTimer","waitTimer","handleSource","_state","isError","isSeeking","isCanplay","rotateDeg","isRotateFullscreen","timeSegments","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","pi","vy","vx","sizeInfo","_accPlayed","acc","loopAcc","_offsetInfo","innerContainer","topBar","__i18n","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","_initMedia","rootInit","_initDOM","defaultDefinitionObj","defaultDefinition","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","hasStart","state","debugger","getCurrentUserActivePlayerId","setCurrentUserActive","XgVideoProxy","_nVideo","vid","line","handle","_initBaseDoms","width2","height2","getBoundingClientRect","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","_unbindEvents","mousemoveFunc","_clearUserTimer","_startInit","_root","firstChild","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","_getRootByPosition","_retPlugin","exits","deregister","removedFromConfig","removePluginFromConfig","plugin2","_furl","_preProcessUrl","lineNumber","switchURL","_src","curTime","isPaused","_error","_canplay","videoPlay","playPromise","onError","_errorTimer","mediaPause","videoPause","seek","isSeekedPlay","_status","changeDefinition","bitrate","seamless","reload","reloadFunc","resetState","REPLAY2","ERROR2","LOADING2","clsList","cls","reset","unregisterPlugins","isResetConfig","pn","de","updateAcc","exitFullscreen","cList","isBuildIn","replay","onPlay","retry","cur","_srcRet","rootClass","pClassName","_orgPCss","getFullscreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","exitRotateFullscreen","webkitExitFullScreen","getCssFullscreen","_class","useCssFullscreen","getRotateFullscreen","setRotateDeg","_rootStyle","innerHeight","deg","orientation","autoHide","delay","onFocus","blur","ignorePaused","onBlur","isLock","onEmptied","onCanplay","onDurationchange","onLoadeddata","onLoadstart","onPause","onEnded","onSeeking","onSeeked","onPlaying","onTimeupdate","onVolumechange","onRatechange","endType","_at","checkBuffer","resizePosition","_pi","_pos","offsetWidth","offsetHeight","rHeight","rWidth","formStyle","transform","webkitTransform","setConfig","playNext","containerSize","controlsHeight","videoFit","_style","paddingTop","videoScale","vWidth","vHeight","cWidth","cHeight","updateObjectPosition","objectPosition","newState","isFullscreen","isCssfullScreen","bool","isPlaying","definitionList","curDef","targetDef","_a","videoFrameInfo","dropped","corrupted","droppedRate","droppedDuration","getVideoPlaybackQuality","_quality","droppedVideoFrames","totalVideoFrames","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","update","fullscreenChanging","videoRotateDeg","avgSpeed","realTimeSpeed","offsetCurrentTime","offsetDuration","setUserActive","isMuted","Boolean","install","descriptor","Player","Controls","initShow","center","right","innerRoot","isMini","onMouseEnter","onMouseLeave","focusAwhile","recoverAutoHide","pauseAutoHide","LOG_TYPES","FIRST_FRAME","WAIT_START","WAIT_END","SEEK_START","SEEK_END","XGLogger","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","_startWaitTimeout","waitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","costTime","_now","_cost","_fixedCost","fixedCostTime","ReplaySvg","DOMParser","parseFromString","Replay","__handleReplay","preventDefault","path","handleReplay","Poster","isEndedShow","hideCanplay","notHidden","fillMode","onTimeUpdate","getBgSize","_bg","PlaySvg","PauseSvg","AnimateMap","addAnimate","seconds","clearAnimation","Start","autoPlayStart","onPlayPause","isShowPause","isShowEnd","disableAnimate","initIcons","onAutoplayStart","onPlayerReset","clickHandler","switchPausePlay","cancelable","startPlay","startPause","focusHide","recover","switchStatus","isAnimate","animate","endShow","_animateId","endAnimate","Enter","innerHtml","logo","HTMLElement","barStr","xgIconTips","textKey","isShow","MiniScreenIcon","getMini","exitMini","getStyleSize","num","isValid","measurements","measurementsLength","getZeroSize","innerWidth","outerWidth","outerHeight","measurement","getStyle","elem","getSize","isBorderBox","boxSizing","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","START","MOVE","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","isEnabled","isDragging","isDown","downPoint","dragPoint","startPos","_handlerDom","_bindStartEvent","_startKey","_unbindStartEvent","_bindPostStartEvents","_boundPointerEvents","_unbindPostStartEvents","onUp","onDocUp","positionDrag","webKitTransform","setLeftTop","onmousedown","dragStart","onmousemove","dragMove","onmouseup","dragEnd","ontouchstart","touchIdentifier","pointerId","ontouchmove","ontouchend","ontouchcancel","dragCancel","pointer","_getPosition","maxY","maxX","dragRealStart","presetInfo","_dragPointerMove","moveVector","hasDragStarted","dragX","dragY","checkContain","axis","drag","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","isClose","scrollY","scrollHeight","lastStyle","isShowIcon","isScrollSwitch","disableDrag","onCancelClick","onCenterClick","_draggabilly","onScroll","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","switchPlayPause","initEvents","onVideoClick","onVideoDblClick","onContextmenu","returnValue","cancelBubble","PRESS","PRESS_END","DOUBlE_CLICK","CLICK","TOUCH_MOVE","TOUCH_START","TOUCH_END","TOUCHS","move","MOUSES","pressDelay","dbClickDelay","disablePress","disableDbClick","miniStep","needPreventDefault","Touche","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","moving","press","__setDb","diffx","diffy","pressIntrvalId","dbIntrvalId","_initEvent","onTouchStart","__clearDb","touchend","touchmove","SeekTipIcon","ACTIONS","AUTO","PLAYBACK","LIGHT","MobilePlugin","touche","getTouche","disableGesture","isStart","timer","rect","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","miniMoveStep","hideControlsActive","scope","checkScope","gestureY","gestureX","executeMove","resetSeekState","endLastMove","resetPos","changeAction","checkIsRootTarget","light","gradient","isTouchingSeek","miniYPer","pressRate","darkness","maxDarkness","disableActive","disableTimeProgress","hideControlsEnd","moveDuration","closedbClick","disableSeekIcon","focusVideoClick","seekTipIcon","xgMask","initCustomStyle","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","eventsMap","pressend","doubleclick","progressPlugin","progress","addCallBack","activeSeekNote","forward","usable","createThumbnail","timePreview","timePreviewStyle","curTimeColor","durationColor","backgroundColor","previewDom","curColor","durColor","color","startPlugin","mold","updateTime","updateBrightness","updateVolume","lastScope","toFixed","sendUseAction","dbClickHandler","onDbClick","onPress","onPressEnd","percent","updatePercent","isForward","updateThumbnails","enableGesture","isDisableTag","isContentEditable","Keyboard","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","seekStep","checkVisible","keyCodeMap","mergekeyCodeMap","extendkeyCodeMap","key1","space","noBodyTarget","up","down","pressAction","esc","isPress","tt","onKeydown","onBodyKeyDown","newConfig","rec","bottom","isBodyTarget","downVolume","upVolume","_time","_step","_seekTime","seekBack","changePlaybackRate","playPause","handleKeyCode","curKeyCode","_action","loadingIcon","Loading","TPL","styleKey","InnerList","fragments","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedIndex","playedIndex","focusIndex","updateDuration","updateProgress","newIndex","curIndex","millisecond","progressList","curPFrag","per","updateFocus","unHightLight","_data","preIndex","fragment","newPIndex","findIndex","setHightLight","cached","newCIndex","findHightLight","findFragment","newOptions","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","_ePos","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","isPauseMoving","closeMoveSeek","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","onMoveEnd","_mouseUpHandlerHook","isEnter","miniStartStep","_mouseMoveHandlerHook","unlock","useable","__dragCallBacks","direc","_disableBlur","isDragingSeek","isCloseClickSeek","endedDiff","changeState","_initInner","innerList","outer","isMobile","onCacheUpdate","onReset","onVideoResize","bindDomEvents","frags","boxShadow","removeCallBack","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","onMouseOver","onMouseOut","onBodyClick","disableBlur","enableBlur","realTime","rLeft","timeIcon","resetActive","notSeek","_end","thumbnailPlugin","controlsMode","Icon","_onMouseenter","_onMouseLeave","Play","btnClick","tipDom","BackSVG","TopBackIcon","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","rotateFullscreen","useScreenOrientation","lockOrientationType","switchCallback","needBackIcon","handleFullscreen","toggleFullScreen","tipsDom","topBackIcon","_onOrientationChange","unlockScreen","e2","lockScreen","screen","lock","Time","isActiving","constrolsMode","createCenterTime","durationDom","timeDom","centerCurDom","centerDurDom","current","minWidthTime","changeLiveState","timeStr","updateState","TimeSegmentsControls","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","getSeekTime","_onDurationChange","_onLoadedData","_onPlay","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","diff2","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isMoving","unFocus","showValueLabel","updateVolumeValue","miniVolume","volumeSmall","volumeLarge","volumeMuted","_timerId","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","$labelValue","innerText","isForce","isShowVolumeValue","RotateSvg","Rotate","innerRotate","clockwise","onBtnClick","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","_transform","_styles","transformOrigin","times","factor","PipIcon","PipIconExit","PresentationMode","INLINE","isPIPAvailable","isPip","exitPIP","requestPIP","showIcon","preferDocument","docPiPNode","docPiPStyle","checkWebkitSetPresentationMode","webkitSetPresentationMode","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","pipWindow","enterPIPCallback","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","copyStyleIntoPiPWindow","pipWin","textContent","styleSheets","style2","cssRules","rule","rel","head","isDocPIPAvailable","pipOptions","playerRect","documentPictureInPicture","requestWindow","pipRoot","parentElement","previousSibling","nextSibling","append","cssContent","requestPictureInPicture","reason","exitPictureInPicture","pictureInPictureElement","_isEnabled","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","protocol","Next","PlayNextIcon","idx","urlList","nextHandler","changeSrc","DownloadSvg","Download","dUrl","newUrl","getAbsoluteURL","downloadUtil","_handler","div","ScreenShot","quality","saveImg","fitVideo","screenshotIcon","initSize","onClickBtn","saveScreenShot","filename","saveLink","initMouseEvent","dispatchEvent","createCanvas","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","option","mediaRatio","canvasRatio","sx","sy","sw","sh","dx","dy","dw","dh","drawImage","toDataURL","OptionList","maxHeight","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","changeCallback","curSelected","getAttrObj","LIST_TYPES","SIDE","MIDDLE","TOGGLE_MODES","HOVER","getListClassName","listType","IS_MOBILE","OptionsIcon","switchActiveState","toggleMode","toggle","enterType","isIcons","curValue","listStyle","hidePortrait","isItemClickHide","heightLimit","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","getTextByLang","curItem","changeCurrentText","itemList","_maxH","DefinitionIcon","changeDefinitionList","initDefinition","items","showItem","PlaybackRate","curRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","handleCssFullscreen","contentIcon","switchTips","ErrorPlugin","errorRetry","handleError","Prompt","interval","highlight","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","updateDot","needShow","dot","showDot","deleteDot","del","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","_pop","pRect","rect1","_left","_diff","getAllDotsDom","getDotDom","initDotsAPI","ispots","progressDot","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","isHideThumbnailHover","isDrag","_curDot","onDotMouseLeave","blurDot","focusDot","videoPreview","videothumbnail","miniWidth","defaultText","isFocusDots","isShowThumbnail","isShowCoverPreview","handlerSpotClick","_event","transformTimeHook","setTimeContent","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","onProgressMove","updatePosition","onProgressDragStart","onProgressDragEnd","onProgressClick","updateLinePos","cwidth","isflex","lwidth","updateTimeText","showTips","hideTips","thumbnailConfig","tRoot","totalWidth","widthPerSeconds","_activeDotId","isDefault","Thumbnail","pic_num","col","row","ratio","_preloadMark","initThumbnail","getUrlByIndex","getPosition","containerWidth","containerHeight","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","backgroundPosition","customStyle","changeConfig","getBgColor","MiniProgress","stateClass","MODES","REAL_TIME","FRAME_RATE","POSTER","nowTime","checkIsSupportCanvas","ctx","isSupportCanvas","DynamicBg","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","isInnerRender","frameRate","addMask","multiple","maskBg","supportCanvasFilter","dynamicBg","rwidth","rheight","renderByPoster","onLoadedData","onVisibilitychange","canvasFilter","webkitFilter","mask","background","_p","_tVideo","HTMLVideoElement","flyVideo","_tagName","updateImg","image","sourcePI","ZH","INFO","Stats","actionData","_getTime","_stats","stats","getStats","JSON","stringify","downloadUrl","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","downloadStats","profile","_infoProfile","_info","startMs","endMs","dur","cat","ph","tid","ts","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","allStat","msgs","stat","traceEvents","GapJump","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","seekEnd","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","DEFAULT_SPEED_TYPE","SPEED_TYPE","TestSpeed","speedListCache","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","headers","Range","setRequestHeader","onreadystatechange","getResponseHeader","saveSpeedMax","shift","getSpeedName","updateSpeed","getSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","tick","stuckCount","reportFrame","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","_startTick","_stopTick","_timer","_checkDecodeFPS","_checkBuffer","enoughBuffer","buffers","_checkStuck","curDecodedFrames","checkInterval","hidden","_reset","currTime","curDecoded","DefaultPreset","simulateMode","basePlugin","vodPlugins","contolsIcons","layers","PresetPlayer","_iterableToArrayLimit","_i","Symbol","iterator","_r","_arr","_n","done","return","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_regeneratorRuntime","Op","hasOwn","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","value2","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","next2","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","async","iter","reverse","skipTempReset","prev","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_typeof","obj2","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_classCallCheck","Constructor","_defineProperties","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","o2","p2","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_slicedToArray","_arrayWithHoles","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","minLen","n","arr2","_toPrimitive","input","hint","prim","toPrimitive","_construct","Parent","Class","Parent2","Class2","Function","_isNativeFunction","_wrapNativeSuper","Map","set","Wrapper","_superPropBase","property","_get","receiver","base","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","step","_ERR_CODE","Buffer","Buffer2","buf","maxHole","buffers2","bufLen","lastEnd","reduce","nextStart","nextEnd","prevStart","prevEnd","behind","remaining","totalLength","isBrowser","ERR","MANIFEST","NETWORK","NETWORK_TIMEOUT","NETWORK_FORBIDDEN","NETWORK_NOTFOUND","NETWROK_RANGE_NOT_SATISFIABLE","DEMUX","REMUX","MEDIA","DRM","OTHER","RUNTIME","SUB_TYPES","FLV","HLS","MP4","FMP4","MSE_ADD_SB","MSE_APPEND_BUFFER","MSE_OTHER","MSE_FULL","MSE_CHANGE_TYPE","OPTION","DASH","LICENSE","CUSTOM_LICENSE","MSE_HIJACK","EME_HIJACK","SIDX","NO_CANPLAY_ERROR","BUFFERBREAK_ERROR","WAITING_TIMEOUT_ERROR","MEDIA_ERR_CODEC_NOT_SUPPORTED","MEDIA_ERR_URL_EMPTY","ERR_CODE","StreamingError","_Error","StreamingError2","_super","subType","origin","_this","_error$response","isTimeout","httpCode","LogCacheLevel","LOG_MAX_SIZE","SIMPLE_TYPE","Logger","Logger2","_prefix","logCacheLevel","logMaxSize","logSize","logTextArray","_console","_key","logCache","DEBUG","_console2","_len2","_key2","LOG","_console3","_len3","_key3","WARN","_console4","_len4","_key4","_len5","logText","_key5","finLogText","logable","delLog","_console5","group","table","groupEnd","toLocaleString","reduceDepth","objType","maxDepth","depth","includes","createPublicPromise","rej","promise","used","SafeJSON","getMediaSource","preferMMS","ManagedMediaSource","isMMS","mediaSource","getTimeRanges","ranges","TimeRanges","OP_NAME","APPEND","REMOVE","UPDATE_DURATION","MSE","MSE2","_this2","queue","_queue","op","opName","_this2$_sourceBuffer$","_op$context","costtime","_opst","_sourceBuffer","_startQueue","_config","bindMedia","openLog","_this$mediaSource","_this3","_url","_this$mediaSource2","streaming","_mseFullFlag","VIDEO","_this4","isReduceDuration","bufferEnd","_enqueueBlockingOp","_this5","_openPromise","isOpened","ms","onOpen","onOpen2","_st","_bindMedia","_callee","MediaSource2","useMMS","_this6","_context","unbindMedia","_onStartStreaming","_onEndStreaming","disableRemotePlayback","_unbindMedia","_callee2","hasMetadata","mseOpen","_this7","_context2","_x$promise","_x$promise$resolve","endOfStream","removeSourceBuffer","sb","addSourceBuffer","_onSBUpdateEnd","_onSBUpdateError","_this8","changeType","_enqueueOp","createSource","buffer","_this9","byteLength","_this9$_sourceBuffer$","appendBuffer","endTime","_this10","isInsertHead","_this11","_this12","allClear","_this$_queue$type","initQueue","isinit","_this13","setLiveSeekableRange","_this14","_enqueueBlockingOp2","_callee3","types","waiters","_this15","_context3","prom","updating","_x2","_x3","_x4","isFull","timestampOffset","_this16","_this17","abort","EVENT","TTFB","LOAD_RESPONSE_HEADERS","LOAD_COMPLETE","LOAD_RETRY","SOURCEBUFFER_CREATED","MEDIASOURCE_OPENED","ANALYZE_DURATION_EXCEEDED","APPEND_BUFFER","REMOVE_BUFFER","BUFFEREOS","KEYFRAME","CHASEFRAME","METADATA_PARSED","SEI","SEI_IN_TIME","FLV_SCRIPT_DATA","LOWDECODE","SWITCH_URL_SUCCESS","SWITCH_URL_FAILED","SPEED","HLS_MANIFEST_LOADED","HLS_LEVEL_LOADED","DEMUXED_TRACK","STREAM_EXCEPTION","LARGE_AV_FIRST_FRAME_GAP_DETECT","LARGE_VIDEO_DTS_GAP_DETECT","LARGE_AUDIO_DTS_GAP_DETECT","AUDIO_GAP_DETECT","AUDIO_OVERLAP_DETECT","MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT","isMediaPlaying","creationTime","webkitDroppedFrameCount","webkitDecodedFrameCount","concatUint8Array","prevLen","sleep","SeiService","SeiService2","Set","sei","_seiSet","toThrow","GapService","GapService2","maxJumpDistance","seekThreshold","_prevCurrentTime","Stats2","timescale","_timescale","encodeType","audioCodec","videoCodec","fps","samplerate","channelCount","gop","encode","_ref","_data$onMetaData","onMetaData","framerate","track","codec","fpsNum","fpsDen","sampleRate","responseUrl","samples","sample","_startGopId","gopId","_bitsAccumulateDuration","_bitsAccumulateSize","units","MediaStatsService","MediaStatsService2","core","_core","_this$_core","_this$_core2","_this$_core2$speedInf","_this$_core3","_this$_core3$speedInf","_this$_core4","_this$_core4$speedInf","_this$_core5","_this$_core5$speedInf","_this$_core6","_this$_core6$bufferIn","_ref2","_ref2$currentTime","_ref2$decodeFps","decodeFps","downloadSpeed","speedInfo","totalReceivedByte","totalSize","totalReceivedCost","totalCost","bufferInfo","_ref3","videoTrack","updateBitrate","setFpsFromScriptData","setVideoMeta","setAudioMeta","setDomain","_samples","TrackType","AUDIO","METADATA","VideoCodecType","AV1","AVC","HEVC","AudioCodecType","AAC","G711PCMA","G711PCMU","OPUS","WarningType","LARGE_AV_SHIFT","LARGE_VIDEO_GAP","LARGE_VIDEO_GAP_BETWEEN_CHUNK","LARGE_AUDIO_GAP","AUDIO_FILLED","AUDIO_DROPPED","AudioSample","AudioSample2","pts","sampleOffset","dependsOn","isNonSyncSample","originPts","dts","isFirefox","AAC2","FREQ","skip","frames","samplingFrequencyIndex","protectionSkipBytes","frameLength","objectType","_AAC$_getConfig","_getConfig","frameIndex","getFrameDuration","subarray","originCodec","_AAC$_getConfig2","samplingIndex","originObjectType","extensionSamplingIndex","LARGE_AV_FIRST_FRAME_GAP","AUDIO_GAP_OVERLAP_THRESHOLD_COUNT","MAX_SILENT_FRAME_DURATION","AUDIO_EXCETION_LOG_EMIT_DURATION","MAX_VIDEO_FRAME_DURATION","MAX_DTS_DELTA_WITH_NEXT_CHUNK","LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD","TsFixer","TsFixer2","audioTrack","metadataTrack","fixerConfig","_baseDts","_baseVideoDts","_baseAudioDts","_baseDtsInited","_audioNextPts","_videoNextDts","_audioTimestampBreak","_videoTimestampBreak","_lastAudioExceptionGapDot","_lastAudioExceptionOverlapDot","_lastAudioExceptionLargeGapDot","_needForceFixLargeGap","forceFixLargeGap","_largeGapThreshold","largeGapThreshold","discontinuity","contiguous","vSamples","aSamples","firstVideoSample","firstAudioSample","vaDelta","_calculateBaseDts","vDeltaToNextDts","aDeltaToNextDts","_resetBaseDtsWhenStreamBreaked","_fixAudio","_fixVideo","exist","seiSamples","baseMediaDecodeTime","samp0","_samples$","refSampleDurationInt","sampleDuration","firstSample","nextSample","vDelta","warnings","nextDts","firstSampleDts","nextSampleDts","i2","_samples$i","prevDts","first","_dts","_nextSample","expectFragEnd","originDts","refSampleDuration","_doFixAudioInternal","audioSamps","videoSamps","audioBasePts","videoBaseDts","baseDts","delta","largeGap","isFinite","calc","_audioLastSample","_videoLastSample","nextPts","silentFrame","getSilentFrame","count","silentSample","MAX_SIZE","pow","readBig16","readBig24","readBig32","readBig64","getAvcCodec","codecs","combineToFloat","integer","decimal","toDegree","matrix","scaled0","hypot","scaled1","atan2","PI","NALu","NALu2","dataLen","isHevc","uint","emulationPreventionBytesPositions","newLength","newData","sourceIndex","ExpGolomb","ExpGolomb2","_bytesAvailable","_loadWord","_bitsAvailable","availableBytes","workingBytes","_word","DataView","getUint32","skipBytes","bits","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","deltaScale","lastScale","nextScale","readEG","AVC2","spsParsed","spsSize","nalUnitSize","spsArr","ppsArr","spsCount","sps","parseSPS","removeEPB","ppsSize","ppsCount","eg","readUByte","profileIdc","profileCompatibility","levelIdc","skipUEG","chromaFormat","chromaFormatIdc","readBool","scalingListCount","skipScalingList","picOrderCntType","numRefFramesInPicOrderCntCycle","_i2","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","sarRatio","fixedFrame","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","aspectRatioIdc","numUnitsInTick","timeScale","HEVC2","hvcC","vpsParsed","nalUnitType","numNalus","nalSize","vpsArr","numOfArrays","vps","parseVPS","vpsMaxSubLayersMinus1","numTemporalLayers","_parseProfileTierLevel","spsMaxSubLayersMinus1","temporalIdNested","separateColourPlaneFlag","confWinLeftOffset","confWinRightOffset","confWinTopOffset","confWinBottomOffset","conformanceWindowFlag","bitDepthLumaMinus8","bitDepthChromaMinus8","subWidthC","subHeightC","maxSubLayersMinus1","generalTierFlag","generalProfileSpace","generalProfileIdc","generalProfileCompatibilityFlags","generalConstraintIndicatorFlags","generalLevelIdc","subLayerProfilePresentFlag","subLayerLevelPresentFlag","bitsAvailable","VideoTrack","VideoTrack2","sequenceNumber","present","pps","isVideoEncryption","AudioTrack","AudioTrack2","isAudioEncryption","VideoSample","VideoSample2","keyframe","Sample","Sample2","SeiSample","_Sample2","SeiSample2","_super2","MetadataTrack","MetadataTrack2","flvScriptSamples","TsDemuxer","TsDemuxer2","_fixer","_pmtId","_remainingPacketData","_videoPesData","_audioPesData","remainingLength","videoPid","audioPid","payloadUnitStartIndicator","adaptationFiledControl","tableEnd","programInfoLength","esPid","_parseVideoData","_parseAudioData","formatTimescale","fix","demux","pes","_parsePES","parseAnnexB","_createVideoSample","setToKeyframe","_gopId","parseSEI","spsInfo","ffByteFound","_pushVideoSample","lastSample","_parseAacData","_track$samples","parseADTS","sampleRateIndex","headerDataLen","startPrefix","pesLen","ptsDtsFlags","ByteReader","ByteReader2","dv","byteOffset","byteNum","getFloat32","getFloat64","getInt8","getInt16","getInt32","getUint8","getUint16","read","setUint8","setUint16","setUint32","uint8","unreadLength","fromCharCode","v","concatUint8s","BitReader","BitReader2","byte","MP4Parser","MP4Parser2","headerSize","subData","findBox","box","parseBox","trackId","baseDataOffsetPresent","flags","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","baseDataOffset","sampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","reference_ID","earliest_presentation_time","first_offset","references","ref","tmp32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","mvhd","trak","pssh","nextTrackId","tkhd","mdia","fromUint8","int32","caculatedMatrix","readInt","rotation","mdhd","hdlr","minf","handlerType","vmhd","smhd","stbl","graphicsmode","opcolor","balance","_ret$stsd$entries$","_ret$stsd$entries$$si","_ret$stsd$entries$$si2","stsd","stts","ctts","stsc","stsz","stco","co64","default_IV_size","sinf","schi","tenc","stss","senc","iv","sampleCount","InitializationVector","subsamples","subsampleCount","_j","subsample","BytesOfClearData","BytesOfProtectedData","keyIds","systemId","toHex","numKeyIds","keyId","dataSize","data_size","kid","system_id","entryCount","av01","avc1","hvc1","mp4a","alaw","ret2","data2","start2","samplesize","esds","horizresolution","vertresolution","avcC","pasp","default_IsEncrypted","default_KID","frma","data_format","colorType","readString","colorPrimaries","transferCharacteristics","matrixCoefficients","fullRangeFlag","iccProfile","readToUint8","bodyStart","parseVisualSampleEntry","bodyData","av1C","colr","bitdepth","bit","fromByte","marker","seqProfile","seqLevelIdx0","seqTier0","highBitdepth","twelveBit","monochrome","chromaSubsamplingX","chromaSubsamplingY","chromaSamplePosition","reserved","initialPresentationDelayPresent","initialPresentationDelayMinusOne","configOBUs","configurationVersion","AVCProfileIndication","AVCLevelIndication","lengthSizeMinusOne","spsLength","ppsLength","_i3","_size","tmp","generalProfileCompatibility","avgFrameRate","_ret$vps","nalus","_ret$sps","_ret$pps","hSpacing","vSpacing","parseAudioSampleEntry","byteRead","_i4","firstChunk","samplesPerChunk","sampleSize","entrySizes","mfhd","traf","tfhd","tfdt","trun","dataOffset","firstSampleFlags","cts","isLeading","isDependedOn","hasRedundancy","paddingValue","degradationPriority","moov","_e$esds","_e$esds2","tracks","vTrack","_t$mdia","_t$mdia$hdlr","aTrack","_t$mdia2","_t$mdia2$hdlr","_vTrack$tkhd","_vTrack$mdia","_vTrack$mdia$minf","_vTrack$mdia$minf$stb","_vTrack$mdia2","_vTrack$mdia2$minf","_vTrack$mdia2$minf$st","_vTrackId","tkhdDuration","mvhdDurtion","mvhdTimecale","_e1$sinf","_e1$sinf$schi","_e1$sinf2","_e1$sinf2$schi","_e1$sinf3","_e1$sinf3$schi","_e1$sinf4","_e1$sinf4$frma","e1","videoSenc","useEME","kidValue","encv","_aTrack$tkhd","_e$esds3","_e$esds4","_aTrack$mdia","_aTrack$mdia$minf","_aTrack$mdia$minf$stb","_aTrack$mdia2","_aTrack$mdia2$minf","_aTrack$mdia2$minf$st","_aTrackId","_e$sinf","_e$sinf$frma","_e$sinf2","_e$sinf2$schi","_e$sinf3","_e$sinf3$schi","_e$sinf4","_e$sinf4$schi","getRateIndexByRate","audioSenc","enca","_videoTrack$encv","_audioTrack$enca","vkid","akid","videoSampleCount","_audioTrack$samples","audioSampleCount","segmentDuration","moof","defaultSize","defaultDuration","evaluateDefaultDuration","_t$mdia3","_t$mdia3$hdlr","_t$mdia4","_t$mdia4$hdlr","videoSamples","audioSamples","_vTrack$mdia3","_vTrack$mdia3$minf","videoStbl","getSamples","_aTrack$mdia3","_aTrack$mdia3$minf","_aTrack$mdia$mdhd","audioStbl","_stts","_stsc","_stsz","_stco","keyframeMap","cttsArr","cttsEntries","stscEntries","stcoEntries","stszEntrySizes","stssEntries","chunkIndex","chunkRunIndex","offsetInChunk","lastSampleInChunk","lastChunkInRun","dataReferenceIndex","frameCount","isFullBox","Decryptor","Decryptor2","crypto","msCrypto","subtle","webkitSubtle","externalDecryptor","_this$externalDecrypt","_decryptSegment","_decryptSegment2","seg","_decryptData","keyIv","_decryptData2","aesKey","decrypt","importKey","t0","t1","_x5","_x6","_x7","FMP4Demuxer","FMP4Demuxer2","partData","partDataStart","videoExist","audioExist","isAV01","dataStart","__lastRemainData","lastRemainDataEnd","__lastRemainDataStart","continuous","noDuplicateData","__nextMoofStart","moovBox","dataEnd","moovToTrack","moofBoxes","moofBox","__loadedMoofWraps","nextMoofStart","_iterator","_loop","moofWrap","moofStart","moofToSamples","videoBaseMediaDecodeTime","audioBaseMediaDecodeTime","xStart","sampleData","videoData","audioData","baseOffset","_moovBox","_moofBox","_baseOffset","probe","Concat","ResultConstructor","arrays","UINT32_MAX","MP42","FTYPHEV1","FTYPAVC1","ftyp","content","mvex","mvhd2","trak2","tkhd2","mdia2","mdhd2","hdlr2","HDLR_TYPES","minf2","VMHD","SMHD","DINF","extBox","stbl2","STTS","STSC","STSZ","STCO","opus","avc1hev1","stsd2","_concat$concat","avcc","btrt","schm","typ","boxes","fiel","_concat$concat2","hvcC2","ArrayBuffer","pcf","cif","write","_ref4","esds2","opusAudioDescription","opusSpecificConfig","dOps","Opus","mvex2","trex","trex2","moof2","mfhd2","sencLength","videoSencLength","saiz","saio","trun1","traf2","_sbgp","sbgp","_saiz","_saio","_senc","_trun2","_traf","_trun","_trun3","_sbgp2","_saiz2","_saio2","_senc2","_trun4","_traf2","sdtp","extension","writeUint32","samplesLength","writeUint16","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","sampleLen","_samples$i$flag","_samples$i$cts","trackMP4","mdiaMP4","minfMP4","stblMP4","_ref5","_ref6","sampleDescIndex","samplesSizes","offsets","keyframeIndexes","_ref7","styp","durationCount","earliestTime","mdatSize","sidx","mdat2","mdat","dinf","dref","StblTable","FMP4Remuxer","FMP4Remuxer2","browserVersions","forceFirstIDR","videoInitSegment","audioInitSegment","initSegment","videoSegment","audioSegment","createInit","hasVideo","hasAudio","initMerge","hasSample","_remuxVideo","_remuxAudio","mdata","_sample","mdatView","_offset2","_sample2","u","_offset","STREAM_PARSED","NO_AUDIO_TRACK","SUBTITLE_SEGMENTS","SUBTITLE_PLAYLIST","SEI_PAYLOAD_TIME","APPEND_COST","Transmuxer","Transmuxer2","hls","isMP4","needRemux","_demuxer","_isMP4","_remuxer","videoChunk","audioChunk","needInit","demuxer","demuxAndFix","vParsed","firstDts","firstPts","samplesDuration","aParsed","newId","_initSegmentId","_fireEvents","mseLowLatency","totalDuration","_this$_remuxer$remux","remux","logCC","meta","_excluded","_excluded2","BufferService","BufferService2","softDecode","_softVideo","_mse","decryptor","_decryptor","_this$_transmuxer","_this$_transmuxer$_de","_this$_transmuxer$_de2","_transmuxer","_this$_mse","_this$_mse2","_this$_mse3","hasOpTasks","_this$_mse4","_updateDuration","_sourceCreated","chunk","_directAppend","mix","_createMseSource","_appendBuffer","segment","afterAppend","_this$_transmuxer$tra","_this$_transmuxer$tra2","isFirstAppend","videoRest","audioRest","_this2$hls","_this2$hls2","_needInitSegment","transmux","setTrackExist","_handleCodecChange","task","_x8","_removeBuffer","_args3","clearBuffer","removeEnd","removeBuffer","_evictBuffer","_callee4","bufferBehind","_context4","evictBuffer","_x9","_clearAllBuffer","_callee5","_context5","clearAllBuffer","_callee6","reuseMse","_args6","_context6","_endOfStream","_callee7","_context7","_setLiveSeekableRange","_callee8","_context8","_x10","_x11","_detachMedia","_callee9","_context9","detachMedia","_destroy","_callee10","_this$_decryptor","_context10","tasks","codecList","sourceBuffer","getSourceBuffer","_this$_mse5","getConfig","cfg","maxPlaylistSize","retryCount","retryDelay","pollRetryCount","loadTimeout","manifestLoadTimeout","preloadTime","useLowLatency","targetLatency","maxLatency","allowedStreamTrackChange","seiInTime","manifestList","minSegmentsStartPlay","preferMMSStreaming","LoaderType","FETCH","XHR","ResponseType","ARRAY_BUFFER","NetError","NetError2","isPlainObject","isDate","getRangeValue","setUrlParams","hashIndex","createResponse","contentLength","age","firstByteTime","priOptions","calculateSpeed","byteLen","milliSecond","CACHESIZE","FetchLoader","_EventEmitter","FetchLoader2","_this$_abortControlle","onProgress","onTimeout","onCancel","transformResponse","credentials","cache","redirect","referrer","referrerPolicy","onProcessMinLen","_aborted","_onProcessMinLen","_onCancel","_abortController","AbortController","_running","_range","_vid","_priOptions","signal","_timeoutTimer","rangeValue","Headers","fetch","_response","ok","json","_loadChunk","arrayBuffer","_cancel","_reader","st","getReader","_writeIdx","pump","_this3$_range","startRange","startByte","curLen","retData","temp","_receivedLength","loaderType","onRetryError","transformRequest","transformError","integrity","XhrLoader","XhrLoader2","req","_onProgress","_headers","_withCredentials","_body","_method","_timeout","_runing","_responseType","_firstRtt","_onTimeout","_request","_loadCompleteResolve","_loadCompleteReject","_startLoad","chunkSize","_currentChunkSizeKB","_internalOpen","_startTime","_xhr","withCredentials","_onLoad","_onReadyStatechange","errorEvent","_errorEvent$currentTa","_errorEvent$currentTa2","_errorEvent$currentTa3","currentTarget","statusText","ontimeout","_this$_range","byteStart","_this$_range2","responseURL","_getHeaders","_transformResponse","headerLines","getAllResponseHeaders","header","Task","Task2","alive","_loaderType","_loader","_retryCount","_retryTimer","_canceled","_retryCheckFunc","retryCheckFunc","_this$_config","rest","isRetry","running","NetLoader","NetLoader2","_currentTask","_processTask","cancels","_alive","finally","_this3$_currentTask","_this3$_alive","MasterPlaylist","MasterPlaylist2","MediaType","Audio","Video","SubTitle","ClosedCaptions","KeySystems","CLEAR_KEY","FAIRPLAY","WIDEVINE","PLAYREADY","flatArray","MediaStream","MediaStream2","AudioStream","_MediaStream","AudioStream2","SubTitleStream","_MediaStream3","SubTitleStream2","_super3","MasterStream","MasterStream2","MediaPlaylist","MediaPlaylist2","MediaSegment","MediaSegment2","parentUrl","prevSegment","byteRange","bytes","MediaSegmentKey","MediaSegmentKey2","segKey","keyFormat","keyFormatVersions","sn","setIVFromSN","isKeyFormatValid","isMethodValid","isSegmentEncrypted","isValidKeySystem","REGEXP_TAG","REGEXP_ATTR","REGEXP_ABSOLUTE_URL","REGEXP_URL_PAIR","getLines","parseTag","parseAttr","getAbsoluteUrl","pairs","CODECS_REGEXP","getCodecs","re","isValidDaterange","dateRangeWithSameId","_badValueForSameId","DURATION","_endDate","_startDate","cue","enumeratedStringList","CUE","post","ID","END_ON_NEXT","CLASS","attrValue","dict","parseMasterPlaylist","lines","master","audioStreams","subtitleStreams","_tag","stream","TYPE","URI","autoSelect","AUTOSELECT","NAME","LANGUAGE","CHANNELS","channels","_stream","_attr","BANDWIDTH","RESOLUTION","_attr$RESOLUTION$spli","_attr$RESOLUTION$spli2","CODECS","textCodec","audioGroup","subtitleGroup","SUBTITLES","streams","stream2","parseMediaPlaylist","curSegment","curInitSegment","curKey","curSN","curCC","endOfList","partSegmentIndex","targetDuration","lowLatency","partTargetDuration","canBlockReload","partHoldBack","canSkipUntil","canSkipDateRanges","startSN","startCC","setByteRange","_attr2","independent","cc","partIndex","clone","dataTime","_data$split","_data$split2","_attr3","METHOD","KEYFORMAT","KEYFORMATVERSIONS","IV","_attr4","BYTERANGE","isInitSegment","_attr5","skippedSegments","MAX_SAFE_INTEGER","_attr6","dateRanges","endDate","END_DATE","lastSegment","isLast","endSN","endPartIndex","live","endCC","M3U8Parser","M3U8Parser2","isMediaPlaylist","ManifestLoader","ManifestLoader2","elapsed","retryTime","_useLowLatency","_this$hls$config","fetchOptions","_onLoaderRetry","_audioLoader","_subtitleLoader","_load","audioUrl","subtitleUrl","toLoad","videoText","audioText","subtitleText","videoResUrl","audioResUrl","subtitleResUrl","_yield$Promise$all","_yield$Promise$all2","subtitle","_audio$response","_subtitle$response","_audio$response2","onPreM3U8Parse","playlist","audioPlaylist","subtitlePlaylist","_playlist","_emitOnLoaded","isMaster","_playlist2","cb","errorCb","clamp","Stream","Stream2","_setLLPlaybackPoint","_this$segments$","_this$lastSegment","lastSeg","_this$currentSubtitle","currentSubtitleStream","currentAudioStream","_clearSegments","snDiff","_updateSegments","newSegs","segs","toSwitch","maxStartPoint","usefulSegs","sliceStart","segObj","_endSeg$sn","endSeg","hasNew","toAppend","endTimeBeforeAppend","lastCC","Playlist","Playlist2","_this$currentStream","currentStream","_this$currentStream2","_this$currentSegments","currentSegments","_segmentPointer","_this$currentSegments2","_this$currentStream3","_this$currentStream4","currentSubtitleEndSn","_this$currentStream5","liveEdge","_this$currentStream6","_this$currentSegments3","_this$currentSegments4","_this$currentStream7","_this$currentStream8","_this$currentStream9","getAudioSegment","_this$currentSegments5","dvrWindow","_this$currentSegments6","_this$currentSegments7","setNextSegmentByIndex","newSubtitleSegs","updateSubtitle","_this$currentSegments8","_this$currentStream10","switchSubtitle","clearOldSegment","nbSb","findSegmentIndexByTime","getSegmentByIndex","updateSegmentsRanges","SKIP_SMALL_CHUNK","MAX_CHUNK_SAVE_SIZE","MAX_SEGMENT_SAVE_SIZE","LONGTIME_NO_RECEIVE","BandwidthService","BandwidthService2","opts","_opts","totalByte","_speeds","_this$_opts","_this$_opts2","skipChunkSize","_totalSize","_totalCost","_chunkSpeed","_chunkCache","chunkCountForSpeed","_this$_opts3","cost","longtimeNoReceived","SegmentLoader","SegmentLoader2","_bandwidthService","addRecord","_mapCache","_keyCache","_segmentLoader","_audioSegmentLoader","_keyLoader","getLatestSpeed","getAvgSpeed","audioSeg","loadInit","loadAudioInit","loadVideoSegment","loadAudioSegment","_loadSegment","_loadSegment2","segLoader","_seg$key","mapKey","mapKeyIv","_seg$initSegment$key","mapUrl","_keyUrl","keyUrl","Hls","Hls2","_cfg","_this$_playlist","nextSegment","_assertThisInitialize","minFrameDuration","maxBufferThroughout","bInfo","bufferThroughout","_segmentProcessing","_tryEos","_bufferService","msStreaming","_urlSwitching","_prevSegSn","_loadSegmentDirect","_disconnectTimer","_reloadOnPlay","disconnectTime","_clear","seekRange","newSeekTime","curSeg","segIndex","_onCheckQuotaExceeded","currentSegment","_this$_seiService","latency","_seiService","throw","_checkStreamTrackChange","segLoaderError","_isProcessQuotaExceeded","bufferMaxHoleTolerance","fatal","_emitError","_gapService","do","_manifestLoader","_onLoadeddata","_onPause","hasSubtitle","_this$_bufferService","targetSeg","_this$media","_args4","clearSwitchStatus","_switchUrlOpts","_loadData","_loadData2","manifest","_this$_switchUrlOpts","_this$_switchUrlOpts3","_this$_switchUrlOpts4","_this$_switchUrlOpts2","switchTimePoint","segIdx","nextSeg","bufferClearStartPoint","_this$_switchUrlOpts5","_loadM3U8","setNextSegmentBySN","_prevSegCc","_getSeamlessSwitchPoint","nbSegments","_pollM3U8","_replay","isPlayEmit","_switchURL","defaultOpts","_options","appended","_args7","t2","seamlessSwitch","_switchStream","force","curStream","curId","_args8","_refreshM3U8","switchStream","_switchAudioStream","audioStream","_args9","switchAudioStream","_switchSubtitleStream","stopPoll","switchSubtitleStream","_callee11","_context11","_callee12","_this$_seiService2","_context12","_loadM3U","_callee13","_this$config$manifest","_this$config$manifest2","_this$_playlist$curre","_context13","parseText","upsertPlaylist","_stream$currentAudioS","_stream$currentSubtit","mediaPlaylist","pollInterval","_this$_playlist$lastS","isEmpty","poll","p1","p3","switchToNoEmpty","hadSegmentLoaded","_loadSegmentDirect2","_callee14","loadOnce","cachedError","_this$_playlist$curre2","sameStream","_context14","_reqAndBufferSegment","feedbackLiveEdge","moveSegmentPointer","_reqAndBufferSegment2","_callee15","_this$_bufferService2","responses","before","segStart","_context15","decryptBuffer","_onCheckQuotaExceeded2","_callee16","inBuffered","mediaTime","_context16","changedSeg","checkSegmentTrackChange","_clear2","_callee17","_context17","_reset2","_callee18","_this$_seiService3","_args18","_context18","_tickTimer","_tick","_tickInterval","_error$originError","_this$media2","_this$media3","_this$_seiService4","nextLoadPoint","_this$_stats","latestKbps","_this$_bufferService3","_this$_bufferService4","_this$_playlist2","eosAllowed","isBuffered","msIsOpened","msHasOpTasks","WebAssembly","Logger$1","localStorage","getItem","enableLogger","disableLogger","PluginExtension","PluginExtension2","_this$_plugin","_this$_plugin$player","_this$_plugin2","_this$_plugin2$player","innerDegrade","degradeInfo","_degrade","originVideo","TAG","newVideo","degradeVideo","degrade","replaceChild","hlsPlugin","_init","setPlayMode","_onLowDecode","_this$_opts3$media","parseSwitchUrlArgs","HlsPlugin","_BasePlugin","HlsPlugin2","_this$hls","_this$hls2","_this$hls3","_this$player","_this$player$config","hlsOpts","__allowHlsEmptyUrl__","isMMSOnly","_this2$player$config","_this2$player$config$","keepStatusAfterSwitch","_keepPauseStatus","_this$player2","onSwitchUrl","_this2$hls$media","pluginExtension","forceDegradeToVideo","_this2$pluginExtensio","_onSwitchSubtitle","_transError","_transCoreEvent","_this$pluginExtension","_emitSeiPaylodTime","seiJson","components","Title","Card","Pagination","relatedMap","moreRelatedMap","pageSize","mapState","ads","common","menus","watch","nv","$route","query","initData","immediate","mapActions","toggleLoading","getVideos","moment","getVideoInfo","api","initPlayer","getMenuInfo","classifyInfo","rows","$router","videoCover","dispose","$nextTick","beforeUnmount"],"sourceRoot":""}