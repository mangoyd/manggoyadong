{"version":3,"file":"js/799.ace91195.js","mappings":"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,cAAgBjB,EAAO,GAAGxjB,WAAYwtB,EAAKK,KAAKrK,IAAS1zG,OAAOo9E,GAAmBs2B,EAAO36G,KAAI,SAAS84B,GACpN,OAAO6rF,EAAK/S,KAAK94E,EACnB,KAAK,CAAC+4E,IACR,CACE,OAAO8S,EAAK1U,IAAI7wG,MAAMulH,EAAM,CAACA,EAAKxxB,MAAMqnB,KAAMmK,EAAKhT,KAAKgJ,EAAO,GAAGgB,aAAehB,EAAO,GAAGn9F,SAAUm9F,EAAO,GAAGiB,cAAgBjB,EAAO,GAAGxjB,YAAYlwF,OAAOo9E,GAAmBs2B,EAAO36G,KAAI,SAAS84B,GACjM,OAAO6rF,EAAK/S,KAAK94E,EACnB,KAAK,CAAC6rF,EAAKK,KAAKrK,KAEpB,GACC,CACDpyG,IAAK,OACLuG,MAAO,SAAc0O,GACnB,IAAI25E,EAAY73F,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,IAC7E2lH,EAAQN,EAAK1U,IAAI0U,EAAKxxB,MAAMwe,KAAM,IAAIzuG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAi0F,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACA35E,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,OAEF,OAAOynG,CACT,GACC,CACD18G,IAAK,OACLuG,MAAO,SAAcmpF,GACnB,IAAIitB,EAAQP,EAAK1U,IAAI0U,EAAKxxB,MAAMye,KAAM+S,EAAK5S,KAAK9Z,EAAMrtF,GAAIqtF,EAAMyjB,cAAgB,EAAGzjB,EAAMpgF,MAAOogF,EAAMngF,QAAS6sG,EAAK3S,KAAK/Z,IACzH,OAAOitB,CACT,GACC,CACD38G,IAAK,OACLuG,MAAO,SAAclE,EAAI4S,GACvB,IAAI3F,EAAQvY,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EACzEwY,EAASxY,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EAC1E6lH,EAAQR,EAAK1U,IAAI0U,EAAKxxB,MAAM4e,KAAM,IAAI7uG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA0H,GAAM,GAAK,IACXA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA4S,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA3F,GAAS,EAAI,IACL,IAARA,EACA,EACA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,KAEF,OAAOqtG,CACT,GACC,CACD58G,IAAK,OACLuG,MAAO,SAAcmpF,GACnB,IAAImtB,EAAQT,EAAK1U,IAAI0U,EAAKxxB,MAAM6e,KAAM2S,EAAKrS,KAAKra,EAAMz6E,SAAUy6E,EAAMd,WAAYwtB,EAAKpS,KAAKta,EAAMl5F,MAAO4lH,EAAKnS,KAAKva,IACnH,OAAOmtB,CACT,GACC,CACD7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AAIskH,EAAU,IAAI7hH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EAC2B,IAA3BzC,EAAKw1G,oBACkB,IAAvBx1G,EAAKizG,iBACLzsG,OAAO26B,GAAMnhC,EAAKy1G,eACpB,OAAOyO,EAAK1U,IAAI0U,EAAKxxB,MAAM0gB,KAAMkR,EACnC,GACC,CACDx8G,IAAK,OACLuG,MAAO,SAAcrO,GACnB,IAAIskH,EAAU,IAAI7hH,WAAW,IACzBizG,EAAO,IAAIjzG,WAAW,CAACzC,EAAK21G,YAAYhzG,WAAW,GAAI3C,EAAK21G,YAAYhzG,WAAW,GAAI3C,EAAK21G,YAAYhzG,WAAW,GAAI3C,EAAK21G,YAAYhzG,WAAW,KACnJojH,EAAO,IAAItjH,WAAW,CACxB,EACA,EACA,EACA,EACA,GACA,IACA,IACA,GACA,EACA,EACA,EACA,IAEE0wG,EAAO+Q,EAAK/Q,KAAKnzG,GACrB,OAAOkkH,EAAK1U,IAAI0U,EAAKxxB,MAAMwgB,KAAMoR,EAASJ,EAAK1U,IAAI0U,EAAKxxB,MAAMgjB,KAAMA,GAAOwO,EAAK1U,IAAI0U,EAAKxxB,MAAMqzB,KAAMA,GAAO5S,EAC9G,GACC,CACDrrG,IAAK,OACLuG,MAAO,SAAcmpF,GACnB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMgiB,KAAM,IAAIjyG,WAAW,CAC9C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA+0F,EAAMpgF,OAAS,EAAI,IACL,IAAdogF,EAAMpgF,MACNogF,EAAMngF,QAAU,EAAI,IACL,IAAfmgF,EAAMngF,OACN,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA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,EAAQ,SAAgBtrG,GAC1B,IAAIs3C,EACJxyD,EAAK4F,KAAKsV,EAAE7Z,QAAU,EAAG6Z,EAAE7Z,SAC1BmxD,EAAQxyD,GAAM4F,KAAKjH,MAAM6zD,EAAOoxB,GAAmB1oE,GACtD,EACIktF,EAAI/mG,SACNrB,EAAK4F,KAAK,IAAK,EAAGwiG,EAAI/mG,QACtB+mG,EAAIn2F,QAAQu0G,IAEV3gB,EAAIxkG,SACNrB,EAAK4F,KAAK,IAAK,EAAGigG,EAAIxkG,QACtBwkG,EAAI5zF,QAAQu0G,IAEVrc,EAAI9oG,SACNrB,EAAK4F,KAAK,IAAK,EAAGukG,EAAI9oG,QACtB8oG,EAAIl4F,QAAQu0G,GAEhB,MACExmH,EAAO,CACL,EACA,EACA,GACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,GACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,IACA,IACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,IACA,EACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,GACA,IAGJ,OAAOkkH,EAAK1U,IAAI0U,EAAKxxB,MAAMmV,KAAM,IAAIplG,WAAWzC,GAClD,GACC,CACD8H,IAAK,OACLuG,MAAO,SAAc0rF,GACnB,IAAI0sB,EAAQjjC,GAAeuW,EAAO,GAAI0e,EAAWgO,EAAM,GAAI/N,EAAW+N,EAAM,GAC5E,OAAOvC,EAAK1U,IAAI0U,EAAKxxB,MAAM6iB,KAAM,IAAI9yG,WAAW,CAACg2G,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,EAAgBC,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,IACzL,GACC,CACD5wG,IAAK,OACLuG,MAAO,SAAcmpF,GACnB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMmiB,KAAM,IAAIpyG,WAAW,CAC9C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA+0F,EAAMP,aACN,EACA,GACA,EACA,EACA,EACA,EACAO,EAAMI,YAAc,EAAI,IACL,IAAnBJ,EAAMI,WACN,EACA,IACEJ,EAAMxqF,OAAO3L,OAAS6iH,EAAK/O,KAAK3d,EAAMxqF,aAAU,EACtD,GACC,CACDlF,IAAK,OACLuG,MAAO,SAAcrB,GACnB,IAAI3F,EAAM2F,EAAO3L,OACbqlH,EAAQxC,EAAK1U,IAAI0U,EAAKxxB,MAAMyiB,KAAM,IAAI1yG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,GAAK4E,EACL,EACA,EACA,EACA,EACA,GAAKA,EACL,GACA,GACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,EACA,IACA,IACA,GACAb,OAAO,CAACa,IAAMb,OAAOwG,GAAQxG,OAC7B,CAAC,EAAG,EAAG,MAET,OAAOkgH,CACT,GACC,CACD5+G,IAAK,OACLuG,MAAO,SAAcmpF,GACnB,IAAImvB,EAAuB,IAAIlkH,WAAW,CACxC,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA+0F,EAAMP,aACN,EACA,GACA,EACA,EACA,EACA,EACAO,EAAMI,YAAc,EAAI,IACL,IAAnBJ,EAAMI,WACN,EACA,IAEEgvB,EAAqBpvB,EAAMxqF,OAAO3L,OAAS6iH,EAAK2C,KAAKrvB,GAAS,GAClE,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMo0B,KAAMH,EAAsBC,EACzD,GACC,CACD9+G,IAAK,OACLuG,MAAO,SAAcmpF,GACnB,GAAIA,EAAMxqF,OAKR,OAJAwqF,EAAMxqF,OAAO,GAAKwqF,EAAMI,aAAe,GAAK,IAC5CJ,EAAMxqF,OAAO,GAAKwqF,EAAMI,aAAe,GAAK,IAC5CJ,EAAMxqF,OAAO,GAAKwqF,EAAMI,aAAe,EAAI,IAC3CJ,EAAMxqF,OAAO,GAAwB,IAAnBwqF,EAAMI,WACjBssB,EAAK1U,IAAI0U,EAAKxxB,MAAMm0B,KAAMrvB,EAAMxqF,OAE3C,GACC,CACDlF,IAAK,OACLuG,MAAO,SAAc6rG,GACnB,IAAI6M,EAAQ7C,EAAK1U,IAAI7wG,MAAMulH,EAAM,CAACA,EAAKxxB,MAAM6xB,MAAM/9G,OAAOo9E,GAAmBs2B,EAAO36G,KAAI,SAAS84B,GAC/F,OAAO6rF,EAAK8C,KAAK3uF,EAAEluB,GACrB,OACA,OAAO48G,CACT,GACC,CACDj/G,IAAK,OACLuG,MAAO,SAAclE,GACnB,IAAI88G,EAAQ/C,EAAK1U,IAAI0U,EAAKxxB,MAAMs0B,KAAM,IAAIvkH,WAAW,CACnD,EACA,EACA,EACA,EACA0H,GAAM,GACNA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,KAEF,OAAO88G,CACT,GACC,CACDn/G,IAAK,QACLuG,MAAO,SAAelE,GACpB,IAAI68G,EAAO9C,EAAK1U,IAAI0U,EAAKxxB,MAAMs0B,KAAM,IAAIvkH,WAAW,CAClD,EACA,EACA,EACA,EACA0H,GAAM,GACNA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,KAEF,OAAO68G,CACT,GACC,CACDl/G,IAAK,QACLuG,MAAO,SAAelE,GACpB,IAAI68G,EAAO9C,EAAK1U,IAAI0U,EAAKxxB,MAAMs0B,KAAM,IAAIvkH,WAAW,CAClD,EACA,EACA,EACA,EACA0H,GAAM,GACNA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,KAEF,OAAO68G,CACT,GACC,CACDl/G,IAAK,OACLuG,MAAO,SAAc6rG,GACnB,IAAIgN,EAAQhD,EAAK1U,IAAI7wG,MAAMulH,EAAM,CAACA,EAAKxxB,MAAMorB,KAAMoG,EAAKhL,KAAKgB,EAAO,GAAGpiB,QAAUoiB,EAAO,GAAGpiB,QAAQ,GAAGG,MAAQ,IAAIzxF,OAAOo9E,GAAmBs2B,EAAO36G,KAAI,SAAS84B,GAC9J,OAAO6rF,EAAK/K,KAAK9gF,EACnB,OACA,OAAO6uF,CACT,GACC,CACDp/G,IAAK,OACLuG,MAAO,SAAc47F,GACnB,IAAIkd,EAAQjD,EAAK1U,IAAI0U,EAAKxxB,MAAMwmB,KAAM,IAAIz2G,WAAW,CACnD,EACA,EACA,EACA,EACAwnG,GAAkB,GAClBA,GAAkB,GAAK,IACvBA,GAAkB,EAAI,IACL,IAAjBA,KAEF,OAAOkd,CACT,GACC,CACDr/G,IAAK,OACLuG,MAAO,SAAcmpF,GACnB,IAGIM,EAHAshB,EAAO8K,EAAK9K,KAAK5hB,EAAMrtF,IACvBkvG,EAAO6K,EAAK7K,KAAK7hB,EAAOA,EAAMuI,qBAC9BqnB,EAAa,EAajB,GAXI5vB,EAAMnwD,SAAWmwD,EAAMqkB,YACzB/jB,EAAUN,EAAMqkB,UAChB/jB,EAAQ7lF,SAAQ,SAASzJ,GACvB4+G,GAA0B,EACtB5+G,EAAKkrG,YAAclrG,EAAKkrG,WAAWryG,SACrC+lH,GAA0B,EAC1BA,GAAmD,EAAzB5+G,EAAKkrG,WAAWryG,OAE9C,KAEFm2F,EAAM6vB,gBAAkBD,EACnB5vB,EAAMskB,SAAWtkB,EAAM4S,mBAAsB5S,EAAM+S,mBAIjD,IAAI/S,EAAM4S,kBAAmB,CAClC,GAAI5S,EAAMnwD,QAAS,CACjB,IAAIigF,EAAOpD,EAAKoD,KAAK9vB,GACjB+vB,EAAOrD,EAAKqD,KAAK/vB,GACjB8hB,EAAO4K,EAAKsD,MAAMhwB,GAClB8b,EAAO4Q,EAAK5Q,KAAK9b,GACjBiwB,EAAQvD,EAAK1U,IAAI0U,EAAKxxB,MAAMymB,KAAMC,EAAMC,EAAMiO,EAAMC,EAAMjO,EAAMhG,GACpE,OAAOmU,CACT,CACE,GAAKjwB,EAAM+S,kBAIJ,CACL,IAAImd,EAAQxD,EAAKyD,OACbC,EAAQ1D,EAAKoD,KAAK9vB,GAClBqwB,EAAQ3D,EAAKqD,KAAK/vB,GAClBswB,EAAQ5D,EAAK5Q,KAAK9b,GAClBuwB,EAAS7D,EAAKsD,MAAMhwB,GACpBwwB,EAAQ9D,EAAK1U,IAAI0U,EAAKxxB,MAAMymB,KAAMC,EAAMC,EAAMqO,EAAOE,EAAOC,EAAOC,EAAOC,GAC9E,OAAOC,CACT,CAXE,IAAIL,EAAOzD,EAAKyD,OACZM,EAAQ/D,EAAKsD,MAAMhwB,GACvB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMymB,KAAMC,EAAMC,EAAMsO,EAAMM,EAWzD,CACE,GAAIzwB,EAAMnwD,QAAS,CACjB,IAAI6gF,EAAShE,EAAKsD,MAAMhwB,GACxB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMymB,KAAMC,EAAMC,EAAM6O,EAC/C,CACE,IAAIC,EAASjE,EAAKyD,OACdS,EAASlE,EAAKoD,KAAK9vB,GACnB6wB,EAASnE,EAAKqD,KAAK/vB,GACnB8wB,EAASpE,EAAK5Q,KAAK9b,GACnB+wB,EAASrE,EAAKsD,MAAMhwB,GACpBgxB,EAAStE,EAAK1U,IAAI0U,EAAKxxB,MAAMymB,KAAMC,EAAMC,EAAM8O,EAAQC,EAAQC,EAAQC,EAAQC,GACnF,OAAOC,CAEX,CAvCE,IAAIC,EAAOvE,EAAKuE,KAAKjxB,GACjBp5E,EAAS,GACb,OAAO8lG,EAAK1U,IAAI0U,EAAKxxB,MAAMymB,KAAMC,EAAMC,EAAMoP,EAAMvE,EAAK5K,KAAK9hB,EAAMM,QAAS2wB,EAAKh3B,WAAarzE,GAsClG,GACC,CACDtW,IAAK,OACLuG,MAAO,SAAcrO,GACnB,IAAIuxF,EAAS,IAAItL,GAIjB,OAHAjmF,EAAK83F,QAAQ7lF,SAAQ,SAASzJ,GAC5B+oF,EAAOi1B,MAAM,IAAI/jH,WAAWzC,EAAKqnC,QAAU,CAAC7+B,EAAKkiG,SAAW,GAAK,IAAM,CAAC,KAC1E,IACOwZ,EAAK1U,IAAI0U,EAAKxxB,MAAM+1B,KAAM7pH,KAAK8pH,UAAU,EAAG,GAAIn3B,EAAOA,OAChE,GACC,CACDzpF,IAAK,QACLuG,MAAO,SAAerO,GACpB,IAAIuxF,EAAS,IAAItL,GACbutB,EAAcvtB,GAAO0iC,YAAY3oH,EAAK83F,QAAQz2F,QAC9C+c,EAAS,KACb,GAAIpe,EAAKqnC,QAAS,CAChB,IAAI+/E,EAAapnH,EAAKqnH,gBACtBjpG,EAAS6nE,GAAO0iC,YAAkC,GAAtB3oH,EAAK83F,QAAQz2F,OAAc+lH,EAAa,MAC/DpnH,EAAKoqG,mBAAqBpqG,EAAKuqG,oBAClCnsF,EAAS6nE,GAAO0iC,YAAkC,GAAtB3oH,EAAK83F,QAAQz2F,OAAc,IAE3D,KAAO,CACL,IAAIgG,EAA4B,GAAtBrH,EAAK83F,QAAQz2F,OAAc,IACjCrB,EAAKuqG,oBACPljG,EAA4B,GAAtBrH,EAAK83F,QAAQz2F,OAAc,EAAIrB,EAAKo9G,UAAU/7G,OAAS,KAE/D+c,EAAS6nE,GAAO0iC,YAAYthH,EAC9B,CASA,OARArH,EAAK83F,QAAQ7lF,SAAQ,SAASzJ,GAC5B+oF,EAAOi1B,MAAMvgC,GAAO0iC,YAAYngH,EAAKuU,WACrCw0E,EAAOi1B,MAAMvgC,GAAO0iC,YAAYngH,EAAKe,OACrCgoF,EAAOi1B,MAAMvgC,GAAO0iC,YAAYngH,EAAKkiG,SAAW,SAAW,QACvD1qG,EAAKqnC,SACPkqD,EAAOi1B,MAAMvgC,GAAO0iC,YAAYngH,EAAKixG,IAAMjxG,EAAKixG,IAAM,GAE1D,IACOyK,EAAK1U,IAAI0U,EAAKxxB,MAAM4mB,KAAM16G,KAAK8pH,UAAU,EAAG1oH,EAAK4vG,OAAQ4D,EAAap1F,EAAQmzE,EAAOA,OAC9F,GACC,CACDzpF,IAAK,OACLuG,MAAO,SAAcrO,GACnB,IAAIuxF,EAAS,IAAItL,GACb5+E,EAAMrH,EAAK83F,QAAQz2F,OACnB+S,EAAOpU,EAAKqnC,QAAU,GAAK,EAC3B3B,EAAO1lC,EAAKqnC,QAAU,EAAI,EAC1BywD,EAAU,GACV8wB,EAAgB,EAsBpB,OArBI5oH,EAAKqnC,SACPywD,EAAU93F,EAAK67G,UACf+M,EAAgB5oH,EAAKqnH,iBAErBvvB,EAAU93F,EAAKo9G,UAEjBwL,EAAgBA,GAAiBx0G,EAAO/M,EACxCkqF,EAAOi1B,MAAMvgC,GAAO0iC,YAAY,GAAKC,GAAgB1E,EAAKxxB,MAAM4gB,KAAM10G,KAAK8pH,UAAU,EAAGhjF,IACxF6rD,EAAOi1B,MAAMvgC,GAAO0iC,YAAYthH,IAChCywF,EAAQ7lF,SAAQ,SAASzJ,GACvB,IAAK,IAAIjG,EAAI,EAAGA,EAAIiG,EAAKirG,qBAAqBpyG,OAAQkB,IACpDgvF,EAAOi1B,MAAM,IAAI/jH,WAAW,CAAC+F,EAAKirG,qBAAqBlxG,MAErDiG,EAAKkrG,YAAclrG,EAAKkrG,WAAWryG,SACrCkwF,EAAOi1B,MAAMvgC,GAAO4iC,YAAYrgH,EAAKkrG,WAAWryG,SAChDmH,EAAKkrG,WAAWzhG,SAAQ,SAAS5D,GAC/BkjF,EAAOi1B,MAAMvgC,GAAO4iC,YAAYx6G,EAAMylG,mBACtCviB,EAAOi1B,MAAMvgC,GAAO0iC,YAAYt6G,EAAM0lG,sBACxC,IAEJ,IACOxiB,EAAOA,MAChB,GACC,CACDzpF,IAAK,OACLuG,MAAO,SAAcrO,GACnB,IAAIqB,EAA+B,GAAtBrB,EAAK83F,QAAQz2F,OAAc,KACnCrB,EAAKqnC,SAAWrnC,EAAKuqG,oBACxBlpG,EAAS,KAEX,IAAIijH,EAAU,IAAI7hH,WAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAGpB,GAAU,GAAK,IAAKA,GAAU,GAAK,IAAKA,GAAU,EAAI,IAAc,IAATA,IAC7H,OAAO6iH,EAAK1U,IAAI0U,EAAKxxB,MAAM60B,KAAMjD,EACnC,GACC,CACDx8G,IAAK,OACLuG,MAAO,SAAcrO,GACnB,IAAI4oH,EAAgB5oH,EAAK83F,QAAQz2F,OAC7BijH,EAAU,IAAI7hH,WAAW,CAC3B,EACA,EACA,EACA,EACA,GACAmmH,GAAiB,GAAK,IACtBA,GAAiB,GAAK,IACtBA,GAAiB,EAAI,IACL,IAAhBA,IAEF,OAAO1E,EAAK1U,IAAI0U,EAAKxxB,MAAM40B,KAAMhD,EACnC,GACC,CACDx8G,IAAK,OACLuG,MAAO,WACL,IAAIi2G,EAAU,IAAI7hH,WAAW,CAC3B,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,IAEF,OAAOyhH,EAAK1U,IAAI0U,EAAKxxB,MAAMi1B,KAAM/oH,KAAK8pH,UAAU,EAAG,GAAIpE,EACzD,GACC,CACDx8G,IAAK,YACLuG,MAAO,SAAmBgS,EAASqlB,GACjC,OAAO,IAAIjjC,WAAW,CAAC4d,EAASqlB,GAAQ,GAAK,IAAKA,GAAQ,EAAI,IAAY,IAAPA,GACrE,GACC,CACD59B,IAAK,OACLuG,MAAO,SAAclE,GACnB,OAAO+5G,EAAK1U,IAAI0U,EAAKxxB,MAAM0mB,KAAM,IAAI32G,WAAW,CAC9C,EACA,EACA,EACA,EACA0H,GAAM,GACNA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,IAEJ,GACC,CACDrC,IAAK,OACLuG,MAAO,SAAcrO,EAAM+/F,GACzB,IAAI+oB,EAA+B14G,KAAKwE,MAAMmrF,GAAuBkkB,GAAa,IAC9E8E,EAA+B34G,KAAKwE,MAAMmrF,GAAuBkkB,GAAa,IAClF,OAAIjkH,EAAK87G,SAAW97G,EAAKoqG,mBAAqBpqG,EAAKuqG,mBAC1C2Z,EAAK1U,IAAI0U,EAAKxxB,MAAM2mB,KAAM,IAAI52G,WAAW,CAC9C,EACA,EACA,EACA,EACAsmH,GAAgC,GAChCA,GAAgC,GAAK,IACrCA,GAAgC,EAAI,IACL,IAA/BA,KAGK7E,EAAK1U,IAAI0U,EAAKxxB,MAAM2mB,KAAM,IAAI52G,WAAW,CAC9C,EACA,EACA,EACA,EACAqmH,GAAgC,GAChCA,GAAgC,GAAK,IACrCA,GAAgC,EAAI,IACL,IAA/BA,EACAC,GAAgC,GAChCA,GAAgC,GAAK,IACrCA,GAAgC,EAAI,IACL,IAA/BA,IAGN,GACC,CACDjhH,IAAK,OACLuG,MAAO,SAAcypF,EAAS15E,GAC5B,IAAI4qG,EAAYlxB,EAAQz2F,OACpBoiG,EAAU,GAAK,GAAKulB,EACxB5qG,GAAU,EAAIqlF,EACd,IAAIzjG,EAAO,IAAIyC,WAAWghG,GAC1BzjG,EAAKklF,IAAI,CACP,EACA,EACA,GACA,EACA8jC,IAAc,GAAK,IACnBA,IAAc,GAAK,IACnBA,IAAc,EAAI,IACN,IAAZA,EACA5qG,IAAW,GAAK,IAChBA,IAAW,GAAK,IAChBA,IAAW,EAAI,IACN,IAATA,GACC,GACH,IAAK,IAAI7b,EAAI,EAAGA,EAAIymH,EAAWzmH,IAAK,CAClC,IAAIq+F,EAAa9I,EAAQv1F,GAAIwa,EAAW6jF,EAAW7jF,SAAUxT,EAAOq3F,EAAWr3F,KAAM0/G,EAAkBroB,EAAWl7D,KAAMA,OAA2B,IAApBujF,EAA6B,CAAC,EAAIA,EAAiBC,EAAiBtoB,EAAW6Y,IAAKA,OAAyB,IAAnByP,EAA4B,EAAIA,EACzPlpH,EAAKklF,IAAI,CACPnoE,IAAa,GAAK,IAClBA,IAAa,GAAK,IAClBA,IAAa,EAAI,IACN,IAAXA,EACAxT,IAAS,GAAK,IACdA,IAAS,GAAK,IACdA,IAAS,EAAI,IACN,IAAPA,EACAm8B,EAAKg0E,WAAa,GAAwB,OAAnBh0E,EAAKo2D,gBAAyC,IAAnBp2D,EAAKo2D,UAAuB,EAAIp2D,EAAKo2D,WACvFp2D,EAAKi0E,cAAgB,EAAIj0E,EAAKk0E,eAAiB,EAAIl0E,EAAKm0E,cAAgB,GAA8B,OAAzBn0E,EAAKq2D,sBAAqD,IAAzBr2D,EAAKq2D,gBAA6B,EAAIr2D,EAAKq2D,iBAC9H,MAA3Br2D,EAAKo0E,oBACsB,GAA3Bp0E,EAAKo0E,oBACLL,IAAQ,GAAK,IACbA,IAAQ,GAAK,IACbA,IAAQ,EAAI,IACN,IAANA,GACC,GAAK,GAAKl3G,EACf,CACA,OAAO2hH,EAAK1U,IAAI0U,EAAKxxB,MAAM4mB,KAAMt5G,EACnC,GACC,CACD8H,IAAK,UACLuG,MAAO,SAAiB6rG,GACtB,OAAOgK,EAAK1U,IAAI7wG,MAAMulH,EAAM,CAACA,EAAKxxB,MAAMqnB,KAAMmK,EAAKhT,KAAKgJ,EAAO,GAAGn9F,SAAUm9F,EAAO,GAAGxjB,YAAYlwF,OAAOo9E,GAAmBs2B,EAAO36G,KAAI,SAAS84B,GAC9I,OAAO6rF,EAAKiF,SAAS9wF,EACvB,MACF,GACC,CACDvwB,IAAK,WACLuG,MAAO,SAAkBmpF,GACvB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMye,KAAM+S,EAAK5S,KAAK9Z,EAAMrtF,GAAIqtF,EAAMz6E,SAAUy6E,EAAMpgF,MAAOogF,EAAMngF,QAAS6sG,EAAKkF,QAAQ5xB,GAChH,GACC,CACD1vF,IAAK,UACLuG,MAAO,SAAiBmpF,GACtB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAM6e,KAAM2S,EAAKrS,KAAKra,EAAMz6E,SAAUy6E,EAAMd,WAAYwtB,EAAKpS,KAAKta,EAAMl5F,MAAO4lH,EAAKmF,QAAQ7xB,GACnH,GACC,CACD1vF,IAAK,UACLuG,MAAO,SAAiBmpF,GACtB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMqf,KAAMva,EAAMl5F,OAASi8F,GAAUxL,MAAQm1B,EAAKc,KAAOd,EAAKe,KAAMf,EAAKgB,KAAMhB,EAAKoF,QAAQ9xB,GACnH,GACC,CACD1vF,IAAK,UACLuG,MAAO,SAAiBmpF,GACtB,IAAIh1E,EAAMg1E,EAAMh1E,IACZyjG,EAAQ,CAAC/B,EAAKxR,KAAKlb,GAAQ0sB,EAAKvR,KAAKnwF,EAAImwF,MAAOuR,EAAKrR,KAAKrwF,EAAIqwF,MAAOqR,EAAKpR,KAAKtwF,EAAIswF,MAAOoR,EAAKnR,KAAKvwF,EAAIuwF,OAO5G,OANIvwF,EAAI6wF,KAAKhyG,QACX4kH,EAAMrgH,KAAKs+G,EAAK7Q,KAAK7wF,EAAI6wF,OAEvB7wF,EAAIowF,KAAKvxG,QACX4kH,EAAMrgH,KAAKs+G,EAAKtR,KAAKpwF,EAAIowF,OAEpBsR,EAAK1U,IAAI7wG,MAAMulH,EAAM,CAACA,EAAKxxB,MAAMyf,MAAM3rG,OAAOy/G,GACvD,GACC,CACDn+G,IAAK,OACLuG,MAAO,SAAcypF,GACnB,IAAIzwF,EAAMywF,EAAQz2F,OACdrB,EAAO,IAAIyC,WAAW,EAAI4E,GAC1B+W,EAAS,EAMb,OALA05E,EAAQ7lF,SAAQ,SAASs3G,GACvB,IAAIl7G,EAAQk7G,EAAMl7G,MAAO8zF,EAAQonB,EAAMpnB,MACvCniG,EAAKklF,IAAI,CAACid,GAAS,GAAIA,GAAS,GAAK,IAAKA,GAAS,EAAI,IAAa,IAARA,EAAa9zF,GAAS,GAAIA,GAAS,GAAK,IAAKA,GAAS,EAAI,IAAa,IAARA,GAAc+P,GACzIA,GAAU,CACZ,IACO8lG,EAAK1U,IAAI0U,EAAKxxB,MAAMigB,KAAMhd,GAAiB,IAAIlzF,WAAW,CAAC,EAAG,EAAG,EAAG,EAAG4E,GAAO,GAAIA,GAAO,GAAK,IAAKA,GAAO,EAAI,IAAW,IAANA,IAAarH,GACzI,GACC,CACD8H,IAAK,OACLuG,MAAO,SAAc+pB,GACnB,IAAI/wB,EAAM+wB,EAAQ/2B,OACdrB,EAAO,IAAIyC,WAAW,GAAK4E,GAC3B+W,EAAS,EAMb,OALAga,EAAQnmB,SAAQ,SAASu3G,GACvB,IAAI1Q,EAAa0Q,EAAM1Q,WAAYC,EAAkByQ,EAAMzQ,gBAAiB0Q,EAAkBD,EAAMC,gBACpGzpH,EAAKklF,IAAI,CAAC4zB,GAAc,GAAIA,GAAc,GAAK,IAAKA,GAAc,EAAI,IAAkB,IAAbA,EAAkBC,GAAmB,GAAIA,GAAmB,GAAK,IAAKA,GAAmB,EAAI,IAAuB,IAAlBA,EAAuB0Q,GAAmB,GAAIA,GAAmB,GAAK,IAAKA,GAAmB,EAAI,IAAuB,IAAlBA,GAAwBrrG,GAC5SA,GAAU,EACZ,IACO8lG,EAAK1U,IAAI0U,EAAKxxB,MAAMmgB,KAAMld,GAAiB,IAAIlzF,WAAW,CAAC,EAAG,EAAG,EAAG,EAAG4E,GAAO,GAAIA,GAAO,GAAK,IAAKA,GAAO,EAAI,IAAW,IAANA,IAAarH,GACzI,GACC,CACD8H,IAAK,OACLuG,MAAO,SAAcq7G,GACnB,IAAIriH,EAAMqiH,EAAaroH,OACnBrB,EAAO,IAAIyC,WAAW,EAAI4E,GAC1B+W,EAAS,EAKb,OAJAsrG,EAAaz3G,SAAQ,SAASiJ,GAC5Blb,EAAKklF,IAAI,CAAChqE,GAAK,GAAIA,GAAK,GAAK,IAAKA,GAAK,EAAI,IAAS,IAAJA,GAAUkD,GAC1DA,GAAU,CACZ,IACO8lG,EAAK1U,IAAI0U,EAAKxxB,MAAMogB,KAAMnd,GAAiB,IAAIlzF,WAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG4E,GAAO,GAAIA,GAAO,GAAK,IAAKA,GAAO,EAAI,IAAW,IAANA,IAAarH,GACrJ,GACC,CACD8H,IAAK,OACLuG,MAAO,SAAcs7G,GACnB,IAAItiH,EAAMsiH,EAAQtoH,OACdrB,EAAO,IAAIyC,WAAW,EAAI4E,GAC1B+W,EAAS,EAKb,OAJAurG,EAAQ13G,SAAQ,SAASiJ,GACvBlb,EAAKklF,IAAI,CAAChqE,GAAK,GAAIA,GAAK,GAAK,IAAKA,GAAK,EAAI,IAAS,IAAJA,GAAUkD,GAC1DA,GAAU,CACZ,IACO8lG,EAAK1U,IAAI0U,EAAKxxB,MAAMqgB,KAAMpd,GAAiB,IAAIlzF,WAAW,CAAC,EAAG,EAAG,EAAG,EAAG4E,GAAO,GAAIA,GAAO,GAAK,IAAKA,GAAO,EAAI,IAAW,IAANA,IAAarH,GACzI,GACC,CACD8H,IAAK,OACLuG,MAAO,SAAcu7G,GACnB,IAAIviH,EAAMuiH,EAAgBvoH,OACtBrB,EAAO,IAAIyC,WAAW,EAAI4E,GAC1B+W,EAAS,EAKb,OAJAwrG,EAAgB33G,SAAQ,SAASiJ,GAC/Blb,EAAKklF,IAAI,CAAChqE,GAAK,GAAIA,GAAK,GAAK,IAAKA,GAAK,EAAI,IAAS,IAAJA,GAAUkD,GAC1DA,GAAU,CACZ,IACO8lG,EAAK1U,IAAI0U,EAAKxxB,MAAM2gB,KAAM1d,GAAiB,IAAIlzF,WAAW,CAAC,EAAG,EAAG,EAAG,EAAG4E,GAAO,GAAIA,GAAO,GAAK,IAAKA,GAAO,EAAI,IAAW,IAANA,IAAarH,GACzI,GACC,CACD8H,IAAK,OACLuG,MAAO,SAAcypF,GACnB,IAAIzwF,EAAMywF,EAAQz2F,OACdrB,EAAO,IAAIyC,WAAW,EAAI4E,GAC1B+W,EAAS,EAMb,OALA05E,EAAQ7lF,SAAQ,SAAS43G,GACvB,IAAIx7G,EAAQw7G,EAAMx7G,MAAO8zF,EAAQ0nB,EAAM1nB,MACvCniG,EAAKklF,IAAI,CAACid,GAAS,GAAIA,GAAS,GAAK,IAAKA,GAAS,EAAI,IAAa,IAARA,EAAa9zF,GAAS,GAAIA,GAAS,GAAK,IAAKA,GAAS,EAAI,IAAa,IAARA,GAAc+P,GACzIA,GAAU,CACZ,IACO8lG,EAAK1U,IAAI0U,EAAKxxB,MAAMkgB,KAAMjd,GAAiB,IAAIlzF,WAAW,CAAC,EAAG,EAAG,EAAG,EAAG4E,GAAO,GAAIA,GAAO,GAAK,IAAKA,GAAO,EAAI,IAAW,IAANA,IAAarH,GACzI,GACC,CACD8H,IAAK,OACLuG,MAAO,WACL,OAAO61G,EAAK1U,IAAI0U,EAAKxxB,MAAMo3B,KAAM,IAAIrnH,WAAW,CAAC,IAAK,IAAK,IAAK,IAAK,EAAG,EAAG,EAAG,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MACtH,GACC,CACDqF,IAAK,OACLuG,MAAO,SAAcrO,GACnB,IAAI02F,EAAY12F,EAAK02F,UACjB35E,EAAW/c,EAAK83F,QAAQ,GAAG/6E,SAC3BgtG,EAAgBhtG,EAAW/c,EAAK83F,QAAQz2F,OACxC2oH,EAAehqH,EAAK83F,QAAQ,GAAG+D,aAAe9+E,EAC9CktG,EAAW,EACfjqH,EAAK83F,QAAQ7lF,SAAQ,SAASzJ,GAC5ByhH,GAAYzhH,EAAKe,IACnB,IACA,IAAIlI,EAAS,EACb,GAAIrB,EAAKqnC,QAAS,CAChB,IACIywD,EADAsvB,EAAa,EAEbpnH,EAAK67G,YACP/jB,EAAU93F,EAAK67G,WAEb77G,EAAKqnC,SACPywD,EAAQ7lF,SAAQ,SAASzJ,GACvB4+G,GAA0B,EACtB5+G,EAAKkrG,YAAclrG,EAAKkrG,WAAWryG,SACrC+lH,GAA0B,EAC1BA,GAAmD,EAAzB5+G,EAAKkrG,WAAWryG,OAE9C,IAEFrB,EAAKqnH,gBAAkBD,EACvB/lH,EAAS4oH,EAAW,IAA4B,GAAtBjqH,EAAK83F,QAAQz2F,OAAc+lH,EACjDpnH,EAAK87G,QAAU97G,EAAKuqG,oBAAsBvqG,EAAKoqG,oBACjD/oG,EAAS4oH,EAAiC,GAAtBjqH,EAAK83F,QAAQz2F,OAAc,GAEnD,MACEA,EAAS4oH,EAAW,IAA4B,GAAtBjqH,EAAK83F,QAAQz2F,OACnCrB,EAAK87G,QAAU97G,EAAKuqG,oBACtBlpG,EAAS4oH,EAAW,IAA4B,GAAtBjqH,EAAK83F,QAAQz2F,OAAc,EAAIrB,EAAKo9G,UAAU/7G,QAG5E,IAAIijH,EAAU,IAAI7hH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACU,IAAVzC,EAAKmK,GACLusF,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAszB,GAAgB,GAAK,IACrBA,GAAgB,GAAK,IACrBA,GAAgB,EAAI,IACL,IAAfA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA3oH,GAAU,GAAK,IACfA,GAAU,EAAI,IACL,IAATA,EACA0oH,GAAiB,GAAK,IACtBA,GAAiB,GAAK,IACtBA,GAAiB,EAAI,IACL,IAAhBA,EACA,IACA,EACA,EACA,IAEF,OAAO7F,EAAK1U,IAAI0U,EAAKxxB,MAAMw3B,KAAM5F,EACnC,GACC,CACDx8G,IAAK,OACLuG,MAAO,SAAcrO,GACnB,IAAImqH,EAAQjG,EAAK1U,IAAI0U,EAAKxxB,MAAM03B,KAAMpqH,GACtC,OAAOmqH,CACT,KAEKjG,CACT,CAvoD0B,GAwoD1BhpC,GAAgB+M,GAAK,QAAS,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAQzB,QAAO,SAASrgD,EAAG1pB,GAExgB,OADA0pB,EAAE1pB,GAAK,CAACA,EAAE9Z,WAAW,GAAI8Z,EAAE9Z,WAAW,GAAI8Z,EAAE9Z,WAAW,GAAI8Z,EAAE9Z,WAAW,IACjEwjC,CACT,GAAmBrhC,OAAOkB,OAAO,QACjCk1E,GAAgB+M,GAAK,aAAc,CACjCnsE,MAAO,IAAIrZ,WAAW,CACpB,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IAEFmf,MAAO,IAAInf,WAAW,CACpB,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,MAGJy4E,GAAgB+M,GAAK,WAAYA,GAAIunB,IAAIvnB,GAAIyK,MAAM2xB,KAAM,IAAI5hH,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,OAEFy4E,GAAgB+M,GAAK,WAAYA,GAAIunB,IAAIvnB,GAAIyK,MAAM2xB,KAAM,IAAI5hH,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,OAEFy4E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAM23B,KAAMpiC,GAAIunB,IAAIvnB,GAAIyK,MAAM43B,KAAM,IAAI7nH,WAAW,CAC1F,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,GACA,EACA,EACA,EACA,OAEFy4E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,M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","sources":["webpack://new-web/./node_modules/delegate/src/closest.js","webpack://new-web/./node_modules/delegate/src/delegate.js","webpack://new-web/./node_modules/downloadjs/download.js","webpack://new-web/./node_modules/eventemitter3/index.js","webpack://new-web/./src/views/info/index.vue","webpack://new-web/./node_modules/xgplayer/es/utils/debug.js","webpack://new-web/./node_modules/xgplayer/es/utils/xgplayerTimeRange.js","webpack://new-web/./node_modules/xgplayer/es/utils/util.js","webpack://new-web/./node_modules/xgplayer/es/utils/sniffer.js","webpack://new-web/./node_modules/xgplayer/es/version.js","webpack://new-web/./node_modules/xgplayer/es/error.js","webpack://new-web/./node_modules/xgplayer/es/events.js","webpack://new-web/./node_modules/xgplayer/es/mediaProxy.js","webpack://new-web/./node_modules/xgplayer/es/utils/database.js","webpack://new-web/./node_modules/xgplayer/es/constant.js","webpack://new-web/./node_modules/xgplayer/es/plugin/hooksDescriptor.js","webpack://new-web/./node_modules/xgplayer/es/plugin/basePlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/plugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/resizeObserver.js","webpack://new-web/./node_modules/xgplayer/es/plugin/pluginsManager.js","webpack://new-web/./node_modules/xgplayer/es/stateClassMap.js","webpack://new-web/./node_modules/xgplayer/es/defaultConfig.js","webpack://new-web/./node_modules/xgplayer/es/plugin/preset.js","webpack://new-web/./node_modules/xgplayer/es/lang/en.js","webpack://new-web/./node_modules/xgplayer/es/lang/i18n.js","webpack://new-web/./node_modules/xgplayer/es/state.js","webpack://new-web/./node_modules/xgplayer/es/instManager.js","webpack://new-web/./node_modules/xgplayer/es/player.js","webpack://new-web/./node_modules/xgplayer/es/plugins/controls/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/logger/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/replay.js","webpack://new-web/./node_modules/xgplayer/es/plugins/replay/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/poster/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/play.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pause.js","webpack://new-web/./node_modules/xgplayer/es/plugins/start/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/enter/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconTools.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","webpack://new-web/./node_modules/xgplayer/es/utils/draggabilly.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pc/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/touch.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/seekicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/keyboard/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/loading.js","webpack://new-web/./node_modules/xgplayer/es/plugins/loading/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/innerList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconPlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugins/play/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/back.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/backicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/timesegments.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeLarge.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeSmall.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeMuted.js","webpack://new-web/./node_modules/xgplayer/es/plugins/volume/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/rotate.js","webpack://new-web/./node_modules/xgplayer/es/plugins/rotate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIconExit.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pip/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/playNext.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playNext/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/download.js","webpack://new-web/./node_modules/xgplayer/es/plugins/download/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/screenShot/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionsIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/definition/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playbackRate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/cssFullScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/error/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/prompt/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/thumbnail.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/miniProgress.js","webpack://new-web/./node_modules/xgplayer/es/plugins/dynamicBg/index.js","webpack://new-web/./node_modules/xgplayer/es/lang/zh-cn.js","webpack://new-web/./node_modules/xgplayer/es/plugins/stats/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/gapJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/testspeed/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fpsDetect/index.js","webpack://new-web/./node_modules/xgplayer/es/presets/default.js","webpack://new-web/./node_modules/xgplayer/es/index.umd.js","webpack://new-web/./node_modules/xgplayer-hls/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/buffer.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/env.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/logger.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/utils.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/mse.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/event.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/streaming-helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/sei.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/gap.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/stats.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/types.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/env.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/aac.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/fixer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/nalu.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/exp-golomb.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/avc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/hevc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/metadata-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/byte-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/bit-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4-parser.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/decrypt/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-demuxer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/buffer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-remuxer.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/constants.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/transmuxer/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/types.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/is.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/fetch.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/xhr.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/task.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/model.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/master.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/media.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/stream.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/index.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/bandwidth.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/segment-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin-extension.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin.js","webpack://new-web/./src/views/info/index.vue?dbd0"],"sourcesContent":["var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","<template>\r\n  <div class=\"info-container\">\r\n    <div class=\"info-wrapper\">\r\n      <div class=\"ads pc-hide\" style=\"padding-top: 0;margin-top: 0px;\">\r\n        <div class=\"ads-item\" v-for=\"item in _ads.slice(0, 8)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"video-location h5-hide\">\r\n        <div class=\"line\"></div>\r\n        <span class=\"link\" @click=\"goHome\">HOME</span>\r\n        <span class=\"arrow\">▷</span>\r\n        <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n        <span class=\"arrow\">▷</span>\r\n        {{data.title}}\r\n      </div>\r\n      <div class=\"video-info\">\r\n        <div class=\"h5-video-location pc-hide\">\r\n          <div class=\"line\"></div>\r\n          <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n          <span class=\"arrow\">▷</span>\r\n          {{data.title}}\r\n        </div>\r\n        <div id=\"mse\"></div>\r\n        <div class=\"video-wrapper\">\r\n          <div class=\"video-img\" id=\"video-info\"></div>\r\n        </div>\r\n        <div class=\"video-name\">\r\n           <span v-if=\"language == 'ko-KR'\">\r\n            {{data.title}}\r\n          </span>\r\n          <span v-if=\"language == 'en-US'\">\r\n            {{data.titleUs}}\r\n          </span>\r\n          <span v-if=\"language == 'zh-CN'\">\r\n            {{data.titleCn}}\r\n          </span>\r\n        </div>\r\n        <div class=\"info\">\r\n          <div class=\"viewed\">\r\n            <img src=\"@/assets/imgs/view.png\" alt=\"\">\r\n            <span>조회수 : {{data.watchTimes}}</span>\r\n          </div>\r\n          <div class=\"time\">\r\n            <img src=\"@/assets/imgs/flag.png\" alt=\"\">\r\n            <span>등록일 : {{formatTime(data.createdAt)}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"video-desc\" v-if=\"data.titleChinese\">\r\n          {{}}\r\n          <!-- data.titleChinese -->\r\n        </div>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(0, 16).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(0, 16)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n<!--      <Title class=\"page-title h5-hide\" :name=\"relatedMap[language]\" :more=\"false\"></Title>-->\r\n      <div class=\"list\" v-if=\"videos.slice(0, 8).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(0, 8)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(16, 24).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(16, 24)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\" v-if=\"videos.slice(8, 16).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(8, 16)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(24,32).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(24,32)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\" v-if=\"videos.slice(16, 24).length\">\r\n        <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" v-for=\"item in videos.slice(16, 24)\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(32, 40).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(32, 40)\">\r\n          <van-image\r\n                  @click=\"goAd(item.link)\"\r\n                  fit=\"cover\"\r\n                  position=\"center\"\r\n                  :lazy-load=\"true\"\r\n                  :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"more\" @click=\"goCategory\">{{moreRelatedMap[language]}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as api from '@/api'\r\n  import moment from 'moment';\r\n  import Card from \"@/components/Card.vue\";\r\n  import Title from \"@/components/Title.vue\";\r\n  import {mapActions,mapState} from 'vuex';\r\n  import 'video.js/dist/video-js.css';\r\n  import VideoJs from 'video.js';\r\n  import Player from 'xgplayer';\r\n  import 'xgplayer/dist/index.min.css';\r\n  import HlsPlugin from 'xgplayer-hls'\r\n  import MobilePreset from 'xgplayer/es/presets/mobile'\r\n  export default {\r\n    name: \"Info\",\r\n    components: {Title,Card},\r\n    data() {\r\n      return {\r\n        id: '',\r\n        data: {},\r\n        _ads: [],\r\n        videos: [],\r\n        player: null,\r\n        relatedMap: {\r\n          'ko-KR': '관련동영상',\r\n          'en-US': 'Related videos',\r\n          'zh-CN': '相关视频'\r\n        },\r\n        moreRelatedMap: {\r\n          'ko-KR': '관련 영상 더 보기',\r\n          'en-US': 'More related videos',\r\n          'zh-CN': '更多相关视频'\r\n        },\r\n        classifyName: '',\r\n        classifyId: '',\r\n        specialId: '',\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ads: state => state.common.ads,\r\n        menus: state => state.common.menus,\r\n        language: state => state.common.language,\r\n      }),\r\n    },\r\n    watch: {\r\n      '$route': {\r\n        handler(nv) {\r\n          if(nv.name == 'info') {\r\n            this.id = this.$route.query.id\r\n            this.initData();\r\n\r\n            this.classifyName = this.$route.query.classifyName\r\n            this.classifyId = this.$route.query.classifyId\r\n            this.specialId = this.$route.query.specialId\r\n          }\r\n        },\r\n        immediate: true\r\n      },\r\n      ads(nv) {\r\n        this._ads = JSON.parse(JSON.stringify(nv));\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions({\r\n        toggleLoading: 'common/toggleLoading',\r\n      }),\r\n      goAd(url) {\r\n        window.open(url)\r\n      },\r\n      formatTime(time) {\r\n        return moment(time).format('YYYY-MM-DD')\r\n      },\r\n      async getVideoInfo() {\r\n        this.toggleLoading(true);\r\n        try {\r\n          let {data, code} = await api.getVideoInfo({id: this.id})\r\n          if (code == 200) {\r\n            this.data = data;\r\n            this.initPlayer()\r\n            this.getMenuInfo()\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getMenuInfo() {\r\n        try {\r\n          let {data, code} = await api.getMenuInfo({id: this.data.classifyId})\r\n          if (code == 200) {\r\n            this.classifyInfo = data;\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getVideos() {\r\n        // console.log('why this plus one?=>',this.data.specialId)\r\n        try {\r\n          let {rows, code} = await api.getVideos({\r\n            pageNum: 1,\r\n            pageSize: 20,\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId\r\n          })\r\n          if (code == 200) {\r\n            this.videos = rows\r\n          }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n        }\r\n      },\r\n      goHome() {\r\n        this.$router.push('index')\r\n      },\r\n      goCategory() {\r\n        this.$router.push({\r\n          name: 'category',\r\n          query: {\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId,\r\n            classifyName: ''\r\n          }\r\n        })\r\n      },\r\n      initPlayer() {\r\n        const config = {\r\n          \"id\": \"video-info\",\r\n          fluid: true,\r\n          volume: 0.9,\r\n          autoplay: false,\r\n          videoInit: true,\r\n          loop: true,\r\n          // playbackRate: [0.5, 0.75, 1, 1.5, 2],\r\n          defaultPlaybackRate: 1,\r\n          \"url\": this.data.video,\r\n          \"playsinline\": true,\r\n          \"poster\": this.data.videoCover,\r\n          \"plugins\": [HlsPlugin],\r\n          \"isLive\": false,\r\n          \"playbackRate\": [\r\n                    null\r\n          ],\r\n          \"rotate\": {\r\n                    \"clockwise\": true,\r\n                    \"innerRotate\": true\r\n          },\r\n          \"pip\": true,\r\n          rotateFullscreen: true\r\n        }\r\n        let player = new Player(config)\r\n        // setTimeout(() => {\r\n        // let player = new Player(config)},0)\r\n        // document.getElementById('video-info').innerHTML = `<video id=\"video-js\" class=\"video-js\"></video>`\r\n        // setTimeout(() => {\r\n        //   this.player = VideoJs(document.getElementById('video-js'), {\r\n        //     controls: true,\r\n        //     muted: true,\r\n        //     fluid: true,\r\n        //     reload: \"auto\",\r\n        //     poster: this.data.videoCover,\r\n        //     sources: [\r\n        //       {\r\n        //         src: this.data.video,\r\n        //         type: 'application/x-mpegURL',\r\n        //       },\r\n        //     ],\r\n        //   }, function onPlayerReady() {\r\n        //   })\r\n        // }, 0)\r\n      },\r\n      initData() {\r\n        if (this.player) {\r\n          this.player.dispose()\r\n        }\r\n        this.id = this.$route.query.id\r\n        this.getVideoInfo()\r\n        if (this.menus && this.menus.length) {\r\n          let count = (this.menus.length + 1) * 24 + 1;\r\n          let times = Math.ceil(count / this.ads.length);\r\n          let ads = [];\r\n          for (let i = 0;i < times;i++) {\r\n            ads = ads.concat(this.ads);\r\n          }\r\n          ads.shift()\r\n          this._ads = ads;\r\n        }\r\n        this.$nextTick(() => {\r\n          setTimeout(() => {\r\n            this.getVideos(); // 延迟 1 秒后执行\r\n          }, 1000); // 1000 毫秒 = 1 秒\r\n        });\r\n        \r\n      }\r\n    },\r\n    beforeUnmount() {\r\n      if (this.player) {\r\n        this.player.dispose()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .info-container{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .info-wrapper{\r\n      width: 100%;\r\n      padding-top: 23px;\r\n      .video-location{\r\n        background: #172231;\r\n        height: 48px;\r\n        @include clear();\r\n        box-shadow: 0px 10px 10px rgba(255,255,225,0.1) inset,\r\n        0px -10px 10px rgba(0,0,0,0.3) inset;\r\n        margin-bottom: 60px;\r\n        line-height: 48px;\r\n        font-size: 24px;\r\n        .line{\r\n          width: 8px;\r\n          height: 30px;\r\n          background: $main-color;\r\n          margin-top: 9px;\r\n          float: left;\r\n          margin-left: 23px;\r\n          margin-right: 10px;\r\n        }\r\n        width: 100%;\r\n        color: #fff;\r\n        @include ellipsis;\r\n        .link{\r\n          transition: 0.3s ease;\r\n          &:hover{\r\n            color: $main-color;\r\n          }\r\n          cursor: pointer;\r\n        }\r\n        .arrow{\r\n          margin: 0 20px;\r\n        }\r\n      }\r\n      .video-info{\r\n        width: 100%;\r\n        margin-bottom: 110px;\r\n\r\n        .h5-video-location{\r\n          height: 50px;\r\n          line-height: 50px;\r\n          font-size: 18px;\r\n          color: #fff;\r\n          box-sizing: border-box;\r\n          @include ellipsis;\r\n          box-shadow: 0px 5px 5px rgba(255,255,225,0.1) inset,\r\n          0px -5px 5px rgba(0,0,0,0.3) inset;\r\n          background: #0e141d;\r\n          margin-bottom: 30px;\r\n          @include clear;\r\n          .line{\r\n            width: 5px;\r\n            height: 36px;\r\n            background: $main-color;\r\n            margin-top: 7px;\r\n            float: left;\r\n            margin-left: 7px;\r\n            margin-right: 10px;\r\n          }\r\n          .first{\r\n            color: $main-color;\r\n            margin-right: 10px;\r\n          }\r\n          @include ellipsis;\r\n          .link{\r\n            transition: 0.3s ease;\r\n            &:hover{\r\n              color: $main-color;\r\n            }\r\n            cursor: pointer;\r\n          }\r\n          .arrow{\r\n            margin: 0 10px;\r\n            position: relative;\r\n            top: -1px;\r\n          }\r\n        }\r\n        .video-wrapper{\r\n          box-sizing: border-box;\r\n          max-width: 75%;\r\n          margin: 0 auto;\r\n          background: #172231;\r\n        }\r\n        .video-img{\r\n          width: 100%;\r\n          background: #000;\r\n          .video-js{\r\n            width: 100%;\r\n            /*object-fit: cover;*/\r\n            /*object-position: center;*/\r\n          }\r\n        }\r\n        .info-h5{\r\n          width: 100%;\r\n          font-size: 12px;\r\n          color: #adadad;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          box-sizing: border-box;\r\n          padding: 10px;\r\n          .viewed{\r\n            display: flex;\r\n            align-items: center;\r\n            img{\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n        }\r\n        .info{\r\n          width: 700px;\r\n          margin: 0 auto;\r\n          height: 54px;\r\n          box-sizing: border-box;\r\n          line-height: 54px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          font-size: 30px;\r\n          color: #bababa;\r\n          img{\r\n            margin-right: 10px;\r\n            vertical-align: middle;\r\n          }\r\n          span{\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n        .video-name{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          font-size: 30px;\r\n          color: #d0d0d0;\r\n          height: 48px;\r\n          line-height: 48px;\r\n          margin-top: 30px;\r\n          margin-bottom: 50px;\r\n          @include ellipsis;\r\n          box-sizing: border-box;\r\n          text-align: center;\r\n        }\r\n        .video-desc{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding: 0 150px 0 25px;\r\n          font-size: 24px;\r\n          color: #8b8b8b;\r\n        }\r\n      }\r\n      .list{\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        flex-direction:row;\r\n        box-sizing: border-box;\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n        .video-card{\r\n          margin-bottom: 13px;\r\n        }\r\n      }\r\n      .page-title{\r\n        margin-bottom: 11px;\r\n      }\r\n      .ads{\r\n        width: 100%;\r\n        padding: 23px 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        box-sizing: border-box;\r\n        padding-top: 0px;\r\n        padding-bottom: 11px;\r\n        .ads-item{\r\n          width: calc((100% - 27px) / 4);\r\n          margin-bottom: 7px;\r\n          height: 125px;\r\n          @include border2;\r\n          box-sizing: border-box;\r\n          cursor: pointer;\r\n          border-radius: 2px;\r\n          :deep(.van-image){\r\n            width: 100%;\r\n            height: 100%;\r\n            .van-image__loading{\r\n              background: none;\r\n            }\r\n            .van-image__error{\r\n              background: none;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .more{\r\n        width: 788px;\r\n        height: 74px;\r\n        line-height: 74px;\r\n        font-size: 30px;\r\n        color: #fff;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        background: #343945;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  @media screen and (min-width: 1280px) and (max-width: 1600px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        .video-info{\r\n          .video-img{}\r\n          .video-desc{\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n  @media screen and (min-width: 750px) and (max-width: 1280px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        width: 750px;\r\n        .video-info{\r\n          .video-img{}\r\n          .video-wrapper{\r\n            padding-left: 50px;\r\n            padding-right: 50px;\r\n          }\r\n          .info{\r\n            height: 50px;\r\n            line-height: 50px;\r\n            font-size: 24px;\r\n          }\r\n          .video-name{\r\n            font-size: 24px;\r\n          }\r\n          .video-desc{\r\n            font-size: 21px;\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n        .ads{\r\n          .ads-item{\r\n            height: 100px;\r\n          }\r\n        }\r\n        .more{\r\n          width: 750px;\r\n        }\r\n      }\r\n    }\r\n    .sidebar{\r\n      display: none;\r\n    }\r\n  }\r\n  @media screen and (max-width: 750px) {\r\n    .h5-hide{\r\n      display: none!important;\r\n    }\r\n    .pc-hide{\r\n      display: flex!important;\r\n    }\r\n    .info-container{\r\n      width: 100%;\r\n      .info-wrapper{\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding-left: 2px;\r\n        padding-right: 2px;\r\n        .ads{\r\n          padding-left: 14px;\r\n          padding-right: 14px;\r\n          .ads-item{\r\n            width: 100%;\r\n            height: 130px;\r\n            margin-bottom: 6px;\r\n            border: 1px solid #d7d7d8;\r\n            &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4), {\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        .list{\r\n          margin-bottom: 25px;\r\n          .video-card{\r\n            width: 100%;\r\n            margin-bottom: 18px;\r\n          }\r\n        }\r\n        .more{\r\n          display: none;\r\n        }\r\n        .video-info{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding-bottom: 0px;\r\n          margin-bottom: 70px;\r\n          .pc-hide{\r\n            display: block!important;\r\n          }\r\n          .video-wrapper{\r\n            max-width: 100%;\r\n            padding: 0px;\r\n          }\r\n          .info-h5{\r\n            display: flex!important;\r\n          }\r\n          .info{\r\n            width: 100%;\r\n            font-size: 14px;\r\n            padding-left: 40px;\r\n            padding-right: 40px;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n          .video-img{\r\n            @include border;\r\n          }\r\n          .video-name{\r\n            width: 100%;\r\n            font-size: 16px;\r\n            color: #fff;\r\n            height: auto;\r\n            padding: 0 13px;\r\n            margin-top: 13px;\r\n            line-height: 24px;\r\n            margin-bottom: 20px;\r\n          }\r\n          .video-desc{\r\n            font-size: 14px;\r\n            color: #fff;\r\n            padding: 10px;\r\n            padding-top: 0px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n      .sidebar{\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  @media screen and (max-width: 750px) {\r\n    .xgplayer xg-icon svg{\r\n      width: 16px;\r\n    }\r\n  }\r\n\r\n</style>\r\n","const XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nconst STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nconst XGTAG = \"%c[xgplayer]\";\nconst XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function(message, ...optionalParams) {\n    this.config.debug >= 3 && console.log(XGTAG, STYLE.info, message, ...optionalParams);\n  },\n  logWarn: function(message, ...optionalParams) {\n    this.config.debug >= 1 && console.warn(XGTAG, STYLE.warn, message, ...optionalParams);\n  },\n  logError: function(message, ...optionalParams) {\n    if (this.config.debug < 1) {\n      return;\n    }\n    const _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    console[_fun](XGTAG, STYLE.error, message, ...optionalParams);\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","class XgplayerTimeRange {\n  constructor(bufferedList) {\n    this.bufferedList = bufferedList;\n  }\n  start(index) {\n    return this.bufferedList[index].start;\n  }\n  end(index) {\n    return this.bufferedList[index].end;\n  }\n  get length() {\n    return this.bufferedList.length;\n  }\n}\nexport { XgplayerTimeRange as default };\n","import XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nconst util = {};\nutil.createDom = function(el = \"div\", tpl = \"\", attrs = {}, cname = \"\") {\n  const dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach((item) => {\n    const key = item;\n    const value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html, attrs = {}, classname = \"\") {\n  try {\n    let doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    let dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach((key) => {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, (item) => item === className);\n  } catch (e) {\n    const orgClassName = el.className && typeof el.className === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach((item) => {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && typeof el.className === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach((item) => {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach((item) => {\n        const reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && typeof el.className === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach((item) => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  const classname = [];\n  for (let i = 0; i < arguments.length; i++) {\n    if (util.typeOf(arguments[i]) === \"String\") {\n      classname.push(arguments[i]);\n    } else if (util.typeOf(arguments[i]) === \"Object\") {\n      Object.keys(arguments[i]).map((key) => {\n        if (arguments[i][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function(el = document, sel) {\n  let dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  const charstr = String(pad);\n  const len = length >> 0;\n  let maxlen = Math.ceil(len / charstr.length);\n  const chars = [];\n  const r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  const hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  const minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  const second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    const touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach((key) => {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map((key) => {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        dst[key].push(...src[key]);\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  const url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  const a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    const back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  const id = setTimeout(() => {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  const { _timers } = context;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (let i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  const { _timers } = context;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map((item) => {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  const btn = util.createDom(`xg-${name}`, \"\", {}, `xgplayer-${name}-img`);\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`;\n  if (width && height) {\n    let w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = `${w}${unit}`;\n    btn.style.height = `${h}${unit}`;\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`;\n    if (name === \"start\") {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`;\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  const rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return `rgba(${rgb.join(\",\")}, ${alpha})`;\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && typeof obj === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    const styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map((item) => {\n      if (item) {\n        const arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map((key) => {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (let i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom, list = [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"]) {\n  const _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  const styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  const ret = {};\n  const remain = {};\n  styleArr.map((item) => {\n    if (item) {\n      const arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map((key) => {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  const _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  const styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  const ret = {};\n  styleArr.map((item) => {\n    if (item) {\n      const arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = (url, onload = () => {\n}, onerror = () => {\n}) => {\n  if (!url) {\n    return;\n  }\n  let img = new window.Image();\n  img.onload = (e) => {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = (e) => {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = (e) => {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = (vbuffered, maxHoleDuration = 0.5) => {\n  const buffered = [];\n  for (let i = 0; i < vbuffered.length; i++) {\n    buffered.push({ start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i), end: vbuffered.end(i) });\n  }\n  buffered.sort(function(a, b) {\n    const diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  let buffered2 = [];\n  if (maxHoleDuration) {\n    for (let i = 0; i < buffered.length; i++) {\n      const buf2len = buffered2.length;\n      if (buf2len) {\n        const buf2end = buffered2[buf2len - 1].end;\n        if (buffered[i].start - buf2end < maxHoleDuration) {\n          if (buffered[i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[i].end;\n          }\n        } else {\n          buffered2.push(buffered[i]);\n        }\n      } else {\n        buffered2.push(buffered[i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e, zoom = 1) {\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  const _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  const results = url.split(\"/\");\n  let domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  const _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (video.media) {\n    video = video.media;\n  }\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function(did = 0) {\n  let d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  const uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  let event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  const dom = util.createDom(\n    \"xg-bar\",\n    \"\",\n    { \"data-index\": -1 },\n    className\n  );\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function(pos = { x: 0, y: 0, scale: 1, rotate: 0 }, transformValue = \"\") {\n  const styles = {\n    scale: `${pos.scale || 1}`,\n    translate: `${pos.x || 0}%, ${pos.y || 0}%`,\n    rotate: `${pos.rotate || 0}deg`\n  };\n  const stylesKeys = Object.keys(styles);\n  stylesKeys.forEach((key) => {\n    const reg = new RegExp(`${key}\\\\([^\\\\(]+\\\\)`, \"g\");\n    const fn = `${key}(${styles[key]})`;\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += `${fn} `;\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  const _len = segments.length;\n  let _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (let i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments, index = -1) {\n  let _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  const _len = segments.length;\n  const { start, end, cTime, offset } = segments[_index];\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  let _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (let i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    const { start } = segments[_index];\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  const type = typeof value;\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  let lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  let lastInvokeTime = 0;\n  let leading = false;\n  let maxing = false;\n  let trailing = true;\n  const useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    const args = lastArgs;\n    const thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    const timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    const time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced(...args) {\n    const time = Date.now();\n    const isInvoking = shouldInvoke(time);\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  let leading = true;\n  let trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  let lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  const pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","const VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nconst H264_MIMETYPES = [\n  \"avc1.42E01E, mp4a.40.2\",\n  \"avc1.58A01E, mp4a.40.2\",\n  \"avc1.4D401E, mp4a.40.2\",\n  \"avc1.64001E, mp4a.40.2\",\n  \"avc1.42E01E\",\n  \"mp4v.20.8\",\n  \"avc1.42E01E, mp4a.40.2\",\n  \"avc1.58A01E, mp4a.40.2\",\n  \"avc1.4D401E, mp4a.40.2\",\n  \"avc1.64001E, mp4a.40.2\",\n  \"mp4v.20.8, mp4a.40.2\",\n  \"mp4v.20.240, mp4a.40.2\"\n];\nconst sniffer = {\n  get device() {\n    const r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    const ua = navigator.userAgent.toLowerCase();\n    const reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter((key) => reg[key].test(ua)))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    const ua = navigator.userAgent;\n    const isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    const isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    const isAndroid = /(?:Android)/.test(ua);\n    const isFireFox = /(?:Firefox)/.test(ua);\n    const isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    const isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    const isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    const isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    const ua = navigator.userAgent;\n    let reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    const _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      const version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    const reg = /(micromessenger)\\/([\\d.]+)/;\n    const match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4() {\n    const result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    let a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map((key) => {\n        if (a.canPlayType(`video/mp4; codecs=\"${key}\"`) === \"probably\") {\n          result.isSupport = true;\n          result.mime += `||${key}`;\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport(mime = 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"') {\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported(info) {\n    const defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      const videoConfig = info.video || {};\n      const audioConfig = info.audio || {};\n      try {\n        const videoSupported = MediaSource.isTypeSupported(\n          videoConfig.contentType\n        );\n        const audioSupported = MediaSource.isTypeSupported(\n          audioConfig.contentType\n        );\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.1.0-alpha.9\";\nexport { version as default };\n","import version from \"./version.js\";\nimport util from \"./utils/util.js\";\nconst ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nconst ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nclass Errors {\n  constructor(player, errorInfo = { errorType: \"\", errorCode: 0, errorMessage: \"\", originError: \"\", ext: {}, mediaError: null }) {\n    const ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      const mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      const { duration, currentTime, ended, src, currentSrc } = player;\n      const { readyState, networkState } = player.media;\n      let _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      const r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map((key) => {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        const r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        const arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (let i = 0; i < arguments.length; i++) {\n          r[arr[i]] = arguments[i];\n        }\n        r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return r;\n      }\n    }\n  }\n}\nexport { ERROR_TYPE_MAP, Errors as default };\n","const PLAY = \"play\";\nconst PLAYING = \"playing\";\nconst ENDED = \"ended\";\nconst PAUSE = \"pause\";\nconst ERROR = \"error\";\nconst SEEKING = \"seeking\";\nconst SEEKED = \"seeked\";\nconst TIME_UPDATE = \"timeupdate\";\nconst WAITING = \"waiting\";\nconst CANPLAY = \"canplay\";\nconst CANPLAY_THROUGH = \"canplaythrough\";\nconst DURATION_CHANGE = \"durationchange\";\nconst VOLUME_CHANGE = \"volumechange\";\nconst LOADED_DATA = \"loadeddata\";\nconst LOADED_METADATA = \"loadedmetadata\";\nconst RATE_CHANGE = \"ratechange\";\nconst PROGRESS = \"progress\";\nconst LOAD_START = \"loadstart\";\nconst EMPTIED = \"emptied\";\nconst STALLED = \"stalled\";\nconst SUSPEND = \"suspend\";\nconst ABORT = \"abort\";\nconst BUFFER_CHANGE = \"bufferedChange\";\nconst PLAYER_FOCUS = \"focus\";\nconst PLAYER_BLUR = \"blur\";\nconst READY = \"ready\";\nconst URL_NULL = \"urlNull\";\nconst AUTOPLAY_STARTED = \"autoplay_started\";\nconst AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nconst COMPLETE = \"complete\";\nconst REPLAY = \"replay\";\nconst DESTROY = \"destroy\";\nconst URL_CHANGE = \"urlchange\";\nconst DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nconst LEAVE_PLAYER = \"leaveplayer\";\nconst ENTER_PLAYER = \"enterplayer\";\nconst LOADING = \"loading\";\nconst FULLSCREEN_CHANGE = \"fullscreen_change\";\nconst CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nconst MINI_STATE_CHANGE = \"mini_state_change\";\nconst DEFINITION_CHANGE = \"definition_change\";\nconst BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nconst AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nconst SEI_PARSED = \"SEI_PARSED\";\nconst RETRY = \"retry\";\nconst VIDEO_RESIZE = \"video_resize\";\nconst PIP_CHANGE = \"pip_change\";\nconst ROTATE = \"rotate\";\nconst SCREEN_SHOT = \"screenShot\";\nconst PLAYNEXT = \"playnext\";\nconst SHORTCUT = \"shortcut\";\nconst XGLOG = \"xglog\";\nconst USER_ACTION = \"user_action\";\nconst RESET = \"reset\";\nconst SOURCE_ERROR = \"source_error\";\nconst SOURCE_SUCCESS = \"source_success\";\nconst SWITCH_SUBTITLE = \"switch_subtitle\";\nconst VIDEO_EVENTS = [\n  \"play\",\n  \"playing\",\n  \"ended\",\n  \"pause\",\n  \"error\",\n  \"seeking\",\n  \"seeked\",\n  \"timeupdate\",\n  \"waiting\",\n  \"canplay\",\n  \"canplaythrough\",\n  \"durationchange\",\n  \"volumechange\",\n  \"loadeddata\",\n  \"loadedmetadata\",\n  \"ratechange\",\n  \"progress\",\n  \"loadstart\",\n  \"emptied\",\n  \"stalled\",\n  \"suspend\",\n  \"abort\",\n  \"lowdecode\"\n];\nconst STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nconst FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ENTER_PLAYER, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LEAVE_PLAYER, LOADED_DATA, LOADED_METADATA, LOADING, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return (e, _err) => {\n    const eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      const _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      const callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nclass MediaProxy extends EventEmitter {\n  constructor(options) {\n    super(options);\n    this._hasStart = false;\n    this._currentTime = 0;\n    this._duration = 0;\n    this._internalOp = {};\n    this._lastMuted = false;\n    this.vtype = \"MP4\";\n    this._rate = -1;\n    this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    const playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete this.mediaConfig.playsinline;\n      delete this.mediaConfig[\"webkit-playsinline\"];\n      delete this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(this.mediaConfig, \"muted\")) {\n      this.mediaConfig.muted = true;\n    }\n    this.media = util.createDom(this.mediaConfig.mediaType, \"\", this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      this.media.defaultPlaybackRate = this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      this.media.muted = true;\n      this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      this.media.autoplay = true;\n    }\n    this._interval = {};\n    this.mediaEventMiddleware = {};\n    this.attachVideoEvents();\n  }\n  setEventsMiddleware(middlewares) {\n    Object.keys(middlewares).map((key) => {\n      this.mediaEventMiddleware[key] = middlewares[key];\n    });\n  }\n  removeEventsMiddleware(middlewares) {\n    Object.keys(middlewares).map((key) => {\n      delete this.mediaEventMiddleware[key];\n    });\n  }\n  attachVideoEvents(media = this.media) {\n    if (!this._evHandlers) {\n      this._evHandlers = VIDEO_EVENTS.map((eventKey) => {\n        const funName = `on${eventKey.charAt(0).toUpperCase()}${eventKey.slice(1)}`;\n        if (typeof this[funName] === \"function\") {\n          this.on(eventKey, this[funName]);\n        }\n        return {\n          [eventKey]: getVideoEventHandler(eventKey, this)\n        };\n      });\n    }\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      media.addEventListener(eventKey, item[eventKey], false);\n    });\n  }\n  detachVideoEvents(media = this.media) {\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      media.removeEventListener(eventKey, item[eventKey], false);\n    });\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      const funName = `on${eventKey.charAt(0).toUpperCase()}${eventKey.slice(1)}`;\n      if (typeof this[funName] === \"function\") {\n        this.off(eventKey, this[funName]);\n      }\n    });\n    this._evHandlers = null;\n  }\n  _attachSourceEvents(video, urls) {\n    video.removeAttribute(\"src\");\n    video.load();\n    urls.forEach((item, index) => {\n      this.media.appendChild(util.createDom(\"source\", \"\", {\n        src: `${item.src}`,\n        type: `${item.type || \"\"}`,\n        \"data-index\": index + 1\n      }));\n    });\n    const _c = video.children;\n    if (!_c) {\n      return;\n    }\n    this._videoSourceCount = _c.length;\n    this._videoSourceIndex = _c.length;\n    this._vLoadeddata = (e) => {\n      this.emit(SOURCE_SUCCESS, { src: e.target.currentSrc, host: util.getHostFromUrl(e.target.currentSrc) });\n    };\n    let _eHandler = null;\n    for (let i = 0; i < this._evHandlers.length; i++) {\n      if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n        _eHandler = this._evHandlers[i];\n        break;\n      }\n    }\n    !this._sourceError && (this._sourceError = (e) => {\n      const _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n      this._videoSourceIndex--;\n      if (this._videoSourceIndex === 0 || _dIndex >= this._videoSourceCount) {\n        const _err = { code: 4, message: \"sources_load_error\" };\n        _eHandler ? _eHandler.error(e, _err) : this.errorHandler(\"error\", _err);\n      }\n      const type = ERROR_TYPE_MAP[4];\n      this.emit(SOURCE_ERROR, new Errors(this, {\n        errorType: type,\n        errorCode: 4,\n        errorMessage: \"sources_load_error\",\n        mediaError: { code: 4, message: \"sources_load_error\" },\n        src: e.target.src\n      }));\n    });\n    for (let i = 0; i < _c.length; i++) {\n      _c[i].addEventListener(\"error\", this._sourceError);\n    }\n    video.addEventListener(\"loadeddata\", this._vLoadeddata);\n  }\n  _detachSourceEvents(video) {\n    const _c = video.children;\n    if (!_c || _c.length === 0 || !this._sourceError) {\n      return;\n    }\n    for (let i = 0; i < _c.length; i++) {\n      _c[i].removeEventListener(\"error\", this._sourceError);\n    }\n    while (_c.length > 0) {\n      video.removeChild(_c[0]);\n    }\n    this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n  }\n  errorHandler(name, error = null) {\n    if (this.media && (this.media.error || error)) {\n      let _e = this.media.error || error;\n      const type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n      let message = _e.message;\n      if (!this.media.currentSrc) {\n        message = \"empty_src\";\n        _e = {\n          code: 6,\n          message\n        };\n      }\n      this.emit(name, new Errors(this, {\n        errorType: type,\n        errorCode: _e.code,\n        errorMessage: _e.message || \"\",\n        mediaError: _e\n      }));\n    }\n  }\n  destroy() {\n    if (this.media) {\n      if (this.media.pause) {\n        this.media.pause();\n        this.media.muted = true;\n      }\n      this.media.removeAttribute(\"src\");\n      this.media.load();\n    }\n    this._currentTime = 0;\n    this._duration = 0;\n    this.mediaConfig = null;\n    for (const k in this._interval) {\n      if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n        clearInterval(this._interval[k]);\n        this._interval[k] = null;\n      }\n    }\n    this.detachVideoEvents();\n    this.media = null;\n    this.mediaEventMiddleware = {};\n    this.removeAllListeners();\n  }\n  get video() {\n    return this.media;\n  }\n  set video(media) {\n    this.media = media;\n  }\n  play() {\n    const ret = this.media ? this.media.play() : null;\n    return ret;\n  }\n  pause() {\n    this.media && this.media.pause();\n  }\n  load() {\n    this.media && this.media.load();\n  }\n  canPlayType(type) {\n    return this.media ? this.media.canPlayType(type) : false;\n  }\n  getBufferedRange(buffered) {\n    const range = [0, 0];\n    if (!this.media) {\n      return range;\n    }\n    if (!buffered) {\n      buffered = this.media.buffered;\n    }\n    const currentTime = this.media.currentTime;\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i);\n        range[1] = buffered.end(i);\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break;\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range;\n    } else {\n      return [0, 0];\n    }\n  }\n  set autoplay(isTrue) {\n    this.media && (this.media.autoplay = isTrue);\n  }\n  get autoplay() {\n    return this.media ? this.media.autoplay : false;\n  }\n  get buffered() {\n    return this.media ? this.media.buffered : null;\n  }\n  get buffered2() {\n    return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n  }\n  get bufferedPoint() {\n    const ret = {\n      start: 0,\n      end: 0\n    };\n    if (!this.media) {\n      return ret;\n    }\n    const _buffered = this.media.buffered;\n    if (!_buffered || _buffered.length === 0) {\n      return ret;\n    }\n    for (let i = 0; i < _buffered.length; i++) {\n      if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n        return {\n          start: _buffered.start(i),\n          end: _buffered.end(i)\n        };\n      }\n    }\n    return ret;\n  }\n  get crossOrigin() {\n    return this.media ? this.media.crossOrigin : \"\";\n  }\n  set crossOrigin(isTrue) {\n    this.media && (this.media.crossOrigin = isTrue);\n  }\n  get currentSrc() {\n    return this.media ? this.media.currentSrc : \"\";\n  }\n  set currentSrc(src) {\n    this.media && (this.media.currentSrc = src);\n  }\n  get currentTime() {\n    if (!this.media) {\n      return 0;\n    }\n    return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n  }\n  set currentTime(time) {\n    this.media && (this.media.currentTime = time);\n  }\n  get defaultMuted() {\n    return this.media ? this.media.defaultMuted : false;\n  }\n  set defaultMuted(isTrue) {\n    this.media && (this.media.defaultMuted = isTrue);\n  }\n  get duration() {\n    return this._duration;\n  }\n  get ended() {\n    return this.media ? this.media.ended : false;\n  }\n  get error() {\n    return this.media.error;\n  }\n  get errorNote() {\n    const err = this.media.error;\n    if (!err) {\n      return \"\";\n    }\n    const status = [\n      \"MEDIA_ERR_ABORTED\",\n      \"MEDIA_ERR_NETWORK\",\n      \"MEDIA_ERR_DECODE\",\n      \"MEDIA_ERR_SRC_NOT_SUPPORTED\"\n    ];\n    return status[this.media.error.code - 1];\n  }\n  get loop() {\n    return this.media ? this.media.loop : false;\n  }\n  set loop(isTrue) {\n    this.media && (this.media.loop = isTrue);\n  }\n  get muted() {\n    return this.media ? this.media.muted : false;\n  }\n  set muted(isTrue) {\n    if (!this.media || this.media.muted === isTrue) {\n      return;\n    }\n    this._lastMuted = this.media.muted;\n    this.media.muted = isTrue;\n  }\n  get networkState() {\n    return this.media.networkState;\n  }\n  get paused() {\n    return this.media ? this.media.paused : true;\n  }\n  get playbackRate() {\n    return this.media ? this.media.playbackRate : 0;\n  }\n  set playbackRate(rate) {\n    if (!this.media || rate === Infinity) {\n      return;\n    }\n    this.media.defaultPlaybackRate = rate;\n    this.media.playbackRate = rate;\n  }\n  get played() {\n    return this.media ? this.media.played : null;\n  }\n  get preload() {\n    return this.media ? this.media.preload : false;\n  }\n  set preload(isTrue) {\n    this.media && (this.media.preload = isTrue);\n  }\n  get readyState() {\n    return this.media.readyState;\n  }\n  get seekable() {\n    return this.media ? this.media.seekable : false;\n  }\n  get seeking() {\n    return this.media ? this.media.seeking : false;\n  }\n  get src() {\n    return this.media ? this.media.src : \"\";\n  }\n  set src(url) {\n    if (!this.media) {\n      return;\n    }\n    this.emit(URL_CHANGE, url);\n    this.emit(WAITING);\n    this._currentTime = 0;\n    this._duration = 0;\n    if (util.isMSE(this.media)) {\n      this.onWaiting();\n      return;\n    }\n    this._detachSourceEvents(this.media);\n    if (util.typeOf(url) === \"Array\") {\n      this._attachSourceEvents(this.media, url);\n    } else if (url) {\n      this.media.src = url;\n    } else {\n      this.media.removeAttribute(\"src\");\n    }\n    this.load();\n  }\n  get volume() {\n    return this.media ? this.media.volume : 0;\n  }\n  set volume(vol) {\n    if (vol === Infinity || !this.media) {\n      return;\n    }\n    this.media.volume = vol;\n  }\n  get aspectRatio() {\n    return this.media ? this.media.videoWidth / this.media.videoHeight : 0;\n  }\n  addInnerOP(event) {\n    this._internalOp[event] = true;\n  }\n  removeInnerOP(event) {\n    delete this._internalOp[event];\n  }\n  emit(event, data, ...args) {\n    super.emit(event, data, ...args);\n  }\n  on(event, callback, ...args) {\n    super.on(event, callback, ...args);\n  }\n  once(event, callback, ...args) {\n    super.once(event, callback, ...args);\n  }\n  off(event, callback, ...args) {\n    super.off(event, callback, ...args);\n  }\n  offAll() {\n    super.removeAllListeners();\n  }\n}\nexport { MediaProxy as default };\n","class INDEXDB {\n  constructor(mydb = { name: \"xgplayer\", version: 1, db: null, ojstore: { name: \"xg-m4a\", keypath: \"vid\" } }) {\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  openDB(callback) {\n    const self = this;\n    const version = this.myDB.version || 1;\n    const request = self.indexedDB.open(self.myDB.name, version);\n    request.onerror = function(e) {\n    };\n    request.onsuccess = (e) => {\n      this.myDB.db = e.target.result;\n      callback.call(self);\n    };\n    request.onupgradeneeded = (e) => {\n      const db = e.target.result;\n      e.target.transaction;\n      if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n        db.createObjectStore(self.myDB.ojstore.name, { keyPath: self.myDB.ojstore.keypath });\n      }\n    };\n  }\n  deletedb() {\n    const self = this;\n    self.indexedDB.deleteDatabase(this.myDB.name);\n  }\n  closeDB() {\n    this.myDB.db.close();\n  }\n  addData(storename, data) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    let request;\n    for (let i = 0; i < data.length; i++) {\n      request = store.add(data[i]);\n      request.onerror = function() {\n      };\n      request.onsuccess = function() {\n      };\n    }\n  }\n  putData(storename, data) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    let request;\n    for (let i = 0; i < data.length; i++) {\n      request = store.put(data[i]);\n      request.onerror = function() {\n      };\n      request.onsuccess = function() {\n      };\n    }\n  }\n  getDataByKey(storename, key, callback) {\n    const self = this;\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    const request = store.get(key);\n    request.onerror = function() {\n      callback.call(self, null);\n    };\n    request.onsuccess = function(e) {\n      const result = e.target.result;\n      callback.call(self, result);\n    };\n  }\n  deleteData(storename, key) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    store.delete(key);\n  }\n  clearData(storename) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    store.clear();\n  }\n}\nexport { INDEXDB as default };\n","const FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nconst GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nconst EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nconst PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","function callHandler(obj, handler, next, ...args) {\n  const ret = handler.call(obj, ...args);\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then((...args2) => {\n      next.call(obj, ...args2);\n    });\n  } else {\n    next.call(obj, ...args);\n  }\n}\nfunction hook(hookName, handler, preset = { pre: null, next: null }) {\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    if (preset.pre) {\n      try {\n        preset.pre.call(this, ...arguments);\n      } catch (e) {\n        e.message = `[pluginName: ${this.pluginName}:${hookName}:pre error] >> ${e.message}`;\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        const preRet = this.__hooks[hookName].call(this, this, ...arguments);\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then((isContinue) => {\n              if (isContinue !== false) {\n                callHandler(this, handler, preset.next, ...arguments);\n              }\n            }).catch((e) => {\n              throw e;\n            });\n          } else {\n            callHandler(this, handler, preset.next, ...arguments);\n          }\n        } else if (preRet === void 0) {\n          callHandler(this, handler, preset.next, ...arguments);\n        }\n      } catch (e) {\n        e.message = `[pluginName: ${this.pluginName}:${hookName}] >> ${e.message}`;\n        throw e;\n      }\n    } else {\n      callHandler(this, handler, preset.next, ...arguments);\n    }\n  }.bind(this);\n}\nfunction useHooks(hookName, handler) {\n  const { __hooks } = this;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(`has no supported hook which name [${hookName}]`);\n    return false;\n  }\n  __hooks && (__hooks[hookName] = handler);\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  const { __hooks } = this;\n  if (!__hooks) {\n    return;\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName, ...args) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  const plugin = this.plugins[pluginName.toLowerCase()];\n  return plugin.useHooks && plugin.useHooks(...args);\n}\nfunction removePluginHooks(pluginName, ...args) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  const plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    return plugin.removeHooks && plugin.removeHooks(...args);\n  }\n}\nfunction hooksDescriptor(instance, presetHooks = []) {\n  instance.__hooks = {};\n  presetHooks && presetHooks.map((item) => {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: () => {\n      return instance.__hooks && Object.keys(instance.__hooks).map((key) => {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler, ...args) {\n  if (obj.__hooks && obj.__hooks[hookName]) {\n    const ret = obj.__hooks[hookName].call(obj, obj, ...args);\n    if (ret && ret.then) {\n      ret.then((data) => {\n        return data === false ? null : handler.call(obj, obj, ...args);\n      }).catch((e) => {\n        console.warn(`[runHooks]${hookName} reject`, e.message);\n      });\n    } else if (ret !== false) {\n      return handler.call(obj, obj, ...args);\n    }\n  } else {\n    return handler.call(obj, obj, ...args);\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(`[${pluginName}] event or callback cant be undefined or null when call ${msg}`);\n}\nclass BasePlugin {\n  static defineGetterOrSetter(Obj, map) {\n    for (const key in map) {\n      if (Object.prototype.hasOwnProperty.call(map, key)) {\n        Object.defineProperty(Obj, key, map[key]);\n      }\n    }\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  static get pluginName() {\n    return \"pluginName\";\n  }\n  constructor(args) {\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  beforeCreate(args) {\n  }\n  afterCreate() {\n  }\n  beforePlayerInit() {\n  }\n  onPluginsReady() {\n  }\n  afterPlayerInit() {\n  }\n  destroy() {\n  }\n  __init(args) {\n    this.player = args.player;\n    this.playerConfig = args.player && args.player.config;\n    this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n    this.logger = args.player && args.player.logger;\n  }\n  updateLang(lang) {\n    if (!lang) {\n      lang = this.lang;\n    }\n  }\n  get lang() {\n    return this.player.lang;\n  }\n  get i18n() {\n    return this.player.i18n;\n  }\n  get i18nKeys() {\n    return this.player.i18nKeys;\n  }\n  get domEventType() {\n    let _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n    if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n      _e = this.playerConfig.domEventType;\n    }\n    return _e;\n  }\n  on(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      this.__events[event] = callback;\n      this.player.on(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback;\n        this.player.on(item, callback);\n      });\n    }\n  }\n  once(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      this.__onceEvents[event] = callback;\n      this.player.once(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__onceEvents[item] = callback;\n        this.player.once(event, callback);\n      });\n    }\n  }\n  off(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      delete this.__events[event];\n      this.player.off(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        delete this.__events[event];\n        this.player.off(item, callback);\n      });\n    }\n  }\n  offAll() {\n    [\"__events\", \"__onceEvents\"].forEach((key) => {\n      Object.keys(this[key]).forEach((item) => {\n        this[key][item] && this.off(item, this[key][item]);\n        item && delete this[key][item];\n      });\n    });\n    this.__events = {};\n    this.__onceEvents = {};\n  }\n  emit(event, ...res) {\n    if (!this.player) {\n      return;\n    }\n    this.player.emit(event, ...res);\n  }\n  emitUserAction(event, action, params = {}) {\n    if (!this.player) {\n      return;\n    }\n    const nParams = {\n      ...params,\n      pluginName: this.pluginName\n    };\n    this.player.emitUserAction(event, action, nParams);\n  }\n  hook(hookName, handler, preset = { pre: null, next: null }) {\n    return hook.call(this, ...arguments);\n  }\n  useHooks(hookName, handler, ...args) {\n    return useHooks.call(this, ...arguments);\n  }\n  removeHooks(hookName, handler, ...args) {\n    return removeHooks.call(this, ...arguments);\n  }\n  registerPlugin(plugin, options = {}, name = \"\") {\n    if (!this.player) {\n      return;\n    }\n    name && (options.pluginName = name);\n    return this.player.registerPlugin({ plugin, options });\n  }\n  getPlugin(name) {\n    return this.player ? this.player.getPlugin(name) : null;\n  }\n  __destroy() {\n    const player = this.player;\n    const pluginName = this.pluginName;\n    this.offAll();\n    util.clearAllTimers(this);\n    if (util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map((item) => {\n      this[item] = null;\n    });\n    player.unRegisterPlugin(pluginName);\n    delHooksDescriptor(this);\n  }\n}\nexport { BasePlugin as default };\n","import BasePlugin from \"./basePlugin.js\";\nimport delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nconst ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nconst POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nconst PLUGIN_STATE_CLASS = {\n  ICON_DISABLE: \"xg-icon-disable\",\n  ICON_HIDE: \"xg-icon-hide\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (typeof icon === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return `${classname} ${icon.class}`;\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (typeof icon === \"object\" && icon.attr && typeof icon.attr === \"object\") {\n    Object.keys(icon.attr).map((key) => {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key, classname = \"\", attr = {}, pluginName = \"\") {\n  let newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map((key2) => {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, `xg-img ${classname}`);\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map((key2) => {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(`warn>>icons.${key} in config of plugin named [${pluginName}] is a function mast return an Element Object`);\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(`Plugin named [${pluginName}]:createIcon`, e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(`warn>>icons.${key} in config of plugin named [${pluginName}] is invalid`);\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  const _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map((key) => {\n    const orgIcon = iconsConfig[key];\n    let classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    let attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    let newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.langText, key, {\n      get: () => {\n        const { lang, i18n } = plugin;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nclass Plugin extends BasePlugin {\n  static insert(html, parent, index = 0) {\n    const len = parent.children.length;\n    const insertIdx = Number(index);\n    const isDomElement = html instanceof window.Node;\n    if (len) {\n      let i = 0;\n      let coordinate = null;\n      let mode = \"\";\n      for (; i < len; i++) {\n        coordinate = parent.children[i];\n        const curIdx = Number(coordinate.getAttribute(\"data-index\"));\n        if (curIdx >= insertIdx) {\n          mode = \"beforebegin\";\n          break;\n        } else if (curIdx < insertIdx) {\n          mode = \"afterend\";\n        }\n      }\n      if (isDomElement) {\n        if (mode === \"afterend\") {\n          parent.appendChild(html);\n        } else {\n          parent.insertBefore(html, coordinate);\n        }\n      } else {\n        coordinate.insertAdjacentHTML(mode, html);\n      }\n      return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n    } else {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n      return parent.children[parent.children.length - 1];\n    }\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  static delegate(root, querySelector, eventType, callback, capture = false) {\n    const dels = [];\n    if (root instanceof window.Node && typeof callback === \"function\") {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          const ret = delegate(root, querySelector, item, callback, capture);\n          ret.key = `${querySelector}_${item}`;\n          dels.push(ret);\n        });\n      } else {\n        const ret = delegate(root, querySelector, eventType, callback, capture);\n        ret.key = `${querySelector}_${eventType}`;\n        dels.push(ret);\n      }\n    }\n    return dels;\n  }\n  static get ROOT_TYPES() {\n    return ROOT_TYPES;\n  }\n  static get POSITIONS() {\n    return POSITIONS;\n  }\n  constructor(args = {}) {\n    super(args);\n    this.__delegates = [];\n  }\n  __init(args) {\n    super.__init(args);\n    if (!args.root) {\n      return;\n    }\n    const _parent = args.root;\n    let _el = null;\n    this.icons = {};\n    this.root = null;\n    this.parent = null;\n    const _orgicons = this.registerIcons() || {};\n    registerIconsObj(_orgicons, this);\n    this.langText = {};\n    const defaultTexConfig = this.registerLanguageTexts() || {};\n    registerTextObj(defaultTexConfig, this);\n    let renderStr = \"\";\n    try {\n      renderStr = this.render();\n    } catch (e) {\n      XG_DEBUG.logError(`Plugin:${this.pluginName}:render`, e);\n      throw new Error(`Plugin:${this.pluginName}:render:${e.message}`);\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index);\n      _el.setAttribute(\"data-index\", args.index);\n    } else if (args.tag) {\n      _el = util.createDom(args.tag, \"\", args.attr, args.name);\n      _el.setAttribute(\"data-index\", args.index);\n      _parent.appendChild(_el);\n    } else {\n      return;\n    }\n    this.root = _el;\n    this.parent = _parent;\n    const attr = this.config.attr || {};\n    const style = this.config.style || {};\n    this.setAttr(attr);\n    this.setStyle(style);\n    if (this.config.index) {\n      this.root.setAttribute(\"data-index\", this.config.index);\n    }\n    this.__registerChildren();\n  }\n  __registerChildren() {\n    if (!this.root) {\n      return;\n    }\n    this._children = [];\n    const children = this.children();\n    if (children && typeof children === \"object\") {\n      if (Object.keys(children).length > 0) {\n        Object.keys(children).map((item) => {\n          const name = item;\n          const _plugin = children[name];\n          const options = {\n            root: this.root\n          };\n          let config, Plugin2;\n          if (typeof _plugin === \"function\") {\n            config = this.config[name] || {};\n            Plugin2 = _plugin;\n          } else if (typeof _plugin === \"object\" && typeof _plugin.plugin === \"function\") {\n            config = _plugin.options ? util.deepCopy(this.config[name] || {}, _plugin.options) : this.config[name] || {};\n            Plugin2 = _plugin.plugin;\n          }\n          options.config = config;\n          config.index !== void 0 && (options.index = config.index);\n          config.root && (options.root = config.root);\n          this.registerPlugin(Plugin2, options, name);\n        });\n      }\n    }\n  }\n  updateLang(lang) {\n    if (!lang) {\n      lang = this.lang;\n    }\n    function checkChildren(node, callback) {\n      for (let i = 0; i < node.children.length; i++) {\n        if (node.children[i].children.length > 0) {\n          checkChildren(node.children[i], callback);\n        } else {\n          callback(node.children[i]);\n        }\n      }\n    }\n    const { root, i18n, langText } = this;\n    if (root) {\n      checkChildren(root, (node) => {\n        const langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n        if (!langKey) {\n          return;\n        }\n        const langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n        if (langTextShow) {\n          node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n        }\n      });\n    }\n  }\n  get lang() {\n    return this.player.lang;\n  }\n  changeLangTextKey(dom, key = \"\") {\n    const i18n = this.i18n || {};\n    const langText = this.langText;\n    dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n    const text = i18n[key] || langText[key] || \"\";\n    if (text) {\n      dom.innerHTML = text;\n    }\n  }\n  plugins() {\n    return this._children;\n  }\n  disable() {\n    this.config.disable = true;\n    util.addClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n  }\n  enable() {\n    this.config.disable = false;\n    util.removeClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n  }\n  children() {\n    return {};\n  }\n  registerPlugin(plugin, options = {}, name = \"\") {\n    options.root = options.root || this.root;\n    const _c = super.registerPlugin(plugin, options, name);\n    this._children.push(_c);\n    return _c;\n  }\n  registerIcons() {\n    return {};\n  }\n  registerLanguageTexts() {\n    return {};\n  }\n  find(qs) {\n    if (!this.root) {\n      return;\n    }\n    return this.root.querySelector(qs);\n  }\n  bind(querySelector, eventType, callback) {\n    if (arguments.length < 3 && typeof eventType === \"function\") {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType);\n        });\n      } else {\n        this.bindEL(querySelector, eventType);\n      }\n    } else {\n      const ret = Plugin.delegate.call(this, this.root, querySelector, eventType, callback);\n      this.__delegates = this.__delegates.concat(ret);\n    }\n  }\n  unbind(querySelector, eventType) {\n    if (arguments.length < 3 && typeof eventType === \"function\") {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType);\n        });\n      } else {\n        this.unbindEL(querySelector, eventType);\n      }\n    } else {\n      const key = `${querySelector}_${eventType}`;\n      for (let i = 0; i < this.__delegates.length; i++) {\n        if (this.__delegates[i].key === key) {\n          this.__delegates[i].destroy();\n          this.__delegates.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n  setStyle(name, value) {\n    if (!this.root) {\n      return;\n    }\n    if (util.typeOf(name) === \"String\") {\n      return this.root.style[name] = value;\n    } else if (util.typeOf(name) === \"Object\") {\n      Object.keys(name).map((key) => {\n        this.root.style[key] = name[key];\n      });\n    }\n  }\n  setAttr(name, value) {\n    if (!this.root) {\n      return;\n    }\n    if (util.typeOf(name) === \"String\") {\n      return this.root.setAttribute(name, value);\n    } else if (util.typeOf(name) === \"Object\") {\n      Object.keys(name).map((key) => {\n        this.root.setAttribute(key, name[key]);\n      });\n    }\n  }\n  setHtml(htmlStr, callback) {\n    if (!this.root) {\n      return;\n    }\n    this.root.innerHTML = htmlStr;\n    if (typeof callback === \"function\") {\n      callback();\n    }\n  }\n  bindEL(event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return;\n    }\n    if (`on${event}` in this.root && typeof eventHandle === \"function\") {\n      this.root.addEventListener(event, eventHandle, isBubble);\n    }\n  }\n  unbindEL(event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return;\n    }\n    if (`on${event}` in this.root && typeof eventHandle === \"function\") {\n      this.root.removeEventListener(event, eventHandle, isBubble);\n    }\n  }\n  show(value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== void 0 ? value : \"block\";\n    const cs = window.getComputedStyle(this.root, null);\n    const cssDisplayValue = cs.getPropertyValue(\"display\");\n    if (cssDisplayValue === \"none\") {\n      return this.root.style.display = \"block\";\n    }\n  }\n  hide() {\n    this.root && (this.root.style.display = \"none\");\n  }\n  appendChild(pdom, child) {\n    if (!this.root) {\n      return null;\n    }\n    if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n      return this.root.appendChild(arguments[0]);\n    }\n    if (!child || !(child instanceof window.Element)) {\n      return null;\n    }\n    try {\n      if (typeof pdom === \"string\") {\n        return this.find(pdom).appendChild(child);\n      } else {\n        return pdom.appendChild(child);\n      }\n    } catch (err) {\n      XG_DEBUG.logError(\"Plugin:appendChild\", err);\n      return null;\n    }\n  }\n  render() {\n    return \"\";\n  }\n  destroy() {\n  }\n  __destroy() {\n    const { player } = this;\n    this.__delegates.map((item) => {\n      item.destroy();\n    });\n    this.__delegates = [];\n    if (this._children instanceof Array) {\n      this._children.map((item) => {\n        player.unRegisterPlugin(item.pluginName);\n      });\n      this._children = null;\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty(\"remove\")) {\n        this.root.remove();\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root);\n      }\n    }\n    super.__destroy();\n    this.icons = {};\n    [\"root\", \"parent\"].map((item) => {\n      this[item] = null;\n    });\n  }\n}\nexport { PLUGIN_STATE_CLASS, POSITIONS, ROOT_TYPES, Plugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nclass ResizeObserver {\n  constructor() {\n    __publicField(this, \"__trigger\", (entries) => {\n      const t = new Date().getTime();\n      this.timeStamp = t;\n      for (let i = 0; i < entries.length; i++) {\n        this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, { trailing: true }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  addObserver(target, handler) {\n    if (!this.observer) {\n      return;\n    }\n    this.observer && this.observer.observe(target);\n    const _pid = target.getAttribute(PLATER_ID);\n    const { __handlers } = this;\n    let index = -1;\n    for (let i = 0; i < __handlers.length; i++) {\n      if (__handlers[i] && target === __handlers[i].target) {\n        index = i;\n      }\n    }\n    if (index > -1) {\n      this.__handlers[index].handler = handler;\n    } else {\n      this.__handlers.push({\n        target,\n        handler,\n        playerId: _pid\n      });\n    }\n  }\n  unObserver(target) {\n    let i = -1;\n    this.__handlers.map((item, index) => {\n      if (target === item.target) {\n        i = index;\n      }\n    });\n    try {\n      this.observer && this.observer.unobserve(target);\n    } catch (e) {\n    }\n    this.observer && this.observer.unobserve(target);\n    i > -1 && this.__handlers.splice(i, 1);\n  }\n  destroyObserver() {\n    this.observer && this.observer.disconnect();\n    this.observer = null;\n    this.__handlers = null;\n  }\n  __runHandler(target) {\n    const { __handlers } = this;\n    for (let i = 0; i < __handlers.length; i++) {\n      if (__handlers[i] && target === __handlers[i].target) {\n        try {\n          __handlers[i].handler(target);\n        } catch (error) {\n          console.error(error);\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n}\nlet resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nconst pluginsManager = {\n  pluginGroup: {},\n  init(player) {\n    let cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = util.generateSessionId();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && player.root && addObserver(player.root, () => {\n      player.resize();\n    });\n    this.pluginGroup[cgid] = {\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  formatPluginInfo(plugin, config) {\n    let PLUFGIN = null;\n    let options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits(pluginName, plugins) {\n    for (let i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig(pluginName, playerConfig) {\n    const keys = Object.keys(playerConfig);\n    let _pConfig = null;\n    for (let i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister(player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default;\n        } else {\n          result = plugin;\n        }\n        this.register(player, result, plugin.options);\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error(\"timeout\"));\n        }, timeout);\n      })\n    ]);\n  },\n  register(player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    const originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = player;\n    const pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(`not supported plugin [${pluginName}]`);\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    const keys = Object.keys(originalOptions);\n    for (let i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        const config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach((key) => {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(`the is one plugin with same pluginName [${pluginName}] exist, destroy the old instance`);\n      }\n      const _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      const plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(`[unRegister:${name}] cgid:[${cgid}] error`, e);\n    }\n  },\n  deletePlugin(player, name) {\n    const cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins(player) {\n    const cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin(player, name) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    const cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit(player) {\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId;\n        if (!this.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        const plugins = this.pluginGroup[cgid]._plugins;\n        const pluginsRet = [];\n        Object.keys(plugins).forEach((pName) => {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              const ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([...pluginsRet]).then(() => {\n          resolve();\n        }).catch((e) => {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((pName) => {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang(lang, player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((item) => {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(`${item} setLang`);\n        }\n      }\n    });\n  },\n  reRender(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const _pList = [];\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((pName) => {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        this.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach((item) => {\n      this.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach((key) => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  destroy(player) {\n    const cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    player.root && unObserver(player.root);\n    const plugins = this.pluginGroup[cgid]._plugins;\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item);\n    }\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  BUILTIN_CLASS: \"xgplayer-built-in\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    isNoRoot: false,\n    isCustomRoot: true,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: () => {\n    },\n    enableSwipeHandler: () => {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: { list: [] },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  const { plugins = [], ignores = [], icons = {}, i18n = [] } = presetInst;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n  Object.keys(icons).map((key) => {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  const _ci18n = player.config.i18n || [];\n  i18n.push(..._ci18n);\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","import util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nconst XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach((key) => {\n    const _s = util.typeOf(src[key]);\n    const _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      dst[key].push(...src[key]);\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map((key) => {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  let ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map((lang2) => {\n      const keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  const { lang } = i18nLangs;\n  ext.map((item) => {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  let _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  const texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  const ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  ret.langKeys.push(...XGI18nLang.langKeys);\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nconst I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    const ret = {};\n    XGI18nLang.langKeys.map((key) => {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","const STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nconst STATE_ARRAY = [\n  \"ERROR\",\n  \"INITIAL\",\n  \"READY\",\n  \"ATTACHING\",\n  \"ATTACHED\",\n  \"NOTALLOW\",\n  \"RUNNING\",\n  \"ENDED\",\n  \"DESTROYED\"\n];\nexport { STATES, STATE_ARRAY };\n","import { EventEmitter } from \"eventemitter3\";\nconst store = {};\nlet instance = null;\nclass InstManager extends EventEmitter {\n  static getInstance() {\n    instance || (instance = new InstManager());\n    return instance;\n  }\n  add(player) {\n    if (!player) {\n      return;\n    }\n    store[player.playerId] = player;\n    if (Object.keys(store).length === 1) {\n      this.setActive(player.playerId, true);\n    }\n  }\n  remove(player) {\n    if (!player) {\n      return;\n    }\n    player.isUserActive;\n    delete store[player.playerId];\n  }\n  _iterate(fn, endEarly = false) {\n    for (const key in store) {\n      if (Object.prototype.hasOwnProperty.call(store, key)) {\n        const player = store[key];\n        if (endEarly) {\n          if (fn(player)) {\n            break;\n          }\n        } else {\n          fn(player);\n        }\n      }\n    }\n  }\n  forEach(fn) {\n    this._iterate(fn);\n  }\n  find(fn) {\n    let result = null;\n    this._iterate((player) => {\n      const flag = fn(player);\n      if (flag) {\n        result = player;\n      }\n      return flag;\n    }, true);\n    return result;\n  }\n  findAll(fn) {\n    const results = [];\n    this._iterate((player) => {\n      if (fn(player)) {\n        results.push(player);\n      }\n    });\n    return results;\n  }\n  setActive(playerId, isActive = true) {\n    if (!store[playerId]) {\n      return;\n    }\n    if (isActive) {\n      this.forEach((inst) => {\n        if (playerId === inst.playerId) {\n          inst.isUserActive = true;\n          inst.isInstNext = false;\n        } else {\n          inst.isUserActive = false;\n        }\n      });\n    } else {\n      store[playerId].isUserActive = isActive;\n    }\n    return playerId;\n  }\n  getActiveId() {\n    const keys = Object.keys(store);\n    for (let i = 0; i < keys.length; i++) {\n      const c = store[keys[i]];\n      if (c && c.isUserActive) {\n        return keys[i];\n      }\n    }\n    return null;\n  }\n  setNext(playerId, isNext = true) {\n    if (!store[playerId]) {\n      return;\n    }\n    if (isNext) {\n      this.forEach((inst) => {\n        if (playerId === inst.playerId) {\n          inst.isUserActive = false;\n          inst.isInstNext = true;\n        } else {\n          inst.isInstNext = false;\n        }\n      });\n    } else {\n      store[playerId].isInstNext = isNext;\n    }\n    return playerId;\n  }\n}\nfunction checkPlayerRoot(root) {\n  const keys = Object.keys(store);\n  for (let i = 0; i < keys.length; i++) {\n    const p = store[keys[i]];\n    if (p.root === root) {\n      return p;\n    }\n  }\n  return null;\n}\nexport { InstManager, checkPlayerRoot };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { READY, ERROR, LOADED_DATA, PLAY, CANPLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, REPLAY, FULLSCREEN_CHANGE, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, USER_ACTION, LOADING, PLAYNEXT, VIDEO_RESIZE } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nimport { InstManager, checkPlayerRoot } from \"./instManager.js\";\nconst PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nlet REAL_TIME_SPEED = 0;\nlet AVG_SPEED = 0;\nlet instManager = null;\nconst _Player = class extends MediaProxy {\n  constructor(options) {\n    const config = util.deepMerge(getDefaultConfig(), options);\n    super(config);\n    __publicField(this, \"canPlayFunc\", () => {\n      if (!this.config) {\n        return;\n      }\n      const { autoplay, defaultPlaybackRate } = this.config;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", this.__startTime);\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime > this.duration ? this.duration : this.__startTime;\n        this.__startTime = -1;\n      }\n      this.playbackRate = defaultPlaybackRate;\n      (autoplay || this._useAutoplay) && this.mediaPlay();\n      this.off(CANPLAY, this.canPlayFunc);\n      this.removeClass(STATE_CLASS.ENTER);\n    });\n    __publicField(this, \"onFullscreenChange\", (event, isFullScreen) => {\n      const delayResize = () => {\n        util.setTimeout(this, () => {\n          this.resize();\n        }, 100);\n      };\n      const fullEl = util.getFullScreenEl();\n      if (this._fullActionFrom) {\n        this._fullActionFrom = \"\";\n      } else {\n        this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: this.currentTime,\n          duration: this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      const isVideo = checkIsCurrentVideo(fullEl, this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === this._fullscreenEl || isVideo)) {\n        delayResize();\n        !this.config.closeFocusVideoFocus && this.media.focus();\n        this.fullscreen = true;\n        this.changeFullStyle(this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        this.emit(FULLSCREEN_CHANGE, true, this._fullScreenOffset);\n        if (this.cssfullscreen) {\n          this.exitCssFullscreen();\n        }\n      } else if (this.fullscreen) {\n        delayResize();\n        const { _fullScreenOffset, config } = this;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(this, () => {\n            this.fullscreen = false;\n            this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !this.config.closeFocusVideoFocus && this.media.focus();\n          this.fullscreen = false;\n          this._fullScreenOffset = null;\n        }\n        if (!this.cssfullscreen) {\n          this.recoverFullStyle(this.root, this._fullscreenEl, STATE_CLASS.FULLSCREEN);\n        } else {\n          this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        this._fullscreenEl = null;\n        this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    __publicField(this, \"_onWebkitbeginfullscreen\", (e) => {\n      this._fullscreenEl = this.media;\n      this.onFullscreenChange(e, true);\n    });\n    __publicField(this, \"_onWebkitendfullscreen\", (e) => {\n      this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(this, PlAYER_HOOKS);\n    this.config = config;\n    this._pluginInfoId = util.generateSessionId();\n    bindDebug(this);\n    const defaultPreset = this.constructor.defaultPreset;\n    const { presets } = this.config;\n    if (presets.length) {\n      const defaultIdx = presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      presets.push(defaultPreset);\n    }\n    this.userTimer = null;\n    this.waitTimer = null;\n    this.handleSource = true;\n    this._state = STATES.INITIAL;\n    this.isError = false;\n    this._hasStart = false;\n    this.isSeeking = false;\n    this.isCanplay = false;\n    this._useAutoplay = false;\n    this.__startTime = -1;\n    this.rotateDeg = 0;\n    this.isActive = false;\n    this.fullscreen = false;\n    this.cssfullscreen = false;\n    this.isRotateFullscreen = false;\n    this._fullscreenEl = null;\n    this.timeSegments = [];\n    this._cssfullscreenEl = null;\n    this.curDefinition = null;\n    this._orgCss = \"\";\n    this._fullScreenOffset = null;\n    this._videoHeight = 0;\n    this._videoWidth = 0;\n    this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    this.innerContainer = null;\n    this.topBar = null;\n    this.root = null;\n    this.__i18n = I18N.init(this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      this.config.autoplay = false;\n    }\n    this.database = new INDEXDB();\n    this.isUserActive = false;\n    this._onceSeekCanplay = null;\n    this._isPauseBeforeSeek = 0;\n    this.innerStates = {\n      isActiveLocked: false\n    };\n    this.instManager = instManager;\n    this._initMedia();\n    const { isNoRoot } = this.config;\n    const rootInit = !isNoRoot && this._initDOM();\n    if (!isNoRoot && !rootInit) {\n      console.error(\n        new Error(\n          `can't find the dom which id is ${this.config.id} or this.config.el does not exist`\n        )\n      );\n      return;\n    }\n    pluginsManager.init(this);\n    const { definition = {}, url } = this.config;\n    if (!url && definition.list && definition.list.length > 0) {\n      let defaultDefinitionObj = definition.list.find(\n        (e) => e.definition && e.definition === definition.defaultDefinition\n      );\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      this.config.url = defaultDefinitionObj.url;\n      this.curDefinition = defaultDefinitionObj;\n    }\n    this._bindEvents();\n    this._registerPresets();\n    this._registerPlugins();\n    pluginsManager.onPluginsReady(this);\n    this.getInitDefinition();\n    this.setState(STATES.READY);\n    util.setTimeout(this, () => {\n      this.emit(READY);\n    }, 0);\n    this.onReady && this.onReady();\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        this.start();\n      }\n    }\n  }\n  static set debugger(value) {\n    XG_DEBUG.config.debug = value;\n  }\n  static get version() {\n    return version;\n  }\n  static get debugger() {\n    return XG_DEBUG.config.debug;\n  }\n  static set instManager(value) {\n    instManager = value;\n  }\n  static get instManager() {\n    return instManager;\n  }\n  static getCurrentUserActivePlayerId() {\n    return instManager == null ? void 0 : instManager.getActiveId();\n  }\n  static setCurrentUserActive(playerId, isActive) {\n    instManager == null ? void 0 : instManager.setActive(playerId, isActive);\n  }\n  _initMedia() {\n    const XgVideoProxy = this.constructor.XgVideoProxy;\n    if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n      const el = this.innerContainer || this.root;\n      this.detachVideoEvents(this.media);\n      const _nVideo = new XgVideoProxy(el, this.config, this.mediaConfig);\n      this.attachVideoEvents(_nVideo);\n      this.media = _nVideo;\n    }\n    this.media.setAttribute(PLATER_ID, this.playerId);\n  }\n  _initDOM() {\n    const { id, el, isCustomRoot, controls, autoplay, isMobileSimulateMode } = this.config;\n    this.root = id ? document.getElementById(id) : null;\n    if (!this.root) {\n      if (el && el.nodeType === 1) {\n        this.root = el;\n      } else if (isCustomRoot) {\n        this.emit(\n          ERROR,\n          new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          })\n        );\n        console.error(\"this.confg.id or this.config.el can't be empty\");\n        return false;\n      } else {\n        this.root = util.createDom(\"div\", \"\", { id, class: STATE_CLASS.BUILTIN_CLASS });\n      }\n    }\n    const ret = checkPlayerRoot(this.root);\n    if (ret) {\n      XG_DEBUG.logWarn(\n        \"The is an Player instance already exists in this.root, destroy it and reinitialize\"\n      );\n      ret.destroy();\n    }\n    this.root.setAttribute(PLATER_ID, this.playerId);\n    instManager == null ? void 0 : instManager.add(this);\n    this._initBaseDoms();\n    const device = isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n    this.addClass(\n      `${STATE_CLASS.DEFAULT} ${STATE_CLASS.INACTIVE} xgplayer-${device} ${controls ? \"\" : STATE_CLASS.NO_CONTROLS}`\n    );\n    if (autoplay) {\n      this.addClass(STATE_CLASS.ENTER);\n    } else {\n      this.addClass(STATE_CLASS.NO_START);\n    }\n    if (this.config.fluid) {\n      let { width: width2, height: height2 } = this.config;\n      if (typeof width2 !== \"number\" || typeof height2 !== \"number\") {\n        width2 = 600;\n        height2 = 337.5;\n      }\n      const style = {\n        width: \"100%\",\n        height: \"0\",\n        \"max-width\": \"100%\",\n        \"padding-top\": `${height2 * 100 / width2}%`\n      };\n      Object.keys(style).forEach((key) => {\n        this.root.style[key] = style[key];\n      });\n    } else {\n      [\"width\", \"height\"].forEach((key) => {\n        if (this.config[key]) {\n          if (typeof this.config[key] !== \"number\") {\n            this.root.style[key] = this.config[key];\n          } else {\n            this.root.style[key] = `${this.config[key]}px`;\n          }\n        }\n      });\n    }\n    const { width, height, left, top } = this.root.getBoundingClientRect();\n    this.sizeInfo.width = width;\n    this.sizeInfo.height = height;\n    this.sizeInfo.left = left;\n    this.sizeInfo.top = top;\n    return true;\n  }\n  _initBaseDoms() {\n    this.topBar = null;\n    this.leftBar = null;\n    this.rightBar = null;\n    if (this.config.marginControls) {\n      this.innerContainer = util.createDom(\n        \"xg-video-container\",\n        \"\",\n        { \"data-index\": -1 },\n        \"xg-video-container\"\n      );\n      this.root.appendChild(this.innerContainer);\n    }\n  }\n  _bindEvents() {\n    [\"focus\", \"blur\"].forEach((item) => {\n      this.on(item, this[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n    });\n    FULLSCREEN_EVENTS.forEach((item) => {\n      document && document.addEventListener(item, this.onFullscreenChange);\n    });\n    if (sniffer.os.isIos) {\n      this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n    this.once(LOADED_DATA, this.resize);\n    this.playFunc = () => {\n      if (!this.config.closeFocusVideoFocus) {\n        this.media.focus();\n      }\n    };\n    this.once(PLAY, this.playFunc);\n  }\n  _unbindEvents() {\n    this.root && this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n    FULLSCREEN_EVENTS.forEach((item) => {\n      document.removeEventListener(item, this.onFullscreenChange);\n    });\n    this.playFunc && this.off(PLAY, this.playFunc);\n    this.off(CANPLAY, this.canPlayFunc);\n    this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n    this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n  }\n  _clearUserTimer() {\n    if (!this.userTimer) {\n      return;\n    }\n    util.clearTimeout(this, this.userTimer);\n    this.userTimer = null;\n  }\n  _startInit(url) {\n    if (!this.media) {\n      return;\n    }\n    if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n      url = \"\";\n      this.emit(URL_NULL);\n      XG_DEBUG.logWarn(\n        \"config.url is null, please get url and run player._startInit(url)\"\n      );\n      if (this.config.nullUrlStart) {\n        return;\n      }\n    }\n    if (this.handleSource) {\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        this._attachSourceEvents(this.media, url);\n      } else if (!this.media.src || this.media.src !== url) {\n        this.media.src = url;\n      } else if (!url) {\n        this.media.removeAttribute(\"src\");\n      }\n    }\n    if (util.typeOf(this.config.volume) === \"Number\") {\n      this.volume = this.config.volume;\n    }\n    const _root = this.innerContainer ? this.innerContainer : this.root;\n    if (_root && this.media instanceof window.Element && !_root.contains(this.media)) {\n      _root.insertBefore(this.media, _root.firstChild);\n    }\n    const { readyState } = this.media;\n    XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n    if (this.config.autoplay) {\n      !util.isMSE(this.media) && this.load();\n      (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n    }\n    const { startTime } = this.config;\n    this.__startTime = startTime > 0 ? startTime : -1;\n    this.config.startTime = 0;\n    if (readyState >= 2 && this.duration > 0) {\n      this.canPlayFunc();\n    } else {\n      this.on(CANPLAY, this.canPlayFunc);\n    }\n    if (!this.hasStart || this.state < STATES.ATTACHED) {\n      pluginsManager.afterInit(this);\n    }\n    this.hasStart = true;\n    this.setState(STATES.ATTACHED);\n    util.setTimeout(this, () => {\n      this.emit(COMPLETE);\n    }, 0);\n  }\n  _registerPlugins(isInit = true) {\n    this._loadingPlugins = [];\n    const ignores = this.config.ignores || [];\n    const plugins = this.config.plugins || [];\n    const i18n = this.config.i18n || [];\n    isInit && I18N.extend(i18n, this.__i18n);\n    const ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n    const cuPlugins = this.plugins;\n    plugins.forEach((plugin) => {\n      try {\n        const pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n        if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n          return null;\n        }\n        if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n          return;\n        }\n        if (plugin.lazy && plugin.loader) {\n          const loadingPlugin = pluginsManager.lazyRegister(this, plugin);\n          if (plugin.forceBeforeInit) {\n            loadingPlugin.then(() => {\n              this._loadingPlugins.splice(\n                this._loadingPlugins.indexOf(loadingPlugin),\n                1\n              );\n            }).catch((e) => {\n              XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n              this._loadingPlugins.splice(\n                this._loadingPlugins.indexOf(loadingPlugin),\n                1\n              );\n            });\n            this._loadingPlugins.push(loadingPlugin);\n          }\n          return;\n        }\n        return this.registerPlugin(plugin);\n      } catch (err) {\n        XG_DEBUG.logError(\"_registerPlugins:\", err);\n      }\n    });\n  }\n  _registerPresets() {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset);\n    });\n  }\n  _getRootByPosition(position) {\n    let _root = null;\n    switch (position) {\n      case POSITIONS.ROOT_RIGHT:\n        if (!this.rightBar) {\n          this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n        }\n        _root = this.rightBar;\n        break;\n      case POSITIONS.ROOT_LEFT:\n        if (!this.leftBar) {\n          this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n        }\n        _root = this.leftBar;\n        break;\n      case POSITIONS.ROOT_TOP:\n        if (!this.topBar) {\n          this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n          if (this.config.topBarAutoHide) {\n            util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n          }\n        }\n        _root = this.topBar;\n        break;\n      default:\n        _root = this.innerContainer || this.root;\n        break;\n    }\n    return _root;\n  }\n  registerPlugin(plugin, config) {\n    const _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n    const { PLUFGIN, options } = _retPlugin;\n    const { plugins } = this.config;\n    const exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n    !exits && plugins.push(PLUFGIN);\n    const _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n    _pConfig.root && (options.root = _pConfig.root);\n    _pConfig.position && (options.position = _pConfig.position);\n    const position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n    if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n      return this.controls && this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n    }\n    if (!options.root) {\n      options.root = PLUFGIN.pluginName === \"controls\" ? this.root : this._getRootByPosition(position);\n    }\n    return pluginsManager.register(this, PLUFGIN, options);\n  }\n  deregister(plugin) {\n    if (typeof plugin === \"string\") {\n      pluginsManager.unRegister(this, plugin);\n    } else if (plugin instanceof BasePlugin) {\n      pluginsManager.unRegister(this, plugin.pluginName);\n    }\n  }\n  unRegisterPlugin(plugin, removedFromConfig = false) {\n    this.deregister(plugin);\n    if (removedFromConfig) {\n      this.removePluginFromConfig(plugin);\n    }\n  }\n  removePluginFromConfig(plugin) {\n    let pluginName;\n    if (typeof plugin === \"string\") {\n      pluginName = plugin;\n    } else if (plugin instanceof BasePlugin) {\n      pluginName = plugin.pluginName;\n    }\n    if (!pluginName) {\n      return;\n    }\n    for (let i = this.config.plugins.length - 1; i > -1; i--) {\n      const plugin2 = this.config.plugins[i];\n      if (plugin2.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n        this.config.plugins.splice(i, 1);\n        break;\n      }\n    }\n  }\n  get plugins() {\n    return pluginsManager.getPlugins(this);\n  }\n  getPlugin(pluginName) {\n    const plugin = pluginsManager.findPlugin(this, pluginName);\n    return plugin && plugin.pluginName ? plugin : null;\n  }\n  addClass(className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className);\n    }\n  }\n  removeClass(className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className);\n  }\n  hasClass(className) {\n    if (!this.root) {\n      return;\n    }\n    return util.hasClass(this.root, className);\n  }\n  setAttribute(key, value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.setAttribute(key, value);\n  }\n  removeAttribute(key, value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.removeAttribute(key, value);\n  }\n  start(url) {\n    if (this.state > STATES.ATTACHING) {\n      return;\n    }\n    if (!url && !this.config.url) {\n      this.getInitDefinition();\n    }\n    this.hasStart = true;\n    this.setState(STATES.ATTACHING);\n    this._registerPlugins(false);\n    return pluginsManager.beforeInit(this).then(() => {\n      if (!this.config) {\n        return;\n      }\n      if (!url) {\n        url = this.url || this.config.url;\n      }\n      const _furl = this._preProcessUrl(url);\n      const ret = this._startInit(_furl.url);\n      return ret;\n    }).catch((e) => {\n      e.fileName = \"player\";\n      e.lineNumber = \"236\";\n      XG_DEBUG.logError(\"start:beforeInit:\", e);\n      throw e;\n    });\n  }\n  switchURL(url, options) {\n    let _src = url;\n    if (util.typeOf(url) === \"Object\") {\n      _src = url.url;\n    }\n    _src = this._preProcessUrl(_src).url;\n    const curTime = this.currentTime;\n    this.__startTime = curTime;\n    const isPaused = this.paused && !this.isError;\n    this.src = _src;\n    return new Promise((resolve, reject) => {\n      const _error = (e) => {\n        this.off(\"timeupdate\", _canplay);\n        this.off(\"canplay\", _canplay);\n        reject(e);\n      };\n      const _canplay = () => {\n        if (this.duration > 0 && this.__startTime > 0) {\n          this.currentTime = this.__startTime;\n          this.__startTime = -1;\n        }\n        if (isPaused) {\n          this.pause();\n        }\n        this.off(\"error\", _error);\n        resolve(true);\n      };\n      this.once(\"error\", _error);\n      if (!_src) {\n        this.errorHandler(\"error\", { code: 6, message: \"empty_src\" });\n        return;\n      }\n      if (sniffer.os.isAndroid) {\n        this.once(\"timeupdate\", _canplay);\n      } else {\n        this.once(\"canplay\", _canplay);\n      }\n      this.play();\n    });\n  }\n  videoPlay() {\n    this.mediaPlay();\n  }\n  mediaPlay() {\n    if (!this.hasStart && this.state < STATES.ATTACHED) {\n      this.removeClass(STATE_CLASS.NO_START);\n      this.addClass(STATE_CLASS.ENTER);\n      this.start();\n      this._useAutoplay = true;\n      return;\n    }\n    if (this.state < STATES.RUNNING) {\n      this.removeClass(STATE_CLASS.NO_START);\n      !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n    }\n    const playPromise = super.play();\n    if (playPromise !== void 0 && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n        this.addClass(STATE_CLASS.PLAYING);\n        if (this.state < STATES.RUNNING) {\n          XG_DEBUG.logInfo(\">>>>playPromise.then\");\n          this.setState(STATES.RUNNING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }).catch((e) => {\n        XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n        if (this.media && this.media.error) {\n          this.onError();\n          this.removeClass(STATE_CLASS.ENTER);\n          return;\n        }\n        if (e.name === \"NotAllowedError\") {\n          this._errorTimer = util.setTimeout(\n            this,\n            () => {\n              this._errorTimer = null;\n              this.emit(AUTOPLAY_PREVENTED);\n              this.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              this.removeClass(STATE_CLASS.ENTER);\n              this.pause();\n              this.setState(STATES.NOTALLOW);\n            },\n            0\n          );\n        }\n      });\n    } else {\n      XG_DEBUG.logWarn(\"video.play not return promise\");\n      if (this.state < STATES.RUNNING) {\n        this.setState(STATES.RUNNING);\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n        this.removeClass(STATE_CLASS.NO_START);\n        this.removeClass(STATE_CLASS.ENTER);\n        this.addClass(STATE_CLASS.PLAYING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n    }\n    return playPromise;\n  }\n  mediaPause() {\n    super.pause();\n  }\n  videoPause() {\n    super.pause();\n  }\n  play() {\n    this.removeClass(STATE_CLASS.PAUSED);\n    return runHooks(this, \"play\", () => {\n      return this.mediaPlay();\n    });\n  }\n  pause() {\n    runHooks(this, \"pause\", () => {\n      super.pause();\n    });\n  }\n  seek(time, status) {\n    if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n      return;\n    }\n    const { isSeekedPlay, seekedStatus } = this.config;\n    const _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n    time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n    !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n    this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n    this._onceSeekCanplay = () => {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.isSeeking = false;\n      switch (_status) {\n        case \"play\":\n          this.play();\n          break;\n        case \"pause\":\n          this.pause();\n          break;\n        default:\n          this._isPauseBeforeSeek > 1 || this.paused ? this.pause() : this.play();\n      }\n      this._isPauseBeforeSeek = 0;\n      this._onceSeekCanplay = null;\n    };\n    this.once(SEEKED, this._onceSeekCanplay);\n    if (this.state < STATES.RUNNING) {\n      this.removeClass(STATE_CLASS.NO_START);\n      this.currentTime = time;\n      this.play();\n    } else {\n      this.currentTime = time;\n    }\n  }\n  getInitDefinition() {\n    const { definition, url } = this.config;\n    if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n      definition.list.map((item) => {\n        if (item.definition === definition.defaultDefinition) {\n          this.config.url = item.url;\n          this.curDefinition = item;\n        }\n      });\n    }\n  }\n  changeDefinition(to, from) {\n    const { definition } = this.config;\n    if (Array.isArray(definition == null ? void 0 : definition.list)) {\n      definition.list.forEach((item) => {\n        if ((to == null ? void 0 : to.definition) === item.definition) {\n          this.curDefinition = item;\n        }\n      });\n    }\n    if ((to == null ? void 0 : to.bitrate) && typeof to.bitrate !== \"number\") {\n      to.bitrate = parseInt(to.bitrate, 10) || 0;\n    }\n    this.emit(DEFINITION_CHANGE, { from, to });\n    if (!this.hasStart) {\n      this.config.url = to.url;\n      return;\n    }\n    const ret = this.switchURL(to.url, {\n      seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\",\n      ...to\n    });\n    if (ret && ret.then) {\n      ret.then(() => {\n        this.emit(AFTER_DEFINITION_CHANGE, { from, to });\n      });\n    } else {\n      this.emit(AFTER_DEFINITION_CHANGE, { from, to });\n    }\n  }\n  reload() {\n    this.load();\n    this.reloadFunc = function() {\n      this.play();\n    };\n    this.once(LOADED_DATA, this.reloadFunc);\n  }\n  resetState() {\n    const {\n      NOT_ALLOW_AUTOPLAY,\n      PLAYING,\n      NO_START,\n      PAUSED,\n      REPLAY: REPLAY2,\n      ENTER,\n      ENDED,\n      ERROR: ERROR2,\n      LOADING: LOADING2\n    } = STATE_CLASS;\n    const clsList = [\n      NOT_ALLOW_AUTOPLAY,\n      PLAYING,\n      NO_START,\n      PAUSED,\n      REPLAY2,\n      ENTER,\n      ENDED,\n      ERROR2,\n      LOADING2\n    ];\n    this.hasStart = false;\n    this.isError = false;\n    this._useAutoplay = false;\n    this.mediaPause();\n    this._accPlayed.acc = 0;\n    this._accPlayed.t = 0;\n    this._accPlayed.loopAcc = 0;\n    clsList.forEach((cls) => {\n      this.removeClass(cls);\n    });\n    this.addClass(STATE_CLASS.NO_START);\n    this.emit(RESET);\n  }\n  reset(unregisterPlugins = [], isResetConfig) {\n    this.resetState();\n    const { plugins } = this;\n    if (!plugins) {\n      return;\n    }\n    unregisterPlugins.map((pn) => {\n      this.deregister(pn);\n    });\n    if (isResetConfig) {\n      const de = getDefaultConfig();\n      Object.keys(this.config).keys((k) => {\n        if (this.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n          this.config[k] = de[k];\n        }\n      });\n    }\n  }\n  destroy() {\n    const { innerContainer, root, media } = this;\n    if (!media) {\n      return;\n    }\n    this.hasStart = false;\n    this._useAutoplay = false;\n    root && root.removeAttribute(PLATER_ID);\n    this.updateAcc(\"destroy\");\n    this._unbindEvents();\n    this._detachSourceEvents(this.media);\n    util.clearAllTimers(this);\n    this.emit(DESTROY);\n    instManager == null ? void 0 : instManager.remove(this);\n    pluginsManager.destroy(this);\n    delHooksDescriptor(this);\n    super.destroy();\n    if (this.fullscreen && this._fullscreenEl === root) {\n      this.exitFullscreen();\n    }\n    if (innerContainer) {\n      const _c = innerContainer.children;\n      for (let i = 0; i < _c.length; i++) {\n        innerContainer.removeChild(_c[i]);\n      }\n    }\n    root && !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n    [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map((item) => {\n      this[item] && root.removeChild(this[item]);\n      this[item] = null;\n    });\n    const cList = root ? root.className.split(\" \") : [];\n    const isBuildIn = root && util.hasClass(root, STATE_CLASS.BUILTIN_CLASS);\n    if (cList.length > 0) {\n      root.className = cList.filter((name) => name.indexOf(\"xgplayer\") < 0).join(\" \");\n    } else {\n      root && (root.className = \"\");\n    }\n    this.removeAttribute(\"data-xgfill\");\n    [\n      \"isSeeking\",\n      \"isCanplay\",\n      \"isActive\",\n      \"cssfullscreen\",\n      \"fullscreen\"\n    ].forEach((key) => {\n      this[key] = false;\n    });\n    isBuildIn && this.root.parentNode && this.root.parentNode.removeChild(this.root);\n  }\n  replay() {\n    this.removeClass(STATE_CLASS.ENDED);\n    this.currentTime = 0;\n    this.isSeeking = false;\n    runHooks(this, \"replay\", () => {\n      this.once(SEEKED, () => {\n        const playPromise = this.mediaPlay();\n        if (playPromise && playPromise.catch) {\n          playPromise.catch((err) => {\n            console.log(err);\n          });\n        }\n      });\n      this.emit(REPLAY);\n      this.onPlay();\n    });\n  }\n  retry() {\n    this.removeClass(STATE_CLASS.ERROR);\n    this.addClass(STATE_CLASS.LOADING);\n    runHooks(this, \"retry\", () => {\n      const cur = this.currentTime;\n      const { url } = this.config;\n      const _srcRet = !util.isMSE(this.media) ? this._preProcessUrl(url) : { url };\n      this.src = _srcRet.url;\n      !this.config.isLive && (this.currentTime = cur);\n      this.once(CANPLAY, () => {\n        this.mediaPlay();\n      });\n    });\n  }\n  changeFullStyle(root, el, rootClass, pClassName) {\n    if (!root) {\n      return;\n    }\n    if (!pClassName) {\n      pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n    }\n    if (!this._orgCss) {\n      this._orgCss = util.filterStyleFromText(root);\n    }\n    util.addClass(root, rootClass);\n    if (el && el !== root && !this._orgPCss) {\n      this._orgPCss = util.filterStyleFromText(el);\n      util.addClass(el, pClassName);\n      el.setAttribute(PLATER_ID, this.playerId);\n    }\n  }\n  recoverFullStyle(root, el, rootClass, pClassName) {\n    if (!pClassName) {\n      pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n    }\n    if (this._orgCss) {\n      util.setStyleFromCsstext(root, this._orgCss);\n      this._orgCss = \"\";\n    }\n    util.removeClass(root, rootClass);\n    if (el && el !== root && this._orgPCss) {\n      util.setStyleFromCsstext(el, this._orgPCss);\n      this._orgPCss = \"\";\n      util.removeClass(el, pClassName);\n      el.removeAttribute(PLATER_ID);\n    }\n  }\n  getFullscreen(el = this.config.fullscreenTarget) {\n    const { root, media } = this;\n    if (!el) {\n      el = root;\n    }\n    this._fullScreenOffset = {\n      top: util.scrollTop(),\n      left: util.scrollLeft()\n    };\n    this._fullscreenEl = el;\n    this._fullActionFrom = \"get\";\n    const fullEl = util.getFullScreenEl();\n    if (fullEl === this._fullscreenEl) {\n      this.onFullscreenChange();\n      return Promise.resolve();\n    }\n    try {\n      for (let i = 0; i < GET_FULLSCREEN_API.length; i++) {\n        const key = GET_FULLSCREEN_API[i];\n        if (el[key]) {\n          const ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n          if (ret && ret.then) {\n            return ret;\n          } else {\n            return Promise.resolve();\n          }\n        }\n      }\n      if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n        media.webkitEnterFullscreen();\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(\"call getFullscreen fail\"));\n    } catch (err) {\n      return Promise.reject(new Error(\"call getFullscreen fail\"));\n    }\n  }\n  exitFullscreen(el) {\n    if (this.isRotateFullscreen) {\n      this.exitRotateFullscreen();\n    }\n    if (!this._fullscreenEl && !util.getFullScreenEl()) {\n      return;\n    }\n    const { root, media } = this;\n    this._fullActionFrom = \"exit\";\n    try {\n      for (let i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n        const key = EXIT_FULLSCREEN_API[i];\n        if (document[key]) {\n          const ret = document[key]();\n          if (ret && ret.then) {\n            return ret;\n          } else {\n            return Promise.resolve();\n          }\n        }\n      }\n      if (media && media.webkitSupportsFullscreen) {\n        media.webkitExitFullScreen();\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(\"call exitFullscreen fail\"));\n    } catch (err) {\n      return Promise.reject(new Error(\"call exitFullscreen fail\"));\n    }\n  }\n  getCssFullscreen(el = this.config.fullscreenTarget) {\n    if (this.isRotateFullscreen) {\n      this.exitRotateFullscreen();\n    } else if (this.fullscreen) {\n      this.exitFullscreen();\n    }\n    const _class = el ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.CSS_FULLSCREEN}` : STATE_CLASS.CSS_FULLSCREEN;\n    this.changeFullStyle(this.root, el, _class);\n    const { fullscreen = {} } = this.config;\n    const useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n    if (useCssFullscreen) {\n      this.fullscreen = true;\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n    this._cssfullscreenEl = el;\n    this.cssfullscreen = true;\n    this.emit(CSS_FULLSCREEN_CHANGE, true);\n  }\n  exitCssFullscreen() {\n    const _class = this._cssfullscreenEl ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.CSS_FULLSCREEN}` : STATE_CLASS.CSS_FULLSCREEN;\n    if (!this.fullscreen) {\n      this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n    } else {\n      const { fullscreen = {} } = this.config;\n      const useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n        this.fullscreen = false;\n        this.emit(FULLSCREEN_CHANGE, false);\n      } else {\n        this.removeClass(_class);\n      }\n    }\n    this._cssfullscreenEl = null;\n    this.cssfullscreen = false;\n    this.emit(CSS_FULLSCREEN_CHANGE, false);\n  }\n  getRotateFullscreen(el = this.config.fullscreenTarget) {\n    if (this.cssfullscreen) {\n      this.exitCssFullscreen(el);\n    }\n    const _class = el ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.ROTATE_FULLSCREEN}` : STATE_CLASS.ROTATE_FULLSCREEN;\n    this._fullscreenEl = el || this.root;\n    this.changeFullStyle(\n      this.root,\n      el,\n      _class,\n      STATE_CLASS.PARENT_ROTATE_FULLSCREEN\n    );\n    this.isRotateFullscreen = true;\n    this.fullscreen = true;\n    this.setRotateDeg(90);\n    this._rootStyle = this.root.getAttribute(\"style\");\n    this.root.style.width = `${window.innerHeight}px`;\n    this.emit(FULLSCREEN_CHANGE, true);\n  }\n  exitRotateFullscreen(el) {\n    const _class = this._fullscreenEl !== this.root ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.ROTATE_FULLSCREEN}` : STATE_CLASS.ROTATE_FULLSCREEN;\n    this.recoverFullStyle(\n      this.root,\n      this._fullscreenEl,\n      _class,\n      STATE_CLASS.PARENT_ROTATE_FULLSCREEN\n    );\n    this.isRotateFullscreen = false;\n    this.fullscreen = false;\n    this.setRotateDeg(0);\n    this.emit(FULLSCREEN_CHANGE, false);\n    if (this._rootStyle) {\n      this.root.style.style = this._rootStyle;\n      this._rootStyle = false;\n    }\n  }\n  setRotateDeg(deg) {\n    if (window.orientation === 90 || window.orientation === -90) {\n      this.rotateDeg = 0;\n    } else {\n      this.rotateDeg = deg;\n    }\n  }\n  focus(data = {\n    autoHide: !this.config.closeDelayBlur,\n    delay: this.config.inactive\n  }) {\n    if (this.isActive) {\n      this.onFocus(data);\n      return;\n    }\n    this.emit(PLAYER_FOCUS, {\n      paused: this.paused,\n      ended: this.ended,\n      ...data\n    });\n  }\n  blur(data = { ignorePaused: false }) {\n    if (!this.isActive) {\n      this.onBlur(data);\n      return;\n    }\n    this._clearUserTimer();\n    this.emit(PLAYER_BLUR, {\n      paused: this.paused,\n      ended: this.ended,\n      ...data\n    });\n  }\n  onFocus(data = { autoHide: true, delay: 3e3 }) {\n    const { innerStates } = this;\n    this.isActive = true;\n    this.removeClass(STATE_CLASS.INACTIVE);\n    this._clearUserTimer();\n    if (data.isLock !== void 0) {\n      innerStates.isActiveLocked = data.isLock;\n    }\n    if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n      this._clearUserTimer();\n      return;\n    }\n    const time = data && data.delay ? data.delay : this.config.inactive;\n    this.userTimer = util.setTimeout(this, () => {\n      this.userTimer = null;\n      this.blur();\n    }, time);\n  }\n  onBlur({ ignorePaused = false } = {}) {\n    if (this.innerStates.isActiveLocked) {\n      return;\n    }\n    const { closePauseVideoFocus } = this.config;\n    this.isActive = false;\n    if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.INACTIVE);\n    }\n  }\n  onEmptied() {\n    this.updateAcc(\"emptied\");\n  }\n  onCanplay() {\n    this.removeClass(STATE_CLASS.ENTER);\n    this.removeClass(STATE_CLASS.ERROR);\n    this.removeClass(STATE_CLASS.LOADING);\n    this.isCanplay = true;\n    this.waitTimer && util.clearTimeout(this, this.waitTimer);\n  }\n  onDurationchange() {\n    if (this.__startTime > 0 && this.duration > 0) {\n      this.currentTime = this.__startTime;\n      this.__startTime = -1;\n    }\n  }\n  onLoadeddata() {\n    this.isError = false;\n    this.isSeeking = false;\n  }\n  onLoadstart() {\n    this.removeClass(STATE_CLASS.ERROR);\n    this.isCanplay = false;\n  }\n  onPlay() {\n    if (this.state === STATES.ENDED) {\n      this.setState(STATES.RUNNING);\n    }\n    this.removeClass(STATE_CLASS.PAUSED);\n    this.ended && this.removeClass(STATE_CLASS.ENDED);\n    !this.config.closePlayVideoFocus && this.focus();\n  }\n  onPause() {\n    this.addClass(STATE_CLASS.PAUSED);\n    this.updateAcc(\"pause\");\n    if (!this.config.closePauseVideoFocus) {\n      this._clearUserTimer();\n      this.focus();\n    }\n  }\n  onEnded() {\n    this.updateAcc(\"ended\");\n    this.addClass(STATE_CLASS.ENDED);\n    this.setState(STATES.ENDED);\n  }\n  onError() {\n    this.isError = true;\n    this.updateAcc(\"error\");\n    this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n    this.removeClass(STATE_CLASS.NO_START);\n    this.removeClass(STATE_CLASS.ENTER);\n    this.removeClass(STATE_CLASS.LOADING);\n    this.addClass(STATE_CLASS.ERROR);\n  }\n  onSeeking() {\n    if (!this.isSeeking) {\n      this.updateAcc(\"seeking\");\n    }\n    this.isSeeking = true;\n    this.addClass(STATE_CLASS.SEEKING);\n  }\n  onSeeked() {\n    this.isSeeking = false;\n    if (this.waitTimer) {\n      util.clearTimeout(this, this.waitTimer);\n    }\n    this.removeClass(STATE_CLASS.LOADING);\n    this.removeClass(STATE_CLASS.SEEKING);\n  }\n  onWaiting() {\n    if (this.waitTimer) {\n      util.clearTimeout(this, this.waitTimer);\n    }\n    this.updateAcc(\"waiting\");\n    this.waitTimer = util.setTimeout(this, () => {\n      this.addClass(STATE_CLASS.LOADING);\n      this.emit(LOADING);\n      util.clearTimeout(this, this.waitTimer);\n      this.waitTimer = null;\n    }, this.config.minWaitDelay);\n  }\n  onPlaying() {\n    this.isError = false;\n    const { NO_START, PAUSED, ENDED, ERROR: ERROR2, REPLAY: REPLAY2, LOADING: LOADING2 } = STATE_CLASS;\n    const clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING2];\n    clsList.forEach((cls) => {\n      this.removeClass(cls);\n    });\n    if (!this._accPlayed.t && !this.paused && !this.ended) {\n      this._accPlayed.t = new Date().getTime();\n    }\n  }\n  onTimeupdate() {\n    !this._videoHeight && this.media.videoHeight && this.resize();\n    if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n      this.removeClass(STATE_CLASS.LOADING);\n      util.clearTimeout(this, this.waitTimer);\n      this.waitTimer = null;\n    }\n    if (!this.paused && this.state < STATES.RUNNING && this.duration) {\n      this.setState(STATES.RUNNING);\n      this.emit(AUTOPLAY_STARTED);\n    }\n    if (!this._accPlayed.t && !this.paused && !this.ended) {\n      this._accPlayed.t = new Date().getTime();\n    }\n  }\n  onVolumechange() {\n    util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n  }\n  onRatechange() {\n    this.config.defaultPlaybackRate = this.playbackRate;\n  }\n  emitUserAction(event, action, params) {\n    if (!this.media || !action || !event) {\n      return;\n    }\n    const eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n    if (params.props && util.typeOf(params.props) !== \"Array\") {\n      params.props = [params.props];\n    }\n    this.emit(USER_ACTION, {\n      eventType,\n      action,\n      currentTime: this.currentTime,\n      duration: this.duration,\n      ended: this.ended,\n      event,\n      ...params\n    });\n  }\n  updateAcc(endType) {\n    if (this._accPlayed.t) {\n      const _at = new Date().getTime() - this._accPlayed.t;\n      this._accPlayed.acc += _at;\n      this._accPlayed.t = 0;\n      if (endType === \"ended\" || this.ended) {\n        this._accPlayed.loopAcc = this._accPlayed.acc;\n      }\n    }\n  }\n  checkBuffer(time) {\n    const buffered = this.media.buffered;\n    if (!buffered || buffered.length === 0 || !this.duration) {\n      return true;\n    }\n    const currentTime = time || this.media.currentTime || 0.2;\n    const len = buffered.length;\n    for (let i = 0; i < len; i++) {\n      if (buffered.start(i) <= currentTime && buffered.end(i) > currentTime) {\n        return true;\n      }\n    }\n    return false;\n  }\n  resizePosition() {\n    const { vy, vx, h, w } = this.videoPos;\n    let rotate = this.videoPos.rotate;\n    if (rotate < 0 && h < 0 && w < 0) {\n      return;\n    }\n    let _pi = this.videoPos._pi;\n    if (!_pi && this.media.videoHeight) {\n      _pi = this.media.videoWidth / this.media.videoHeight * 100;\n    }\n    if (!_pi) {\n      return;\n    }\n    this.videoPos.pi = _pi;\n    rotate = rotate < 0 ? 0 : rotate;\n    const _pos = {\n      rotate\n    };\n    let offsetY = 0;\n    let offsetX = 0;\n    let scale = 1;\n    const _t = Math.abs(rotate / 90);\n    const { root, innerContainer } = this;\n    const width = root.offsetWidth;\n    const height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n    let rHeight = height;\n    let rWidth = width;\n    if (_t % 2 === 0) {\n      scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n      _pos.scale = scale;\n      offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n      _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n      offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n      _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n      this.media.style.width = `${rWidth}px`;\n      this.media.style.height = `${rHeight}px`;\n    } else if (_t % 2 === 1) {\n      rWidth = height;\n      rHeight = width;\n      const offset = height - width;\n      offsetX = -offset / 2 / rWidth * 100;\n      _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n      offsetY = offset / 2 / rHeight * 100;\n      _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n      _pos.scale = scale;\n      this.media.style.width = `${rWidth}px`;\n      this.media.style.height = `${rHeight}px`;\n    }\n    const formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n    this.media.style.transform = formStyle;\n    this.media.style.webkitTransform = formStyle;\n  }\n  position(pos = { h: 0, y: 0, x: 0, w: 0 }) {\n    if (!this.media || !pos || !pos.h) {\n      return;\n    }\n    const { videoPos } = this;\n    videoPos.h = pos.h * 100 || 0;\n    videoPos.w = pos.w * 100 || 0;\n    videoPos.vx = pos.x * 100 || 0;\n    videoPos.vy = pos.y * 100 || 0;\n    this.resizePosition();\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    Object.keys(config).map((key) => {\n      if (key !== \"plugins\") {\n        this.config[key] = config[key];\n        const plugin = this.plugins[key.toLowerCase()];\n        if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n          plugin.setConfig(config[key]);\n        }\n      }\n    });\n  }\n  playNext(config) {\n    this.resetState();\n    this.setConfig(config);\n    this._currentTime = 0;\n    this._duration = 0;\n    runHooks(this, \"playnext\", () => {\n      this.start();\n      this.emit(PLAYNEXT, config);\n    });\n  }\n  resize() {\n    if (!this.media || !this.root) {\n      return;\n    }\n    const containerSize = this.root.getBoundingClientRect();\n    this.sizeInfo.width = containerSize.width;\n    this.sizeInfo.height = containerSize.height;\n    this.sizeInfo.left = containerSize.left;\n    this.sizeInfo.top = containerSize.top;\n    const { videoWidth, videoHeight } = this.media;\n    const { fitVideoSize, videoFillMode } = this.config;\n    if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n      this.setAttribute(\"data-xgfill\", videoFillMode);\n    }\n    if (!videoHeight || !videoWidth) {\n      return;\n    }\n    this._videoHeight = videoHeight;\n    this._videoWidth = videoWidth;\n    const controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n    const width = containerSize.width;\n    const height = containerSize.height - controlsHeight;\n    const videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n    const fit = parseInt(width / height * 1e3, 10);\n    let rWidth = width;\n    let rHeight = height;\n    const _style = {};\n    if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n      rHeight = width / videoFit * 1e3;\n      if (this.config.fluid) {\n        _style.paddingTop = `${rHeight * 100 / rWidth}%`;\n      } else {\n        _style.height = `${rHeight + controlsHeight}px`;\n      }\n    } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n      rWidth = videoFit * height / 1e3;\n      _style.width = `${rWidth}px`;\n    }\n    if (!this.fullscreen && !this.cssfullscreen) {\n      Object.keys(_style).forEach((key) => {\n        this.root.style[key] = _style[key];\n      });\n    }\n    if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n      this.setAttribute(\"data-xgfill\", \"cover\");\n    }\n    const data = {\n      videoScale: videoFit,\n      vWidth: rWidth,\n      vHeight: rHeight,\n      cWidth: rWidth,\n      cHeight: rHeight + controlsHeight\n    };\n    this.resizePosition();\n    this.emit(VIDEO_RESIZE, data);\n  }\n  updateObjectPosition(left = 0, top = 0) {\n    if (this.media.updateObjectPosition) {\n      this.media.updateObjectPosition(left, top);\n      return;\n    }\n    this.media.style.objectPosition = `${left * 100}% ${top * 100}%`;\n  }\n  setState(newState) {\n    XG_DEBUG.logInfo(\n      \"setState\",\n      `state from:${STATE_ARRAY[this.state]} to:${STATE_ARRAY[newState]}`\n    );\n    this._state = newState;\n  }\n  _preProcessUrl(url, ext) {\n    const { preProcessUrl } = this.config;\n    return !util.isBlob(url) && typeof preProcessUrl === \"function\" ? preProcessUrl(url, ext) : { url };\n  }\n  get state() {\n    return this._state;\n  }\n  get isFullscreen() {\n    return this.fullscreen;\n  }\n  get isCssfullScreen() {\n    return this.cssfullscreen;\n  }\n  get hasStart() {\n    return this._hasStart;\n  }\n  set hasStart(bool) {\n    if (typeof bool === \"boolean\") {\n      this._hasStart = bool;\n      if (bool === false) {\n        this.setState(STATES.READY);\n      }\n      this.emit(\"hasstart\");\n    }\n  }\n  get isPlaying() {\n    return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n  }\n  set isPlaying(value) {\n    if (value) {\n      this.setState(STATES.RUNNING);\n    } else {\n      this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n    }\n  }\n  set definitionList(list) {\n    const { definition } = this.config;\n    let curDef = null;\n    let targetDef = null;\n    definition.list = list;\n    this.emit(\"resourceReady\", list);\n    list.forEach((item) => {\n      var _a;\n      if (((_a = this.curDefinition) == null ? void 0 : _a.definition) === item.definition) {\n        curDef = item;\n      }\n      if (definition.defaultDefinition === item.definition) {\n        targetDef = item;\n      }\n    });\n    if (!targetDef && list.length > 0) {\n      targetDef = list[0];\n    }\n    curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n  }\n  get definitionList() {\n    if (!this.config || !this.config.definition) {\n      return [];\n    }\n    return this.config.definition.list || [];\n  }\n  get videoFrameInfo() {\n    const ret = {\n      total: 0,\n      dropped: 0,\n      corrupted: 0,\n      droppedRate: 0,\n      droppedDuration: 0\n    };\n    if (!this.media || !this.media.getVideoPlaybackQuality) {\n      return ret;\n    }\n    const _quality = this.media.getVideoPlaybackQuality();\n    ret.dropped = _quality.droppedVideoFrames || 0;\n    ret.total = _quality.totalVideoFrames || 0;\n    ret.corrupted = _quality.corruptedVideoFrames || 0;\n    if (ret.total > 0) {\n      ret.droppedRate = ret.dropped / ret.total * 100;\n      ret.droppedDuration = parseInt(\n        this.cumulateTime / ret.total * ret.dropped,\n        0\n      );\n    }\n    return ret;\n  }\n  get controls() {\n    return this.plugins.controls;\n  }\n  set lang(lang) {\n    const result = I18N.langKeys.filter((key) => key === lang);\n    if (result.length === 0 && lang !== \"zh\") {\n      console.error(\n        `Sorry, set lang fail, because the language [${lang}] is not supported now, list of all supported languages is [${I18N.langKeys.join()}] `\n      );\n      return;\n    }\n    this.config.lang = lang;\n    pluginsManager.setLang(lang, this);\n  }\n  get lang() {\n    return this.config.lang;\n  }\n  get i18n() {\n    let _l = this.config.lang;\n    if (_l === \"zh\") {\n      _l = \"zh-cn\";\n    }\n    return this.__i18n.lang[_l] || this.__i18n.lang.en;\n  }\n  get i18nKeys() {\n    return this.__i18n.textKeys || {};\n  }\n  get version() {\n    return version;\n  }\n  get playerId() {\n    return this._pluginInfoId;\n  }\n  set url(url) {\n    this.__url = url;\n  }\n  get url() {\n    return this.__url || this.config.url;\n  }\n  set poster(posterUrl) {\n    this.plugins.poster && this.plugins.poster.update(posterUrl);\n  }\n  get poster() {\n    return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n  }\n  get readyState() {\n    return super.readyState;\n  }\n  get error() {\n    const key = super.error;\n    return this.i18n[key] || key;\n  }\n  get networkState() {\n    return super.networkState;\n  }\n  get fullscreenChanging() {\n    return !(this._fullScreenOffset === null);\n  }\n  get cumulateTime() {\n    const { acc, t } = this._accPlayed;\n    return t ? new Date().getTime() - t + acc : acc;\n  }\n  get zoom() {\n    return this.config.zoom;\n  }\n  set zoom(value) {\n    this.config.zoom = value;\n  }\n  set videoRotateDeg(val) {\n    val = util.convertDeg(val);\n    if (val % 90 !== 0 || val === this.videoPos.rotate) {\n      return;\n    }\n    this.videoPos.rotate = val;\n    this.resizePosition();\n  }\n  get videoRotateDeg() {\n    return this.videoPos.rotate;\n  }\n  set avgSpeed(val) {\n    AVG_SPEED = val;\n  }\n  get avgSpeed() {\n    return AVG_SPEED;\n  }\n  set realTimeSpeed(val) {\n    REAL_TIME_SPEED = val;\n  }\n  get realTimeSpeed() {\n    return REAL_TIME_SPEED;\n  }\n  get offsetCurrentTime() {\n    return this._offsetInfo.currentTime || 0;\n  }\n  set offsetCurrentTime(val) {\n    this._offsetInfo.currentTime = val;\n  }\n  get offsetDuration() {\n    return this._offsetInfo.duration || 0;\n  }\n  set offsetDuration(val) {\n    this._offsetInfo.duration = val || 0;\n  }\n  hook(hookName, handler, preset = { pre: null, next: null }) {\n    return hook.call(this, ...arguments);\n  }\n  useHooks(hookName, handler) {\n    return useHooks.call(this, ...arguments);\n  }\n  removeHooks(hookName, handler) {\n    return removeHooks.call(this, ...arguments);\n  }\n  usePluginHooks(pluginName, hookName, handler, ...args) {\n    return usePluginHooks.call(this, ...arguments);\n  }\n  removePluginHooks(pluginName, hookName, handler, ...args) {\n    return removePluginHooks.call(this, ...arguments);\n  }\n  setUserActive(isActive, isMuted) {\n    if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n      this.addInnerOP(\"volumechange\");\n      if (util.typeOf(isMuted) === Boolean) {\n        this.muted = isMuted;\n      }\n    }\n    instManager == null ? void 0 : instManager.setActive(this.playerId, isActive);\n  }\n  static isHevcSupported() {\n    return sniffer.isHevcSupported();\n  }\n  static probeConfigSupported(info) {\n    return sniffer.probeConfigSupported(info);\n  }\n  static install(name, descriptor) {\n    if (!_Player.plugins) {\n      _Player.plugins = {};\n    }\n    if (!_Player.plugins[name]) {\n      _Player.plugins[name] = descriptor;\n    }\n  }\n  static use(name, descriptor) {\n    if (!_Player.plugins) {\n      _Player.plugins = {};\n    }\n    _Player.plugins[name] = descriptor;\n  }\n};\nlet Player = _Player;\n__publicField(Player, \"defaultPreset\", null);\n__publicField(Player, \"XgVideoProxy\", null);\nPlayer.instManager = InstManager.getInstance();\nexport { Player as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nclass Controls extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { player, playerConfig } = this;\n      playerConfig.closeControlsBlur && player.focus({ autoHide: false });\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      const { player } = this;\n      player.focus();\n    });\n  }\n  static get pluginName() {\n    return \"controls\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: \"\",\n      initShow: false\n    };\n  }\n  beforeCreate(args) {\n    if (!args.config.mode && sniffer.device === \"mobile\") {\n      args.config.mode = \"flex\";\n    }\n    if (args.player.config.marginControls) {\n      args.config.autoHide = false;\n    }\n  }\n  afterCreate() {\n    const { disable, height, mode } = this.config;\n    if (disable) {\n      return;\n    }\n    mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n    const style = {\n      height: `${height}px`\n    };\n    Object.keys(style).map((key) => {\n      this.root.style[key] = style[key];\n    });\n    this.left = this.find(\"xg-left-grid\");\n    this.center = this.find(\"xg-center-grid\");\n    this.right = this.find(\"xg-right-grid\");\n    this.innerRoot = this.find(\"xg-inner-controls\");\n    this.on(MINI_STATE_CHANGE, (isMini) => {\n      isMini ? util.addClass(this.root, \"mini-controls\") : util.removeClass(this.root, \"mini-controls\");\n    });\n    const { isMobileSimulateMode } = this.playerConfig;\n    if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n      this.bind(\"mouseenter\", this.onMouseEnter);\n      this.bind(\"mouseleave\", this.onMouseLeave);\n    }\n  }\n  focus() {\n    this.player.focus({ autoHide: false });\n  }\n  focusAwhile() {\n    this.player.focus({ autoHide: true });\n  }\n  blur() {\n    this.player.blur({ ignorePaused: true });\n  }\n  recoverAutoHide() {\n    this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n  }\n  pauseAutoHide() {\n    util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n  }\n  show(value) {\n    this.root.style.display = \"\";\n    this.player.focus();\n  }\n  hide() {\n    this.root.style.display = \"none\";\n  }\n  get mode() {\n    return this.config.mode;\n  }\n  registerPlugin(plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    const defaultConfig = plugin.defaultConfig || {};\n    if (!options.root) {\n      const position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left;\n          break;\n        case POSITIONS.CONTROLS_RIGHT:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        case POSITIONS.CONTROLS:\n          options.root = this.root;\n          break;\n        default:\n          options.root = this.left;\n      }\n      return super.registerPlugin(plugin, options, name);\n    }\n  }\n  destroy() {\n    if (sniffer.device !== \"mobile\") {\n      this.unbind(\"mouseenter\", this.onMouseEnter);\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n    }\n  }\n  render() {\n    const { mode, autoHide, initShow, disable } = this.config;\n    if (disable) {\n      return;\n    }\n    const className = util.classNames(\n      { \"xgplayer-controls\": true },\n      { \"flex-controls\": mode === \"flex\" },\n      { \"bottom-controls\": mode === \"bottom\" },\n      { [STATE_CLASS.CONTROLS_AUTOHIDE]: autoHide },\n      { \"xgplayer-controls-initshow\": initShow || !autoHide }\n    );\n    return `<xg-controls class=\"${className}\" unselectable=\"on\">\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\n      <xg-left-grid class=\"xg-left-grid\">\n      </xg-left-grid>\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\n      <xg-right-grid class=\"xg-right-grid\">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>`;\n  }\n}\nexport { Controls as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nconst LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nclass XGLogger extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onTimeupdate\", () => {\n      this._state.isTimeUpdate = true;\n      if (this._state.autoplayStart) {\n        XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _onTimeupdate`);\n        this._sendFF(\"onTimeupdate\");\n      }\n    });\n    __publicField(this, \"_onAutoplayStart\", () => {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _onAutoplayStart`);\n      this._state.autoplayStart = true;\n      this.vt && this._sendFF(\"onAutoplayStart\");\n    });\n    __publicField(this, \"_onReset\", () => {\n      this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      this.vt = 0;\n      this.pt = 0;\n      this.fvt = 0;\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this._isSeeking = false;\n      this.seekingStart = 0;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this._isWaiting = false;\n      this._waitTimer && util.clearTimeout(this, this._waitTimer);\n      this._waittTimer && util.clearTimeout(this, this._waittTimer);\n      this._waitTimer = null;\n      this._waittTimer = null;\n      this._waitType = 0;\n    });\n    __publicField(this, \"_onSeeking\", () => {\n      if (this.seekingStart) {\n        return;\n      }\n      this.suspendWaitingStatus(\"seek\");\n      this.seekingStart = now();\n      this.emitLog(LOG_TYPES.SEEK_START, { start: now() });\n    });\n    __publicField(this, \"_onSeeked\", () => {\n      this.suspendSeekingStatus(\"seeked\");\n    });\n    __publicField(this, \"_onWaitingLoadStart\", () => {\n      if (this._isWaiting || this.vt) {\n        return;\n      }\n      this._isWaiting = true;\n      this.waitingStart = now();\n      this.fixedWaitingStart = now();\n      this._waitType = 1;\n      this.emitLog(LOG_TYPES.WAIT_START, { fixedStart: this.fixedWaitingStart, start: this.waitingStart, type: 1, endType: \"loadstart\" });\n    });\n    __publicField(this, \"_onWaiting\", () => {\n      if (this._isWaiting || !this.vt) {\n        return;\n      }\n      this._isWaiting = true;\n      if (!this.vt) {\n        this._waitType = 1;\n      } else if (this.seekingStart) {\n        this._waitType = 2;\n      } else {\n        this._waitType = 0;\n      }\n      this.fixedWaitingStart = now();\n      this._waitTimer = util.setTimeout(this, () => {\n        if (this._isWaiting) {\n          this.waitingStart = now();\n          util.clearTimeout(this, this._waitTimer);\n          this._waitTimer = null;\n          this._startWaitTimeout();\n          this.emitLog(LOG_TYPES.WAIT_START, { fixedStart: this.fixedWaitingStart, start: this.waitingStart, type: this._waitType, endType: this._waitType === 2 ? \"seek\" : \"playing\" });\n        }\n      }, 200);\n    });\n    __publicField(this, \"_onError\", () => {\n      this.suspendSeekingStatus(\"error\");\n      this.suspendWaitingStatus(\"error\");\n    });\n    __publicField(this, \"_onPlaying\", () => {\n      this._isWaiting && this.suspendWaitingStatus(\"playing\");\n    });\n  }\n  static get pluginName() {\n    return \"xgLogger\";\n  }\n  static get defaultConfig() {\n    return {\n      waitTimeout: 1e4\n    };\n  }\n  afterCreate() {\n    this._onReset();\n    this._waitType = \"firstFrame\";\n    this._initOnceEvents();\n    this.newPointTime = now();\n    this.loadedCostTime = 0;\n    this.startCostTime = 0;\n    this.on(LOAD_START, () => {\n      const { _state } = this;\n      const { autoplayStart, isFFSend } = _state;\n      this.startCostTime = now() - this.newPointTime;\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} LOAD_START`, `autoplayStart:${autoplayStart} isFFSend:${isFFSend} startCostTime:${this.startCostTime} newPointTime${this.newPointTime}`);\n      if (isFFSend) {\n        return;\n      }\n      !_state.isLs && this.emitLog(LOG_TYPES.LOAD_START, {});\n      _state.isLs = true;\n      _state.isTimeUpdate = false;\n      _state.isFFLoading = true;\n      this.pt = now();\n      this.vt = 0;\n      this.fvt = 0;\n      this._initOnceEvents();\n      this._onWaitingLoadStart();\n    });\n    this.on(LOADED_DATA, () => {\n      this.vt = now();\n      this.fvt = this.vt - this.pt;\n      this.loadedCostTime = this.vt - this.newPointTime;\n      const { isTimeUpdate, isFFSend, autoplayStart } = this._state;\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} LOADED_DATA`, `fvt:${this.fvt} isTimeUpdate:${this._state.isTimeUpdate} loadedCostTime:${this.loadedCostTime}`);\n      if (isTimeUpdate || autoplayStart) {\n        this._sendFF(\"loadedData\");\n      }\n      if (!isFFSend) {\n        this.emitLog(LOG_TYPES.LOADED_DATA, {});\n      }\n      this.suspendWaitingStatus(\"loadeddata\");\n    });\n    this.on(SEEKING, this._onSeeking);\n    this.on(SEEKED, this._onSeeked);\n    this.on(DESTROY, () => {\n      this.endState(\"destroy\");\n    });\n    this.on(URL_CHANGE, () => {\n      this.endState(\"urlChange\");\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} URL_CHANGE`);\n      this._state.isFFSend && this._onReset();\n    });\n    this.on([PLAYING, CANPLAY], this._onPlaying);\n    this.on(WAITING, this._onWaiting);\n    this.on(ERROR, this._onError);\n    this.on(RESET, () => {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} RESET`);\n      this.endState(\"reset\");\n      this._initOnceEvents();\n      this._onReset();\n    });\n  }\n  _initOnceEvents() {\n    this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n    this.off(TIME_UPDATE, this._onTimeupdate);\n    this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n    this.once(TIME_UPDATE, this._onTimeupdate);\n  }\n  _sendFF(endType) {\n    this.s = now();\n    const { isFFLoading, isFFSend } = this._state;\n    XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _sendFF`, `${endType} fvt:${this.fvt} isFFLoading:${isFFLoading} !isFFSend:${!isFFSend}`);\n    if (this.vt > 0 && isFFLoading && !isFFSend) {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} emitLog_firstFrame`, endType);\n      this._state.isFFLoading = false;\n      this._state.isFFSend = true;\n      this.emitLog(LOG_TYPES.FIRST_FRAME, { fvt: this.fvt, costTime: this.fvt, vt: this.vt, startCostTime: this.startCostTime, loadedCostTime: this.loadedCostTime });\n    }\n  }\n  _startWaitTimeout() {\n    if (this._waittTimer) {\n      util.clearTimeout(this, this._waittTimer);\n    }\n    this._waittTimer = util.setTimeout(this, () => {\n      this.suspendWaitingStatus(\"timeout\");\n      util.clearTimeout(this, this._waittTimer);\n      this._waittTimer = null;\n    }, this.config.waitTimeout);\n  }\n  endState(endType) {\n    this.suspendWaitingStatus(endType);\n    this.suspendSeekingStatus(endType);\n  }\n  suspendSeekingStatus(endType) {\n    if (!this.seekingStart) {\n      return;\n    }\n    const _now = now();\n    const _cost = _now - this.seekingStart;\n    this.seekingStart = 0;\n    this.emitLog(LOG_TYPES.SEEK_END, { end: _now, costTime: _cost, endType });\n  }\n  suspendWaitingStatus(endType) {\n    if (this._waitTimer) {\n      util.clearTimeout(this, this._waitTimer);\n      this._waitTimer = null;\n    }\n    if (this._waittTimer) {\n      util.clearTimeout(this, this._waittTimer);\n      this._waittTimer = null;\n    }\n    this._isWaiting = false;\n    if (!this.waitingStart) {\n      return;\n    }\n    const _now = now();\n    const _cost = _now - this.waitingStart;\n    const _fixedCost = _now - this.fixedWaitingStart;\n    const { waitTimeout } = this.config;\n    this._isWaiting = false;\n    this.waitingStart = 0;\n    this.fixedWaitingStart = 0;\n    this.emitLog(LOG_TYPES.WAIT_END, {\n      fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n      costTime: _cost > waitTimeout ? waitTimeout : _cost,\n      type: endType === \"loadeddata\" ? 1 : this._waitType,\n      endType: this._waitType === 2 ? \"seek\" : endType\n    });\n  }\n  emitLog(eventType, data) {\n    const { player } = this;\n    this.emit(XGLOG, {\n      t: now(),\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype,\n      eventType,\n      currentTime: this.player.currentTime,\n      readyState: player.video.readyState,\n      networkState: player.video.networkState,\n      ...data\n    });\n  }\n}\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nclass Replay extends Plugin {\n  static get pluginName() {\n    return \"replay\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: false\n    };\n  }\n  registerIcons() {\n    return {\n      replay: ReplaySvg\n    };\n  }\n  afterCreate() {\n    Plugin.insert(this.icons.replay, this.root, 0);\n    this.__handleReplay = this.hook(\"replayClick\", () => {\n      this.player.replay();\n    }, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    this.on(ENDED, () => {\n      if (!this.playerConfig.loop) {\n        util.addClass(this.player.root, \"replay\");\n      }\n      if (this.config.disable) {\n        return;\n      }\n      this.show();\n      const path = this.root.querySelector(\"path\");\n      if (path) {\n        const transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n        if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n          return null;\n        } else {\n          path.setAttribute(\"transform\", transform);\n        }\n      }\n    });\n    this.on(PLAY, () => {\n      this.hide();\n    });\n  }\n  handleReplay(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.player.replay();\n    util.removeClass(this.player.root, \"replay\");\n  }\n  show(value) {\n    if (this.config.disable) {\n      return;\n    }\n    this.root.style.display = \"flex\";\n  }\n  enable() {\n    this.config.disable = false;\n  }\n  disable() {\n    this.config.disable = true;\n    this.hide();\n  }\n  destroy() {\n    this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n  }\n  render() {\n    return `<xg-replay class=\"xgplayer-replay\">\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"${this.i18nKeys.REPLAY}\">${this.i18n.REPLAY}</xg-replay-txt>\n    </xg-replay>`;\n  }\n}\nexport { Replay as default };\n","import util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Poster extends Plugin {\n  static get pluginName() {\n    return \"poster\";\n  }\n  static get defaultConfig() {\n    return {\n      isEndedShow: true,\n      hideCanplay: false,\n      notHidden: false,\n      poster: \"\",\n      fillMode: \"fixWidth\"\n    };\n  }\n  set isEndedShow(value) {\n    this.config.isEndedShow = value;\n  }\n  get isEndedShow() {\n    return this.config.isEndedShow;\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.poster === \"string\") {\n      args.config.poster = args.player.config.poster;\n    }\n  }\n  afterCreate() {\n    this.on(ENDED, () => {\n      if (this.isEndedShow) {\n        util.removeClass(this.root, \"hide\");\n      }\n    });\n    if (this.config.hideCanplay) {\n      this.once(TIME_UPDATE, () => {\n        this.onTimeUpdate();\n      });\n      this.on(URL_CHANGE, () => {\n        util.removeClass(this.root, \"hide\");\n        util.addClass(this.root, \"xg-showplay\");\n        this.once(TIME_UPDATE, () => {\n          this.onTimeUpdate();\n        });\n      });\n    } else {\n      this.on(PLAY, () => {\n        util.addClass(this.root, \"hide\");\n      });\n    }\n  }\n  onTimeUpdate() {\n    if (!this.player.currentTime) {\n      this.once(TIME_UPDATE, () => {\n        this.onTimeUpdate();\n      });\n    } else {\n      util.removeClass(this.root, \"xg-showplay\");\n    }\n  }\n  update(poster) {\n    if (!poster) {\n      return;\n    }\n    this.config.poster = poster;\n    this.root.style.backgroundImage = `url(${poster})`;\n  }\n  getBgSize(mode) {\n    let _bg = \"\";\n    switch (mode) {\n      case \"cover\":\n        _bg = \"cover\";\n        break;\n      case \"contain\":\n        _bg = \"contain\";\n        break;\n      case \"fixHeight\":\n        _bg = \"auto 100%\";\n        break;\n      default:\n        _bg = \"\";\n    }\n    return _bg ? `background-size: ${_bg};` : \"\";\n  }\n  render() {\n    const { poster, hideCanplay, fillMode, notHidden } = this.config;\n    const _bg = this.getBgSize(fillMode);\n    const style = poster ? `background-image:url(${poster});${_bg}` : _bg;\n    const className = notHidden ? \"xg-not-hidden\" : hideCanplay ? \"xg-showplay\" : \"\";\n    return `<xg-poster class=\"xgplayer-poster ${className}\" style=\"${style}\">\n    </xg-poster>`;\n  }\n}\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nconst AnimateMap = {};\nfunction addAnimate(key, seconds, callback = { start: null, end: null }) {\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(() => {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map((key) => {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nclass Start extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onPlayerReset\", () => {\n      this.autoPlayStart = false;\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      this.setAttr(\"data-state\", \"play\");\n      util.removeClass(this.root, className);\n      this.show();\n    });\n    __publicField(this, \"onAutoplayStart\", () => {\n      if (this.autoPlayStart) {\n        return;\n      }\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(this.root, className);\n      this.autoPlayStart = true;\n      this.onPlayPause(\"play\");\n    });\n    this.autoPlayStart = false;\n  }\n  static get pluginName() {\n    return \"start\";\n  }\n  static get defaultConfig() {\n    return {\n      isShowPause: false,\n      isShowEnd: false,\n      disableAnimate: false,\n      mode: \"hide\"\n    };\n  }\n  afterCreate() {\n    const { player, playerConfig } = this;\n    this.initIcons();\n    this.once(READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === \"en\") {\n          util.addClass(player.root, \"lang-is-en\");\n        } else if (playerConfig.lang === \"jp\") {\n          util.addClass(player.root, \"lang-is-jp\");\n        }\n      }\n    });\n    this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n    if (!playerConfig.autoplay) {\n      this.show();\n    }\n    this.on(AUTOPLAY_PREVENTED, () => {\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      this.setAttr(\"data-state\", \"play\");\n      util.removeClass(this.root, className);\n      this.show();\n    });\n    this.on(PLAY, () => {\n      this.onPlayPause(\"play\");\n    });\n    this.on(PAUSE, () => {\n      this.onPlayPause(\"pause\");\n    });\n    this.on(RESET, () => {\n      this.onPlayerReset();\n    });\n    this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n      pre: (e) => {\n        e.cancelable && e.preventDefault();\n        e.stopPropagation();\n        const { paused } = this.player;\n        this.emitUserAction(e, \"switch_play_pause\", { props: \"paused\", from: paused, to: !paused });\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this.clickHandler);\n  }\n  registerIcons() {\n    return {\n      startPlay: { icon: PlaySvg, class: \"xg-icon-play\" },\n      startPause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\"xg-start-inner\", icons.startPlay);\n    this.appendChild(\"xg-start-inner\", icons.startPause);\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  focusHide() {\n    util.addClass(this.root, \"focus-hide\");\n  }\n  recover() {\n    util.removeClass(this.root, \"focus-hide\");\n  }\n  switchStatus(isAnimate) {\n    if (isAnimate) {\n      this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n    } else {\n      this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n    }\n  }\n  animate(endShow) {\n    this._animateId = addAnimate(\"pauseplay\", 400, {\n      start: () => {\n        util.addClass(this.root, \"interact\");\n        this.show();\n        this.switchStatus(true);\n      },\n      end: () => {\n        util.removeClass(this.root, \"interact\");\n        !endShow && this.hide();\n        this._animateId = null;\n      }\n    });\n  }\n  endAnimate() {\n    util.removeClass(this.root, \"interact\");\n    clearAnimation(this._animateId);\n    this._animateId = null;\n  }\n  switchPausePlay(e) {\n    const { player } = this;\n    e.cancelable && e.preventDefault();\n    e.stopPropagation();\n    if (player.state < STATES.READY) {\n      return;\n    }\n    const paused = this.player.paused;\n    if (!paused && player.state === STATES.RUNNING) {\n      player.pause();\n    } else {\n      player.play();\n    }\n  }\n  onPlayPause(status) {\n    const { config, player } = this;\n    if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n      return;\n    }\n    if (config.mode === \"show\") {\n      this.switchStatus();\n      this.show();\n      return;\n    }\n    if (config.mode === \"auto\") {\n      this.switchStatus();\n      return;\n    }\n    if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n      this.switchStatus();\n      this.show();\n      this.endAnimate();\n      return;\n    }\n    if (config.disableAnimate) {\n      this.switchStatus();\n      this.hide();\n      return;\n    }\n    if (status === \"play\") {\n      this.autoPlayStart ? this.animate() : this.hide();\n    } else {\n      if (!this.autoPlayStart || player.ended) {\n        return;\n      }\n      this.animate();\n    }\n  }\n  destroy() {\n    this.unbind([\"click\", \"touchend\"], this.clickHandler);\n    clearAnimation(this._animateId);\n  }\n  render() {\n    const className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n    return `\n    <xg-start class=\"xgplayer-start ${className}\">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>`;\n  }\n}\nexport { Start as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Enter extends Plugin {\n  static get pluginName() {\n    return \"enter\";\n  }\n  static get defaultConfig() {\n    return {\n      innerHtml: \"\",\n      logo: \"\"\n    };\n  }\n  render() {\n    const { innerHtml } = this.config;\n    const root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n    if (innerHtml && innerHtml instanceof window.HTMLElement) {\n      root.appendChild(innerHtml);\n    } else if (innerHtml && typeof innerHtml === \"string\") {\n      root.innerHTML = innerHtml;\n    } else {\n      let barStr = \"\";\n      for (let i = 1; i <= 12; i++) {\n        barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n      }\n      root.innerHTML = `<div class=\"xgplayer-enter-spinner\">${barStr}</div>`;\n    }\n    return root;\n  }\n}\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ` <div class=\"xg-tips ${isShow ? \"hide\" : \" \"}\" lang-key=\"${plugin.i18nKeys[textKey]}\">\n    ${plugin.i18n[textKey]}\n    </div>`;\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nclass MiniScreenIcon extends Plugin {\n  static get pluginName() {\n    return \"miniscreenIcon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 10\n    };\n  }\n  afterCreate() {\n    this.getMini = this.getMini.bind(this);\n    this.exitMini = this.exitMini.bind(this);\n    this.bind(\"click\", this.getMini);\n  }\n  getMini() {\n    this.config.onClick && this.config.onClick();\n  }\n  exitMini() {\n    this.config.onClick && this.config.onClick();\n  }\n  destroy() {\n    this.unbind([\"click\", \"touchend\"], this.getMini);\n  }\n  render() {\n    const langKey = \"MINISCREEN\";\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"${this.i18nKeys[langKey]}\">${this.i18n[langKey]}</span></div>\n      </xg-icon>`;\n  }\n}\nexport { MiniScreenIcon as default };\n","import EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  const num = parseFloat(value);\n  const isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nconst measurements = [\n  \"paddingLeft\",\n  \"paddingRight\",\n  \"paddingTop\",\n  \"paddingBottom\",\n  \"marginLeft\",\n  \"marginRight\",\n  \"marginTop\",\n  \"marginBottom\",\n  \"borderLeftWidth\",\n  \"borderRightWidth\",\n  \"borderTopWidth\",\n  \"borderBottomWidth\"\n];\nconst measurementsLength = measurements.length;\nfunction getZeroSize() {\n  const size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (let i = 0; i < measurementsLength; i++) {\n    const measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  const style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || typeof elem !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  const style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  const size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  const isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (let i = 0; i < measurementsLength; i++) {\n    const measurement = measurements[i];\n    const value = style[measurement];\n    const num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  const paddingWidth = size.paddingLeft + size.paddingRight;\n  const paddingHeight = size.paddingTop + size.paddingBottom;\n  const marginWidth = size.marginLeft + size.marginRight;\n  const marginHeight = size.marginTop + size.marginBottom;\n  const borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  const borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  const isBorderBoxSizeOuter = isBorderBox;\n  const styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  const styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (let i = 0; i < touches.length; i++) {\n    const touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nconst EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nconst POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nclass Draggabilly extends EventEmitter {\n  constructor(root, options = {}) {\n    super();\n    this.isEnabled = true;\n    this.isDragging = false;\n    this.isDown = false;\n    this.position = {};\n    this.downPoint = {};\n    this.dragPoint = { x: 0, y: 0 };\n    this.startPos = { x: 0, y: 0 };\n    this._root = root instanceof Element ? root : document.querySelector(root);\n    this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!this._root || !this._handlerDom) {\n      return;\n    }\n    this._bindStartEvent();\n  }\n  _bindStartEvent() {\n    if (\"ontouchstart\" in window) {\n      this._startKey = \"touchstart\";\n    } else {\n      this._startKey = \"mousedown\";\n    }\n    this[`on${this._startKey}`] = this[`on${this._startKey}`].bind(this);\n    this._handlerDom.addEventListener(this._startKey, this[`on${this._startKey}`]);\n    POST_START_EVENTS[this._startKey].map((key) => {\n      this[`on${key}`] = this[`on${key}`].bind(this);\n    });\n  }\n  _unbindStartEvent() {\n    this._handlerDom.removeEventListener(this._startKey, this[`on${this._startKey}`]);\n  }\n  _bindPostStartEvents(event) {\n    if (!event) {\n      return;\n    }\n    const events = POST_START_EVENTS[this._startKey];\n    events.map((eventName) => {\n      window.addEventListener(eventName, this[`on${eventName}`]);\n    });\n    this._boundPointerEvents = events;\n  }\n  _unbindPostStartEvents() {\n    if (!this._boundPointerEvents) {\n      return;\n    }\n    this._boundPointerEvents.map((eventName) => {\n      window.removeEventListener(eventName, this[`on${eventName}`]);\n    });\n    delete this._boundPointerEvents;\n  }\n  enable() {\n    this.isEnabled = true;\n  }\n  disable() {\n    this.isEnabled = false;\n    if (this.isDragging) {\n      this.onUp();\n    }\n  }\n  onDocUp(e) {\n    this.onUp();\n  }\n  animate() {\n    if (!this.isDragging) {\n      return;\n    }\n    this.positionDrag();\n    window.requestAnimationFrame(() => {\n      this.animate();\n    });\n  }\n  positionDrag() {\n    const transform = `translate3d(${this.dragPoint.x}px, ${this.dragPoint.y}px, 0)`;\n    this._root.style.transform = transform;\n    this._root.style.webKitTransform = transform;\n  }\n  setLeftTop() {\n    this._root.style.left = this.position.x + \"px\";\n    this._root.style.top = this.position.y + \"px\";\n  }\n  onmousedown(e) {\n    this.dragStart(e, e);\n  }\n  onmousemove(e) {\n    this.dragMove(e, e);\n  }\n  onmouseup(e) {\n    this.dragEnd(e, e);\n  }\n  ontouchstart(e) {\n    const touch = e.changedTouches[0];\n    this.dragStart(e, touch);\n    this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n    e.preventDefault();\n  }\n  ontouchmove(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragMove(e, touch);\n    }\n  }\n  ontouchend(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragEnd(e, touch);\n    }\n    e.preventDefault();\n  }\n  ontouchcancel(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragCancel(e, touch);\n    }\n  }\n  dragStart(e, pointer) {\n    if (!this._root || this.isDown || !this.isEnabled) {\n      return;\n    }\n    this.downPoint = pointer;\n    this.dragPoint.x = 0;\n    this.dragPoint.y = 0;\n    this._getPosition();\n    const size = getSize(this._root);\n    this.startPos.x = this.position.x;\n    this.startPos.y = this.position.y;\n    this.startPos.maxY = window.innerHeight - size.height;\n    this.startPos.maxX = window.innerWidth - size.width;\n    this.setLeftTop();\n    this.isDown = true;\n    this._bindPostStartEvents(e);\n  }\n  dragRealStart(e, pointer) {\n    this.isDragging = true;\n    this.animate();\n    this.emit(EVENTS.START, this.startPos);\n  }\n  dragEnd(e, pointer) {\n    if (!this._root) {\n      return;\n    }\n    this._unbindPostStartEvents();\n    if (this.isDragging) {\n      this._root.style.transform = \"\";\n      this.setLeftTop();\n      this.emit(EVENTS.ENDED);\n    }\n    this.presetInfo();\n  }\n  _dragPointerMove(e, pointer) {\n    const moveVector = {\n      x: pointer.pageX - this.downPoint.pageX,\n      y: pointer.pageY - this.downPoint.pageY\n    };\n    if (!this.isDragging && this.hasDragStarted(moveVector)) {\n      this.dragRealStart(e, pointer);\n    }\n    return moveVector;\n  }\n  dragMove(e, pointer) {\n    e = e || window.event;\n    if (!this.isDown) {\n      return;\n    }\n    const { x, y } = this.startPos;\n    const moveVector = this._dragPointerMove(e, pointer);\n    let dragX = moveVector.x;\n    let dragY = moveVector.y;\n    dragX = this.checkContain(\"x\", dragX, x);\n    dragY = this.checkContain(\"y\", dragY, y);\n    this.position.x = x + dragX;\n    this.position.y = y + dragY;\n    this.dragPoint.x = dragX;\n    this.dragPoint.y = dragY;\n    this.emit(EVENTS.MOVE, this.position);\n  }\n  dragCancel(e, pointer) {\n    this.dragEnd(e, pointer);\n  }\n  presetInfo() {\n    this.isDragging = false;\n    this.startPos = {\n      x: 0,\n      y: 0\n    };\n    this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    this.isDown = false;\n  }\n  destroy() {\n    this._unbindStartEvent();\n    this._unbindPostStartEvents();\n    if (this.isDragging) {\n      this.dragEnd();\n    }\n    this.removeAllListeners();\n    this._handlerDom = null;\n  }\n  hasDragStarted(moveVector) {\n    return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n  }\n  checkContain(axis, drag, grid) {\n    if (drag + grid < 0) {\n      return 0 - grid;\n    }\n    if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n      return this.startPos.maxX - grid;\n    }\n    if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n      return this.startPos.maxY - grid;\n    }\n    return drag;\n  }\n  _getPosition() {\n    const style = window.getComputedStyle(this._root);\n    const x = this._getPositionCoord(style.left, \"width\");\n    const y = this._getPositionCoord(style.top, \"height\");\n    this.position.x = Number.isNaN(x) ? 0 : x;\n    this.position.y = Number.isNaN(y) ? 0 : y;\n    this._addTransformPosition(style);\n  }\n  _addTransformPosition(style) {\n    const transform = style.transform;\n    if (transform.indexOf(\"matrix\") !== 0) {\n      return;\n    }\n    const matrixValues = transform.split(\",\");\n    const xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n    const translateX = parseInt(matrixValues[xIndex], 10);\n    const translateY = parseInt(matrixValues[xIndex + 1], 10);\n    this.position.x += translateX;\n    this.position.y += translateY;\n  }\n  _getPositionCoord(styleSide, measure) {\n    if (styleSide.indexOf(\"%\") !== -1) {\n      const parentSize = getSize(this._root.parentNode);\n      return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n    }\n    return parseInt(styleSide, 10);\n  }\n}\nexport { Draggabilly as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nclass MiniScreen extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onCancelClick\", (e) => {\n      this.exitMini();\n      this.isClose = true;\n    });\n    __publicField(this, \"onCenterClick\", (e) => {\n      const { player } = this;\n      player.paused ? player.play() : player.pause();\n    });\n    __publicField(this, \"onScroll\", (e) => {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - this.pos.scrollY) < 50) {\n        return;\n      }\n      let scrollHeight = parseInt(util.getCss(this.player.root, \"height\"));\n      scrollHeight += this.config.scrollTop;\n      this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !this.isMini && !this.isClose && this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        this.isMini && this.exitMini();\n        this.isClose = false;\n      }\n    });\n    this.isMini = false;\n    this.isClose = false;\n    const { config } = this;\n    this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: this.config.height,\n      width: this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    this.lastStyle = null;\n  }\n  static get pluginName() {\n    return \"miniscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 10,\n      disable: false,\n      width: 320,\n      height: 180,\n      left: -1,\n      top: -1,\n      isShowIcon: false,\n      isScrollSwitch: false,\n      scrollTop: 0,\n      disableDrag: false\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.mini === \"boolean\") {\n      args.config.isShowIcon = args.player.config.mini;\n    }\n  }\n  afterCreate() {\n    this.initIcons();\n    this.on(PAUSE, () => {\n      this.setAttr(\"data-state\", \"pause\");\n    });\n    this.on(PLAY, () => {\n      this.setAttr(\"data-state\", \"play\");\n    });\n  }\n  onPluginsReady() {\n    const { player, config } = this;\n    if (config.disable) {\n      return;\n    }\n    if (this.config.isShowIcon) {\n      const options = {\n        config: {\n          onClick: () => {\n            this.getMini();\n          }\n        }\n      };\n      player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n    }\n    const eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n    this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n    this.bind(\".play-icon\", eventName, this.onCenterClick);\n    if (!this.config.disableDrag) {\n      this._draggabilly = new Draggabilly(this.player.root, {\n        handle: this.root\n      });\n    }\n    if (this.config.isScrollSwitch) {\n      window.addEventListener(\"scroll\", this.onScroll);\n    }\n  }\n  registerIcons() {\n    return {\n      play: { icon: PlaySvg, class: \"xg-icon-play\" },\n      pause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".play-icon\", icons.play);\n    this.appendChild(\".play-icon\", icons.pause);\n  }\n  getMini() {\n    if (this.isMini) {\n      return;\n    }\n    const { player, playerConfig } = this;\n    const target = this.config.target || this.player.root;\n    this.lastStyle = {};\n    util.addClass(player.root, \"xgplayer-mini\");\n    [\"width\", \"height\", \"top\", \"left\"].map((key) => {\n      this.lastStyle[key] = target.style[key];\n      target.style[key] = `${this.pos[key]}px`;\n    });\n    if (playerConfig.fluid) {\n      target.style[\"padding-top\"] = \"\";\n    }\n    this.emit(MINI_STATE_CHANGE, true);\n    player.isMini = this.isMini = true;\n  }\n  exitMini() {\n    if (!this.isMini) {\n      return false;\n    }\n    const { player, playerConfig } = this;\n    const target = this.config.target || this.player.root;\n    util.removeClass(player.root, \"xgplayer-mini\");\n    if (this.lastStyle) {\n      Object.keys(this.lastStyle).map((key) => {\n        target.style[key] = this.lastStyle[key];\n      });\n    }\n    this.lastStyle = null;\n    if (playerConfig.fluid) {\n      player.root.style.width = \"100%\";\n      player.root.style.height = \"0\";\n      player.root.style[\"padding-top\"] = `${playerConfig.height * 100 / playerConfig.width}%`;\n    }\n    this.emit(MINI_STATE_CHANGE, false);\n    this.isMini = player.isMini = false;\n  }\n  destroy() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n    const eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n    this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n    this.unbind(\".play-icon\", eventName, this.onCenterClick);\n    this._draggabilly && this._draggabilly.destroy();\n    this._draggabilly = null;\n    this.exitMini();\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n      <xg-mini-layer class=\"xg-mini-layer\">\n      <xg-mini-header class=\"xgplayer-mini-header\">\n      ${xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips)}\n      </xg-mini-header>\n      <div class=\"mini-cancel-btn\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\n        </svg>\n      </div>\n      <div class=\"play-icon\">\n      </div>\n      </xg-mini-layer>`;\n  }\n}\nexport { MiniScreen as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { ENTER_PLAYER, LEAVE_PLAYER } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nconst MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nconst HOOKS = [\"videoClick\", \"videoDbClick\"];\nclass PCPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onMouseMove\", (e) => {\n      const { player, playerConfig } = this;\n      if (!player.isActive) {\n        player.focus({ autoHide: !playerConfig.closeDelayBlur });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { playerConfig, player } = this;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({ autoHide: false });\n      } else {\n        player.focus();\n      }\n      this.emit(ENTER_PLAYER);\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      const { closePlayerBlur, leavePlayerTime, closeDelayBlur } = this.playerConfig;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          this.player.focus({ autoHide: true, delay: leavePlayerTime });\n        } else {\n          this.player.blur({ ignorePaused: true });\n        }\n      }\n      this.emit(LEAVE_PLAYER);\n    });\n    __publicField(this, \"onVideoClick\", (e) => {\n      const { player, playerConfig } = this;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        this._clickCount++;\n        if (this.clickTimer) {\n          clearTimeout(this.clickTimer);\n          this.clickTimer = null;\n        }\n        this.clickTimer = setTimeout(() => {\n          if (!this._clickCount) {\n            return;\n          }\n          this._clickCount--;\n          runHooks(this, HOOKS[0], (plugin, data) => {\n            this.switchPlayPause(data.e);\n          }, { e, paused: player.paused });\n          clearTimeout(this.clickTimer);\n          this.clickTimer = null;\n        }, 300);\n      }\n    });\n    __publicField(this, \"onVideoDblClick\", (e) => {\n      const { player, playerConfig } = this;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && this._clickCount < 2) {\n        this._clickCount = 0;\n        return;\n      }\n      this._clickCount = 0;\n      if (this.clickTimer) {\n        clearTimeout(this.clickTimer);\n        this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(this, HOOKS[1], (plugin, data) => {\n        this.emitUserAction(data.e, \"switch_fullscreen\", { props: \"fullscreen\", from: player.fullscreen, to: !player.fullscreen });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, { e, fullscreen: player.fullscreen });\n    });\n  }\n  static get pluginName() {\n    return \"pc\";\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  afterCreate() {\n    this._clickCount = 0;\n    HOOKS.map((item) => {\n      this.__hooks[item] = null;\n    });\n    const { isMobileSimulateMode } = this.playerConfig;\n    if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n      return;\n    }\n    this.initEvents();\n  }\n  initEvents() {\n    const { media, root } = this.player;\n    const { enableContextmenu } = this.playerConfig;\n    root && root.addEventListener(\"click\", this.onVideoClick, false);\n    root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n    Object.keys(MOUSE_EVENTS).map((item) => {\n      root.addEventListener(item, this[MOUSE_EVENTS[item]], false);\n    });\n    !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n  }\n  switchPlayPause(e) {\n    const { player } = this;\n    this.emitUserAction(e, \"switch_play_pause\", { props: \"paused\", from: player.paused, to: !player.paused });\n    if (!player.ended) {\n      player.paused ? player.play() : player.pause();\n    } else {\n      player.duration !== Infinity && player.duration > 0 && player.replay();\n    }\n  }\n  onContextmenu(e) {\n    e = e || window.event;\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.returnValue = false;\n      e.cancelBubble = true;\n    }\n  }\n  destroy() {\n    const { video, root } = this.player;\n    this.clickTimer && clearTimeout(this.clickTimer);\n    root.removeEventListener(\"click\", this.onVideoClick, false);\n    root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n    video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n    Object.keys(MOUSE_EVENTS).map((item) => {\n      root.removeEventListener(item, this[MOUSE_EVENTS[item]], false);\n    });\n  }\n}\nexport { PCPlugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nconst TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nconst MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nclass Touche {\n  constructor(dom, config = { eventType: \"touch\" }) {\n    __publicField(this, \"onTouchStart\", (e) => {\n      const { _pos, root } = this;\n      const touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      this.__setPress(e);\n      root.addEventListener(this.events.end, this.onTouchEnd);\n      root.addEventListener(this.events.cancel, this.onTouchCancel);\n      root.addEventListener(this.events.move, this.onTouchMove);\n      this.trigger(EVENTS.TOUCH_START, e);\n    });\n    __publicField(this, \"onTouchCancel\", (e) => {\n      this.onTouchEnd(e);\n    });\n    __publicField(this, \"onTouchEnd\", (e) => {\n      const { _pos, root } = this;\n      this.__clearPress();\n      root.removeEventListener(this.events.cancel, this.onTouchCancel);\n      root.removeEventListener(this.events.end, this.onTouchEnd);\n      root.removeEventListener(this.events.move, this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    __publicField(this, \"onTouchMove\", (e) => {\n      const { _pos, config } = this;\n      const touch = getTouch(e.touches);\n      const x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      const y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      const diffx = x - _pos.x;\n      const diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      this.__clearPress();\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(config).map((key) => {\n      this.config[key] = config[key];\n    });\n    this.root = dom;\n    this.events = config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _initEvent() {\n    this.root.addEventListener(this.events.start, this.onTouchStart);\n  }\n  __setPress(e) {\n    const { config } = this;\n    if (this.pressIntrvalId) {\n      this.__clearPress();\n    }\n    this.pressIntrvalId = setTimeout(() => {\n      this.trigger(EVENTS.PRESS, e);\n      this._pos.press = true;\n      this.__clearPress();\n    }, config.pressDelay);\n  }\n  __clearPress() {\n    window.clearTimeout(this.pressIntrvalId);\n    this.pressIntrvalId = null;\n  }\n  __setDb(e) {\n    const { config } = this;\n    if (this.dbIntrvalId) {\n      this.__clearDb();\n      this.trigger(EVENTS.DOUBlE_CLICK, e);\n      return;\n    }\n    this.dbIntrvalId = setTimeout(() => {\n      this.__clearDb();\n      if (!this._pos.start && !this._pos.press && !this._pos.moving) {\n        this.trigger(EVENTS.CLICK, e);\n      }\n    }, config.dbClickDelay);\n  }\n  __clearDb() {\n    clearTimeout(this.dbIntrvalId);\n    this.dbIntrvalId = null;\n  }\n  on(event, handler) {\n    if (!this.__handlers[event]) {\n      this.__handlers[event] = [];\n    }\n    this.__handlers[event].push(handler);\n  }\n  off(event, handler) {\n    if (!this.__handlers[event]) {\n      return;\n    }\n    const handlers = this.__handlers[event];\n    let index = -1;\n    for (let i = 0; i < handlers.length; i++) {\n      if (handlers[i] === handler) {\n        index = i;\n        break;\n      }\n    }\n    if (index >= 0) {\n      this.__handlers[event].splice(index, 1);\n    }\n  }\n  trigger(event, e) {\n    if (!this.__handlers[event]) {\n      return;\n    }\n    this.__handlers[event].map((handler) => {\n      try {\n        handler(e);\n      } catch (error) {\n        console.error(`trigger>>:${event}`, error);\n      }\n    });\n  }\n  destroy() {\n    const map = {\n      touchend: \"onTouchEnd\",\n      touchmove: \"onTouchMove\",\n      touchstart: \"onTouchStart\"\n    };\n    Object.keys(map).forEach((key) => {\n      this.root.removeEventListener(key, this[map[key]]);\n    });\n  }\n}\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nconst ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nconst HOOKS = [\"videoClick\", \"videoDbClick\"];\nclass MobilePlugin extends Plugin {\n  constructor(options) {\n    super(options);\n    __publicField(this, \"onTouchStart\", (e) => {\n      const { player, config, pos, playerConfig } = this;\n      const touche = this.getTouche(e);\n      if (touche && !config.disableGesture && this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        this.timer && clearTimeout(this.timer);\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n        const rect = this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        const _x = parseInt(touche.pageX - pos.left, 10);\n        const _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    __publicField(this, \"onTouchMove\", (e) => {\n      const touche = this.getTouche(e);\n      const { pos, config, player } = this;\n      if (!touche || config.disableGesture || !this.duration || !pos.isStart) {\n        return;\n      }\n      const { miniMoveStep, hideControlsActive } = config;\n      const _x = parseInt(touche.pageX - pos.left, 10);\n      const _y = parseInt(touche.pageY - pos.top, 10);\n      const x = player.rotateDeg === 90 ? _y : _x;\n      const y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        const diffx = x - pos.x;\n        const diffy = y - pos.y;\n        let scope = pos.scope;\n        if (scope === -1) {\n          scope = this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({ autoHide: false }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        e.cancelable && e.preventDefault();\n        this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    __publicField(this, \"onTouchEnd\", (e) => {\n      const { player, pos, playerConfig } = this;\n      setTimeout(() => {\n        player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n      }, 10);\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      const { disableGesture, gestureX } = this.config;\n      if (!disableGesture && gestureX) {\n        this.endLastMove(pos.scope);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      this.changeAction(ACTIONS.AUTO);\n    });\n    __publicField(this, \"onRootTouchMove\", (e) => {\n      if (this.config.disableGesture || !this.config.gestureX) {\n        return;\n      }\n      if (this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!this.pos.isStart) {\n          this.onTouchStart(e);\n        } else {\n          this.onTouchMove(e);\n        }\n      }\n    });\n    __publicField(this, \"onRootTouchEnd\", (e) => {\n      if (this.pos.isStart && this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        this.onTouchEnd(e);\n      }\n    });\n    this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    this.timer = null;\n  }\n  static get pluginName() {\n    return \"mobile\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 0,\n      disableGesture: false,\n      gestureX: true,\n      gestureY: true,\n      gradient: \"normal\",\n      isTouchingSeek: false,\n      miniMoveStep: 5,\n      miniYPer: 5,\n      scopeL: 0.25,\n      scopeR: 0.25,\n      scopeM: 0.9,\n      pressRate: 2,\n      darkness: true,\n      maxDarkness: 0.8,\n      disableActive: false,\n      disableTimeProgress: false,\n      hideControlsActive: false,\n      hideControlsEnd: false,\n      moveDuration: 60 * 6 * 1e3,\n      closedbClick: false,\n      disablePress: true,\n      disableSeekIcon: false,\n      focusVideoClick: false\n    };\n  }\n  get duration() {\n    return this.playerConfig.customDuration || this.player.duration;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  registerIcons() {\n    return {\n      seekTipIcon: { icon: SeekTipIcon, class: \"xg-seek-pre\" }\n    };\n  }\n  afterCreate() {\n    HOOKS.map((item) => {\n      this.__hooks[item] = null;\n    });\n    const { playerConfig, config, player } = this;\n    if (playerConfig.closeVideoDblclick === true) {\n      config.closedbClick = true;\n    }\n    this.resetPos();\n    if (!util.isUndefined(playerConfig.disableGesture)) {\n      config.disableGesture = !!playerConfig.disableGesture;\n    }\n    this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n    this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n    player.root.appendChild(this.xgMask);\n    this.initCustomStyle();\n    this.registerThumbnail();\n    const eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n    this.touch = new Touche(this.root, { eventType, needPreventDefault: !this.config.disableGesture });\n    this.root.addEventListener(\"contextmenu\", (e) => {\n      e.preventDefault();\n    });\n    player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n    player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n    this.on(DURATION_CHANGE, () => {\n      const { player: player2, config: config2 } = this;\n      if (player2.duration * 1e3 < config2.moveDuration) {\n        config2.moveDuration = player2.duration * 1e3;\n      }\n    });\n    this.on([CANPLAY, ENDED], () => {\n      const { time, isStart } = this.pos;\n      if (!isStart && time > 0) {\n        this.pos.time = 0;\n      }\n    });\n    const eventsMap = {\n      touchstart: \"onTouchStart\",\n      touchmove: \"onTouchMove\",\n      touchend: \"onTouchEnd\",\n      press: \"onPress\",\n      pressend: \"onPressEnd\",\n      click: \"onClick\",\n      doubleclick: \"onDbClick\"\n    };\n    Object.keys(eventsMap).map((key) => {\n      this.touch.on(key, (e) => {\n        this[eventsMap[key]](e);\n      });\n    });\n    if (!config.disableActive) {\n      const progressPlugin = player.plugins.progress;\n      if (progressPlugin) {\n        progressPlugin.addCallBack(\"dragmove\", (data) => {\n          this.activeSeekNote(data.currentTime, data.forward);\n        });\n        [\"dragend\", \"click\"].forEach((key) => {\n          progressPlugin.addCallBack(key, () => {\n            this.changeAction(ACTIONS.AUTO);\n          });\n        });\n      }\n    }\n  }\n  registerThumbnail() {\n    const { player } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n      const timePreview = this.find(\".time-preview\");\n      timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n    }\n  }\n  initCustomStyle() {\n    const { commonStyle } = this.playerConfig || {};\n    const { playedColor, progressColor, timePreviewStyle, curTimeColor, durationColor } = commonStyle;\n    if (playedColor) {\n      this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n    }\n    if (progressColor) {\n      this.find(\".xg-bar\").style.backgroundColor = progressColor;\n    }\n    if (timePreviewStyle) {\n      const previewDom = this.find(\".time-preview\");\n      Object.keys(timePreviewStyle).forEach((key) => {\n        previewDom.style[key] = timePreviewStyle[key];\n      });\n    }\n    const curColor = curTimeColor || playedColor;\n    const durColor = durationColor;\n    curColor && (this.find(\".xg-cur\").style.color = curColor);\n    durColor && (this.find(\".xg-dur\").style.color = durColor);\n    this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n  }\n  resetPos(time = 0) {\n    if (this.pos) {\n      this.pos.isStart = false;\n      this.pos.scope = -1;\n      [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map((item) => {\n        this.pos[item] = 0;\n      });\n    } else {\n      this.pos = {\n        isStart: false,\n        x: 0,\n        y: 0,\n        volume: 0,\n        rate: 1,\n        light: 0,\n        width: 0,\n        height: 0,\n        scopeL: 0,\n        scopeR: 0,\n        scopeM1: 0,\n        scopeM2: 0,\n        scope: -1,\n        time: 0\n      };\n    }\n  }\n  changeAction(action) {\n    const { player, root } = this;\n    root.setAttribute(\"data-xg-action\", action);\n    const startPlugin = player.plugins.start;\n    startPlugin && startPlugin.recover();\n  }\n  getTouche(e) {\n    const rotateDeg = this.player.rotateDeg;\n    const touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n    return rotateDeg === 0 ? {\n      pageX: touche.pageX,\n      pageY: touche.pageY\n    } : {\n      pageX: touche.pageX,\n      pageY: touche.pageY\n    };\n  }\n  checkScope(x, y, diffx, diffy, pos) {\n    const { width } = pos;\n    let scope = -1;\n    if (x < 0 || x > width) {\n      return scope;\n    }\n    const mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n    if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n      scope = 0;\n    } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n      scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n    }\n    return scope;\n  }\n  executeMove(diffx, diffy, scope, width, height) {\n    switch (scope) {\n      case 0:\n        this.updateTime(diffx / width * this.config.scopeM);\n        break;\n      case 1:\n        this.updateBrightness(diffy / height);\n        break;\n      case 2:\n        if (!sniffer.os.isIos) {\n          this.updateVolume(diffy / height);\n        }\n        break;\n    }\n  }\n  endLastMove(lastScope) {\n    const { pos, player, config } = this;\n    const time = (pos.time - this.timeOffset) / 1e3;\n    switch (lastScope) {\n      case 0:\n        player.seek(Number(time).toFixed(1));\n        config.hideControlsEnd ? player.blur() : player.focus();\n        this.timer = setTimeout(() => {\n          this.pos.time = 0;\n        }, 500);\n        break;\n    }\n    this.changeAction(ACTIONS.AUTO);\n  }\n  checkIsRootTarget(e) {\n    const plugins = this.player.plugins || {};\n    if (plugins.progress && plugins.progress.root.contains(e.target)) {\n      return false;\n    }\n    return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n  }\n  sendUseAction(event) {\n    const { paused } = this.player;\n    this.emitUserAction(event, \"switch_play_pause\", {\n      prop: \"paused\",\n      from: paused,\n      to: !paused\n    });\n  }\n  clickHandler(e) {\n    const { player, config, playerConfig } = this;\n    if (player.state < STATES.RUNNING) {\n      if (!playerConfig.closeVideoClick) {\n        this.sendUseAction(util.createEvent(\"click\"));\n        player.play();\n      }\n      return;\n    }\n    if (!config.closedbClick || playerConfig.closeVideoClick) {\n      player.isActive ? player.blur() : player.focus();\n    } else if (!playerConfig.closeVideoClick) {\n      if (player.isActive || config.focusVideoClick) {\n        this.sendUseAction(util.createEvent(\"click\"));\n        this.switchPlayPause();\n      }\n      player.focus();\n    }\n  }\n  dbClickHandler(e) {\n    const { config, player } = this;\n    if (!config.closedbClick && player.state >= STATES.RUNNING) {\n      this.sendUseAction(util.createEvent(\"dblclick\"));\n      this.switchPlayPause();\n    }\n  }\n  onClick(e) {\n    const { player } = this;\n    runHooks(this, HOOKS[0], (plugin, data) => {\n      this.clickHandler(data.e);\n    }, { e, paused: player.paused });\n  }\n  onDbClick(e) {\n    const { player } = this;\n    runHooks(this, HOOKS[1], (plugin, data) => {\n      this.dbClickHandler(data.e);\n    }, { e, paused: player.paused });\n  }\n  onPress(e) {\n    const { pos, config, player } = this;\n    if (config.disablePress) {\n      return;\n    }\n    pos.rate = this.player.playbackRate;\n    this.emitUserAction(\"press\", \"change_rate\", {\n      prop: \"playbackRate\",\n      from: player.playbackRate,\n      to: config.pressRate\n    });\n    player.playbackRate = config.pressRate;\n    this.changeAction(ACTIONS.PLAYBACK);\n  }\n  onPressEnd(e) {\n    const { pos, config, player } = this;\n    if (config.disablePress) {\n      return;\n    }\n    this.emitUserAction(\"pressend\", \"change_rate\", { prop: \"playbackRate\", from: player.playbackRate, to: pos.rate });\n    player.playbackRate = pos.rate;\n    pos.rate = 1;\n    this.changeAction(ACTIONS.AUTO);\n  }\n  updateTime(percent) {\n    const { player, config } = this;\n    const { duration } = this.player;\n    percent = Number(percent.toFixed(4));\n    let time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n    time += this.pos.time;\n    time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n    player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n    player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n    this.activeSeekNote(time / 1e3, percent > 0);\n    if (config.isTouchingSeek) {\n      player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n    }\n    this.pos.time = time;\n  }\n  updateVolume(percent) {\n    if (this.player.rotateDeg) {\n      percent = -percent;\n    }\n    const { player, pos } = this;\n    percent = parseInt(percent * 100, 10);\n    pos.volume += percent;\n    if (Math.abs(pos.volume) < 10) {\n      return;\n    }\n    let volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n    volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n    player.volume = volume / 10;\n    pos.volume = 0;\n  }\n  updateBrightness(percent) {\n    if (this.player.rotateDeg) {\n      percent = -percent;\n    }\n    const { pos, config, xgMask } = this;\n    let light = pos.light + 0.8 * percent;\n    light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n    if (xgMask) {\n      xgMask.style.backgroundColor = `rgba(0,0,0,${light})`;\n    }\n    pos.light = light;\n  }\n  activeSeekNote(time, isForward = true) {\n    const { player, config } = this;\n    const isLive = !(this.duration !== Infinity && this.duration > 0);\n    if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n      return;\n    }\n    if (time < 0) {\n      time = 0;\n    } else if (time > player.duration) {\n      time = player.duration - 0.2;\n    }\n    this.changeAction(ACTIONS.SEEKING);\n    const startPlugin = player.plugins.start;\n    startPlugin && startPlugin.focusHide();\n    this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n    this.find(\".xg-cur\").innerHTML = util.format(time);\n    this.find(\".xg-curbar\").style.width = `${time / this.duration * 100}%`;\n    if (isForward) {\n      util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n    } else {\n      util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n    }\n    this.updateThumbnails(time);\n  }\n  updateThumbnails(time) {\n    const { player } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n    }\n  }\n  switchPlayPause() {\n    const { player } = this;\n    if (player.state < STATES.ATTACHED) {\n      return false;\n    } else if (!player.ended) {\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }\n  disableGesture() {\n    this.config.disableGesture = false;\n  }\n  enableGesture() {\n    this.config.disableGesture = true;\n  }\n  destroy() {\n    const { player } = this;\n    this.timer && clearTimeout(this.timer);\n    this.thumbnail = null;\n    player.root.removeChild(this.xgMask);\n    this.xgMask = null;\n    this.touch && this.touch.destroy();\n    this.touch = null;\n    player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n    player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n  }\n  render() {\n    const className = this.config.gradient !== \"normal\" ? `gradient ${this.config.gradient}` : \"gradient\";\n    return `\n     <xg-trigger class=\"trigger\">\n     <div class=\"${className}\"></div>\n        <div class=\"time-preview\">\n            <div class=\"xg-seek-show ${this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\"}\">\n              <i class=\"xg-seek-icon\"></i>\n              <span class=\"xg-cur\">00:00</span>\n              <span class=\"xg-separator\">/</span>\n              <span class=\"xg-dur\">00:00</span>\n            </div>\n              <div class=\"xg-bar xg-timebar\">\n                <div class=\"xg-curbar\"></div>\n              </div>\n        </div>\n        <div class=\"xg-playbackrate xg-top-note\">\n            <span><i>${this.config.pressRate}X</i>${this.i18n.FORWARD}</span>\n        </div>\n     </xg-trigger>\n    `;\n  }\n}\nexport { MobilePlugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  const tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nclass Keyboard extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onBodyKeyDown\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      const e = event || window.event;\n      const keyCode = e.keyCode;\n      const { _keyState, player } = this;\n      const { disable, disableBodyTrigger, isIgnoreUserActive } = this.config;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || this.config.isGlobalTrigger && !isDisableTag(e.target)) && this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && this.handleKeyDown(e);\n    });\n    __publicField(this, \"onBodyKeyUp\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n      this.handleKeyUp(event);\n    });\n    __publicField(this, \"onKeydown\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      const e = event || window.event;\n      const { _keyState } = this;\n      if (!e.repeat) {\n        if (this.config.disable || this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || this.checkCode(e.keyCode)) && (e.target === this.player.root || e.target === this.player.video || e.target === this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        this.player.root.addEventListener(\"keyup\", this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      this.handleKeyDown(e);\n    });\n    __publicField(this, \"onKeyup\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      this.handleKeyUp(event);\n    });\n  }\n  static get pluginName() {\n    return \"keyboard\";\n  }\n  static get defaultConfig() {\n    return {\n      seekStep: 10,\n      checkVisible: false,\n      disableBodyTrigger: false,\n      disableRootTrigger: false,\n      isGlobalTrigger: true,\n      keyCodeMap: {},\n      disable: false,\n      playbackRate: 2,\n      isIgnoreUserActive: true\n    };\n  }\n  mergekeyCodeMap() {\n    const extendkeyCodeMap = this.config.keyCodeMap;\n    if (extendkeyCodeMap) {\n      Object.keys(extendkeyCodeMap).map((key) => {\n        if (!this.keyCodeMap[key]) {\n          this.keyCodeMap[key] = extendkeyCodeMap[key];\n        } else {\n          [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map((key1) => {\n            extendkeyCodeMap[key][key1] && (this.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n          });\n        }\n      });\n    }\n  }\n  afterCreate() {\n    this.config.disable = !this.playerConfig.keyShortcut;\n    const seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n    if (!(!seekStep || typeof seekStep !== \"number\")) {\n      this.seekStep = seekStep;\n    }\n    this.keyCodeMap = {\n      space: {\n        keyCode: 32,\n        action: \"playPause\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: false\n      },\n      up: {\n        keyCode: 38,\n        action: \"upVolume\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: true\n      },\n      down: {\n        keyCode: 40,\n        action: \"downVolume\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: true\n      },\n      left: {\n        keyCode: 37,\n        action: \"seekBack\",\n        disablePress: false,\n        disable: false\n      },\n      right: {\n        keyCode: 39,\n        action: \"seek\",\n        pressAction: \"changePlaybackRate\",\n        disablePress: false,\n        disable: false\n      },\n      esc: {\n        keyCode: 27,\n        action: \"exitFullscreen\",\n        disablePress: true,\n        disable: false\n      }\n    };\n    this.mergekeyCodeMap();\n    this._keyState = {\n      isKeyDown: false,\n      isBodyKeyDown: false,\n      isPress: false,\n      tt: 0,\n      playbackRate: 0\n    };\n    this.player.root.addEventListener(\"keydown\", this.onKeydown);\n    document.addEventListener(\"keydown\", this.onBodyKeyDown);\n  }\n  setConfig(newConfig) {\n    Object.keys(newConfig).forEach((key) => {\n      this.config[key] = newConfig[key];\n    });\n  }\n  checkIsVisible() {\n    if (!this.config.checkVisible) {\n      return true;\n    }\n    const rec = this.player.root.getBoundingClientRect();\n    const { height, top, bottom } = rec;\n    const h = window.innerHeight;\n    if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n      return false;\n    }\n    return true;\n  }\n  checkCode(code, isBodyTarget) {\n    let flag = false;\n    Object.keys(this.keyCodeMap).map((key) => {\n      if (this.keyCodeMap[key] && code === this.keyCodeMap[key].keyCode && !this.keyCodeMap[key].disable) {\n        flag = !isBodyTarget || isBodyTarget && !this.keyCodeMap[key].noBodyTarget;\n      }\n    });\n    return flag;\n  }\n  downVolume(event) {\n    const { player } = this;\n    if (player.volume <= 0) {\n      return;\n    }\n    const val = parseFloat((player.volume - 0.1).toFixed(1));\n    const props = {\n      volume: {\n        from: player.volume,\n        to: val\n      }\n    };\n    this.emitUserAction(event, \"change_volume\", { props });\n    if (val >= 0) {\n      player.volume = val;\n    } else {\n      player.volume = 0;\n    }\n  }\n  upVolume(event) {\n    const { player } = this;\n    if (player.volume >= 1) {\n      return;\n    }\n    const val = parseFloat((player.volume + 0.1).toFixed(1));\n    const props = {\n      volume: {\n        from: player.volume,\n        to: val\n      }\n    };\n    this.emitUserAction(event, \"change_volume\", { props });\n    if (val <= 1) {\n      player.volume = val;\n    } else {\n      player.volume = 1;\n    }\n  }\n  seek(event) {\n    const { currentTime, offsetCurrentTime, duration, offsetDuration, timeSegments } = this.player;\n    let _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n    const _duration = offsetDuration || duration;\n    const _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n    if (_time + _step <= _duration) {\n      _time = _time + _step;\n    } else {\n      _time = _duration;\n    }\n    const _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n    const props = {\n      currentTime: {\n        from: currentTime,\n        to: _seekTime\n      }\n    };\n    this.emitUserAction(event, \"seek\", { props });\n    this.player.currentTime = _seekTime;\n  }\n  seekBack(event) {\n    const { currentTime, offsetCurrentTime, timeSegments } = this.player;\n    const _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n    const _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n    let _seekTime = _time - _step;\n    if (_seekTime < 0) {\n      _seekTime = 0;\n    }\n    _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n    const props = {\n      currentTime: {\n        from: currentTime,\n        to: _seekTime\n      }\n    };\n    this.emitUserAction(event, \"seek\", { props });\n    this.player.currentTime = _seekTime;\n  }\n  changePlaybackRate(event) {\n    const { _keyState, config, player } = this;\n    if (_keyState.playbackRate === 0) {\n      _keyState.playbackRate = player.playbackRate;\n      player.playbackRate = config.playbackRate;\n    }\n  }\n  playPause(event) {\n    const { player } = this;\n    if (!player) {\n      return;\n    }\n    this.emitUserAction(event, \"switch_play_pause\");\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n  exitFullscreen(event) {\n    const { player } = this;\n    const { fullscreen, cssfullscreen } = player;\n    if (fullscreen) {\n      this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n        prop: \"fullscreen\",\n        from: fullscreen,\n        to: !fullscreen\n      });\n      player.exitFullscreen();\n    }\n    if (cssfullscreen) {\n      this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n        prop: \"cssfullscreen\",\n        from: cssfullscreen,\n        to: !cssfullscreen\n      });\n      player.exitCssFullscreen();\n    }\n  }\n  handleKeyDown(e) {\n    const { _keyState } = this;\n    if (e.repeat) {\n      _keyState.isPress = true;\n      const _t = Date.now();\n      if (_t - _keyState.tt < 200) {\n        return;\n      }\n      _keyState.tt = _t;\n    }\n    this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n  }\n  handleKeyUp(e) {\n    const { _keyState } = this;\n    if (_keyState.playbackRate > 0) {\n      this.player.playbackRate = _keyState.playbackRate;\n      _keyState.playbackRate = 0;\n    }\n    _keyState.isKeyDown = false;\n    _keyState.isPress = false;\n    _keyState.tt = 0;\n  }\n  handleKeyCode(curKeyCode, event, isPress) {\n    const arr = Object.keys(this.keyCodeMap);\n    for (let i = 0; i < arr.length; i++) {\n      const { action, keyCode, disable, pressAction, disablePress } = this.keyCodeMap[arr[i]];\n      if (keyCode === curKeyCode) {\n        if (!disable && !(isPress && disablePress)) {\n          const _action = !isPress ? action : pressAction || action;\n          if (typeof _action === \"function\") {\n            action(event, this.player, isPress);\n          } else if (typeof _action === \"string\") {\n            if (typeof this[_action] === \"function\") {\n              this[_action](event, this.player, isPress);\n            }\n          }\n          this.emit(SHORTCUT, {\n            key: arr[i],\n            target: event.target,\n            isPress,\n            ...this.keyCodeMap[arr[i]]\n          });\n        }\n        preventDefault(event);\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n  destroy() {\n    this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n    document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n    this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n    document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n  }\n  disable() {\n    this.config.disable = true;\n  }\n  enable() {\n    this.config.disable = false;\n  }\n}\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nclass Loading extends Plugin {\n  static get pluginName() {\n    return \"loading\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.ROOT\n    };\n  }\n  registerIcons() {\n    return {\n      loadingIcon\n    };\n  }\n  afterCreate() {\n    this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n  }\n  render() {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>`;\n  }\n}\nexport { Loading as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nconst TPL = [\n  { tag: \"xg-cache\", className: \"xgplayer-progress-cache\", styleKey: \"cachedColor\" },\n  { tag: \"xg-played\", className: \"xgplayer-progress-played\", styleKey: \"playedColor\" }\n];\nclass InnerList {\n  constructor(args) {\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({ percent: 1 });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  updateDuration(duration) {\n    this.duration = duration;\n    let start = 0;\n    const { fragments } = this;\n    this.fragments = fragments.map((item) => {\n      item.start = parseInt(start, 10);\n      item.end = parseInt(start + item.percent * this.duration, 10);\n      item.duration = parseInt(item.percent * this.duration, 10);\n      start += item.percent * this.duration;\n      return item;\n    });\n  }\n  updateProgress(type = \"played\", data = { newIndex: 0, curIndex: 0, millisecond: 0 }) {\n    const { progressList, fragments } = this;\n    if (progressList.length < 1) {\n      return;\n    }\n    const { newIndex, curIndex, millisecond } = data;\n    if (newIndex !== curIndex) {\n      progressList.map((item, index) => {\n        if (index < newIndex) {\n          item[type].style.width = \"100%\";\n        } else if (index > newIndex) {\n          item[type].style.width = 0;\n        }\n      });\n    }\n    const curPFrag = fragments[newIndex];\n    const per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n    progressList[newIndex][type].style.width = per < 0 ? 0 : `${per * 100}%`;\n  }\n  updateFocus(data) {\n    if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n      return;\n    }\n    if (!data) {\n      if (this.focusIndex > -1) {\n        this.unHightLight(this.focusIndex);\n        const _data = {\n          index: -1,\n          preIndex: this.focusIndex,\n          fragment: null\n        };\n        this._callBack && this._callBack(_data);\n        this.focusIndex = -1;\n      }\n      return;\n    }\n    const newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n    if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n      this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n      this.setHightLight(newPIndex);\n      const _data = {\n        index: newPIndex,\n        preIndex: this.focusIndex,\n        fragment: this.fragments[this.focusIndex]\n      };\n      this.focusIndex = newPIndex;\n      this._callBack && this._callBack(_data);\n    }\n  }\n  update(data = { cached: 0, played: 0 }, duration) {\n    if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n      if (!duration && duration !== 0) {\n        return;\n      }\n      this.updateDuration(parseInt(duration * 1e3, 10));\n    }\n    const { playedIndex, cachedIndex } = this;\n    if (util.typeOf(data.played) !== \"Undefined\") {\n      const newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n      if (newPIndex < 0) {\n        return;\n      }\n      this.updateProgress(\"played\", {\n        newIndex: newPIndex,\n        curIndex: playedIndex,\n        millisecond: parseInt(data.played * 1e3, 10)\n      });\n      this.playedIndex = newPIndex;\n    }\n    if (util.typeOf(data.cached) !== \"Undefined\") {\n      const newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n      if (newCIndex < 0) {\n        return;\n      }\n      this.updateProgress(\"cached\", {\n        newIndex: newCIndex,\n        curIndex: cachedIndex,\n        millisecond: parseInt(data.cached * 1e3, 10)\n      });\n      this.cachedIndex = newCIndex;\n    }\n  }\n  findIndex(time, curIndex) {\n    const { fragments } = this;\n    if (!fragments || fragments.length === 0) {\n      return -1;\n    }\n    if (fragments.length === 1) {\n      return 0;\n    }\n    if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n      return curIndex;\n    }\n    if (time > fragments[fragments.length - 1].start) {\n      return fragments.length - 1;\n    }\n    for (let i = 0; i < fragments.length; i++) {\n      if (time > fragments[i].start && time <= fragments[i].end) {\n        curIndex = i;\n        break;\n      }\n    }\n    return curIndex;\n  }\n  findHightLight() {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n        return {\n          dom: children[i],\n          pos: children[i].getBoundingClientRect()\n        };\n      }\n    }\n  }\n  findFragment(index) {\n    const children = this.root.children;\n    if (index < 0 || index >= children.length) {\n      return null;\n    }\n    return {\n      dom: children[index],\n      pos: children[index].getBoundingClientRect()\n    };\n  }\n  unHightLight() {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      util.removeClass(children[i], this.fragConfig.fragFocusClass);\n    }\n  }\n  setHightLight(index) {\n    const children = this.root.children;\n    if (index < children.length) {\n      util.addClass(children[index], this.fragConfig.fragFocusClass);\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }\n  destroy() {\n    this.progressList = null;\n    this.fragments = null;\n    this.root.innerHTML = \"\";\n  }\n  reset(newOptions) {\n    Object.keys(this.fragConfig).forEach((key) => {\n      if (newOptions[key] !== void 0) {\n        this.fragConfig[key] = newOptions[key];\n      }\n    });\n    if (newOptions.fragments) {\n      this.fragments = newOptions.fragments.length === 0 ? [{ percent: 1 }] : newOptions.fragments;\n      this.updateDuration(this.duration);\n      this.playedIndex = 0;\n      this.cachedIndex = 0;\n      if (this.root) {\n        const _c = this.root.children;\n        while (_c.length > 0) {\n          this.root.removeChild(_c[0]);\n        }\n      }\n      this.render();\n    }\n  }\n  render() {\n    const { progressColor } = this.style;\n    if (!this.root) {\n      this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n    }\n    if (this.fragments) {\n      const { fragClass, fragFocusClass } = this.fragConfig;\n      this.progressList = this.fragments.map((item) => {\n        const inner = util.createDom(\"xg-inner\", \"\", {\n          style: progressColor ? `background:${progressColor}; flex: ${item.percent}` : `flex: ${item.percent}`\n        }, `${item.isFocus ? fragFocusClass : \"\"} xgplayer-progress-inner ${fragClass}`);\n        this.root.appendChild(inner);\n        TPL.forEach((item2) => {\n          inner.appendChild(util.createDom(item2.tag, \"\", {\n            style: item2.styleKey ? `background: ${this.style[item2.styleKey]}; width:0;` : \"width:0;\"\n          }, item2.className));\n        });\n        return {\n          cached: inner.children[0],\n          played: inner.children[1]\n        };\n      });\n    }\n    return this.root;\n  }\n}\nexport { InnerList as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nconst FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nclass Progress extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onMoveOnly\", (e, data) => {\n      const { pos, config, player } = this;\n      let ret = data;\n      if (e) {\n        util.event(e);\n        const _ePos = util.getEventPos(e, player.zoom);\n        const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = this.computeTime(e, x);\n      }\n      this.triggerCallbacks(\"dragmove\", ret, e);\n      this._updateInnerFocus(ret);\n    });\n    __publicField(this, \"onBodyClick\", (e) => {\n      if (!this.pos.isLocked) {\n        return;\n      }\n      this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    __publicField(this, \"_mouseDownHandler\", (event, data) => {\n      this._state.time = data.currentTime;\n      this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      this._updateInnerFocus(data);\n    });\n    __publicField(this, \"_mouseUpHandler\", (e, data) => {\n      const { pos } = this;\n      pos.moving && this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    __publicField(this, \"_mouseMoveHandler\", (e, data) => {\n      const { _state, pos, config, player } = this;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        this.triggerCallbacks(\"dragstart\", data, e);\n        this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      this.triggerCallbacks(\"dragmove\", data, e);\n      this._updateInnerFocus(data);\n    });\n    __publicField(this, \"onMouseDown\", (e) => {\n      const { _state, player, pos, config, playerConfig } = this;\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({ autoHide: false });\n      this.isProgressMoving = true;\n      util.addClass(this.progressBtn, \"active\");\n      const ret = this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      this._mouseDownHandlerHook(e, ret);\n      const eventType = e.type;\n      if (eventType === \"touchstart\") {\n        this.root.addEventListener(\"touchmove\", this.onMouseMove);\n        this.root.addEventListener(\"touchend\", this.onMouseUp);\n        this.root.addEventListener(\"touchcancel\", this.onMouseUp);\n      } else {\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        document.addEventListener(\"mousemove\", this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", this.onMouseUp, false);\n      }\n      return true;\n    });\n    __publicField(this, \"onMouseUp\", (e) => {\n      const { player, config, pos, playerConfig, _state } = this;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(this.progressBtn, \"active\");\n      const ret = this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        this.triggerCallbacks(\"dragend\", ret, e);\n        this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        this.triggerCallbacks(\"click\", ret, e);\n        this.emitUserAction(\"click\", \"click\", ret);\n      }\n      this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      const eventType = e.type;\n      if (eventType === \"touchend\" || eventType === \"touchcancel\") {\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n        this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        if (!pos.isEnter) {\n          this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && this.bind(\"mousemove\", this.onMoveOnly);\n        }\n      }\n      util.setTimeout(this, () => {\n        this.resetSeekState();\n      }, 10);\n      player.focus();\n    });\n    __publicField(this, \"onMouseMove\", (e) => {\n      const { _state, pos, player, config } = this;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      const diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      const ret = this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      this._mouseMoveHandlerHook(e, ret);\n    });\n    __publicField(this, \"onMouseOut\", (e) => {\n      this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    __publicField(this, \"onMouseOver\", (e) => {\n      this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { player, pos } = this;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      this.bind(\"mousemove\", this.onMoveOnly);\n      this.bind(\"mouseleave\", this.onMouseLeave);\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      const ret = this.computeTime(e, x);\n      this.triggerCallbacks(\"mouseenter\", ret, e);\n      this.focus();\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      this.triggerCallbacks(\"mouseleave\", null, e);\n      this.unlock();\n      this._updateInnerFocus(null);\n    });\n    __publicField(this, \"onVideoResize\", () => {\n      const { x, isDown, isEnter } = this.pos;\n      if (isEnter && !isDown) {\n        const ret = this.computeTime(null, x);\n        this.onMoveOnly(null, ret);\n      }\n    });\n    this.useable = false;\n    this.isProgressMoving = false;\n    this.__dragCallBacks = [];\n    this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    this._disableBlur = false;\n  }\n  static get pluginName() {\n    return \"progress\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_CENTER,\n      index: 0,\n      disable: false,\n      isDragingSeek: true,\n      closeMoveSeek: false,\n      isPauseMoving: false,\n      isCloseClickSeek: false,\n      fragments: [{ percent: 1 }],\n      fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n      fragClass: \"\",\n      fragAutoFocus: false,\n      miniMoveStep: 5,\n      miniStartStep: 2,\n      onMoveStart: () => {\n      },\n      onMoveEnd: () => {\n      },\n      endedDiff: 0.2\n    };\n  }\n  static get FRAGMENT_FOCUS_CLASS() {\n    return FRAGMENT_FOCUS_CLASS;\n  }\n  get offsetDuration() {\n    return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n  }\n  get duration() {\n    return this.playerConfig.customDuration || this.player.duration;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n  }\n  changeState(useable = true) {\n    this.useable = useable;\n  }\n  show(value) {\n    this.root && (this.root.style.display = \"flex\");\n  }\n  _initInner(fragments = [], config = {}) {\n    if (!fragments || fragments.length === 0) {\n      fragments = [{ percent: 1 }];\n    }\n    const _c = {\n      fragments,\n      ...config,\n      actionCallback: (data) => {\n        this.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n      }\n    };\n    if (!this.innerList) {\n      this.innerList = new InnerList(_c);\n      this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n      [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map((item) => {\n        this[item] = this.innerList[item].bind(this.innerList);\n      });\n    } else {\n      this.innerList.reset(_c);\n    }\n  }\n  _updateInnerFocus(data) {\n    this.innerList && this.innerList.updateFocus(data);\n  }\n  afterCreate() {\n    if (this.config.disable || this.playerConfig.isLive) {\n      return;\n    }\n    this.pos = {\n      x: 0,\n      y: 0,\n      moving: false,\n      isDown: false,\n      isEnter: false,\n      isLocked: false\n    };\n    this.outer = this.find(\"xg-outer\");\n    const { fragFocusClass, fragAutoFocus, fragClass } = this.config;\n    this._initInner(this.config.fragments, { fragFocusClass, fragAutoFocus, fragClass, style: this.playerConfig.commonStyle || {} });\n    if (sniffer.device === \"mobile\") {\n      this.config.isDragingSeek = false;\n      this.isMobile = true;\n    }\n    this.progressBtn = this.find(\".xgplayer-progress-btn\");\n    this.on(DURATION_CHANGE, () => {\n      this.onMouseLeave();\n    });\n    this.on(TIME_UPDATE, () => {\n      this.onTimeupdate();\n    });\n    this.on(SEEKED, () => {\n      this.onTimeupdate();\n      this.onCacheUpdate();\n    });\n    this.on(PROGRESS, () => {\n      this.onCacheUpdate();\n    });\n    this.on(ENDED, () => {\n      this.onCacheUpdate(true);\n      this.onTimeupdate(true);\n      this._state.now = 0;\n    });\n    this.on(EMPTIED, () => {\n      this.onReset();\n    });\n    this.on(VIDEO_RESIZE, () => {\n      this.onVideoResize();\n    });\n    this.bindDomEvents();\n    this.initCustomStyle();\n  }\n  setConfig(config) {\n    let frags = null;\n    Object.keys(config).forEach((key) => {\n      this.config[key] = config[key];\n      if (key === \"fragments\") {\n        frags = config[key];\n      }\n    });\n    if (frags) {\n      this._initInner(frags, config);\n    }\n  }\n  initCustomStyle() {\n    const { commonStyle } = this.playerConfig || {};\n    const { sliderBtnStyle } = commonStyle;\n    const { progressBtn } = this;\n    if (sliderBtnStyle) {\n      if (typeof sliderBtnStyle === \"string\") {\n        progressBtn.style.boxShadow = sliderBtnStyle;\n      } else if (typeof sliderBtnStyle === \"object\") {\n        Object.keys(sliderBtnStyle).map((key) => {\n          progressBtn.style[key] = sliderBtnStyle[key];\n        });\n      }\n    }\n  }\n  triggerCallbacks(type, data, event) {\n    if (this.__dragCallBacks.length > 0) {\n      this.__dragCallBacks.map((item) => {\n        if (item && item.handler && item.type === type) {\n          try {\n            item.handler(data, event);\n          } catch (error) {\n            console.error(`[XGPLAYER][triggerCallbacks] ${item} error`, error);\n          }\n        }\n      });\n    }\n  }\n  addCallBack(type, handle) {\n    if (handle && typeof handle === \"function\") {\n      this.__dragCallBacks.push({ type, handler: handle });\n    }\n  }\n  removeCallBack(type, event) {\n    const { __dragCallBacks } = this;\n    let _index = -1;\n    __dragCallBacks.map((item, index) => {\n      if (item && item.type === type && item.handler === event) {\n        _index = index;\n      }\n    });\n    if (_index > -1) {\n      __dragCallBacks.splice(_index, 1);\n    }\n  }\n  unlock() {\n    const { player, pos } = this;\n    pos.isEnter = false;\n    pos.isLocked = false;\n    if (player.isMini) {\n      return;\n    }\n    this.unbind(\"mousemove\", this.onMoveOnly);\n    if (pos.isDown) {\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n      return;\n    }\n    this.blur();\n  }\n  bindDomEvents() {\n    const { controls, config } = this.player;\n    this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n    this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n    this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n    if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n      this.root.addEventListener(\"touchstart\", this.onMouseDown);\n      if (controls) {\n        controls.root && controls.root.addEventListener(\"touchmove\", util.stopPropagation);\n        controls.center && controls.center.addEventListener(\"touchend\", util.stopPropagation);\n      }\n    }\n    if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n      this.bind(\"mousedown\", this.onMouseDown);\n      config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n      this.bind(\"mouseover\", this.onMouseOver);\n      this.bind(\"mouseout\", this.onMouseOut);\n      this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n    }\n  }\n  focus() {\n    this.player.controls.pauseAutoHide();\n    util.addClass(this.root, \"active\");\n  }\n  blur() {\n    if (this._disableBlur) {\n      return;\n    }\n    this.player.controls.recoverAutoHide();\n    util.removeClass(this.root, \"active\");\n  }\n  disableBlur() {\n    this._disableBlur = true;\n  }\n  enableBlur() {\n    this._disableBlur = false;\n  }\n  updateWidth(currentTime, seekTime, percent, type) {\n    const { config, player } = this;\n    if (config.isCloseClickSeek && type === 0) {\n      return;\n    }\n    const realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n    this.updatePercent(percent);\n    this.updateTime(currentTime);\n    if (type === 1 && (!config.isDragingSeek || player.config.mediaType === \"audio\")) {\n      return;\n    }\n    this._state.now = realTime;\n    this._state.direc = realTime > player.currentTime ? 0 : 1;\n    player.seek(realTime);\n  }\n  computeTime(e, x) {\n    const { player } = this;\n    const { width, height, top, left } = this.root.getBoundingClientRect();\n    let rWidth, rLeft;\n    const clientX = x;\n    if (player.rotateDeg === 90) {\n      rWidth = height;\n      rLeft = top;\n    } else {\n      rWidth = width;\n      rLeft = left;\n    }\n    let offset = clientX - rLeft;\n    offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n    let percent = offset / rWidth;\n    percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n    const currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n    const seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n    return {\n      percent,\n      currentTime,\n      seekTime,\n      offset,\n      width: rWidth,\n      left: rLeft,\n      e\n    };\n  }\n  updateTime(time) {\n    const { player, duration } = this;\n    if (time > duration) {\n      time = duration;\n    } else if (time < 0) {\n      time = 0;\n    }\n    const timeIcon = player.plugins.time;\n    if (timeIcon) {\n      timeIcon.updateTime(time);\n    }\n  }\n  resetSeekState() {\n    this.isProgressMoving = false;\n    const timeIcon = this.player.plugins.time;\n    timeIcon && timeIcon.resetActive();\n  }\n  updatePercent(percent, notSeek) {\n    this.isProgressMoving = true;\n    if (this.config.disable) {\n      return;\n    }\n    percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n    this.progressBtn.style.left = `${percent * 100}%`;\n    this.innerList.update({ played: percent * this.offsetDuration }, this.offsetDuration);\n    const { miniprogress } = this.player.plugins;\n    miniprogress && miniprogress.update({ played: percent * this.offsetDuration }, this.offsetDuration);\n  }\n  onTimeupdate(isEnded) {\n    const { player, _state, offsetDuration } = this;\n    if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n      return;\n    }\n    if (_state.now > -1) {\n      const abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n      if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n        _state.now = -1;\n        return;\n      } else {\n        _state.now = -1;\n      }\n    }\n    let time = this.currentTime;\n    time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n    this.innerList.update({ played: time }, offsetDuration);\n    this.progressBtn.style.left = `${time / offsetDuration * 100}%`;\n  }\n  onCacheUpdate(isEnded) {\n    const { player, duration } = this;\n    if (!player) {\n      return;\n    }\n    let _end = player.bufferedPoint.end;\n    _end = util.adjustTimeByDuration(_end, duration, isEnded);\n    this.innerList.update({ cached: _end }, duration);\n  }\n  onReset() {\n    this.innerList.update({ played: 0, cached: 0 }, 0);\n    this.progressBtn.style.left = \"0%\";\n  }\n  destroy() {\n    const { player } = this;\n    const { controls } = player;\n    this.thumbnailPlugin = null;\n    this.innerList.destroy();\n    this.innerList = null;\n    const { domEventType } = this;\n    if (domEventType === \"touch\" || domEventType === \"compatible\") {\n      this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n      this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n      this.root.removeEventListener(\"touchend\", this.onMouseUp);\n      this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n      if (controls) {\n        controls.root && controls.root.removeEventListener(\"touchmove\", util.stopPropagation);\n        controls.center && controls.center.removeEventListener(\"touchend\", util.stopPropagation);\n      }\n    }\n    if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n      this.unbind(\"mousedown\", this.onMouseDown);\n      this.unbind(\"mouseenter\", this.onMouseEnter);\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      player.root.removeEventListener(\"click\", this.onBodyClick, true);\n    }\n  }\n  render() {\n    if (this.config.disable || this.playerConfig.isLive) {\n      return;\n    }\n    const controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n    const className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n    return `\n    <xg-progress class=\"xgplayer-progress ${className}\">\n      <xg-outer class=\"xgplayer-progress-outer\">\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    `;\n  }\n}\nexport { Progress as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Icon extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onMouseenter\", (e) => {\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"_onMouseLeave\", (e) => {\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n    });\n  }\n  afterCreate() {\n    this.bind(\"mouseenter\", this._onMouseenter);\n    this.bind(\"mouseleave\", this._onMouseLeave);\n    if (this.config.disable) {\n      this.disable();\n    }\n  }\n  destroy() {\n    this.unbind(\"mouseenter\", this._onMouseenter);\n    this.unbind(\"mouseleave\", this._onMouseLeave);\n  }\n}\nexport { Icon as default };\n","import \"../../utils/util.js\";\nimport { PAUSE, ERROR, EMPTIED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nclass Play extends Icon {\n  static get pluginName() {\n    return \"play\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 0,\n      disable: false\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    const { player, config } = this;\n    if (config.disable) {\n      return;\n    }\n    this.initIcons();\n    this.btnClick = this.btnClick.bind(this);\n    this.bind([\"touchend\", \"click\"], this.btnClick);\n    this.on([PAUSE, ERROR, EMPTIED], () => {\n      this.animate(player.paused);\n    });\n    this.on(PLAY, () => {\n      this.animate(player.paused);\n    });\n    this.animate(true);\n  }\n  registerIcons() {\n    return {\n      play: { icon: PlaySvg, class: \"xg-icon-play\" },\n      pause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  btnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { player } = this;\n    this.emitUserAction(e, \"switch_play_pause\", { prop: \"paused\", from: player.paused, to: !player.paused });\n    if (player.ended) {\n      player.replay();\n    } else if (player.paused) {\n      player.play();\n      this.animate(false);\n    } else {\n      player.pause();\n      this.animate(true);\n    }\n    return false;\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.play);\n    this.appendChild(\".xgplayer-icon\", icons.pause);\n  }\n  animate(paused) {\n    if (!this.player) {\n      return;\n    }\n    const { i18nKeys } = this;\n    const tipDom = this.find(\".xg-tips\");\n    if (paused) {\n      this.setAttr(\"data-state\", \"pause\");\n      tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n    } else {\n      this.setAttr(\"data-state\", \"play\");\n      tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"touchend\", \"click\"], this.btnClick);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nclass TopBackIcon extends Plugin {\n  static get pluginName() {\n    return \"topbackicon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.ROOT_TOP,\n      index: 0\n    };\n  }\n  afterCreate() {\n    this.initIcons();\n    this.onClick = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.config.onClick(e);\n    };\n    this.bind([\"click\", \"touchend\"], this.onClick);\n  }\n  registerIcons() {\n    return {\n      screenBack: { icon: BackSVG, class: \"xg-fullscreen-back\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(this.root, icons.screenBack);\n  }\n  show() {\n    util.addClass(this.root, \"show\");\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n  }\n  render() {\n    return `<xg-icon class=\"xgplayer-back\">\n    </xg-icon>`;\n  }\n}\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nclass Fullscreen extends Icon {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onOrientationChange\", (e) => {\n      if (this.player.fullscreen && this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          this.player.setRotateDeg(0);\n        } else {\n          this.player.setRotateDeg(90);\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"fullscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 0,\n      useCssFullscreen: false,\n      rotateFullscreen: false,\n      useScreenOrientation: false,\n      lockOrientationType: \"landscape\",\n      switchCallback: null,\n      target: null,\n      disable: false,\n      needBackIcon: false\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    const { config, playerConfig } = this;\n    if (config.disable) {\n      return;\n    }\n    if (config.target) {\n      this.playerConfig.fullscreenTarget = this.config.target;\n    }\n    const fullEl = util.getFullScreenEl();\n    if (playerConfig.fullscreenTarget === fullEl) {\n      this.player.getFullscreen().catch((e) => {\n      });\n    }\n    this.initIcons();\n    this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n      pre: (e) => {\n        const { fullscreen } = this.player;\n        this.emitUserAction(e, \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n      }\n    });\n    this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n    this.on(FULLSCREEN_CHANGE, (isFullScreen) => {\n      const tipsDom = this.find(\".xg-tips\");\n      tipsDom && this.changeLangTextKey(tipsDom, isFullScreen ? this.i18nKeys.EXITFULLSCREEN_TIPS : this.i18nKeys.FULLSCREEN_TIPS);\n      this.animate(isFullScreen);\n    });\n    if (this.config.needBackIcon) {\n      this.topBackIcon = this.player.registerPlugin({\n        plugin: TopBackIcon,\n        options: {\n          config: {\n            onClick: (e) => {\n              this.handleFullscreen(e);\n            }\n          }\n        }\n      });\n    }\n    if (sniffer.device === \"mobile\") {\n      window.addEventListener(\"orientationchange\", this._onOrientationChange);\n    }\n  }\n  registerIcons() {\n    return {\n      fullscreen: { icon: FullScreenSvg, class: \"xg-get-fullscreen\" },\n      exitFullscreen: { icon: ExitFullScreenSvg, class: \"xg-exit-fullscreen\" }\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n    if (sniffer.device === \"mobile\") {\n      window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n    }\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n    this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n  }\n  toggleFullScreen(e) {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    const { player, config } = this;\n    const useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n    if (useCssFullscreen) {\n      if (player.fullscreen) {\n        player.exitCssFullscreen();\n      } else {\n        player.getCssFullscreen();\n      }\n      this.animate(player.fullscreen);\n    } else if (config.rotateFullscreen) {\n      if (player.fullscreen) {\n        player.exitRotateFullscreen();\n      } else {\n        player.getRotateFullscreen();\n      }\n      this.animate(player.fullscreen);\n    } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n      config.switchCallback(player.fullscreen);\n    } else {\n      if (player.fullscreen) {\n        player.exitFullscreen();\n        if (config.useScreenOrientation) {\n          this.unlockScreen();\n        }\n      } else {\n        player.getFullscreen().catch((e2) => {\n        });\n        if (config.useScreenOrientation && player.aspectRatio > 1) {\n          this.lockScreen(config.lockOrientationType);\n        }\n      }\n    }\n  }\n  animate(isFullScreen) {\n    isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n    if (this.topBackIcon) {\n      if (isFullScreen) {\n        this.topBackIcon.show();\n        this.hide();\n      } else {\n        this.topBackIcon.hide();\n        this.show();\n      }\n    }\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const langKey = \"FULLSCREEN_TIPS\";\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, langKey, this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n  lockScreen(orientation) {\n    try {\n      screen.orientation.lock(orientation).catch((e) => {\n      });\n    } catch (e) {\n    }\n  }\n  unlockScreen() {\n    try {\n      screen.orientation.unlock().catch((e) => {\n      });\n    } catch (e) {\n    }\n  }\n}\nexport { Fullscreen as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nclass Time extends Plugin {\n  static get pluginName() {\n    return \"time\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 2,\n      disable: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.isActiving = false;\n  }\n  get duration() {\n    const { offsetDuration, duration } = this.player;\n    return this.playerConfig.customDuration || offsetDuration || duration;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  afterCreate() {\n    const constrolsMode = this.player.controls.config.mode;\n    this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n    if (this.config.disable) {\n      return;\n    }\n    if (this.mode === \"flex\") {\n      this.createCenterTime();\n      this.root.style.display = \"none\";\n    }\n    this.durationDom = this.find(\".time-duration\");\n    this.timeDom = this.find(\".time-current\");\n    this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], (e) => {\n      if (e.eventName === \"durationchange\") {\n        this.isActiving = false;\n      }\n      this.onTimeUpdate();\n    });\n    this.on(ENDED, () => {\n      this.onTimeUpdate(true);\n    });\n    this.on(EMPTIED, () => {\n      this.onReset();\n    });\n  }\n  show(value) {\n    if (this.mode === \"flex\") {\n      this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n      this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n      return;\n    }\n    this.root.style.display = \"block\";\n  }\n  hide() {\n    if (this.mode === \"flex\") {\n      this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n      this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n      return;\n    }\n    this.root.style.display = \"none\";\n  }\n  onTimeUpdate(isEnded) {\n    const { player, config, duration } = this;\n    if (config.disable || this.isActiving || !player.hasStart) {\n      return;\n    }\n    let current = this.currentTime + this.timeOffset;\n    current = util.adjustTimeByDuration(current, duration, isEnded);\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n      if (duration !== Infinity && duration > 0) {\n        this.centerDurDom.innerHTML = util.format(duration);\n      }\n    } else {\n      this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n      if (duration !== Infinity && duration > 0) {\n        this.durationDom.innerHTML = util.format(duration);\n      }\n    }\n  }\n  onReset() {\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n      this.centerDurDom.innerHTML = util.format(0);\n    } else {\n      this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n      this.durationDom.innerHTML = util.format(0);\n    }\n  }\n  createCenterTime() {\n    const { player } = this;\n    if (!player.controls || !player.controls.center) {\n      return;\n    }\n    const center = player.controls.center;\n    this.centerCurDom = util.createDom(\n      \"xg-icon\",\n      \"00:00\",\n      {},\n      \"xgplayer-time xg-time-left\"\n    );\n    this.centerDurDom = util.createDom(\n      \"xg-icon\",\n      \"00:00\",\n      {},\n      \"xgplayer-time xg-time-right\"\n    );\n    center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n    center.appendChild(this.centerDurDom);\n  }\n  afterPlayerInit() {\n    const { config } = this;\n    if (this.duration === Infinity || this.playerConfig.isLive) {\n      util.hide(this.durationDom);\n      util.hide(this.timeDom);\n      util.hide(this.find(\".time-separator\"));\n      util.show(this.find(\".time-live-tag\"));\n    } else {\n      util.hide(this.find(\".time-live-tag\"));\n    }\n    if (config.hide) {\n      this.hide();\n      return;\n    }\n    this.show();\n  }\n  changeLiveState(isLive) {\n    if (isLive) {\n      util.hide(this.durationDom);\n      util.hide(this.timeDom);\n      util.hide(this.find(\".time-separator\"));\n      util.show(this.find(\".time-live-tag\"));\n    } else {\n      util.hide(this.find(\".time-live-tag\"));\n      util.show(this.find(\".time-separator\"));\n      util.show(this.durationDom);\n      util.show(this.timeDom);\n    }\n  }\n  updateTime(time) {\n    this.isActiving = true;\n    if (!time && time !== 0 || time > this.duration) {\n      return;\n    }\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n      return;\n    }\n    this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n  }\n  minWidthTime(timeStr) {\n    return timeStr.split(\":\").map((value) => `<span class=\"time-min-width\">${value}</span>`).join(\":\");\n  }\n  resetActive() {\n    const { player } = this;\n    const updateState = () => {\n      this.isActiving = false;\n    };\n    this.off(SEEKED, updateState);\n    if (player.isSeeking && player.media.seeking) {\n      this.once(SEEKED, updateState);\n    } else {\n      this.isActiving = false;\n    }\n  }\n  destroy() {\n    const { center } = this.player.controls;\n    this.centerCurDom && center.removeChild(this.centerCurDom);\n    this.centerCurDom = null;\n    this.centerDurDom && center.removeChild(this.centerDurDom);\n    this.centerDurDom = null;\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-time\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">${this.i18n.LIVE_TIP}</span>\n    </xg-icon>`;\n  }\n}\nexport { Time as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nclass TimeSegmentsControls extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onDurationChange\", () => {\n      this.updateSegments();\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const index = util.getIndexByTime(currentTime, timeSegments);\n      const time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      this.player.offsetCurrentTime = time;\n      this.changeIndex(index, timeSegments);\n    });\n    __publicField(this, \"_onLoadedData\", () => {\n      const { timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const time = util.getOffsetCurrentTime(0, timeSegments);\n      this.player.offsetCurrentTime = time;\n      this.changeIndex(0, timeSegments);\n      if (this.curPos.start > 0) {\n        this.player.currentTime = this.curPos.start;\n      }\n    });\n    __publicField(this, \"_onTimeupdate\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const _len = timeSegments.length;\n      this.lastCurrentTime = currentTime;\n      const index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== this.curIndex) {\n        this.changeIndex(index, timeSegments);\n      }\n      const curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      this.player.offsetCurrentTime = curTime;\n      if (!this.curPos) {\n        return;\n      }\n      const { start, end } = this.curPos;\n      if (currentTime < start) {\n        this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        this.player.pause();\n      }\n    });\n    __publicField(this, \"_onSeeking\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        const _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          const _seekTime = this.getSeekTime(currentTime, this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    __publicField(this, \"_onPlay\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        this.player.currentTime = timeSegments[0].start;\n      }\n    });\n  }\n  static get pluginName() {\n    return \"TimeSegmentsControls\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: true,\n      segments: []\n    };\n  }\n  afterCreate() {\n    this.curIndex = -1;\n    this.curPos = null;\n    this.lastCurrentTime = 0;\n    this.updateSegments();\n    this.on(DURATION_CHANGE, this._onDurationChange);\n    this.on(LOADED_DATA, this._onLoadedData);\n    this.on(TIME_UPDATE, this._onTimeupdate);\n    this.on(SEEKING, this._onSeeking);\n    this.on(PLAY, this._onPlay);\n  }\n  setConfig(newConfig) {\n    if (!newConfig) {\n      return;\n    }\n    const keys = Object.keys(newConfig);\n    if (keys.length < 1) {\n      return;\n    }\n    keys.forEach((key) => {\n      this.config[key] = newConfig[key];\n    });\n    this.updateSegments();\n  }\n  updateSegments() {\n    const { disable, segments } = this.config;\n    const { player } = this;\n    if (disable || !segments || segments.length === 0) {\n      player.timeSegments = [];\n      player.offsetDuration = 0;\n      player.offsetCurrentTime = -1;\n    } else {\n      const _segs = this.formatTimeSegments(segments, player.duration);\n      player.timeSegments = _segs;\n      player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n    }\n  }\n  formatTimeSegments(timeSegments, duration) {\n    const ret = [];\n    if (!timeSegments) {\n      return [];\n    }\n    timeSegments.sort((a, b) => {\n      return a.start - b.start;\n    });\n    timeSegments.forEach((item, index) => {\n      const _item = {};\n      _item.start = item.start < 0 ? 0 : item.start;\n      _item.end = duration > 0 && item.end > duration ? duration : item.end;\n      if (duration > 0 && _item.start > duration) {\n        return;\n      }\n      ret.push(_item);\n      const _segDuration = _item.end - _item.start;\n      if (index === 0) {\n        _item.offset = item.start;\n        _item.cTime = 0;\n        _item.segDuration = _segDuration;\n        _item.duration = _segDuration;\n      } else {\n        const last = ret[index - 1];\n        _item.offset = last.offset + (_item.start - last.end);\n        _item.cTime = last.duration + last.cTime;\n        _item.segDuration = _segDuration;\n        _item.duration = last.duration + _segDuration;\n      }\n    });\n    return ret;\n  }\n  getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n    let _time = -1;\n    const { start, end } = timeSegments[index];\n    if (currentTime >= start && currentTime <= end) {\n      return _time;\n    }\n    const diff = currentTime - lastCurrentTime;\n    if (diff < 0) {\n      if (currentTime < start) {\n        const diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n        _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n        return _time;\n      }\n    }\n    return -1;\n  }\n  _checkIfEnabled(segments) {\n    return !(!segments || segments.length < 1);\n  }\n  changeIndex(index, timeSegments) {\n    this.curIndex = index;\n    if (index >= 0 && timeSegments.length > 0) {\n      this.curPos = timeSegments[index];\n    } else {\n      this.curPos = null;\n    }\n  }\n}\nexport { TimeSegmentsControls as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nclass Volume extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onBarMousedown\", (e) => {\n      const { player } = this;\n      const bar = this.find(\".xgplayer-bar\");\n      util.event(e);\n      const barRect = bar.getBoundingClientRect();\n      const pos = util.getEventPos(e, player.zoom);\n      const height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", this.onBarMouseUp);\n      this._d.isStart = true;\n      return false;\n    });\n    __publicField(this, \"onBarMouseMove\", (e) => {\n      const { _d } = this;\n      if (!_d.isStart) {\n        return;\n      }\n      const { pos, player } = this;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      const w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      this.updateVolumePos(w, e);\n    });\n    __publicField(this, \"onBarMouseUp\", (e) => {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      const { _d } = this;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    __publicField(this, \"onMouseenter\", (e) => {\n      this._d.isActive = true;\n      this.focus();\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"onMouseleave\", (e) => {\n      this._d.isActive = false;\n      this.unFocus(100, false, e);\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"onVolumeChange\", (e) => {\n      if (!this.player) {\n        return;\n      }\n      const { muted, volume } = this.player;\n      if (!this._d.isMoving) {\n        this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : `${volume * 100}%`;\n        if (this.config.showValueLabel) {\n          this.updateVolumeValue();\n        }\n      }\n      this.animate(muted, volume);\n    });\n  }\n  static get pluginName() {\n    return \"volume\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 1,\n      disable: false,\n      showValueLabel: false,\n      default: 0.6,\n      miniVolume: 0.2\n    };\n  }\n  registerIcons() {\n    return {\n      volumeSmall: { icon: volumeSmallSvg, class: \"xg-volume-small\" },\n      volumeLarge: { icon: volumeLargeSvg, class: \"xg-volume\" },\n      volumeMuted: { icon: volumeMutedSvg, class: \"xg-volume-mute\" }\n    };\n  }\n  afterCreate() {\n    this._timerId = null;\n    this._d = {\n      isStart: false,\n      isMoving: false,\n      isActive: false\n    };\n    if (this.config.disable) {\n      return;\n    }\n    this.initIcons();\n    const { commonStyle, volume } = this.playerConfig;\n    if (commonStyle.volumeColor) {\n      this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n    }\n    this.changeMutedHandler = this.hook(\"mutedChange\", (e) => {\n      this.changeMuted(e);\n    }, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n    this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n    if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n      this.bind(\"mouseenter\", this._onMouseenterHandler);\n      this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n      this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n    }\n    this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n    this.on(VOLUME_CHANGE, this.onVolumeChange);\n    this.once(LOADED_DATA, this.onVolumeChange);\n    if (util.typeOf(volume) !== \"Number\") {\n      this.player.volume = this.config.default;\n    }\n    this.onVolumeChange();\n  }\n  updateVolumePos(height, event) {\n    const { player } = this;\n    const drag = this.find(\".xgplayer-drag\");\n    const bar = this.find(\".xgplayer-bar\");\n    if (!bar || !drag) {\n      return;\n    }\n    const now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n    drag.style.height = `${height}px`;\n    const to = Math.max(Math.min(now / 1e3, 1), 0);\n    const props = {\n      volume: {\n        from: player.volume,\n        to\n      }\n    };\n    if (player.muted) {\n      props.muted = {\n        from: true,\n        to: false\n      };\n    }\n    this.emitUserAction(event, \"change_volume\", { muted: player.muted, volume: player.volume, props });\n    player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n    player.muted && (player.muted = false);\n    if (this.config.showValueLabel) {\n      this.updateVolumeValue();\n    }\n  }\n  updateVolumeValue() {\n    const { volume, muted } = this.player;\n    const $labelValue = this.find(\".xgplayer-value-label\");\n    const vol = Math.max(Math.min(volume, 1), 0);\n    $labelValue.innerText = muted ? 0 : Math.ceil(vol * 100);\n  }\n  focus() {\n    const { player } = this;\n    player.focus({ autoHide: false });\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    util.addClass(this.root, \"slide-show\");\n  }\n  unFocus(delay = 100, isForce = true, e) {\n    const { _d, player } = this;\n    if (_d.isActive) {\n      return;\n    }\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    this._timerId = util.setTimeout(this, () => {\n      if (!_d.isActive) {\n        isForce ? player.blur() : player.focus();\n        util.removeClass(this.root, \"slide-show\");\n        _d.isStart && this.onBarMouseUp(e);\n      }\n      this._timerId = null;\n    }, delay);\n  }\n  changeMuted(e) {\n    e && e.stopPropagation();\n    const { player, _d } = this;\n    _d.isStart && this.onBarMouseUp(e);\n    this.emitUserAction(e, \"change_muted\", {\n      muted: player.muted,\n      volume: player.volume,\n      props: {\n        muted: {\n          from: player.muted,\n          to: !player.muted\n        }\n      }\n    });\n    if (player.volume > 0) {\n      player.muted = !player.muted;\n    }\n    if (player.volume < 0.01) {\n      player.volume = this.config.miniVolume;\n    }\n  }\n  animate(muted, volume) {\n    if (muted || volume === 0) {\n      this.setAttr(\"data-state\", \"mute\");\n    } else if (volume < 0.5 && this.icons.volumeSmall) {\n      this.setAttr(\"data-state\", \"small\");\n    } else {\n      this.setAttr(\"data-state\", \"normal\");\n    }\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n    this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n    this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n  }\n  destroy() {\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    this.unbind(\"mouseenter\", this.onMouseenter);\n    this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n    this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n    this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n    this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n    document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n    this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const volume = this.config.default || this.player.volume;\n    const isShowVolumeValue = this.config.showValueLabel;\n    return `\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        ${isShowVolumeValue ? `<div class=\"xgplayer-value-label\">${volume * 100}</div>` : \"\"}\n        <div class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>`;\n  }\n}\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g clip-path=\"url(#clip0)\">\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath id=\"clip0\">\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nclass Rotate extends Icon {\n  static get pluginName() {\n    return \"rotate\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 6,\n      innerRotate: true,\n      clockwise: false,\n      rotateDeg: 0,\n      disable: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.rotateDeg = this.config.rotateDeg || 0;\n  }\n  afterCreate() {\n    if (this.config.disable) {\n      return;\n    }\n    super.afterCreate();\n    this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    this.on(VIDEO_RESIZE, () => {\n      if (this.rotateDeg && this.config.innerRotate) {\n        util.setTimeout(this, () => {\n          this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n        }, 100);\n      }\n    });\n    const root = this.player.root;\n    this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n    this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n    if (this.rotateDeg) {\n      this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n  }\n  onBtnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.emitUserAction(e, \"rotate\");\n    this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n  }\n  updateRotateDeg(rotateDeg, innerRotate) {\n    if (!rotateDeg) {\n      rotateDeg = 0;\n    }\n    if (innerRotate) {\n      this.player.videoRotateDeg = rotateDeg;\n      return;\n    }\n    const { player, rootWidth, rootHeight } = this;\n    const { root, innerContainer } = player;\n    const video = player.media;\n    const width = root.offsetWidth;\n    const height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n    let rWidth = rootWidth;\n    let rHeight = rootHeight;\n    let x = 0;\n    let y = 0;\n    if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n      rWidth = `${height}px`;\n      rHeight = `${width}px`;\n      x = -(height - width) / 2;\n      y = -(width - height) / 2;\n    }\n    const _transform = `translate(${x}px,${y}px) rotate(${rotateDeg}turn)`;\n    const _styles = {\n      transformOrigin: \"center center\",\n      transform: _transform,\n      webKitTransform: _transform,\n      height: rHeight,\n      width: rWidth\n    };\n    const _target = innerRotate ? video : root;\n    const poster = innerRotate ? player.getPlugin(\"poster\") : null;\n    Object.keys(_styles).map((key) => {\n      _target.style[key] = _styles[key];\n      poster && poster.root && (poster.root.style[key] = _styles[key]);\n    });\n  }\n  rotate(clockwise = false, innerRotate = true, times = 1) {\n    const player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0;\n    }\n    const factor = clockwise ? 1 : -1;\n    this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n    this.updateRotateDeg(this.rotateDeg, innerRotate);\n    player.emit(ROTATE, this.rotateDeg * 360);\n  }\n  registerIcons() {\n    return {\n      rotate: RotateSvg\n    };\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      ${xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nconst PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nclass PIP extends Icon {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"switchPIP\", (e) => {\n      if (!this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (this.isPip) {\n        this.exitPIP();\n        this.emitUserAction(e, \"change_pip\", { props: \"pip\", from: true, to: false });\n        this.setAttr(\"data-state\", \"normal\");\n      } else if (this.player.media.readyState === 4) {\n        this.requestPIP();\n        this.emitUserAction(e, \"change_pip\", { props: \"pip\", from: false, to: true });\n        this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n  }\n  static get pluginName() {\n    return \"pip\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 6,\n      showIcon: false,\n      preferDocument: false,\n      width: void 0,\n      height: void 0,\n      docPiPNode: void 0,\n      docPiPStyle: void 0\n    };\n  }\n  static checkWebkitSetPresentationMode(video) {\n    return typeof video.webkitSetPresentationMode === \"function\";\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.pip === \"boolean\") {\n      args.config.showIcon = args.player.config.pip;\n    }\n  }\n  afterCreate() {\n    if (!this.isPIPAvailable()) {\n      return;\n    }\n    super.afterCreate();\n    this.pMode = PresentationMode.INLINE;\n    this.initPipEvents();\n    if (this.config.showIcon) {\n      this.initIcons();\n    }\n    this.once(COMPLETE, () => {\n      if (this.config.showIcon) {\n        util.removeClass(this.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n        this.bind(\"click\", this.switchPIP);\n      }\n    });\n  }\n  registerIcons() {\n    return {\n      pipIcon: { icon: PipIcon, class: \"xg-get-pip\" },\n      pipIconExit: { icon: PipIconExit, class: \"xg-exit-pip\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n    this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n  }\n  initPipEvents() {\n    const { player } = this;\n    this.leavePIPCallback = () => {\n      const paused = player.paused;\n      util.setTimeout(this, () => {\n        !paused && player.mediaPlay();\n      }, 0);\n      !paused && player.mediaPlay();\n      this.setAttr(\"data-state\", \"normal\");\n      this.pipWindow = null;\n      player.emit(PIP_CHANGE, false);\n    };\n    this.enterPIPCallback = (e) => {\n      player.emit(PIP_CHANGE, true);\n      if (e == null ? void 0 : e.pictureInPictureWindow) {\n        this.pipWindow = e.pictureInPictureWindow;\n      }\n      this.setAttr(\"data-state\", \"pip\");\n    };\n    this.onWebkitpresentationmodechanged = (e) => {\n      const mode = player.media.webkitPresentationMode;\n      if (this.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n        player.onFullscreenChange(null, false);\n      }\n      this.pMode = mode;\n      if (mode === PresentationMode.PIP) {\n        this.enterPIPCallback(e);\n      } else if (mode === PresentationMode.INLINE) {\n        this.leavePIPCallback(e);\n      }\n    };\n    if (player.media) {\n      player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n    }\n  }\n  copyStyleIntoPiPWindow(pipWin) {\n    const textContent = [...document.styleSheets].map((style2) => {\n      try {\n        return [...style2.cssRules].map((rule) => rule.cssText).join(\"\");\n      } catch (e) {\n        const link = document.createElement(\"link\");\n        link.rel = \"stylesheet\";\n        link.type = style2.type;\n        link.media = style2.media;\n        link.href = style2.href;\n        pipWin.document.head.appendChild(link);\n      }\n      return \"\";\n    }).filter(Boolean).join(\"\\n\");\n    const style = document.createElement(\"style\");\n    style.textContent = textContent;\n    pipWin.document.head.appendChild(style);\n  }\n  requestPIP() {\n    const { player, playerConfig, config } = this;\n    if (!this.isPIPAvailable() || this.isPip) {\n      return;\n    }\n    try {\n      const { poster } = playerConfig;\n      if (poster) {\n        player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n      }\n      if (config.preferDocument && this.isDocPIPAvailable()) {\n        const pipOptions = {};\n        if (config.width && config.height) {\n          pipOptions.width = config.width;\n          pipOptions.height = config.height;\n        } else {\n          const playerRect = player.root.getBoundingClientRect();\n          pipOptions.width = playerRect.width;\n          pipOptions.height = playerRect.height;\n        }\n        documentPictureInPicture.requestWindow(pipOptions).then((pipWin) => {\n          const { docPiPNode, docPiPStyle } = config;\n          this.enterPIPCallback();\n          const pipRoot = docPiPNode || player.root;\n          const parentNode = pipRoot.parentElement;\n          const previousSibling = pipRoot.previousSibling;\n          const nextSibling = pipRoot.nextSibling;\n          this.copyStyleIntoPiPWindow(pipWin);\n          const styles = document.createElement(\"style\");\n          styles.append(\"body{padding:0; margin:0;}\");\n          if (docPiPStyle) {\n            let cssContent = \"\";\n            if (typeof docPiPStyle === \"string\") {\n              cssContent = docPiPStyle;\n            } else if (typeof docPiPStyle === \"function\") {\n              cssContent = docPiPStyle.call(config);\n            }\n            if (cssContent) {\n              styles.append(cssContent);\n            }\n          } else if (pipRoot === player.root) {\n            styles.append(`\n              .xgplayer{width: 100%!important; height: 100%!important;}\n            `);\n          }\n          pipWin.document.head.append(styles);\n          pipWin.document.body.append(pipRoot);\n          pipWin.addEventListener(\"pagehide\", (event) => {\n            if (parentNode) {\n              if (nextSibling) {\n                parentNode.insertBefore(pipRoot, nextSibling);\n              } else if (previousSibling) {\n                parentNode.insertBefore(pipRoot, previousSibling.nextSibling);\n              } else {\n                parentNode.appendChild(pipRoot);\n              }\n            } else {\n            }\n            this.leavePIPCallback();\n          }, { once: true });\n        });\n      } else if (PIP.checkWebkitSetPresentationMode(player.media)) {\n        player.media.webkitSetPresentationMode(\"picture-in-picture\");\n      } else {\n        player.media.requestPictureInPicture();\n      }\n      return true;\n    } catch (reason) {\n      console.error(\"requestPiP\", reason);\n      return false;\n    }\n  }\n  exitPIP() {\n    const { player } = this;\n    try {\n      if (this.isPIPAvailable() && this.isPip) {\n        if (this.isDocPIPAvailable() && (documentPictureInPicture == null ? void 0 : documentPictureInPicture.window)) {\n          documentPictureInPicture.window.close();\n        } else if (PIP.checkWebkitSetPresentationMode(player.media)) {\n          player.media.webkitSetPresentationMode(\"inline\");\n        } else {\n          document.exitPictureInPicture();\n        }\n      }\n      return true;\n    } catch (reason) {\n      console.error(\"exitPIP\", reason);\n      return false;\n    }\n  }\n  get isPip() {\n    const { player } = this;\n    return !!(this.isDocPIPAvailable() && (documentPictureInPicture == null ? void 0 : documentPictureInPicture.window)) || document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n  }\n  isPIPAvailable() {\n    const video = this.player.media;\n    const _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : true;\n    return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\") || this.isDocPIPAvailable();\n  }\n  isDocPIPAvailable() {\n    return \"documentPictureInPicture\" in window && /^(https|file)/.test(location.protocol);\n  }\n  destroy() {\n    super.destroy();\n    const { player } = this;\n    player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n    player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n    PIP.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n    this.exitPIP();\n    this.unbind(\"click\", this.btnClick);\n  }\n  render() {\n    if (!this.config.showIcon || !this.isPIPAvailable()) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon xg-icon-disable\">\n      </div>\n      ${xgIconTips(this, \"PIP\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nclass PlayNextIcon extends Plugin {\n  constructor(options) {\n    super(options);\n    __publicField(this, \"playNext\", (e) => {\n      const { player } = this;\n      e.preventDefault();\n      e.stopPropagation();\n      if (this.idx + 1 < this.config.urlList.length) {\n        this.idx++;\n        this.nextHandler(this.config.urlList[this.idx], this.idx);\n        player.emit(PLAYNEXT, this.idx + 1);\n      } else {\n        this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    this.idx = -1;\n  }\n  static get pluginName() {\n    return \"playNext\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 1,\n      url: null,\n      urlList: []\n    };\n  }\n  afterCreate() {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n    this.initEvents();\n  }\n  registerIcons() {\n    return {\n      playNext: Next\n    };\n  }\n  initEvents() {\n    this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n    const event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this.bind(event, this.playNext);\n    this.show();\n  }\n  changeSrc(url) {\n    const { player } = this;\n    if (!url) {\n      return;\n    }\n    player.pause();\n    player.currentTime = 0;\n    if (player.switchURL) {\n      player.switchURL(url);\n    } else {\n      player.src = url;\n    }\n    player.config.url = url;\n    player.play();\n  }\n  destroy() {\n    this.unbind([\"touchend\", \"click\"], this.playNext);\n  }\n  render() {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return;\n    }\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      ${xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips)}\n     </xg-icon>\n    `;\n  }\n}\nexport { PlayNextIcon as default };\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nclass Download extends Icon {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"download\", (e) => {\n      if (this.isLock) {\n        return;\n      }\n      this.emitUserAction(e, \"download\");\n      const { url } = this.playerConfig;\n      let dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      const newUrl = this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      this.isLock = true;\n      this.timer = window.setTimeout(() => {\n        this.isLock = false;\n        window.clearTimeout(this.timer);\n        this.timer = null;\n      }, 300);\n    });\n    this.timer = null;\n    this.isLock = false;\n  }\n  static get pluginName() {\n    return \"download\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 3,\n      disable: true\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    if (this.config.disable) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", this.icons.download);\n    this._handler = this.hook(\"click\", this.download, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this._handler);\n  }\n  registerIcons() {\n    return {\n      download: DownloadSvg\n    };\n  }\n  getAbsoluteURL(url) {\n    if (!url.match(/^https?:\\/\\//)) {\n      const div = document.createElement(\"div\");\n      div.innerHTML = `<a href=\"${url}\">x</a>`;\n      url = div.firstChild.href;\n    }\n    return url;\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.download);\n    window.clearTimeout(this.timer);\n    this.timer = null;\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-download\">\n   <div class=\"xgplayer-icon\">\n   </div>\n   ${xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Download as default };\n","import \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nclass ScreenShot extends Icon {\n  static get pluginName() {\n    return \"screenShot\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 5,\n      quality: 0.92,\n      type: \"image/png\",\n      format: \".png\",\n      width: 600,\n      height: 337,\n      saveImg: true,\n      fitVideo: true,\n      disable: false,\n      name: \"screenshot\"\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.screenShot === \"boolean\") {\n      args.config.disable = !args.player.config.screenShot;\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n    const { config } = this;\n    this.initSize = (data) => {\n      if (config.fitVideo) {\n        config.width = data.vWidth;\n        config.height = data.vHeight;\n      }\n    };\n    this.once(VIDEO_RESIZE, this.initSize);\n  }\n  onPluginsReady() {\n    this.show();\n    this.onClickBtn = this.onClickBtn.bind(this);\n    this.bind([\"click\", \"touchend\"], this.onClickBtn);\n  }\n  saveScreenShot(data, filename) {\n    const saveLink = document.createElement(\"a\");\n    saveLink.href = data;\n    saveLink.download = filename;\n    const event = document.createEvent(\"MouseEvents\");\n    event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n    saveLink.dispatchEvent(event);\n  }\n  createCanvas(width, height) {\n    const canvas = document.createElement(\"canvas\");\n    const canvasCtx = canvas.getContext(\"2d\");\n    this.canvasCtx = canvasCtx;\n    this.canvas = canvas;\n    canvas.width = width || this.config.width;\n    canvas.height = height || this.config.height;\n    canvasCtx.imageSmoothingEnabled = true;\n    if (canvasCtx.imageSmoothingEnabled) {\n      canvasCtx.imageSmoothingQuality = \"high\";\n    }\n  }\n  onClickBtn(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.emitUserAction(e, \"shot\");\n    const { config } = this;\n    this.shot(config.width, config.height).then((data) => {\n      this.emit(SCREEN_SHOT, data);\n      if (config.saveImg) {\n        this.saveScreenShot(data, config.name + config.format);\n      }\n    });\n  }\n  shot(width, height, option = { quality: 0.92, type: \"image/png\" }) {\n    const { config, player } = this;\n    const quality = option.quality || config.quality;\n    const type = option.type || config.type;\n    return new Promise((resolve, reject) => {\n      let canvas = null;\n      let canvasCtx;\n      if (player.media.canvas) {\n        canvas = player.media.canvas;\n      } else {\n        if (!this.canvas) {\n          this.createCanvas(width, height);\n        } else {\n          this.canvas.width = width || config.width;\n          this.canvas.height = height || config.height;\n        }\n        canvas = this.canvas;\n        canvasCtx = this.canvasCtx;\n        const mediaRatio = player.media.videoWidth / player.media.videoHeight;\n        const canvasRatio = canvas.width / canvas.height;\n        const sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n        let dx, dy, dw, dh;\n        if (mediaRatio > canvasRatio) {\n          dw = canvas.width;\n          dh = canvas.width / mediaRatio;\n          dx = 0;\n          dy = Math.round((canvas.height - dh) / 2);\n        } else if (mediaRatio === canvasRatio) {\n          dw = canvas.width;\n          dh = canvas.height;\n          dx = 0;\n          dy = 0;\n        } else if (mediaRatio < canvasRatio) {\n          dw = canvas.height * mediaRatio;\n          dh = canvas.height;\n          dx = Math.round((canvas.width - dw) / 2);\n          dy = 0;\n        }\n        canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n      }\n      let src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n      src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n      resolve(src);\n    });\n  }\n  registerIcons() {\n    return {\n      screenshotIcon: null\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n    this.off(VIDEO_RESIZE, this.initSize);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n    const langKey = \"SCREENSHOT\";\n    return `\n      <xg-icon class=\"xgplayer-shot\">\n      <div class=\"${className}\">\n      ${this.icons.screenshotIcon ? \"\" : `<span lang-key=\"${this.i18nKeys[langKey]}\">${this.i18n[langKey]}</span>`}\n      </div>\n    </xg-icon>`;\n  }\n}\nexport { ScreenShot as default };\n","import util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass OptionList {\n  constructor(args) {\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, `xg-options-list xg-list-slide-scroll ${this.config.className}`);\n    args.root.appendChild(this.root);\n    const { maxHeight } = this.config;\n    if (maxHeight) {\n      this.setStyle({ maxHeight });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    const eventName = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  renderItemList(data) {\n    const { config, root } = this;\n    if (data) {\n      config.data = data;\n    } else {\n      data = config.data;\n    }\n    if (config.style) {\n      Object.keys(config.style).map((key) => {\n        root.style[key] = config[key];\n      });\n    }\n    if (data.length > 0) {\n      this.attrKeys = Object.keys(data[0]);\n    }\n    this.root.innerHTML = \"\";\n    data.map((item, index) => {\n      const className = item.selected ? \"option-item selected\" : \"option-item\";\n      item[\"data-index\"] = index;\n      this.root.appendChild(util.createDom(\"li\", `<span>${item.showText}</span>`, item, className));\n    });\n  }\n  onItemClick(e) {\n    if (!e.delegateTarget) {\n      e.delegateTarget = e.target;\n    }\n    const target = e.delegateTarget;\n    if (target && util.hasClass(target, \"selected\")) {\n      return false;\n    }\n    const changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n    const curSelected = this.root.querySelector(\".selected\");\n    util.addClass(target, \"selected\");\n    curSelected && util.removeClass(curSelected, \"selected\");\n    changeCallback(e, {\n      from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n      to: this.getAttrObj(target, this.attrKeys)\n    });\n  }\n  getAttrObj(dom, keys) {\n    if (!dom || !keys) {\n      return {};\n    }\n    const obj = {};\n    keys.map((key) => {\n      obj[key] = dom.getAttribute(key);\n    });\n    const index = dom.getAttribute(\"data-index\");\n    if (index) {\n      obj.index = Number(index);\n    }\n    return obj;\n  }\n  show() {\n    util.removeClass(this.root, \"hide\");\n    util.addClass(this.root, \"active\");\n  }\n  hide() {\n    util.removeClass(this.root, \"active\");\n    util.addClass(this.root, \"hide\");\n  }\n  setStyle(style) {\n    Object.keys(style).forEach((key) => {\n      this.root.style[key] = style[key];\n    });\n  }\n  destroy() {\n    if (this._delegates) {\n      this._delegates.map((item) => {\n        item.destroy && item.destroy();\n      });\n      this._delegates = null;\n    }\n    this.root.innerHTML = null;\n    this.parent.removeChild(this.root);\n    this.root = null;\n  }\n}\nexport { OptionList as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nconst LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\"\n};\nconst TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nconst IS_MOBILE = sniffer.device === \"mobile\";\nclass OptionsIcon extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onEnter\", (e) => {\n      e.stopPropagation();\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n      this.switchActiveState(e);\n    });\n    __publicField(this, \"switchActiveState\", (e) => {\n      e.stopPropagation();\n      const { toggleMode } = this.config;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        this.toggle(!this.isActive);\n      } else {\n        this.toggle(true);\n      }\n    });\n    __publicField(this, \"onLeave\", (e) => {\n      e.stopPropagation();\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n      if (this.config.listType !== LIST_TYPES.SIDE) {\n        this.isActive && this.toggle(false);\n      }\n    });\n    __publicField(this, \"onListEnter\", (e) => {\n      this.enterType = 2;\n    });\n    __publicField(this, \"onListLeave\", (e) => {\n      this.enterType = 0;\n      this.isActive && this.toggle(false);\n    });\n    this.isIcons = false;\n    this.isActive = false;\n    this.curValue = null;\n    this.curIndex = 0;\n  }\n  static get pluginName() {\n    return \"optionsIcon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 100,\n      list: [],\n      listType: \"middle\",\n      listStyle: {},\n      hidePortrait: true,\n      isShowIcon: false,\n      isItemClickHide: true,\n      toggleMode: TOGGLE_MODES.HOVER,\n      heightLimit: true\n    };\n  }\n  updateLang(value) {\n    this.renderItemList(this.config.list, this.curIndex);\n  }\n  afterCreate() {\n    const { config } = this;\n    this.initIcons();\n    if (IS_MOBILE && config.listType !== LIST_TYPES.MIDDLE) {\n      config.listType = LIST_TYPES.SIDE;\n    }\n    config.hidePortrait && util.addClass(this.root, \"portrait\");\n    this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], () => {\n      this._resizeList();\n    });\n    this.once(CANPLAY, () => {\n      if (config.list && config.list.length > 0) {\n        this.renderItemList(config.list);\n        this.show();\n      }\n    });\n    IS_MOBILE && this.on(PLAYER_FOCUS, () => {\n      if (!this.isActive) {\n        return;\n      }\n      this.optionsList && this.optionsList.hide();\n      this.isActive = false;\n    });\n    if (IS_MOBILE) {\n      config.toggleMode = TOGGLE_MODES.CLICK;\n      this.activeEvent = \"touchend\";\n    } else {\n      this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n    }\n    if (config.toggleMode === TOGGLE_MODES.CLICK) {\n      this.bind(this.activeEvent, this.switchActiveState);\n    } else {\n      this.bind(this.activeEvent, this.onEnter);\n      this.bind(\"mouseleave\", this.onLeave);\n    }\n    this.isIcons && this.bind(\"click\", this.onIconClick);\n  }\n  initIcons() {\n    const { icons } = this;\n    const _c = Object.keys(icons);\n    let _isIcons = false;\n    if (_c.length > 0) {\n      _c.forEach((key) => {\n        this.appendChild(\".xgplayer-icon\", icons[key]);\n        !_isIcons && (_isIcons = icons[key]);\n      });\n      this.isIcons = _isIcons;\n    }\n    if (_isIcons) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n    util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length < 2) {\n      return;\n    }\n    util.addClass(this.root, \"show\");\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n  }\n  getTextByLang(item, key, lang) {\n    if (item === void 0) {\n      return \"\";\n    }\n    const { list } = this.config;\n    !lang && (lang = this.player.lang);\n    key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n    typeof item === \"number\" && (item = list[item]);\n    try {\n      if (typeof item[key] === \"object\") {\n        return item[key][lang] || item[key].en;\n      } else {\n        return item[key];\n      }\n    } catch (err) {\n      console.warn(err);\n      return \"\";\n    }\n  }\n  toggle(isActive) {\n    if (isActive === this.isActive)\n      return;\n    const { controls } = this.player;\n    const { listType } = this.config;\n    if (isActive) {\n      listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n      this.optionsList && this.optionsList.show();\n    } else {\n      listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n      this.optionsList && this.optionsList.hide();\n    }\n    this.isActive = isActive;\n  }\n  onItemClick(e, data) {\n    e.stopPropagation();\n    const { listType, list } = this.config;\n    this.curIndex = data.to.index;\n    this.curItem = list[this.curIndex];\n    this.changeCurrentText();\n    const { isItemClickHide } = this.config;\n    (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n  }\n  onIconClick(e) {\n  }\n  changeCurrentText() {\n    if (this.isIcons) {\n      return;\n    }\n    const { list } = this.config;\n    const index = this.curIndex < list.length ? this.curIndex : 0;\n    const curItem = list[index];\n    if (!curItem)\n      return;\n    this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n  }\n  renderItemList(itemList, curIndex) {\n    const { config, optionsList, player } = this;\n    if (typeof curIndex === \"number\") {\n      this.curIndex = curIndex;\n      this.curItem = config.list[curIndex];\n    }\n    if (optionsList) {\n      optionsList.renderItemList(itemList);\n      this.changeCurrentText();\n      return;\n    }\n    const options = {\n      config: {\n        data: itemList || [],\n        className: getListClassName(config.listType, config.position),\n        onItemClick: (e, data) => {\n          this.onItemClick(e, data);\n        }\n      },\n      root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n    };\n    if (this.config.isShowIcon) {\n      const { height } = this.player.root.getBoundingClientRect();\n      const _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      if (_maxH && config.heightLimit) {\n        options.config.maxHeight = `${_maxH}px`;\n      }\n      this.optionsList = new OptionList(options);\n      this.changeCurrentText();\n      this.show();\n    }\n    this._resizeList();\n  }\n  _resizeList() {\n    if (!this.config.heightLimit) {\n      return;\n    }\n    const { height } = this.player.root.getBoundingClientRect();\n    const _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n    this.optionsList && this.optionsList.setStyle({ maxHeight: `${_maxH}px` });\n  }\n  destroy() {\n    const { config } = this;\n    if (config.toggleMode === TOGGLE_MODES.CLICK) {\n      this.unbind(this.activeEvent, this.switchActiveState);\n    } else {\n      this.unbind(this.activeEvent, this.onEnter);\n      this.unbind(\"mouseleave\", this.onLeave);\n    }\n    this.isIcons && this.unbind(\"click\", this.onIconClick);\n    if (this.optionsList) {\n      this.optionsList.destroy();\n      this.optionsList = null;\n    }\n  }\n  render() {\n    if (!this.config.isShowIcon) {\n      return;\n    }\n    return `<xg-icon class=\"xg-options-icon ${this.config.className || \"\"}\">\n    <div class=\"xgplayer-icon\">\n    </div>\n   </xg-icon>`;\n  }\n}\nexport { OptionsIcon as default };\n","import util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nclass DefinitionIcon extends OptionsIcon {\n  static get pluginName() {\n    return \"definition\";\n  }\n  static get defaultConfig() {\n    return {\n      ...OptionsIcon.defaultConfig,\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 3,\n      list: [],\n      defaultDefinition: \"\",\n      disable: false,\n      hidePortrait: false,\n      className: \"xgplayer-definition\",\n      isShowIcon: true\n    };\n  }\n  beforeCreate(args) {\n    const { list } = args.config;\n    if (Array.isArray(list) && list.length > 0) {\n      args.config.list = list.map((item) => {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n    }\n  }\n  constructor(args) {\n    super(args);\n    this.curTime = 0;\n    this.isPaused = true;\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.on(\"resourceReady\", (list) => {\n      this.changeDefinitionList(list);\n    });\n    this.on(DEFINITION_CHANGE, (data) => {\n      this.renderItemList(this.config.list, data.to);\n    });\n    if (this.player.definitionList.length < 2) {\n      this.hide();\n    }\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length < 2) {\n      return;\n    }\n    util.addClass(this.root, \"show\");\n  }\n  initDefinition() {\n    const { list, defaultDefinition } = this.config;\n    if (list.length > 0) {\n      let to = null;\n      list.map((item) => {\n        if (item.definition === defaultDefinition) {\n          to = item;\n        }\n      });\n      if (!to) {\n        to = list[0];\n      }\n      this.changeDefinition(to);\n    }\n  }\n  renderItemList(list = this.config.list || [], to) {\n    const targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n    if (to) {\n      list.forEach((item) => {\n        item.selected = false;\n      });\n    }\n    let curIndex = 0;\n    const items = list.map((item, index) => {\n      const showItem = {\n        ...item,\n        showText: this.getTextByLang(item) || item.definition,\n        selected: false\n      };\n      if (item.selected || item.definition && item.definition == targetDef) {\n        showItem.selected = true;\n        curIndex = index;\n      }\n      return showItem;\n    });\n    super.renderItemList(items, curIndex);\n  }\n  changeDefinitionList(list) {\n    if (!Array.isArray(list)) {\n      return;\n    }\n    this.config.list = list.map((item) => {\n      if (!item.text && item.name) {\n        item.text = item.name;\n      }\n      if (!item.text) {\n        item.text = item.definition;\n      }\n      return item;\n    });\n    this.renderItemList();\n    this.config.list.length < 2 ? this.hide() : this.show();\n  }\n  changeDefinition(to, from) {\n    this.player.changeDefinition(to, from);\n  }\n  onItemClick(e, data) {\n    const { definitionList } = this.player;\n    super.onItemClick(...arguments);\n    this.emitUserAction(e, \"change_definition\", { from: data.from, to: data.to });\n    for (let i = 0; i < definitionList.length; i++) {\n      if (data.to && definitionList[i].definition === data.to.definition) {\n        data.to.url = definitionList[i].url;\n      }\n      if (data.from && definitionList[i].definition === data.from.definition) {\n        data.from.url = definitionList[i].url;\n      }\n    }\n    this.player.changeDefinition(data.to, data.from);\n  }\n}\nexport { DefinitionIcon as default };\n","import \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nclass PlaybackRate extends OptionsIcon {\n  static get pluginName() {\n    return \"playbackRate\";\n  }\n  static get defaultConfig() {\n    return {\n      ...OptionsIcon.defaultConfig,\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 4,\n      list: [2, 1.5, 1, 0.75, 0.5],\n      className: \"xgplayer-playbackrate\",\n      isShowIcon: true,\n      hidePortrait: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.curRate = 1;\n  }\n  beforeCreate(args) {\n    const { playbackRate } = args.player.config;\n    const list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n    if (Array.isArray(list)) {\n      args.config.list = list.map((item) => {\n        if (typeof item === \"number\") {\n          item = {\n            rate: item,\n            text: `${item}x`\n          };\n        } else if (!item.text && item.rate) {\n          item.text = `${item.rate}x`;\n        }\n        return item;\n      });\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.on(RATE_CHANGE, () => {\n      if (this.curValue === this.player.playbackRate) {\n        return;\n      }\n      this.renderItemList();\n    });\n    this.renderItemList();\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length === 0) {\n      return;\n    }\n    super.show();\n  }\n  onItemClick(e, _data) {\n    super.onItemClick(e, _data);\n    const target = e.delegateTarget;\n    const rate = Number(target.getAttribute(\"rate\"));\n    if (!rate || rate === this.curValue) {\n      return false;\n    }\n    const props = {\n      playbackRate: {\n        from: this.player.playbackRate,\n        to: rate\n      }\n    };\n    this.emitUserAction(e, \"change_rate\", { props });\n    this.curValue = rate;\n    this.player.playbackRate = rate;\n  }\n  renderItemList() {\n    const playbackRate = this.player.playbackRate || 1;\n    this.curValue = playbackRate;\n    let curIndex = -1;\n    const items = this.config.list.map((item, index) => {\n      const itemInfo = {\n        rate: item.rate\n      };\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.selected = true;\n        curIndex = index;\n      }\n      itemInfo.showText = this.getTextByLang(item);\n      return itemInfo;\n    });\n    super.renderItemList(items, curIndex);\n  }\n  changeCurrentText() {\n    if (this.isIcons) {\n      return;\n    }\n    const { list } = this.config;\n    const index = this.curIndex < list.length ? this.curIndex : 0;\n    const curItem = list[index];\n    let _text = \"\";\n    if (!curItem || this.curIndex < 0) {\n      _text = `${this.player.playbackRate}x`;\n    } else {\n      _text = this.getTextByLang(curItem, \"iconText\");\n    }\n    this.find(\".icon-text\").innerHTML = _text;\n  }\n  destroy() {\n    super.destroy();\n  }\n}\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nclass CssFullScreen extends Icon {\n  static get pluginName() {\n    return \"cssFullscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 1,\n      disable: false,\n      target: null\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.cssFullscreen === \"boolean\") {\n      args.config.disable = !args.player.config.cssFullscreen;\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    if (this.config.disable) {\n      return;\n    }\n    if (this.config.target) {\n      this.playerConfig.fullscreenTarget = this.config.target;\n    }\n    this.initIcons();\n    this.on(CSS_FULLSCREEN_CHANGE, (isCssfullScreen) => {\n      this.animate(isCssfullScreen);\n    });\n    this.btnClick = this.btnClick.bind(this);\n    this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n  }\n  initIcons() {\n    const { icons } = this;\n    const contentIcon = this.find(\".xgplayer-icon\");\n    contentIcon.appendChild(icons.cssFullscreen);\n    contentIcon.appendChild(icons.exitCssFullscreen);\n  }\n  btnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { isCssfullScreen } = this.player;\n    this.emitUserAction(e, \"switch_cssfullscreen\", { cssfullscreen: isCssfullScreen });\n    if (!isCssfullScreen) {\n      this.player.getCssFullscreen();\n    } else {\n      this.player.exitCssFullscreen();\n    }\n  }\n  animate(isFullScreen) {\n    if (!this.root) {\n      return;\n    }\n    isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n    this.switchTips(isFullScreen);\n  }\n  switchTips(isFullScreen) {\n    const { i18nKeys } = this;\n    const tipDom = this.find(\".xg-tips\");\n    tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n  }\n  registerIcons() {\n    return {\n      cssFullscreen: { icon: CssFullSceenSvg, class: \"xg-get-cssfull\" },\n      exitCssFullscreen: { icon: ExitCssFullSceenSvg, class: \"xg-exit-cssfull\" }\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.btnClick);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { CssFullScreen as default };\n","import \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass ErrorPlugin extends Plugin {\n  static get pluginName() {\n    return \"error\";\n  }\n  afterCreate() {\n    this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.onError = this.hook(\"showError\", this.handleError);\n    this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    this.on(ERROR, (error) => {\n      this.onError(error);\n    });\n  }\n  errorRetry(e) {\n    this.emitUserAction(e, \"error_retry\", {});\n    this.player.retry();\n  }\n  handleError(error = {}) {\n    const { player } = this;\n    const type = error.errorType;\n    let errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n    if (!errorNote) {\n      switch (type) {\n        case \"decoder\":\n          errorNote = this.i18n.MEDIA_ERR_DECODE;\n          break;\n        case \"network\":\n          errorNote = this.i18n.MEDIA_ERR_NETWORK;\n          break;\n        default:\n          errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n      }\n    }\n    this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n    this.find(\".xgplayer-error-tips\").innerHTML = `${this.i18n.REFRESH_TIPS}<span class=\"xgplayer-error-refresh\">${this.i18n.REFRESH}</span>`;\n  }\n  destroy() {\n    this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n  }\n  render() {\n    return `<xg-error class=\"xgplayer-error\">\n      <div class=\"xgplayer-errornote\">\n       <span class=\"xgplayer-error-text\"></span>\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\n      </div>\n    </xg-error>`;\n  }\n}\nexport { ErrorPlugin as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nclass Prompt extends Plugin {\n  static get pluginName() {\n    return \"prompt\";\n  }\n  static get defaultConfig() {\n    return {\n      interval: 3e3,\n      style: {},\n      mode: \"arrow\",\n      autoHide: true,\n      detail: {\n        text: \"\",\n        highlight: \"\"\n      },\n      onClick: () => {\n      }\n    };\n  }\n  afterCreate() {\n    this.intervalId = 0;\n    this.customConfig = null;\n    this.bind(\".highlight\", [\"click\", \"touchend\"], (e) => {\n      if (this.config.onClick || this.customOnClick) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.customOnClick ? this.customOnClick(e) : this.config.onClick(e);\n      }\n    });\n    this.player.showPrompt = (...args) => {\n      this.showPrompt(...args);\n    };\n    this.player.hidePrompt = () => {\n      this.hide();\n    };\n  }\n  setStyle(style) {\n    Object.keys(style).map((key) => {\n      this.root.style[key] = style[key];\n    });\n  }\n  showPrompt(detail, config = {}, onClick = () => {\n  }) {\n    if (!detail) {\n      return;\n    }\n    this.customOnClick = onClick;\n    const { interval } = this.config;\n    if (this.intervalId) {\n      clearTimeout(this.intervalId);\n      this.intervalId = null;\n    }\n    util.addClass(this.root, \"show\");\n    config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n    if (typeof detail === \"string\") {\n      this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n    } else {\n      this.find(\".xgplayer-prompt-detail\").innerHTML = `${detail.text || \"\"}${detail.highlight ? `<i class=\"highlight\">${detail.highlight}</i>` : \"\"}`;\n    }\n    config.style && this.setStyle(config.style);\n    const autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n    if (autoHide) {\n      const hideinterval = config.interval || interval;\n      this.intervalId = setTimeout(() => {\n        this.hide();\n      }, hideinterval);\n    }\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n    util.removeClass(this.root, \"arrow\");\n    this.root.removeAttribute(\"style\");\n    this.customOnClick = null;\n  }\n  render() {\n    return `<xg-prompt class=\"xgplayer-prompt ${STATE_CLASS.CONTROLS_FOLLOW}\">\n    <span class=\"xgplayer-prompt-detail\"></span>\n    </xg-prompt>`;\n  }\n}\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nconst ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map((key) => {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nconst APIS = {\n  _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    const ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    const style = iSpot.style || {};\n    style.left = `${ret.left}%`;\n    style.width = `${ret.width}%`;\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map((key) => {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots() {\n    this._ispots.map((item) => {\n      this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot(iSpot, isNew = true) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    const ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    const style = iSpot.style || {};\n    style.left = `${ret.left}%`;\n    style.width = `${ret.width}%`;\n    let className = `xgspot_${iSpot.id} xgplayer-spot`;\n    ret.isMini && (className += \" mini\");\n    const _t = iSpot.template ? `<div class=\"xgplayer-spot-pop\">${iSpot.template}</div>` : \"\";\n    const dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map((key) => {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    const ret = this._ispots.filter((cur, index) => {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot(iSpot, needShow = false) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map((key) => {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    const dotDom = progress.find(`xg-spot[data-id=\"${iSpot.id}\"]`);\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot(id) {\n    const { _ispots } = this;\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const del = [];\n    for (let i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    const len = del.length;\n    for (let i = len - 1; i >= 0; i--) {\n      _ispots.splice(del[i], 1);\n      if (this.ispotsInit) {\n        const dotDom = progress.find(`xg-spot[data-id=\"${id}\"]`);\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (let i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots(iSpots = []) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    const len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (let i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach((ispot, index) => {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", `${ispot.id}`);\n        this._ispots.push(ispot);\n        this.updateDot(ispot);\n      } else {\n        this.createDot(ispot);\n      }\n    });\n  },\n  positionDots() {\n    const { _ispots, playerSize } = this;\n    const { sizeInfo } = this.player;\n    const { progress } = this.player.plugins;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach((item) => {\n      const dotDom = progress.find(`xg-spot[data-id=\"${item.id}\"]`);\n      dotDom && this.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot(dotDom, id) {\n    const _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    const pRect = this.playerSize;\n    const rect1 = dotDom.getBoundingClientRect();\n    const rect = _pop.getBoundingClientRect();\n    const _left = rect1.left - pRect.left;\n    const _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      const t = rect.width / 2 - _left;\n      _pop.style.left = `${t}px`;\n    } else if (_diff < rect.width / 2) {\n      const t = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = `${t}px`;\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const { _ispots } = this;\n    _ispots.forEach((item) => {\n      const dotDom = progress.find(`xg-spot[data-id=\"${item.id}\"]`);\n      this._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return [];\n    }\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom(id) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    return progress.find(`xg-spot[data-id=\"${id}\"]`);\n  }\n};\nfunction initDotsAPI(plugin) {\n  const { config, player } = plugin;\n  Object.keys(APIS).map((item) => {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  const ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map((item) => {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, () => {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, () => {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nconst CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nclass ProgressPreview extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onMousemove\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && this.config.isHideThumbnailHover) {\n        this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    __publicField(this, \"onMousedown\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    __publicField(this, \"onMouseup\", (e) => {\n      if (!this.isDrag) {\n        return;\n      }\n      const { progress } = this.player.plugins;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    __publicField(this, \"onDotMouseLeave\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      this._curDot.removeEventListener(\"mouseleave\", this.onDotMouseLeave);\n      this.blurDot(e.target);\n      this._curDot = null;\n      const { progress } = this.player.plugins;\n      progress && progress.enableBlur();\n      this.show();\n    });\n    __publicField(this, \"onProgressMouseOver\", (data, e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !this._curDot) {\n        this._curDot = e.target;\n        this.focusDot(e.target);\n        if (this._curDot.children.length > 0) {\n          this.hide();\n        }\n        const { progress } = this.player.plugins;\n        progress && progress.disableBlur();\n        this._curDot.addEventListener(\"mouseleave\", this.onDotMouseLeave);\n      }\n    });\n    this._ispots = [];\n    this.videoPreview = null;\n    this.videothumbnail = null;\n    this.thumbnail = null;\n    this.timeStr = \"\";\n    this._state = {\n      now: 0,\n      f: false\n    };\n  }\n  static get pluginName() {\n    return \"progresspreview\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 1,\n      miniWidth: 6,\n      ispots: [],\n      defaultText: \"\",\n      isFocusDots: true,\n      isHideThumbnailHover: true,\n      isShowThumbnail: true,\n      isShowCoverPreview: false,\n      mode: \"\",\n      disable: false,\n      width: 160,\n      height: 90\n    };\n  }\n  beforeCreate(args) {\n    const progress = args.player.plugins.progress;\n    if (progress) {\n      args.root = progress.root;\n    }\n  }\n  afterCreate() {\n    this._curDot = null;\n    this.handlerSpotClick = this.hook(\"spotClick\", (_event, data) => {\n      if (data.seekTime) {\n        this.player.seek(data.seekTime);\n      }\n    });\n    this.transformTimeHook = this.hook(\"transformTime\", (time) => {\n      this.setTimeContent(util.format(time));\n    });\n    initDotsAPI(this);\n    this.on(DURATION_CHANGE, () => {\n      this.show();\n    });\n    if (this.config.disable) {\n      this.disable();\n    }\n    this.extTextRoot = this.find(\".xg-spot-ext-text\");\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    Object.keys(config).map((key) => {\n      this.config[key] = config[key];\n    });\n  }\n  onPluginsReady() {\n    const { player } = this;\n    if (!player.plugins.progress) {\n      return;\n    }\n    this.previewLine = this.find(\".xg-spot-line\");\n    this.timePoint = this.find(\".xgplayer-progress-point\");\n    this.timeText = this.find(\".xg-spot-time\");\n    this.tipText = this.find(\".spot-inner-text\");\n    this._hasThumnail = false;\n    this.registerThumbnail();\n    this.bindEvents();\n  }\n  bindEvents() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    Object.keys(CALLBACK_MAP).map((key) => {\n      this[CALLBACK_MAP[key]] = this[CALLBACK_MAP[key]].bind(this);\n      progress.addCallBack(key, this[CALLBACK_MAP[key]]);\n    });\n    if (sniffer.device === \"mobile\")\n      return;\n    this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n    this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n    this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n    const fun = this.hook(\"previewClick\", (...args) => {\n    });\n    this.handlerPreviewClick = (e) => {\n      e.stopPropagation();\n      fun(parseInt(this._state.now * 1e3, 10) / 1e3, e);\n    };\n    this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n  }\n  onProgressMove(data, e) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n  }\n  onProgressDragStart(data) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.isDrag = true;\n    this.videoPreview && util.addClass(this.videoPreview, \"show\");\n  }\n  onProgressDragEnd(data) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.isDrag = false;\n    this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n  }\n  onProgressClick(data, e) {\n    if (this.config.disable) {\n      return;\n    }\n    if (util.hasClass(e.target, \"xgplayer-spot\")) {\n      e.stopPropagation();\n      e.preventDefault();\n      [\"time\", \"id\", \"text\"].map((key) => {\n        data[key] = e.target.getAttribute(`data-${key}`);\n      });\n      data.time && (data.time = Number(data.time));\n      this.handlerSpotClick(e, data);\n    }\n  }\n  updateLinePos(offset, cwidth) {\n    const { root, previewLine, player, config } = this;\n    const { mode } = player.controls;\n    const isflex = mode === \"flex\";\n    let lwidth = root.getBoundingClientRect().width;\n    if (!lwidth && this._hasThumnail) {\n      return;\n    }\n    lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n    let x = offset - lwidth / 2;\n    let _t;\n    if (x < 0 && !isflex) {\n      x = 0;\n      _t = offset - lwidth / 2;\n    } else if (x > cwidth - lwidth && !isflex) {\n      _t = x - (cwidth - lwidth);\n      x = cwidth - lwidth;\n    } else {\n      _t = 0;\n    }\n    _t !== void 0 && (previewLine.style.transform = `translateX(${_t.toFixed(2)}px)`);\n    root.style.transform = `translateX(${x.toFixed(2)}px) translateZ(0)`;\n  }\n  updateTimeText(timeStr) {\n    const { timeText, timePoint } = this;\n    timeText.innerHTML = timeStr;\n    !this.thumbnail && (timePoint.innerHTML = timeStr);\n  }\n  updatePosition(offset, cwidth, time, e) {\n    const { root, config, _state } = this;\n    if (!root) {\n      return;\n    }\n    _state.now = time;\n    this.transformTimeHook(time);\n    const timeStr = this.timeStr;\n    if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n      this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n      this.focusDot(e.target);\n      _state.f = true;\n      config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n    } else if (config.defaultText) {\n      _state.f = false;\n      this.showTips(config.defaultText, true, timeStr);\n    } else {\n      _state.f = false;\n      this.hideTips(\"\");\n    }\n    this.updateTimeText(timeStr);\n    this.updateThumbnails(_state.now);\n    this.updateLinePos(offset, cwidth);\n  }\n  setTimeContent(str) {\n    this.timeStr = str;\n  }\n  updateThumbnails(time) {\n    const { player, videoPreview, config } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n      const rect = videoPreview && videoPreview.getBoundingClientRect();\n      this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n    }\n  }\n  registerThumbnail(thumbnailConfig = {}) {\n    if (sniffer.device === \"mobile\") {\n      return;\n    }\n    const { player, config } = this;\n    const thumbnail = player.getPlugin(\"thumbnail\");\n    if (thumbnail) {\n      thumbnail.setConfig(thumbnailConfig);\n    }\n    if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n      util.addClass(this.root, \"short-line no-thumbnail\");\n      return;\n    } else {\n      util.removeClass(this.root, \"short-line no-thumbnail\");\n    }\n    if (config.mode === \"short\") {\n      util.addClass(this.root, \"short-line\");\n    }\n    this._hasThumnail = true;\n    const tRoot = this.find(\".xg-spot-thumbnail\");\n    this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n    if (config.isShowCoverPreview) {\n      this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n      player.root.appendChild(this.videoPreview);\n      this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n    }\n    this.updateThumbnails(0);\n  }\n  calcuPosition(time, duration) {\n    const { progress } = this.player.plugins;\n    const { player } = this;\n    const totalWidth = progress.root.getBoundingClientRect().width;\n    const widthPerSeconds = player.duration / totalWidth * 6;\n    if (time + duration > player.duration) {\n      duration = player.duration - time;\n    }\n    time / player.duration * 100;\n    duration / player.duration;\n    return {\n      left: time / player.duration * 100,\n      width: duration / player.duration * 100,\n      isMini: duration < widthPerSeconds\n    };\n  }\n  showDot(id) {\n    const dot = this.findDot(id);\n    if (dot) {\n      const rect = this.root.getBoundingClientRect();\n      const { width } = rect;\n      const offset = dot.time / this.player.duration * width;\n      this.updatePosition(offset, width, dot.time);\n    }\n  }\n  focusDot(target, id) {\n    if (!target) {\n      return;\n    }\n    if (!id) {\n      id = target.getAttribute(\"data-id\");\n    }\n    util.addClass(target, \"active\");\n    this._activeDotId = id;\n  }\n  blurDot(target) {\n    if (!target) {\n      const id = this._activeDotId;\n      target = this.getDotDom(id);\n    }\n    if (!target) {\n      return;\n    }\n    util.removeClass(target, \"active\");\n    this._activeDotId = null;\n  }\n  showTips(text, isDefault, timeStr = \"\") {\n    util.addClass(this.root, \"no-timepoint\");\n    if (!text) {\n      return;\n    }\n    util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n    if (isDefault && this.config.mode === \"production\") {\n      util.addClass(this.root, \"product\");\n      this.tipText.textContent = text;\n    } else {\n      util.removeClass(this.root, \"product\");\n      this.tipText.textContent = this._hasThumnail ? text : `${timeStr} ${text}`;\n    }\n  }\n  hideTips() {\n    util.removeClass(this.root, \"no-timepoint\");\n    this.tipText.textContent = \"\";\n    util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n    util.removeClass(this.root, \"product\");\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  enable() {\n    const { config, playerConfig } = this;\n    this.config.disable = false;\n    this.show();\n    if (!this.thumbnail && config.isShowThumbnail) {\n      this.registerThumbnail(playerConfig.thumbnail || {});\n    }\n  }\n  disable() {\n    this.config.disable = true;\n    this.hide();\n  }\n  destroy() {\n    const { progress } = this.player.plugins;\n    progress && Object.keys(CALLBACK_MAP).map((key) => {\n      progress.removeCallBack(key, this[CALLBACK_MAP[key]]);\n    });\n    this.videothumbnail = null;\n    this.thumbnail = null;\n    this.videoPreview && this.player.root.removeChild(this.videoPreview);\n    this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n    this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n    this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n    this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n  }\n  render() {\n    if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n      return \"\";\n    }\n    return `<div class=\"xg-spot-info hide ${this.config.mode === \"short\" ? \"short-line\" : \"\"}\">\n      <div class=\"xg-spot-content\">\n        <div class=\"xg-spot-thumbnail\">\n          <span class=\"xg-spot-time\"></span>\n        </div>\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\n      </div>\n      <div class=\"xgplayer-progress-point\">00:00</div>\n      <div class=\"xg-spot-ext-text\"></div>\n      <div class=\"xg-spot-line\"></div>\n    </div>`;\n  }\n}\nexport { ProgressPreview as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Thumbnail extends Plugin {\n  static get pluginName() {\n    return \"thumbnail\";\n  }\n  static get defaultConfig() {\n    return {\n      isShow: false,\n      urls: [],\n      pic_num: 0,\n      col: 0,\n      row: 0,\n      height: 90,\n      width: 160,\n      scale: 1,\n      className: \"\",\n      hidePortrait: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.ratio = 1;\n    this.interval = null;\n    this._preloadMark = {};\n  }\n  afterCreate() {\n    if (this.usable) {\n      this.initThumbnail();\n    }\n    this.on([DURATION_CHANGE], () => {\n      const { pic_num, interval } = this.config;\n      this.usable && (this.interval = interval > 0 ? interval : Math.round(this.player.duration * 1e3 / pic_num) / 1e3);\n    });\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    const keys = Object.keys(config);\n    if (keys.length < 1) {\n      return;\n    }\n    keys.forEach((key) => {\n      this.config[key] = config[key];\n    });\n    this.usable && this.initThumbnail();\n  }\n  get usable() {\n    const { urls, pic_num } = this.config;\n    return urls && urls.length > 0 && pic_num > 0;\n  }\n  initThumbnail() {\n    const { width, height, pic_num, interval } = this.config;\n    this.ratio = width / height * 100;\n    this.interval = interval || Math.round(this.player.duration / pic_num);\n    this._preloadMark = {};\n  }\n  getUrlByIndex(index) {\n    return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n  }\n  preload(index) {\n    if (this._preloadMark[index]) {\n      return;\n    }\n    const { urls } = this.config;\n    const len = urls.length;\n    const arr = [];\n    index > 0 && arr.push(index - 1);\n    arr.push(index);\n    index > 0 && index < len - 1 && arr.push(index + 1);\n    arr.map((item) => {\n      if (!this._preloadMark[item] && item >= 0 && item < len) {\n        this._preloadMark[item] = 1;\n        util.preloadImg(urls[item], () => {\n          this._preloadMark[item] = 2;\n        });\n      }\n    });\n  }\n  getPosition(now, containerWidth = 0, containerHeight = 0) {\n    const { pic_num, row, col, width, height } = this.config;\n    this.interval = Math.round(this.player.duration / pic_num);\n    let index = Math.ceil(now / this.interval);\n    index = index > pic_num ? pic_num : index;\n    const urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n    const indexInPage = index - urlIndex * (col * row);\n    const rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n    const colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n    let swidth = 0;\n    let sHeight = 0;\n    if (containerWidth && containerHeight) {\n      const per = containerWidth / containerHeight;\n      if (per < width / height) {\n        sHeight = containerHeight;\n        swidth = sHeight * (width / height);\n      } else {\n        swidth = containerWidth;\n        sHeight = swidth / (width / height);\n      }\n    } else if (!containerHeight) {\n      swidth = containerWidth || width;\n      sHeight = swidth / (width / height);\n    } else if (!containerWidth) {\n      sHeight = containerHeight || height;\n      swidth = sHeight * (width / height);\n    }\n    const url = this.getUrlByIndex(urlIndex);\n    return {\n      urlIndex,\n      rowIndex,\n      colIndex,\n      url,\n      height: sHeight,\n      width: swidth,\n      style: {\n        backgroundImage: `url(${url})`,\n        backgroundSize: `${swidth * col}px auto`,\n        backgroundPosition: `-${colIndex * swidth}px -${rowIndex * sHeight}px`,\n        width: `${swidth}px`,\n        height: `${sHeight}px`\n      }\n    };\n  }\n  update(dom, now, containerWidth = 0, containerHeight = 0, customStyle = \"\") {\n    const { pic_num, urls } = this.config;\n    if (pic_num <= 0 || !urls || urls.length === 0) {\n      return;\n    }\n    const pos = this.getPosition(now, containerWidth, containerHeight);\n    this.preload(pos.urlIndex);\n    Object.keys(pos.style).map((key) => {\n      dom.style[key] = pos.style[key];\n    });\n    Object.keys(customStyle).map((key) => {\n      dom.style[key] = customStyle[key];\n    });\n  }\n  changeConfig(newConfig = {}) {\n    this.setConfig(newConfig);\n  }\n  createThumbnail(root, className) {\n    const dom = util.createDom(\"xg-thumbnail\", \"\", {}, `thumbnail ${className}`);\n    root && root.appendChild(dom);\n    return dom;\n  }\n}\nexport { Thumbnail as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { TIME_UPDATE, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? `background:${color};` : \"\";\n}\nclass MiniProgress extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onTimeupdate\", () => {\n      const { ended } = this.player;\n      const { offsetDuration } = this;\n      let time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, ended);\n      this.update({ played: time }, offsetDuration);\n    });\n  }\n  static get pluginName() {\n    return \"MiniProgress\";\n  }\n  static get defaultConfig() {\n    return {\n      mode: \"auto\",\n      height: 2\n    };\n  }\n  get offsetDuration() {\n    return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n  }\n  afterCreate() {\n    if (!this.root) {\n      return;\n    }\n    this.on(TIME_UPDATE, this.onTimeupdate);\n    this.on(EMPTIED, () => {\n      this.reset();\n    });\n  }\n  reset() {\n    this.update({ played: 0, cached: 0 }, 0);\n  }\n  update(data = { cached: 0, played: 0 }, duration) {\n    if (!duration || !this.root) {\n      return;\n    }\n    if (data.cached) {\n      this.find(\"xg-mini-progress-cache\").style.width = `${data.cached / duration * 100}%`;\n    }\n    if (data.played) {\n      this.find(\"xg-mini-progress-played\").style.width = `${data.played / duration * 100}%`;\n    }\n  }\n  render() {\n    const { commonStyle, miniprogress } = this.playerConfig;\n    if (!miniprogress) {\n      return;\n    }\n    const { mode, height } = this.config;\n    const _style = {\n      cached: getBgColor(commonStyle.cachedColor),\n      played: getBgColor(commonStyle.playedColor),\n      progress: getBgColor(commonStyle.progressColor),\n      height: height > 0 && height !== 2 ? `height: ${height}px;` : \"\"\n    };\n    const stateClass = mode === \"show\" ? \"xg-mini-progress-show\" : \"\";\n    return `<xg-mini-progress class=\"xg-mini-progress ${stateClass}\" style=\"${_style.progress} ${_style.height}\">\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"${_style.cached}\"></xg-mini-progress-cache>\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"${_style.played}\"></xg-mini-progress-played>\n    </xg-mini-progress>`;\n  }\n}\nexport { MiniProgress as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START, TIME_UPDATE } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nconst MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    const ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nlet isSupportCanvas = null;\nclass DynamicBg extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onLoadedData\", (e) => {\n      if (!this.player) {\n        return;\n      }\n      this._frameCount = this.config.startFrameCount;\n      this.stop();\n      this.renderOnTimeupdate(e);\n      this.off(TIME_UPDATE, this.renderOnTimeupdate);\n      this.on(TIME_UPDATE, this.renderOnTimeupdate);\n    });\n    __publicField(this, \"onVisibilitychange\", (e) => {\n      if (document.visibilityState === \"visible\") {\n        this._checkIfCanStart() && this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        this.stop();\n      }\n    });\n    __publicField(this, \"renderOnTimeupdate\", (e) => {\n      if (this._frameCount > 0) {\n        this.renderOnce();\n        this._frameCount--;\n      } else {\n        this._isLoaded = true;\n        this.off(TIME_UPDATE, this.renderOnTimeupdate);\n        const { startInterval } = this.config;\n        !this.player.paused && this._checkIfCanStart() && this.start(0, startInterval);\n      }\n    });\n    __publicField(this, \"start\", (time, interval) => {\n      const video = this.player.video;\n      const _now = nowTime();\n      const _sVideo = this.checkVideoIsSupport(video);\n      if (!_sVideo || !this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = this.interval;\n      }\n      this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && this.update(_sVideo, this.videoPI);\n          this.preTime = _now;\n        } else if (_now - this.preTime >= interval) {\n          video && video.videoWidth && this.update(_sVideo, this.videoPI);\n          this.preTime = _now;\n        }\n      }\n      this.frameId = this._loopType === \"timer\" ? util.setTimeout(this, this.start, interval) : util.requestAnimationFrame(this.start);\n    });\n    __publicField(this, \"stop\", () => {\n      if (this.frameId) {\n        this._loopType === \"timer\" ? util.clearTimeout(this, this.frameId) : util.cancelAnimationFrame(this.frameId);\n        this.frameId = null;\n      }\n    });\n  }\n  static get pluginName() {\n    return \"dynamicBg\";\n  }\n  static get defaultConfig() {\n    return {\n      isInnerRender: false,\n      disable: true,\n      index: -1,\n      mode: \"framerate\",\n      frameRate: 10,\n      filter: \"blur(50px)\",\n      startFrameCount: 2,\n      startInterval: 0,\n      addMask: true,\n      multiple: 1.2,\n      maskBg: \"rgba(0,0,0,0.7)\"\n    };\n  }\n  static get isSupport() {\n    if (typeof isSupportCanvas === \"boolean\") {\n      return isSupportCanvas;\n    }\n    isSupportCanvas = checkIsSupportCanvas();\n    return isSupportCanvas;\n  }\n  static supportCanvasFilter() {\n    return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n  }\n  afterCreate() {\n    if (this.playerConfig.dynamicBg === true) {\n      this.config.disable = false;\n    }\n    if (!DynamicBg.isSupport) {\n      this.config.disable = true;\n    }\n    const { disable, mode, frameRate } = this.config;\n    if (disable) {\n      return;\n    }\n    this._pos = {\n      width: 0,\n      height: 0,\n      rwidth: 0,\n      rheight: 0,\n      x: 0,\n      y: 0,\n      pi: 0\n    };\n    this.isStart = false;\n    this._isLoaded = false;\n    this.videoPI = 0;\n    this.preTime = 0;\n    this.interval = parseInt(1e3 / frameRate, 10);\n    this.canvas = null;\n    this.canvasCtx = null;\n    this._frameCount = 0;\n    this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n    this.once(COMPLETE, () => {\n      if (!this.player) {\n        return;\n      }\n      this.init();\n      this.renderByPoster();\n      if (!this.player.paused) {\n        this.start();\n      }\n    });\n    if (mode === MODES.POSTER) {\n      return;\n    }\n    if (mode !== MODES.FIRST_FRAME) {\n      this.on(EMPTIED, () => {\n        this.stop();\n      });\n      this.on(PLAY, () => {\n        const { startInterval } = this.config;\n        this._checkIfCanStart() && this.start(0, startInterval);\n      });\n      this.on(PAUSE, () => {\n        this.stop();\n      });\n    }\n    this.on(LOADED_DATA, this.onLoadedData);\n    this.on(LOAD_START, () => {\n      this._isLoaded = false;\n      this.stop();\n    });\n    document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n  }\n  setConfig(config) {\n    Object.keys(config).forEach((key) => {\n      if (key === \"root\" && config[key] !== this.config[key]) {\n        this.reRender(config[key]);\n      } else if (key === \"frameRate\") {\n        this.interval = parseInt(1e3 / config[key], 10);\n      } else if (key === \"disable\" && config[key]) {\n        this.stop();\n      }\n      this.config[key] = config[key];\n    });\n  }\n  init(_root) {\n    const { player, config } = this;\n    this.canvasFilter = DynamicBg.supportCanvasFilter();\n    try {\n      let parent = _root || config.root;\n      if (!parent) {\n        parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n      }\n      parent.insertAdjacentHTML(\n        \"afterbegin\",\n        `<div class=\"xgplayer-dynamic-bg\" data-index=\"${config.index}\"><canvas>\n        </canvas><xgmask></xgmask></div>`\n      );\n      this.root = parent.children[0];\n      this.canvas = this.find(\"canvas\");\n      if (!this.canvasFilter) {\n        this.canvas.style.filter = config.filter;\n        this.canvas.style.webkitFilter = config.filter;\n      }\n      this.mask = this.find(\"xgmask\");\n      config.addMask && (this.mask.style.background = config.maskBg);\n      this.canvasCtx = this.canvas.getContext(\"2d\");\n    } catch (e) {\n      XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n    }\n  }\n  reRender(root) {\n    const { disable } = this.config;\n    if (!disable && !this.root) {\n      return;\n    }\n    this.stop();\n    const _p = this.root ? this.root.parentElement : null;\n    if (_p !== root) {\n      _p.removeChild(this.root);\n    }\n    if (!root) {\n      this.root = null;\n      return;\n    }\n    this.init(root);\n    this.renderOnce();\n    const { startInterval } = this.config;\n    this._checkIfCanStart() && this.start(0, startInterval);\n  }\n  checkVideoIsSupport(video) {\n    if (!video) {\n      return null;\n    }\n    const _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n    if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n      return _tVideo;\n    }\n    const _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n    if (_tagName === \"canvas\" || _tagName === \"img\") {\n      return _tVideo;\n    }\n    return null;\n  }\n  renderByPoster() {\n    const { poster } = this.playerConfig;\n    if (poster) {\n      const url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n      this.updateImg(url);\n    }\n  }\n  _checkIfCanStart() {\n    const { mode } = this.config;\n    return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n  }\n  renderOnce() {\n    const video = this.player.video;\n    if (!video.videoWidth || !video.videoHeight) {\n      return;\n    }\n    this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n    const _sVideo = this.checkVideoIsSupport(video);\n    _sVideo && this.update(_sVideo, this.videoPI);\n  }\n  updateImg(url) {\n    if (!url) {\n      return;\n    }\n    const { width, height } = this.canvas.getBoundingClientRect();\n    let image = new window.Image();\n    image.onload = () => {\n      if (!this.canvas || this.frameId || this.isStart) {\n        return;\n      }\n      this.canvas.height = height;\n      this.canvas.width = width;\n      const pi = parseInt(width / height * 100, 10);\n      this.update(image, pi);\n      image = null;\n    };\n    image.src = url;\n  }\n  update(video, sourcePI) {\n    if (!this.canvas || !this.canvasCtx || !sourcePI) {\n      return;\n    }\n    try {\n      const { _pos, config } = this;\n      const { width, height } = this.canvas.getBoundingClientRect();\n      if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n        const pi = parseInt(width / height * 100, 10);\n        _pos.pi = sourcePI;\n        _pos.width !== width && (_pos.width = this.canvas.width = width);\n        _pos.height !== height && (_pos.height = this.canvas.height = height);\n        let rheight = height;\n        let rwidth = width;\n        if (pi < sourcePI) {\n          rwidth = parseInt(height * sourcePI / 100, 10);\n        } else if (pi > sourcePI) {\n          rheight = parseInt(width * 100 / sourcePI, 10);\n        }\n        _pos.rwidth = rwidth * config.multiple;\n        _pos.rheight = rheight * config.multiple;\n        _pos.x = (width - _pos.rwidth) / 2;\n        _pos.y = (height - _pos.rheight) / 2;\n      }\n      this.canvasFilter && (this.canvasCtx.filter = config.filter);\n      this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n    } catch (e) {\n      XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n    }\n  }\n  destroy() {\n    this.stop();\n    document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n    this.canvasCtx = null;\n    this.canvas = null;\n  }\n  render() {\n    return \"\";\n  }\n}\nexport { DynamicBg as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport * as events from \"../../events.js\";\nimport { USER_ACTION } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nconst INFO = \"info\";\nconst { STATS_EVENTS } = events;\nclass Stats extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_recordUserActions\", (actionData) => {\n      const time = this._getTime();\n      const payload = Object.assign({}, actionData, { msg: actionData.msg || actionData.action });\n      this._stats[INFO].push({\n        type: \"userAction\",\n        ...time,\n        payload\n      });\n    });\n    __publicField(this, \"_onReset\", () => {\n      this.reset();\n    });\n    __publicField(this, \"_recordInfo\", (data) => {\n      this.info(data);\n    });\n    __publicField(this, \"_downloadStats\", () => {\n      const stats = this.getStats();\n      const blob = new Blob([JSON.stringify(stats)], { type: \"application/json\" });\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n  }\n  static get pluginName() {\n    return \"stats\";\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  _getTime() {\n    return {\n      timestamp: Date.now(),\n      timeFormat: new Date().toISOString()\n    };\n  }\n  afterCreate() {\n    this.reset();\n    this.on(USER_ACTION, this._recordUserActions);\n    this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n    this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n    this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n  }\n  destroy() {\n    this.offAll();\n  }\n  downloadStats() {\n    this._downloadStats();\n  }\n  info(data) {\n    if (data.profile) {\n      this._infoProfile(data);\n    } else {\n      this._info(data);\n    }\n  }\n  _info(data) {\n    const time = this._getTime();\n    this._stats[INFO].push({\n      ...time,\n      payload: data\n    });\n  }\n  _infoProfile(data) {\n    if (data && data.startMs) {\n      const endMs = Date.now();\n      const dur = endMs - data.startMs;\n      const profile = {\n        cat: \"function\",\n        dur,\n        name: data.name || data.msg,\n        ph: \"X\",\n        pid: 0,\n        tid: 0,\n        ts: data.startMs,\n        profile: true,\n        ...data\n      };\n      this._info(profile);\n    } else {\n      console.warn(\"infoProfile need object data, include startMs\");\n    }\n  }\n  reset() {\n    this._stats = {\n      [INFO]: [],\n      media: {}\n    };\n  }\n  getStats() {\n    const { player } = this;\n    const mediaElem = player.media;\n    const buffered = [];\n    for (let i = 0; i < mediaElem.buffered.length; i++) {\n      buffered.push({\n        start: mediaElem.buffered.start(i),\n        end: mediaElem.buffered.end(i)\n      });\n    }\n    const mediaInfo = {\n      currentTime: mediaElem.currentTime,\n      readyState: mediaElem.readyState,\n      buffered,\n      paused: mediaElem.paused,\n      ended: mediaElem.ended\n    };\n    this._stats.media = mediaInfo;\n    return {\n      raw: this._stats,\n      timestat: this._getTimeStats(),\n      profile: this._getProfile()\n    };\n  }\n  _getTimeStats() {\n    const allStat = this._stats[INFO];\n    const msgs = allStat.map((stat) => {\n      const data = stat.payload.data;\n      let msg = \"\";\n      try {\n        if (data instanceof Error) {\n          msg = data.msg;\n        } else if (data !== void 0) {\n          msg = JSON.stringify(data);\n        }\n      } catch (error) {\n        console.log(\"err\", error);\n      }\n      return `[${stat.timeFormat}] : ${stat.payload.msg} ${msg} `;\n    });\n    return msgs;\n  }\n  _getProfile() {\n    const profile = {\n      traceEvents: []\n    };\n    const allStat = this._stats[INFO];\n    allStat.forEach((stat) => {\n      if (stat.payload.profile) {\n        profile.traceEvents.push(stat.payload);\n      }\n    });\n    return profile;\n  }\n}\nexport { Stats as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass GapJump extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onGapJump\", () => {\n      const { player, config } = this;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && this.hasPlayed) {\n        return;\n      }\n      const buffered = player.media.buffered;\n      const smallGapLimit = config.smallGapLimit || 0.5;\n      const gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      const currentTime = player.media.currentTime;\n      const idx = this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      const jumpTo = buffered.start(idx) + 0.1;\n      const seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      const jumpSize = jumpTo - currentTime;\n      const isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        this.player && this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"gapJump\";\n  }\n  static get defaultConfig() {\n    return {\n      useGapJump: false,\n      smallGapLimit: 0.5,\n      gapDetectionThreshold: 0.3\n    };\n  }\n  afterCreate() {\n    const { useGapJump } = this.config;\n    if (useGapJump === false) {\n      return;\n    }\n    this.hasPlayed = false;\n    this.seekingEventReceived = false;\n    this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n    this.on(WAITING, this.onGapJump);\n    this.on(PLAY, () => {\n      this.hasPlayed = true;\n    });\n    this.on(SEEKING, () => {\n      this.seekingEventReceived = true;\n    });\n  }\n  _getIndex(buffered, time, threshold) {\n    if (!buffered || !buffered.length) {\n      return null;\n    }\n    if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n      return null;\n    }\n    const bufferedInfo = this._getBuffered(buffered);\n    let idx = null;\n    for (let i = 0; i < bufferedInfo.length; i++) {\n      const item = bufferedInfo[i];\n      if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n        idx = i;\n        break;\n      }\n    }\n    return idx;\n  }\n  _getBuffered(b) {\n    if (!b) {\n      return [];\n    }\n    const ret = [];\n    for (let i = 0; i < b.length; i++) {\n      ret.push({\n        start: b.start(i),\n        end: b.end(i)\n      });\n    }\n    return ret;\n  }\n}\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass WaitingTimeoutJump extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onWaiting\", () => {\n      const { config } = this;\n      if (this.jumpCnt > config.jumpCntMax || this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.timer = setTimeout(this.onJump, config.waitingTime * 1e3);\n    });\n    __publicField(this, \"onJump\", () => {\n      const { player, config } = this;\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && this.hasPlayed) {\n        return;\n      }\n      this.jumpSize = config.jumpSize * (this.jumpCnt + 1);\n      if (this.jumpCnt === config.jumpSize && this.jumpSize < 6) {\n        this.jumpSize = 6;\n      }\n      const jumpTo = player.currentTime + this.jumpSize;\n      const seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      console.log(\"waitintTimeout, currentTime:\", player.currentTime, \", jumpTo:\", jumpTo);\n      this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n  }\n  static get pluginName() {\n    return \"waitingTimeoutJump\";\n  }\n  static get defaultConfig() {\n    return {\n      useWaitingTimeoutJump: false,\n      waitingTime: 15,\n      jumpSize: 2,\n      jumpCntMax: 4\n    };\n  }\n  afterCreate() {\n    const { useWaitingTimeoutJump, jumpSize } = this.config;\n    if (useWaitingTimeoutJump === false) {\n      return;\n    }\n    this.hasPlayed = false;\n    this.jumpCnt = 0;\n    this.timer = null;\n    this.jumpSize = jumpSize;\n    this.on(WAITING, this.onWaiting);\n    this.on([PLAYING, CANPLAY], () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n      this.jumpSize = this.config.jumpSize;\n    });\n    this.on(PLAY, () => {\n      this.hasPlayed = true;\n    });\n  }\n}\nexport { WaitingTimeoutJump as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { LOADED_DATA, REPLAY, DOWNLOAD_SPEED_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nconst DEFAULT_SPEED_TYPE = \"cdn\";\nconst SPEED_TYPE = [\"cdn\"];\nclass TestSpeed extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"getSpeed\", (type = DEFAULT_SPEED_TYPE) => {\n      if (!this.speedListCache || !this.speedListCache[type])\n        return 0;\n      if (this.speedListCache[type].length <= 0)\n        return 0;\n      let total = 0;\n      this.speedListCache[type].map((item) => {\n        total += item;\n      });\n      return Math.floor(total / this.speedListCache[type].length);\n    });\n    __publicField(this, \"startTimer\", () => {\n      if (util.isMSE(this.player.video)) {\n        return;\n      }\n      this.initSpeedList();\n      this.cnt = 0;\n      this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n    });\n    __publicField(this, \"initSpeedList\", () => {\n      this.speedListCache = {};\n      SPEED_TYPE.forEach((type) => {\n        this.speedListCache[type] = [];\n      });\n    });\n    __publicField(this, \"_onRealSpeedChange\", (data) => {\n      data.speed && this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    __publicField(this, \"testSpeed\", () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (!this.player || !this.config.openSpeed)\n        return;\n      const { url, loadSize, testCnt, testTimeStep } = this.config;\n      const testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (this.cnt >= testCnt) {\n        return;\n      }\n      this.cnt++;\n      try {\n        const start = new Date().getTime();\n        let end = null;\n        const xhr = new XMLHttpRequest();\n        this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        const headers = {};\n        const random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach((k) => {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = () => {\n          if (xhr.readyState === 4) {\n            this.xhr = null;\n            end = new Date().getTime();\n            const size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            const speed = Math.round(size * 1e3 / (end - start));\n            this.appendList(speed);\n            this.timer = setTimeout(this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    __publicField(this, \"appendList\", (speed, type = DEFAULT_SPEED_TYPE) => {\n      if (!this.speedListCache || !this.speedListCache[type])\n        return;\n      const { saveSpeedMax } = this.config;\n      if (this.speedListCache[type].length >= saveSpeedMax) {\n        this.speedListCache[type].shift();\n      }\n      this.speedListCache[type].push(speed);\n      const { player } = this;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      this.updateSpeed(type);\n    });\n    __publicField(this, \"updateSpeed\", (type = DEFAULT_SPEED_TYPE) => {\n      const speed = this.getSpeed(type);\n      const { player } = this;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, { speed, realTimeSpeed: player.realTimeSpeed });\n          }\n        } else {\n          const speedName = this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, { speed, realTimeSpeed: player.realTimeSpeed });\n          }\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"testspeed\";\n  }\n  static get defaultConfig() {\n    return {\n      openSpeed: false,\n      testCnt: 3,\n      loadSize: 200 * 1024,\n      testTimeStep: 3e3,\n      url: \"\",\n      saveSpeedMax: 5,\n      addSpeedTypeList: []\n    };\n  }\n  afterCreate() {\n    const { openSpeed, addSpeedTypeList } = this.config;\n    if ((addSpeedTypeList == null ? void 0 : addSpeedTypeList.length) > 0) {\n      SPEED_TYPE.push(...addSpeedTypeList);\n    }\n    this.initSpeedList();\n    this.on(\"real_time_speed\", this._onRealSpeedChange);\n    this.timer = null;\n    this.cnt = 0;\n    this.xhr = null;\n    if (!openSpeed) {\n      return;\n    }\n    this.on([LOADED_DATA, REPLAY], this.startTimer);\n  }\n  getSpeedName(namePrefix, type) {\n    return namePrefix + \"Speed\" + type.toUpperCase();\n  }\n  set openSpeed(value) {\n    this.config.openSpeed = value;\n    if (!value && this.timer) {\n      clearTimeout(this.timer);\n      this.timer = null;\n      return;\n    }\n    if (this.config.openSpeed) {\n      if (this.timer)\n        return;\n      this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n    }\n  }\n  get openSpeed() {\n    return this.config.openSpeed;\n  }\n  destroy() {\n    this.off(\"real_time_speed\", this._onRealSpeedChange);\n    this.off([LOADED_DATA, REPLAY], this.startTimer);\n    SPEED_TYPE.forEach((type) => {\n      this.speedListCache && this.speedListCache[type] && (this.speedListCache[type] = []);\n    });\n    this.speedListCache && (this.speedListCache = {});\n    clearTimeout(this.timer);\n    this.timer = null;\n    if (this.xhr && this.xhr.readyState !== 4) {\n      this.xhr.cancel && this.xhr.cancel();\n      this.xhr = null;\n    }\n  }\n}\nexport { TestSpeed as default };\n","import \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass FpsDetect extends Plugin {\n  static get pluginName() {\n    return \"FpsDetect\";\n  }\n  static get defaultConfig() {\n    return {\n      disabled: false,\n      tick: 1e3,\n      stuckCount: 3,\n      reportFrame: 0\n    };\n  }\n  afterCreate() {\n    const { player, config } = this;\n    const media = player.media || player.video;\n    this.timer = null;\n    this._lastDecodedFrames = 0;\n    this._currentStuckCount = 0;\n    this._lastCheckPoint = null;\n    this._payload = [];\n    if (config.disabled)\n      return;\n    const getVideoPlaybackQuality = media.getVideoPlaybackQuality;\n    if (!getVideoPlaybackQuality)\n      return;\n    this.on(PLAY, () => {\n      this._startTick();\n    });\n    this.on(PAUSE, () => {\n      this._stopTick();\n    });\n    this.on(ENDED, () => {\n      this._stopTick();\n    });\n    this.on(EMPTIED, () => {\n      this._stopTick();\n    });\n  }\n  _startTick() {\n    this._stopTick();\n    this._timer = setTimeout(() => {\n      this._checkDecodeFPS();\n      this._startTick();\n    }, this.config.tick);\n  }\n  _stopTick() {\n    clearTimeout(this._timer);\n    this._timer = null;\n  }\n  _checkBuffer(curTime, buffered) {\n    let enoughBuffer = false;\n    const buffers = [];\n    for (let i = 0; i < buffered.length; i++) {\n      const start = buffered.start(i);\n      const end = buffered.end(i);\n      buffers.push({ start, end });\n      if (start <= curTime && curTime <= end - 1) {\n        enoughBuffer = true;\n        break;\n      }\n    }\n    return {\n      enoughBuffer,\n      buffers\n    };\n  }\n  _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n    const media = this.player.media || this.player.video;\n    const hidden = document.hidden;\n    const { paused, readyState, currentTime, buffered } = media;\n    if (hidden || paused || readyState < 4) {\n      return;\n    }\n    const { enoughBuffer, buffers } = this._checkBuffer(currentTime, buffered);\n    if (!enoughBuffer) {\n      return;\n    }\n    if (curDecodedFrames <= this.config.reportFrame) {\n      this._currentStuckCount++;\n      this._payload.push({ currentTime, buffers, curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval });\n      if (this._currentStuckCount >= this.config.stuckCount) {\n        this.emit(FPS_STUCK, this._payload);\n        this._reset();\n      }\n    } else {\n      this._reset();\n    }\n  }\n  _reset() {\n    this._payload = [];\n    this._currentStuckCount = 0;\n  }\n  _checkDecodeFPS() {\n    const media = this.player.media || this.player.video;\n    if (!media) {\n      return;\n    }\n    const { totalVideoFrames, droppedVideoFrames } = media.getVideoPlaybackQuality();\n    const currTime = performance.now();\n    if (totalVideoFrames) {\n      if (this._lastCheckPoint) {\n        const curDecoded = totalVideoFrames - this._lastDecodedFrames;\n        const checkInterval = currTime - this._lastCheckPoint;\n        this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n      }\n    }\n    this._lastDecodedFrames = totalVideoFrames;\n    this._lastCheckPoint = currTime;\n  }\n  destroy() {\n    this._stopTick();\n  }\n}\nexport { FpsDetect as default };\n","import sniffer from \"../utils/sniffer.js\";\nimport Controls from \"../plugins/controls/index.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nclass DefaultPreset {\n  constructor(options, playerConfig) {\n    const simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n    const { isLive, controls } = playerConfig;\n    const basePlugin = controls ? [Controls] : [];\n    const vodPlugins = isLive ? basePlugin : [...basePlugin, TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time];\n    const contolsIcons = [\n      ...vodPlugins,\n      Play,\n      Fullscreen,\n      Rotate,\n      PlayNextIcon,\n      DefinitionIcon,\n      PlaybackRate,\n      Download,\n      ScreenShot,\n      Volume,\n      PIP\n    ];\n    const layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n    this.plugins = [...contolsIcons, Stats, XGLogger, ...layers, GapJump, WaitingTimeoutJump];\n    const mode = simulateMode ? \"mobile\" : sniffer.device;\n    switch (mode) {\n      case \"pc\":\n        this.plugins.push(...[Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n        break;\n      case \"mobile\":\n        this.plugins.push(...[MobilePlugin]);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PCPlugin, CssFullScreen]);\n    }\n    if (sniffer.os.isIpad || mode === \"pc\") {\n      this.plugins.push(DynamicBg);\n    }\n    if (sniffer.os.isIpad) {\n      this.plugins.push(PCPlugin);\n    }\n    this.ignores = [];\n    this.i18n = [];\n  }\n}\nexport { DefaultPreset as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport { InstManager } from \"./instManager.js\";\nimport DefaultPreset from \"./presets/default.js\";\nclass PresetPlayer extends Player {\n}\n__publicField(PresetPlayer, \"defaultPreset\", DefaultPreset);\n__publicField(PresetPlayer, \"Util\", util);\n__publicField(PresetPlayer, \"Sniffer\", sniffer);\n__publicField(PresetPlayer, \"Errors\", Errors);\n__publicField(PresetPlayer, \"Events\", events);\n__publicField(PresetPlayer, \"Plugin\", Plugin);\n__publicField(PresetPlayer, \"BasePlugin\", BasePlugin);\n__publicField(PresetPlayer, \"I18N\", I18N);\n__publicField(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\n__publicField(PresetPlayer, \"InstManager\", InstManager);\nexport { PresetPlayer as default };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a = [null];\n      a.push.apply(a, args2);\n      var Constructor = Function.bind.apply(Parent2, a);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? /* @__PURE__ */ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _construct as construct, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeFunction as isNativeFunction, _isNativeReflectConstruct as isNativeReflectConstruct, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray, _wrapNativeSuper as wrapNativeSuper };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar _ERR_CODE;\nvar ERR = {\n  MANIFEST: \"manifest\",\n  NETWORK: \"network\",\n  NETWORK_TIMEOUT: \"network_timeout\",\n  NETWORK_FORBIDDEN: \"network_forbidden\",\n  NETWORK_NOTFOUND: \"network_notfound\",\n  NETWROK_RANGE_NOT_SATISFIABLE: \"network_range_not_satisfiable\",\n  DEMUX: \"demux\",\n  REMUX: \"remux\",\n  MEDIA: \"media\",\n  DRM: \"drm\",\n  OTHER: \"other\",\n  RUNTIME: \"runtime\",\n  SUB_TYPES: {\n    FLV: \"FLV\",\n    HLS: \"HLS\",\n    MP4: \"MP4\",\n    FMP4: \"FMP4\",\n    MSE_ADD_SB: \"MSE_ADD_SB\",\n    MSE_APPEND_BUFFER: \"MSE_APPEND_BUFFER\",\n    MSE_OTHER: \"MSE_OTHER\",\n    MSE_FULL: \"MSE_FULL\",\n    MSE_CHANGE_TYPE: \"MSE_CHANGE_TYPE\",\n    OPTION: \"OPTION\",\n    DASH: \"DASH\",\n    LICENSE: \"LICENSE\",\n    CUSTOM_LICENSE: \"CUSTOM_LICENSE\",\n    MSE_HIJACK: \"MSE_HIJACK\",\n    EME_HIJACK: \"EME_HIJACK\",\n    SIDX: \"SIDX\",\n    NO_CANPLAY_ERROR: \"NO_CANPLAY_ERROR\",\n    BUFFERBREAK_ERROR: \"BUFFERBREAK_ERROR\",\n    WAITING_TIMEOUT_ERROR: \"WAITING_TIMEOUT_ERROR\",\n    MEDIA_ERR_ABORTED: \"MEDIA_ERR_ABORTED\",\n    MEDIA_ERR_NETWORK: \"MEDIA_ERR_NETWORK\",\n    MEDIA_ERR_DECODE: \"MEDIA_ERR_DECODE\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"MEDIA_ERR_SRC_NOT_SUPPORTED\",\n    MEDIA_ERR_CODEC_NOT_SUPPORTED: \"MEDIA_ERR_CODEC_NOT_SUPPORTED\",\n    MEDIA_ERR_URL_EMPTY: \"MEDIA_ERR_URL_EMPTY\"\n  }\n};\nvar ERR_CODE = (_ERR_CODE = {}, _defineProperty(_ERR_CODE, ERR.MANIFEST, {\n  HLS: 1100,\n  DASH: 1200\n}), _defineProperty(_ERR_CODE, ERR.NETWORK, 2100), _defineProperty(_ERR_CODE, ERR.NETWORK_TIMEOUT, 2101), _defineProperty(_ERR_CODE, ERR.NETWORK_FORBIDDEN, 2103), _defineProperty(_ERR_CODE, ERR.NETWORK_NOTFOUND, 2104), _defineProperty(_ERR_CODE, ERR.NETWROK_RANGE_NOT_SATISFIABLE, 2116), _defineProperty(_ERR_CODE, ERR.DEMUX, {\n  FLV: 3100,\n  HLS: 3200,\n  MP4: 3300,\n  FMP4: 3400,\n  SIDX: 3410\n}), _defineProperty(_ERR_CODE, ERR.REMUX, {\n  FMP4: 4100,\n  MP4: 4200\n}), _defineProperty(_ERR_CODE, ERR.MEDIA, {\n  MEDIA_ERR_ABORTED: 5101,\n  MEDIA_ERR_NETWORK: 5102,\n  MEDIA_ERR_DECODE: 5103,\n  MEDIA_ERR_SRC_NOT_SUPPORTED: 5104,\n  MEDIA_ERR_CODEC_NOT_SUPPORTED: 5105,\n  MEDIA_ERR_URL_EMPTY: 5106,\n  MSE_ADD_SB: 5200,\n  MSE_APPEND_BUFFER: 5201,\n  MSE_OTHER: 5202,\n  MSE_FULL: 5203,\n  MSE_HIJACK: 5204,\n  MSE_CHANGE_TYPE: 5205,\n  EME_HIJACK: 5301\n}), _defineProperty(_ERR_CODE, ERR.DRM, {\n  LICENSE: 7100,\n  CUSTOM_LICENSE: 7200\n}), _defineProperty(_ERR_CODE, ERR.OTHER, 8e3), _defineProperty(_ERR_CODE, ERR.RUNTIME, {\n  NO_CANPLAY_ERROR: 9001,\n  BUFFERBREAK_ERROR: 9002,\n  WAITING_TIMEOUT_ERROR: 9003\n}), _ERR_CODE);\nvar StreamingError = /* @__PURE__ */ function(_Error) {\n  _inherits(StreamingError2, _Error);\n  var _super = _createSuper(StreamingError2);\n  function StreamingError2(type, subType, origin, payload, msg) {\n    var _this;\n    _classCallCheck(this, StreamingError2);\n    _this = _super.call(this, msg || (origin === null || origin === void 0 ? void 0 : origin.message));\n    _this.errorType = type === ERR.NETWORK_TIMEOUT ? ERR.NETWORK : type;\n    _this.originError = origin;\n    _this.ext = payload;\n    _this.errorCode = ERR_CODE[type][subType] || ERR_CODE[type];\n    _this.errorMessage = _this.message;\n    if (!_this.errorCode) {\n      _this.errorType = ERR.OTHER;\n      _this.errorCode = ERR_CODE[_this.errorType];\n    }\n    return _this;\n  }\n  _createClass(StreamingError2, null, [{\n    key: \"create\",\n    value: function create(type, subType, origin, payload, msg) {\n      if (type instanceof StreamingError2) {\n        return type;\n      } else if (type instanceof Error) {\n        origin = type;\n        type = \"\";\n      }\n      if (!type)\n        type = ERR.OTHER;\n      return new StreamingError2(type, subType, origin, payload, msg);\n    }\n  }, {\n    key: \"network\",\n    value: function network(error) {\n      var _error$response;\n      return new StreamingError2(error !== null && error !== void 0 && error.isTimeout ? ERR.NETWORK_TIMEOUT : ERR.NETWORK, null, error instanceof Error ? error : null, {\n        url: error === null || error === void 0 ? void 0 : error.url,\n        response: error === null || error === void 0 ? void 0 : error.response,\n        httpCode: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status\n      });\n    }\n  }]);\n  return StreamingError2;\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { ERR, ERR_CODE, StreamingError };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n  }\n  _createClass(Buffer2, null, [{\n    key: \"start\",\n    value: function start(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      if (buf.length === 1 && buf.start(0) < 0)\n        return 0;\n      return buf.start(0);\n    }\n  }, {\n    key: \"end\",\n    value: function end(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      return buf.end(buf.length - 1);\n    }\n  }, {\n    key: \"get\",\n    value: function get(b) {\n      if (!b)\n        return;\n      try {\n        return b.buffered;\n      } catch (error) {\n      }\n    }\n  }, {\n    key: \"buffers\",\n    value: function buffers(buf, maxHole) {\n      if (!buf || !buf.length)\n        return [];\n      var buffers2 = [];\n      for (var i = 0, l = buf.length; i < l; i++) {\n        var bufLen = buffers2.length;\n        if (!bufLen || !maxHole) {\n          buffers2.push([buf.start(i), buf.end(i)]);\n        } else {\n          var last = buffers2[bufLen - 1];\n          var lastEnd = last[1];\n          var start = buf.start(i);\n          if (start - lastEnd <= maxHole) {\n            var end = buf.end(i);\n            if (end > lastEnd) {\n              last[1] = end;\n            }\n          } else {\n            buffers2.push([buf.start(i), buf.end(i)]);\n          }\n        }\n      }\n      return buffers2;\n    }\n  }, {\n    key: \"totalLength\",\n    value: function totalLength(buffers) {\n      if (!buffers || !buffers.length)\n        return 0;\n      return buffers.reduce(function(a, c) {\n        return a += c[1] - c[0];\n      }, 0);\n    }\n  }, {\n    key: \"info\",\n    value: function info(buf) {\n      var pos = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var maxHole = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      if (!buf || !buf.length)\n        return {\n          start: 0,\n          end: 0,\n          buffers: []\n        };\n      var start = 0;\n      var end = 0;\n      var index = 0;\n      var nextStart = 0;\n      var nextEnd = 0;\n      var prevStart = 0;\n      var prevEnd = 0;\n      var buffers = Buffer2.buffers(buf, maxHole);\n      for (var i = 0, l = buffers.length; i < l; i++) {\n        var item = buffers[i];\n        if (pos + maxHole >= item[0] && pos <= item[1]) {\n          start = item[0];\n          end = item[1];\n          index = i;\n        } else if (pos + maxHole < item[0]) {\n          nextStart = item[0];\n          nextEnd = item[1];\n          break;\n        } else if (pos + maxHole > item[1]) {\n          prevStart = item[0];\n          prevEnd = item[1];\n        }\n      }\n      return {\n        start,\n        end,\n        index,\n        buffers,\n        nextStart,\n        nextEnd,\n        prevStart,\n        prevEnd,\n        currentTime: pos,\n        behind: pos - start,\n        remaining: end ? end - pos : 0,\n        length: Buffer2.totalLength && Buffer2.totalLength(buffers)\n      };\n    }\n  }, {\n    key: \"isBuffered\",\n    value: function isBuffered(media, pos) {\n      if (media) {\n        var buffered = Buffer2.get(media);\n        if (buffered !== null && buffered !== void 0 && buffered.length) {\n          for (var i = 0; i < buffered.length; i++) {\n            if (pos >= buffered.start(i) && pos <= buffered.end(i)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer };\n","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar LogCacheLevel = {\n  \"DEBUG\": 1,\n  \"LOG\": 2,\n  \"WARN\": 3,\n  \"ERROR\": 4\n};\nvar LOG_MAX_SIZE = 200 * 1024;\nvar SIMPLE_TYPE = [\"Boolean\", \"Number\", \"String\", \"Undefined\", \"Null\", \"Date\", \"Object\"];\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, config) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    this.logCacheLevel = (config === null || config === void 0 ? void 0 : config.logCacheLevel) || 3;\n    this.logMaxSize = (config === null || config === void 0 ? void 0 : config.logMaxSize) || LOG_MAX_SIZE;\n    this.logSize = 0;\n    this.logTextArray = [];\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.logCache.apply(this, [LogCacheLevel.DEBUG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console = console).debug.apply(_console, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      this.logCache.apply(this, [LogCacheLevel.LOG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console2 = console).log.apply(_console2, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      this.logCache.apply(this, [LogCacheLevel.WARN].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console3 = console).warn.apply(_console3, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      this.logCache.apply(this, [LogCacheLevel.ERROR].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console4 = console).error.apply(_console4, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"logCache\",\n    value: function logCache(logCacheLevel) {\n      if (logCacheLevel < this.logCacheLevel)\n        return;\n      var text = \"\";\n      try {\n        for (var _len5 = arguments.length, logText = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n          logText[_key5 - 1] = arguments[_key5];\n        }\n        var finLogText = logText.map(function(item) {\n          return logable(item);\n        });\n        text = \"[\".concat(nowTime(), \"]\") + this._prefix + JSON.stringify(finLogText);\n      } catch (e) {\n        return;\n      }\n      if (logCacheLevel >= this.logCacheLevel) {\n        this.logSize += text.length;\n        this.logTextArray.push(text);\n      }\n      if (this.logSize > this.logMaxSize) {\n        var delLog = this.logTextArray.shift();\n        this.logSize -= delLog.length;\n      }\n    }\n  }, {\n    key: \"getLogCache\",\n    value: function getLogCache() {\n      var logText = this.logTextArray.join(\"\\n\");\n      this.reset();\n      return logText;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.logTextArray = [];\n      this.logSize = 0;\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }, {\n    key: \"setLogLevel\",\n    value: function setLogLevel(val) {\n      this.logCacheLevel = val;\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nfunction nowTime() {\n  return new Date().toLocaleString();\n}\nfunction reduceDepth(val) {\n  if (_typeof(val) !== \"object\") {\n    return val;\n  }\n  var objType = Object.prototype.toString.call(val).slice(8, -1);\n  switch (objType) {\n    case \"Array\":\n    case \"Uint8Array\":\n    case \"ArrayBuffer\":\n      return objType + \"[\" + val.length + \"]\";\n    case \"Object\":\n      return \"{}\";\n    default:\n      return objType;\n  }\n}\nfunction logable(obj, maxDepth, depth) {\n  if (!depth)\n    depth = 1;\n  if (!maxDepth)\n    maxDepth = 2;\n  var result = {};\n  if (!obj || _typeof(obj) !== \"object\") {\n    return obj;\n  }\n  var objType = Object.prototype.toString.call(obj).slice(8, -1);\n  if (!SIMPLE_TYPE.includes(objType)) {\n    return objType;\n  }\n  if (depth > maxDepth) {\n    return void 0;\n  }\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (depth === maxDepth) {\n        result[key] = reduceDepth(obj[key]);\n      } else if (_typeof(obj[key]) === \"object\") {\n        result[key] = logable(obj[key], maxDepth, depth + 1);\n      } else {\n        result[key] = obj[key];\n      }\n    }\n  }\n  return result;\n}\nexport { LogCacheLevel, Logger };\n","function createPublicPromise() {\n  var res, rej;\n  var promise = new Promise(function(resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.used = false;\n  promise.resolve = function() {\n    promise.used = true;\n    return res.apply(void 0, arguments);\n  };\n  promise.reject = function() {\n    promise.used = true;\n    return rej.apply(void 0, arguments);\n  };\n  return promise;\n}\nfunction nowTime() {\n  try {\n    return parseInt(performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nvar SafeJSON = {\n  stringify: function stringify(obj) {\n    try {\n      return JSON.stringify(obj);\n    } catch (e) {\n      return \"\";\n    }\n  },\n  parse: function parse(obj) {\n    try {\n      return JSON.parse(obj);\n    } catch (e) {\n      return void 0;\n    }\n  }\n};\nexport { SafeJSON, createPublicPromise, nowTime };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper, typeof as _typeof, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"./buffer.js\";\nimport { isBrowser } from \"./env.js\";\nimport { StreamingError, ERR } from \"./error.js\";\nimport { Logger } from \"./logger.js\";\nimport { createPublicPromise, nowTime, SafeJSON } from \"./utils.js\";\nfunction getMediaSource() {\n  var preferMMS = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n  try {\n    if (!isBrowser)\n      return null;\n    if (preferMMS && typeof ManagedMediaSource !== \"undefined\")\n      return ManagedMediaSource;\n    return window.MediaSource;\n  } catch (e) {\n  }\n}\nfunction isMMS(mediaSource) {\n  return /ManagedMediaSource/gi.test(Object.prototype.toString.call(mediaSource));\n}\nfunction getTimeRanges(buffered) {\n  var ranges = [];\n  if (buffered instanceof TimeRanges) {\n    for (var i = 0; i < buffered.length; i++) {\n      ranges.push({\n        start: buffered.start(i),\n        end: buffered.end(i)\n      });\n    }\n  }\n  return ranges;\n}\nvar MSEErrorType = {\n  UPDATE_ERROR: \"updateError\"\n};\nvar OP_NAME = {\n  APPEND: \"appendBuffer\",\n  REMOVE: \"removeBuffer\",\n  UPDATE_DURATION: \"updateDuration\"\n};\nvar MSEError = /* @__PURE__ */ function(_Error) {\n  _inherits(MSEError2, _Error);\n  var _super = _createSuper(MSEError2);\n  function MSEError2(type, msg) {\n    var _this;\n    _classCallCheck(this, MSEError2);\n    _this = _super.call(this, msg || type);\n    _this.type = type;\n    _this.msg = msg;\n    return _this;\n  }\n  return _createClass(MSEError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nvar MSE = /* @__PURE__ */ function() {\n  function MSE2(media, config) {\n    var _this2 = this;\n    _classCallCheck(this, MSE2);\n    _defineProperty(this, \"media\", null);\n    _defineProperty(this, \"mediaSource\", null);\n    _defineProperty(this, \"_openPromise\", createPublicPromise());\n    _defineProperty(this, \"_queue\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_sourceBuffer\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_mseFullFlag\", {});\n    _defineProperty(this, \"_st\", 0);\n    _defineProperty(this, \"_opst\", 0);\n    _defineProperty(this, \"_logger\", null);\n    _defineProperty(this, \"_config\", null);\n    _defineProperty(this, \"_url\", null);\n    _defineProperty(this, \"_onStartStreaming\", function() {\n      _this2._logger.debug(\"startstreaming\");\n    });\n    _defineProperty(this, \"_onEndStreaming\", function() {\n      _this2._logger.debug(\"endstreaming\");\n    });\n    _defineProperty(this, \"_onSBUpdateEnd\", function(type) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (!((op === null || op === void 0 ? void 0 : op.opName) === OP_NAME.UPDATE_DURATION)) {\n          queue.shift();\n        }\n        if (op) {\n          var _this2$_sourceBuffer$, _op$context;\n          var costtime = nowTime() - _this2._opst;\n          _this2._logger.debug(\"UpdateEnd(\".concat(type, \"/\").concat(op.opName, \")\"), SafeJSON.stringify(getTimeRanges((_this2$_sourceBuffer$ = _this2._sourceBuffer[type]) === null || _this2$_sourceBuffer$ === void 0 ? void 0 : _this2$_sourceBuffer$.buffered)), costtime, op.context);\n          op.promise.resolve({\n            name: op.opName,\n            context: op.context,\n            costtime\n          });\n          var callback = (_op$context = op.context) === null || _op$context === void 0 ? void 0 : _op$context.callback;\n          if (callback && typeof callback === \"function\") {\n            callback(op.context);\n          }\n          _this2._startQueue(type);\n        }\n      }\n    });\n    _defineProperty(this, \"_onSBUpdateError\", function(type, event) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op) {\n          _this2._logger.error(\"UpdateError\", type, op.opName, op.context);\n          op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_APPEND_BUFFER, event));\n        }\n      }\n    });\n    this._config = Object.assign(MSE2.getDefaultConfig(), config);\n    if (media)\n      this.bindMedia(media);\n    this._logger = new Logger(\"MSE\");\n    if (this._config.openLog) {\n      Logger.enable();\n    }\n  }\n  _createClass(MSE2, [{\n    key: \"isOpened\",\n    get: function get() {\n      var _this$mediaSource;\n      return ((_this$mediaSource = this.mediaSource) === null || _this$mediaSource === void 0 ? void 0 : _this$mediaSource.readyState) === \"open\";\n    }\n  }, {\n    key: \"hasOpTasks\",\n    get: function get() {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this._queue).forEach(function(k) {\n        var queue = _this3._queue[k];\n        if (Array.isArray(queue)) {\n          flag || (flag = queue.length > 0);\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this._url;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      var _this$mediaSource2;\n      return ((_this$mediaSource2 = this.mediaSource) === null || _this$mediaSource2 === void 0 ? void 0 : _this$mediaSource2.duration) || -1;\n    }\n  }, {\n    key: \"isEnded\",\n    get: function get() {\n      return this.mediaSource ? this.mediaSource.readyState === \"ended\" : false;\n    }\n  }, {\n    key: \"streaming\",\n    get: function get() {\n      return isMMS(this.mediaSource) ? this.mediaSource.streaming : true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull(type) {\n      return type ? this._mseFullFlag[type] : this._mseFullFlag[MSE2.VIDEO];\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this4 = this;\n      var isReduceDuration = this.mediaSource && this.mediaSource.duration > duration;\n      if (this.mediaSource && this.mediaSource.duration > duration) {\n        var bufferEnd = 0;\n        Object.keys(this._sourceBuffer).forEach(function(k) {\n          try {\n            bufferEnd = Math.max(_this4.bufferEnd(k) || 0, bufferEnd);\n          } catch (error) {\n          }\n        });\n        if (duration < bufferEnd) {\n          return Promise.resolve();\n        }\n      }\n      return this._enqueueBlockingOp(function() {\n        if (_this4.isEnded) {\n          _this4._logger.debug(\"setDuration but ended\");\n          return;\n        }\n        if (_this4.mediaSource) {\n          _this4.mediaSource.duration = duration;\n          _this4._logger.debug(\"setDuration\", duration);\n        }\n      }, OP_NAME.UPDATE_DURATION, {\n        isReduceDuration\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this5 = this;\n      if (this._openPromise.used && !this.isOpened && this.mediaSource) {\n        var ms = this.mediaSource;\n        var onOpen = function onOpen2() {\n          var costTime = nowTime() - _this5._st;\n          _this5._logger.debug(\"sourceopen\", costTime);\n          ms.removeEventListener(\"sourceopen\", onOpen2);\n          _this5._openPromise.resolve({\n            costtime: costTime\n          });\n        };\n        ms.addEventListener(\"sourceopen\", onOpen);\n        this._openPromise = createPublicPromise();\n      }\n      return this._openPromise;\n    }\n  }, {\n    key: \"bindMedia\",\n    value: function() {\n      var _bindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(media) {\n        var _this6 = this;\n        var MediaSource2, ms, useMMS, onOpen;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.mediaSource || this.media)) {\n                  _context.next = 3;\n                  break;\n                }\n                _context.next = 3;\n                return this.unbindMedia();\n              case 3:\n                MediaSource2 = getMediaSource(this._config.preferMMS);\n                if (!(!media || !MediaSource2)) {\n                  _context.next = 6;\n                  break;\n                }\n                throw new Error(\"Param media or MediaSource does not exist\");\n              case 6:\n                this.media = media;\n                ms = this.mediaSource = new MediaSource2();\n                useMMS = isMMS(ms);\n                this._st = nowTime();\n                onOpen = function onOpen2() {\n                  var costTime = nowTime() - _this6._st;\n                  _this6._logger.debug(\"sourceopen\");\n                  ms.removeEventListener(\"sourceopen\", onOpen2);\n                  URL.revokeObjectURL(media.src);\n                  _this6._openPromise.resolve({\n                    costtime: costTime\n                  });\n                };\n                ms.addEventListener(\"sourceopen\", onOpen);\n                if (useMMS) {\n                  ms.addEventListener(\"startstreaming\", this._onStartStreaming);\n                  ms.addEventListener(\"endstreaming\", this._onEndStreaming);\n                }\n                this._url = URL.createObjectURL(ms);\n                media.src = this._url;\n                media.disableRemotePlayback = useMMS;\n                return _context.abrupt(\"return\", this._openPromise);\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function bindMedia(_x) {\n        return _bindMedia.apply(this, arguments);\n      }\n      return bindMedia;\n    }()\n  }, {\n    key: \"unbindMedia\",\n    value: function() {\n      var _unbindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        var _this7 = this;\n        var ms, hasMetadata, mseOpen;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._openPromise.used)\n                  this._openPromise.resolve();\n                ms = this.mediaSource;\n                if (ms) {\n                  Object.keys(this._queue).forEach(function(t) {\n                    var queue = _this7._queue[t];\n                    if (queue) {\n                      queue.forEach(function(x) {\n                        var _x$promise, _x$promise$resolve;\n                        return (_x$promise = x.promise) === null || _x$promise === void 0 ? void 0 : (_x$promise$resolve = _x$promise.resolve) === null || _x$promise$resolve === void 0 ? void 0 : _x$promise$resolve.call(_x$promise);\n                      });\n                    }\n                  });\n                  hasMetadata = !!this.media && this.media.readyState >= 1;\n                  mseOpen = ms.readyState === \"open\";\n                  if (hasMetadata && mseOpen) {\n                    try {\n                      ms.endOfStream();\n                    } catch (error) {\n                    }\n                  }\n                  Object.keys(this._sourceBuffer).forEach(function(k) {\n                    try {\n                      ms.removeSourceBuffer(_this7._sourceBuffer[k]);\n                    } catch (error) {\n                    }\n                  });\n                  if (isMMS(ms)) {\n                    ms.removeEventListener(\"startstreaming\", this._onStartStreaming);\n                    ms.removeEventListener(\"endstreaming\", this._onEndStreaming);\n                  }\n                }\n                if (this.media) {\n                  this.media.disableRemotePlayback = false;\n                  this.media.removeAttribute(\"src\");\n                  try {\n                    this.media.load();\n                  } catch (error) {\n                  }\n                  this.media = null;\n                }\n                this.mediaSource = null;\n                this._openPromise = createPublicPromise();\n                this._queue = /* @__PURE__ */ Object.create(null);\n                this._sourceBuffer = /* @__PURE__ */ Object.create(null);\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function unbindMedia() {\n        return _unbindMedia.apply(this, arguments);\n      }\n      return unbindMedia;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(type, mimeType) {\n      if (this._sourceBuffer[type] || !this.mediaSource)\n        return;\n      var sb;\n      try {\n        sb = this._sourceBuffer[type] = this.mediaSource.addSourceBuffer(mimeType);\n      } catch (error) {\n        throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_ADD_SB, error);\n      }\n      sb.mimeType = mimeType;\n      sb.addEventListener(\"updateend\", this._onSBUpdateEnd.bind(this, type));\n      sb.addEventListener(\"error\", this._onSBUpdateError.bind(this, type));\n    }\n  }, {\n    key: \"changeType\",\n    value: function changeType(type, mimeType) {\n      var _this8 = this;\n      var sb = this._sourceBuffer[type];\n      if (!this.mediaSource || !sb || sb.mimeType === mimeType)\n        return Promise.resolve();\n      if (typeof sb.changeType !== \"function\") {\n        return Promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, new Error(\"changeType is not a function\")));\n      }\n      return this._enqueueOp(type, function() {\n        try {\n          sb.changeType(mimeType);\n        } catch (e) {\n          throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, e);\n        }\n        sb.mimeType = mimeType;\n        _this8._onSBUpdateEnd(type);\n      }, \"changeType\", {\n        mimeType\n      });\n    }\n  }, {\n    key: \"createOrChangeSource\",\n    value: function createOrChangeSource(type, mimeType) {\n      this.createSource(type, mimeType);\n      return this.changeType(type, mimeType);\n    }\n  }, {\n    key: \"append\",\n    value: function append(type, buffer, context) {\n      var _this9 = this;\n      if (!buffer || !buffer.byteLength) {\n        return Promise.resolve();\n      }\n      if (!this._sourceBuffer[type])\n        return Promise.resolve();\n      return this._enqueueOp(type, function() {\n        var _this9$_sourceBuffer$;\n        if (!_this9.mediaSource || _this9.media.error)\n          return;\n        _this9._logger.debug(\"MSE APPEND START\", context);\n        _this9._opst = nowTime();\n        (_this9$_sourceBuffer$ = _this9._sourceBuffer[type]) === null || _this9$_sourceBuffer$ === void 0 ? void 0 : _this9$_sourceBuffer$.appendBuffer(buffer);\n      }, OP_NAME.APPEND, context);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, startTime, endTime, context) {\n      var _this10 = this;\n      var isInsertHead = false;\n      if (this._mseFullFlag[type]) {\n        isInsertHead = true;\n      }\n      return this._enqueueOp(type, function() {\n        if (!_this10.mediaSource || _this10.media.error)\n          return;\n        var sb = _this10._sourceBuffer[type];\n        if (startTime >= endTime || !sb) {\n          _this10._onSBUpdateEnd(type);\n          return;\n        }\n        _this10._opst = nowTime();\n        _this10._logger.debug(\"MSE REMOVE START\", type, startTime, endTime, context);\n        sb.remove(startTime, endTime);\n      }, OP_NAME.REMOVE, context, isInsertHead);\n    }\n  }, {\n    key: \"clearBuffer\",\n    value: function clearBuffer(startTime, endTime) {\n      var _this11 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        p = _this11.remove(k, startTime, endTime);\n      });\n      return p || Promise.resolve();\n    }\n  }, {\n    key: \"clearAllBuffer\",\n    value: function clearAllBuffer() {\n      var _this12 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        var sb = _this12._sourceBuffer[k];\n        p = _this12.remove(k, 0, Buffer.end(Buffer.get(sb)));\n      });\n      return p;\n    }\n  }, {\n    key: \"clearOpQueues\",\n    value: function clearOpQueues(type, allClear) {\n      var _this$_queue$type;\n      this._logger.debug(\"MSE clearOpQueue START\");\n      var queue = this._queue[type];\n      if (allClear && queue) {\n        this._queue[type] = [];\n        return;\n      }\n      if (!queue || !queue[type] || queue.length < 5)\n        return;\n      var initQueue = [];\n      queue.forEach(function(op) {\n        if (op.context && op.context.isinit) {\n          initQueue.push(op);\n        }\n      });\n      this._queue[type] = queue.slice(0, 2);\n      initQueue.length > 0 && (_this$_queue$type = this._queue[type]).push.apply(_this$_queue$type, initQueue);\n    }\n  }, {\n    key: \"endOfStream\",\n    value: function endOfStream(reason) {\n      var _this13 = this;\n      if (!this.mediaSource || this.mediaSource.readyState !== \"open\")\n        return Promise.resolve();\n      return this._enqueueBlockingOp(function() {\n        var ms = _this13.mediaSource;\n        if (!ms || ms.readyState !== \"open\")\n          return;\n        _this13._logger.debug(\"MSE endOfStream START\");\n        if (reason) {\n          ms.endOfStream(reason);\n        } else {\n          ms.endOfStream();\n        }\n      }, \"endOfStream\");\n    }\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function setLiveSeekableRange(start, end) {\n      var ms = this.mediaSource;\n      if (start < 0 || end < start || !(ms !== null && ms !== void 0 && ms.setLiveSeekableRange) || ms.readyState !== \"open\")\n        return;\n      ms.setLiveSeekableRange(start, end);\n    }\n  }, {\n    key: \"getSourceBuffer\",\n    value: function getSourceBuffer(type) {\n      return this._sourceBuffer[type];\n    }\n  }, {\n    key: \"buffered\",\n    value: function buffered(type) {\n      return Buffer.get(this._sourceBuffer[type]);\n    }\n  }, {\n    key: \"bufferStart\",\n    value: function bufferStart(type) {\n      return Buffer.start(this.buffered(type));\n    }\n  }, {\n    key: \"bufferEnd\",\n    value: function bufferEnd(type) {\n      return Buffer.end(this.buffered(type));\n    }\n  }, {\n    key: \"_enqueueOp\",\n    value: function _enqueueOp(type, exec, opName, context, isInsertHead) {\n      var _this14 = this;\n      if (!this.mediaSource)\n        return Promise.resolve();\n      var queue = this._queue[type] = this._queue[type] || [];\n      var op = {\n        exec,\n        promise: createPublicPromise(),\n        opName,\n        context\n      };\n      if (isInsertHead) {\n        queue.splice(0, 0, op);\n        this._mseFullFlag[type] = false;\n        this._startQueue(type);\n      } else {\n        queue.push(op);\n      }\n      if (this.isOpened || this.isEnded) {\n        if (queue.length === 1) {\n          this._startQueue(type);\n        }\n      } else {\n        this._openPromise.then(function() {\n          if (queue.length === 1) {\n            _this14._startQueue(type);\n          }\n        });\n      }\n      return op.promise;\n    }\n  }, {\n    key: \"_enqueueBlockingOp\",\n    value: function() {\n      var _enqueueBlockingOp2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(exec, opName, context) {\n        var _this15 = this;\n        var types, waiters;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.mediaSource) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\", Promise.resolve());\n              case 2:\n                types = Object.keys(this._sourceBuffer);\n                if (types.length) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\", exec());\n              case 5:\n                waiters = [];\n                types.forEach(function(t) {\n                  var queue = _this15._queue[t];\n                  var prom = createPublicPromise();\n                  waiters.push(prom);\n                  queue.push({\n                    exec: function exec2() {\n                      prom.resolve();\n                    },\n                    promise: prom,\n                    opName,\n                    context\n                  });\n                  if (queue.length === 1) {\n                    _this15._startQueue(t);\n                  }\n                });\n                return _context3.abrupt(\"return\", Promise.all(waiters).then(function() {\n                  try {\n                    return exec();\n                  } finally {\n                    types.forEach(function(t) {\n                      var queue = _this15._queue[t];\n                      var sb = _this15._sourceBuffer[t];\n                      queue === null || queue === void 0 ? void 0 : queue.shift();\n                      if (!sb || !sb.updating) {\n                        _this15._startQueue(t);\n                      }\n                    });\n                  }\n                }));\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _enqueueBlockingOp(_x2, _x3, _x4) {\n        return _enqueueBlockingOp2.apply(this, arguments);\n      }\n      return _enqueueBlockingOp;\n    }()\n  }, {\n    key: \"_startQueue\",\n    value: function _startQueue(type) {\n      var queue = this._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op && !this._mseFullFlag[type]) {\n          try {\n            op.exec();\n          } catch (error) {\n            if (error && error.message && error.message.indexOf(\"SourceBuffer is full\") >= 0) {\n              this._mseFullFlag[type] = true;\n              if (op.context && _typeof(op.context) === \"object\") {\n                op.context.isFull = true;\n              }\n              this._logger.error(\"[MSE error],  context,\", op.context, \" ,name,\", op.opName, \",err,SourceBuffer is full\");\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_FULL, error));\n            } else {\n              this._logger.error(error);\n              op.promise.reject(error.constructor === StreamingError ? error : new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_OTHER, error));\n              queue.shift();\n              this._startQueue(type);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setTimeoffset\",\n    value: function setTimeoffset(type, timestampOffset, context) {\n      var _this16 = this;\n      return this._enqueueOp(type, function() {\n        if (timestampOffset < 0) {\n          timestampOffset += 1e-3;\n        }\n        _this16._sourceBuffer[type].timestampOffset = timestampOffset;\n        _this16._onSBUpdateEnd(type);\n      }, \"setTimeoffset\", context);\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(type, context) {\n      var _this17 = this;\n      if (!this.isOpened) {\n        return Promise.resolve();\n      }\n      return this._enqueueOp(type, function() {\n        _this17._sourceBuffer[type].abort();\n        _this17._onSBUpdateEnd(type);\n      }, \"abort\", context);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n      var MediaSource2 = getMediaSource();\n      if (!MediaSource2)\n        return false;\n      try {\n        return MediaSource2.isTypeSupported(mime);\n      } catch (error) {\n        this._logger.error(mime, error);\n        return false;\n      }\n    }\n  }, {\n    key: \"isMMSOnly\",\n    value: function isMMSOnly() {\n      return typeof ManagedMediaSource !== \"undefined\" && typeof MediaSource === \"undefined\";\n    }\n  }, {\n    key: \"getDefaultConfig\",\n    value: function getDefaultConfig() {\n      return {\n        openLog: false,\n        preferMMS: false\n      };\n    }\n  }]);\n  return MSE2;\n}();\n_defineProperty(MSE, \"VIDEO\", \"video\");\n_defineProperty(MSE, \"AUDIO\", \"audio\");\nexport { MSE, MSEError, MSEErrorType };\n","var EVENT = {\n  ERROR: \"error\",\n  TTFB: \"core.ttfb\",\n  LOAD_START: \"core.loadstart\",\n  LOAD_RESPONSE_HEADERS: \"core.loadresponseheaders\",\n  LOAD_COMPLETE: \"core.loadcomplete\",\n  LOAD_RETRY: \"core.loadretry\",\n  SOURCEBUFFER_CREATED: \"core.sourcebuffercreated\",\n  MEDIASOURCE_OPENED: \"core.mediasourceopened\",\n  ANALYZE_DURATION_EXCEEDED: \"core.analyzedurationexceeded\",\n  APPEND_BUFFER: \"core.appendbuffer\",\n  REMOVE_BUFFER: \"core.removebuffer\",\n  BUFFEREOS: \"core.buffereos\",\n  KEYFRAME: \"core.keyframe\",\n  CHASEFRAME: \"core.chaseframe\",\n  METADATA_PARSED: \"core.metadataparsed\",\n  SEI: \"core.sei\",\n  SEI_IN_TIME: \"core.seiintime\",\n  FLV_SCRIPT_DATA: \"core.flvscriptdata\",\n  LOWDECODE: \"core.lowdecode\",\n  SWITCH_URL_SUCCESS: \"core.switchurlsuccess\",\n  SWITCH_URL_FAILED: \"core.switchurlfailed\",\n  SPEED: \"core.speed\",\n  HLS_MANIFEST_LOADED: \"core.hlsmanifestloaded\",\n  HLS_LEVEL_LOADED: \"core.hlslevelloaded\",\n  DEMUXED_TRACK: \"core.demuxedtrack\",\n  STREAM_EXCEPTION: \"core.streamexception\",\n  LARGE_AV_FIRST_FRAME_GAP_DETECT: \"LARGE_AV_FIRST_FRAME_GAP_DETECT\",\n  LARGE_VIDEO_DTS_GAP_DETECT: \"LARGE_VIDEO_DTS_GAP_DETECT\",\n  LARGE_AUDIO_DTS_GAP_DETECT: \"LARGE_AUDIO_DTS_GAP_DETECT\",\n  AUDIO_GAP_DETECT: \"AUDIO_GAP_DETECT\",\n  AUDIO_OVERLAP_DETECT: \"AUDIO_OVERLAP_DETECT\",\n  MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT: \"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT\",\n  REAL_TIME_SPEED: \"real_time_speed\"\n};\nexport { EVENT };\n","function isMediaPlaying(media) {\n  return media && !media.paused && !media.ended && media.playbackRate !== 0 && media.readyState !== 0;\n}\nfunction getVideoPlaybackQuality(video) {\n  if (!video)\n    return {};\n  if (typeof video.getVideoPlaybackQuality === \"function\") {\n    var info = video.getVideoPlaybackQuality();\n    return {\n      droppedVideoFrames: info.droppedVideoFrames || info.corruptedVideoFrames,\n      totalVideoFrames: info.totalVideoFrames,\n      creationTime: info.creationTime\n    };\n  }\n  return {\n    droppedVideoFrames: video.webkitDroppedFrameCount,\n    totalVideoFrames: video.webkitDecodedFrameCount,\n    creationTime: performance.now()\n  };\n}\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  if (arr.length < 2)\n    return arr[0];\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nfunction sleep() {\n  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  return new Promise(function(resolve) {\n    return setTimeout(resolve, t);\n  });\n}\nexport { concatUint8Array, getVideoPlaybackQuality, isMediaPlaying, sleep };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"../event.js\";\nvar SeiService = /* @__PURE__ */ function() {\n  function SeiService2(emitter) {\n    var _this = this;\n    _classCallCheck(this, SeiService2);\n    _defineProperty(this, \"_seiSet\", /* @__PURE__ */ new Set());\n    this.emitter = emitter;\n    emitter.on(EVENT.SEI, function(sei) {\n      if (sei)\n        _this._seiSet.add(sei);\n    });\n  }\n  _createClass(SeiService2, [{\n    key: \"throw\",\n    value: function _throw(currentTime, isLive) {\n      var _this2 = this;\n      if (currentTime === null || currentTime === void 0 || !this._seiSet.size)\n        return;\n      var min = currentTime - 0.2;\n      var max = currentTime + 0.2;\n      var toThrow = [];\n      this._seiSet.forEach(function(sei) {\n        if (sei.time >= min && sei.time <= max) {\n          toThrow.push(sei);\n        }\n      });\n      toThrow.forEach(function(sei) {\n        _this2._seiSet.delete(sei);\n        _this2.emitter.emit(EVENT.SEI_IN_TIME, sei);\n      });\n      if (!isLive)\n        return;\n      this._seiSet.forEach(function(s) {\n        if (s.time < currentTime - 5) {\n          _this2._seiSet.delete(s);\n        }\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._seiSet.clear();\n    }\n  }]);\n  return SeiService2;\n}();\nexport { SeiService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"../buffer.js\";\nvar GapService = /* @__PURE__ */ function() {\n  function GapService2() {\n    _classCallCheck(this, GapService2);\n    _defineProperty(this, \"_prevCurrentTime\", 0);\n  }\n  _createClass(GapService2, [{\n    key: \"do\",\n    value: function _do(media) {\n      var maxJumpDistance = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n      var isLive = arguments.length > 2 ? arguments[2] : void 0;\n      var seekThreshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;\n      if (!media)\n        return;\n      var currentTime = media.currentTime;\n      var jumpTo = 0;\n      if (this._prevCurrentTime === currentTime) {\n        var info = Buffer.info(Buffer.get(media), currentTime);\n        if (!info.buffers.length)\n          return;\n        if (isLive && info.nextStart || info.nextStart && info.nextStart - currentTime < maxJumpDistance) {\n          jumpTo = info.nextStart + 0.1;\n        } else if (info.end && info.end - currentTime > seekThreshold && !media.seeking) {\n          jumpTo = currentTime + 0.1;\n        }\n      }\n      this._prevCurrentTime = currentTime;\n      if (jumpTo && currentTime !== jumpTo) {\n        media.currentTime = jumpTo;\n      }\n    }\n  }]);\n  return GapService2;\n}();\nexport { GapService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../mse.js\";\nimport { EVENT } from \"../event.js\";\nimport \"eventemitter3\";\nimport \"../logger.js\";\nimport \"../error.js\";\nvar Stats = /* @__PURE__ */ function() {\n  function Stats2(timescale) {\n    _classCallCheck(this, Stats2);\n    _defineProperty(this, \"encodeType\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"domain\", \"\");\n    _defineProperty(this, \"fps\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"samplerate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"gop\", 0);\n    _defineProperty(this, \"_bitsAccumulateSize\", 0);\n    _defineProperty(this, \"_bitsAccumulateDuration\", 0);\n    _defineProperty(this, \"_startGopId\", -1);\n    this._timescale = timescale;\n  }\n  _createClass(Stats2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return {\n        encodeType: this.encodeType,\n        audioCodec: this.audioCodec,\n        videoCodec: this.videoCodec,\n        domain: this.domain,\n        fps: this.fps,\n        bitrate: this.bitrate,\n        width: this.width,\n        height: this.height,\n        samplerate: this.samplerate,\n        channelCount: this.channelCount,\n        gop: this.gop\n      };\n    }\n  }, {\n    key: \"setEncodeType\",\n    value: function setEncodeType(encode) {\n      this.encodeType = encode;\n    }\n  }, {\n    key: \"setFpsFromScriptData\",\n    value: function setFpsFromScriptData(_ref) {\n      var _data$onMetaData;\n      var data = _ref.data;\n      var fps = data === null || data === void 0 ? void 0 : (_data$onMetaData = data.onMetaData) === null || _data$onMetaData === void 0 ? void 0 : _data$onMetaData.framerate;\n      if (fps && fps > 0 && fps < 100) {\n        this.fps = fps;\n      }\n    }\n  }, {\n    key: \"setVideoMeta\",\n    value: function setVideoMeta(track) {\n      this.width = track.width;\n      this.height = track.height;\n      this.videoCodec = track.codec;\n      this.encodeType = track.codecType;\n      if (track.fpsNum && track.fpsDen) {\n        var fps = track.fpsNum / track.fpsDen;\n        if (fps > 0 && fps < 100) {\n          this.fps = fps;\n        }\n      }\n    }\n  }, {\n    key: \"setAudioMeta\",\n    value: function setAudioMeta(track) {\n      this.audioCodec = track.codec;\n      this.samplerate = track.sampleRate;\n      this.channelCount = track.channelCount;\n    }\n  }, {\n    key: \"setDomain\",\n    value: function setDomain(responseUrl) {\n      this.domain = responseUrl.split(\"/\").slice(2, 3)[0];\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(samples) {\n      var _this = this;\n      if (!this.fps || this.fps >= 100) {\n        if (samples.length) {\n          var duration = samples.reduce(function(a, b) {\n            return a += b.duration;\n          }, 0) / samples.length;\n          this.fps = Math.round(this._timescale / duration);\n        }\n      }\n      samples.forEach(function(sample) {\n        if (_this._startGopId === -1) {\n          _this._startGopId = sample.gopId;\n        }\n        if (sample.gopId === _this._startGopId) {\n          _this.gop++;\n        }\n        _this._bitsAccumulateDuration += sample.duration / (_this._timescale / 1e3);\n        _this._bitsAccumulateSize += sample.units.reduce(function(a, c) {\n          return a += c.length;\n        }, 0);\n        if (_this._bitsAccumulateDuration >= 1e3) {\n          _this.bitrate = _this._bitsAccumulateSize * 8;\n          _this._bitsAccumulateDuration = 0;\n          _this._bitsAccumulateSize = 0;\n        }\n      });\n    }\n  }]);\n  return Stats2;\n}();\nvar MediaStatsService = /* @__PURE__ */ function() {\n  function MediaStatsService2(core) {\n    var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;\n    _classCallCheck(this, MediaStatsService2);\n    _defineProperty(this, \"_core\", null);\n    _defineProperty(this, \"_samples\", []);\n    this._core = core;\n    this._timescale = timescale;\n    this._stats = new Stats(timescale);\n    this._bindEvents();\n  }\n  _createClass(MediaStatsService2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      var _this$_core, _this$_core2, _this$_core2$speedInf, _this$_core3, _this$_core3$speedInf, _this$_core4, _this$_core4$speedInf, _this$_core5, _this$_core5$speedInf, _this$_core6, _this$_core6$bufferIn;\n      var _ref2 = ((_this$_core = this._core) === null || _this$_core === void 0 ? void 0 : _this$_core.media) || {}, _ref2$currentTime = _ref2.currentTime, currentTime = _ref2$currentTime === void 0 ? 0 : _ref2$currentTime, _ref2$decodeFps = _ref2.decodeFps, decodeFps = _ref2$decodeFps === void 0 ? 0 : _ref2$decodeFps;\n      return _objectSpread2(_objectSpread2({}, this._stats.getStats()), {}, {\n        downloadSpeed: ((_this$_core2 = this._core) === null || _this$_core2 === void 0 ? void 0 : (_this$_core2$speedInf = _this$_core2.speedInfo) === null || _this$_core2$speedInf === void 0 ? void 0 : _this$_core2$speedInf.call(_this$_core2).speed) || 0,\n        avgSpeed: ((_this$_core3 = this._core) === null || _this$_core3 === void 0 ? void 0 : (_this$_core3$speedInf = _this$_core3.speedInfo) === null || _this$_core3$speedInf === void 0 ? void 0 : _this$_core3$speedInf.call(_this$_core3).avgSpeed) || 0,\n        totalReceivedByte: ((_this$_core4 = this._core) === null || _this$_core4 === void 0 ? void 0 : (_this$_core4$speedInf = _this$_core4.speedInfo) === null || _this$_core4$speedInf === void 0 ? void 0 : _this$_core4$speedInf.call(_this$_core4).totalSize) || 0,\n        totalReceivedCost: ((_this$_core5 = this._core) === null || _this$_core5 === void 0 ? void 0 : (_this$_core5$speedInf = _this$_core5.speedInfo) === null || _this$_core5$speedInf === void 0 ? void 0 : _this$_core5$speedInf.call(_this$_core5).totalCost) || 0,\n        currentTime,\n        bufferEnd: ((_this$_core6 = this._core) === null || _this$_core6 === void 0 ? void 0 : (_this$_core6$bufferIn = _this$_core6.bufferInfo()) === null || _this$_core6$bufferIn === void 0 ? void 0 : _this$_core6$bufferIn.remaining) || 0,\n        decodeFps\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n      this._core.on(EVENT.DEMUXED_TRACK, function(_ref3) {\n        var videoTrack = _ref3.videoTrack;\n        return _this2._stats.updateBitrate(videoTrack.samples);\n      });\n      this._core.on(EVENT.FLV_SCRIPT_DATA, function(data) {\n        _this2._stats.setFpsFromScriptData(data);\n      });\n      this._core.on(EVENT.METADATA_PARSED, function(e) {\n        if (e.type === \"video\") {\n          _this2._stats.setVideoMeta(e.track);\n        } else {\n          _this2._stats.setAudioMeta(e.track);\n        }\n      });\n      this._core.on(EVENT.TTFB, function(e) {\n        _this2._stats.setDomain(e.responseUrl);\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._samples = [];\n      this._stats = new Stats(this._timescale);\n    }\n  }]);\n  return MediaStatsService2;\n}();\nexport { MediaStatsService };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _unsupportedIterableToArray as unsupportedIterableToArray };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n  }\n  _createClass(Logger2, [{\n    key: \"warn\",\n    value: function warn() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).warn.apply(_console, [this._prefix].concat(args));\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","var TrackType = {\n  VIDEO: \"video\",\n  AUDIO: \"audio\",\n  METADATA: \"metadata\"\n};\nvar VideoCodecType = {\n  AV1: \"av1\",\n  AVC: \"avc\",\n  HEVC: \"hevc\"\n};\nvar AudioCodecType = {\n  AAC: \"aac\",\n  G711PCMA: \"g7110a\",\n  G711PCMU: \"g7110m\",\n  OPUS: \"opus\"\n};\nvar WarningType = {\n  LARGE_AV_SHIFT: \"LARGE_AV_SHIFT\",\n  LARGE_VIDEO_GAP: \"LARGE_VIDEO_GAP\",\n  LARGE_VIDEO_GAP_BETWEEN_CHUNK: \"LARGE_VIDEO_GAP_BETWEEN_CHUNK\",\n  LARGE_AUDIO_GAP: \"LARGE_AUDIO_GAP\",\n  AUDIO_FILLED: \"AUDIO_FILLED\",\n  AUDIO_DROPPED: \"AUDIO_DROPPED\"\n};\nexport { AudioCodecType, TrackType, VideoCodecType, WarningType };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar AudioSample = /* @__PURE__ */ _createClass(\n  function AudioSample2(pts, data, duration, sampleOffset) {\n    _classCallCheck(this, AudioSample2);\n    _defineProperty(this, \"duration\", 1024);\n    _defineProperty(this, \"flag\", {\n      dependsOn: 2,\n      isNonSyncSample: 0\n    });\n    _defineProperty(this, \"keyframe\", true);\n    this.originPts = this.pts = this.dts = pts;\n    this.data = data;\n    this.size = data.byteLength;\n    this.sampleOffset = sampleOffset;\n    if (duration)\n      this.duration = duration;\n  }\n);\nexport { AudioSample };\n","var isBrowser = typeof window !== \"undefined\";\nvar ua = isBrowser && navigator.userAgent.toLocaleLowerCase();\nvar isSafari = isBrowser && /^((?!chrome|android).)*safari/.test(ua);\nvar isFirefox = isBrowser && ua.includes(\"firefox\");\nvar isAndroid = isBrowser && ua.includes(\"android\");\nexport { isAndroid, isBrowser, isFirefox, isSafari };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../utils/logger.js\";\nimport { isFirefox, isAndroid } from \"../utils/env.js\";\nvar AAC = /* @__PURE__ */ function() {\n  function AAC2() {\n    _classCallCheck(this, AAC2);\n  }\n  _createClass(AAC2, null, [{\n    key: \"getRateIndexByRate\",\n    value: function getRateIndexByRate(rate) {\n      return AAC2.FREQ.indexOf(rate);\n    }\n  }, {\n    key: \"parseADTS\",\n    value: function parseADTS(data, pts) {\n      var len = data.length;\n      var i = 0;\n      while (i + 2 < len) {\n        if (data[i] === 255 && (data[i + 1] & 246) === 240) {\n          break;\n        }\n        i++;\n      }\n      if (i >= len)\n        return;\n      var skip = i;\n      var frames = [];\n      var samplingFrequencyIndex = (data[i + 2] & 60) >>> 2;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        throw new Error(\"Invalid sampling index: \".concat(samplingFrequencyIndex));\n      var objectType = ((data[i + 2] & 192) >>> 6) + 1;\n      var channelCount = (data[i + 2] & 1) << 2 | (data[i + 3] & 192) >>> 6;\n      var _AAC$_getConfig = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig.config, codec = _AAC$_getConfig.codec;\n      var protectionSkipBytes;\n      var frameLength;\n      var frameIndex = 0;\n      var duration = AAC2.getFrameDuration(sampleRate);\n      while (i + 7 < len) {\n        if (data[i] !== 255 || (data[i + 1] & 246) !== 240) {\n          i++;\n          continue;\n        }\n        frameLength = (data[i + 3] & 3) << 11 | data[i + 4] << 3 | (data[i + 5] & 224) >> 5;\n        if (!frameLength || len - i < frameLength)\n          break;\n        protectionSkipBytes = (~data[i + 1] & 1) * 2;\n        frames.push({\n          pts: pts + frameIndex * duration,\n          data: data.subarray(i + 7 + protectionSkipBytes, i + frameLength)\n        });\n        frameIndex++;\n        i += frameLength;\n      }\n      return {\n        skip,\n        remaining: i >= len ? void 0 : data.subarray(i),\n        frames,\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        codec,\n        config,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"parseAudioSpecificConfig\",\n    value: function parseAudioSpecificConfig(data) {\n      if (!data.length)\n        return;\n      var objectType = data[0] >>> 3;\n      var samplingFrequencyIndex = (data[0] & 7) << 1 | data[1] >>> 7;\n      var channelCount = (data[1] & 120) >>> 3;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        return;\n      var _AAC$_getConfig2 = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig2.config, codec = _AAC$_getConfig2.codec;\n      return {\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        config,\n        codec,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getFrameDuration\",\n    value: function getFrameDuration(rate) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      return 1024 * timescale / rate;\n    }\n  }, {\n    key: \"_getConfig\",\n    value: function _getConfig(samplingIndex, channelCount, originObjectType) {\n      var config = [];\n      var objectType;\n      var extensionSamplingIndex;\n      if (isFirefox) {\n        if (samplingIndex >= 6) {\n          objectType = 5;\n          extensionSamplingIndex = samplingIndex - 3;\n        } else {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      } else if (isAndroid) {\n        objectType = 2;\n        extensionSamplingIndex = samplingIndex;\n      } else {\n        objectType = originObjectType === 2 || originObjectType === 5 ? originObjectType : 5;\n        extensionSamplingIndex = samplingIndex;\n        if (samplingIndex >= 6) {\n          extensionSamplingIndex = samplingIndex - 3;\n        } else if (channelCount === 1) {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      }\n      config[0] = objectType << 3;\n      config[0] |= (samplingIndex & 14) >> 1;\n      config[1] = (samplingIndex & 1) << 7;\n      config[1] |= channelCount << 3;\n      if (objectType === 5) {\n        config[1] |= (extensionSamplingIndex & 14) >> 1;\n        config[2] = (extensionSamplingIndex & 1) << 7;\n        config[2] |= 2 << 2;\n        config[3] = 0;\n      }\n      return {\n        config,\n        codec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getSilentFrame\",\n    value: function getSilentFrame(codec, channelCount) {\n      switch (codec) {\n        case \"mp4a.40.2\":\n          if (channelCount === 1) {\n            return new Uint8Array([0, 200, 0, 128, 35, 128]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);\n          }\n          if (channelCount === 4) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);\n          }\n          if (channelCount === 5) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);\n          }\n          if (channelCount === 6) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);\n          }\n          break;\n        default:\n          if (channelCount === 1) {\n            return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          break;\n      }\n    }\n  }]);\n  return AAC2;\n}();\n_defineProperty(AAC, \"FREQ\", [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]);\nexport { AAC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType } from \"../model/types.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport \"../utils/logger.js\";\nimport { isSafari } from \"../utils/env.js\";\nvar LARGE_AV_FIRST_FRAME_GAP = 9e4 / 2;\nvar AUDIO_GAP_OVERLAP_THRESHOLD_COUNT = 3;\nvar MAX_SILENT_FRAME_DURATION = 9e4;\nvar AUDIO_EXCETION_LOG_EMIT_DURATION = 5 * 9e4;\nvar MAX_VIDEO_FRAME_DURATION = 9e4;\nvar MAX_DTS_DELTA_WITH_NEXT_CHUNK = 9e4 / 2;\nvar LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD = 9e4 * 5;\nvar TsFixer = /* @__PURE__ */ function() {\n  function TsFixer2(videoTrack, audioTrack, metadataTrack, fixerConfig) {\n    _classCallCheck(this, TsFixer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    this.metadataTrack = metadataTrack;\n    this._baseDts = -1;\n    this._baseVideoDts = -1;\n    this._baseAudioDts = -1;\n    this._baseDtsInited = false;\n    this._audioNextPts = void 0;\n    this._videoNextDts = void 0;\n    this._audioTimestampBreak = false;\n    this._videoTimestampBreak = false;\n    this._lastAudioExceptionGapDot = 0;\n    this._lastAudioExceptionOverlapDot = 0;\n    this._lastAudioExceptionLargeGapDot = 0;\n    this._needForceFixLargeGap = fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.forceFixLargeGap;\n    this._largeGapThreshold = (fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.largeGapThreshold) || LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD;\n  }\n  _createClass(TsFixer2, [{\n    key: \"fix\",\n    value: function fix() {\n      var _this = this;\n      var startTime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      startTime = Math.round(startTime * 9e4);\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var vSamples = videoTrack.samples;\n      var aSamples = audioTrack.samples;\n      if (!vSamples.length && !aSamples.length)\n        return;\n      var firstVideoSample = vSamples[0];\n      var firstAudioSample = aSamples[0];\n      var vaDelta = 0;\n      if (vSamples.length && aSamples.length) {\n        vaDelta = firstVideoSample.dts - firstAudioSample.pts;\n      }\n      if (!this._baseDtsInited) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n      }\n      if (discontinuity) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        this._baseDts -= startTime;\n        this._baseAudioDts -= startTime;\n        this._baseVideoDts -= startTime;\n      }\n      if (!contiguous) {\n        this._videoNextDts = vaDelta > 0 ? startTime + vaDelta : startTime;\n        this._audioNextPts = vaDelta > 0 ? startTime : startTime - vaDelta;\n        if (this._needForceFixLargeGap) {\n          this._videoNextDts = 0;\n          this._audioNextPts = 0;\n        }\n        var vDeltaToNextDts = firstVideoSample ? firstVideoSample.dts - this._baseDts - this._videoNextDts : 0;\n        var aDeltaToNextDts = firstAudioSample ? firstAudioSample.pts - this._baseDts - this._audioNextPts : 0;\n        if (Math.abs(vDeltaToNextDts || aDeltaToNextDts) > MAX_VIDEO_FRAME_DURATION) {\n          this._calculateBaseDts(this.audioTrack, this.videoTrack);\n          this._baseDts -= startTime;\n        }\n      }\n      this._resetBaseDtsWhenStreamBreaked();\n      this._fixAudio(audioTrack);\n      this._fixVideo(videoTrack);\n      if (this.metadataTrack.exist()) {\n        var timescale = this.metadataTrack.timescale;\n        this.metadataTrack.seiSamples.forEach(function(s) {\n          s.pts = s.originPts - _this._baseDts;\n          s.time = Math.max(0, s.pts) / timescale;\n        });\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].dts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts * audioTrack.timescale / 9e4;\n      }\n    }\n  }, {\n    key: \"_fixVideo\",\n    value: function _fixVideo(videoTrack) {\n      var _this2 = this;\n      var samples = videoTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.dts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n        x.pts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n      });\n      if (this._videoNextDts === void 0) {\n        var samp0 = samples[0];\n        this._videoNextDts = samp0.dts;\n      }\n      var len = samples.length;\n      var sampleDuration = 0;\n      var firstSample = samples[0];\n      var nextSample = samples[1];\n      var vDelta = this._videoNextDts - firstSample.dts;\n      if (Math.abs(vDelta) > MAX_DTS_DELTA_WITH_NEXT_CHUNK) {\n        var _samples$;\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK,\n          nextDts: this._videoNextDts / 90,\n          firstSampleDts: firstSample.dts / 90,\n          nextSampleDts: (((_samples$ = samples[1]) === null || _samples$ === void 0 ? void 0 : _samples$.dts) || 0) / 90,\n          sampleDuration: vDelta / 90\n        });\n        firstSample.dts += vDelta;\n        firstSample.pts += vDelta;\n        if (nextSample && Math.abs(nextSample.dts - firstSample.dts) > MAX_VIDEO_FRAME_DURATION) {\n          this._videoTimestampBreak = true;\n          samples.forEach(function(x, i2) {\n            if (i2 === 0)\n              return;\n            x.dts += vDelta;\n            x.pts += vDelta;\n          });\n        } else {\n          for (var i = 1; i < len - 1; i++) {\n            var _samples$i;\n            var dts = (_samples$i = samples[i]) === null || _samples$i === void 0 ? void 0 : _samples$i.dts;\n            var prevDts = samples[i - 1].dts;\n            if (dts && dts - prevDts < 0) {\n              samples[i].dts += vDelta;\n              samples[i].pts += vDelta;\n            }\n          }\n        }\n      }\n      var refSampleDurationInt;\n      if (videoTrack.fpsNum && videoTrack.fpsDen) {\n        refSampleDurationInt = videoTrack.timescale * (videoTrack.fpsDen / videoTrack.fpsNum);\n      }\n      if (refSampleDurationInt < 90 * 10) {\n        refSampleDurationInt = 0;\n      }\n      if (!refSampleDurationInt) {\n        var first = videoTrack.samples[0];\n        var second = videoTrack.samples[1];\n        refSampleDurationInt = len === 1 ? 9e3 : Math.floor(second.dts - first.dts);\n      }\n      for (var _i = 0; _i < len; _i++) {\n        var _dts = samples[_i].dts;\n        var _nextSample = samples[_i + 1];\n        if (_i < len - 1) {\n          sampleDuration = _nextSample.dts - _dts;\n        } else if (samples[_i - 1]) {\n          sampleDuration = Math.min(_dts - samples[_i - 1].dts, refSampleDurationInt);\n        } else {\n          sampleDuration = refSampleDurationInt;\n        }\n        if (sampleDuration > MAX_VIDEO_FRAME_DURATION || sampleDuration < 0) {\n          this._videoTimestampBreak = true;\n          sampleDuration = this._audioTimestampBreak ? refSampleDurationInt : Math.max(sampleDuration, 30 * 90);\n          var expectFragEnd = this._audioNextPts || 0;\n          if (_nextSample && _nextSample.dts > expectFragEnd) {\n            sampleDuration = refSampleDurationInt;\n          }\n          videoTrack.warnings.push({\n            type: WarningType.LARGE_VIDEO_GAP,\n            time: _dts / videoTrack.timescale,\n            dts: _dts,\n            originDts: samples[_i].originDts,\n            nextDts: this._videoNextDts,\n            sampleDuration,\n            refSampleDuration: refSampleDurationInt\n          });\n        }\n        samples[_i].duration = sampleDuration;\n        this._videoNextDts += sampleDuration;\n      }\n    }\n  }, {\n    key: \"_fixAudio\",\n    value: function _fixAudio(audioTrack) {\n      var _this3 = this;\n      var samples = audioTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.pts -= _this3._needForceFixLargeGap ? _this3._baseAudioDts : _this3._baseDts;\n        x.dts = x.pts;\n      });\n      this._doFixAudioInternal(audioTrack, samples, 9e4);\n    }\n  }, {\n    key: \"_calculateBaseDts\",\n    value: function _calculateBaseDts(audioTrack, videoTrack) {\n      var audioSamps = audioTrack.samples;\n      var videoSamps = videoTrack.samples;\n      if (!audioSamps.length && !videoSamps.length) {\n        return false;\n      }\n      var audioBasePts = Infinity;\n      var videoBaseDts = Infinity;\n      if (audioSamps.length) {\n        audioTrack.baseDts = audioBasePts = audioSamps[0].pts;\n        this._baseAudioDts = audioBasePts;\n      }\n      if (videoSamps.length) {\n        videoTrack.baseDts = videoBaseDts = videoSamps[0].dts;\n        this._baseVideoDts = videoBaseDts;\n      }\n      this._baseDts = Math.min(audioBasePts, videoBaseDts);\n      var delta = videoBaseDts - audioBasePts;\n      var largeGap = false;\n      if (Number.isFinite(delta) && Math.abs(delta) > LARGE_AV_FIRST_FRAME_GAP) {\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_AV_SHIFT,\n          videoBaseDts,\n          audioBasePts,\n          baseDts: this._baseDts,\n          delta\n        });\n      }\n      if (Number.isFinite(delta) && Math.abs(delta) > this._largeGapThreshold * MAX_SILENT_FRAME_DURATION) {\n        largeGap = true;\n      }\n      if (!this._baseDtsInited) {\n        if (largeGap && this._needForceFixLargeGap) {\n          this._needForceFixLargeGap = true;\n        } else {\n          this._needForceFixLargeGap = false;\n        }\n      }\n      this._baseDtsInited = true;\n      return true;\n    }\n  }, {\n    key: \"_resetBaseDtsWhenStreamBreaked\",\n    value: function _resetBaseDtsWhenStreamBreaked() {\n      if (this._baseDtsInited && this._videoTimestampBreak && this._audioTimestampBreak) {\n        var calc = this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        if (!calc)\n          return;\n        this._baseDts -= Math.min(this._audioNextPts, this._videoNextDts);\n        this._audioLastSample = null;\n        this._videoLastSample = null;\n        this._videoTimestampBreak = false;\n        this._audioTimestampBreak = false;\n      }\n    }\n  }, {\n    key: \"_doFixAudioInternal\",\n    value: function _doFixAudioInternal(audioTrack, samples, timescale) {\n      if (!audioTrack.sampleDuration)\n        audioTrack.sampleDuration = AAC.getFrameDuration(audioTrack.timescale, timescale);\n      var refSampleDuration = audioTrack.sampleDuration;\n      if (this._audioNextPts === void 0) {\n        var samp0 = samples[0];\n        this._audioNextPts = samp0.pts;\n      }\n      for (var i = 0; i < samples.length; i++) {\n        var nextPts = this._audioNextPts;\n        var sample = samples[i];\n        var delta = sample.pts - nextPts;\n        if (!this._audioTimestampBreak && delta >= AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta <= MAX_SILENT_FRAME_DURATION && !isSafari) {\n          var silentFrame = AAC.getSilentFrame(audioTrack.codec, audioTrack.channelCount) || samples[0].data.subarray();\n          var count = Math.floor(delta / refSampleDuration);\n          if (Math.abs(sample.pts - this._lastAudioExceptionGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionGapDot = sample.pts;\n          }\n          audioTrack.warnings.push({\n            type: WarningType.AUDIO_FILLED,\n            pts: sample.pts / 90,\n            originPts: sample.originPts,\n            count,\n            nextPts: nextPts / 90,\n            refSampleDuration\n          });\n          for (var j = 0; j < count; j++) {\n            var silentSample = new AudioSample(Math.floor(nextPts), silentFrame);\n            silentSample.originPts = Math.floor(this._baseDts + nextPts);\n            samples.splice(i, 0, silentSample);\n            this._audioNextPts += refSampleDuration;\n            i++;\n          }\n          i--;\n        } else if (delta <= -AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta >= -1 * MAX_SILENT_FRAME_DURATION) {\n          if (Math.abs(sample.pts - this._lastAudioExceptionOverlapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionOverlapDot = sample.pts;\n            audioTrack.warnings.push({\n              type: WarningType.AUDIO_DROPPED,\n              pts: sample.pts / 90,\n              originPts: sample.originPts,\n              nextPts: nextPts / 90,\n              refSampleDuration\n            });\n          }\n          samples.splice(i, 1);\n          i--;\n        } else {\n          if (Math.abs(delta) >= MAX_SILENT_FRAME_DURATION) {\n            this._audioTimestampBreak = true;\n            if (Math.abs(sample.pts - this._lastAudioExceptionLargeGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n              this._lastAudioExceptionLargeGapDot = sample.pts;\n              audioTrack.warnings.push({\n                type: WarningType.LARGE_AUDIO_GAP,\n                time: sample.pts / 1e3,\n                pts: sample.pts / 90,\n                originPts: sample.originPts,\n                nextPts: nextPts / 90,\n                sampleDuration: delta,\n                refSampleDuration\n              });\n            }\n          }\n          sample.dts = sample.pts = nextPts;\n          this._audioNextPts += refSampleDuration;\n        }\n      }\n    }\n  }]);\n  return TsFixer2;\n}();\nexport { TsFixer };\n","export { Logger } from \"./logger.js\";\nexport { isAndroid, isBrowser, isFirefox, isSafari } from \"./env.js\";\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nvar MAX_SIZE = Math.pow(2, 32);\nfunction readBig16(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 8) + (data[i + 1] || 0);\n}\nfunction readBig24(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 16) + (data[i + 1] << 8) + (data[i + 2] || 0);\n}\nfunction readBig32(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 24 >>> 0) + (data[i + 1] << 16) + (data[i + 2] << 8) + (data[i + 3] || 0);\n}\nfunction readBig64(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return readBig32(data, i) * MAX_SIZE + readBig32(data, i + 4);\n}\nfunction getAvcCodec(codecs) {\n  var codec = \"avc1.\";\n  var h;\n  for (var i = 0; i < 3; i++) {\n    h = codecs[i].toString(16);\n    if (h.length < 2)\n      h = \"0\".concat(h);\n    codec += h;\n  }\n  return codec;\n}\nfunction formatIV(arr) {\n  var iv = \"\";\n  arr.forEach(function(value) {\n    iv += bufferToString(value);\n  });\n  if (iv.length <= 32) {\n    var len = 32 - iv.length;\n    for (var i = 0; i < len; i++) {\n      iv += \"0\";\n    }\n  }\n  return iv;\n}\nfunction parse(a) {\n  if (!Array.isArray(a)) {\n    var arr = [];\n    var value = \"\";\n    for (var i = 0; i < a.length; i++) {\n      if (i % 2) {\n        value = a[i - 1] + a[i];\n        arr.push(parseInt(value, 16));\n        value = \"\";\n      }\n    }\n    return arr;\n  }\n  return a.map(function(item) {\n    return parseInt(item, 16);\n  });\n}\nfunction bufferToString(value) {\n  return (\"0\" + Number(value).toString(16)).slice(-2).toUpperCase();\n}\nfunction combineToFloat(integer, decimal) {\n  return Number(integer + \".\" + decimal);\n}\nfunction toDegree(matrix) {\n  if (matrix.length < 5)\n    return 0;\n  var scaled0 = Math.hypot(matrix[0], matrix[3]), scaled1 = Math.hypot(matrix[1], matrix[4]);\n  return 0 === scaled0 || 0 === scaled1 ? 0 : 180 * Math.atan2(matrix[1] / scaled1, matrix[0] / scaled0) / Math.PI;\n}\nexport { MAX_SIZE, combineToFloat, concatUint8Array, formatIV, getAvcCodec, parse, readBig16, readBig24, readBig32, readBig64, toDegree };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { readBig32 } from \"../utils/index.js\";\nvar NALu = /* @__PURE__ */ function() {\n  function NALu2() {\n    _classCallCheck(this, NALu2);\n  }\n  _createClass(NALu2, null, [{\n    key: \"parseAnnexB\",\n    value: function parseAnnexB(data) {\n      var len = data.length;\n      var start = 2;\n      var end = 0;\n      while (data[start] !== null && data[start] !== void 0 && data[start] !== 1) {\n        start++;\n      }\n      start++;\n      end = start + 2;\n      if (end >= len)\n        return [];\n      var units = [];\n      while (end < len) {\n        switch (data[end]) {\n          case 0:\n            if (data[end - 1] !== 0) {\n              end += 2;\n              break;\n            } else if (data[end - 2] !== 0) {\n              end++;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            do {\n              end++;\n            } while (data[end] !== 1 && end < len);\n            start = end + 1;\n            end = start + 2;\n            break;\n          case 1:\n            if (data[end - 1] !== 0 || data[end - 2] !== 0) {\n              end += 3;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            start = end + 1;\n            end = start + 2;\n            break;\n          default:\n            end += 3;\n            break;\n        }\n      }\n      if (start < len)\n        units.push(data.subarray(start));\n      return units;\n    }\n  }, {\n    key: \"parseAvcC\",\n    value: function parseAvcC(data) {\n      var size = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 4;\n      if (data.length < 4)\n        return;\n      var dataLen = data.length;\n      var units = [];\n      var offset = 0;\n      var length;\n      while (offset + size < dataLen) {\n        length = readBig32(data, offset);\n        if (size === 3)\n          length >>>= 8;\n        offset += size;\n        if (!length)\n          continue;\n        if (offset + length > dataLen) {\n          break;\n        }\n        units.push(data.subarray(offset, offset + length));\n        offset += length;\n      }\n      return units;\n    }\n  }, {\n    key: \"parseSEI\",\n    value: function parseSEI(unit, isHevc) {\n      var len = unit.length;\n      var i = isHevc ? 2 : 1;\n      var type = 0;\n      var size = 0;\n      var uuid = \"\";\n      while (unit[i] === 255) {\n        type += 255;\n        i++;\n      }\n      type += unit[i++];\n      while (unit[i] === 255) {\n        size += 255;\n        i++;\n      }\n      size += unit[i++];\n      if (type === 5 && len > i + 16) {\n        for (var j = 0; j < 16; j++) {\n          uuid += unit[i].toString(16);\n          i++;\n        }\n      }\n      return {\n        payload: unit.subarray(i, i + size),\n        type,\n        size,\n        uuid\n      };\n    }\n  }, {\n    key: \"removeEPB\",\n    value: function removeEPB(uint) {\n      var length = uint.byteLength;\n      var emulationPreventionBytesPositions = [];\n      var i = 1;\n      while (i < length - 2) {\n        if (uint[i] === 0 && uint[i + 1] === 0 && uint[i + 2] === 3) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n      if (!emulationPreventionBytesPositions.length)\n        return uint;\n      var newLength = length - emulationPreventionBytesPositions.length;\n      var newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          sourceIndex++;\n          emulationPreventionBytesPositions.shift();\n        }\n        newData[i] = uint[sourceIndex];\n      }\n      return newData;\n    }\n  }]);\n  return NALu2;\n}();\nexport { NALu };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ExpGolomb = /* @__PURE__ */ function() {\n  function ExpGolomb2(data) {\n    _classCallCheck(this, ExpGolomb2);\n    _defineProperty(this, \"_bytesAvailable\", void 0);\n    _defineProperty(this, \"_bitsAvailable\", 0);\n    _defineProperty(this, \"_word\", 0);\n    if (!data)\n      throw new Error(\"ExpGolomb data params is required\");\n    this._data = data;\n    this._bytesAvailable = data.byteLength;\n    if (this._bytesAvailable)\n      this._loadWord();\n  }\n  _createClass(ExpGolomb2, [{\n    key: \"bitsAvailable\",\n    get: function get() {\n      return this._bitsAvailable;\n    }\n  }, {\n    key: \"_loadWord\",\n    value: function _loadWord() {\n      var position = this._data.byteLength - this._bytesAvailable;\n      var availableBytes = Math.min(4, this._bytesAvailable);\n      if (availableBytes === 0)\n        throw new Error(\"No bytes available\");\n      var workingBytes = new Uint8Array(4);\n      workingBytes.set(this._data.subarray(position, position + availableBytes));\n      this._word = new DataView(workingBytes.buffer).getUint32(0);\n      this._bitsAvailable = availableBytes * 8;\n      this._bytesAvailable -= availableBytes;\n    }\n  }, {\n    key: \"skipBits\",\n    value: function skipBits(count) {\n      if (this._bitsAvailable > count) {\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      } else {\n        count -= this._bitsAvailable;\n        var skipBytes = Math.floor(count / 8);\n        count -= skipBytes * 8;\n        this._bytesAvailable -= skipBytes;\n        this._loadWord();\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      }\n    }\n  }, {\n    key: \"readBits\",\n    value: function readBits(size) {\n      if (size > 32) {\n        throw new Error(\"Cannot read more than 32 bits\");\n      }\n      var bits = Math.min(this._bitsAvailable, size);\n      var val = this._word >>> 32 - bits;\n      this._bitsAvailable -= bits;\n      if (this._bitsAvailable > 0) {\n        this._word <<= bits;\n      } else if (this._bytesAvailable > 0) {\n        this._loadWord();\n      }\n      bits = size - bits;\n      if (bits > 0 && this._bitsAvailable) {\n        return val << bits | this.readBits(bits);\n      }\n      return val;\n    }\n  }, {\n    key: \"skipLZ\",\n    value: function skipLZ() {\n      var leadingZeroCount;\n      for (leadingZeroCount = 0; leadingZeroCount < this._bitsAvailable; ++leadingZeroCount) {\n        if ((this._word & 2147483648 >>> leadingZeroCount) !== 0) {\n          this._word <<= leadingZeroCount;\n          this._bitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n      this._loadWord();\n      return leadingZeroCount + this.skipLZ();\n    }\n  }, {\n    key: \"skipUEG\",\n    value: function skipUEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n  }, {\n    key: \"readUEG\",\n    value: function readUEG() {\n      var clz = this.skipLZ();\n      return this.readBits(clz + 1) - 1;\n    }\n  }, {\n    key: \"readEG\",\n    value: function readEG() {\n      var val = this.readUEG();\n      if (1 & val) {\n        return 1 + val >>> 1;\n      }\n      return -1 * (val >>> 1);\n    }\n  }, {\n    key: \"readBool\",\n    value: function readBool() {\n      return this.readBits(1) === 1;\n    }\n  }, {\n    key: \"readUByte\",\n    value: function readUByte() {\n      return this.readBits(8);\n    }\n  }, {\n    key: \"skipScalingList\",\n    value: function skipScalingList(count) {\n      var lastScale = 8;\n      var nextScale = 8;\n      var deltaScale;\n      for (var j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = this.readEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n  }]);\n  return ExpGolomb2;\n}();\nexport { ExpGolomb };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { getAvcCodec } from \"../utils/index.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nvar AVC = /* @__PURE__ */ function() {\n  function AVC2() {\n    _classCallCheck(this, AVC2);\n  }\n  _createClass(AVC2, null, [{\n    key: \"parseAVCDecoderConfigurationRecord\",\n    value: function parseAVCDecoderConfigurationRecord(data) {\n      if (data.length < 7)\n        return;\n      var nalUnitSize = (data[4] & 3) + 1;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var offset = 6;\n      var spsCount = data[5] & 31;\n      var spsSize;\n      for (var i = 0; i < spsCount; i++) {\n        spsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!spsSize)\n          continue;\n        var sps = data.subarray(offset, offset + spsSize);\n        offset += spsSize;\n        spsArr.push(sps);\n        if (!spsParsed) {\n          spsParsed = AVC2.parseSPS(NALu.removeEPB(sps));\n        }\n      }\n      var ppsCount = data[offset];\n      offset++;\n      var ppsSize;\n      for (var _i = 0; _i < ppsCount; _i++) {\n        ppsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!ppsSize)\n          continue;\n        ppsArr.push(data.subarray(offset, offset + ppsSize));\n        offset += ppsSize;\n      }\n      return {\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      var profileIdc = eg.readUByte();\n      var profileCompatibility = eg.readUByte();\n      var levelIdc = eg.readUByte();\n      eg.skipUEG();\n      var chromaFormat = 420;\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128 || profileIdc === 138 || profileIdc === 144) {\n        var chromaFormatIdc = eg.readUEG();\n        if (chromaFormatIdc <= 3)\n          chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n        if (chromaFormatIdc === 3)\n          eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        eg.skipBits(1);\n        if (eg.readBool()) {\n          var scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n          for (var i = 0; i < scalingListCount; i++) {\n            if (eg.readBool()) {\n              if (i < 6) {\n                eg.skipScalingList(16);\n              } else {\n                eg.skipScalingList(64);\n              }\n            }\n          }\n        }\n      }\n      eg.skipUEG();\n      var picOrderCntType = eg.readUEG();\n      if (picOrderCntType === 0) {\n        eg.readUEG();\n      } else if (picOrderCntType === 1) {\n        eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        var numRefFramesInPicOrderCntCycle = eg.readUEG();\n        for (var _i2 = 0; _i2 < numRefFramesInPicOrderCntCycle; _i2++) {\n          eg.skipUEG();\n        }\n      }\n      eg.skipUEG();\n      eg.skipBits(1);\n      var picWidthInMbsMinus1 = eg.readUEG();\n      var picHeightInMapUnitsMinus1 = eg.readUEG();\n      var frameMbsOnlyFlag = eg.readBits(1);\n      if (frameMbsOnlyFlag === 0)\n        eg.skipBits(1);\n      eg.skipBits(1);\n      var frameCropLeftOffset = 0;\n      var frameCropRightOffset = 0;\n      var frameCropTopOffset = 0;\n      var frameCropBottomOffset = 0;\n      if (eg.readBool()) {\n        frameCropLeftOffset = eg.readUEG();\n        frameCropRightOffset = eg.readUEG();\n        frameCropTopOffset = eg.readUEG();\n        frameCropBottomOffset = eg.readUEG();\n      }\n      var sarRatio;\n      var fixedFrame;\n      var fpsNum;\n      var fpsDen;\n      var fps;\n      if (eg.readBool()) {\n        if (eg.readBool()) {\n          var aspectRatioIdc = eg.readUByte();\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];\n              break;\n            case 2:\n              sarRatio = [12, 11];\n              break;\n            case 3:\n              sarRatio = [10, 11];\n              break;\n            case 4:\n              sarRatio = [16, 11];\n              break;\n            case 5:\n              sarRatio = [40, 33];\n              break;\n            case 6:\n              sarRatio = [24, 11];\n              break;\n            case 7:\n              sarRatio = [20, 11];\n              break;\n            case 8:\n              sarRatio = [32, 11];\n              break;\n            case 9:\n              sarRatio = [80, 33];\n              break;\n            case 10:\n              sarRatio = [18, 11];\n              break;\n            case 11:\n              sarRatio = [15, 11];\n              break;\n            case 12:\n              sarRatio = [64, 33];\n              break;\n            case 13:\n              sarRatio = [160, 99];\n              break;\n            case 14:\n              sarRatio = [4, 3];\n              break;\n            case 15:\n              sarRatio = [3, 2];\n              break;\n            case 16:\n              sarRatio = [2, 1];\n              break;\n            case 255: {\n              sarRatio = [eg.readUByte() << 8 | eg.readUByte(), eg.readUByte() << 8 | eg.readUByte()];\n              break;\n            }\n          }\n        }\n        if (eg.readBool())\n          eg.readBool();\n        if (eg.readBool()) {\n          eg.readBits(4);\n          if (eg.readBool())\n            eg.readBits(24);\n        }\n        if (eg.readBool()) {\n          eg.readUEG();\n          eg.readUEG();\n        }\n        if (eg.readBool()) {\n          var numUnitsInTick = eg.readBits(32);\n          var timeScale = eg.readBits(32);\n          fixedFrame = eg.readBool();\n          fpsNum = timeScale;\n          fpsDen = numUnitsInTick * 2;\n          fps = fpsNum / fpsDen;\n        }\n      }\n      return {\n        codec: getAvcCodec(unit.subarray(1, 4)),\n        profileIdc,\n        profileCompatibility,\n        levelIdc,\n        chromaFormat,\n        width: Math.ceil((picWidthInMbsMinus1 + 1) * 16 - 2 * (frameCropLeftOffset + frameCropRightOffset)),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset),\n        sarRatio,\n        fpsNum,\n        fpsDen,\n        fps,\n        fixedFrame\n      };\n    }\n  }]);\n  return AVC2;\n}();\nexport { AVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nimport \"../utils/logger.js\";\nimport \"../utils/env.js\";\nvar HEVC = /* @__PURE__ */ function() {\n  function HEVC2() {\n    _classCallCheck(this, HEVC2);\n  }\n  _createClass(HEVC2, null, [{\n    key: \"parseHEVCDecoderConfigurationRecord\",\n    value: function parseHEVCDecoderConfigurationRecord(data) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (data.length < 23)\n        return;\n      hvcC = hvcC || {};\n      var nalUnitSize = (data[21] & 3) + 1;\n      var vpsParsed;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var vpsArr = [];\n      var offset = 23;\n      var numOfArrays = data[22];\n      var nalUnitType;\n      var numNalus;\n      var nalSize;\n      for (var i = 0; i < numOfArrays; i++) {\n        nalUnitType = data[offset] & 63;\n        numNalus = data[offset + 1] << 8 | data[offset + 2];\n        offset += 3;\n        for (var j = 0; j < numNalus; j++) {\n          nalSize = data[offset] << 8 | data[offset + 1];\n          offset += 2;\n          if (!nalSize)\n            continue;\n          switch (nalUnitType) {\n            case 32:\n              {\n                var vps = data.subarray(offset, offset + nalSize);\n                if (!vpsParsed)\n                  vpsParsed = HEVC2.parseVPS(NALu.removeEPB(vps), hvcC);\n                vpsArr.push(vps);\n              }\n              break;\n            case 33:\n              {\n                var sps = data.subarray(offset, offset + nalSize);\n                if (!spsParsed)\n                  spsParsed = HEVC2.parseSPS(NALu.removeEPB(sps), hvcC);\n                spsArr.push(sps);\n              }\n              break;\n            case 34:\n              ppsArr.push(data.subarray(offset, offset + nalSize));\n              break;\n          }\n          offset += nalSize;\n        }\n      }\n      return {\n        hvcC,\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        vpsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseVPS\",\n    value: function parseVPS(unit, hvcC) {\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(12);\n      var vpsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(hvcC.numTemporalLayers || 0, vpsMaxSubLayersMinus1 + 1);\n      eg.readBits(17);\n      HEVC2._parseProfileTierLevel(eg, vpsMaxSubLayersMinus1, hvcC);\n      return hvcC;\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(4);\n      var spsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(spsMaxSubLayersMinus1 + 1, hvcC.numTemporalLayers || 0);\n      hvcC.temporalIdNested = eg.readBits(1);\n      HEVC2._parseProfileTierLevel(eg, spsMaxSubLayersMinus1, hvcC);\n      eg.readUEG();\n      var chromaFormatIdc = hvcC.chromaFormatIdc = eg.readUEG();\n      var chromaFormat = 420;\n      if (chromaFormatIdc <= 3)\n        chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n      var separateColourPlaneFlag = 0;\n      if (chromaFormatIdc === 3) {\n        separateColourPlaneFlag = eg.readBits(1);\n      }\n      var width = eg.readUEG();\n      var height = eg.readUEG();\n      var conformanceWindowFlag = eg.readBits(1);\n      var confWinLeftOffset;\n      var confWinRightOffset;\n      var confWinTopOffset;\n      var confWinBottomOffset;\n      if (conformanceWindowFlag === 1) {\n        confWinLeftOffset = eg.readUEG();\n        confWinRightOffset = eg.readUEG();\n        confWinTopOffset = eg.readUEG();\n        confWinBottomOffset = eg.readUEG();\n      }\n      hvcC.bitDepthLumaMinus8 = eg.readUEG();\n      hvcC.bitDepthChromaMinus8 = eg.readUEG();\n      if (conformanceWindowFlag === 1) {\n        var subWidthC = (chromaFormatIdc === 1 || chromaFormatIdc === 2) && separateColourPlaneFlag === 0 ? 2 : 1;\n        var subHeightC = chromaFormatIdc === 1 && separateColourPlaneFlag === 0 ? 2 : 1;\n        width -= subWidthC * (confWinRightOffset + confWinLeftOffset);\n        height -= subHeightC * (confWinBottomOffset + confWinTopOffset);\n      }\n      return {\n        codec: \"hev1.1.6.L93.B0\",\n        width,\n        height,\n        chromaFormat,\n        hvcC\n      };\n    }\n  }, {\n    key: \"_parseProfileTierLevel\",\n    value: function _parseProfileTierLevel(eg, maxSubLayersMinus1, hvcC) {\n      var generalTierFlag = hvcC.generalTierFlag || 0;\n      hvcC.generalProfileSpace = eg.readBits(2);\n      hvcC.generalTierFlag = Math.max(eg.readBits(1), generalTierFlag);\n      hvcC.generalProfileIdc = Math.max(eg.readBits(5), hvcC.generalProfileIdc || 0);\n      hvcC.generalProfileCompatibilityFlags = eg.readBits(32);\n      hvcC.generalConstraintIndicatorFlags = [eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8)];\n      var generalLevelIdc = eg.readBits(8);\n      if (generalTierFlag < hvcC.generalTierFlag) {\n        hvcC.generalLevelIdc = generalLevelIdc;\n      } else {\n        hvcC.generalLevelIdc = Math.max(generalLevelIdc, hvcC.generalLevelIdc || 0);\n      }\n      var subLayerProfilePresentFlag = [];\n      var subLayerLevelPresentFlag = [];\n      if (maxSubLayersMinus1 > eg.bitsAvailable) {\n        throw new Error(\"maxSubLayersMinus inavlid size \".concat(maxSubLayersMinus1));\n      }\n      for (var j = 0; j < maxSubLayersMinus1; j++) {\n        subLayerProfilePresentFlag[j] = eg.readBits(1);\n        subLayerLevelPresentFlag[j] = eg.readBits(1);\n      }\n      if (maxSubLayersMinus1 > 0) {\n        eg.readBits((8 - maxSubLayersMinus1) * 2);\n      }\n      for (var i = 0; i < maxSubLayersMinus1; i++) {\n        if (subLayerProfilePresentFlag[i] !== 0) {\n          eg.readBits(2);\n          eg.readBits(1);\n          eg.readBits(5);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(4);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(12);\n        }\n        if (subLayerLevelPresentFlag[i] !== 0) {\n          eg.readBits(8);\n        }\n      }\n    }\n  }]);\n  return HEVC2;\n}();\nexport { HEVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"./types.js\";\nvar VideoTrack = /* @__PURE__ */ function() {\n  function VideoTrack2() {\n    _classCallCheck(this, VideoTrack2);\n    _defineProperty(this, \"id\", 1);\n    _defineProperty(this, \"type\", TrackType.VIDEO);\n    _defineProperty(this, \"codecType\", VideoCodecType.AVC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"hvcC\", void 0);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"pps\", []);\n    _defineProperty(this, \"sps\", []);\n    _defineProperty(this, \"vps\", []);\n    _defineProperty(this, \"fpsNum\", 0);\n    _defineProperty(this, \"fpsDen\", 0);\n    _defineProperty(this, \"sarRatio\", []);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"nalUnitSize\", 4);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"isVideo\", true);\n    _defineProperty(this, \"lastKeyFrameDts\", 0);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"pssh\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(VideoTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = this.width = this.height = this.fpsDen = this.fpsNum = this.duration = this.baseMediaDecodeTime = this.timescale = 0;\n      this.codec = \"\";\n      this.present = false;\n      this.pid = -1;\n      this.pps = [];\n      this.sps = [];\n      this.vps = [];\n      this.sarRatio = [];\n      this.samples = [];\n      this.warnings = [];\n      this.hvcC = null;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      if (/av01/.test(this.codec)) {\n        return true;\n      }\n      return !!(this.pps.length && this.sps.length && this.codec);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isVideoEncryption;\n    }\n  }]);\n  return VideoTrack2;\n}();\nexport { VideoTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, AudioCodecType } from \"./types.js\";\nvar AudioTrack = /* @__PURE__ */ function() {\n  function AudioTrack2() {\n    _classCallCheck(this, AudioTrack2);\n    _defineProperty(this, \"id\", 2);\n    _defineProperty(this, \"type\", TrackType.AUDIO);\n    _defineProperty(this, \"codecType\", AudioCodecType.AAC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"sampleDuration\", 0);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"sampleSize\", 16);\n    _defineProperty(this, \"sampleRate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"objectType\", 0);\n    _defineProperty(this, \"sampleRateIndex\", 0);\n    _defineProperty(this, \"config\", []);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(AudioTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = 0;\n      this.timescale = 0;\n      this.sampleDuration = 0;\n      this.sampleRate = 0;\n      this.channelCount = 0;\n      this.baseMediaDecodeTime = 0;\n      this.present = false;\n      this.pid = -1;\n      this.codec = \"\";\n      this.samples = [];\n      this.config = [];\n      this.warnings = [];\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.sampleRate && this.channelCount && this.codec && (this.codecType === AudioCodecType.AAC || this.codecType === AudioCodecType.G711PCMA || this.codecType === AudioCodecType.G711PCMU || this.codecType === AudioCodecType.OPUS));\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isAudioEncryption;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }]);\n  return AudioTrack2;\n}();\nexport { AudioTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar VideoSample = /* @__PURE__ */ function() {\n  function VideoSample2(pts, dts, units) {\n    _classCallCheck(this, VideoSample2);\n    _defineProperty(this, \"flag\", {});\n    _defineProperty(this, \"keyframe\", false);\n    _defineProperty(this, \"gopId\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"size\", 0);\n    _defineProperty(this, \"units\", []);\n    _defineProperty(this, \"chromaFormat\", 420);\n    this.originPts = this.pts = pts;\n    this.originDts = this.dts = dts;\n    if (units)\n      this.units = units;\n  }\n  _createClass(VideoSample2, [{\n    key: \"cts\",\n    get: function get() {\n      return this.pts - this.dts;\n    }\n  }, {\n    key: \"setToKeyframe\",\n    value: function setToKeyframe() {\n      this.keyframe = true;\n      this.flag.dependsOn = 2;\n      this.flag.isNonSyncSample = 0;\n    }\n  }]);\n  return VideoSample2;\n}();\nexport { VideoSample };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType } from \"./types.js\";\nvar Sample = /* @__PURE__ */ _createClass(\n  function Sample2(data, pts) {\n    _classCallCheck(this, Sample2);\n    _defineProperty(this, \"time\", 0);\n    this.data = data;\n    this.originPts = this.pts = pts;\n  }\n);\nvar FlvScriptSample = /* @__PURE__ */ function(_Sample) {\n  _inherits(FlvScriptSample2, _Sample);\n  var _super = _createSuper(FlvScriptSample2);\n  function FlvScriptSample2() {\n    _classCallCheck(this, FlvScriptSample2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(FlvScriptSample2);\n}(Sample);\nvar SeiSample = /* @__PURE__ */ function(_Sample2) {\n  _inherits(SeiSample2, _Sample2);\n  var _super2 = _createSuper(SeiSample2);\n  function SeiSample2() {\n    _classCallCheck(this, SeiSample2);\n    return _super2.apply(this, arguments);\n  }\n  return _createClass(SeiSample2);\n}(Sample);\nvar MetadataTrack = /* @__PURE__ */ function() {\n  function MetadataTrack2() {\n    _classCallCheck(this, MetadataTrack2);\n    _defineProperty(this, \"id\", 3);\n    _defineProperty(this, \"type\", TrackType.METADATA);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"flvScriptSamples\", []);\n    _defineProperty(this, \"seiSamples\", []);\n  }\n  _createClass(MetadataTrack2, [{\n    key: \"exist\",\n    value: function exist() {\n      return !!((this.flvScriptSamples.length || this.seiSamples.length) && this.timescale);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.timescale = 0;\n      this.flvScriptSamples = [];\n      this.seiSamples = [];\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!(this.flvScriptSamples.length || this.seiSamples.length);\n    }\n  }]);\n  return MetadataTrack2;\n}();\nexport { FlvScriptSample, MetadataTrack, SeiSample };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsFixer } from \"./fixer.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { AVC } from \"../codec/avc.js\";\nimport { HEVC } from \"../codec/hevc.js\";\nimport { NALu } from \"../codec/nalu.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack, SeiSample } from \"../model/metadata-track.js\";\nimport { VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nvar logger = new Logger(\"TsDemuxer\");\nvar TsDemuxer = /* @__PURE__ */ function() {\n  function TsDemuxer2(videoTrack, audioTrack, metadataTrack) {\n    var fixerConfig = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n    _classCallCheck(this, TsDemuxer2);\n    _defineProperty(this, \"_pmtId\", -1);\n    _defineProperty(this, \"_remainingPacketData\", null);\n    _defineProperty(this, \"_videoPesData\", []);\n    _defineProperty(this, \"_audioPesData\", []);\n    _defineProperty(this, \"_gopId\", 0);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n    this._fixer = new TsFixer(this.videoTrack, this.audioTrack, this.metadataTrack, fixerConfig);\n  }\n  _createClass(TsDemuxer2, [{\n    key: \"demux\",\n    value: function demux(data) {\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      var audioTrack = this.audioTrack, videoTrack = this.videoTrack, metadataTrack = this.metadataTrack;\n      if (discontinuity) {\n        this._pmtId = -1;\n        videoTrack.reset();\n        audioTrack.reset();\n        metadataTrack.reset();\n      }\n      if (!contiguous || discontinuity) {\n        this._remainingPacketData = null;\n        this._videoPesData = [];\n        this._audioPesData = [];\n      } else {\n        videoTrack.samples = [];\n        audioTrack.samples = [];\n        metadataTrack.seiSamples = [];\n        videoTrack.warnings = [];\n        audioTrack.warnings = [];\n        if (this._remainingPacketData) {\n          data = concatUint8Array(this._remainingPacketData, data);\n          this._remainingPacketData = null;\n        }\n      }\n      var dataLen = data.length;\n      var remainingLength = dataLen % 188;\n      if (remainingLength) {\n        this._remainingPacketData = data.subarray(dataLen - remainingLength);\n        dataLen -= remainingLength;\n      }\n      var videoPid = videoTrack.pid;\n      var audioPid = audioTrack.pid;\n      for (var start = 0; start < dataLen; start += 188) {\n        if (data[start] !== 71)\n          throw new Error(\"TS packet did not start with 0x47\");\n        var payloadUnitStartIndicator = !!(data[start + 1] & 64);\n        var pid = ((data[start + 1] & 31) << 8) + data[start + 2];\n        var adaptationFiledControl = (data[start + 3] & 48) >> 4;\n        var offset = void 0;\n        if (adaptationFiledControl > 1) {\n          offset = start + 5 + data[start + 4];\n          if (offset === start + 188)\n            continue;\n        } else {\n          offset = start + 4;\n        }\n        switch (pid) {\n          case 0:\n            if (payloadUnitStartIndicator)\n              offset += data[offset] + 1;\n            this._pmtId = (data[offset + 10] & 31) << 8 | data[offset + 11];\n            break;\n          case this._pmtId:\n            {\n              if (payloadUnitStartIndicator)\n                offset += data[offset] + 1;\n              var tableEnd = offset + 3 + ((data[offset + 1] & 15) << 8 | data[offset + 2]) - 4;\n              var programInfoLength = (data[offset + 10] & 15) << 8 | data[offset + 11];\n              offset += 12 + programInfoLength;\n              while (offset < tableEnd) {\n                var esPid = (data[offset + 1] & 31) << 8 | data[offset + 2];\n                switch (data[offset]) {\n                  case 15:\n                    audioTrack.pid = audioPid = esPid;\n                    break;\n                  case 27:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.AVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  case 36:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.HEVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  default:\n                    logger.warn(\"Unsupported stream. type: \".concat(data[offset], \", pid: \").concat(esPid));\n                }\n                offset += ((data[offset + 3] & 15) << 8 | data[offset + 4]) + 5;\n              }\n            }\n            break;\n          case videoPid:\n            if (payloadUnitStartIndicator && this._videoPesData.length) {\n              this._parseVideoData();\n            }\n            this._videoPesData.push(data.subarray(offset, start + 188));\n            break;\n          case audioPid:\n            if (payloadUnitStartIndicator && this._audioPesData.length) {\n              this._parseAudioData();\n            }\n            this._audioPesData.push(data.subarray(offset, start + 188));\n            break;\n          case 17:\n          case 8191:\n            break;\n          default:\n            logger.warn(\"Unknown pid: \".concat(pid));\n        }\n      }\n      this._parseVideoData();\n      this._parseAudioData();\n      audioTrack.formatTimescale = videoTrack.formatTimescale = videoTrack.timescale = metadataTrack.timescale = 9e4;\n      audioTrack.timescale = audioTrack.sampleRate || 0;\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack\n      };\n    }\n  }, {\n    key: \"fix\",\n    value: function fix(startTime, discontinuity, contiguous) {\n      this._fixer.fix(startTime, discontinuity, contiguous);\n      return {\n        videoTrack: this.videoTrack,\n        audioTrack: this.audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demuxAndFix\",\n    value: function demuxAndFix(data, discontinuity, contiguous, startTime) {\n      this.demux(data, discontinuity, contiguous);\n      return this.fix(startTime, discontinuity, contiguous);\n    }\n  }, {\n    key: \"_parseVideoData\",\n    value: function _parseVideoData() {\n      if (!this._videoPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._videoPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse video pes\", this._videoPesData);\n        return;\n      }\n      var units = NALu.parseAnnexB(pes.data);\n      if (units) {\n        this._createVideoSample(units, pes.pts, pes.dts);\n      } else {\n        logger.warn(\"Cannot parse avc units\", pes);\n      }\n      this._videoPesData = [];\n    }\n  }, {\n    key: \"_createVideoSample\",\n    value: function _createVideoSample(units, pts, dts) {\n      var _this = this;\n      if (!units.length)\n        return;\n      var track = this.videoTrack;\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var sample = new VideoSample(pts, dts);\n      units.forEach(function(unit) {\n        var type = isHevc ? unit[0] >>> 1 & 63 : unit[0] & 31;\n        switch (type) {\n          case 5:\n          case 16:\n          case 17:\n          case 18:\n          case 19:\n          case 20:\n          case 21:\n          case 22:\n          case 23:\n            if (!isHevc && type !== 5 || isHevc && type === 5)\n              break;\n            sample.setToKeyframe();\n            _this._gopId++;\n            break;\n          case 6:\n          case 39:\n          case 40:\n            if (!isHevc && type !== 6 || isHevc && type === 6)\n              break;\n            _this.metadataTrack.seiSamples.push(new SeiSample(NALu.parseSEI(NALu.removeEPB(unit), isHevc), pts));\n            return;\n          case 32:\n            if (!isHevc)\n              break;\n            if (!track.vps.length) {\n              var hvcC = HEVC.parseVPS(NALu.removeEPB(unit), track.hvcC);\n              track.hvcC = track.hvcC || hvcC;\n              track.vps = [unit];\n            }\n            break;\n          case 7:\n          case 33:\n            if (!isHevc && type !== 7 || isHevc && type === 7)\n              break;\n            if (!track.sps.length) {\n              var data = NALu.removeEPB(unit);\n              var spsInfo = isHevc ? HEVC.parseSPS(data, track.hvcC) : AVC.parseSPS(data);\n              track.sps = [unit];\n              track.hvcC = track.hvcC || spsInfo.hvcC;\n              track.codec = spsInfo.codec;\n              track.width = spsInfo.width;\n              track.height = spsInfo.height;\n              track.sarRatio = spsInfo.sarRatio;\n              track.fpsNum = spsInfo.fpsNum;\n              track.fpsDen = spsInfo.fpsDen;\n            }\n            break;\n          case 8:\n          case 34:\n            if (!isHevc && type !== 8 || isHevc && type === 8)\n              break;\n            if (!track.pps.length)\n              track.pps = [unit];\n            break;\n          case 9:\n          case 35:\n            break;\n          case 38:\n            if (isHevc) {\n              var ffByteFound = false;\n              for (var i = 2; i < unit.byteLength; i++) {\n                if (unit[i] === 255) {\n                  ffByteFound = true;\n                  break;\n                }\n              }\n              if (!ffByteFound) {\n                return;\n              }\n            }\n            break;\n        }\n        sample.units.push(unit);\n      });\n      sample.gopId = this._gopId;\n      this._pushVideoSample(track, sample);\n    }\n  }, {\n    key: \"_pushVideoSample\",\n    value: function _pushVideoSample(track, sample) {\n      if (sample.units.length) {\n        if (sample.pts === null || sample.pts === void 0) {\n          logger.warn(\"Video sample no pts\", sample);\n          var lastSample = track.samples[track.samples.length - 1];\n          if (lastSample) {\n            sample.pts = lastSample.pts;\n            sample.dts = lastSample.dts;\n          } else {\n            logger.warn(\"Drop video sample\", sample);\n          }\n        } else {\n          track.samples.push(sample);\n        }\n      }\n    }\n  }, {\n    key: \"_parseAudioData\",\n    value: function _parseAudioData() {\n      if (!this._audioPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._audioPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse audio pes\", this._audioPesData);\n        return;\n      }\n      this._parseAacData(pes);\n      this._audioPesData = [];\n    }\n  }, {\n    key: \"_parseAacData\",\n    value: function _parseAacData(pes) {\n      var track = this.audioTrack;\n      var pts = pes.pts;\n      if (pts === null || pts === void 0) {\n        logger.warn(\"AAC pes not pts\", track);\n        if (!track.samples.length || !track.sampleRate) {\n          return;\n        }\n        pts = track.samples[track.samples.length - 1].pts + AAC.getFrameDuration(track.sampleRate);\n      }\n      var ret = AAC.parseADTS(pes.data, pts);\n      if (ret) {\n        var _track$samples;\n        track.codec = ret.codec;\n        track.channelCount = ret.channelCount;\n        track.sampleRate = ret.sampleRate;\n        track.objectType = ret.objectType;\n        track.sampleRateIndex = ret.samplingFrequencyIndex;\n        track.config = ret.config;\n        (_track$samples = track.samples).push.apply(_track$samples, _toConsumableArray(ret.frames.map(function(s) {\n          return new AudioSample(s.pts, s.data);\n        })));\n        if (ret.skip) {\n          logger.warn(\"Skip aac adts \".concat(ret.skip, \" bits\"));\n        }\n        if (ret.remaining) {\n          logger.warn(\"Remaining aac adts \".concat(ret.remaining, \" bits\"));\n        }\n      } else {\n        logger.warn(\"Cannot parse aac adts\", pes);\n      }\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      if (!data.length)\n        return false;\n      return data[0] === 71 && data[188] === 71 && data[376] === 71;\n    }\n  }, {\n    key: \"_parsePES\",\n    value: function _parsePES(data) {\n      var headerDataLen = data[8];\n      if (headerDataLen === null || headerDataLen === void 0 || data.length < headerDataLen + 9)\n        return;\n      var startPrefix = data[0] << 16 | data[1] << 8 | data[2];\n      if (startPrefix !== 1)\n        return;\n      var pesLen = (data[4] << 8) + data[5];\n      if (pesLen && pesLen > data.length - 6)\n        return;\n      var pts;\n      var dts;\n      var ptsDtsFlags = data[7];\n      if (ptsDtsFlags & 192) {\n        pts = (data[9] & 14) * 536870912 + (data[10] & 255) * 4194304 + (data[11] & 254) * 16384 + (data[12] & 255) * 128 + (data[13] & 254) / 2;\n        if (ptsDtsFlags & 64) {\n          dts = (data[14] & 14) * 536870912 + (data[15] & 255) * 4194304 + (data[16] & 254) * 16384 + (data[17] & 255) * 128 + (data[18] & 254) / 2;\n          if (pts - dts > 60 * 9e4)\n            pts = dts;\n        } else {\n          dts = pts;\n        }\n      }\n      return {\n        data: data.subarray(9 + headerDataLen),\n        pts,\n        dts\n      };\n    }\n  }]);\n  return TsDemuxer2;\n}();\nexport { TsDemuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ByteReader = /* @__PURE__ */ function() {\n  function ByteReader2(buf, offset, len) {\n    _classCallCheck(this, ByteReader2);\n    this.dv = new DataView(buf);\n    this.start = this.offset = offset || this.dv.byteOffset;\n    this.end = len ? this.start + len : this.start + this.dv.byteLength;\n  }\n  _createClass(ByteReader2, [{\n    key: \"buffer\",\n    get: function get() {\n      return this.dv.buffer;\n    }\n  }, {\n    key: \"unreadLength\",\n    get: function get() {\n      return Math.max(this.end - this.offset, 0);\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.end - this.start;\n    }\n  }, {\n    key: \"readFloat\",\n    value: function readFloat(byteNum) {\n      var val = 0;\n      switch (byteNum) {\n        case 4:\n          val = this.dv.getFloat32(this.offset);\n          break;\n        case 8:\n          val = this.dv.getFloat64(this.offset);\n          break;\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte float is not supported\"));\n      }\n      this.offset += byteNum;\n      return val;\n    }\n  }, {\n    key: \"back\",\n    value: function back(byteNum) {\n      this.offset -= byteNum;\n    }\n  }, {\n    key: \"skip\",\n    value: function skip(byteNum) {\n      this.offset += byteNum;\n    }\n  }, {\n    key: \"readInt\",\n    value: function readInt(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getInt8(offset);\n        case 2:\n          return this.dv.getInt16(offset);\n        case 4:\n          return this.dv.getInt32(offset);\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"read\",\n    value: function read(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getUint8(offset);\n        case 2:\n          return this.dv.getUint16(offset);\n        case 3:\n          return (this.dv.getUint16(offset) << 8) + this.dv.getUint8(offset + 2);\n        case 4:\n          return this.dv.getUint32(offset);\n        default:\n          this.back(byteNum - 4);\n          return this.read(byteNum - 4) + this.dv.getUint32(offset) * Math.pow(256, byteNum - 4);\n      }\n    }\n  }, {\n    key: \"write\",\n    value: function write(byteNum, val) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.setUint8(offset, val);\n        case 2:\n          return this.dv.setUint16(offset, val);\n        case 3:\n          return this.dv.setUint8(offset, val >>> 16), this.dv.setUint16(offset + 1, 65535 & val);\n        case 4:\n          return this.dv.setUint32(offset, val);\n        default:\n          throw new Error(\"write \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"readToBuffer\",\n    value: function readToBuffer(len) {\n      var buffer;\n      if (this.offset || len) {\n        buffer = this.dv.buffer.slice(this.offset, len ? this.offset + len : this.end);\n      } else {\n        buffer = this.dv.buffer;\n      }\n      this.offset += buffer.byteLength;\n      return buffer;\n    }\n  }, {\n    key: \"readToUint8\",\n    value: function readToUint8(len) {\n      var uint8 = new Uint8Array(this.dv.buffer, this.offset, len || this.unreadLength);\n      this.offset += uint8.byteLength;\n      return uint8;\n    }\n  }, {\n    key: \"readString\",\n    value: function readString(len) {\n      var i = 0, str = \"\";\n      for (; i < len; i++) {\n        str += String.fromCharCode(this.dv.getUint8(this.offset));\n        this.offset++;\n      }\n      return str;\n    }\n  }], [{\n    key: \"fromUint8\",\n    value: function fromUint8(uint8) {\n      return new ByteReader2(uint8.buffer, uint8.byteOffset, uint8.byteLength);\n    }\n  }, {\n    key: \"concatUint8s\",\n    value: function concatUint8s(args) {\n      var uint8 = new Uint8Array(args.reduce(function(ret, v) {\n        return ret + v.byteLength;\n      }, 0));\n      var offset = 0;\n      args.forEach(function(v) {\n        uint8.set(v, offset);\n        offset += v.byteLength;\n      });\n      return uint8;\n    }\n  }, {\n    key: \"concatUint8\",\n    value: function concatUint8() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this.concatUint8s(args);\n    }\n  }]);\n  return ByteReader2;\n}();\nexport { ByteReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar BitReader = /* @__PURE__ */ function() {\n  function BitReader2(val, size) {\n    _classCallCheck(this, BitReader2);\n    this.offset = 0;\n    this.val = val;\n    this.size = size;\n  }\n  _createClass(BitReader2, [{\n    key: \"skip\",\n    value: function skip(len) {\n      this.offset += len;\n    }\n  }, {\n    key: \"read\",\n    value: function read(len) {\n      var unreadLength = this.size - this.offset - len;\n      if (unreadLength >= 0) {\n        var bits = 0, i = 0;\n        this.offset += len;\n        if (this.size > 31) {\n          for (; i < len; i++) {\n            bits += Math.pow(2, i);\n          }\n          return this.val / Math.pow(2, unreadLength) & bits;\n        } else {\n          for (; i < len; i++) {\n            bits += 1 << i;\n          }\n          return this.val >>> unreadLength & bits;\n        }\n      }\n      throw new Error(\"the number of the read operation exceeds the total length limit of bits\");\n    }\n  }], [{\n    key: \"fromByte\",\n    value: function fromByte(byte, len) {\n      return new BitReader2(byte.read(len), len << 3);\n    }\n  }]);\n  return BitReader2;\n}();\nexport { BitReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { readBig32, readBig64, readBig24, readBig16, combineToFloat, toDegree, getAvcCodec } from \"../utils/index.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { ByteReader } from \"../utils/byte-reader.js\";\nimport { BitReader } from \"../utils/bit-reader.js\";\nvar MP4Parser = /* @__PURE__ */ function() {\n  function MP4Parser2() {\n    _classCallCheck(this, MP4Parser2);\n  }\n  _createClass(MP4Parser2, null, [{\n    key: \"findBox\",\n    value: function findBox(data, names) {\n      var start = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var ret = [];\n      if (!data)\n        return ret;\n      var size = 0;\n      var type = \"\";\n      var headerSize = 0;\n      while (data.length > 7) {\n        size = readBig32(data);\n        type = String.fromCharCode.apply(null, data.subarray(4, 8));\n        headerSize = 8;\n        if (size === 1) {\n          size = readBig64(data, 8);\n          headerSize += 8;\n        } else if (!size) {\n          size = data.length;\n        }\n        if (!names[0] || type === names[0]) {\n          var subData = data.subarray(0, size);\n          if (names.length < 2) {\n            ret.push({\n              start,\n              size,\n              headerSize,\n              type,\n              data: subData\n            });\n          } else {\n            return MP4Parser2.findBox(subData.subarray(headerSize), names.slice(1), start + headerSize);\n          }\n        }\n        start += size;\n        data = data.subarray(size);\n      }\n      return ret;\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.trackId = readBig32(data);\n        var start = 4;\n        var baseDataOffsetPresent = ret.flags & 255 & 1;\n        var sampleDescriptionIndexPresent = ret.flags & 255 & 2;\n        var defaultSampleDurationPresent = ret.flags & 255 & 8;\n        var defaultSampleSizePresent = ret.flags & 255 & 16;\n        var defaultSampleFlagsPresent = ret.flags & 255 & 32;\n        if (baseDataOffsetPresent) {\n          start += 4;\n          ret.baseDataOffset = readBig32(data, start);\n          start += 4;\n        }\n        if (sampleDescriptionIndexPresent) {\n          ret.sampleDescriptionIndex = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleDurationPresent) {\n          ret.defaultSampleDuration = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleSizePresent) {\n          ret.defaultSampleSize = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleFlagsPresent) {\n          ret.defaultSampleFlags = readBig32(data, start);\n        }\n      });\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        ret.reference_ID = readBig32(data, start);\n        start += 4;\n        ret.timescale = readBig32(data, start);\n        start += 4;\n        if (ret.version === 0) {\n          ret.earliest_presentation_time = readBig32(data, start);\n          start += 4;\n          ret.first_offset = readBig32(data, start);\n          start += 4;\n        } else {\n          ret.earliest_presentation_time = readBig64(data, start);\n          start += 8;\n          ret.first_offset = readBig64(data, start);\n          start += 8;\n        }\n        start += 2;\n        ret.references = [];\n        var count = readBig16(data, start);\n        start += 2;\n        for (var i = 0; i < count; i++) {\n          var ref = {};\n          ret.references.push(ref);\n          var tmp32 = readBig32(data, start);\n          start += 4;\n          ref.reference_type = tmp32 >> 31 & 1;\n          ref.referenced_size = tmp32 & 2147483647;\n          ref.subsegment_duration = readBig32(data, start);\n          start += 4;\n          tmp32 = readBig32(data, start);\n          start += 4;\n          ref.starts_with_SAP = tmp32 >> 31 & 1;\n          ref.SAP_type = tmp32 >> 28 & 7;\n          ref.SAP_delta_time = tmp32 & 268435455;\n        }\n      });\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mvhd = MP4Parser2.mvhd(MP4Parser2.findBox(data, [\"mvhd\"], start)[0]);\n        ret.trak = MP4Parser2.findBox(data, [\"trak\"], start).map(function(trak) {\n          return MP4Parser2.trak(trak);\n        });\n        ret.pssh = MP4Parser2.pssh(MP4Parser2.findBox(data, [\"pssh\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        ret.nextTrackId = readBig32(data, start + 76);\n      });\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tkhd = MP4Parser2.tkhd(MP4Parser2.findBox(data, [\"tkhd\"], start)[0]);\n        ret.mdia = MP4Parser2.mdia(MP4Parser2.findBox(data, [\"mdia\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        if (ret.version === 1) {\n          byte.read(8);\n          byte.read(8);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(8);\n        } else {\n          byte.read(4);\n          byte.read(4);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(4);\n        }\n        byte.skip(16);\n        ret.matrix = [];\n        for (var i = 0; i < 36; i++) {\n          ret.matrix.push(byte.read(1));\n        }\n        byte.back(36);\n        var caculatedMatrix = [];\n        for (var _i = 0, int32; _i < 3; _i++) {\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          int32 = byte.readInt(4);\n          caculatedMatrix.push(combineToFloat(int32 >> 30, int32 & 1073741823));\n        }\n        ret.rotation = toDegree(caculatedMatrix);\n        ret.width = byte.read(4);\n        ret.height = byte.read(4);\n      });\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mdhd = MP4Parser2.mdhd(MP4Parser2.findBox(data, [\"mdhd\"], start)[0]);\n        ret.hdlr = MP4Parser2.hdlr(MP4Parser2.findBox(data, [\"hdlr\"], start)[0]);\n        ret.minf = MP4Parser2.minf(MP4Parser2.findBox(data, [\"minf\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        var lang = readBig16(data, start);\n        ret.language = String.fromCharCode((lang >> 10 & 31) + 96, (lang >> 5 & 31) + 96, (lang & 31) + 96);\n      });\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 0) {\n          ret.handlerType = String.fromCharCode.apply(null, data.subarray(4, 8));\n        }\n      });\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.vmhd = MP4Parser2.vmhd(MP4Parser2.findBox(data, [\"vmhd\"], start)[0]);\n        ret.smhd = MP4Parser2.smhd(MP4Parser2.findBox(data, [\"smhd\"], start)[0]);\n        ret.stbl = MP4Parser2.stbl(MP4Parser2.findBox(data, [\"stbl\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"vmhd\",\n    value: function vmhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.graphicsmode = readBig16(data);\n        ret.opcolor = [readBig16(data, 2), readBig16(data, 4), readBig16(data, 6)];\n      });\n    }\n  }, {\n    key: \"smhd\",\n    value: function smhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.balance = readBig16(data);\n      });\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var _ret$stsd$entries$, _ret$stsd$entries$$si, _ret$stsd$entries$$si2;\n        ret.stsd = MP4Parser2.stsd(MP4Parser2.findBox(data, [\"stsd\"], start)[0]);\n        ret.stts = MP4Parser2.stts(MP4Parser2.findBox(data, [\"stts\"], start)[0]);\n        ret.ctts = MP4Parser2.ctts(MP4Parser2.findBox(data, [\"ctts\"], start)[0]);\n        ret.stsc = MP4Parser2.stsc(MP4Parser2.findBox(data, [\"stsc\"], start)[0]);\n        ret.stsz = MP4Parser2.stsz(MP4Parser2.findBox(data, [\"stsz\"], start)[0]);\n        ret.stco = MP4Parser2.stco(MP4Parser2.findBox(data, [\"stco\"], start)[0]);\n        if (!ret.stco) {\n          ret.co64 = MP4Parser2.co64(MP4Parser2.findBox(data, [\"co64\"], start)[0]);\n          ret.stco = ret.co64;\n        }\n        var default_IV_size = (_ret$stsd$entries$ = ret.stsd.entries[0]) === null || _ret$stsd$entries$ === void 0 ? void 0 : (_ret$stsd$entries$$si = _ret$stsd$entries$.sinf) === null || _ret$stsd$entries$$si === void 0 ? void 0 : (_ret$stsd$entries$$si2 = _ret$stsd$entries$$si.schi) === null || _ret$stsd$entries$$si2 === void 0 ? void 0 : _ret$stsd$entries$$si2.tenc.default_IV_size;\n        ret.stss = MP4Parser2.stss(MP4Parser2.findBox(data, [\"stss\"], start)[0]);\n        ret.senc = MP4Parser2.senc(MP4Parser2.findBox(data, [\"senc\"], start)[0], default_IV_size);\n      });\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(box) {\n      var iv = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        var sampleCount = readBig32(data, start);\n        start += 4;\n        ret.samples = [];\n        for (var i = 0; i < sampleCount; i++) {\n          var sample = {};\n          sample.InitializationVector = [];\n          for (var j = 0; j < iv; j++) {\n            sample.InitializationVector[j] = data[start + j];\n          }\n          start += iv;\n          if (ret.flags & 2) {\n            sample.subsamples = [];\n            var subsampleCount = readBig16(data, start);\n            start += 2;\n            for (var _j = 0; _j < subsampleCount; _j++) {\n              var subsample = {};\n              subsample.BytesOfClearData = readBig16(data, start);\n              start += 2;\n              subsample.BytesOfProtectedData = readBig32(data, start);\n              start += 4;\n              sample.subsamples.push(subsample);\n            }\n          }\n          ret.samples.push(sample);\n        }\n      });\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(box) {\n      return parseBox(box, true, function(ret, data) {\n        var keyIds = [];\n        var systemId = [];\n        var start = 0;\n        for (var i = 0; i < 16; i++) {\n          systemId.push(toHex(data[start + i]));\n        }\n        start += 16;\n        if (ret.version > 0) {\n          var numKeyIds = readBig32(data, start);\n          start += 4;\n          for (var _i2 = 0; _i2 < (\"\" + numKeyIds).length; _i2++) {\n            for (var j = 0; j < 16; j++) {\n              var keyId = data[start];\n              start += 1;\n              keyIds.push(toHex(keyId));\n            }\n          }\n        }\n        var dataSize = readBig32(data, start);\n        ret.data_size = dataSize;\n        start += 4;\n        ret.kid = keyIds;\n        ret.system_id = systemId;\n        ret.buffer = data;\n      });\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(box) {\n      return parseBox(box, true, function(ret, data, start) {\n        ret.entryCount = readBig32(data);\n        ret.entries = MP4Parser2.findBox(data.subarray(4), [], start + 4).map(function(b) {\n          switch (b.type) {\n            case \"av01\":\n              return MP4Parser2.av01(b);\n            case \"avc1\":\n            case \"avc2\":\n            case \"avc3\":\n            case \"avc4\":\n              return MP4Parser2.avc1(b);\n            case \"hvc1\":\n            case \"hev1\":\n              return MP4Parser2.hvc1(b);\n            case \"mp4a\":\n              return MP4Parser2.mp4a(b);\n            case \"alaw\":\n            case \"ulaw\":\n              return MP4Parser2.alaw(b);\n            case \"enca\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.channelCount = readBig16(data2, 16);\n                ret2.samplesize = readBig16(data2, 18);\n                ret2.sampleRate = readBig32(data2, 24) / (1 << 16);\n                data2 = data2.subarray(28);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.esds = MP4Parser2.esds(MP4Parser2.findBox(data2, [\"esds\"], start2)[0]);\n              });\n            case \"encv\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.width = readBig16(data2, 24);\n                ret2.height = readBig16(data2, 26);\n                ret2.horizresolution = readBig32(data2, 28);\n                ret2.vertresolution = readBig32(data2, 32);\n                data2 = data2.subarray(78);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.avcC = MP4Parser2.avcC(MP4Parser2.findBox(data2, [\"avcC\"], start2)[0]);\n                ret2.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(data2, [\"hvcC\"], start2)[0]);\n                ret2.pasp = MP4Parser2.pasp(MP4Parser2.findBox(data2, [\"pasp\"], start2)[0]);\n              });\n          }\n        }).filter(Boolean);\n      });\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(box) {\n      return parseBox(box, false, function(ret, data) {\n        var start = 6;\n        ret.default_IsEncrypted = data[start];\n        start += 1;\n        ret.default_IV_size = data[start];\n        start += 1;\n        ret.default_KID = [];\n        for (var i = 0; i < 16; i++) {\n          ret.default_KID.push(toHex(data[start]));\n          start += 1;\n        }\n      });\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tenc = MP4Parser2.tenc(MP4Parser2.findBox(data, [\"tenc\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.schi = MP4Parser2.schi(MP4Parser2.findBox(data, [\"schi\"], start)[0]);\n        ret.frma = MP4Parser2.frma(MP4Parser2.findBox(data, [\"frma\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"frma\",\n    value: function frma(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data_format = \"\";\n        for (var i = 0; i < 4; i++) {\n          ret.data_format += String.fromCharCode(data[i]);\n        }\n      });\n    }\n  }, {\n    key: \"colr\",\n    value: function colr(box) {\n      return parseBox(box, false, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        ret.data = box.data;\n        ret.colorType = byte.readString(4);\n        if (ret.colorType === \"nclx\") {\n          ret.colorPrimaries = byte.read(2);\n          ret.transferCharacteristics = byte.read(2);\n          ret.matrixCoefficients = byte.read(2);\n          ret.fullRangeFlag = byte.read(1) >> 7;\n        } else if (ret.colorType === \"rICC\" || ret.colorType === \"prof\") {\n          ret.iccProfile = data.readToUint8();\n        }\n      });\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.av1C = MP4Parser2.av1C(MP4Parser2.findBox(bodyData, [\"av1C\"], start)[0]);\n        ret.colr = MP4Parser2.colr(MP4Parser2.findBox(bodyData, [\"colr\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"av1C\",\n    value: function av1C(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        var byte = ByteReader.fromUint8(data);\n        var bit = BitReader.fromByte(byte, 4);\n        ret.marker = bit.read(1);\n        ret.version = bit.read(7);\n        ret.seqProfile = bit.read(3);\n        ret.seqLevelIdx0 = bit.read(5);\n        ret.seqTier0 = bit.read(1);\n        ret.highBitdepth = bit.read(1);\n        ret.twelveBit = bit.read(1);\n        ret.monochrome = bit.read(1);\n        ret.chromaSubsamplingX = bit.read(1);\n        ret.chromaSubsamplingY = bit.read(1);\n        ret.chromaSamplePosition = bit.read(2);\n        ret.reserved = bit.read(3);\n        ret.initialPresentationDelayPresent = bit.read(1);\n        if (ret.initialPresentationDelayPresent) {\n          ret.initialPresentationDelayMinusOne = bit.read(4);\n        } else {\n          ret.initialPresentationDelayMinusOne = 0;\n        }\n        ret.configOBUs = byte.readToUint8();\n        var bitdepth;\n        if (ret.seqLevelIdx0 === 2 && ret.highBitdepth === 1) {\n          bitdepth = ret.twelveBit === 1 ? \"12\" : \"10\";\n        } else if (ret.seqProfile <= 2) {\n          bitdepth = ret.highBitdepth === 1 ? \"10\" : \"08\";\n        }\n        ret.codec = [\"av01\", ret.seqProfile, (ret.seqLevelIdx0 < 10 ? \"0\" + ret.seqLevelIdx0 : ret.seqLevelIdx0) + (ret.seqTier0 ? \"H\" : \"M\"), bitdepth].join(\".\");\n      });\n    }\n  }, {\n    key: \"avc1\",\n    value: function avc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.avcC = MP4Parser2.avcC(MP4Parser2.findBox(bodyData, [\"avcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.configurationVersion = data[0];\n        ret.AVCProfileIndication = data[1];\n        ret.profileCompatibility = data[2];\n        ret.AVCLevelIndication = data[3];\n        ret.codec = getAvcCodec([data[1], data[2], data[3]]);\n        ret.lengthSizeMinusOne = data[4] & 3;\n        ret.spsLength = data[5] & 31;\n        ret.sps = [];\n        var start = 6;\n        for (var i = 0; i < ret.spsLength; i++) {\n          var size = readBig16(data, start);\n          start += 2;\n          ret.sps.push(data.subarray(start, start + size));\n          start += size;\n        }\n        ret.ppsLength = data[start];\n        start += 1;\n        ret.pps = [];\n        for (var _i3 = 0; _i3 < ret.ppsLength; _i3++) {\n          var _size = readBig16(data, start);\n          start += 2;\n          ret.pps.push(data.subarray(start, start += _size));\n          start += _size;\n        }\n      });\n    }\n  }, {\n    key: \"hvc1\",\n    value: function hvc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(bodyData, [\"hvcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.codec = \"hev1.1.6.L93.B0\";\n        ret.configurationVersion = data[0];\n        var tmp = data[1];\n        ret.generalProfileSpace = tmp >> 6;\n        ret.generalTierFlag = (tmp & 32) >> 5;\n        ret.generalProfileIdc = tmp & 31;\n        ret.generalProfileCompatibility = readBig32(data, 2);\n        ret.generalConstraintIndicatorFlags = data.subarray(6, 12);\n        ret.generalLevelIdc = data[12];\n        ret.avgFrameRate = readBig16(data, 19);\n        ret.numOfArrays = data[22];\n        ret.vps = [];\n        ret.sps = [];\n        ret.pps = [];\n        var start = 23;\n        var type = 0;\n        var numNalus = 0;\n        var size = 0;\n        for (var i = 0; i < ret.numOfArrays; i++) {\n          type = data[start] & 63;\n          numNalus = readBig16(data, start + 1);\n          start += 3;\n          var nalus = [];\n          for (var j = 0; j < numNalus; j++) {\n            size = readBig16(data, start);\n            start += 2;\n            nalus.push(data.subarray(start, start + size));\n            start += size;\n          }\n          if (type === 32) {\n            var _ret$vps;\n            (_ret$vps = ret.vps).push.apply(_ret$vps, nalus);\n          } else if (type === 33) {\n            var _ret$sps;\n            (_ret$sps = ret.sps).push.apply(_ret$sps, nalus);\n          } else if (type === 34) {\n            var _ret$pps;\n            (_ret$pps = ret.pps).push.apply(_ret$pps, nalus);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.hSpacing = readBig32(data);\n        ret.vSpacing = readBig32(data, 4);\n      });\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseAudioSampleEntry(ret, data);\n        ret.esds = MP4Parser2.esds(MP4Parser2.findBox(data.subarray(bodyStart), [\"esds\"], start + bodyStart)[0]);\n      });\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.codec = \"mp4a.\";\n        var start = 0;\n        var byteRead = 0;\n        var size = 0;\n        var tag = 0;\n        while (data.length) {\n          start = 0;\n          tag = data[start];\n          byteRead = data[start + 1];\n          start += 2;\n          while (byteRead & 128) {\n            size = (byteRead & 127) << 7;\n            byteRead = data[start];\n            start += 1;\n          }\n          size += byteRead & 127;\n          if (tag === 3) {\n            data = data.subarray(start + 3);\n          } else if (tag === 4) {\n            ret.codec += (data[start].toString(16) + \".\").padStart(3, \"0\");\n            data = data.subarray(start + 13);\n          } else if (tag === 5) {\n            var config = ret.config = data.subarray(start, start + size);\n            var objectType = (config[0] & 248) >> 3;\n            if (objectType === 31 && config.length >= 2) {\n              objectType = 32 + ((config[0] & 7) << 3) + ((config[1] & 224) >> 5);\n            }\n            ret.objectType = objectType;\n            ret.codec += objectType.toString(16);\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          } else {\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"alaw\",\n    value: function alaw(box) {\n      return parseBox(box, false, function(ret, data) {\n        parseAudioSampleEntry(ret, data);\n      });\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            count: readBig32(data, start),\n            delta: readBig32(data, start + 4)\n          });\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        if (ret.version === 1) {\n          for (var i = 0; i < entryCount; i++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: readBig32(data, start + 4)\n            });\n            start += 8;\n          }\n        } else {\n          for (var _i4 = 0; _i4 < entryCount; _i4++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: -(~readBig32(data, start + 4) + 1)\n            });\n            start += 8;\n          }\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            firstChunk: readBig32(data, start),\n            samplesPerChunk: readBig32(data, start + 4),\n            sampleDescriptionIndex: readBig32(data, start + 8)\n          });\n          start += 12;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(box) {\n      return parseBox(box, true, function(ret, data) {\n        var sampleSize = readBig32(data);\n        var sampleCount = readBig32(data, 4);\n        var entrySizes = [];\n        if (!sampleSize) {\n          var start = 8;\n          for (var i = 0; i < sampleCount; i++) {\n            entrySizes.push(readBig32(data, start));\n            start += 4;\n          }\n        }\n        ret.sampleSize = sampleSize;\n        ret.sampleCount = sampleCount;\n        ret.entrySizes = entrySizes;\n      });\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"co64\",\n    value: function co64(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig64(data, start));\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mfhd = MP4Parser2.mfhd(MP4Parser2.findBox(data, [\"mfhd\"], start)[0]);\n        ret.traf = MP4Parser2.findBox(data, [\"traf\"], start).map(function(t) {\n          return MP4Parser2.traf(t);\n        });\n      });\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.sequenceNumber = readBig32(data);\n      });\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tfhd = MP4Parser2.tfhd(MP4Parser2.findBox(data, [\"tfhd\"], start)[0]);\n        ret.tfdt = MP4Parser2.tfdt(MP4Parser2.findBox(data, [\"tfdt\"], start)[0]);\n        ret.trun = MP4Parser2.trun(MP4Parser2.findBox(data, [\"trun\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(box) {\n      return parseBox(box, true, function(ret, data) {\n        var version = ret.version, flags = ret.flags;\n        var dataLen = data.length;\n        var sampleCount = ret.sampleCount = readBig32(data);\n        var offset = 4;\n        if (dataLen > offset && flags & 1) {\n          ret.dataOffset = -(~readBig32(data, offset) + 1);\n          offset += 4;\n        }\n        if (dataLen > offset && flags & 4) {\n          ret.firstSampleFlags = readBig32(data, offset);\n          offset += 4;\n        }\n        ret.samples = [];\n        if (dataLen > offset) {\n          var sample;\n          for (var i = 0; i < sampleCount; i++) {\n            sample = {};\n            if (flags & 256) {\n              sample.duration = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 512) {\n              sample.size = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 1024) {\n              sample.flags = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 2048) {\n              if (version) {\n                sample.cts = -(~readBig32(data, offset + 4) + 1);\n              } else {\n                sample.cts = readBig32(data, offset);\n              }\n              offset += 4;\n            }\n            ret.samples.push(sample);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 1) {\n          ret.baseMediaDecodeTime = readBig64(data);\n        } else {\n          ret.baseMediaDecodeTime = readBig32(data);\n        }\n      });\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(data) {\n      return !!MP4Parser2.findBox(data, [\"ftyp\"]);\n    }\n  }, {\n    key: \"parseSampleFlags\",\n    value: function parseSampleFlags(flags) {\n      return {\n        isLeading: (flags[0] & 12) >>> 2,\n        dependsOn: flags[0] & 3,\n        isDependedOn: (flags[1] & 192) >>> 6,\n        hasRedundancy: (flags[1] & 48) >>> 4,\n        paddingValue: (flags[1] & 14) >>> 1,\n        isNonSyncSample: flags[1] & 1,\n        degradationPriority: flags[2] << 8 | flags[3]\n      };\n    }\n  }, {\n    key: \"moovToTrack\",\n    value: function moovToTrack(moov, videoTrack, audioTrack) {\n      var _e$esds, _e$esds2;\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia, _t$mdia$hdlr;\n        return ((_t$mdia = t.mdia) === null || _t$mdia === void 0 ? void 0 : (_t$mdia$hdlr = _t$mdia.hdlr) === null || _t$mdia$hdlr === void 0 ? void 0 : _t$mdia$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia2, _t$mdia2$hdlr;\n        return ((_t$mdia2 = t.mdia) === null || _t$mdia2 === void 0 ? void 0 : (_t$mdia2$hdlr = _t$mdia2.hdlr) === null || _t$mdia2$hdlr === void 0 ? void 0 : _t$mdia2$hdlr.handlerType) === \"soun\";\n      });\n      if (vTrack && videoTrack) {\n        var _vTrack$tkhd, _vTrack$mdia, _vTrack$mdia$minf, _vTrack$mdia$minf$stb, _vTrack$mdia2, _vTrack$mdia2$minf, _vTrack$mdia2$minf$st;\n        var v = videoTrack;\n        var _vTrackId = (_vTrack$tkhd = vTrack.tkhd) === null || _vTrack$tkhd === void 0 ? void 0 : _vTrack$tkhd.trackId;\n        if (_vTrackId !== null && _vTrackId !== void 0)\n          v.id = vTrack.tkhd.trackId;\n        v.tkhdDuration = vTrack.tkhd.duration;\n        v.mvhdDurtion = moov.mvhd.duration;\n        v.mvhdTimecale = moov.mvhd.timescale;\n        v.timescale = v.formatTimescale = vTrack.mdia.mdhd.timescale;\n        v.duration = vTrack.mdia.mdhd.duration || v.mvhdDurtion / v.mvhdTimecale * v.timescale;\n        v.rotation = vTrack.tkhd.rotation;\n        v.matrix = vTrack.tkhd.matrix;\n        var e1 = vTrack.mdia.minf.stbl.stsd.entries[0];\n        v.width = e1.width;\n        v.height = e1.height;\n        if (e1.pasp) {\n          v.sarRatio = [e1.pasp.hSpacing, e1.pasp.vSpacing];\n        }\n        if (e1.av1C) {\n          v.codecType = VideoCodecType.AV1;\n          v.codec = e1.av1C.codec;\n          v.av1C = e1.av1C.data;\n          v.colr = e1.colr.data;\n        } else if (e1.hvcC) {\n          v.codecType = VideoCodecType.HEVC;\n          v.codec = e1.hvcC.codec;\n          v.vps = e1.hvcC.vps;\n          v.sps = e1.hvcC.sps;\n          v.pps = e1.hvcC.pps;\n          v.hvcC = e1.hvcC.data;\n        } else if (e1.avcC) {\n          v.codec = e1.avcC.codec;\n          v.sps = e1.avcC.sps;\n          v.pps = e1.avcC.pps;\n        } else {\n          throw new Error(\"unknown video stsd entry\");\n        }\n        v.present = true;\n        v.ext = {};\n        v.ext.stss = (_vTrack$mdia = vTrack.mdia) === null || _vTrack$mdia === void 0 ? void 0 : (_vTrack$mdia$minf = _vTrack$mdia.minf) === null || _vTrack$mdia$minf === void 0 ? void 0 : (_vTrack$mdia$minf$stb = _vTrack$mdia$minf.stbl) === null || _vTrack$mdia$minf$stb === void 0 ? void 0 : _vTrack$mdia$minf$stb.stss;\n        v.ext.ctts = (_vTrack$mdia2 = vTrack.mdia) === null || _vTrack$mdia2 === void 0 ? void 0 : (_vTrack$mdia2$minf = _vTrack$mdia2.minf) === null || _vTrack$mdia2$minf === void 0 ? void 0 : (_vTrack$mdia2$minf$st = _vTrack$mdia2$minf.stbl) === null || _vTrack$mdia2$minf$st === void 0 ? void 0 : _vTrack$mdia2$minf$st.ctts;\n        if (e1 && e1.type === \"encv\") {\n          var _e1$sinf, _e1$sinf$schi, _e1$sinf2, _e1$sinf2$schi, _e1$sinf3, _e1$sinf3$schi, _e1$sinf4, _e1$sinf4$frma;\n          v.isVideoEncryption = true;\n          e1.default_KID = (_e1$sinf = e1.sinf) === null || _e1$sinf === void 0 ? void 0 : (_e1$sinf$schi = _e1$sinf.schi) === null || _e1$sinf$schi === void 0 ? void 0 : _e1$sinf$schi.tenc.default_KID;\n          e1.default_IsEncrypted = (_e1$sinf2 = e1.sinf) === null || _e1$sinf2 === void 0 ? void 0 : (_e1$sinf2$schi = _e1$sinf2.schi) === null || _e1$sinf2$schi === void 0 ? void 0 : _e1$sinf2$schi.tenc.default_IsEncrypted;\n          e1.default_IV_size = (_e1$sinf3 = e1.sinf) === null || _e1$sinf3 === void 0 ? void 0 : (_e1$sinf3$schi = _e1$sinf3.schi) === null || _e1$sinf3$schi === void 0 ? void 0 : _e1$sinf3$schi.tenc.default_IV_size;\n          v.videoSenc = vTrack.mdia.minf.stbl.senc && vTrack.mdia.minf.stbl.senc.samples;\n          e1.data_format = (_e1$sinf4 = e1.sinf) === null || _e1$sinf4 === void 0 ? void 0 : (_e1$sinf4$frma = _e1$sinf4.frma) === null || _e1$sinf4$frma === void 0 ? void 0 : _e1$sinf4$frma.data_format;\n          v.useEME = moov.useEME;\n          v.kidValue = moov.kidValue;\n          v.pssh = moov.pssh;\n          v.encv = e1;\n        }\n      }\n      if (aTrack && audioTrack) {\n        var _aTrack$tkhd, _e$esds3, _e$esds4, _aTrack$mdia, _aTrack$mdia$minf, _aTrack$mdia$minf$stb, _aTrack$mdia2, _aTrack$mdia2$minf, _aTrack$mdia2$minf$st;\n        var a = audioTrack;\n        var _aTrackId = (_aTrack$tkhd = aTrack.tkhd) === null || _aTrack$tkhd === void 0 ? void 0 : _aTrack$tkhd.trackId;\n        if (_aTrackId !== null && _aTrackId !== void 0)\n          a.id = aTrack.tkhd.trackId;\n        a.tkhdDuration = aTrack.tkhd.duration;\n        a.mvhdDurtion = moov.mvhd.duration;\n        a.mvhdTimecale = moov.mvhd.timescale;\n        a.timescale = a.formatTimescale = aTrack.mdia.mdhd.timescale;\n        a.duration = aTrack.mdia.mdhd.duration || a.mvhdDurtion / a.mvhdTimecale * a.timescale;\n        var _e = aTrack.mdia.minf.stbl.stsd.entries[0];\n        a.sampleSize = _e.sampleSize;\n        a.sampleRate = _e.sampleRate;\n        a.channelCount = _e.channelCount;\n        a.present = true;\n        switch (_e.type) {\n          case \"alaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMA;\n            a.sampleRate = 8e3;\n            break;\n          case \"ulaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMU;\n            a.sampleRate = 8e3;\n            break;\n          default:\n            a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n            a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n            a.objectType = ((_e$esds = _e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.objectType) || 2;\n            if (_e.esds)\n              a.config = Array.from(_e.esds.config);\n            a.codec = ((_e$esds2 = _e.esds) === null || _e$esds2 === void 0 ? void 0 : _e$esds2.codec) || \"mp4a.40.2\";\n            break;\n        }\n        a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n        a.objectType = ((_e$esds3 = _e.esds) === null || _e$esds3 === void 0 ? void 0 : _e$esds3.objectType) || 2;\n        if (_e.esds) {\n          if (_e.esds.config) {\n            a.config = Array.from(_e.esds.config);\n          } else {\n            console.warn(\"esds config is null\");\n          }\n        }\n        a.codec = ((_e$esds4 = _e.esds) === null || _e$esds4 === void 0 ? void 0 : _e$esds4.codec) || \"mp4a.40.2\";\n        a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n        a.ext = {};\n        a.ext.stss = (_aTrack$mdia = aTrack.mdia) === null || _aTrack$mdia === void 0 ? void 0 : (_aTrack$mdia$minf = _aTrack$mdia.minf) === null || _aTrack$mdia$minf === void 0 ? void 0 : (_aTrack$mdia$minf$stb = _aTrack$mdia$minf.stbl) === null || _aTrack$mdia$minf$stb === void 0 ? void 0 : _aTrack$mdia$minf$stb.stss;\n        a.ext.ctts = (_aTrack$mdia2 = aTrack.mdia) === null || _aTrack$mdia2 === void 0 ? void 0 : (_aTrack$mdia2$minf = _aTrack$mdia2.minf) === null || _aTrack$mdia2$minf === void 0 ? void 0 : (_aTrack$mdia2$minf$st = _aTrack$mdia2$minf.stbl) === null || _aTrack$mdia2$minf$st === void 0 ? void 0 : _aTrack$mdia2$minf$st.ctts;\n        a.present = true;\n        if (_e && _e.type === \"enca\") {\n          var _e$sinf, _e$sinf$frma, _e$sinf2, _e$sinf2$schi, _e$sinf3, _e$sinf3$schi, _e$sinf4, _e$sinf4$schi;\n          a.isAudioEncryption = true;\n          _e.data_format = (_e$sinf = _e.sinf) === null || _e$sinf === void 0 ? void 0 : (_e$sinf$frma = _e$sinf.frma) === null || _e$sinf$frma === void 0 ? void 0 : _e$sinf$frma.data_format;\n          _e.default_KID = (_e$sinf2 = _e.sinf) === null || _e$sinf2 === void 0 ? void 0 : (_e$sinf2$schi = _e$sinf2.schi) === null || _e$sinf2$schi === void 0 ? void 0 : _e$sinf2$schi.tenc.default_KID;\n          _e.default_IsEncrypted = (_e$sinf3 = _e.sinf) === null || _e$sinf3 === void 0 ? void 0 : (_e$sinf3$schi = _e$sinf3.schi) === null || _e$sinf3$schi === void 0 ? void 0 : _e$sinf3$schi.tenc.default_IsEncrypted;\n          _e.default_IV_size = (_e$sinf4 = _e.sinf) === null || _e$sinf4 === void 0 ? void 0 : (_e$sinf4$schi = _e$sinf4.schi) === null || _e$sinf4$schi === void 0 ? void 0 : _e$sinf4$schi.tenc.default_IV_size;\n          a.audioSenc = aTrack.mdia.minf.stbl.senc && aTrack.mdia.minf.stbl.senc.samples;\n          a.useEME = moov.useEME;\n          a.kidValue = moov.kidValue;\n          a.enca = _e;\n        }\n      }\n      audioTrack && (audioTrack.isVideoEncryption = videoTrack ? videoTrack.isVideoEncryption : false);\n      videoTrack && (videoTrack.isAudioEncryption = audioTrack ? audioTrack.isAudioEncryption : false);\n      if (videoTrack !== null && videoTrack !== void 0 && videoTrack.encv || audioTrack !== null && audioTrack !== void 0 && audioTrack.enca) {\n        var _videoTrack$encv, _audioTrack$enca;\n        var vkid = videoTrack === null || videoTrack === void 0 ? void 0 : (_videoTrack$encv = videoTrack.encv) === null || _videoTrack$encv === void 0 ? void 0 : _videoTrack$encv.default_KID;\n        var akid = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$enca = audioTrack.enca) === null || _audioTrack$enca === void 0 ? void 0 : _audioTrack$enca.default_KID;\n        var kid = vkid || akid ? (vkid || akid).join(\"\") : null;\n        videoTrack && (videoTrack.kid = kid);\n        audioTrack && (audioTrack.kid = kid);\n      }\n      videoTrack && (videoTrack.flags = 3841);\n      audioTrack && (audioTrack.flags = 1793);\n      return {\n        videoTrack,\n        audioTrack\n      };\n    }\n  }, {\n    key: \"evaluateDefaultDuration\",\n    value: function evaluateDefaultDuration(videoTrack, audioTrack, videoSampleCount) {\n      var _audioTrack$samples;\n      var audioSampleCount = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$samples = audioTrack.samples) === null || _audioTrack$samples === void 0 ? void 0 : _audioTrack$samples.length;\n      if (!audioSampleCount)\n        return 1024;\n      var segmentDuration = 1024 * audioSampleCount / audioTrack.timescale;\n      return segmentDuration * videoTrack.timescale / videoSampleCount;\n    }\n  }, {\n    key: \"moofToSamples\",\n    value: function moofToSamples(moof, videoTrack, audioTrack) {\n      var ret = {};\n      if (moof.mfhd) {\n        if (videoTrack)\n          videoTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n        if (audioTrack)\n          audioTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n      }\n      moof.traf.forEach(function(_ref) {\n        var tfhd = _ref.tfhd, tfdt = _ref.tfdt, trun = _ref.trun;\n        if (!tfhd || !trun)\n          return;\n        if (tfdt) {\n          if (videoTrack && videoTrack.id === tfhd.trackId)\n            videoTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n          if (audioTrack && audioTrack.id === tfhd.trackId)\n            audioTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n        }\n        var defaultSize = tfhd.defaultSampleSize || 0;\n        var defaultDuration = tfhd.defaultSampleDuration || MP4Parser2.evaluateDefaultDuration(videoTrack, audioTrack, trun.samples.length || trun.sampleCount);\n        var offset = trun.dataOffset || 0;\n        var dts = 0;\n        var gopId = -1;\n        if (!trun.samples.length && trun.sampleCount) {\n          ret[tfhd.trackId] = [];\n          for (var i = 0; i < trun.sampleCount; i++) {\n            ret[tfhd.trackId].push({\n              offset,\n              dts,\n              duration: defaultDuration,\n              size: defaultSize\n            });\n            dts += defaultDuration;\n            offset += defaultSize;\n          }\n        } else {\n          ret[tfhd.trackId] = trun.samples.map(function(s, index) {\n            s = {\n              offset,\n              dts,\n              pts: dts + (s.cts || 0),\n              duration: s.duration || defaultDuration,\n              size: s.size || defaultSize,\n              gopId,\n              keyframe: index === 0 || s.flags !== null && s.flags !== void 0 && (s.flags & 65536) >>> 0 !== 65536\n            };\n            if (s.keyframe) {\n              gopId++;\n              s.gopId = gopId;\n            }\n            dts += s.duration;\n            offset += s.size;\n            return s;\n          });\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"moovToSamples\",\n    value: function moovToSamples(moov) {\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia3, _t$mdia3$hdlr;\n        return ((_t$mdia3 = t.mdia) === null || _t$mdia3 === void 0 ? void 0 : (_t$mdia3$hdlr = _t$mdia3.hdlr) === null || _t$mdia3$hdlr === void 0 ? void 0 : _t$mdia3$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia4, _t$mdia4$hdlr;\n        return ((_t$mdia4 = t.mdia) === null || _t$mdia4 === void 0 ? void 0 : (_t$mdia4$hdlr = _t$mdia4.hdlr) === null || _t$mdia4$hdlr === void 0 ? void 0 : _t$mdia4$hdlr.handlerType) === \"soun\";\n      });\n      if (!vTrack && !aTrack)\n        return;\n      var videoSamples;\n      var audioSamples;\n      if (vTrack) {\n        var _vTrack$mdia3, _vTrack$mdia3$minf;\n        var videoStbl = (_vTrack$mdia3 = vTrack.mdia) === null || _vTrack$mdia3 === void 0 ? void 0 : (_vTrack$mdia3$minf = _vTrack$mdia3.minf) === null || _vTrack$mdia3$minf === void 0 ? void 0 : _vTrack$mdia3$minf.stbl;\n        if (!videoStbl)\n          return;\n        var stts = videoStbl.stts, stsc = videoStbl.stsc, stsz = videoStbl.stsz, stco = videoStbl.stco, stss = videoStbl.stss, ctts = videoStbl.ctts;\n        if (!stts || !stsc || !stsz || !stco || !stss)\n          return;\n        videoSamples = getSamples(stts, stsc, stsz, stco, ctts, stss);\n      }\n      if (aTrack) {\n        var _aTrack$mdia3, _aTrack$mdia3$minf, _aTrack$mdia$mdhd;\n        var audioStbl = (_aTrack$mdia3 = aTrack.mdia) === null || _aTrack$mdia3 === void 0 ? void 0 : (_aTrack$mdia3$minf = _aTrack$mdia3.minf) === null || _aTrack$mdia3$minf === void 0 ? void 0 : _aTrack$mdia3$minf.stbl;\n        if (!audioStbl)\n          return;\n        var timescale = (_aTrack$mdia$mdhd = aTrack.mdia.mdhd) === null || _aTrack$mdia$mdhd === void 0 ? void 0 : _aTrack$mdia$mdhd.timescale;\n        var _stts = audioStbl.stts, _stsc = audioStbl.stsc, _stsz = audioStbl.stsz, _stco = audioStbl.stco;\n        if (!timescale || !_stts || !_stsc || !_stsz || !_stco)\n          return;\n        audioSamples = getSamples(_stts, _stsc, _stsz, _stco);\n      }\n      return {\n        videoSamples,\n        audioSamples\n      };\n    }\n  }]);\n  return MP4Parser2;\n}();\nfunction getSamples(stts, stsc, stsz, stco, ctts, stss) {\n  var samples = [];\n  var cttsEntries = ctts === null || ctts === void 0 ? void 0 : ctts.entries;\n  var stscEntries = stsc.entries;\n  var stcoEntries = stco.entries;\n  var stszEntrySizes = stsz.entrySizes;\n  var stssEntries = stss === null || stss === void 0 ? void 0 : stss.entries;\n  var keyframeMap;\n  if (stssEntries) {\n    keyframeMap = {};\n    stssEntries.forEach(function(x) {\n      keyframeMap[x - 1] = true;\n    });\n  }\n  var cttsArr;\n  if (cttsEntries) {\n    cttsArr = [];\n    cttsEntries.forEach(function(_ref2) {\n      var count = _ref2.count, offset = _ref2.offset;\n      for (var i = 0; i < count; i++) {\n        cttsArr.push(offset);\n      }\n    });\n  }\n  var sample;\n  var gopId = -1;\n  var dts = 0;\n  var pos = 0;\n  var chunkIndex = 0;\n  var chunkRunIndex = 0;\n  var offsetInChunk = 0;\n  var lastSampleInChunk = stscEntries[0].samplesPerChunk;\n  var lastChunkInRun = stscEntries[1] ? stscEntries[1].firstChunk - 1 : Infinity;\n  stts.entries.forEach(function(_ref3) {\n    var count = _ref3.count, delta = _ref3.delta;\n    for (var i = 0; i < count; i++) {\n      sample = {\n        dts,\n        duration: delta,\n        size: stszEntrySizes[pos] || stsz.sampleSize,\n        offset: stcoEntries[chunkIndex] + offsetInChunk,\n        index: pos\n      };\n      if (stssEntries) {\n        sample.keyframe = keyframeMap[pos];\n        if (sample.keyframe) {\n          gopId++;\n        }\n        sample.gopId = gopId;\n      }\n      if (cttsArr && pos < cttsArr.length) {\n        sample.pts = sample.dts + cttsArr[pos];\n      }\n      samples.push(sample);\n      dts += delta;\n      pos++;\n      if (pos < lastSampleInChunk) {\n        offsetInChunk += sample.size;\n      } else {\n        chunkIndex++;\n        offsetInChunk = 0;\n        if (chunkIndex >= lastChunkInRun) {\n          chunkRunIndex++;\n          lastChunkInRun = stscEntries[chunkRunIndex + 1] ? stscEntries[chunkRunIndex + 1].firstChunk - 1 : Infinity;\n        }\n        lastSampleInChunk += stscEntries[chunkRunIndex].samplesPerChunk;\n      }\n    }\n  });\n  return samples;\n}\nfunction parseVisualSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.width = readBig16(data, 24);\n  ret.height = readBig16(data, 26);\n  ret.horizresolution = readBig32(data, 28);\n  ret.vertresolution = readBig32(data, 32);\n  ret.frameCount = readBig16(data, 40);\n  ret.depth = readBig16(data, 74);\n  return 78;\n}\nfunction parseAudioSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.channelCount = readBig16(data, 16);\n  ret.sampleSize = readBig16(data, 18);\n  ret.sampleRate = readBig32(data, 24) / (1 << 16);\n  return 28;\n}\nfunction parseBox(box, isFullBox, parse) {\n  if (!box)\n    return;\n  if (box.size !== box.data.length) {\n    throw new Error(\"box \".concat(box.type, \" size !== data.length\"));\n  }\n  var ret = {\n    start: box.start,\n    size: box.size,\n    headerSize: box.headerSize,\n    type: box.type\n  };\n  if (isFullBox) {\n    ret.version = box.data[box.headerSize];\n    ret.flags = readBig24(box.data, box.headerSize + 1);\n    ret.headerSize += 4;\n  }\n  parse(ret, box.data.subarray(ret.headerSize), ret.start + ret.headerSize);\n  return ret;\n}\nvar padStart = function padStart2(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nvar toHex = function toHex2() {\n  var hex = [];\n  for (var _len = arguments.length, value = new Array(_len), _key = 0; _key < _len; _key++) {\n    value[_key] = arguments[_key];\n  }\n  value.forEach(function(item) {\n    hex.push(padStart(Number(item).toString(16), 2, 0));\n  });\n  return hex[0];\n};\nexport { MP4Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { concatUint8Array } from \"xgplayer-streaming-shared\";\nvar Decryptor = /* @__PURE__ */ function() {\n  function Decryptor2() {\n    _classCallCheck(this, Decryptor2);\n    var crypto = window.crypto || window.msCrypto;\n    this.subtle = crypto && (crypto.subtle || crypto.webkitSubtle);\n    this.externalDecryptor = null;\n  }\n  _createClass(Decryptor2, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$externalDecrypt;\n      if ((_this$externalDecrypt = this.externalDecryptor) !== null && _this$externalDecrypt !== void 0 && _this$externalDecrypt.destroy) {\n        this.externalDecryptor.destroy();\n      }\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(video, audio) {\n      if (!video && !audio)\n        return;\n      var ret = [];\n      if (video) {\n        ret[0] = this._decryptSegment(video);\n      }\n      if (audio) {\n        ret[1] = this._decryptSegment(audio);\n      }\n      return Promise.all(ret);\n    }\n  }, {\n    key: \"_decryptSegment\",\n    value: function() {\n      var _decryptSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(seg) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = seg.data;\n                if (!seg.key) {\n                  _context2.next = 5;\n                  break;\n                }\n                _context2.next = 4;\n                return this._decryptData(seg.data, seg.key, seg.keyIv);\n              case 4:\n                data = _context2.sent;\n              case 5:\n                if (seg.map) {\n                  _context2.next = 7;\n                  break;\n                }\n                return _context2.abrupt(\"return\", data);\n              case 7:\n                return _context2.abrupt(\"return\", concatUint8Array(seg.map, data));\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function _decryptSegment(_x4) {\n        return _decryptSegment2.apply(this, arguments);\n      }\n      return _decryptSegment;\n    }()\n  }, {\n    key: \"_decryptData\",\n    value: function() {\n      var _decryptData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(data, key, iv) {\n        var aesKey;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.externalDecryptor) {\n                  _context3.next = 6;\n                  break;\n                }\n                _context3.next = 3;\n                return this.externalDecryptor.decrypt(data, key, iv);\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n              case 6:\n                if (this.subtle) {\n                  _context3.next = 8;\n                  break;\n                }\n                throw new Error(\"crypto is not defined\");\n              case 8:\n                _context3.next = 10;\n                return this.subtle.importKey(\"raw\", key, {\n                  name: \"AES-CBC\"\n                }, false, [\"encrypt\", \"decrypt\"]);\n              case 10:\n                aesKey = _context3.sent;\n                _context3.t0 = Uint8Array;\n                _context3.next = 14;\n                return this.subtle.decrypt({\n                  name: \"AES-CBC\",\n                  iv\n                }, aesKey, data);\n              case 14:\n                _context3.t1 = _context3.sent;\n                return _context3.abrupt(\"return\", new _context3.t0(_context3.t1));\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _decryptData(_x5, _x6, _x7) {\n        return _decryptData2.apply(this, arguments);\n      }\n      return _decryptData;\n    }()\n  }]);\n  return Decryptor2;\n}();\nexport { Decryptor };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack } from \"../model/metadata-track.js\";\nimport { concatUint8Array, readBig32 } from \"../utils/index.js\";\nimport { MP4Parser } from \"./mp4-parser.js\";\nvar FMP4Demuxer = /* @__PURE__ */ function() {\n  function FMP4Demuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, FMP4Demuxer2);\n    _defineProperty(this, \"__loadedMoofWraps\", []);\n    _defineProperty(this, \"__lastRemainData\", null);\n    _defineProperty(this, \"__lastRemainDataStart\", 0);\n    _defineProperty(this, \"__nextMoofStart\", -1);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n  }\n  _createClass(FMP4Demuxer2, [{\n    key: \"demuxPart\",\n    value: function demuxPart(partData, partDataStart, moov) {\n      var _this = this;\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      var isAV01 = /av01/.test(videoTrack.codec);\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      var data = partData;\n      var dataStart = partDataStart;\n      if (this.__lastRemainData) {\n        var lastRemainDataEnd = this.__lastRemainDataStart + this.__lastRemainData.byteLength;\n        var continuous = partDataStart <= lastRemainDataEnd && partDataStart > this.__lastRemainDataStart && partDataStart + partData.byteLength > lastRemainDataEnd;\n        if (continuous) {\n          var noDuplicateData = partData.subarray(this.__lastRemainData.byteLength + this.__lastRemainDataStart - partDataStart);\n          data = concatUint8Array(this.__lastRemainData, noDuplicateData);\n          dataStart = this.__lastRemainDataStart;\n          this.__lastRemainData = null;\n        } else {\n          this.__lastRemainData = null;\n          this.__lastRemainDataStart = 0;\n          this.__nextMoofStart = -1;\n        }\n      }\n      if (!moov) {\n        var moovBox = MP4Parser.findBox(data, [\"moov\"])[0];\n        if (!moovBox)\n          throw new Error(\"cannot found moov box\");\n        moov = MP4Parser.moov(moovBox);\n      }\n      if (data) {\n        var dataEnd = dataStart + data.byteLength;\n        if (!videoExist && !audioExist) {\n          MP4Parser.moovToTrack(moov, videoTrack, audioTrack);\n        }\n        var moofBoxes = [];\n        if (this.__nextMoofStart < 0) {\n          MP4Parser.findBox(data, [\"moof\"], dataStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        } else if (this.__nextMoofStart >= dataStart && this.__nextMoofStart <= dataEnd - 8) {\n          MP4Parser.findBox(data.subarray(this.__nextMoofStart - dataStart), [\"moof\"], this.__nextMoofStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        }\n        moofBoxes.filter(function(moofBox) {\n          return moofBox.size <= moofBox.data.length;\n        }).forEach(function(moofBox) {\n          var moof = MP4Parser.moof(moofBox);\n          _this.__nextMoofStart = moof.start + Math.max.apply(Math, _toConsumableArray(moof.traf.map(function(v) {\n            return v.trun.samples.reduce(function(ret, w) {\n              return ret + w.size;\n            }, v.trun.dataOffset || 0);\n          })));\n          _this.__loadedMoofWraps.push({\n            start: moof.start,\n            nextMoofStart: _this.__nextMoofStart,\n            moof\n          });\n          _this.__loadedMoofWraps.sort(function(p, n) {\n            return p.start - n.start;\n          });\n        });\n        var _iterator = _createForOfIteratorHelper(this.__loadedMoofWraps), _step;\n        try {\n          var _loop = function _loop2() {\n            var moofWrap = _step.value;\n            if (moofWrap.start > dataEnd || moofWrap.nextMoofStart < dataStart) {\n              return \"continue\";\n            }\n            var moofStart = moofWrap.start;\n            var tracks = MP4Parser.moofToSamples(moofWrap.moof, videoTrack, audioTrack);\n            var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n            var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n            var nalSize;\n            Object.keys(tracks).forEach(function(k) {\n              if (videoTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset += moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                  sample.duration = x.duration;\n                  sample.gopId = x.gopId;\n                  if (x.keyframe)\n                    sample.setToKeyframe();\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  sample.data = sampleData;\n                  if (!isAV01) {\n                    var start = 0;\n                    var len = sampleData.length - 1;\n                    while (start < len) {\n                      nalSize = readBig32(sampleData, start);\n                      start += 4;\n                      sample.units.push(sampleData.subarray(start, start + nalSize));\n                      start += nalSize;\n                    }\n                  }\n                  _this.__lastRemainDataStart = xStart + x.size;\n                  videoTrack.samples.push(sample);\n                });\n              } else if (audioTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset + moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n                  _this.__lastRemainDataStart = xStart + x.size;\n                });\n              }\n            });\n          };\n          for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n            var _ret = _loop();\n            if (_ret === \"continue\")\n              continue;\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      if (this.__lastRemainDataStart > dataStart && this.__lastRemainDataStart < data.byteLength + dataStart) {\n        this.__lastRemainData = data.subarray(this.__lastRemainDataStart - dataStart);\n      } else {\n        this.__lastRemainData = data;\n        this.__lastRemainDataStart = dataStart;\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].pts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts;\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demux\",\n    value: function demux(videoData, audioData) {\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      if (audioData) {\n        if (!audioExist) {\n          var moovBox = MP4Parser.findBox(audioData, [\"moov\"])[0];\n          if (!moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(moovBox), null, audioTrack);\n        }\n        var moofBox = MP4Parser.findBox(audioData, [\"moof\"])[0];\n        if (moofBox) {\n          var samples = MP4Parser.moofToSamples(MP4Parser.moof(moofBox), null, audioTrack)[audioTrack.id];\n          var baseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          if (samples) {\n            var baseOffset = moofBox.start;\n            samples.map(function(x) {\n              x.offset += baseOffset;\n              var sampleData = audioData.subarray(x.offset, x.offset + x.size);\n              audioTrack.samples.push(new AudioSample(x.dts + baseMediaDecodeTime, sampleData, x.duration));\n            });\n          }\n        }\n      }\n      if (videoData) {\n        if (!videoExist && !audioExist) {\n          var _moovBox = MP4Parser.findBox(videoData, [\"moov\"])[0];\n          if (!_moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(_moovBox), videoTrack, audioTrack);\n        }\n        var _moofBox = MP4Parser.findBox(videoData, [\"moof\"])[0];\n        if (_moofBox) {\n          var tracks = MP4Parser.moofToSamples(MP4Parser.moof(_moofBox), videoTrack, audioTrack);\n          var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n          var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          var _baseOffset = _moofBox.start;\n          var nalSize;\n          Object.keys(tracks).forEach(function(k) {\n            if (videoTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                sample.duration = x.duration;\n                sample.gopId = x.gopId;\n                if (x.keyframe)\n                  sample.setToKeyframe();\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                sample.data = sampleData;\n                var start = 0;\n                var len = sampleData.length - 1;\n                while (start < len) {\n                  nalSize = readBig32(sampleData, start);\n                  start += 4;\n                  sample.units.push(sampleData.subarray(start, start + nalSize));\n                  start += nalSize;\n                }\n                videoTrack.samples.push(sample);\n              });\n            } else if (audioTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n              });\n            }\n          });\n        }\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n      this.metadataTrack.reset();\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      return MP4Parser.probe(data);\n    }\n  }]);\n  return FMP4Demuxer2;\n}();\nexport { FMP4Demuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction Concat(ResultConstructor) {\n  var totalLength = 0;\n  for (var _len = arguments.length, arrays = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    arrays[_key - 1] = arguments[_key];\n  }\n  arrays.forEach(function(arr) {\n    totalLength += arr.length;\n  });\n  var result = new ResultConstructor(totalLength);\n  var offset = 0;\n  arrays.forEach(function(arr) {\n    result.set(arr, offset);\n    offset += arr.length;\n  });\n  return result;\n}\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n    this.buffer = new Uint8Array(0);\n  }\n  _createClass(Buffer2, [{\n    key: \"write\",\n    value: function write() {\n      var self = this;\n      for (var _len2 = arguments.length, buffer = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        buffer[_key2] = arguments[_key2];\n      }\n      buffer.forEach(function(item) {\n        if (item) {\n          self.buffer = Concat(Uint8Array, self.buffer, item);\n        } else {\n          window.console.warn(item);\n        }\n      });\n    }\n  }], [{\n    key: \"writeUint16\",\n    value: function writeUint16(value) {\n      return new Uint8Array([value >> 8 & 255, value & 255]);\n    }\n  }, {\n    key: \"writeUint32\",\n    value: function writeUint32(value) {\n      return new Uint8Array([value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255]);\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer as default };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray, slicedToArray as _slicedToArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { concatUint8Array, parse } from \"../utils/index.js\";\nimport Buffer from \"./buffer.js\";\nvar UINT32_MAX = Math.pow(2, 32) - 1;\nvar MP4 = /* @__PURE__ */ function() {\n  function MP42() {\n    _classCallCheck(this, MP42);\n  }\n  _createClass(MP42, null, [{\n    key: \"box\",\n    value: function box(type) {\n      for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        payload[_key - 1] = arguments[_key];\n      }\n      payload = payload.filter(Boolean);\n      var size = 8 + payload.reduce(function(p, c) {\n        return p + c.byteLength;\n      }, 0);\n      var ret = new Uint8Array(size);\n      ret[0] = size >> 24 & 255;\n      ret[1] = size >> 16 & 255;\n      ret[2] = size >> 8 & 255;\n      ret[3] = size & 255;\n      ret.set(type, 4);\n      var offset = 8;\n      payload.forEach(function(data) {\n        ret.set(data, offset);\n        offset += data.byteLength;\n      });\n      return ret;\n    }\n  }, {\n    key: \"ftyp\",\n    value: function ftyp(tracks) {\n      var isHevc = tracks.find(function(t) {\n        return t.type === TrackType.VIDEO && t.codecType === VideoCodecType.HEVC;\n      });\n      return isHevc ? MP42.FTYPHEV1 : MP42.FTYPAVC1;\n    }\n  }, {\n    key: \"initSegment\",\n    value: function initSegment(tracks) {\n      var ftyp = MP42.ftyp(tracks);\n      var init = concatUint8Array(ftyp, MP42.moov(tracks));\n      return init;\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(data) {\n      var content = new Uint8Array([\n        1,\n        0,\n        0,\n        0\n      ].concat([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75], [0, 0, 0, 1], parse(data.kid), [0, 0, 0, 0]));\n      return MP42.box(MP42.types.pssh, content);\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(tracks) {\n      if (tracks[0].useEME && (tracks[0].encv || tracks[0].enca)) {\n        if (!tracks[0].pssh) {\n          tracks[0].pssh = {\n            kid: tracks[0].kid\n          };\n        }\n        var pssh = this.pssh(tracks[0].pssh);\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale), MP42.mvex(tracks)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [pssh]));\n      } else {\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [MP42.mvex(tracks)]));\n      }\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mvhd2 = MP42.box(MP42.types.mvhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        1,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        255,\n        255,\n        255,\n        255\n      ]));\n      return mvhd2;\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(track) {\n      var trak2 = MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.tkhdDuration || 0, track.width, track.height), MP42.mdia(track));\n      return trak2;\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(id, duration) {\n      var width = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var height = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var tkhd2 = MP42.box(MP42.types.tkhd, new Uint8Array([\n        0,\n        0,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        id >> 24 & 255,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        0,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        0,\n        0,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        0\n      ]));\n      return tkhd2;\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(track) {\n      var mdia2 = MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minf(track));\n      return mdia2;\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mdhd2 = MP42.box(MP42.types.mdhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        85,\n        196,\n        0,\n        0\n      ]));\n      return mdhd2;\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(type) {\n      var hdlr2 = MP42.box(MP42.types.hdlr, MP42.HDLR_TYPES[type]);\n      return hdlr2;\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(track) {\n      var minf2 = MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stbl(track));\n      return minf2;\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(track) {\n      var extBox = [];\n      if (track && track.ext) {\n        track.ext.stss && extBox.push(MP42.stss(track.ext.stss.entries));\n      }\n      var stbl2 = MP42.box(MP42.types.stbl, MP42.stsd(track), MP42.STTS, extBox[0], MP42.STSC, MP42.STSZ, MP42.STCO);\n      return stbl2;\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(track) {\n      var content;\n      if (track.type === \"audio\") {\n        if (track.useEME && track.enca) {\n          content = MP42.enca(track);\n        } else {\n          if (track.codecType === AudioCodecType.OPUS) {\n            content = MP42.opus(track);\n          } else {\n            content = MP42.mp4a(track);\n          }\n        }\n      } else if (track.useEME && track.encv) {\n        content = MP42.encv(track);\n      } else if (track.av1C) {\n        content = MP42.av01(track);\n      } else {\n        content = MP42.avc1hev1(track);\n      }\n      var stsd2 = MP42.box(MP42.types.stsd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]), content);\n      return stsd2;\n    }\n  }, {\n    key: \"enca\",\n    value: function enca(data) {\n      var channelCount = data.enca.channelCount;\n      var sampleRate = data.enca.sampleRate;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        sampleRate >> 8 & 255,\n        sampleRate & 255,\n        0,\n        0\n      ]);\n      var esds = MP42.esds(data.config);\n      var sinf = MP42.sinf(data.enca);\n      return MP42.box(MP42.types.enca, content, esds, sinf);\n    }\n  }, {\n    key: \"encv\",\n    value: function encv(track) {\n      var _concat$concat, _ref;\n      var sps = track.sps.length > 0 ? track.sps[0] : [];\n      var pps = track.pps.length > 0 ? track.pps[0] : [];\n      var width = track.width;\n      var height = track.height;\n      var hSpacing = track.sarRatio[0];\n      var vSpacing = track.sarRatio[1];\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        18,\n        100,\n        97,\n        105,\n        108,\n        121,\n        109,\n        111,\n        116,\n        105,\n        111,\n        110,\n        47,\n        104,\n        108,\n        115,\n        46,\n        106,\n        115,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]);\n      var avcc = new Uint8Array((_concat$concat = (_ref = [\n        1,\n        sps[1],\n        sps[2],\n        sps[3],\n        252 | 3,\n        224 | 1,\n        sps.length >>> 8 & 255,\n        sps.length & 255\n      ]).concat.apply(_ref, _toConsumableArray(sps)).concat([1, pps.length >>> 8 & 255, pps.length & 255])).concat.apply(_concat$concat, _toConsumableArray(pps)));\n      var btrt = new Uint8Array([0, 0, 88, 57, 0, 15, 200, 192, 0, 4, 86, 72]);\n      var sinf = MP42.sinf(track.encv);\n      var pasp = new Uint8Array([\n        hSpacing >> 24,\n        hSpacing >> 16 & 255,\n        hSpacing >> 8 & 255,\n        hSpacing & 255,\n        vSpacing >> 24,\n        vSpacing >> 16 & 255,\n        vSpacing >> 8 & 255,\n        vSpacing & 255\n      ]);\n      return MP42.box(MP42.types.encv, content, MP42.box(MP42.types.avcC, avcc), MP42.box(MP42.types.btrt, btrt), sinf, MP42.box(MP42.types.pasp, pasp));\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(data) {\n      var content = new Uint8Array([]);\n      var tenc = MP42.tenc(data);\n      return MP42.box(MP42.types.schi, content, tenc);\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(data) {\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.default_IsEncrypted & 255,\n        data.default_IV_size & 255\n      ].concat(parse(data.default_KID)));\n      return MP42.box(MP42.types.tenc, content);\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(data) {\n      var content = new Uint8Array([]);\n      var frma = new Uint8Array([data.data_format.charCodeAt(0), data.data_format.charCodeAt(1), data.data_format.charCodeAt(2), data.data_format.charCodeAt(3)]);\n      var schm = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        99,\n        101,\n        110,\n        99,\n        0,\n        1,\n        0,\n        0\n      ]);\n      var schi = MP42.schi(data);\n      return MP42.box(MP42.types.sinf, content, MP42.box(MP42.types.frma, frma), MP42.box(MP42.types.schm, schm), schi);\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(track) {\n      return MP42.box(MP42.types.av01, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), track.av1C, track.colr);\n    }\n  }, {\n    key: \"avc1hev1\",\n    value: function avc1hev1(track) {\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var typ = isHevc ? MP42.types.hvc1 : MP42.types.avc1;\n      var config = isHevc ? MP42.hvcC(track) : MP42.avcC(track);\n      var boxes = [new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), config];\n      if (isHevc) {\n        boxes.push(MP42.box(MP42.types.fiel, new Uint8Array([1, 0])));\n      } else if (track.sarRatio && track.sarRatio.length > 1) {\n        boxes.push(MP42.pasp(track.sarRatio));\n      }\n      return MP42.box.apply(MP42, [typ].concat(boxes));\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(track) {\n      var _concat$concat2, _ref2;\n      var sps = [];\n      var pps = [];\n      var len;\n      track.sps.forEach(function(s) {\n        len = s.byteLength;\n        sps.push(len >>> 8 & 255);\n        sps.push(len & 255);\n        sps.push.apply(sps, _toConsumableArray(s));\n      });\n      track.pps.forEach(function(p) {\n        len = p.byteLength;\n        pps.push(len >>> 8 & 255);\n        pps.push(len & 255);\n        pps.push.apply(pps, _toConsumableArray(p));\n      });\n      return MP42.box(MP42.types.avcC, new Uint8Array((_concat$concat2 = (_ref2 = [\n        1,\n        sps[3],\n        sps[4],\n        sps[5],\n        252 | 3,\n        224 | track.sps.length\n      ]).concat.apply(_ref2, sps).concat([track.pps.length])).concat.apply(_concat$concat2, pps)));\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(track) {\n      var hvcC2 = track.hvcC;\n      if (hvcC2 instanceof ArrayBuffer || hvcC2 instanceof Uint8Array)\n        return hvcC2;\n      var vps = track.vps, sps = track.sps, pps = track.pps;\n      var data;\n      if (hvcC2) {\n        var pcf = hvcC2.generalProfileCompatibilityFlags;\n        var cif = hvcC2.generalConstraintIndicatorFlags;\n        var numOfArrays = (vps.length && 1) + (sps.length && 1) + (pps.length && 1);\n        data = [\n          1,\n          hvcC2.generalProfileSpace << 6 | hvcC2.generalTierFlag << 5 | hvcC2.generalProfileIdc,\n          pcf >>> 24,\n          pcf >>> 16,\n          pcf >>> 8,\n          pcf,\n          cif[0],\n          cif[1],\n          cif[2],\n          cif[3],\n          cif[4],\n          cif[5],\n          hvcC2.generalLevelIdc,\n          240,\n          0,\n          252,\n          hvcC2.chromaFormatIdc | 252,\n          hvcC2.bitDepthLumaMinus8 | 248,\n          hvcC2.bitDepthChromaMinus8 | 248,\n          0,\n          0,\n          hvcC2.numTemporalLayers << 3 | hvcC2.temporalIdNested << 2 | 3,\n          numOfArrays\n        ];\n        var write = function write2(x) {\n          var _data;\n          data.push(x.length >> 8, x.length);\n          (_data = data).push.apply(_data, _toConsumableArray(x));\n        };\n        if (vps.length) {\n          data.push(160, 0, vps.length);\n          vps.forEach(write);\n        }\n        if (sps.length) {\n          data.push(161, 0, sps.length);\n          sps.forEach(write);\n        }\n        if (pps.length) {\n          data.push(162, 0, pps.length);\n          pps.forEach(write);\n        }\n      } else {\n        data = [\n          1,\n          1,\n          96,\n          0,\n          0,\n          0,\n          144,\n          0,\n          0,\n          0,\n          0,\n          0,\n          93,\n          240,\n          0,\n          252,\n          253,\n          248,\n          248,\n          0,\n          0,\n          15,\n          3,\n          160,\n          0,\n          1,\n          0,\n          24,\n          64,\n          1,\n          12,\n          1,\n          255,\n          255,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          153,\n          152,\n          9,\n          161,\n          0,\n          1,\n          0,\n          45,\n          66,\n          1,\n          1,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          160,\n          2,\n          128,\n          128,\n          45,\n          22,\n          89,\n          153,\n          164,\n          147,\n          43,\n          154,\n          128,\n          128,\n          128,\n          130,\n          0,\n          0,\n          3,\n          0,\n          2,\n          0,\n          0,\n          3,\n          0,\n          50,\n          16,\n          162,\n          0,\n          1,\n          0,\n          7,\n          68,\n          1,\n          193,\n          114,\n          180,\n          98,\n          64\n        ];\n      }\n      return MP42.box(MP42.types.hvcC, new Uint8Array(data));\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2), hSpacing = _ref4[0], vSpacing = _ref4[1];\n      return MP42.box(MP42.types.pasp, new Uint8Array([hSpacing >> 24, hSpacing >> 16 & 255, hSpacing >> 8 & 255, hSpacing & 255, vSpacing >> 24, vSpacing >> 16 & 255, vSpacing >> 8 & 255, vSpacing & 255]));\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(track) {\n      return MP42.box(MP42.types.mp4a, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]), track.config.length ? MP42.esds(track.config) : void 0);\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(config) {\n      var len = config.length;\n      var esds2 = MP42.box(MP42.types.esds, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        3,\n        23 + len,\n        0,\n        0,\n        0,\n        4,\n        15 + len,\n        64,\n        21,\n        0,\n        6,\n        0,\n        0,\n        0,\n        218,\n        192,\n        0,\n        0,\n        218,\n        192,\n        5\n      ].concat([len]).concat(config).concat(\n        [6, 1, 2]\n      )));\n      return esds2;\n    }\n  }, {\n    key: \"opus\",\n    value: function opus(track) {\n      var opusAudioDescription = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]);\n      var opusSpecificConfig = track.config.length ? MP42.dOps(track) : [];\n      return MP42.box(MP42.types.Opus, opusAudioDescription, opusSpecificConfig);\n    }\n  }, {\n    key: \"dOps\",\n    value: function dOps(track) {\n      if (track.config) {\n        track.config[4] = track.sampleRate >>> 24 & 255;\n        track.config[5] = track.sampleRate >>> 16 & 255;\n        track.config[6] = track.sampleRate >>> 8 & 255;\n        track.config[7] = track.sampleRate & 255;\n        return MP42.box(MP42.types.dOps, track.config);\n      }\n    }\n  }, {\n    key: \"mvex\",\n    value: function mvex(tracks) {\n      var mvex2 = MP42.box.apply(MP42, [MP42.types.mvex].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trex(t.id);\n      }))));\n      return mvex2;\n    }\n  }, {\n    key: \"trex\",\n    value: function trex(id) {\n      var trex2 = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        1\n      ]));\n      return trex2;\n    }\n  }, {\n    key: \"trex1\",\n    value: function trex1(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"trex2\",\n    value: function trex2(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(tracks) {\n      var moof2 = MP42.box.apply(MP42, [MP42.types.moof, MP42.mfhd(tracks[0].samples ? tracks[0].samples[0].gopId : 0)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.traf(t);\n      }))));\n      return moof2;\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(sequenceNumber) {\n      var mfhd2 = MP42.box(MP42.types.mfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        sequenceNumber >> 24,\n        sequenceNumber >> 16 & 255,\n        sequenceNumber >> 8 & 255,\n        sequenceNumber & 255\n      ]));\n      return mfhd2;\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(track) {\n      var tfhd = MP42.tfhd(track.id);\n      var tfdt = MP42.tfdt(track, track.baseMediaDecodeTime);\n      var sencLength = 0;\n      var samples;\n      if (track.isVideo && track.videoSenc) {\n        samples = track.videoSenc;\n        samples.forEach(function(item) {\n          sencLength = sencLength + 8;\n          if (item.subsamples && item.subsamples.length) {\n            sencLength = sencLength + 2;\n            sencLength = sencLength + item.subsamples.length * 6;\n          }\n        });\n      }\n      track.videoSencLength = sencLength;\n      if (!track.useEME || !track.isVideoEncryption && !track.isAudioEncryption) {\n        var sdtp = MP42.sdtp(track);\n        var offset = 16 + 20 + 8 + 16 + 8 + 8;\n        return MP42.box(MP42.types.traf, tfhd, tfdt, sdtp, MP42.trun(track.samples, sdtp.byteLength + offset));\n      } else if (track.isVideoEncryption) {\n        if (track.isVideo) {\n          var saiz = MP42.saiz(track);\n          var saio = MP42.saio(track);\n          var trun = MP42.trun1(track);\n          var senc = MP42.senc(track);\n          var traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, saiz, saio, trun, senc);\n          return traf2;\n        } else {\n          if (!track.isAudioEncryption) {\n            var sbgp = MP42.sbgp();\n            var _trun = MP42.trun1(track);\n            return MP42.box(MP42.types.traf, tfhd, tfdt, sbgp, _trun);\n          } else {\n            var _sbgp = MP42.sbgp();\n            var _saiz = MP42.saiz(track);\n            var _saio = MP42.saio(track);\n            var _senc = MP42.senc(track);\n            var _trun2 = MP42.trun1(track);\n            var _traf = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp, _saiz, _saio, _senc, _trun2);\n            return _traf;\n          }\n        }\n      } else {\n        if (track.isVideo) {\n          var _trun3 = MP42.trun1(track);\n          return MP42.box(MP42.types.traf, tfhd, tfdt, _trun3);\n        } else {\n          var _sbgp2 = MP42.sbgp();\n          var _saiz2 = MP42.saiz(track);\n          var _saio2 = MP42.saio(track);\n          var _senc2 = MP42.senc(track);\n          var _trun4 = MP42.trun1(track);\n          var _traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp2, _saiz2, _saio2, _senc2, _trun4);\n          return _traf2;\n        }\n      }\n    }\n  }, {\n    key: \"sdtp\",\n    value: function sdtp(data) {\n      var buffer = new Buffer();\n      data.samples.forEach(function(item) {\n        buffer.write(new Uint8Array(data.isVideo ? [item.keyframe ? 32 : 16] : [16]));\n      });\n      return MP42.box(MP42.types.sdtp, this.extension(0, 0), buffer.buffer);\n    }\n  }, {\n    key: \"trun1\",\n    value: function trun1(data) {\n      var buffer = new Buffer();\n      var sampleCount = Buffer.writeUint32(data.samples.length);\n      var offset = null;\n      if (data.isVideo) {\n        var sencLength = data.videoSencLength;\n        offset = Buffer.writeUint32(data.samples.length * 16 + sencLength + 149);\n        if (!data.isVideoEncryption && data.isAudioEncryption) {\n          offset = Buffer.writeUint32(data.samples.length * 16 + 92);\n        }\n      } else {\n        var len = data.samples.length * 12 + 124;\n        if (data.isAudioEncryption) {\n          len = data.samples.length * 12 + 8 * data.audioSenc.length + 177;\n        }\n        offset = Buffer.writeUint32(len);\n      }\n      data.samples.forEach(function(item) {\n        buffer.write(Buffer.writeUint32(item.duration));\n        buffer.write(Buffer.writeUint32(item.size));\n        buffer.write(Buffer.writeUint32(item.keyframe ? 33554432 : 65536));\n        if (data.isVideo) {\n          buffer.write(Buffer.writeUint32(item.cts ? item.cts : 0));\n        }\n      });\n      return MP42.box(MP42.types.trun, this.extension(0, data.flags), sampleCount, offset, buffer.buffer);\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(data) {\n      var buffer = new Buffer();\n      var len = data.samples.length;\n      var ceil = data.isVideo ? 16 : 8;\n      var flag = data.isVideo ? 2 : 0;\n      var samples = [];\n      var samplesLength = 0;\n      if (data.isVideo) {\n        samples = data.videoSenc;\n        samplesLength = data.videoSencLength;\n      } else {\n        samples = data.audioSenc;\n      }\n      samplesLength = samplesLength || ceil * len;\n      buffer.write(Buffer.writeUint32(16 + samplesLength), MP42.types.senc, this.extension(0, flag));\n      buffer.write(Buffer.writeUint32(len));\n      samples.forEach(function(item) {\n        for (var i = 0; i < item.InitializationVector.length; i++) {\n          buffer.write(new Uint8Array([item.InitializationVector[i]]));\n        }\n        if (item.subsamples && item.subsamples.length) {\n          buffer.write(Buffer.writeUint16(item.subsamples.length));\n          item.subsamples.forEach(function(value) {\n            buffer.write(Buffer.writeUint16(value.BytesOfClearData));\n            buffer.write(Buffer.writeUint32(value.BytesOfProtectedData));\n          });\n        }\n      });\n      return buffer.buffer;\n    }\n  }, {\n    key: \"saio\",\n    value: function saio(data) {\n      var length = data.samples.length * 12 + 141;\n      if (!data.isVideo && data.isAudioEncryption) {\n        length = 149;\n      }\n      var content = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, length >> 24 & 255, length >> 16 & 255, length >> 8 & 255, length & 255]);\n      return MP42.box(MP42.types.saio, content);\n    }\n  }, {\n    key: \"saiz\",\n    value: function saiz(data) {\n      var samplesLength = data.samples.length;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        16,\n        samplesLength >> 24 & 255,\n        samplesLength >> 16 & 255,\n        samplesLength >> 8 & 255,\n        samplesLength & 255\n      ]);\n      return MP42.box(MP42.types.saiz, content);\n    }\n  }, {\n    key: \"sbgp\",\n    value: function sbgp() {\n      var content = new Uint8Array([\n        114,\n        111,\n        108,\n        108,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        1,\n        25,\n        0,\n        0,\n        0,\n        1\n      ]);\n      return MP42.box(MP42.types.sbgp, this.extension(0, 0), content);\n    }\n  }, {\n    key: \"extension\",\n    value: function extension(version, flag) {\n      return new Uint8Array([version, flag >> 16 & 255, flag >> 8 & 255, flag & 255]);\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(id) {\n      return MP42.box(MP42.types.tfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255\n      ]));\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(data, baseMediaDecodeTime) {\n      var upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));\n      var lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));\n      if (data.useEME && (data.isVideoEncryption || data.isAudioEncryption)) {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          0,\n          0,\n          0,\n          0,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      } else {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          1,\n          0,\n          0,\n          0,\n          upperWordBaseMediaDecodeTime >> 24,\n          upperWordBaseMediaDecodeTime >> 16 & 255,\n          upperWordBaseMediaDecodeTime >> 8 & 255,\n          upperWordBaseMediaDecodeTime & 255,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      }\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(samples, offset) {\n      var sampleLen = samples.length;\n      var dataLen = 12 + 16 * sampleLen;\n      offset += 8 + dataLen;\n      var data = new Uint8Array(dataLen);\n      data.set([\n        0,\n        0,\n        15,\n        1,\n        sampleLen >>> 24 & 255,\n        sampleLen >>> 16 & 255,\n        sampleLen >>> 8 & 255,\n        sampleLen & 255,\n        offset >>> 24 & 255,\n        offset >>> 16 & 255,\n        offset >>> 8 & 255,\n        offset & 255\n      ], 0);\n      for (var i = 0; i < sampleLen; i++) {\n        var _samples$i = samples[i], duration = _samples$i.duration, size = _samples$i.size, _samples$i$flag = _samples$i.flag, flag = _samples$i$flag === void 0 ? {} : _samples$i$flag, _samples$i$cts = _samples$i.cts, cts = _samples$i$cts === void 0 ? 0 : _samples$i$cts;\n        data.set([\n          duration >>> 24 & 255,\n          duration >>> 16 & 255,\n          duration >>> 8 & 255,\n          duration & 255,\n          size >>> 24 & 255,\n          size >>> 16 & 255,\n          size >>> 8 & 255,\n          size & 255,\n          flag.isLeading << 2 | (flag.dependsOn === null || flag.dependsOn === void 0 ? 1 : flag.dependsOn),\n          flag.isDependedOn << 6 | flag.hasRedundancy << 4 | flag.paddingValue << 1 | (flag.isNonSyncSample === null || flag.isNonSyncSample === void 0 ? 1 : flag.isNonSyncSample),\n          flag.degradationPriority & 240 << 8,\n          flag.degradationPriority & 15,\n          cts >>> 24 & 255,\n          cts >>> 16 & 255,\n          cts >>> 8 & 255,\n          cts & 255\n        ], 12 + 16 * i);\n      }\n      return MP42.box(MP42.types.trun, data);\n    }\n  }, {\n    key: \"moovMP4\",\n    value: function moovMP4(tracks) {\n      return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].duration, tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trackMP4(t);\n      }))));\n    }\n  }, {\n    key: \"trackMP4\",\n    value: function trackMP4(track) {\n      return MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.duration, track.width, track.height), MP42.mdiaMP4(track));\n    }\n  }, {\n    key: \"mdiaMP4\",\n    value: function mdiaMP4(track) {\n      return MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minfMP4(track));\n    }\n  }, {\n    key: \"minfMP4\",\n    value: function minfMP4(track) {\n      return MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stblMP4(track));\n    }\n  }, {\n    key: \"stblMP4\",\n    value: function stblMP4(track) {\n      var ext = track.ext;\n      var boxes = [MP42.stsd(track), MP42.stts(ext.stts), MP42.stsc(ext.stsc), MP42.stsz(ext.stsz), MP42.stco(ext.stco)];\n      if (ext.stss.length) {\n        boxes.push(MP42.stss(ext.stss));\n      }\n      if (ext.ctts.length) {\n        boxes.push(MP42.ctts(ext.ctts));\n      }\n      return MP42.box.apply(MP42, [MP42.types.stbl].concat(boxes));\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref5) {\n        var value = _ref5.value, count = _ref5.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.stts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(entries) {\n      var len = entries.length;\n      var data = new Uint8Array(12 * len);\n      var offset = 0;\n      entries.forEach(function(_ref6) {\n        var firstChunk = _ref6.firstChunk, samplesPerChunk = _ref6.samplesPerChunk, sampleDescIndex = _ref6.sampleDescIndex;\n        data.set([firstChunk >> 24, firstChunk >> 16 & 255, firstChunk >> 8 & 255, firstChunk & 255, samplesPerChunk >> 24, samplesPerChunk >> 16 & 255, samplesPerChunk >> 8 & 255, samplesPerChunk & 255, sampleDescIndex >> 24, sampleDescIndex >> 16 & 255, sampleDescIndex >> 8 & 255, sampleDescIndex & 255], offset);\n        offset += 12;\n      });\n      return MP42.box(MP42.types.stsc, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(samplesSizes) {\n      var len = samplesSizes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      samplesSizes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stsz, concatUint8Array(new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(offsets) {\n      var len = offsets.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      offsets.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stco, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(keyframeIndexes) {\n      var len = keyframeIndexes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      keyframeIndexes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stss, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref7) {\n        var value = _ref7.value, count = _ref7.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.ctts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"styp\",\n    value: function styp() {\n      return MP42.box(MP42.types.styp, new Uint8Array([109, 115, 100, 104, 0, 0, 0, 0, 109, 115, 100, 104, 109, 115, 105, 120]));\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(data) {\n      var timescale = data.timescale;\n      var duration = data.samples[0].duration;\n      var durationCount = duration * data.samples.length;\n      var earliestTime = data.samples[0].sampleOffset * duration;\n      var mdatSize = 8;\n      data.samples.forEach(function(item) {\n        mdatSize += item.size;\n      });\n      var length = 0;\n      if (data.isVideo) {\n        var sencLength = 0;\n        var samples;\n        if (data.videoSenc) {\n          samples = data.videoSenc;\n        }\n        if (data.isVideo) {\n          samples.forEach(function(item) {\n            sencLength = sencLength + 8;\n            if (item.subsamples && item.subsamples.length) {\n              sencLength = sencLength + 2;\n              sencLength = sencLength + item.subsamples.length * 6;\n            }\n          });\n        }\n        data.videoSencLength = sencLength;\n        length = mdatSize + 141 + data.samples.length * 16 + sencLength;\n        if (data.useEME && data.isAudioEncryption && !data.isVideoEncryption) {\n          length = mdatSize + data.samples.length * 16 + 84;\n        }\n      } else {\n        length = mdatSize + 116 + data.samples.length * 12;\n        if (data.useEME && data.isAudioEncryption) {\n          length = mdatSize + 169 + data.samples.length * 12 + 8 * data.audioSenc.length;\n        }\n      }\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.id & 255,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        earliestTime >> 24 & 255,\n        earliestTime >> 16 & 255,\n        earliestTime >> 8 & 255,\n        earliestTime & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        length >> 16 & 255,\n        length >> 8 & 255,\n        length & 255,\n        durationCount >> 24 & 255,\n        durationCount >> 16 & 255,\n        durationCount >> 8 & 255,\n        durationCount & 255,\n        144,\n        0,\n        0,\n        0\n      ]);\n      return MP42.box(MP42.types.sidx, content);\n    }\n  }, {\n    key: \"mdat\",\n    value: function mdat(data) {\n      var mdat2 = MP42.box(MP42.types.mdat, data);\n      return mdat2;\n    }\n  }]);\n  return MP42;\n}();\n_defineProperty(MP4, \"types\", [\"Opus\", \"dOps\", \"av01\", \"av1C\", \"avc1\", \"avcC\", \"hvc1\", \"hvcC\", \"dinf\", \"dref\", \"esds\", \"ftyp\", \"hdlr\", \"mdat\", \"mdhd\", \"mdia\", \"mfhd\", \"minf\", \"moof\", \"moov\", \"mp4a\", \"mvex\", \"mvhd\", \"pasp\", \"stbl\", \"stco\", \"stsc\", \"stsd\", \"stsz\", \"stts\", \"tfdt\", \"tfhd\", \"traf\", \"trak\", \"trex\", \"tkhd\", \"vmhd\", \"smhd\", \"ctts\", \"stss\", \"styp\", \"pssh\", \"sidx\", \"sbgp\", \"saiz\", \"saio\", \"senc\", \"trun\", \"encv\", \"enca\", \"sinf\", \"btrt\", \"frma\", \"tenc\", \"schm\", \"schi\", \"mehd\", \"fiel\", \"sdtp\"].reduce(function(p, c) {\n  p[c] = [c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2), c.charCodeAt(3)];\n  return p;\n}, /* @__PURE__ */ Object.create(null)));\n_defineProperty(MP4, \"HDLR_TYPES\", {\n  video: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    118,\n    105,\n    100,\n    101,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    86,\n    105,\n    100,\n    101,\n    111,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ]),\n  audio: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    115,\n    111,\n    117,\n    110,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    83,\n    111,\n    117,\n    110,\n    100,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ])\n});\n_defineProperty(MP4, \"FTYPAVC1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  97,\n  118,\n  99,\n  49\n])));\n_defineProperty(MP4, \"FTYPHEV1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  104,\n  101,\n  118,\n  49\n])));\n_defineProperty(MP4, \"DINF\", MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  12,\n  117,\n  114,\n  108,\n  32,\n  0,\n  0,\n  0,\n  1\n]))));\n_defineProperty(MP4, \"VMHD\", MP4.box(MP4.types.vmhd, new Uint8Array([\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"SMHD\", MP4.box(MP4.types.smhd, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"StblTable\", new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n]));\n_defineProperty(MP4, \"STTS\", MP4.box(MP4.types.stts, MP4.StblTable));\n_defineProperty(MP4, \"STSC\", MP4.box(MP4.types.stsc, MP4.StblTable));\n_defineProperty(MP4, \"STSZ\", MP4.box(MP4.types.stsz, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"STCO\", MP4.box(MP4.types.stco, MP4.StblTable));\nexport { MP4 };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, enable) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    Logger2.disabled = enable;\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).debug.apply(_console, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      if (Logger2.disabled)\n        return;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      (_console2 = console).log.apply(_console2, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      if (Logger2.disabled)\n        return;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      (_console3 = console).warn.apply(_console3, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      if (Logger2.disabled)\n        return;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      (_console4 = console).error.apply(_console4, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MP4 } from \"./mp4.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"./logger.js\";\nvar FMP4Remuxer = /* @__PURE__ */ function() {\n  function FMP4Remuxer2(videoTrack, audioTrack, options) {\n    _classCallCheck(this, FMP4Remuxer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    var browserVersions = /Chrome\\/([^.]+)/.exec(navigator.userAgent);\n    this.forceFirstIDR = browserVersions && Number(browserVersions[1]) < 50;\n    this.log = new Logger(\"FMP4Remuxer\", options && options.openLog ? !options.openLog : true);\n  }\n  _createClass(FMP4Remuxer2, [{\n    key: \"remux\",\n    value: function remux() {\n      var createInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var hasVideo = videoTrack.exist();\n      var hasAudio = audioTrack.exist();\n      var videoInitSegment;\n      var audioInitSegment;\n      var initSegment;\n      var tracks = [];\n      if (createInit) {\n        if (options && options.initMerge) {\n          if (hasVideo) {\n            tracks.push(this.videoTrack);\n          }\n          if (hasAudio) {\n            tracks.push(this.audioTrack);\n          }\n          initSegment = MP4.initSegment(tracks);\n        } else {\n          if (hasVideo)\n            videoInitSegment = MP4.initSegment([this.videoTrack]);\n          if (hasAudio)\n            audioInitSegment = MP4.initSegment([this.audioTrack]);\n        }\n      }\n      var videoSegment;\n      var audioSegment;\n      if (hasVideo && videoTrack.hasSample()) {\n        videoSegment = this._remuxVideo();\n      }\n      if (hasAudio && audioTrack.hasSample()) {\n        audioSegment = this._remuxAudio();\n      }\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      return {\n        initSegment,\n        videoInitSegment,\n        audioInitSegment,\n        videoSegment,\n        audioSegment\n      };\n    }\n  }, {\n    key: \"_remuxVideo\",\n    value: function _remuxVideo() {\n      var track = this.videoTrack;\n      if (this.forceFirstIDR) {\n        track.samples[0].flag = {\n          dependsOn: 2,\n          isNonSyncSample: 0\n        };\n      }\n      var samples = track.samples;\n      var isAV01 = /av01/.test(track.codec);\n      var mdatSize = 0;\n      if (isAV01) {\n        samples.forEach(function(s) {\n          mdatSize += s.data.byteLength;\n        });\n      } else {\n        samples.forEach(function(s) {\n          mdatSize += s.units.reduce(function(t, c) {\n            return t + c.byteLength;\n          }, 0);\n          mdatSize += s.units.length * 4;\n        });\n      }\n      var mdata = new Uint8Array(mdatSize);\n      if (isAV01) {\n        for (var i = 0, l = samples.length, offset = 0, sample; i < l; i++) {\n          sample = samples[i];\n          mdata.set(sample.data, offset);\n          sample.size = sample.data.byteLength;\n          offset += sample.size;\n        }\n      } else {\n        var mdatView = new DataView(mdata.buffer);\n        var _loop = function _loop2(_offset2, _sample2) {\n          _sample2 = samples[_i];\n          var sampleSize = 0;\n          _sample2.units.forEach(function(u) {\n            mdatView.setUint32(_offset2, u.byteLength);\n            _offset2 += 4;\n            mdata.set(u, _offset2);\n            _offset2 += u.byteLength;\n            sampleSize += 4 + u.byteLength;\n          });\n          _sample2.size = sampleSize;\n          _offset = _offset2, _sample = _sample2;\n        };\n        for (var _i = 0, _l = samples.length, _offset = 0, _sample; _i < _l; _i++) {\n          _loop(_offset, _sample);\n        }\n      }\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"_remuxAudio\",\n    value: function _remuxAudio() {\n      var track = this.audioTrack;\n      var mdata = new Uint8Array(track.samples.reduce(function(t, c) {\n        return t + c.size;\n      }, 0));\n      track.samples.reduce(function(offset, s) {\n        mdata.set(s.data, offset);\n        return offset + s.size;\n      }, 0);\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n    }\n  }]);\n  return FMP4Remuxer2;\n}();\nexport { FMP4Remuxer };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nvar Event = _objectSpread2(_objectSpread2({}, EVENT), {}, {\n  STREAM_PARSED: \"core.streamparsed\",\n  NO_AUDIO_TRACK: \"core.noaudiotrack\",\n  SUBTITLE_SEGMENTS: \"core.subtitlesegments\",\n  SUBTITLE_PLAYLIST: \"core.subtitleplaylist\",\n  SEI_PAYLOAD_TIME: \"core.seipayloadtime\",\n  APPEND_COST: \"core.appendcost\"\n});\nexport { Event };\n","import { createClass as _createClass, objectSpread2 as _objectSpread2, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger, concatUint8Array, StreamingError, ERR } from \"xgplayer-streaming-shared\";\nimport { TrackType, WarningType, FMP4Demuxer, TsDemuxer, FMP4Remuxer } from \"xgplayer-transmuxer\";\nimport { Event } from \"../../constants.js\";\nvar logger = new Logger(\"Transmuxer\");\nvar Transmuxer = /* @__PURE__ */ function() {\n  function Transmuxer2(hls, isMP4, needRemux, fixerConfig) {\n    _classCallCheck(this, Transmuxer2);\n    _defineProperty(this, \"_initSegmentId\", \"\");\n    this.hls = hls;\n    this._demuxer = isMP4 ? new FMP4Demuxer() : new TsDemuxer(null, null, null, fixerConfig);\n    this._isMP4 = isMP4;\n    if (needRemux)\n      this._remuxer = new FMP4Remuxer(this._demuxer.videoTrack, this._demuxer.audioTrack);\n  }\n  _createClass(Transmuxer2, [{\n    key: \"transmux\",\n    value: function transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, needInit) {\n      var demuxer = this._demuxer;\n      try {\n        if (this._isMP4) {\n          demuxer.demux(videoChunk, audioChunk);\n        } else {\n          demuxer.demuxAndFix(concatUint8Array(videoChunk, audioChunk), discontinuity, contiguous, startTime);\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.DEMUX, ERR.SUB_TYPES.HLS, error);\n      }\n      var videoTrack = demuxer.videoTrack, audioTrack = demuxer.audioTrack, metadataTrack = demuxer.metadataTrack;\n      var vParsed = {\n        codec: videoTrack.codec,\n        timescale: videoTrack.timescale,\n        firstDts: videoTrack.firstDts / videoTrack.timescale,\n        firstPts: videoTrack.firstPts / videoTrack.timescale,\n        duration: videoTrack.samplesDuration / videoTrack.timescale\n      };\n      var aParsed = {\n        codec: audioTrack.codec,\n        timescale: audioTrack.timescale,\n        firstDts: audioTrack.firstDts / videoTrack.timescale,\n        firstPts: audioTrack.firstPts / videoTrack.timescale,\n        duration: audioTrack.samplesDuration / videoTrack.timescale\n      };\n      var newId = \"\".concat(videoTrack.codec, \"/\").concat(videoTrack.width, \"/\").concat(videoTrack.height, \"/\").concat(audioTrack.codec, \"/\").concat(audioTrack.config);\n      if (newId !== this._initSegmentId) {\n        this._initSegmentId = newId;\n        needInit = true;\n      }\n      this._fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity || needInit);\n      this.hls.emit(Event.DEMUXED_TRACK, {\n        videoTrack,\n        audioTrack\n      });\n      if (this._remuxer) {\n        if (needInit && this.hls.isLive && !this.hls.config.mseLowLatency) {\n          videoTrack.duration = this.hls.totalDuration * videoTrack.timescale;\n          audioTrack.duration = this.hls.totalDuration * audioTrack.timescale;\n        }\n        try {\n          var _this$_remuxer$remux = this._remuxer.remux(needInit), videoInitSegment = _this$_remuxer$remux.videoInitSegment, videoSegment = _this$_remuxer$remux.videoSegment, audioInitSegment = _this$_remuxer$remux.audioInitSegment, audioSegment = _this$_remuxer$remux.audioSegment;\n          var v = concatUint8Array(videoInitSegment, videoSegment);\n          var a = concatUint8Array(audioInitSegment, audioSegment);\n          return [v ? _objectSpread2(_objectSpread2({}, vParsed), {}, {\n            data: v\n          }) : void 0, a ? _objectSpread2(_objectSpread2({}, aParsed), {}, {\n            data: a\n          }) : void 0];\n        } catch (error) {\n          throw new StreamingError(ERR.REMUX, ERR.SUB_TYPES.FMP4, error);\n        }\n      } else {\n        return [videoTrack, audioTrack];\n      }\n    }\n  }, {\n    key: \"_fireEvents\",\n    value: function _fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity) {\n      var _this = this;\n      var tracks = [videoTrack, audioTrack];\n      var logCC = \"discontinuity: \".concat(discontinuity);\n      tracks.forEach(function(track) {\n        var _track$samples;\n        if ((_track$samples = track.samples) !== null && _track$samples !== void 0 && _track$samples.length) {\n          logCC += \"; \".concat(track.samples.length, \" \").concat(track.type === TrackType.VIDEO ? \"video\" : \"audio\", \" samples, firstDts/firstPts/duration: \").concat((track.firstDts / track.timescale).toFixed(3), \"/\").concat((track.firstPts / track.timescale).toFixed(3), \"/\").concat((track.samplesDuration / track.timescale).toFixed(3));\n        }\n        if (discontinuity && track.exist()) {\n          _this.hls.emit(Event.METADATA_PARSED, {\n            type: track.type,\n            track,\n            meta: _objectSpread2({\n              codec: track.codec,\n              timescale: track.timescale,\n              baseDts: track.baseDts\n            }, track.type === TrackType.VIDEO ? {\n              width: track.width,\n              height: track.height,\n              sarRatio: track.sarRatio\n            } : {\n              codec: track.codec,\n              channelCount: track.channelCount,\n              sampleRate: track.sampleRate\n            })\n          });\n        }\n      });\n      logger.debug(logCC);\n      videoTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AV_SHIFT:\n            type = Event.LARGE_AV_FIRST_FRAME_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP:\n            type = Event.LARGE_VIDEO_DTS_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK:\n            type = Event.MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"video exception\", warn);\n      });\n      audioTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AUDIO_GAP:\n            type = Event.LARGE_AUDIO_DTS_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_FILLED:\n            type = Event.AUDIO_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_DROPPED:\n            type = Event.AUDIO_OVERLAP_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"audio exception\", warn);\n      });\n      videoTrack.samples.forEach(function(sample) {\n        if (sample.keyframe) {\n          _this.hls.emit(Event.KEYFRAME, {\n            pts: sample.pts\n          });\n        }\n      });\n      metadataTrack.seiSamples.forEach(function(sei) {\n        _this.hls.emit(Event.SEI, _objectSpread2(_objectSpread2({}, sei), {}, {\n          originPts: sei.originPts / 90,\n          sei: {\n            code: sei.data.type,\n            content: sei.data.payload,\n            dts: sei.pts\n          }\n        }));\n      });\n    }\n  }]);\n  return Transmuxer2;\n}();\nexport { Transmuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray, objectWithoutProperties as _objectWithoutProperties } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsDemuxer, MP4Parser } from \"xgplayer-transmuxer\";\nimport { Logger, StreamingError, ERR, MSE, EVENT, Buffer } from \"xgplayer-streaming-shared\";\nimport { Decryptor } from \"./decrypt/index.js\";\nimport { Transmuxer } from \"./transmuxer/index.js\";\nimport { Event } from \"../constants.js\";\nvar _excluded = [\"data\"], _excluded2 = [\"data\"];\nvar logger = new Logger(\"BufferService\");\nvar BufferService = /* @__PURE__ */ function() {\n  function BufferService2(hls) {\n    var _this = this;\n    _classCallCheck(this, BufferService2);\n    _defineProperty(this, \"_decryptor\", new Decryptor());\n    _defineProperty(this, \"_transmuxer\", null);\n    _defineProperty(this, \"_mse\", null);\n    _defineProperty(this, \"_softVideo\", null);\n    _defineProperty(this, \"_sourceCreated\", false);\n    _defineProperty(this, \"_needInitSegment\", true);\n    _defineProperty(this, \"_directAppend\", false);\n    this.hls = hls;\n    if (hls.config.softDecode) {\n      this._softVideo = hls.media;\n    } else {\n      this._mse = new MSE(null, {\n        preferMMS: hls.config.preferMMS\n      });\n      if (hls.config.url) {\n        this._mse.bindMedia(hls.media).then(function(e) {\n          _this.hls.emit(EVENT.MEDIASOURCE_OPENED, e);\n        });\n      }\n    }\n    if (hls.config.decryptor) {\n      this._decryptor.externalDecryptor = hls.config.decryptor;\n    }\n  }\n  _createClass(BufferService2, [{\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_transmuxer, _this$_transmuxer$_de, _this$_transmuxer$_de2;\n      return (_this$_transmuxer = this._transmuxer) === null || _this$_transmuxer === void 0 ? void 0 : (_this$_transmuxer$_de = _this$_transmuxer._demuxer) === null || _this$_transmuxer$_de === void 0 ? void 0 : (_this$_transmuxer$_de2 = _this$_transmuxer$_de._fixer) === null || _this$_transmuxer$_de2 === void 0 ? void 0 : _this$_transmuxer$_de2._baseDts;\n    }\n  }, {\n    key: \"nbSb\",\n    get: function get() {\n      var _this$_mse;\n      if (!((_this$_mse = this._mse) !== null && _this$_mse !== void 0 && _this$_mse._sourceBuffer))\n        return 0;\n      return Object.keys(this._mse._sourceBuffer).length;\n    }\n  }, {\n    key: \"msIsOpened\",\n    get: function get() {\n      var _this$_mse2;\n      return (_this$_mse2 = this._mse) === null || _this$_mse2 === void 0 ? void 0 : _this$_mse2.isOpened;\n    }\n  }, {\n    key: \"msHasOpTasks\",\n    get: function get() {\n      var _this$_mse3;\n      return (_this$_mse3 = this._mse) === null || _this$_mse3 === void 0 ? void 0 : _this$_mse3.hasOpTasks;\n    }\n  }, {\n    key: \"msStreaming\",\n    get: function get() {\n      var _this$_mse4;\n      return (_this$_mse4 = this._mse) === null || _this$_mse4 === void 0 ? void 0 : _this$_mse4.streaming;\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function() {\n      var _updateDuration = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(duration) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                logger.debug(\"update duration\", duration);\n                if (!this._mse) {\n                  _context.next = 9;\n                  break;\n                }\n                if (this._mse.isOpened) {\n                  _context.next = 5;\n                  break;\n                }\n                _context.next = 5;\n                return this._mse.open();\n              case 5:\n                _context.next = 7;\n                return this._mse.updateDuration(duration);\n              case 7:\n                _context.next = 10;\n                break;\n              case 9:\n                if (this._softVideo) {\n                  this._softVideo.duration = duration;\n                }\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function updateDuration(_x) {\n        return _updateDuration.apply(this, arguments);\n      }\n      return updateDuration;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(videoChunk, audioChunk, videoCodec, audioCodec) {\n      if (this._sourceCreated)\n        return;\n      var chunk = videoChunk || audioChunk;\n      if (!chunk)\n        return;\n      if (TsDemuxer.probe(chunk)) {\n        if (!this._transmuxer)\n          this._transmuxer = new Transmuxer(this.hls, false, !this._softVideo, this.hls.config.fixerConfig);\n      } else if (MP4Parser.probe(chunk)) {\n        if (this._softVideo) {\n          if (!this._transmuxer)\n            this._transmuxer = new Transmuxer(this.hls, true, null, this.hls.config.fixerConfig);\n        } else {\n          this._directAppend = true;\n          var mix = false;\n          if (videoChunk && !videoCodec) {\n            MP4Parser.findBox(videoChunk, [\"moov\", \"trak\"]).forEach(function(t) {\n              var box = MP4Parser.findBox(t.data, [\"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"])[0];\n              if (box) {\n                var e = MP4Parser.stsd(box).entries[0];\n                if (e) {\n                  if (e.hvcC) {\n                    videoCodec = e.hvcC.codec || \"hev1.1.6.L93.B0\";\n                  } else if (e.avcC) {\n                    videoCodec = e.avcC.codec;\n                  } else if (e.sampleRate || e.esds) {\n                    var _e$esds;\n                    audioCodec = ((_e$esds = e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.codec) || \"mp4a.40.2\";\n                    mix = true;\n                  }\n                }\n              }\n            });\n          }\n          if (audioChunk && !audioCodec) {\n            MP4Parser.findBox(audioChunk, [\"moov\", \"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"]).forEach(function(stsd) {\n              var e = MP4Parser.stsd(stsd).entries[0];\n              if (e && e.esds)\n                audioCodec = e.esds.codec;\n            });\n          }\n          if (videoChunk && !videoCodec)\n            videoCodec = \"avc1.42e01e\";\n          if (audioChunk && !audioCodec)\n            audioCodec = \"mp4a.40.2\";\n          if (mix) {\n            videoCodec += \", \".concat(audioCodec);\n            audioCodec = \"\";\n          }\n          this._createMseSource(videoCodec, audioCodec);\n        }\n      } else {\n        throw new StreamingError(ERR.OTHER, null, null, null, \"unsupported stream\");\n      }\n      if (this._softVideo)\n        this._sourceCreated = true;\n    }\n  }, {\n    key: \"appendBuffer\",\n    value: function() {\n      var _appendBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(segment, audioSegment, videoChunk, audioChunk, discontinuity, contiguous, startTime) {\n        var _this2 = this;\n        var afterAppend, p, needInit, _this$_transmuxer$tra, _this$_transmuxer$tra2, video, audio, isFirstAppend, mse, _p, videoData, videoRest, audioData, audioRest;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!(videoChunk !== null && videoChunk !== void 0 && videoChunk.length) && !(audioChunk !== null && audioChunk !== void 0 && audioChunk.length))) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                afterAppend = function afterAppend2() {\n                  var _this2$hls;\n                  if ((_this2$hls = _this2.hls) !== null && _this2$hls !== void 0 && _this2$hls.emit) {\n                    var _this2$hls2;\n                    (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.emit(EVENT.APPEND_BUFFER, {\n                      start: segment.start,\n                      end: segment.end\n                    });\n                  }\n                };\n                if (!this._directAppend) {\n                  _context2.next = 8;\n                  break;\n                }\n                p = [];\n                if (videoChunk)\n                  p.push(this._mse.append(MSE.VIDEO, videoChunk));\n                if (audioChunk)\n                  p.push(this._mse.append(MSE.AUDIO, audioChunk));\n                return _context2.abrupt(\"return\", Promise.all(p).then(afterAppend));\n              case 8:\n                needInit = this._needInitSegment || discontinuity;\n                _this$_transmuxer$tra = this._transmuxer.transmux(videoChunk, audioChunk, needInit, contiguous, startTime, this._needInitSegment || discontinuity), _this$_transmuxer$tra2 = _slicedToArray(_this$_transmuxer$tra, 2), video = _this$_transmuxer$tra2[0], audio = _this$_transmuxer$tra2[1];\n                if (audioChunk && audioSegment) {\n                  audioSegment === null || audioSegment === void 0 ? void 0 : audioSegment.setTrackExist(false, true);\n                }\n                if (audioChunk && segment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(true, false);\n                }\n                if (!audioSegment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(!!video, !!audio);\n                }\n                if (video && !audio) {\n                  this.hls.emit(Event.NO_AUDIO_TRACK);\n                }\n                if (!this._softVideo) {\n                  _context2.next = 20;\n                  break;\n                }\n                this._softVideo.appendBuffer(video, audio);\n                this._needInitSegment = false;\n                afterAppend();\n                _context2.next = 30;\n                break;\n              case 20:\n                if (!this._mse) {\n                  _context2.next = 30;\n                  break;\n                }\n                isFirstAppend = !this._sourceCreated;\n                if (isFirstAppend) {\n                  this._createMseSource(video === null || video === void 0 ? void 0 : video.codec, audio === null || audio === void 0 ? void 0 : audio.codec);\n                }\n                this._needInitSegment = false;\n                mse = this._mse;\n                _p = [];\n                if (needInit && !isFirstAppend) {\n                  this._handleCodecChange(video, audio).forEach(function(task) {\n                    return _p.push(task);\n                  });\n                }\n                if (video) {\n                  videoData = video.data, videoRest = _objectWithoutProperties(video, _excluded);\n                  _p.push(mse.append(MSE.VIDEO, videoData, videoRest));\n                }\n                if (audio) {\n                  audioData = audio.data, audioRest = _objectWithoutProperties(audio, _excluded2);\n                  _p.push(mse.append(MSE.AUDIO, audioData, audioRest));\n                }\n                return _context2.abrupt(\"return\", Promise.all(_p).then(afterAppend));\n              case 30:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function appendBuffer(_x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n        return _appendBuffer.apply(this, arguments);\n      }\n      return appendBuffer;\n    }()\n  }, {\n    key: \"removeBuffer\",\n    value: function() {\n      var _removeBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n        var _this3 = this;\n        var start, end, media, _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                start = _args3.length > 0 && _args3[0] !== void 0 ? _args3[0] : 0;\n                end = _args3.length > 1 && _args3[1] !== void 0 ? _args3[1] : Infinity;\n                media = this.hls.media;\n                if (!(!this._mse || !media || start < 0 || end < start || start >= this._mse.duration)) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 5:\n                return _context3.abrupt(\"return\", this._mse.clearBuffer(start, end).then(function() {\n                  return _this3.hls.emit(EVENT.REMOVE_BUFFER, {\n                    start,\n                    end,\n                    removeEnd: end\n                  });\n                }));\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function removeBuffer() {\n        return _removeBuffer.apply(this, arguments);\n      }\n      return removeBuffer;\n    }()\n  }, {\n    key: \"evictBuffer\",\n    value: function() {\n      var _evictBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(bufferBehind) {\n        var media, currentTime, removeEnd, start;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                media = this.hls.media;\n                if (!(!this._mse || !media || !bufferBehind || bufferBehind < 0)) {\n                  _context4.next = 3;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 3:\n                currentTime = media.currentTime;\n                removeEnd = currentTime - bufferBehind;\n                if (!(removeEnd <= 0)) {\n                  _context4.next = 7;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 7:\n                start = Buffer.start(Buffer.get(media));\n                if (!(start + 1 >= removeEnd)) {\n                  _context4.next = 10;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 10:\n                return _context4.abrupt(\"return\", this.removeBuffer(0, removeEnd));\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function evictBuffer(_x9) {\n        return _evictBuffer.apply(this, arguments);\n      }\n      return evictBuffer;\n    }()\n  }, {\n    key: \"clearAllBuffer\",\n    value: function() {\n      var _clearAllBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this._mse) {\n                  _context5.next = 2;\n                  break;\n                }\n                return _context5.abrupt(\"return\", this._mse.clearAllBuffer());\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function clearAllBuffer() {\n        return _clearAllBuffer.apply(this, arguments);\n      }\n      return clearAllBuffer;\n    }()\n  }, {\n    key: \"decryptBuffer\",\n    value: function decryptBuffer(video, audio) {\n      return this._decryptor.decrypt(video, audio);\n    }\n  }, {\n    key: \"reset\",\n    value: function() {\n      var _reset = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6() {\n        var reuseMse, _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                reuseMse = _args6.length > 0 && _args6[0] !== void 0 ? _args6[0] : false;\n                if (!(this._mse && !reuseMse)) {\n                  _context6.next = 8;\n                  break;\n                }\n                this._transmuxer = null;\n                this._sourceCreated = false;\n                _context6.next = 6;\n                return this._mse.unbindMedia();\n              case 6:\n                _context6.next = 8;\n                return this._mse.bindMedia(this.hls.media);\n              case 8:\n                this._needInitSegment = true;\n                this._directAppend = false;\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function reset() {\n        return _reset.apply(this, arguments);\n      }\n      return reset;\n    }()\n  }, {\n    key: \"endOfStream\",\n    value: function() {\n      var _endOfStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this._mse) {\n                  _context7.next = 5;\n                  break;\n                }\n                if (!this._sourceCreated) {\n                  _context7.next = 5;\n                  break;\n                }\n                _context7.next = 4;\n                return this._mse.endOfStream();\n              case 4:\n                this.hls.emit(EVENT.BUFFEREOS);\n              case 5:\n                if (this._softVideo) {\n                  this._softVideo.endOfStream();\n                }\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this);\n      }));\n      function endOfStream() {\n        return _endOfStream.apply(this, arguments);\n      }\n      return endOfStream;\n    }()\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function() {\n      var _setLiveSeekableRange = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(start, end) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (this._mse)\n                  this._mse.setLiveSeekableRange(start, end);\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this);\n      }));\n      function setLiveSeekableRange(_x10, _x11) {\n        return _setLiveSeekableRange.apply(this, arguments);\n      }\n      return setLiveSeekableRange;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9() {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!this._mse) {\n                  _context9.next = 3;\n                  break;\n                }\n                _context9.next = 3;\n                return this._mse.unbindMedia();\n              case 3:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10() {\n        var _this$_decryptor;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                (_this$_decryptor = this._decryptor) === null || _this$_decryptor === void 0 ? void 0 : _this$_decryptor.destroy();\n                _context10.next = 3;\n                return this.detachMedia();\n              case 3:\n                this._decryptor = null;\n                this._mse = null;\n                this._softVideo = null;\n              case 6:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_createMseSource\",\n    value: function _createMseSource(videoCodec, audioCodec) {\n      logger.debug(\"create mse source, videoCodec=\".concat(videoCodec, \", audioCodec=\").concat(audioCodec));\n      var mse = this._mse;\n      if (!mse)\n        return;\n      if (videoCodec) {\n        mse.createSource(MSE.VIDEO, \"video/mp4;codecs=\".concat(videoCodec));\n        this._sourceCreated = true;\n      }\n      if (audioCodec) {\n        mse.createSource(MSE.AUDIO, \"audio/mp4;codecs=\".concat(audioCodec));\n        this._sourceCreated = true;\n      }\n      this.hls.emit(EVENT.SOURCEBUFFER_CREATED);\n    }\n  }, {\n    key: \"_handleCodecChange\",\n    value: function _handleCodecChange(video, audio) {\n      var tasks = [];\n      var mse = this._mse;\n      var codecList = [{\n        type: MSE.VIDEO,\n        codecs: video === null || video === void 0 ? void 0 : video.codec\n      }, {\n        type: MSE.AUDIO,\n        codecs: audio === null || audio === void 0 ? void 0 : audio.codec\n      }];\n      codecList.filter(function(item) {\n        return !!item.codecs;\n      }).forEach(function(_ref) {\n        var type = _ref.type, codecs = _ref.codecs;\n        var sourceBuffer = mse.getSourceBuffer(type);\n        if (sourceBuffer) {\n          var codec = codecs.split(\",\")[0];\n          if (!new RegExp(codec, \"ig\").test(sourceBuffer.mimeType)) {\n            tasks.push(mse.changeType(type, \"\".concat(type, \"/mp4;codecs=\").concat(codecs)));\n          }\n        }\n      });\n      return tasks;\n    }\n  }, {\n    key: \"seamlessSwitch\",\n    value: function seamlessSwitch() {\n      this._needInitSegment = true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull() {\n      var _this$_mse5;\n      var mediaType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : MSE.VIDEO;\n      return (_this$_mse5 = this._mse) === null || _this$_mse5 === void 0 ? void 0 : _this$_mse5.isFull(mediaType);\n    }\n  }]);\n  return BufferService2;\n}();\nexport { BufferService };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction getConfig(cfg) {\n  var media = (cfg === null || cfg === void 0 ? void 0 : cfg.media) || document.createElement(\"video\");\n  return _objectSpread2(_objectSpread2({\n    maxPlaylistSize: 50,\n    retryCount: 3,\n    retryDelay: 1e3,\n    pollRetryCount: 2,\n    loadTimeout: 1e4,\n    manifestLoadTimeout: 1e4,\n    preloadTime: 30,\n    softDecode: false,\n    bufferBehind: 10,\n    maxJumpDistance: 3,\n    startTime: 0,\n    useLowLatency: true,\n    targetLatency: 10,\n    maxLatency: 20,\n    allowedStreamTrackChange: true,\n    seiInTime: false,\n    manifestList: [],\n    minSegmentsStartPlay: 3,\n    preferMMS: false,\n    preferMMSStreaming: false,\n    mseLowLatency: true,\n    fixerConfig: {\n      forceFixLargeGap: false,\n      largeGapThreshold: 5\n    }\n  }, cfg), {}, {\n    media\n  });\n}\nexport { getConfig };\n","var LoaderType = {\n  FETCH: \"fetch\",\n  XHR: \"xhr\"\n};\nvar ResponseType = {\n  ARRAY_BUFFER: \"arraybuffer\",\n  TEXT: \"text\",\n  JSON: \"json\"\n};\nexport { LoaderType, ResponseType };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, wrapNativeSuper as _wrapNativeSuper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType } from \"./types.js\";\nvar NetError = /* @__PURE__ */ function(_Error) {\n  _inherits(NetError2, _Error);\n  var _super = _createSuper(NetError2);\n  function NetError2(url, request, response, msg) {\n    var _this;\n    _classCallCheck(this, NetError2);\n    _this = _super.call(this, msg);\n    _defineProperty(_assertThisInitialized(_this), \"retryCount\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"isTimeout\", false);\n    _defineProperty(_assertThisInitialized(_this), \"loaderType\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"startTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"endTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"options\", {});\n    _this.url = url;\n    _this.request = request;\n    _this.response = response;\n    return _this;\n  }\n  return _createClass(NetError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { NetError };\n","import { typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar toString = Object.prototype.toString;\nfunction isObject(a) {\n  return a !== null && _typeof(a) === \"object\";\n}\nfunction isPlainObject(val) {\n  if (toString.call(val) !== \"[object Object]\") {\n    return false;\n  }\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\nfunction isDate(a) {\n  return toString.call(a) === \"[object Date]\";\n}\nexport { isDate, isObject, isPlainObject };\n","import { isDate, isObject } from \"../is.js\";\nfunction getRangeValue(value) {\n  if (!value || value[0] === null || value[0] === void 0 || value[0] === 0 && (value[1] === null || value[1] === void 0)) {\n    return;\n  }\n  var ret = \"bytes=\" + value[0] + \"-\";\n  if (value[1])\n    ret += value[1];\n  return ret;\n}\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\nfunction setUrlParams(url, params) {\n  if (!url)\n    return;\n  if (!params)\n    return url;\n  var v;\n  var str = Object.keys(params).map(function(k) {\n    v = params[k];\n    if (v === null || v === void 0)\n      return;\n    if (Array.isArray(v)) {\n      k = k + \"[]\";\n    } else {\n      v = [v];\n    }\n    return v.map(function(x) {\n      if (isDate(x)) {\n        x = x.toISOString();\n      } else if (isObject(x)) {\n        x = JSON.stringify(x);\n      }\n      return \"\".concat(encode(k), \"=\").concat(encode(x));\n    }).join(\"&\");\n  }).filter(Boolean).join(\"&\");\n  if (str) {\n    var hashIndex = url.indexOf(\"#\");\n    if (hashIndex !== -1) {\n      url = url.slice(0, hashIndex);\n    }\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + str;\n  }\n  return url;\n}\nfunction createResponse(data, done, response, contentLength, age, startTime, firstByteTime, index, range, vid, priOptions) {\n  age = age !== null && age !== void 0 ? parseFloat(age) : null;\n  contentLength = parseInt(contentLength || \"0\", 10);\n  if (Number.isNaN(contentLength))\n    contentLength = 0;\n  var options = {\n    range,\n    vid,\n    index,\n    contentLength,\n    age,\n    startTime,\n    firstByteTime,\n    endTime: Date.now(),\n    priOptions\n  };\n  return {\n    data,\n    done,\n    options,\n    response\n  };\n}\nfunction calculateSpeed(byteLen, milliSecond) {\n  return Math.round(byteLen * 8 * 1e3 / milliSecond / 1024);\n}\nexport { calculateSpeed, createResponse, getRangeValue, setUrlParams };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, createResponse, calculateSpeed } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar CACHESIZE = 2 * 1024 * 1024;\nvar FetchLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(FetchLoader2, _EventEmitter);\n  var _super = _createSuper(FetchLoader2);\n  function FetchLoader2() {\n    var _this;\n    _classCallCheck(this, FetchLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_abortController\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_reader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_response\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_running\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_onProcessMinLen\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(FetchLoader2, [{\n    key: \"load\",\n    value: function load(_ref) {\n      var _this$_abortControlle, _this2 = this;\n      var url = _ref.url, vid = _ref.vid, timeout = _ref.timeout, responseType = _ref.responseType, onProgress = _ref.onProgress, index = _ref.index, onTimeout = _ref.onTimeout, onCancel = _ref.onCancel, range = _ref.range, transformResponse = _ref.transformResponse, request = _ref.request, params = _ref.params, logger = _ref.logger, method = _ref.method, headers = _ref.headers, body = _ref.body, mode = _ref.mode, credentials = _ref.credentials, cache = _ref.cache, redirect = _ref.redirect, referrer = _ref.referrer, referrerPolicy = _ref.referrerPolicy, onProcessMinLen = _ref.onProcessMinLen, priOptions = _ref.priOptions;\n      this._logger = logger;\n      this._aborted = false;\n      this._onProcessMinLen = onProcessMinLen;\n      this._onCancel = onCancel;\n      this._abortController = typeof AbortController !== \"undefined\" && new AbortController();\n      this._running = true;\n      this._index = index;\n      this._range = range || [0, 0];\n      this._vid = vid || url;\n      this._priOptions = priOptions || {};\n      var init = {\n        method,\n        headers,\n        body,\n        mode,\n        credentials,\n        cache,\n        redirect,\n        referrer,\n        referrerPolicy,\n        signal: (_this$_abortControlle = this._abortController) === null || _this$_abortControlle === void 0 ? void 0 : _this$_abortControlle.signal\n      };\n      var isTimeout = false;\n      clearTimeout(this._timeoutTimer);\n      url = setUrlParams(url, params);\n      var rangeValue = getRangeValue(range);\n      if (rangeValue) {\n        if (request) {\n          headers = request.headers;\n        } else {\n          headers = init.headers = init.headers || (Headers ? new Headers() : {});\n        }\n        if (Headers && headers instanceof Headers) {\n          headers.append(\"Range\", rangeValue);\n        } else {\n          headers.Range = rangeValue;\n        }\n      }\n      if (timeout) {\n        this._timeoutTimer = setTimeout(function() {\n          isTimeout = true;\n          _this2.cancel();\n          if (onTimeout) {\n            var error = new NetError(url, init, null, \"timeout\");\n            error.isTimeout = true;\n            onTimeout(error, {\n              index: _this2._index,\n              range: _this2._range,\n              vid: _this2._vid,\n              priOptions: _this2._priOptions\n            });\n          }\n        }, timeout);\n      }\n      var startTime = Date.now();\n      this._logger.debug(\"[fetch load start], index,\", index, \",range,\", range);\n      return new Promise(function(resolve, reject) {\n        fetch(request || url, request ? void 0 : init).then(/* @__PURE__ */ function() {\n          var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(response) {\n            var firstByteTime, data, costTime, speed;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1)\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    clearTimeout(_this2._timeoutTimer);\n                    _this2._response = response;\n                    if (!(_this2._aborted || !_this2._running)) {\n                      _context.next = 4;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 4:\n                    if (transformResponse) {\n                      response = transformResponse(response, url) || response;\n                    }\n                    if (response.ok) {\n                      _context.next = 7;\n                      break;\n                    }\n                    throw new NetError(url, init, response, \"bad network response\");\n                  case 7:\n                    firstByteTime = Date.now();\n                    if (!(responseType === ResponseType.TEXT)) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 11;\n                    return response.text();\n                  case 11:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 15:\n                    if (!(responseType === ResponseType.JSON)) {\n                      _context.next = 22;\n                      break;\n                    }\n                    _context.next = 18;\n                    return response.json();\n                  case 18:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 22:\n                    if (!onProgress) {\n                      _context.next = 29;\n                      break;\n                    }\n                    _this2.resolve = resolve;\n                    _this2.reject = reject;\n                    _this2._loadChunk(response, onProgress, startTime, firstByteTime);\n                    return _context.abrupt(\"return\");\n                  case 29:\n                    _context.next = 31;\n                    return response.arrayBuffer();\n                  case 31:\n                    data = _context.sent;\n                    data = new Uint8Array(data);\n                    _this2._running = false;\n                    costTime = Date.now() - startTime;\n                    speed = calculateSpeed(data.byteLength, costTime);\n                    _this2.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: data.byteLength,\n                      time: costTime,\n                      vid: _this2._vid,\n                      index: _this2._index,\n                      range: _this2._range,\n                      priOptions: _this2._priOptions\n                    });\n                  case 37:\n                    _this2._logger.debug(\"[fetch load end], index,\", index, \",range,\", range);\n                    resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), startTime, firstByteTime, index, range, _this2._vid, _this2._priOptions));\n                  case 39:\n                  case \"end\":\n                    return _context.stop();\n                }\n            }, _callee);\n          }));\n          return function(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }()).catch(function(error) {\n          var _error;\n          clearTimeout(_this2._timeoutTimer);\n          _this2._running = false;\n          if (_this2._aborted && !isTimeout)\n            return;\n          error = error instanceof NetError ? error : new NetError(url, init, null, (_error = error) === null || _error === void 0 ? void 0 : _error.message);\n          error.startTime = startTime;\n          error.endTime = Date.now();\n          error.isTimeout = isTimeout;\n          error.options = {\n            index: _this2._index,\n            range: _this2._range,\n            vid: _this2._vid,\n            priOptions: _this2._priOptions\n          };\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._aborted) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                this._aborted = true;\n                this._running = false;\n                if (!this._response) {\n                  _context2.next = 14;\n                  break;\n                }\n                _context2.prev = 5;\n                if (!this._reader) {\n                  _context2.next = 9;\n                  break;\n                }\n                _context2.next = 9;\n                return this._reader.cancel();\n              case 9:\n                _context2.next = 13;\n                break;\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](5);\n              case 13:\n                this._response = this._reader = null;\n              case 14:\n                if (this._abortController) {\n                  try {\n                    this._abortController.abort();\n                  } catch (error) {\n                  }\n                  this._abortController = null;\n                }\n                if (this._onCancel) {\n                  this._onCancel({\n                    index: this._index,\n                    range: this._range,\n                    vid: this._vid,\n                    priOptions: this._priOptions\n                  });\n                }\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this, [[5, 11]]);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_loadChunk\",\n    value: function _loadChunk(response, onProgress, st, firstByteTime) {\n      var _this3 = this;\n      if (!response.body || !response.body.getReader) {\n        this._running = false;\n        var err = new NetError(response.url, \"\", response, \"onProgress of bad response.body.getReader\");\n        err.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this.reject(err);\n        return;\n      }\n      if (this._onProcessMinLen > 0) {\n        this._cache = new Uint8Array(CACHESIZE);\n        this._writeIdx = 0;\n      }\n      var reader = this._reader = response.body.getReader();\n      var data;\n      var startTime;\n      var endTime;\n      var pump = /* @__PURE__ */ function() {\n        var _ref3 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n          var _this3$_range;\n          var startRange, startByte, curLen, retData, temp, costTime, speed;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1)\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  startTime = Date.now();\n                  _context3.prev = 1;\n                  _context3.next = 4;\n                  return reader.read();\n                case 4:\n                  data = _context3.sent;\n                  endTime = Date.now();\n                  _context3.next = 13;\n                  break;\n                case 8:\n                  _context3.prev = 8;\n                  _context3.t0 = _context3[\"catch\"](1);\n                  endTime = Date.now();\n                  if (!_this3._aborted) {\n                    _this3._running = false;\n                    _context3.t0.options = {\n                      index: _this3._index,\n                      range: _this3._range,\n                      vid: _this3._vid,\n                      priOptions: _this3._priOptions\n                    };\n                    _this3.reject(_context3.t0);\n                  }\n                  return _context3.abrupt(\"return\");\n                case 13:\n                  startRange = ((_this3$_range = _this3._range) === null || _this3$_range === void 0 ? void 0 : _this3$_range.length) > 0 ? _this3._range[0] : 0;\n                  startByte = startRange + _this3._receivedLength;\n                  if (!_this3._aborted) {\n                    _context3.next = 19;\n                    break;\n                  }\n                  _this3._running = false;\n                  onProgress(void 0, false, {\n                    range: [startByte, startByte],\n                    vid: _this3._vid,\n                    index: _this3._index,\n                    startTime,\n                    endTime,\n                    st,\n                    firstByteTime,\n                    priOptions: _this3._priOptions\n                  }, response);\n                  return _context3.abrupt(\"return\");\n                case 19:\n                  curLen = data.value ? data.value.byteLength : 0;\n                  _this3._receivedLength += curLen;\n                  _this3._logger.debug(\"\\u3010fetchLoader,onProgress call\\u3011,task,\", _this3._range, \", start,\", startByte, \", end,\", startRange + _this3._receivedLength, \", done,\", data.done);\n                  if (_this3._onProcessMinLen > 0) {\n                    if (_this3._writeIdx + curLen >= _this3._onProcessMinLen || data.done) {\n                      retData = new Uint8Array(_this3._writeIdx + curLen);\n                      retData.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                      curLen > 0 && retData.set(data.value, _this3._writeIdx);\n                      _this3._writeIdx = 0;\n                      _this3._logger.debug(\"\\u3010fetchLoader,onProgress enough\\u3011,done,\", data.done, \",len,\", retData.byteLength, \", writeIdx,\", _this3._writeIdx);\n                    } else {\n                      if (curLen > 0 && _this3._writeIdx + curLen < CACHESIZE) {\n                        _this3._cache.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress cache\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      } else if (curLen > 0) {\n                        temp = new Uint8Array(_this3._writeIdx + curLen + 2048);\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra start\\u3011,size,\", _this3._writeIdx + curLen + 2048, \", datalen,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                        temp.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                        curLen > 0 && temp.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        delete _this3._cache;\n                        _this3._cache = temp;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra end\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      }\n                    }\n                  } else {\n                    retData = data.value;\n                  }\n                  if (retData && retData.byteLength > 0 || data.done) {\n                    onProgress(retData, data.done, {\n                      range: [_this3._range[0] + _this3._receivedLength - (retData ? retData.byteLength : 0), _this3._range[0] + _this3._receivedLength],\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      startTime,\n                      endTime,\n                      st,\n                      firstByteTime,\n                      priOptions: _this3._priOptions\n                    }, response);\n                  }\n                  if (!data.done) {\n                    pump();\n                  } else {\n                    costTime = Date.now() - st;\n                    speed = calculateSpeed(_this3._receivedLength, costTime);\n                    _this3.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: _this3._receivedLength,\n                      time: costTime,\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      range: _this3._range,\n                      priOptions: _this3._priOptions\n                    });\n                    _this3._running = false;\n                    _this3._logger.debug(\"[fetchLoader onProgress end],task,\", _this3._range, \",done,\", data.done);\n                    _this3.resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), st, firstByteTime, _this3._index, _this3._range, _this3._vid, _this3._priOptions));\n                  }\n                case 25:\n                case \"end\":\n                  return _context3.stop();\n              }\n          }, _callee3, null, [[1, 8]]);\n        }));\n        return function pump2() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      pump();\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return !!(typeof fetch !== \"undefined\");\n    }\n  }]);\n  return FetchLoader2;\n}(EventEmitter);\nexport { FetchLoader };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType, ResponseType } from \"./types.js\";\nfunction getConfig(cfg) {\n  return _objectSpread2({\n    loaderType: LoaderType.FETCH,\n    retry: 0,\n    retryDelay: 0,\n    timeout: 0,\n    request: null,\n    onTimeout: void 0,\n    onProgress: void 0,\n    onRetryError: void 0,\n    transformRequest: void 0,\n    transformResponse: void 0,\n    transformError: void 0,\n    responseType: ResponseType.TEXT,\n    range: void 0,\n    url: \"\",\n    params: void 0,\n    method: \"GET\",\n    headers: {},\n    body: void 0,\n    mode: void 0,\n    credentials: void 0,\n    cache: void 0,\n    redirect: void 0,\n    referrer: void 0,\n    referrerPolicy: void 0,\n    integrity: void 0,\n    onProcessMinLen: 0\n  }, cfg);\n}\nexport { getConfig };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, calculateSpeed, createResponse } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar XhrLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(XhrLoader2, _EventEmitter);\n  var _super = _createSuper(XhrLoader2);\n  function XhrLoader2() {\n    var _this;\n    _classCallCheck(this, XhrLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_url\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_onProgress\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_headers\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_currentChunkSizeKB\", 384);\n    _defineProperty(_assertThisInitialized(_this), \"_timeout\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_withCredentials\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_startTime\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteResolve\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteReject\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_runing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_responseType\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_credentials\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_method\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_transformResponse\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_firstRtt\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(XhrLoader2, [{\n    key: \"load\",\n    value: function load(req) {\n      var _this2 = this;\n      clearTimeout(this._timeoutTimer);\n      this._logger = req.logger;\n      this._range = req.range;\n      this._onProgress = req.onProgress;\n      this._index = req.index;\n      this._headers = req.headers;\n      this._withCredentials = req.credentials === \"include\" || req.credentials === \"same-origin\";\n      this._body = req.body || null;\n      req.method && (this._method = req.method);\n      this._timeout = req.timeout || null;\n      this._runing = true;\n      this._vid = req.vid || req.url;\n      this._responseType = req.responseType;\n      this._firstRtt = -1;\n      this._onTimeout = req.onTimeout;\n      this._onCancel = req.onCancel;\n      this._request = req.request;\n      this._priOptions = req.priOptions || {};\n      this._logger.debug(\"\\u3010xhrLoader task\\u3011, range\", this._range);\n      this._url = setUrlParams(req.url, req.params);\n      var startTime = Date.now();\n      return new Promise(function(resolve, reject) {\n        _this2._loadCompleteResolve = resolve;\n        _this2._loadCompleteReject = reject;\n        _this2._startLoad();\n      }).catch(function(error) {\n        clearTimeout(_this2._timeoutTimer);\n        _this2._runing = false;\n        if (_this2._aborted)\n          return;\n        error = error instanceof NetError ? error : new NetError(_this2._url, _this2._request);\n        error.startTime = startTime;\n        error.endTime = Date.now();\n        error.options = {\n          index: _this2._index,\n          vid: _this2._vid,\n          priOptions: _this2._priOptions\n        };\n        throw error;\n      });\n    }\n  }, {\n    key: \"_startLoad\",\n    value: function _startLoad() {\n      var range = null;\n      if (this._responseType === ResponseType.ARRAY_BUFFER && this._range && this._range.length > 1) {\n        if (this._onProgress) {\n          this._firstRtt = -1;\n          var chunkSize = this._currentChunkSizeKB * 1024;\n          var from = this._range[0] + this._receivedLength;\n          var to = this._range[1];\n          if (chunkSize < this._range[1] - from) {\n            to = from + chunkSize;\n          }\n          range = [from, to];\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", SubRange, \", range);\n        } else {\n          range = this._range;\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", allRange, \", range);\n        }\n      }\n      this._internalOpen(range);\n    }\n  }, {\n    key: \"_internalOpen\",\n    value: function _internalOpen(range) {\n      var _this3 = this;\n      try {\n        this._startTime = Date.now();\n        var xhr = this._xhr = new XMLHttpRequest();\n        xhr.open(this._method || \"GET\", this._url, true);\n        xhr.responseType = this._responseType;\n        this._timeout && (xhr.timeout = this._timeout);\n        xhr.withCredentials = this._withCredentials;\n        xhr.onload = this._onLoad.bind(this);\n        xhr.onreadystatechange = this._onReadyStatechange.bind(this);\n        xhr.onerror = function(errorEvent) {\n          var _errorEvent$currentTa, _errorEvent$currentTa2, _errorEvent$currentTa3;\n          _this3._running = false;\n          var error = new NetError(_this3._url, _this3._request, errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa = errorEvent.currentTarget) === null || _errorEvent$currentTa === void 0 ? void 0 : _errorEvent$currentTa.response, \"xhr.onerror.status:\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa2 = errorEvent.currentTarget) === null || _errorEvent$currentTa2 === void 0 ? void 0 : _errorEvent$currentTa2.status) + \",statusText,\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa3 = errorEvent.currentTarget) === null || _errorEvent$currentTa3 === void 0 ? void 0 : _errorEvent$currentTa3.statusText));\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        xhr.ontimeout = function(event) {\n          _this3.cancel();\n          var error = new NetError(_this3._url, _this3._request, {\n            status: 408\n          }, \"timeout\");\n          if (_this3._onTimeout) {\n            error.isTimeout = true;\n            _this3._onTimeout(error, {\n              index: _this3._index,\n              range: _this3._range,\n              vid: _this3._vid,\n              priOptions: _this3._priOptions\n            });\n          }\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        var headers = this._headers || {};\n        var rangeValue = getRangeValue(range);\n        if (rangeValue) {\n          headers.Range = rangeValue;\n        }\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        this._logger.debug(\"[xhr.send->] tast,\", this._range, \",load sub range, \", range);\n        xhr.send(this._body);\n      } catch (e) {\n        e.options = {\n          index: this._index,\n          range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this._loadCompleteReject(e);\n      }\n    }\n  }, {\n    key: \"_onReadyStatechange\",\n    value: function _onReadyStatechange(e) {\n      var xhr = e.target;\n      if (xhr.readyState === 2) {\n        this._firstRtt < 0 && (this._firstRtt = Date.now());\n      }\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(e) {\n      var _this$_range;\n      var status = e.target.status;\n      if (status < 200 || status > 299) {\n        var error = new NetError(this._url, null, _objectSpread2(_objectSpread2({}, e.target.response), {}, {\n          status\n        }), \"bad response,status:\" + status);\n        error.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        return this._loadCompleteReject(error);\n      }\n      var data = null;\n      var done = false;\n      var byteStart;\n      var startRange = ((_this$_range = this._range) === null || _this$_range === void 0 ? void 0 : _this$_range.length) > 0 ? this._range[0] : 0;\n      if (this._responseType === ResponseType.ARRAY_BUFFER) {\n        var _this$_range2;\n        var chunk = new Uint8Array(e.target.response);\n        byteStart = startRange + this._receivedLength;\n        if (chunk && chunk.byteLength > 0) {\n          this._receivedLength += chunk.byteLength;\n          var costTime = Date.now() - this._startTime;\n          var speed = calculateSpeed(this._receivedLength, costTime);\n          this.emit(EVENT.REAL_TIME_SPEED, {\n            speed,\n            len: this._receivedLength,\n            time: costTime,\n            vid: this._vid,\n            index: this._index,\n            range: [byteStart, startRange + this._receivedLength],\n            priOptions: this._priOptions\n          });\n        }\n        data = chunk;\n        if (((_this$_range2 = this._range) === null || _this$_range2 === void 0 ? void 0 : _this$_range2.length) > 1 && this._range[1] && this._receivedLength < this._range[1] - this._range[0]) {\n          done = false;\n        } else {\n          done = true;\n        }\n        this._logger.debug(\"[xhr load done->], tast :\", this._range, \", start\", byteStart, \"end \", startRange + this._receivedLength, \",dataLen,\", chunk ? chunk.byteLength : 0, \",receivedLength\", this._receivedLength, \",index,\", this._index, \", done,\", done);\n      } else {\n        done = true;\n        data = e.target.response;\n      }\n      var response = {\n        ok: status >= 200 && status < 300,\n        status,\n        statusText: this._xhr.statusText,\n        url: this._xhr.responseURL,\n        headers: this._getHeaders(this._xhr),\n        body: this._xhr.response\n      };\n      if (this._transformResponse) {\n        response = this._transformResponse(response, this._url) || response;\n      }\n      if (this._onProgress) {\n        this._onProgress(data, done, {\n          index: this._index,\n          vid: this._vid,\n          range: [byteStart, startRange + this._receivedLength],\n          startTime: this._startTime,\n          endTime: Date.now(),\n          priOptions: this._priOptions\n        }, response);\n      }\n      if (!done) {\n        this._startLoad();\n      } else {\n        this._runing = false;\n        this._loadCompleteResolve && this._loadCompleteResolve(createResponse(this._onProgress ? null : data, done, response, response.headers[\"content-length\"], response.headers.age, this._startTime, this._firstRtt, this._index, this._range, this._vid, this._priOptions));\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._aborted)\n        return;\n      this._aborted = true;\n      this._runing = false;\n      _get(_getPrototypeOf(XhrLoader2.prototype), \"removeAllListeners\", this).call(this);\n      if (this._onCancel) {\n        this._onCancel({\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        });\n      }\n      if (this._xhr) {\n        return this._xhr.abort();\n      }\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(xhr) {\n      var headerLines = xhr.getAllResponseHeaders().trim().split(\"\\r\\n\");\n      var headers = {};\n      var _iterator = _createForOfIteratorHelper(headerLines), _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n          var header = _step.value;\n          var parts = header.split(\": \");\n          headers[parts[0].toLowerCase()] = parts.slice(1).join(\": \");\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return headers;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof XMLHttpRequest !== \"undefined\";\n    }\n  }]);\n  return XhrLoader2;\n}(EventEmitter);\nexport { XhrLoader };\n","import { createClass as _createClass, objectWithoutProperties as _objectWithoutProperties, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { XhrLoader } from \"./xhr.js\";\nimport { LoaderType } from \"./types.js\";\nimport { createPublicPromise } from \"../utils.js\";\nimport { Logger } from \"../logger.js\";\nvar _excluded = [\"retry\", \"retryDelay\", \"onRetryError\", \"transformError\"];\nvar Task = /* @__PURE__ */ function() {\n  function Task2(type, config) {\n    _classCallCheck(this, Task2);\n    this.promise = createPublicPromise();\n    this.alive = !!config.onProgress;\n    !config.logger && (config.logger = new Logger(\"Loader\"));\n    this._loaderType = type;\n    this._loader = type === LoaderType.FETCH && typeof fetch !== \"undefined\" ? new FetchLoader() : new XhrLoader();\n    this._config = config;\n    this._retryCount = 0;\n    this._retryTimer = null;\n    this._canceled = false;\n    this._retryCheckFunc = config.retryCheckFunc;\n    this._logger = config.logger;\n  }\n  _createClass(Task2, [{\n    key: \"exec\",\n    value: function exec() {\n      var _this = this;\n      var _this$_config = this._config, retry = _this$_config.retry, retryDelay = _this$_config.retryDelay, onRetryError = _this$_config.onRetryError, transformError = _this$_config.transformError, rest = _objectWithoutProperties(_this$_config, _excluded);\n      var request = /* @__PURE__ */ function() {\n        var _ref = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n          var response, error, isRetry;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1)\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return _this._loader.load(rest);\n                case 3:\n                  response = _context.sent;\n                  _this.promise.resolve(response);\n                  _context.next = 27;\n                  break;\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](0);\n                  _this._loader.running = false;\n                  _this._logger.debug(\"[task request catch err]\", _context.t0);\n                  if (!_this._canceled) {\n                    _context.next = 13;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 13:\n                  _context.t0.loaderType = _this._loaderType;\n                  _context.t0.retryCount = _this._retryCount;\n                  error = _context.t0;\n                  if (transformError) {\n                    error = transformError(error) || error;\n                  }\n                  if (onRetryError && _this._retryCount > 0)\n                    onRetryError(error, _this._retryCount, {\n                      index: rest.index,\n                      vid: rest.vid,\n                      range: rest.range,\n                      priOptions: rest.priOptions\n                    });\n                  _this._retryCount++;\n                  isRetry = true;\n                  if (_this._retryCheckFunc) {\n                    isRetry = _this._retryCheckFunc(_context.t0);\n                  }\n                  if (!(isRetry && _this._retryCount <= retry)) {\n                    _context.next = 26;\n                    break;\n                  }\n                  clearTimeout(_this._retryTimer);\n                  _this._logger.debug(\"[task request setTimeout],retry\", _this._retryCount, \",retry range,\", rest.range);\n                  _this._retryTimer = setTimeout(request, retryDelay);\n                  return _context.abrupt(\"return\");\n                case 26:\n                  _this.promise.reject(error);\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n          }, _callee, null, [[0, 7]]);\n        }));\n        return function request2() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      request();\n      return this.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(this._retryTimer);\n                this._canceled = true;\n                this._loader.running = false;\n                return _context2.abrupt(\"return\", this._loader.cancel());\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._loader && this._loader.running;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._loader;\n    }\n  }]);\n  return Task2;\n}();\nexport { Task };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { LoaderType } from \"./types.js\";\nexport { LoaderType, ResponseType } from \"./types.js\";\nimport { getConfig } from \"./config.js\";\nimport { Task } from \"./task.js\";\nimport { isPlainObject } from \"../is.js\";\nimport { sleep } from \"../streaming-helper.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar NetLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(NetLoader2, _EventEmitter);\n  var _super = _createSuper(NetLoader2);\n  function NetLoader2(cfg) {\n    var _this;\n    _classCallCheck(this, NetLoader2);\n    _this = _super.call(this, cfg);\n    _defineProperty(_assertThisInitialized(_this), \"type\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"_queue\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_alive\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_currentTask\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_finnalUrl\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_config\", void 0);\n    _this._config = getConfig(cfg);\n    if (_this._config.loaderType === LoaderType.XHR || !FetchLoader.isSupported()) {\n      _this.type = LoaderType.XHR;\n    }\n    _this.log = cfg.logger;\n    return _this;\n  }\n  _createClass(NetLoader2, [{\n    key: \"isFetch\",\n    value: function isFetch() {\n      return this.type === LoaderType.FETCH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (typeof url === \"string\" || !url) {\n        config.url = url || config.url || this._config.url;\n      } else {\n        config = url;\n      }\n      config = Object.assign({}, this._config, config);\n      if (config.params)\n        config.params = Object.assign({}, config.params);\n      if (config.headers && isPlainObject(config.headers))\n        config.headers = Object.assign({}, config.headers);\n      if (config.body && isPlainObject(config.body))\n        config.body = Object.assign({}, config.body);\n      if (config.transformRequest) {\n        config = config.transformRequest(config) || config;\n      }\n      config.logger = this.log;\n      var task = new Task(this.type, config);\n      task.loader.on(EVENT.REAL_TIME_SPEED, function(data) {\n        _this2.emit(EVENT.REAL_TIME_SPEED, data);\n      });\n      this._queue.push(task);\n      if (this._queue.length === 1 && (!this._currentTask || !this._currentTask.running)) {\n        this._processTask();\n      }\n      return task.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n        var cancels;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                cancels = this._queue.map(function(t) {\n                  return t.cancel();\n                }).concat(this._alive.map(function(t) {\n                  return t.cancel();\n                }));\n                if (this._currentTask) {\n                  cancels.push(this._currentTask.cancel());\n                }\n                this._queue = [];\n                this._alive = [];\n                _context.next = 6;\n                return Promise.all(cancels);\n              case 6:\n                _context.next = 8;\n                return sleep();\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_processTask\",\n    value: function _processTask() {\n      var _this3 = this;\n      this._currentTask = this._queue.shift();\n      if (!this._currentTask)\n        return;\n      if (this._currentTask.alive) {\n        this._alive.push(this._currentTask);\n      }\n      var req = this._currentTask.exec().catch(function(e) {\n      });\n      if (!(req && typeof req.finally === \"function\"))\n        return;\n      req.finally(function() {\n        var _this3$_currentTask, _this3$_alive;\n        if ((_this3$_currentTask = _this3._currentTask) !== null && _this3$_currentTask !== void 0 && _this3$_currentTask.alive && ((_this3$_alive = _this3._alive) === null || _this3$_alive === void 0 ? void 0 : _this3$_alive.length) > 0) {\n          _this3._alive = _this3._alive.filter(function(task) {\n            return task && task !== _this3._currentTask;\n          });\n        }\n        _this3._processTask();\n      });\n    }\n  }], [{\n    key: \"isFetchSupport\",\n    value: function isFetchSupport() {\n      return FetchLoader.isSupported();\n    }\n  }]);\n  return NetLoader2;\n}(EventEmitter);\nexport { NetLoader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, assertThisInitialized as _assertThisInitialized } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nvar MasterPlaylist = /* @__PURE__ */ _createClass(function MasterPlaylist2() {\n  _classCallCheck(this, MasterPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"streams\", []);\n  _defineProperty(this, \"isMaster\", true);\n});\nvar MediaType = {\n  Audio: \"AUDIO\",\n  Video: \"VIDEO\",\n  SubTitle: \"SUBTITLE\",\n  ClosedCaptions: \"CLOSED-CAPTIONS\"\n};\nvar KeySystems = {\n  CLEAR_KEY: \"org.w3.clearkey\",\n  FAIRPLAY: [\"urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2\", \"com.apple.streamingkeydelivery\"],\n  WIDEVINE: [\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\", \"com.widevine.alpha\", \"com.widevine\"],\n  PLAYREADY: [\"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\", \"com.microsoft.playready\"]\n};\nfunction flatArray(arr) {\n  var ret = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      ret = ret.concat(flatArray(arr[i]));\n    } else {\n      ret.push(arr[i]);\n    }\n  }\n  return ret;\n}\nvar MediaStream = /* @__PURE__ */ _createClass(function MediaStream2() {\n  _classCallCheck(this, MediaStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"default\", false);\n  _defineProperty(this, \"autoSelect\", false);\n  _defineProperty(this, \"forced\", false);\n  _defineProperty(this, \"group\", \"\");\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"lang\", \"\");\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"endSN\", 0);\n});\nvar AudioStream = /* @__PURE__ */ function(_MediaStream) {\n  _inherits(AudioStream2, _MediaStream);\n  var _super = _createSuper(AudioStream2);\n  function AudioStream2() {\n    var _this;\n    _classCallCheck(this, AudioStream2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"mediaType\", MediaType.Audio);\n    _defineProperty(_assertThisInitialized(_this), \"channels\", 0);\n    return _this;\n  }\n  return _createClass(AudioStream2);\n}(MediaStream);\nvar SubTitleStream = /* @__PURE__ */ function(_MediaStream3) {\n  _inherits(SubTitleStream2, _MediaStream3);\n  var _super3 = _createSuper(SubTitleStream2);\n  function SubTitleStream2() {\n    var _this3;\n    _classCallCheck(this, SubTitleStream2);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this3 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this3), \"mediaType\", MediaType.SubTitle);\n    return _this3;\n  }\n  return _createClass(SubTitleStream2);\n}(MediaStream);\nvar MasterStream = /* @__PURE__ */ _createClass(function MasterStream2() {\n  _classCallCheck(this, MasterStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"bitrate\", 0);\n  _defineProperty(this, \"width\", 0);\n  _defineProperty(this, \"height\", 0);\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"audioCodec\", \"\");\n  _defineProperty(this, \"videoCodec\", \"\");\n  _defineProperty(this, \"textCodec\", \"\");\n  _defineProperty(this, \"audioGroup\", \"\");\n  _defineProperty(this, \"audioStreams\", []);\n  _defineProperty(this, \"subtitleStreams\", []);\n  _defineProperty(this, \"closedCaptionsStream\", []);\n});\nvar MediaPlaylist = /* @__PURE__ */ _createClass(function MediaPlaylist2() {\n  _classCallCheck(this, MediaPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"type\", \"\");\n  _defineProperty(this, \"startCC\", 0);\n  _defineProperty(this, \"endCC\", 0);\n  _defineProperty(this, \"startSN\", 0);\n  _defineProperty(this, \"endSN\", 0);\n  _defineProperty(this, \"totalDuration\", 0);\n  _defineProperty(this, \"targetDuration\", 0);\n  _defineProperty(this, \"partTargetDuration\", 0);\n  _defineProperty(this, \"canSkipUntil\", 0);\n  _defineProperty(this, \"canSkipDateRanges\", false);\n  _defineProperty(this, \"skippedSegments\", 0);\n  _defineProperty(this, \"canBlockReload\", false);\n  _defineProperty(this, \"partHoldBack\", 0);\n  _defineProperty(this, \"live\", true);\n  _defineProperty(this, \"lowLatency\", false);\n  _defineProperty(this, \"endPartIndex\", 0);\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"dateRanges\", {});\n  _defineProperty(this, \"skippedSegments\", 0);\n});\nvar MediaSegment = /* @__PURE__ */ function() {\n  function MediaSegment2(parentUrl) {\n    _classCallCheck(this, MediaSegment2);\n    _defineProperty(this, \"sn\", 0);\n    _defineProperty(this, \"cc\", 0);\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"parentUrl\", \"\");\n    _defineProperty(this, \"title\", \"\");\n    _defineProperty(this, \"start\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"dataTime\", \"\");\n    _defineProperty(this, \"key\", null);\n    _defineProperty(this, \"byteRange\", null);\n    _defineProperty(this, \"isInitSegment\", false);\n    _defineProperty(this, \"initSegment\", null);\n    _defineProperty(this, \"isLast\", false);\n    _defineProperty(this, \"hasAudio\", false);\n    _defineProperty(this, \"hasVideo\", false);\n    _defineProperty(this, \"independent\", false);\n    _defineProperty(this, \"partIndex\", 0);\n    this.parentUrl = parentUrl;\n  }\n  _createClass(MediaSegment2, [{\n    key: \"end\",\n    get: function get() {\n      return this.start + this.duration;\n    }\n  }, {\n    key: \"setTrackExist\",\n    value: function setTrackExist(v, a) {\n      this.hasVideo = v;\n      this.hasAudio = a;\n    }\n  }, {\n    key: \"setByteRange\",\n    value: function setByteRange(data, prevSegment) {\n      this.byteRange = [0];\n      var bytes = data.split(\"@\");\n      if (bytes.length === 1 && prevSegment && prevSegment.byteRange) {\n        this.byteRange[0] = prevSegment.byteRange[1] || 0;\n        if (this.byteRange[0])\n          this.byteRange[0] += 1;\n      } else {\n        this.byteRange[0] = parseInt(bytes[1]);\n      }\n      this.byteRange[1] = this.byteRange[0] + parseInt(bytes[0]) - 1;\n    }\n  }]);\n  return MediaSegment2;\n}();\nvar MediaSegmentKey = /* @__PURE__ */ function() {\n  function MediaSegmentKey2(segKey) {\n    _classCallCheck(this, MediaSegmentKey2);\n    _defineProperty(this, \"method\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"iv\", null);\n    _defineProperty(this, \"keyFormat\", \"\");\n    _defineProperty(this, \"keyFormatVersions\", \"\");\n    if (segKey instanceof MediaSegmentKey2) {\n      this.method = segKey.method;\n      this.url = segKey.url;\n      this.keyFormat = segKey.keyFormat;\n      this.keyFormatVersions = segKey.keyFormatVersions;\n      if (segKey.iv)\n        this.iv = new Uint8Array(segKey.iv);\n    }\n  }\n  _createClass(MediaSegmentKey2, [{\n    key: \"clone\",\n    value: function clone(sn) {\n      var key = new MediaSegmentKey2(this);\n      if (sn !== null && sn !== void 0)\n        key.setIVFromSN(sn);\n      return key;\n    }\n  }, {\n    key: \"setIVFromSN\",\n    value: function setIVFromSN(sn) {\n      if (!this.iv && this.method === \"AES-128\" && typeof sn === \"number\" && this.url) {\n        this.iv = new Uint8Array(16);\n        for (var i = 12; i < 16; i++) {\n          this.iv[i] = sn >> 8 * (15 - i) & 255;\n        }\n      }\n    }\n  }, {\n    key: \"isSegmentEncrypted\",\n    value: function isSegmentEncrypted() {\n      var method = this.method;\n      return method === \"AES-128\";\n    }\n  }, {\n    key: \"isValidKeySystem\",\n    value: function isValidKeySystem() {\n      var isKeyFormatValid = flatArray([KeySystems.CLEAR_KEY, KeySystems.FAIRPLAY, KeySystems.WIDEVINE, KeySystems.PLAYREADY]).indexOf(this.keyFormat) > -1;\n      if (!isKeyFormatValid) {\n        return false;\n      }\n      var isMethodValid = [\"SAMPLE-AES\", \"SAMPLE-AES-CENC\", \"SAMPLE-AES-CTR\"].indexOf(this.method) > -1;\n      if (!isMethodValid) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      if (!this.method) {\n        return false;\n      }\n      if (this.isSegmentEncrypted()) {\n        return true;\n      } else if (this.isValidKeySystem()) {\n        return true;\n      }\n      return false;\n    }\n  }]);\n  return MediaSegmentKey2;\n}();\nexport { AudioStream, MasterPlaylist, MasterStream, MediaPlaylist, MediaSegment, MediaSegmentKey, MediaStream, SubTitleStream };\n","var REGEXP_TAG = /^#(EXT[^:]*)(?::(.*))?$/;\nvar REGEXP_ATTR = /([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;\nvar REGEXP_ABSOLUTE_URL = /^(?:[a-zA-Z0-9+\\-.]+:)?\\/\\//;\nvar REGEXP_URL_PAIR = /^((?:[a-zA-Z0-9+\\-.]+:)?\\/\\/[^/?#]*)?([^?#]*\\/)?/;\nfunction getLines(text) {\n  return text.split(/[\\r\\n]/).map(function(x) {\n    return x.trim();\n  }).filter(Boolean);\n}\nfunction parseTag(text) {\n  var ret = text.match(REGEXP_TAG);\n  if (!ret || !ret[1])\n    return;\n  return [ret[1].replace(\"EXT-X-\", \"\"), ret[2]];\n}\nfunction parseAttr(text) {\n  var ret = {};\n  var match = REGEXP_ATTR.exec(text);\n  while (match) {\n    ret[match[1]] = match[2] || match[3];\n    match = REGEXP_ATTR.exec(text);\n  }\n  return ret;\n}\nfunction getAbsoluteUrl(url, parentUrl) {\n  if (!parentUrl || !url || REGEXP_ABSOLUTE_URL.test(url))\n    return url;\n  var pairs = REGEXP_URL_PAIR.exec(parentUrl);\n  if (!pairs)\n    return url;\n  if (url[0] === \"/\")\n    return pairs[1] + url;\n  return pairs[1] + pairs[2] + url;\n}\nvar CODECS_REGEXP = {\n  audio: [/^mp4a/, /^vorbis$/, /^opus$/, /^flac$/, /^[ae]c-3$/],\n  video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/],\n  text: [/^vtt$/, /^wvtt/, /^stpp/]\n};\nfunction getCodecs(type, codecs) {\n  var re = CODECS_REGEXP[type];\n  if (!re || !codecs || !codecs.length)\n    return;\n  for (var i = 0; i < re.length; i++) {\n    for (var j = 0; j < codecs.length; j++) {\n      if (re[i].test(codecs[j]))\n        return codecs[j];\n    }\n  }\n}\nfunction isValidDaterange(attr, dateRangeWithSameId) {\n  var _badValueForSameId;\n  if (dateRangeWithSameId) {\n    for (var key in dateRangeWithSameId) {\n      if (Object.prototype.hasOwnProperty.call(dateRangeWithSameId, key) && attr[key] !== dateRangeWithSameId[key]) {\n        _badValueForSameId = key;\n        break;\n      }\n    }\n  }\n  var duration = null;\n  if (attr.DURATION) {\n    duration = parseFloat(attr.DURATION);\n    if (!Number.isFinite(duration)) {\n      duration = null;\n    } else if (attr._endDate) {\n      duration = (attr._endDate.getTime() - attr._startDate.getTime()) / 1e3;\n    }\n  }\n  var cue = enumeratedStringList(attr.CUE || attr[\"X-CUE\"], {\n    pre: false,\n    post: false,\n    once: false\n  });\n  return !!attr.ID && !_badValueForSameId && Number.isFinite(attr._startDate.getTime()) && (duration === null || duration >= 0) && (!(attr.END_ON_NEXT === \"YES\") || !!attr.CLASS) && (!attr.CUE || !cue.pre && !cue.post || cue.pre !== cue.post) && (!(attr.CLASS === \"com.apple.hls.interstitial\") || \"X-ASSET-URI\" in attr || \"X-ASSET-LIST\" in attr);\n}\nfunction enumeratedStringList(attrValue, dict) {\n  return (attrValue ? attrValue.split(/[ ,]+/) : []).reduce(function(result, identifier) {\n    result[identifier.toLowerCase()] = true;\n    return result;\n  }, dict);\n}\nexport { getAbsoluteUrl, getCodecs, getLines, isValidDaterange, parseAttr, parseTag };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MasterPlaylist, MediaStream, SubTitleStream, AudioStream, MasterStream } from \"./model.js\";\nimport { parseTag, parseAttr, getAbsoluteUrl, getCodecs } from \"./utils.js\";\nfunction parseMasterPlaylist(lines, parentUrl) {\n  var master = new MasterPlaylist();\n  var index = 0;\n  var line;\n  var audioStreams = [];\n  var subtitleStreams = [];\n  while (line = lines[index++]) {\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    if (name === \"VERSION\") {\n      master.version = parseInt(data);\n    } else if (name === \"MEDIA\" && data) {\n      var attr = parseAttr(data);\n      var stream = void 0;\n      switch (attr.TYPE) {\n        case \"AUDIO\":\n          stream = new AudioStream();\n          break;\n        case \"SUBTITLES\":\n          stream = new SubTitleStream();\n          break;\n        default:\n          stream = new MediaStream();\n      }\n      stream.url = getAbsoluteUrl(attr.URI, parentUrl);\n      stream.default = attr.DEFAULT === \"YES\";\n      stream.autoSelect = attr.AUTOSELECT === \"YES\";\n      stream.group = attr[\"GROUP-ID\"];\n      stream.name = attr.NAME;\n      stream.lang = attr.LANGUAGE;\n      if (attr.CHANNELS) {\n        stream.channels = Number(attr.CHANNELS.split(\"/\")[0]);\n        if (Number.isNaN(stream.channels))\n          stream.channels = 0;\n      }\n      if (attr.TYPE === \"AUDIO\" && attr.URI) {\n        audioStreams.push(stream);\n      }\n      if (attr.TYPE === \"SUBTITLES\") {\n        subtitleStreams.push(stream);\n      }\n    } else if (name === \"STREAM-INF\" && data) {\n      var _stream = new MasterStream();\n      var _attr = parseAttr(data);\n      _stream.bitrate = parseInt(_attr[\"AVERAGE-BANDWIDTH\"] || _attr.BANDWIDTH);\n      _stream.name = _attr.NAME;\n      _stream.url = getAbsoluteUrl(lines[index++], parentUrl);\n      if (_attr.RESOLUTION) {\n        var _attr$RESOLUTION$spli = _attr.RESOLUTION.split(\"x\"), _attr$RESOLUTION$spli2 = _slicedToArray(_attr$RESOLUTION$spli, 2), w = _attr$RESOLUTION$spli2[0], h = _attr$RESOLUTION$spli2[1];\n        _stream.width = parseInt(w);\n        _stream.height = parseInt(h);\n      }\n      if (_attr.CODECS) {\n        var codecs = _attr.CODECS.split(/[ ,]+/).filter(Boolean);\n        _stream.videoCodec = getCodecs(\"video\", codecs);\n        _stream.audioCodec = getCodecs(\"audio\", codecs);\n        _stream.textCodec = getCodecs(\"text\", codecs);\n      }\n      _stream.audioGroup = _attr.AUDIO;\n      _stream.subtitleGroup = _attr.SUBTITLES;\n      master.streams.push(_stream);\n    }\n  }\n  master.streams.forEach(function(s, i) {\n    s.id = i;\n  });\n  if (audioStreams.length) {\n    audioStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.audioGroup) {\n        stream2.audioStreams = audioStreams.filter(function(x) {\n          return x.group === stream2.audioGroup;\n        });\n      }\n    });\n  }\n  if (subtitleStreams.length) {\n    subtitleStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.subtitleGroup) {\n        stream2.subtitleStreams = subtitleStreams.filter(function(x) {\n          return x.group === stream2.subtitleGroup;\n        });\n      }\n    });\n  }\n  return master;\n}\nexport { parseMasterPlaylist };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MediaPlaylist, MediaSegment, MediaSegmentKey } from \"./model.js\";\nimport { getAbsoluteUrl, parseTag, parseAttr, isValidDaterange } from \"./utils.js\";\nfunction parseMediaPlaylist(lines, parentUrl, useLowLatency) {\n  var media = new MediaPlaylist();\n  media.url = parentUrl;\n  var curSegment = new MediaSegment(parentUrl);\n  var curInitSegment = null;\n  var curKey = null;\n  var totalDuration = 0;\n  var curSN = 0;\n  var curCC = 0;\n  var index = 0;\n  var line;\n  var endOfList = false;\n  var partSegmentIndex = 0;\n  while (line = lines[index++]) {\n    if (line[0] !== \"#\") {\n      if (media.lowLatency) {\n        curSN++;\n        continue;\n      }\n      curSegment.sn = curSN;\n      curSegment.cc = curCC;\n      curSegment.url = getAbsoluteUrl(line, parentUrl);\n      if (curKey)\n        curSegment.key = curKey.clone(curSN);\n      if (curInitSegment)\n        curSegment.initSegment = curInitSegment;\n      media.segments.push(curSegment);\n      curSegment = new MediaSegment(parentUrl);\n      curSN++;\n      continue;\n    }\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    switch (name) {\n      case \"VERSION\":\n        media.version = parseInt(data);\n        break;\n      case \"PLAYLIST-TYPE\":\n        media.type = data === null || data === void 0 ? void 0 : data.toUpperCase();\n        break;\n      case \"TARGETDURATION\":\n        media.targetDuration = parseFloat(data);\n        break;\n      case \"PART-INF\":\n        {\n          if (useLowLatency) {\n            media.lowLatency = true;\n          }\n          var attr = parseAttr(data);\n          if (attr[\"PART-TARGET\"]) {\n            media.partTargetDuration = parseFloat(attr[\"PART-TARGET\"]);\n          }\n        }\n        break;\n      case \"SERVER-CONTROL\":\n        {\n          var _attr = parseAttr(data);\n          media.canBlockReload = _attr[\"CAN-BLOCK-RELOAD\"] === \"YES\";\n          media.partHoldBack = parseFloat(_attr[\"PART-HOLD-BACK\"] || 0);\n          media.canSkipUntil = parseFloat(_attr[\"CAN-SKIP-UNTIL\"] || 0);\n          media.canSkipDateRanges = _attr[\"CAN-SKIP-DATERANGES\"] === \"YES\";\n        }\n        break;\n      case \"ENDLIST\":\n        {\n          endOfList = true;\n        }\n        break;\n      case \"MEDIA-SEQUENCE\":\n        curSN = media.startSN = parseInt(data);\n        break;\n      case \"DISCONTINUITY-SEQUENCE\":\n        curCC = media.startCC = parseInt(data);\n        break;\n      case \"DISCONTINUITY\":\n        curCC++;\n        break;\n      case \"BYTERANGE\":\n        curSegment.setByteRange(data, media.segments[media.segments.length - 1]);\n        break;\n      case \"PART\":\n        {\n          if (!media.lowLatency)\n            break;\n          var _attr2 = parseAttr(data);\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          curSegment.independent = _attr2[\"INDEPENDENT\"] === \"YES\";\n          curSegment.sn = curSN;\n          curSegment.cc = curCC;\n          curSegment.partIndex = partSegmentIndex;\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          totalDuration += curSegment.duration;\n          curSegment.url = getAbsoluteUrl(_attr2[\"URI\"], parentUrl);\n          if (curKey)\n            curSegment.key = curKey.clone(curSN);\n          if (curInitSegment)\n            curSegment.initSegment = curInitSegment;\n          media.segments.push(curSegment);\n          curSegment = new MediaSegment(parentUrl);\n          partSegmentIndex++;\n        }\n        break;\n      case \"PRELOAD-HINT\":\n        break;\n      case \"PROGRAM-DATE-TIME\":\n        curSegment.dataTime = data;\n        break;\n      case \"EXTINF\":\n        {\n          if (media.lowLatency) {\n            partSegmentIndex = 0;\n            break;\n          }\n          var _data$split = data.split(\",\"), _data$split2 = _slicedToArray(_data$split, 2), duration = _data$split2[0], title = _data$split2[1];\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(duration);\n          totalDuration += curSegment.duration;\n          curSegment.title = title;\n        }\n        break;\n      case \"KEY\":\n        {\n          var _attr3 = parseAttr(data);\n          if (_attr3.METHOD === \"NONE\") {\n            curKey = null;\n            break;\n          }\n          curKey = new MediaSegmentKey();\n          curKey.method = _attr3.METHOD;\n          curKey.url = /^blob:/.test(_attr3.URI) ? _attr3.URI : getAbsoluteUrl(_attr3.URI, parentUrl);\n          curKey.keyFormat = _attr3.KEYFORMAT || \"identity\";\n          curKey.keyFormatVersions = _attr3.KEYFORMATVERSIONS;\n          if (!curKey.isSupported()) {\n            throw new Error(\"encrypt \".concat(_attr3.METHOD, \"/\").concat(_attr3.KEYFORMAT, \" is not supported\"));\n          }\n          if (_attr3.IV) {\n            var str = _attr3.IV.slice(2);\n            str = (str.length & 1 ? \"0\" : \"\") + str;\n            curKey.iv = new Uint8Array(str.length / 2);\n            for (var i = 0, l = str.length / 2; i < l; i++) {\n              curKey.iv[i] = parseInt(str.slice(i * 2, i * 2 + 2), 16);\n            }\n          }\n        }\n        break;\n      case \"MAP\":\n        {\n          var _attr4 = parseAttr(data);\n          curSegment.url = getAbsoluteUrl(_attr4.URI, parentUrl);\n          if (_attr4.BYTERANGE)\n            curSegment.setByteRange(_attr4.BYTERANGE);\n          curSegment.isInitSegment = true;\n          curSegment.sn = 0;\n          if (curKey) {\n            curSegment.key = curKey.clone(0);\n          }\n          curInitSegment = curSegment;\n          curSegment = new MediaSegment(parentUrl);\n        }\n        break;\n      case \"SKIP\":\n        {\n          var _attr5 = parseAttr(data);\n          var skippedSegments = parseInt(_attr5[\"SKIPPED-SEGMENTS\"], 10);\n          if (skippedSegments <= Number.MAX_SAFE_INTEGER) {\n            media.skippedSegments += skippedSegments;\n          }\n        }\n        break;\n      case \"DATERANGE\":\n        {\n          var _attr6 = parseAttr(data);\n          var dateRangeWithSameId = media.dateRanges[_attr6.ID];\n          _attr6._startDate = dateRangeWithSameId ? dateRangeWithSameId._startDate : new Date(_attr6[\"START-DATE\"]);\n          var endDate = (dateRangeWithSameId === null || dateRangeWithSameId === void 0 ? void 0 : dateRangeWithSameId._endDate) || new Date(_attr6.END_DATE);\n          if (Number.isFinite(endDate)) {\n            _attr6._endDate = endDate;\n          }\n          if (isValidDaterange(_attr6, dateRangeWithSameId) || media.skippedSegments) {\n            media.dateRanges[_attr6.ID] = _attr6;\n          }\n        }\n        break;\n    }\n  }\n  media.segments = media.segments.filter(function(x) {\n    return x.duration !== 0;\n  });\n  var lastSegment = media.segments[media.segments.length - 1];\n  if (lastSegment) {\n    if (endOfList) {\n      lastSegment.isLast = true;\n    }\n    media.endSN = lastSegment.sn;\n    media.endPartIndex = lastSegment.partIndex;\n  }\n  if (endOfList) {\n    media.live = false;\n  }\n  media.totalDuration = totalDuration;\n  media.endCC = curCC;\n  return media;\n}\nexport { parseMediaPlaylist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { parseMasterPlaylist } from \"./master.js\";\nimport { parseMediaPlaylist } from \"./media.js\";\nimport { getLines } from \"./utils.js\";\nvar M3U8Parser = /* @__PURE__ */ function() {\n  function M3U8Parser2() {\n    _classCallCheck(this, M3U8Parser2);\n  }\n  _createClass(M3U8Parser2, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n      var parentUrl = arguments.length > 1 ? arguments[1] : void 0;\n      var useLowLatency = arguments.length > 2 ? arguments[2] : void 0;\n      if (!text.includes(\"#EXTM3U\"))\n        throw new Error(\"Invalid m3u8 file\");\n      var lines = getLines(text);\n      if (M3U8Parser2.isMediaPlaylist(text)) {\n        return parseMediaPlaylist(lines, parentUrl, useLowLatency);\n      }\n      return parseMasterPlaylist(lines, parentUrl);\n    }\n  }, {\n    key: \"isMediaPlaylist\",\n    value: function isMediaPlaylist(text) {\n      return text.includes(\"#EXTINF:\") || text.includes(\"#EXT-X-TARGETDURATION:\");\n    }\n  }]);\n  return M3U8Parser2;\n}();\nexport { M3U8Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, NetLoader, ERR } from \"xgplayer-streaming-shared\";\nimport { M3U8Parser } from \"./parser/index.js\";\nimport { Event } from \"../constants.js\";\nvar ManifestLoader = /* @__PURE__ */ function() {\n  function ManifestLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, ManifestLoader2);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(Event.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._timer = null;\n    this._useLowLatency = hls.config.useLowLatency;\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, manifestLoadTimeout = _this$hls$config.manifestLoadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._loader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._subtitleLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(ManifestLoader2, [{\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(url, audioUrl, subtitleUrl) {\n        var toLoad, videoText, audioText, subtitleText, videoResUrl, audioResUrl, subtitleResUrl, _yield$Promise$all, _yield$Promise$all2, video, audio, subtitle, _audio$response, _subtitle$response, _audio$response2, onPreM3U8Parse, playlist, audioPlaylist, subtitlePlaylist, _playlist;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [this._loader.load(url)];\n                if (audioUrl) {\n                  toLoad.push(this._audioLoader.load(audioUrl));\n                }\n                if (subtitleUrl) {\n                  toLoad.push(this._subtitleLoader.load(subtitleUrl));\n                }\n                _context.prev = 3;\n                _context.next = 6;\n                return Promise.all(toLoad);\n              case 6:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                video = _yield$Promise$all2[0];\n                audio = _yield$Promise$all2[1];\n                subtitle = _yield$Promise$all2[2];\n                if (video) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\", []);\n              case 13:\n                this._emitOnLoaded(video, url);\n                videoText = video.data;\n                videoResUrl = video.response.url || url;\n                if (audioUrl) {\n                  audioText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleText = subtitle === null || subtitle === void 0 ? void 0 : subtitle.data;\n                  audioResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response = audio.response) === null || _audio$response === void 0 ? void 0 : _audio$response.url) || audioUrl;\n                  subtitleResUrl = (subtitle === null || subtitle === void 0 ? void 0 : (_subtitle$response = subtitle.response) === null || _subtitle$response === void 0 ? void 0 : _subtitle$response.url) || subtitleUrl;\n                  audioText && this._emitOnLoaded(audio, audioUrl);\n                  subtitleText && this._emitOnLoaded(subtitle, subtitleUrl);\n                } else {\n                  subtitleText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response2 = audio.response) === null || _audio$response2 === void 0 ? void 0 : _audio$response2.url) || subtitleUrl;\n                  subtitleText && this._emitOnLoaded(audio, subtitleUrl);\n                }\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](3);\n                throw StreamingError.network(_context.t0);\n              case 22:\n                onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n                _context.prev = 23;\n                if (onPreM3U8Parse) {\n                  videoText = onPreM3U8Parse(videoText) || videoText;\n                  if (audioText)\n                    audioText = onPreM3U8Parse(audioText, true) || audioText;\n                  if (subtitleText)\n                    subtitleText = onPreM3U8Parse(subtitleText, true) || subtitleText;\n                }\n                playlist = M3U8Parser.parse(videoText, videoResUrl, this._useLowLatency);\n                if (!(((_playlist = playlist) === null || _playlist === void 0 ? void 0 : _playlist.live) === false && playlist.segments && !playlist.segments.length)) {\n                  _context.next = 28;\n                  break;\n                }\n                throw new Error(\"empty segments list\");\n              case 28:\n                if (audioText) {\n                  audioPlaylist = M3U8Parser.parse(audioText, audioResUrl, this._useLowLatency);\n                }\n                if (subtitleText) {\n                  subtitlePlaylist = M3U8Parser.parse(subtitleText, subtitleResUrl, this._useLowLatency);\n                }\n                _context.next = 35;\n                break;\n              case 32:\n                _context.prev = 32;\n                _context.t1 = _context[\"catch\"](23);\n                throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, _context.t1);\n              case 35:\n                if (playlist) {\n                  if (playlist.isMaster) {\n                    this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n                      playlist\n                    });\n                  } else {\n                    this.hls.emit(Event.HLS_LEVEL_LOADED, {\n                      playlist\n                    });\n                  }\n                }\n                return _context.abrupt(\"return\", [playlist, audioPlaylist, subtitlePlaylist]);\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this, [[3, 19], [23, 32]]);\n      }));\n      function load(_x, _x2, _x3) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"parseText\",\n    value: function parseText(videoText, url) {\n      var onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n      var playlist;\n      try {\n        var _playlist2;\n        if (onPreM3U8Parse) {\n          videoText = onPreM3U8Parse(videoText) || videoText;\n        }\n        playlist = M3U8Parser.parse(videoText, url, this._useLowLatency);\n        if (((_playlist2 = playlist) === null || _playlist2 === void 0 ? void 0 : _playlist2.live) === false && playlist.segments && !playlist.segments.length) {\n          throw new Error(\"empty segments list\");\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, error);\n      }\n      if (playlist) {\n        if (playlist.isMaster) {\n          this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n            playlist\n          });\n        } else {\n          this.hls.emit(Event.HLS_LEVEL_LOADED, {\n            playlist\n          });\n        }\n      }\n      return [playlist];\n    }\n  }, {\n    key: \"poll\",\n    value: function poll(url, audioUrl, subtitleUrl, cb, errorCb, time) {\n      var _this2 = this;\n      clearTimeout(this._timer);\n      time = time || 3e3;\n      var retryCount = this.hls.config.pollRetryCount;\n      var fn = /* @__PURE__ */ function() {\n        var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1)\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  clearTimeout(_this2._timer);\n                  _context2.prev = 1;\n                  _context2.next = 4;\n                  return _this2.load(url, audioUrl, subtitleUrl);\n                case 4:\n                  res = _context2.sent;\n                  if (res[0]) {\n                    _context2.next = 7;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 7:\n                  retryCount = _this2.hls.config.pollRetryCount;\n                  cb(res[0], res[1], res[2]);\n                  _context2.next = 15;\n                  break;\n                case 11:\n                  _context2.prev = 11;\n                  _context2.t0 = _context2[\"catch\"](1);\n                  retryCount--;\n                  if (retryCount <= 0) {\n                    errorCb(_context2.t0);\n                  }\n                case 15:\n                  _this2._timer = setTimeout(fn, time);\n                case 16:\n                case \"end\":\n                  return _context2.stop();\n              }\n          }, _callee2, null, [[1, 11]]);\n        }));\n        return function fn2() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n      this._timer = setTimeout(fn, time);\n    }\n  }, {\n    key: \"stopPoll\",\n    value: function stopPoll() {\n      clearTimeout(this._timer);\n      return this.cancel();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      return Promise.all([this._loader.cancel(), this._audioLoader.cancel()]);\n    }\n  }]);\n  return ManifestLoader2;\n}();\nexport { ManifestLoader };\n","function clamp(num, min, max) {\n  if (min > max) {\n    max = min;\n  }\n  return Math.min(Math.max(num, min), max);\n}\nexport { clamp };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger } from \"xgplayer-streaming-shared\";\nvar logger = new Logger(\"playlist\");\nvar Stream = /* @__PURE__ */ function() {\n  function Stream2(playlist, audioPlaylist, subtitlePlaylist) {\n    _classCallCheck(this, Stream2);\n    _defineProperty(this, \"live\", void 0);\n    _defineProperty(this, \"id\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"name\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"textCodec\", \"\");\n    _defineProperty(this, \"startCC\", 0);\n    _defineProperty(this, \"endCC\", 0);\n    _defineProperty(this, \"startSN\", 0);\n    _defineProperty(this, \"endSN\", -1);\n    _defineProperty(this, \"totalDuration\", 0);\n    _defineProperty(this, \"targetDuration\", 0);\n    _defineProperty(this, \"partTargetDuration\", 0);\n    _defineProperty(this, \"canSkipUntil\", 0);\n    _defineProperty(this, \"canSkipDateRanges\", false);\n    _defineProperty(this, \"skippedSegments\", 0);\n    _defineProperty(this, \"canBlockReload\", false);\n    _defineProperty(this, \"partHoldBack\", 0);\n    _defineProperty(this, \"lowLatency\", false);\n    _defineProperty(this, \"endPartIndex\", 0);\n    _defineProperty(this, \"snDiff\", null);\n    _defineProperty(this, \"segments\", []);\n    _defineProperty(this, \"audioStreams\", []);\n    _defineProperty(this, \"subtitleStreams\", []);\n    _defineProperty(this, \"closedCaptions\", []);\n    _defineProperty(this, \"currentAudioStream\", null);\n    _defineProperty(this, \"currentSubtitleStream\", null);\n    this.update(this._setLLPlaybackPoint(playlist), audioPlaylist, subtitlePlaylist);\n  }\n  _createClass(Stream2, [{\n    key: \"lastSegment\",\n    get: function get() {\n      if (this.segments.length) {\n        return this.segments[this.segments.length - 1];\n      }\n      return null;\n    }\n  }, {\n    key: \"segmentDuration\",\n    get: function get() {\n      var _this$segments$;\n      return this.targetDuration || ((_this$segments$ = this.segments[0]) === null || _this$segments$ === void 0 ? void 0 : _this$segments$.duration) || 0;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      return this.endTime;\n    },\n    set: function set(end) {\n      this.endTime = end;\n    }\n  }, {\n    key: \"endTime\",\n    get: function get() {\n      var _this$lastSegment;\n      return ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.end) || 0;\n    },\n    set: function set(end) {\n      var lastSeg = this.lastSegment;\n      if (lastSeg)\n        lastSeg.duration = end - lastSeg.start;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentSubtitle;\n      return ((_this$currentSubtitle = this.currentSubtitleStream) === null || _this$currentSubtitle === void 0 ? void 0 : _this$currentSubtitle.endSN) || 0;\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment(startTime, pointer) {\n      if (this.currentAudioStream) {\n        this._clearSegments(startTime, pointer);\n      }\n      return this._clearSegments(startTime, pointer);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      if (!seg || !this.currentAudioStream)\n        return;\n      var sn = seg.sn - this.snDiff;\n      return this.currentAudioStream.segments.find(function(x) {\n        return x.sn === sn;\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(playlist, audioPlaylist) {\n      this.url = playlist.url;\n      if (Array.isArray(playlist.segments)) {\n        if (this.live === null || this.live === void 0)\n          this.live = playlist.live;\n        this._updateSegments(playlist, this);\n        this.startCC = playlist.startCC;\n        this.endCC = playlist.endCC;\n        this.startSN = playlist.startSN;\n        this.endSN = playlist.endSN || -1;\n        this.totalDuration = playlist.totalDuration;\n        this.targetDuration = playlist.targetDuration;\n        this.live = playlist.live;\n        this.lowLatency = playlist.lowLatency;\n        this.canBlockReload = playlist.canBlockReload;\n        this.canSkipDateRanges = playlist.canSkipDateRanges;\n        this.canSkipUntil = playlist.canSkipUntil;\n        this.partHoldBack = playlist.partHoldBack;\n        this.partTargetDuration = playlist.partTargetDuration;\n        this.skippedSegments = playlist.skippedSegments;\n        this.endPartIndex = playlist.endPartIndex;\n        if (audioPlaylist && this.currentAudioStream && Array.isArray(audioPlaylist.segments)) {\n          this._updateSegments(audioPlaylist, this.currentAudioStream);\n          if ((this.snDiff === null || this.snDiff === void 0) && playlist.segments.length && audioPlaylist.segments.length) {\n            this.snDiff = playlist.segments[0].sn - audioPlaylist.segments[0].sn;\n          }\n        }\n      } else {\n        this.id = playlist.id;\n        this.bitrate = playlist.bitrate;\n        this.width = playlist.width;\n        this.height = playlist.height;\n        this.name = playlist.name;\n        this.audioCodec = playlist.audioCodec;\n        this.videoCodec = playlist.videoCodec;\n        this.textCodec = playlist.textCodec;\n        this.audioStreams = playlist.audioStreams;\n        this.subtitleStreams = playlist.subtitleStreams;\n        if (!this.currentAudioStream && this.audioStreams.length) {\n          this.currentAudioStream = this.audioStreams.find(function(x) {\n            return x.default;\n          }) || this.audioStreams[0];\n        }\n        if (!this.currentSubtitleStream && this.subtitleStreams.length) {\n          this.currentSubtitleStream = this.subtitleStreams.find(function(x) {\n            return x.default;\n          }) || this.subtitleStreams[0];\n        }\n      }\n    }\n  }, {\n    key: \"updateSubtitle\",\n    value: function updateSubtitle(subtitlePlaylist) {\n      var _this = this;\n      if (!(subtitlePlaylist && this.currentSubtitleStream && Array.isArray(subtitlePlaylist.segments)))\n        return;\n      var newSegs = this._updateSegments(subtitlePlaylist, this.currentSubtitleStream);\n      var segs = this.currentSubtitleStream.segments;\n      if (segs.length > 100) {\n        this.currentSubtitleStream.segments = segs.slice(100);\n      }\n      if (!newSegs)\n        return;\n      return newSegs.map(function(x) {\n        return {\n          sn: x.sn,\n          url: x.url,\n          duration: x.duration,\n          start: x.start,\n          end: x.end,\n          lang: _this.currentSubtitleStream.lang\n        };\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var toSwitch = this.subtitleStreams.find(function(x) {\n        return x.lang === lang;\n      });\n      var origin = this.currentSubtitleStream;\n      if (toSwitch) {\n        this.currentSubtitleStream = toSwitch;\n        origin.segments = [];\n      }\n    }\n  }, {\n    key: \"_setLLPlaybackPoint\",\n    value: function _setLLPlaybackPoint(playlist) {\n      if (!playlist.lowLatency || !playlist.segments.length)\n        return playlist;\n      var maxStartPoint = playlist.totalDuration - playlist.partHoldBack;\n      var segs = playlist.segments;\n      var index = 0;\n      for (var i = 0, l = segs.length; i < l; i++) {\n        if (segs[i].start <= maxStartPoint && segs[i].independent) {\n          index = i;\n        }\n      }\n      var usefulSegs = segs.slice(index);\n      var endTime = 0;\n      usefulSegs.forEach(function(s) {\n        s.start = endTime;\n        endTime = s.end;\n      });\n      playlist.segments = usefulSegs;\n      playlist.totalDuration = endTime;\n      playlist.startSN = usefulSegs[0].sn;\n      playlist.startCC = usefulSegs[0].cc;\n      logger.log(\"set ll-hls playback point: SN=\".concat(playlist.startSN, \" partIndex=\").concat(usefulSegs[0].partIndex, \", duration=\").concat(endTime));\n      return playlist;\n    }\n  }, {\n    key: \"_clearSegments\",\n    value: function _clearSegments(startTime, pointer) {\n      var sliceStart = 0;\n      var segments = this.segments;\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].end >= startTime) {\n          sliceStart = i;\n          break;\n        }\n      }\n      if (sliceStart > pointer) {\n        sliceStart = pointer;\n      }\n      if (sliceStart) {\n        this.segments = this.segments.slice(sliceStart);\n        if (this.currentAudioStream) {\n          this.currentAudioStream.segments = this.currentAudioStream.segments.slice(sliceStart);\n        }\n      }\n      return pointer - sliceStart;\n    }\n  }, {\n    key: \"_updateSegments\",\n    value: function _updateSegments(playlist, segObj) {\n      var segments = segObj.segments;\n      if (this.live) {\n        var _endSeg$sn;\n        var lowLatency = playlist.lowLatency;\n        var endSeg = segments[segments.length - 1];\n        var endSN = (_endSeg$sn = endSeg === null || endSeg === void 0 ? void 0 : endSeg.sn) !== null && _endSeg$sn !== void 0 ? _endSeg$sn : -1;\n        var endPartIndex = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.partIndex) || 0;\n        var hasNew = endSN < playlist.endSN && playlist.segments.length;\n        if (lowLatency) {\n          hasNew = hasNew || endPartIndex < playlist.endPartIndex;\n        }\n        if (hasNew) {\n          logger.log(\"update segments: endSN:\".concat(endSN, \", partIndex:\").concat(endPartIndex, \" --> endSN:\").concat(playlist.endSN, \", partIndex:\").concat(playlist.endPartIndex));\n          var index = playlist.segments.findIndex(function(x) {\n            return x.sn === endSN && x.partIndex === endPartIndex;\n          });\n          var toAppend = index < 0 ? playlist.segments : playlist.segments.slice(index + 1);\n          if (segments.length && toAppend.length) {\n            var endTime = endSeg.end;\n            var endTimeBeforeAppend = endTime;\n            toAppend.forEach(function(seg) {\n              seg.start = endTime;\n              endTime = seg.end;\n            });\n            logger.log(\"liveEdge: \".concat(endTimeBeforeAppend, \" -> \").concat(endTime));\n            var lastCC = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.cc) || -1;\n            if (lastCC > toAppend[0].cc) {\n              toAppend.forEach(function(seg) {\n                return seg.cc += lastCC;\n              });\n            }\n          }\n          segObj.endSN = playlist.endSN;\n          segObj.segments = segments.concat(toAppend);\n          return toAppend;\n        }\n      } else {\n        segObj.segments = playlist.segments;\n      }\n    }\n  }]);\n  return Stream2;\n}();\nexport { Stream };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { clamp } from \"../utils.js\";\nimport { Stream } from \"./stream.js\";\nimport { Event } from \"../constants.js\";\nvar Playlist = /* @__PURE__ */ function() {\n  function Playlist2(hls) {\n    _classCallCheck(this, Playlist2);\n    _defineProperty(this, \"streams\", []);\n    _defineProperty(this, \"currentStream\", null);\n    _defineProperty(this, \"dvrWindow\", 0);\n    _defineProperty(this, \"_segmentPointer\", -1);\n    this.hls = hls;\n  }\n  _createClass(Playlist2, [{\n    key: \"lowLatency\",\n    get: function get() {\n      var _this$currentStream;\n      return (_this$currentStream = this.currentStream) === null || _this$currentStream === void 0 ? void 0 : _this$currentStream.lowLatency;\n    }\n  }, {\n    key: \"lastSegment\",\n    get: function get() {\n      var _this$currentStream2;\n      return (_this$currentStream2 = this.currentStream) === null || _this$currentStream2 === void 0 ? void 0 : _this$currentStream2.lastSegment;\n    }\n  }, {\n    key: \"currentSegment\",\n    get: function get() {\n      var _this$currentSegments;\n      return (_this$currentSegments = this.currentSegments) === null || _this$currentSegments === void 0 ? void 0 : _this$currentSegments[this._segmentPointer];\n    }\n  }, {\n    key: \"nextSegment\",\n    get: function get() {\n      var _this$currentSegments2;\n      return (_this$currentSegments2 = this.currentSegments) === null || _this$currentSegments2 === void 0 ? void 0 : _this$currentSegments2[this._segmentPointer + 1];\n    }\n  }, {\n    key: \"currentSegments\",\n    get: function get() {\n      var _this$currentStream3;\n      return (_this$currentStream3 = this.currentStream) === null || _this$currentStream3 === void 0 ? void 0 : _this$currentStream3.segments;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentStream4;\n      return (_this$currentStream4 = this.currentStream) === null || _this$currentStream4 === void 0 ? void 0 : _this$currentStream4.currentSubtitleEndSn;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      var _this$currentStream5;\n      return (_this$currentStream5 = this.currentStream) === null || _this$currentStream5 === void 0 ? void 0 : _this$currentStream5.liveEdge;\n    },\n    set: function set(end) {\n      if (this.currentStream) {\n        this.currentStream.liveEdge = end;\n      }\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      var _this$currentStream6;\n      return ((_this$currentStream6 = this.currentStream) === null || _this$currentStream6 === void 0 ? void 0 : _this$currentStream6.totalDuration) || 0;\n    }\n  }, {\n    key: \"seekRange\",\n    get: function get() {\n      var segments = this.currentSegments;\n      if (!segments || !segments.length)\n        return;\n      return [segments[0].start, segments[segments.length - 1].end];\n    }\n  }, {\n    key: \"nbSegments\",\n    get: function get() {\n      var _this$currentSegments3;\n      return ((_this$currentSegments3 = this.currentSegments) === null || _this$currentSegments3 === void 0 ? void 0 : _this$currentSegments3.length) || 0;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      var _this$currentSegments4;\n      return !((_this$currentSegments4 = this.currentSegments) !== null && _this$currentSegments4 !== void 0 && _this$currentSegments4.length);\n    }\n  }, {\n    key: \"isLive\",\n    get: function get() {\n      var _this$currentStream7;\n      return (_this$currentStream7 = this.currentStream) === null || _this$currentStream7 === void 0 ? void 0 : _this$currentStream7.live;\n    }\n  }, {\n    key: \"hadSegmentLoaded\",\n    get: function get() {\n      return this._segmentPointer !== -1;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      var _this$currentStream8;\n      return !!((_this$currentStream8 = this.currentStream) !== null && _this$currentStream8 !== void 0 && _this$currentStream8.currentSubtitleStream);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      var _this$currentStream9;\n      return (_this$currentStream9 = this.currentStream) === null || _this$currentStream9 === void 0 ? void 0 : _this$currentStream9.getAudioSegment(seg);\n    }\n  }, {\n    key: \"moveSegmentPointer\",\n    value: function moveSegmentPointer(pos) {\n      var _this$currentSegments5;\n      if (pos === null || pos === void 0)\n        pos = this._segmentPointer + 1;\n      this._segmentPointer = clamp(pos, -1, (_this$currentSegments5 = this.currentSegments) === null || _this$currentSegments5 === void 0 ? void 0 : _this$currentSegments5.length);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.streams = [];\n      this.currentStream = null;\n      this.dvrWindow = 0;\n      this._segmentPointer = -1;\n    }\n  }, {\n    key: \"getSegmentByIndex\",\n    value: function getSegmentByIndex(index) {\n      var _this$currentSegments6;\n      return (_this$currentSegments6 = this.currentSegments) === null || _this$currentSegments6 === void 0 ? void 0 : _this$currentSegments6[index];\n    }\n  }, {\n    key: \"setNextSegmentByIndex\",\n    value: function setNextSegmentByIndex() {\n      var index = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      this._segmentPointer = index - 1;\n    }\n  }, {\n    key: \"setNextSegmentBySN\",\n    value: function setNextSegmentBySN() {\n      var _this$currentSegments7;\n      var sn = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var preIndex = (_this$currentSegments7 = this.currentSegments) === null || _this$currentSegments7 === void 0 ? void 0 : _this$currentSegments7.findIndex(function(x) {\n        return x.sn === sn;\n      });\n      if (preIndex !== -1) {\n        this.setNextSegmentByIndex(preIndex + 1);\n      }\n      return preIndex;\n    }\n  }, {\n    key: \"findSegmentIndexByTime\",\n    value: function findSegmentIndexByTime(time) {\n      var segments = this.currentSegments;\n      if (segments) {\n        for (var i = 0, l = segments.length, seg; i < l; i++) {\n          seg = segments[i];\n          if (time >= seg.start && time < seg.end) {\n            return i;\n          }\n        }\n        var lastSegment = segments[segments.length - 1];\n        if (Math.abs(time - (lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.end)) < 0.2)\n          return segments.length - 1;\n      }\n    }\n  }, {\n    key: \"upsertPlaylist\",\n    value: function upsertPlaylist(playlist, audioPlaylist, subtitlePlaylist) {\n      var _this = this;\n      if (!playlist)\n        return;\n      if (playlist.isMaster) {\n        this.streams.length = playlist.streams.length;\n        playlist.streams.filter(function(x) {\n          return x.url;\n        }).forEach(function(stream2, i) {\n          if (_this.streams[i]) {\n            _this.streams[i].update(stream2);\n          } else {\n            _this.streams[i] = new Stream(stream2);\n          }\n        });\n        this.currentStream = this.streams[0];\n      } else if (Array.isArray(playlist.segments)) {\n        var stream = this.currentStream;\n        if (stream) {\n          stream.update(playlist, audioPlaylist, subtitlePlaylist);\n          var newSubtitleSegs = stream.updateSubtitle(subtitlePlaylist);\n          if (newSubtitleSegs) {\n            this.hls.emit(Event.SUBTITLE_SEGMENTS, {\n              list: newSubtitleSegs\n            });\n          }\n        } else {\n          this.reset();\n          this.currentStream = this.streams[0] = new Stream(playlist, audioPlaylist, subtitlePlaylist);\n        }\n      }\n      var currentStream = this.currentStream;\n      if (currentStream) {\n        if (this.hls.isLive && !this.dvrWindow) {\n          this.dvrWindow = this.currentSegments.reduce(function(a, c) {\n            a += c.duration;\n            return a;\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"updateSegmentsRanges\",\n    value: function updateSegmentsRanges(sn, start) {\n      var _this$currentSegments8;\n      var segs = (_this$currentSegments8 = this.currentSegments) === null || _this$currentSegments8 === void 0 ? void 0 : _this$currentSegments8.filter(function(x) {\n        return x.sn >= sn;\n      });\n      segs.forEach(function(s) {\n        s.start = start;\n        start = s.end;\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var _this$currentStream10;\n      (_this$currentStream10 = this.currentStream) === null || _this$currentStream10 === void 0 ? void 0 : _this$currentStream10.switchSubtitle(lang);\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment() {\n      var maxPlaylistSize = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 50;\n      var stream = this.currentStream;\n      if (!this.dvrWindow || !stream)\n        return;\n      var startTime = stream.endTime - this.dvrWindow;\n      if (startTime <= 0)\n        return;\n      var segments = stream.segments;\n      if (segments.length <= maxPlaylistSize)\n        return;\n      this._segmentPointer = stream.clearOldSegment(startTime, this._segmentPointer);\n    }\n  }, {\n    key: \"checkSegmentTrackChange\",\n    value: function checkSegmentTrackChange(cTime, nbSb) {\n      var index = this.findSegmentIndexByTime(cTime);\n      var seg = this.getSegmentByIndex(index);\n      if (!seg)\n        return;\n      if (!seg.hasAudio && !seg.hasVideo)\n        return;\n      if (nbSb !== 2 && seg.hasAudio && seg.hasVideo)\n        return seg;\n      if (seg.end - cTime > 0.3)\n        return;\n      var next = this.getSegmentByIndex(index + 1);\n      if (!next)\n        return;\n      if (!next.hasAudio && !next.hasVideo)\n        return;\n      if (next.hasAudio !== seg.hasAudio || next.hasVideo !== seg.hasVideo)\n        return next;\n    }\n  }, {\n    key: \"feedbackLiveEdge\",\n    value: function feedbackLiveEdge(segment, bufferEnd) {\n      var _this$lastSegment;\n      var segs = this.currentSegments;\n      if (!segs)\n        return;\n      var isLast = ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.sn) === segment.sn;\n      if (isLast) {\n        this.liveEdge = bufferEnd;\n        return;\n      }\n      this.updateSegmentsRanges(segment.sn + 1, bufferEnd);\n    }\n  }]);\n  return Playlist2;\n}();\nexport { Playlist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar SKIP_SMALL_CHUNK = 1e3;\nvar MAX_CHUNK_SAVE_SIZE = 50;\nvar MAX_SEGMENT_SAVE_SIZE = 3;\nvar LONGTIME_NO_RECEIVE = 3e3;\nvar BandwidthService = /* @__PURE__ */ function() {\n  function BandwidthService2(opts) {\n    _classCallCheck(this, BandwidthService2);\n    _defineProperty(this, \"_chunkSpeed\", 0);\n    _defineProperty(this, \"_chunkCache\", []);\n    _defineProperty(this, \"_speeds\", []);\n    _defineProperty(this, \"_totalSize\", 0);\n    _defineProperty(this, \"_totalCost\", 0);\n    this._opts = opts || {};\n  }\n  _createClass(BandwidthService2, [{\n    key: \"addRecord\",\n    value: function addRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._speeds.push(8e3 * totalByte / ms);\n      this._speeds = this._speeds.slice(-MAX_SEGMENT_SAVE_SIZE);\n    }\n  }, {\n    key: \"addChunkRecord\",\n    value: function addChunkRecord(totalByte, ms) {\n      var _this$_opts, _this$_opts2;\n      if (!totalByte || !ms || totalByte < (((_this$_opts = this._opts) === null || _this$_opts === void 0 ? void 0 : _this$_opts.skipChunkSize) || SKIP_SMALL_CHUNK))\n        return;\n      this._totalSize += totalByte;\n      this._totalCost += ms;\n      this._chunkSpeed = 8e3 * totalByte / ms;\n      this._chunkCache.push({\n        size: totalByte,\n        duration: ms,\n        timestamp: performance.now()\n      });\n      var size = ((_this$_opts2 = this._opts) === null || _this$_opts2 === void 0 ? void 0 : _this$_opts2.chunkCountForSpeed) || MAX_CHUNK_SAVE_SIZE;\n      if (this._chunkCache.length > size) {\n        this._chunkCache = this._chunkCache.slice(-size);\n      }\n    }\n  }, {\n    key: \"getAvgSpeed\",\n    value: function getAvgSpeed() {\n      var _this$_opts3;\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds.reduce(function(a, c) {\n          return a += c;\n        }) / this._speeds.length;\n      }\n      var lastSample = this._chunkCache[this._chunkCache.length - 1];\n      var cost = performance.now() - lastSample.timestamp;\n      if (cost > (((_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : _this$_opts3.longtimeNoReceived) || LONGTIME_NO_RECEIVE)) {\n        this._chunkCache.push({\n          size: 0,\n          duration: cost,\n          timestamp: performance.now()\n        });\n      }\n      var totalSize = this._chunkCache.reduce(function(a, c) {\n        return a += c.size;\n      }, 0);\n      var totalDuration = this._chunkCache.reduce(function(a, c) {\n        return a += c.duration;\n      }, 0);\n      return 8e3 * totalSize / totalDuration;\n    }\n  }, {\n    key: \"getLatestSpeed\",\n    value: function getLatestSpeed() {\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds[this._speeds.length - 1];\n      }\n      return this._chunkSpeed;\n    }\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      return this._totalSize;\n    }\n  }, {\n    key: \"getTotalCost\",\n    value: function getTotalCost() {\n      return this._totalCost;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._chunkCache = [];\n      this._speeds = [];\n      this._totalSize = 0;\n      this._totalCost = 0;\n    }\n  }]);\n  return BandwidthService2;\n}();\nexport { BandwidthService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, BandwidthService, NetLoader } from \"xgplayer-streaming-shared\";\nvar SegmentLoader = /* @__PURE__ */ function() {\n  function SegmentLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, SegmentLoader2);\n    _defineProperty(this, \"error\", null);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var data = res.data, response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this._bandwidthService.addRecord(contentLength || data.byteLength, time);\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(EVENT.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._bandwidthService = new BandwidthService();\n    this._mapCache = {};\n    this._keyCache = {};\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, loadTimeout = _this$hls$config.loadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._segmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioSegmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._keyLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(SegmentLoader2, [{\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return {\n        speed: this._bandwidthService.getLatestSpeed(),\n        avgSpeed: this._bandwidthService.getAvgSpeed()\n      };\n    }\n  }, {\n    key: \"load\",\n    value: function load(seg, audioSeg, loadInit) {\n      var loadAudioInit = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : loadInit;\n      var toLoad = [];\n      if (seg)\n        toLoad[0] = this.loadVideoSegment(seg, loadInit);\n      if (audioSeg)\n        toLoad[1] = this.loadAudioSegment(audioSeg, loadAudioInit);\n      return Promise.all(toLoad);\n    }\n  }, {\n    key: \"loadVideoSegment\",\n    value: function loadVideoSegment(seg, loadInit) {\n      return this._loadSegment(this._segmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"loadAudioSegment\",\n    value: function loadAudioSegment(seg, loadInit) {\n      return this._loadSegment(this._audioSegmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"_loadSegment\",\n    value: function() {\n      var _loadSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(segLoader, seg, loadInit) {\n        var _this2 = this, _seg$key;\n        var map, key, keyIv, mapKey, mapKeyIv, toLoad, _seg$initSegment$key, mapUrl, _keyUrl, keyUrl, _yield$Promise$all, _yield$Promise$all2, s, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [];\n                this.hls.emit(EVENT.LOAD_START, {\n                  url: seg.url\n                });\n                toLoad[0] = segLoader.load(seg.url);\n                if (loadInit && seg.initSegment) {\n                  mapUrl = seg.initSegment.url;\n                  map = this._mapCache[mapUrl];\n                  if (!map) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: mapUrl\n                    });\n                    toLoad[1] = segLoader.load(mapUrl).then(function(r) {\n                      if (r) {\n                        var l = Object.keys(_this2._mapCache);\n                        if (l > 30)\n                          _this2._mapCache = {};\n                        map = _this2._mapCache[mapUrl] = r.data;\n                        _this2._emitOnLoaded(r, mapUrl);\n                      }\n                    });\n                  }\n                  _keyUrl = (_seg$initSegment$key = seg.initSegment.key) === null || _seg$initSegment$key === void 0 ? void 0 : _seg$initSegment$key.url;\n                  if (_keyUrl) {\n                    mapKeyIv = seg.initSegment.key.iv;\n                    mapKey = this._keyCache[_keyUrl];\n                    if (!mapKey) {\n                      this.hls.emit(EVENT.LOAD_START, {\n                        url: _keyUrl\n                      });\n                      toLoad[2] = this._keyLoader.load(_keyUrl).then(function(r) {\n                        if (r) {\n                          mapKey = _this2._keyCache[_keyUrl] = r.data;\n                          _this2._emitOnLoaded(r, _keyUrl);\n                        }\n                      });\n                    }\n                  }\n                }\n                keyUrl = (_seg$key = seg.key) === null || _seg$key === void 0 ? void 0 : _seg$key.url;\n                if (keyUrl && seg.key.isSegmentEncrypted()) {\n                  keyIv = seg.key.iv;\n                  key = this._keyCache[keyUrl];\n                  if (!key) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: keyUrl\n                    });\n                    toLoad[3] = this._keyLoader.load(keyUrl).then(function(r) {\n                      if (r) {\n                        key = _this2._keyCache[keyUrl] = r.data;\n                        _this2._emitOnLoaded(r, keyUrl);\n                      }\n                    });\n                  }\n                }\n                _context.next = 8;\n                return Promise.all(toLoad);\n              case 8:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 1);\n                s = _yield$Promise$all2[0];\n                if (s) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 13:\n                data = s.data;\n                this._emitOnLoaded(s, seg.url);\n                return _context.abrupt(\"return\", {\n                  data,\n                  map,\n                  key,\n                  mapKey,\n                  keyIv,\n                  mapKeyIv\n                });\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function _loadSegment(_x, _x2, _x3) {\n        return _loadSegment2.apply(this, arguments);\n      }\n      return _loadSegment;\n    }()\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.error = null;\n      this._mapCache = {};\n      this._keyCache = {};\n      this._bandwidthService.reset();\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Promise.all([this._keyLoader.cancel(), this._segmentLoader.cancel(), this._audioSegmentLoader.cancel()]);\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }]);\n  return SegmentLoader2;\n}();\nexport { SegmentLoader };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, slicedToArray as _slicedToArray, regeneratorRuntime as _regeneratorRuntime, typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport { Logger, Buffer, StreamingError, isMediaPlaying, SeiService, GapService, MediaStatsService, MSE, getVideoPlaybackQuality, ERR } from \"xgplayer-streaming-shared\";\nimport { Logger as Logger$1 } from \"xgplayer-transmuxer\";\nimport { BufferService } from \"./buffer-service/index.js\";\nimport { getConfig } from \"./config.js\";\nexport { getConfig } from \"./config.js\";\nimport { Event } from \"./constants.js\";\nimport { ManifestLoader } from \"./manifest-loader/index.js\";\nexport { ManifestLoader } from \"./manifest-loader/index.js\";\nimport { Playlist } from \"./playlist/index.js\";\nexport { Playlist } from \"./playlist/index.js\";\nimport { SegmentLoader } from \"./segment-loader/index.js\";\nexport { SegmentLoader } from \"./segment-loader/index.js\";\nimport { clamp } from \"./utils.js\";\nvar logger = new Logger(\"hls\");\nvar Hls = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Hls2, _EventEmitter);\n  var _super = _createSuper(Hls2);\n  function Hls2(_cfg) {\n    var _this;\n    _classCallCheck(this, Hls2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"version\", Hls2.version);\n    _defineProperty(_assertThisInitialized(_this), \"media\", null);\n    _defineProperty(_assertThisInitialized(_this), \"config\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_manifestLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_playlist\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_bufferService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_gapService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_seiService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_stats\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegSn\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegCc\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickInterval\", 500);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentProcessing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_reloadOnPlay\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_switchUrlOpts\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_isProcessQuotaExceeded\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_loadSegment\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n      var _this$_playlist, nextSegment, lastSegment, _assertThisInitialize, config, minFrameDuration, maxBufferThroughout, bInfo, bufferThroughout;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1)\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this._segmentProcessing || !_this.media)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              _this$_playlist = _this._playlist, nextSegment = _this$_playlist.nextSegment, lastSegment = _this$_playlist.lastSegment;\n              _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n              minFrameDuration = 0.016;\n              maxBufferThroughout = Math.min(Math.max((lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.duration) - minFrameDuration / 2 || 0, minFrameDuration), 0.1);\n              if (nextSegment) {\n                _context.next = 8;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 8:\n              if (_this.isLive) {\n                _context.next = 18;\n                break;\n              }\n              bInfo = _this.bufferInfo();\n              if (_this.media.paused && !_this.media.currentTime) {\n                bInfo = _this.bufferInfo(bInfo.nextStart || 0.5);\n              }\n              bufferThroughout = Math.abs(bInfo.end - _this.media.duration) < maxBufferThroughout;\n              if (!(bInfo.remaining >= config.preloadTime || bufferThroughout)) {\n                _context.next = 15;\n                break;\n              }\n              _this._tryEos();\n              return _context.abrupt(\"return\");\n            case 15:\n              if (!(config.preferMMSStreaming && !_this._bufferService.msStreaming)) {\n                _context.next = 17;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 17:\n              if (!_this._urlSwitching && _this._prevSegSn !== nextSegment.sn - 1 && bInfo.end && Math.abs(nextSegment.start - bInfo.end) > 1) {\n                _this._playlist.setNextSegmentByIndex(_this._playlist.findSegmentIndexByTime(bInfo.end + 0.1));\n              }\n            case 18:\n              return _context.abrupt(\"return\", _this._loadSegmentDirect());\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n      }, _callee);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadeddata\", function() {\n      if (_this.isLive && !_this.config.mseLowLatency) {\n        if (_this.media.duration !== Infinity) {\n          _this._bufferService.updateDuration(Infinity).catch(function(e) {\n          });\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1)\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this.media.seeking && _this.media.currentTime === 0)) {\n                _context2.next = 3;\n                break;\n              }\n              logger.debug(\"replay currentTime 0, return\");\n              return _context2.abrupt(\"return\");\n            case 3:\n              clearTimeout(_this._disconnectTimer);\n              if (!_this._reloadOnPlay) {\n                _context2.next = 9;\n                break;\n              }\n              _this._reloadOnPlay = false;\n              _this.replay(true);\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.next = 11;\n              return _this._loadSegment();\n            case 11:\n              _this._startTick();\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n      }, _callee2);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPause\", function() {\n      if (_this.isLive) {\n        if (!_this._reloadOnPlay) {\n          var disconnectTime = _this.config.disconnectTime;\n          if (disconnectTime === null || disconnectTime === void 0)\n            disconnectTime = _this._playlist.dvrWindow;\n          if (!Number.isFinite(disconnectTime))\n            return;\n          clearTimeout(_this._disconnectTimer);\n          _this._disconnectTimer = setTimeout(function() {\n            _this._reloadOnPlay = true;\n            _this._clear();\n          }, disconnectTime || 0);\n        }\n      } else {\n        _this._stopTick();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n      var seekTime, seekRange, newSeekTime, curSeg, info, segIndex, seg;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1)\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.media) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 2:\n              _this._onCheckQuotaExceeded();\n              seekTime = _this.media.currentTime;\n              seekRange = _this._playlist.seekRange;\n              if (!seekRange) {\n                _context3.next = 10;\n                break;\n              }\n              newSeekTime = clamp(seekTime, seekRange[0], _this.isLive ? seekRange[1] : _this.media.duration);\n              if (!(newSeekTime >= 0 && Math.abs(seekTime - newSeekTime) >= 0.1)) {\n                _context3.next = 10;\n                break;\n              }\n              _this.media.currentTime = newSeekTime;\n              return _context3.abrupt(\"return\");\n            case 10:\n              curSeg = _this._playlist.currentSegment;\n              info = Buffer.info(Buffer.get(_this.media), seekTime, 0.1);\n              if (!curSeg) {\n                _context3.next = 17;\n                break;\n              }\n              if (!(info.end && Math.abs(info.end - curSeg.end) < 0.2)) {\n                _context3.next = 15;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 15:\n              if (!(_this.isLive && info.end)) {\n                _context3.next = 17;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 17:\n              segIndex = _this._playlist.findSegmentIndexByTime(seekTime);\n              seg = _this._playlist.getSegmentByIndex(segIndex);\n              if (!(segIndex === null || segIndex === void 0 || !seg || _this._segmentProcessing && seg === _this._playlist.nextSegment)) {\n                _context3.next = 21;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 21:\n              logger.debug(\"seek to\", seekTime, seg);\n              _this._playlist.setNextSegmentByIndex(segIndex);\n              _this._stopTick();\n              _context3.next = 26;\n              return _this._segmentLoader.cancel();\n            case 26:\n              _this._segmentProcessing = false;\n              if (!(!info.end || _this.isLive)) {\n                _context3.next = 30;\n                break;\n              }\n              _context3.next = 30;\n              return _this._loadSegmentDirect(true);\n            case 30:\n              _this._startTick();\n            case 31:\n            case \"end\":\n              return _context3.stop();\n          }\n      }, _callee3);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      if (!_this.media)\n        return;\n      var cfg = _this.config;\n      if (cfg.isLive && cfg.maxLatency && cfg.targetLatency && _this.media) {\n        var liveEdge = _this._playlist.liveEdge;\n        if (!liveEdge)\n          return;\n        var latency = liveEdge - _this.media.currentTime;\n        if (latency >= cfg.maxLatency) {\n          logger.debug(\"latency jump, currentTime:\".concat(_this.media.currentTime, \", liveEdge:\").concat(liveEdge, \",  latency=\").concat(latency));\n          _this.media.currentTime = liveEdge - cfg.targetLatency;\n        }\n      }\n      if (cfg.seiInTime) {\n        var _this$_seiService;\n        (_this$_seiService = _this._seiService) === null || _this$_seiService === void 0 ? void 0 : _this$_seiService.throw(_this.media.currentTime);\n      }\n      if (_this.config.allowedStreamTrackChange && !_this.config.softDecode) {\n        _this._checkStreamTrackChange(_this.media.currentTime);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_tick\", function() {\n      if (!_this.media)\n        return;\n      _this._startTick();\n      var media = _this.media;\n      var buffered = Buffer.get(media);\n      var segLoaderError = _this._segmentLoader.error;\n      _this._onCheckQuotaExceeded();\n      if (_this._isProcessQuotaExceeded) {\n        if (!_this._bufferService.isFull()) {\n          _this._isProcessQuotaExceeded = false;\n          _this._segmentProcessing = false;\n        }\n      }\n      if (segLoaderError) {\n        var bufferMaxHoleTolerance = 0.5;\n        if (!media.readyState || _this.bufferInfo(bufferMaxHoleTolerance).remaining < 1) {\n          segLoaderError.fatal = true;\n          _this._emitError(StreamingError.network(segLoaderError));\n        }\n        return;\n      }\n      if (Buffer.end(buffered) >= 0.1 && media.readyState) {\n        if (isMediaPlaying(media)) {\n          _this._loadSegment();\n          if (_this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, _this.isLive);\n          }\n        } else {\n          if (media.readyState < 2 && _this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, !media.currentTime ? true : _this.isLive);\n          }\n        }\n      }\n      if (!_this.isLive) {\n        _this._tryEos();\n      }\n    });\n    _this.config = _cfg = getConfig(_cfg);\n    _this.media = _this.config.media;\n    _this._manifestLoader = new ManifestLoader(_assertThisInitialized(_this));\n    _this._segmentLoader = new SegmentLoader(_assertThisInitialized(_this));\n    _this._playlist = new Playlist(_assertThisInitialized(_this));\n    _this._bufferService = new BufferService(_assertThisInitialized(_this));\n    if (_cfg.seiInTime) {\n      _this._seiService = new SeiService(_assertThisInitialized(_this));\n    }\n    if (!_cfg.softDecode)\n      _this._gapService = new GapService();\n    _this._stats = new MediaStatsService(_assertThisInitialized(_this), 9e4);\n    _this.media.addEventListener(\"loadeddata\", _this._onLoadeddata);\n    _this.media.addEventListener(\"play\", _this._onPlay);\n    _this.media.addEventListener(\"pause\", _this._onPause);\n    _this.media.addEventListener(\"seeking\", _this._onSeeking);\n    _this.media.addEventListener(\"timeupdate\", _this._onTimeupdate);\n    return _this;\n  }\n  _createClass(Hls2, [{\n    key: \"isLive\",\n    get: function get() {\n      return this._playlist.isLive;\n    }\n  }, {\n    key: \"streams\",\n    get: function get() {\n      return this._playlist.streams;\n    }\n  }, {\n    key: \"currentStream\",\n    get: function get() {\n      return this._playlist.currentStream;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      return this._playlist.hasSubtitle;\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      return this._playlist.totalDuration;\n    }\n  }, {\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_bufferService;\n      return (_this$_bufferService = this._bufferService) === null || _this$_bufferService === void 0 ? void 0 : _this$_bufferService.baseDts;\n    }\n  }, {\n    key: \"abrSwitchPoint\",\n    get: function get() {\n      var targetSeg = this._urlSwitching ? this._playlist.currentSegment : this._playlist.nextSegment;\n      return targetSeg ? targetSeg.start + targetSeg.duration / 2 : null;\n    }\n  }, {\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return this._segmentLoader.speedInfo();\n    }\n  }, {\n    key: \"bufferInfo\",\n    value: function bufferInfo() {\n      var _this$media;\n      var maxHole = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0.1;\n      return Buffer.info(Buffer.get(this.media), (_this$media = this.media) === null || _this$media === void 0 ? void 0 : _this$media.currentTime, maxHole);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      return this._stats.getStats();\n    }\n  }, {\n    key: \"playbackQuality\",\n    value: function playbackQuality() {\n      return getVideoPlaybackQuality(this.media);\n    }\n  }, {\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4() {\n        var url, options, reuseMse, _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                url = _args4.length > 0 && _args4[0] !== void 0 ? _args4[0] : \"\";\n                options = _args4.length > 1 && _args4[1] !== void 0 ? _args4[1] : {};\n                reuseMse = typeof options === \"boolean\" ? options : !!(options !== null && options !== void 0 && options.reuseMse);\n                if (_typeof(options) === \"object\" && options !== null && options !== void 0 && options.clearSwitchStatus) {\n                  this._urlSwitching = false;\n                  this._switchUrlOpts = null;\n                  this.config.startTime = void 0;\n                }\n                if (url)\n                  this.config.url = url;\n                url = this.config.url;\n                _context4.next = 8;\n                return this._reset(reuseMse);\n              case 8:\n                _context4.next = 10;\n                return this._loadData(url);\n              case 10:\n                this._startTick();\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function load() {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"_loadData\",\n    value: function() {\n      var _loadData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5(url) {\n        var manifest, currentStream, preIndex, _this$_switchUrlOpts, _this$_switchUrlOpts3, _this$_switchUrlOpts4, _this$_switchUrlOpts2, switchTimePoint, segIdx, nextSeg, bufferClearStartPoint, startTime, _this$_switchUrlOpts5;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                try {\n                  if (url)\n                    url = url.trim();\n                } catch (e) {\n                }\n                if (url) {\n                  _context5.next = 3;\n                  break;\n                }\n                throw this._emitError(new StreamingError(ERR.OTHER, ERR.SUB_TYPES.OPTION, null, null, \"m3u8 url is missing\"));\n              case 3:\n                _context5.next = 5;\n                return this._loadM3U8(url);\n              case 5:\n                manifest = _context5.sent;\n                currentStream = this._playlist.currentStream;\n                if (!this._urlSwitching) {\n                  _context5.next = 23;\n                  break;\n                }\n                if (!this.isLive) {\n                  _context5.next = 14;\n                  break;\n                }\n                preIndex = this._playlist.setNextSegmentBySN(this._prevSegSn);\n                logger.log(\"segment nb=\".concat(this._prevSegSn, \" index of \").concat(preIndex, \" in the new playlist\"));\n                if (preIndex === -1) {\n                  this._prevSegCc = null;\n                  this._prevSegSn = null;\n                }\n                _context5.next = 23;\n                break;\n              case 14:\n                if (currentStream.bitrate === 0 && (_this$_switchUrlOpts = this._switchUrlOpts) !== null && _this$_switchUrlOpts !== void 0 && _this$_switchUrlOpts.bitrate) {\n                  currentStream.bitrate = (_this$_switchUrlOpts2 = this._switchUrlOpts) === null || _this$_switchUrlOpts2 === void 0 ? void 0 : _this$_switchUrlOpts2.bitrate;\n                }\n                switchTimePoint = typeof ((_this$_switchUrlOpts3 = this._switchUrlOpts) === null || _this$_switchUrlOpts3 === void 0 ? void 0 : _this$_switchUrlOpts3.startTime) === \"number\" ? (_this$_switchUrlOpts4 = this._switchUrlOpts) === null || _this$_switchUrlOpts4 === void 0 ? void 0 : _this$_switchUrlOpts4.startTime : this._getSeamlessSwitchPoint();\n                this.config.startTime = switchTimePoint;\n                segIdx = this._playlist.findSegmentIndexByTime(switchTimePoint);\n                nextSeg = this._playlist.getSegmentByIndex(segIdx + 1);\n                if (!nextSeg) {\n                  _context5.next = 23;\n                  break;\n                }\n                bufferClearStartPoint = nextSeg.start;\n                _context5.next = 23;\n                return this._bufferService.removeBuffer(bufferClearStartPoint);\n              case 23:\n                if (manifest) {\n                  _context5.next = 25;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 25:\n                if (!this.isLive) {\n                  _context5.next = 36;\n                  break;\n                }\n                this._bufferService.setLiveSeekableRange(0, 4294967295);\n                logger.log(\"totalDuration first time got:\", this._playlist.totalDuration);\n                logger.log(\"nb segments got:\", this._playlist.nbSegments);\n                if (this.config.targetLatency < this._playlist.totalDuration) {\n                  this.config.targetLatency = this._playlist.totalDuration;\n                  this.config.maxLatency = 1.5 * this.config.targetLatency;\n                }\n                if (!manifest.isMaster)\n                  this._pollM3U8(url);\n                if (!(this._playlist.nbSegments < this.config.minSegmentsStartPlay)) {\n                  _context5.next = 33;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 33:\n                _context5.next = 35;\n                return this._loadSegment();\n              case 35:\n                return _context5.abrupt(\"return\");\n              case 36:\n                _context5.next = 38;\n                return this._bufferService.updateDuration(currentStream.totalDuration);\n              case 38:\n                startTime = this.config.startTime;\n                if (startTime) {\n                  if (!((_this$_switchUrlOpts5 = this._switchUrlOpts) !== null && _this$_switchUrlOpts5 !== void 0 && _this$_switchUrlOpts5.seamless)) {\n                    this.media.currentTime = startTime;\n                  }\n                  this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(startTime) || 0);\n                }\n                _context5.next = 42;\n                return this._loadSegment();\n              case 42:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function _loadData(_x) {\n        return _loadData2.apply(this, arguments);\n      }\n      return _loadData;\n    }()\n  }, {\n    key: \"replay\",\n    value: function() {\n      var _replay = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6(isPlayEmit) {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.config.startTime = 0;\n                this._urlSwitching = false;\n                this._switchUrlOpts = null;\n                _context6.next = 5;\n                return this.load();\n              case 5:\n                this._reloadOnPlay = false;\n                return _context6.abrupt(\"return\", this.media.play(!isPlayEmit));\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function replay(_x2) {\n        return _replay.apply(this, arguments);\n      }\n      return replay;\n    }()\n  }, {\n    key: \"switchURL\",\n    value: function() {\n      var _switchURL = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7(url) {\n        var options, defaultOpts, key, _options, seamless, startTime, appended, _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                options = _args7.length > 1 && _args7[1] !== void 0 ? _args7[1] : {};\n                defaultOpts = {\n                  seamless: false,\n                  startTime: 0,\n                  bitrate: 0\n                };\n                _context7.t0 = _typeof(options);\n                _context7.next = _context7.t0 === \"number\" ? 5 : _context7.t0 === \"boolean\" ? 7 : _context7.t0 === \"object\" ? 9 : 11;\n                break;\n              case 5:\n                options = {\n                  startTime: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 7:\n                options = {\n                  seamless: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 9:\n                for (key in options) {\n                  if (options[key] === void 0 || options[key] === null) {\n                    delete options[key];\n                  }\n                }\n                return _context7.abrupt(\"break\", 12);\n              case 11:\n                throw \"unsupported switchURL args: \".concat(options);\n              case 12:\n                options = Object.assign({}, defaultOpts, options);\n                _options = options, seamless = _options.seamless, startTime = _options.startTime;\n                this.config.url = url;\n                this.config.startTime = startTime;\n                this._switchUrlOpts = options;\n                if (seamless) {\n                  _context7.next = 38;\n                  break;\n                }\n                _context7.prev = 18;\n                if (!this.config.softDecode) {\n                  _context7.next = 23;\n                  break;\n                }\n                _context7.t1 = this.load(url);\n                _context7.next = 26;\n                break;\n              case 23:\n                _context7.next = 25;\n                return this.load(url);\n              case 25:\n                _context7.t1 = _context7.sent;\n              case 26:\n                appended = _context7.t1;\n                _context7.next = 33;\n                break;\n              case 29:\n                _context7.prev = 29;\n                _context7.t2 = _context7[\"catch\"](18);\n                this.emit(Event.SWITCH_URL_FAILED, _context7.t2);\n                throw _context7.t2;\n              case 33:\n                this._reloadOnPlay = false;\n                if (appended) {\n                  this.emit(Event.SWITCH_URL_SUCCESS, {\n                    url\n                  });\n                }\n                return _context7.abrupt(\"return\", this.media.play(true));\n              case 38:\n                this._urlSwitching = true;\n                if (!this.isLive) {\n                  this._prevSegSn = null;\n                  this._prevSegCc = null;\n                }\n                this._playlist.reset();\n                this._bufferService.seamlessSwitch();\n                _context7.next = 44;\n                return this._clear();\n              case 44:\n                _context7.next = 46;\n                return this._loadData(url);\n              case 46:\n                this._startTick();\n              case 47:\n                this._switchUrlOpts = null;\n              case 48:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this, [[18, 29]]);\n      }));\n      function switchURL(_x3) {\n        return _switchURL.apply(this, arguments);\n      }\n      return switchURL;\n    }()\n  }, {\n    key: \"switchStream\",\n    value: function() {\n      var _switchStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(id) {\n        var force, curStream, streams, toSwitch, curId, _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                force = _args8.length > 1 && _args8[1] !== void 0 ? _args8[1] : true;\n                curStream = this.currentStream;\n                streams = this.streams;\n                if (!(!curStream || curStream.id === id || !streams || streams.length < 2)) {\n                  _context8.next = 5;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 5:\n                toSwitch = streams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context8.next = 8;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 8:\n                _context8.prev = 8;\n                _context8.next = 11;\n                return this._clear();\n              case 11:\n                if (!force) {\n                  _context8.next = 14;\n                  break;\n                }\n                _context8.next = 14;\n                return this._bufferService.clearAllBuffer();\n              case 14:\n                _context8.next = 19;\n                break;\n              case 16:\n                _context8.prev = 16;\n                _context8.t0 = _context8[\"catch\"](8);\n                throw this._emitError(StreamingError.create(_context8.t0));\n              case 19:\n                if (curStream.currentAudioStream && toSwitch.audioStreams.length > 2) {\n                  curId = curStream.currentAudioStream.id;\n                  toSwitch.currentAudioStream = toSwitch.audioStreams.find(function(x) {\n                    return x.id === curId;\n                  }) || toSwitch.currentAudioStream;\n                }\n                this._playlist.currentStream = toSwitch;\n                _context8.prev = 21;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context8.next = 25;\n                  break;\n                }\n                _context8.next = 25;\n                return this._refreshM3U8();\n              case 25:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context8.next = 29;\n                return this._loadSegmentDirect();\n              case 29:\n                _context8.next = 35;\n                break;\n              case 31:\n                _context8.prev = 31;\n                _context8.t1 = _context8[\"catch\"](21);\n                this._playlist.currentStream = curStream;\n                throw _context8.t1;\n              case 35:\n                this._startTick();\n                return _context8.abrupt(\"return\", toSwitch);\n              case 37:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this, [[8, 16], [21, 31]]);\n      }));\n      function switchStream(_x4) {\n        return _switchStream.apply(this, arguments);\n      }\n      return switchStream;\n    }()\n  }, {\n    key: \"switchAudioStream\",\n    value: function() {\n      var _switchAudioStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9(id) {\n        var force, curStream, audioStream, toSwitch, _args9 = arguments;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                force = _args9.length > 1 && _args9[1] !== void 0 ? _args9[1] : true;\n                curStream = this.currentStream;\n                if (curStream) {\n                  _context9.next = 4;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 4:\n                audioStream = curStream.currentAudioStream;\n                if (!(!audioStream || audioStream.id === id || curStream.audioStreams.length < 2)) {\n                  _context9.next = 7;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 7:\n                toSwitch = curStream.audioStreams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context9.next = 10;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 10:\n                _context9.prev = 10;\n                _context9.next = 13;\n                return this._clear();\n              case 13:\n                if (!force) {\n                  _context9.next = 16;\n                  break;\n                }\n                _context9.next = 16;\n                return this._bufferService.clearAllBuffer();\n              case 16:\n                _context9.next = 21;\n                break;\n              case 18:\n                _context9.prev = 18;\n                _context9.t0 = _context9[\"catch\"](10);\n                throw this._emitError(StreamingError.create(_context9.t0));\n              case 21:\n                curStream.currentAudioStream = toSwitch;\n                _context9.prev = 22;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context9.next = 26;\n                  break;\n                }\n                _context9.next = 26;\n                return this._refreshM3U8();\n              case 26:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context9.next = 30;\n                return this._loadSegmentDirect();\n              case 30:\n                _context9.next = 36;\n                break;\n              case 32:\n                _context9.prev = 32;\n                _context9.t1 = _context9[\"catch\"](22);\n                curStream.currentAudioStream = audioStream;\n                throw _context9.t1;\n              case 36:\n                this._startTick();\n                return _context9.abrupt(\"return\", toSwitch);\n              case 38:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this, [[10, 18], [22, 32]]);\n      }));\n      function switchAudioStream(_x5) {\n        return _switchAudioStream.apply(this, arguments);\n      }\n      return switchAudioStream;\n    }()\n  }, {\n    key: \"switchSubtitleStream\",\n    value: function() {\n      var _switchSubtitleStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10(lang) {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this._playlist.switchSubtitle(lang);\n                _context10.next = 3;\n                return this._manifestLoader.stopPoll();\n              case 3:\n                _context10.next = 5;\n                return this._refreshM3U8();\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function switchSubtitleStream(_x6) {\n        return _switchSubtitleStream.apply(this, arguments);\n      }\n      return switchSubtitleStream;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee11() {\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1)\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (!this._bufferService) {\n                  _context11.next = 3;\n                  break;\n                }\n                _context11.next = 3;\n                return this._bufferService.detachMedia();\n              case 3:\n              case \"end\":\n                return _context11.stop();\n            }\n        }, _callee11, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee12() {\n        var _this$_seiService2;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1)\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (this.media) {\n                  _context12.next = 2;\n                  break;\n                }\n                return _context12.abrupt(\"return\");\n              case 2:\n                this.removeAllListeners();\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService2 = this._seiService) === null || _this$_seiService2 === void 0 ? void 0 : _this$_seiService2.reset();\n                this.media.removeEventListener(\"loadeddata\", this._onLoadeddata);\n                this.media.removeEventListener(\"play\", this._onPlay);\n                this.media.removeEventListener(\"pause\", this._onPause);\n                this.media.removeEventListener(\"seeking\", this._onSeeking);\n                this.media.removeEventListener(\"timeupdate\", this._onTimeupdate);\n                _context12.next = 13;\n                return Promise.all([this._clear(), this._bufferService.destroy()]);\n              case 13:\n                this.media = null;\n              case 14:\n              case \"end\":\n                return _context12.stop();\n            }\n        }, _callee12, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_loadM3U8\",\n    value: function() {\n      var _loadM3U = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee13(url) {\n        var playlist, _this$config$manifest, _this$config$manifest2, manifest, _ref4, _ref5, _this$_playlist$curre;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1)\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.prev = 0;\n                manifest = (_this$config$manifest = this.config.manifestList) === null || _this$config$manifest === void 0 ? void 0 : (_this$config$manifest2 = _this$config$manifest.filter(function(x) {\n                  return x.url === url;\n                })[0]) === null || _this$config$manifest2 === void 0 ? void 0 : _this$config$manifest2.manifest;\n                if (!manifest) {\n                  _context13.next = 6;\n                  break;\n                }\n                _context13.t0 = this._manifestLoader.parseText(manifest, url);\n                _context13.next = 9;\n                break;\n              case 6:\n                _context13.next = 8;\n                return this._manifestLoader.load(url);\n              case 8:\n                _context13.t0 = _context13.sent;\n              case 9:\n                _ref4 = _context13.t0;\n                _ref5 = _slicedToArray(_ref4, 1);\n                playlist = _ref5[0];\n                _context13.next = 17;\n                break;\n              case 14:\n                _context13.prev = 14;\n                _context13.t1 = _context13[\"catch\"](0);\n                throw this._emitError(StreamingError.create(_context13.t1));\n              case 17:\n                if (playlist) {\n                  _context13.next = 19;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 19:\n                this._playlist.upsertPlaylist(playlist);\n                if (!playlist.isMaster) {\n                  _context13.next = 24;\n                  break;\n                }\n                if ((_this$_playlist$curre = this._playlist.currentStream.subtitleStreams) !== null && _this$_playlist$curre !== void 0 && _this$_playlist$curre.length) {\n                  this.emit(Event.SUBTITLE_PLAYLIST, {\n                    list: this._playlist.currentStream.subtitleStreams\n                  });\n                }\n                _context13.next = 24;\n                return this._refreshM3U8();\n              case 24:\n                this.emit(Event.STREAM_PARSED);\n                return _context13.abrupt(\"return\", playlist);\n              case 26:\n              case \"end\":\n                return _context13.stop();\n            }\n        }, _callee13, this, [[0, 14]]);\n      }));\n      function _loadM3U8(_x7) {\n        return _loadM3U.apply(this, arguments);\n      }\n      return _loadM3U8;\n    }()\n  }, {\n    key: \"_refreshM3U8\",\n    value: function _refreshM3U8() {\n      var _stream$currentAudioS, _stream$currentSubtit, _this2 = this;\n      var stream = this._playlist.currentStream;\n      if (!stream || !stream.url)\n        throw this._emitError(StreamingError.create(null, null, new Error(\"m3u8 url is not defined\")));\n      var url = stream.url;\n      var audioUrl = (_stream$currentAudioS = stream.currentAudioStream) === null || _stream$currentAudioS === void 0 ? void 0 : _stream$currentAudioS.url;\n      var subtitleUrl = (_stream$currentSubtit = stream.currentSubtitleStream) === null || _stream$currentSubtit === void 0 ? void 0 : _stream$currentSubtit.url;\n      return this._manifestLoader.load(url, audioUrl, subtitleUrl).then(function(_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3), mediaPlaylist = _ref7[0], audioPlaylist = _ref7[1], subtitlePlaylist = _ref7[2];\n        if (!mediaPlaylist)\n          return;\n        _this2._playlist.upsertPlaylist(mediaPlaylist, audioPlaylist, subtitlePlaylist);\n        if (!_this2.isLive)\n          return;\n        _this2._pollM3U8(url, audioUrl, subtitleUrl);\n      }).catch(function(err) {\n        throw _this2._emitError(StreamingError.create(err));\n      });\n    }\n  }, {\n    key: \"_pollM3U8\",\n    value: function _pollM3U8(url, audioUrl, subtitleUrl) {\n      var _this3 = this;\n      var isEmpty = this._playlist.isEmpty;\n      var pollInterval;\n      if (this._playlist.lowLatency) {\n        pollInterval = (this._playlist.currentStream.partTargetDuration || 0) * 1e3;\n      } else {\n        var _this$_playlist$lastS;\n        pollInterval = (((_this$_playlist$lastS = this._playlist.lastSegment) === null || _this$_playlist$lastS === void 0 ? void 0 : _this$_playlist$lastS.duration) || 0) * 1e3;\n      }\n      this._manifestLoader.poll(\n        url,\n        audioUrl,\n        subtitleUrl,\n        function(p1, p2, p3) {\n          _this3._playlist.upsertPlaylist(p1, p2, p3);\n          _this3._playlist.clearOldSegment();\n          var switchToNoEmpty = p1 && isEmpty && !_this3._playlist.isEmpty;\n          if (switchToNoEmpty || !_this3._playlist.hadSegmentLoaded && _this3._playlist.nbSegments >= _this3.config.minSegmentsStartPlay) {\n            _this3._loadSegment();\n          }\n          if (isEmpty)\n            isEmpty = _this3._playlist.isEmpty;\n        },\n        function(err) {\n          _this3._emitError(StreamingError.create(err));\n        },\n        pollInterval\n      );\n    }\n  }, {\n    key: \"_loadSegmentDirect\",\n    value: function() {\n      var _loadSegmentDirect2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee14(loadOnce) {\n        var seg, appended, cachedError, _this$_playlist$curre2, bufferEnd, sameStream;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1)\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                seg = this._playlist.nextSegment;\n                if (seg) {\n                  _context14.next = 3;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 3:\n                appended = false;\n                cachedError = null;\n                _context14.prev = 5;\n                this._segmentProcessing = true;\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", [\").concat(seg.start, \", \").concat(seg.end, \"], partIndex:\").concat(seg.partIndex));\n                _context14.next = 10;\n                return this._reqAndBufferSegment(seg, this._playlist.getAudioSegment(seg));\n              case 10:\n                appended = _context14.sent;\n                _context14.next = 16;\n                break;\n              case 13:\n                _context14.prev = 13;\n                _context14.t0 = _context14[\"catch\"](5);\n                cachedError = _context14.t0;\n              case 16:\n                _context14.prev = 16;\n                this._segmentProcessing = false;\n                return _context14.finish(16);\n              case 19:\n                if (!cachedError) {\n                  _context14.next = 26;\n                  break;\n                }\n                if (!this._bufferService.isFull()) {\n                  _context14.next = 25;\n                  break;\n                }\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                this._segmentProcessing = true;\n                this._isProcessQuotaExceeded = true;\n                return _context14.abrupt(\"return\", false);\n              case 25:\n                return _context14.abrupt(\"return\", this._emitError(StreamingError.create(cachedError)));\n              case 26:\n                if (appended) {\n                  bufferEnd = this.bufferInfo().end;\n                  if (this.isLive && !this.media.seeking && bufferEnd && Math.abs(seg.end - bufferEnd) > 1) {\n                    logger.warn(\"segment: \".concat(seg.sn, \" expected end=\").concat(seg.end, \", real end=\").concat(bufferEnd));\n                    this._playlist.feedbackLiveEdge(seg, bufferEnd);\n                  }\n                  sameStream = ((_this$_playlist$curre2 = this._playlist.currentStream) === null || _this$_playlist$curre2 === void 0 ? void 0 : _this$_playlist$curre2.url) === seg.parentUrl;\n                  if (this._urlSwitching && !sameStream) {\n                    logger.warn(\"pre playlist segment appended!\");\n                    this._bufferService.seamlessSwitch();\n                  }\n                  if (this.isLive && this._urlSwitching && sameStream) {\n                    this._urlSwitching = false;\n                    this.emit(Event.SWITCH_URL_SUCCESS, {\n                      url: this.config.url\n                    });\n                  }\n                  this._playlist.moveSegmentPointer();\n                  if (seg.isLast) {\n                    this._end();\n                  } else if (!loadOnce) {\n                    this._loadSegment();\n                  }\n                }\n                return _context14.abrupt(\"return\", appended);\n              case 28:\n              case \"end\":\n                return _context14.stop();\n            }\n        }, _callee14, this, [[5, 13, 16, 19]]);\n      }));\n      function _loadSegmentDirect(_x8) {\n        return _loadSegmentDirect2.apply(this, arguments);\n      }\n      return _loadSegmentDirect;\n    }()\n  }, {\n    key: \"_reqAndBufferSegment\",\n    value: function() {\n      var _reqAndBufferSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee15(seg, audioSeg) {\n        var _this$_bufferService2;\n        var cc, discontinuity, responses, data, sn, start, stream, before, contiguous, segStart;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1)\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                cc = seg ? seg.cc : audioSeg.cc;\n                discontinuity = this._prevSegCc !== cc;\n                responses = [];\n                _context15.prev = 3;\n                _context15.next = 6;\n                return this._segmentLoader.load(seg, audioSeg, discontinuity);\n              case 6:\n                responses = _context15.sent;\n                _context15.next = 14;\n                break;\n              case 9:\n                _context15.prev = 9;\n                _context15.t0 = _context15[\"catch\"](3);\n                _context15.t0.fatal = false;\n                this._segmentLoader.error = _context15.t0;\n                throw _context15.t0;\n              case 14:\n                if (responses[0]) {\n                  _context15.next = 16;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 16:\n                _context15.next = 18;\n                return (_this$_bufferService2 = this._bufferService).decryptBuffer.apply(_this$_bufferService2, _toConsumableArray(responses));\n              case 18:\n                data = _context15.sent;\n                if (data) {\n                  _context15.next = 21;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 21:\n                sn = seg ? seg.sn : audioSeg.sn;\n                start = seg ? seg.start : audioSeg.start;\n                stream = this._playlist.currentStream;\n                this._bufferService.createSource(data[0], data[1], stream === null || stream === void 0 ? void 0 : stream.videoCodec, stream === null || stream === void 0 ? void 0 : stream.audioCodec);\n                before = Date.now();\n                contiguous = this._prevSegSn === sn - 1;\n                if (this.isLive && this._urlSwitching) {\n                  segStart = this.bufferInfo().end;\n                  this._playlist.updateSegmentsRanges(sn, segStart);\n                  logger.warn(\"update the new playlist liveEdge, segment id=\".concat(sn, \", buffer start=\").concat(segStart, \", liveEdge=\").concat(this._playlist.liveEdge));\n                  start = segStart;\n                }\n                _context15.next = 30;\n                return this._bufferService.appendBuffer(seg, audioSeg, data[0], data[1], discontinuity, contiguous, start);\n              case 30:\n                this.emit(Event.APPEND_COST, {\n                  elapsed: Date.now() - before,\n                  url: seg.url\n                });\n                _context15.next = 33;\n                return this._bufferService.evictBuffer(this.config.bufferBehind);\n              case 33:\n                this._prevSegCc = cc;\n                this._prevSegSn = sn;\n                return _context15.abrupt(\"return\", true);\n              case 36:\n              case \"end\":\n                return _context15.stop();\n            }\n        }, _callee15, this, [[3, 9]]);\n      }));\n      function _reqAndBufferSegment(_x9, _x10) {\n        return _reqAndBufferSegment2.apply(this, arguments);\n      }\n      return _reqAndBufferSegment;\n    }()\n  }, {\n    key: \"_onCheckQuotaExceeded\",\n    value: function() {\n      var _onCheckQuotaExceeded2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee16() {\n        var seekTime, buffered, inBuffered, i, bufferBehind, mediaTime;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1)\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                seekTime = this.media.currentTime;\n                buffered = this.media.buffered;\n                inBuffered = false;\n                i = 0;\n              case 4:\n                if (!(i < buffered.length)) {\n                  _context16.next = 11;\n                  break;\n                }\n                if (!(buffered.start(0) >= seekTime && seekTime < buffered.end(i))) {\n                  _context16.next = 8;\n                  break;\n                }\n                inBuffered = true;\n                return _context16.abrupt(\"break\", 11);\n              case 8:\n                i++;\n                _context16.next = 4;\n                break;\n              case 11:\n                if (!this._bufferService.isFull()) {\n                  _context16.next = 17;\n                  break;\n                }\n                bufferBehind = inBuffered ? this.config.bufferBehind : 5;\n                mediaTime = this.media.currentTime;\n                if (!(mediaTime - bufferBehind > 0)) {\n                  _context16.next = 17;\n                  break;\n                }\n                _context16.next = 17;\n                return this._bufferService.removeBuffer(0, mediaTime - bufferBehind);\n              case 17:\n              case \"end\":\n                return _context16.stop();\n            }\n        }, _callee16, this);\n      }));\n      function _onCheckQuotaExceeded() {\n        return _onCheckQuotaExceeded2.apply(this, arguments);\n      }\n      return _onCheckQuotaExceeded;\n    }()\n  }, {\n    key: \"_checkStreamTrackChange\",\n    value: function _checkStreamTrackChange(time) {\n      var changedSeg = this._playlist.checkSegmentTrackChange(time, this._bufferService.nbSb);\n      if (!changedSeg)\n        return;\n      this.switchURL(this.config.url, changedSeg.start + 0.2);\n    }\n  }, {\n    key: \"_clear\",\n    value: function() {\n      var _clear2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee17() {\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1)\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                clearTimeout(this._disconnectTimer);\n                this._stopTick();\n                _context17.next = 4;\n                return Promise.all([this._segmentLoader.cancel(), this._manifestLoader.stopPoll()]);\n              case 4:\n                this._segmentProcessing = false;\n              case 5:\n              case \"end\":\n                return _context17.stop();\n            }\n        }, _callee17, this);\n      }));\n      function _clear() {\n        return _clear2.apply(this, arguments);\n      }\n      return _clear;\n    }()\n  }, {\n    key: \"_reset\",\n    value: function() {\n      var _reset2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee18() {\n        var _this$_seiService3;\n        var reuseMse, _args18 = arguments;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1)\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                reuseMse = _args18.length > 0 && _args18[0] !== void 0 ? _args18[0] : false;\n                this._reloadOnPlay = false;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._switchUrlOpts = null;\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService3 = this._seiService) === null || _this$_seiService3 === void 0 ? void 0 : _this$_seiService3.reset();\n                this._stats.reset();\n                _context18.next = 11;\n                return this._clear();\n              case 11:\n                return _context18.abrupt(\"return\", this._bufferService.reset(reuseMse));\n              case 12:\n              case \"end\":\n                return _context18.stop();\n            }\n        }, _callee18, this);\n      }));\n      function _reset() {\n        return _reset2.apply(this, arguments);\n      }\n      return _reset;\n    }()\n  }, {\n    key: \"_end\",\n    value: function _end() {\n      this._clear();\n      this._bufferService.endOfStream();\n      if (this.media.readyState <= 2 || this.media.buffered.length > 1) {\n        this._startTick();\n      }\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      if (this._tickTimer) {\n        clearTimeout(this._tickTimer);\n      }\n      this._tickTimer = null;\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      this._stopTick();\n      this._tickTimer = setTimeout(this._tick, this._tickInterval);\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(error) {\n      var _error$originError;\n      var endOfStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      if (((_error$originError = error.originError) === null || _error$originError === void 0 ? void 0 : _error$originError.fatal) === false) {\n        logger.warn(error);\n      } else {\n        var _this$media2, _this$media3, _this$_seiService4;\n        logger.table(error);\n        logger.error(error);\n        logger.error((_this$media2 = this.media) === null || _this$media2 === void 0 ? void 0 : _this$media2.error);\n        if ((_this$media3 = this.media) !== null && _this$media3 !== void 0 && _this$media3.readyState) {\n          this.media.pause();\n        }\n        this._stopTick();\n        if (this._urlSwitching) {\n          this._urlSwitching = false;\n          this.emit(Event.SWITCH_URL_FAILED, error);\n        }\n        this.emit(Event.ERROR, error);\n        if (endOfStream)\n          this._end();\n        (_this$_seiService4 = this._seiService) === null || _this$_seiService4 === void 0 ? void 0 : _this$_seiService4.reset();\n      }\n      return error;\n    }\n  }, {\n    key: \"_getSeamlessSwitchPoint\",\n    value: function _getSeamlessSwitchPoint() {\n      var media = this.media;\n      var nextLoadPoint = media.currentTime;\n      if (!media.paused) {\n        var _this$_stats;\n        var segIdx = this._playlist.findSegmentIndexByTime(media.currentTime);\n        var curSeg = this._playlist.getSegmentByIndex(segIdx);\n        var latestKbps = (_this$_stats = this._stats) === null || _this$_stats === void 0 ? void 0 : _this$_stats.getStats().downloadSpeed;\n        if (latestKbps && curSeg) {\n          var delay = curSeg.duration * this._playlist.currentStream.bitrate / latestKbps + 1;\n          nextLoadPoint += delay;\n        } else {\n          nextLoadPoint += 5;\n        }\n      }\n      return nextLoadPoint;\n    }\n  }, {\n    key: \"_tryEos\",\n    value: function _tryEos() {\n      var _this$_bufferService3, _this$_bufferService4;\n      var media = this.media;\n      var _this$_playlist2 = this._playlist, nextSegment = _this$_playlist2.nextSegment, lastSegment = _this$_playlist2.lastSegment;\n      var eosAllowed = (!nextSegment || lastSegment && Buffer.isBuffered(media, lastSegment.start + lastSegment.duration / 2)) && media.readyState && media.duration > 0 && ((_this$_bufferService3 = this._bufferService) === null || _this$_bufferService3 === void 0 ? void 0 : _this$_bufferService3.msIsOpened) && !((_this$_bufferService4 = this._bufferService) !== null && _this$_bufferService4 !== void 0 && _this$_bufferService4.msHasOpTasks);\n      if (!eosAllowed) {\n        return;\n      }\n      var bInfo = this.bufferInfo();\n      if (media.paused && !media.currentTime) {\n        bInfo = this.bufferInfo(bInfo.nextStart || 0.5);\n      }\n      var bufferThroughout = Math.abs(bInfo.end - media.duration) < 0.1 || !this.isLive && lastSegment && bInfo.end >= lastSegment.start + lastSegment.duration;\n      if (bufferThroughout) {\n        this._bufferService.endOfStream();\n      }\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(mediaType) {\n      if (!mediaType || mediaType === \"video\" || mediaType === \"audio\") {\n        return MSE.isSupported();\n      }\n      return typeof WebAssembly !== \"undefined\";\n    }\n  }, {\n    key: \"enableLogger\",\n    value: function enableLogger() {\n      Logger.enable();\n      Logger$1.enable();\n    }\n  }, {\n    key: \"disableLogger\",\n    value: function disableLogger() {\n      Logger.disable();\n      Logger$1.disable();\n    }\n  }]);\n  return Hls2;\n}(EventEmitter);\n_defineProperty(Hls, \"version\", \"3.0.20\");\ntry {\n  if (localStorage.getItem(\"xgd\")) {\n    Hls.enableLogger();\n  } else {\n    Hls.disableLogger();\n  }\n} catch (error) {\n}\nexport { Hls, logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Event } from \"./hls/constants.js\";\nvar PluginExtension = /* @__PURE__ */ function() {\n  function PluginExtension2(opts, plugin) {\n    var _this = this;\n    _classCallCheck(this, PluginExtension2);\n    _defineProperty(this, \"_opts\", null);\n    _defineProperty(this, \"_plugin\", null);\n    _defineProperty(this, \"_onLowDecode\", function() {\n      var _this$_plugin, _this$_plugin$player, _this$_plugin2, _this$_plugin2$player;\n      var _this$_opts = _this._opts, media = _this$_opts.media, innerDegrade = _this$_opts.innerDegrade;\n      (_this$_plugin = _this._plugin) === null || _this$_plugin === void 0 ? void 0 : (_this$_plugin$player = _this$_plugin.player) === null || _this$_plugin$player === void 0 ? void 0 : _this$_plugin$player.emit(\"lowdecode\", media.degradeInfo);\n      (_this$_plugin2 = _this._plugin) === null || _this$_plugin2 === void 0 ? void 0 : (_this$_plugin2$player = _this$_plugin2.player) === null || _this$_plugin2$player === void 0 ? void 0 : _this$_plugin2$player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, media.degradeInfo), {}, {\n        eventName: Event.LOWDECODE\n      }));\n      if (innerDegrade === 1) {\n        _this._degrade(media.src);\n      }\n    });\n    _defineProperty(this, \"_degrade\", function(url) {\n      var player = _this._plugin.player;\n      var originVideo = player.video;\n      if (originVideo && originVideo.TAG !== \"MVideo\")\n        return;\n      var newVideo = player.video.degradeVideo;\n      player.video = newVideo;\n      originVideo.degrade(url);\n      if (url) {\n        player.config.url = url;\n      }\n      var firstChild = player.root.firstChild;\n      if (firstChild.TAG === \"MVideo\") {\n        player.root.replaceChild(newVideo, firstChild);\n      }\n      var hlsPlugin = _this._plugin.constructor.pluginName.toLowerCase();\n      player.unRegisterPlugin(hlsPlugin);\n      player.once(\"canplay\", function() {\n        player.play();\n      });\n    });\n    _defineProperty(this, \"forceDegradeToVideo\", function(url) {\n      var innerDegrade = _this._opts.innerDegrade;\n      if (innerDegrade === 1) {\n        _this._degrade(url);\n      }\n    });\n    this._opts = opts;\n    this._plugin = plugin;\n    this._init();\n  }\n  _createClass(PluginExtension2, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this$_opts2 = this._opts, media = _this$_opts2.media, preloadTime = _this$_opts2.preloadTime, innerDegrade = _this$_opts2.innerDegrade, isLive = _this$_opts2.isLive;\n      if (!media)\n        return;\n      if (!isLive && media.setPlayMode) {\n        media.setPlayMode(\"VOD\");\n        return;\n      }\n      if (innerDegrade) {\n        media.setAttribute(\"innerdegrade\", innerDegrade);\n      }\n      if (preloadTime) {\n        media.setAttribute(\"preloadtime\", preloadTime);\n      }\n      this._bindEvents();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var media = this._opts.media;\n      media.addEventListener(\"lowdecode\", this._onLowDecode);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$_opts3, _this$_opts3$media;\n      (_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : (_this$_opts3$media = _this$_opts3.media) === null || _this$_opts3$media === void 0 ? void 0 : _this$_opts3$media.removeEventListener(\"lowdecode\", this._onLowDecode);\n      this._plugin = null;\n    }\n  }]);\n  return PluginExtension2;\n}();\nexport { PluginExtension as default };\n","import { defineProperty as _defineProperty, typeof as _typeof, objectWithoutProperties as _objectWithoutProperties, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { BasePlugin, Events, Errors } from \"xgplayer\";\nimport { MSE, EVENT } from \"xgplayer-streaming-shared\";\nimport { Hls, logger } from \"./hls/index.js\";\nimport { Event } from \"./hls/constants.js\";\nimport PluginExtension from \"./plugin-extension.js\";\nvar _excluded = [\"currentTime\"];\nfunction parseSwitchUrlArgs(args, plugin) {\n  var player = plugin.player;\n  var curTime = player.currentTime;\n  var options = {\n    startTime: curTime\n  };\n  switch (_typeof(args)) {\n    case \"boolean\":\n      options.seamless = args;\n      break;\n    case \"object\": {\n      var currentTime = args.currentTime, rest = _objectWithoutProperties(args, _excluded);\n      Object.assign(options, rest);\n      if (typeof currentTime === \"number\") {\n        options.startTime = currentTime;\n      }\n      break;\n    }\n  }\n  return options;\n}\nvar HlsPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(HlsPlugin2, _BasePlugin);\n  var _super = _createSuper(HlsPlugin2);\n  function HlsPlugin2() {\n    var _this;\n    _classCallCheck(this, HlsPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"logger\", logger);\n    _defineProperty(_assertThisInitialized(_this), \"hls\", null);\n    _defineProperty(_assertThisInitialized(_this), \"pluginExtension\", null);\n    _defineProperty(_assertThisInitialized(_this), \"getStats\", function() {\n      var _this$hls;\n      return (_this$hls = _this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.getStats();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchSubtitle\", function(_ref) {\n      var _this$hls2;\n      var lang = _ref.lang;\n      (_this$hls2 = _this.hls) === null || _this$hls2 === void 0 ? void 0 : _this$hls2.switchSubtitleStream(lang);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_keepPauseStatus\", function() {\n      var paused = _this.player.paused;\n      if (!paused)\n        return;\n      _this.player.once(\"canplay\", function() {\n        _this.player.pause();\n      });\n    });\n    return _this;\n  }\n  _createClass(HlsPlugin2, [{\n    key: \"core\",\n    get: function get() {\n      return this.hls;\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      var _this$hls3;\n      return (_this$hls3 = this.hls) === null || _this$hls3 === void 0 ? void 0 : _this$hls3.version;\n    }\n  }, {\n    key: \"softDecode\",\n    get: function get() {\n      var _this$player, _this$player$config;\n      var mediaType = (_this$player = this.player) === null || _this$player === void 0 ? void 0 : (_this$player$config = _this$player.config) === null || _this$player$config === void 0 ? void 0 : _this$player$config.mediaType;\n      return !!mediaType && mediaType !== \"video\" && mediaType !== \"audio\";\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n      var _this2 = this;\n      var config = this.player.config;\n      var mediaElem = this.player.media || this.player.video;\n      var hlsOpts = config.hls || {};\n      if (!config.url && !config.__allowHlsEmptyUrl__ || !hlsOpts.preferMMS && MSE.isMMSOnly()) {\n        return;\n      }\n      if (this.hls)\n        this.hls.destroy();\n      var descriptor = Object.getOwnPropertyDescriptor(this.player, \"switchURL\");\n      if (!descriptor || descriptor.writable) {\n        this.player.switchURL = function(url, args) {\n          return new Promise(function(resolve, reject) {\n            var player = _this2.player, hls = _this2.hls;\n            if (hls) {\n              var _this2$player$config, _this2$player$config$;\n              var options = parseSwitchUrlArgs(args, _this2);\n              player.config.url = url;\n              hls.switchURL(url, options).then(function() {\n                return resolve(true);\n              }).catch(reject);\n              if (!options.seamless && (_this2$player$config = _this2.player.config) !== null && _this2$player$config !== void 0 && (_this2$player$config$ = _this2$player$config.hls) !== null && _this2$player$config$ !== void 0 && _this2$player$config$.keepStatusAfterSwitch) {\n                _this2._keepPauseStatus();\n              }\n            } else {\n              reject();\n            }\n          });\n        };\n      }\n      var onSwitchUrl = this.player.switchURL;\n      this.player.handleSource = false;\n      hlsOpts.innerDegrade = hlsOpts.innerDegrade || config.innerDegrade;\n      if (hlsOpts.disconnectTime === null || hlsOpts.disconnectTime === void 0)\n        hlsOpts.disconnectTime = 0;\n      this.hls = new Hls(_objectSpread2({\n        softDecode: this.softDecode,\n        isLive: config.isLive,\n        media: mediaElem,\n        startTime: config.startTime,\n        url: config.url\n      }, hlsOpts));\n      if (!this.softDecode) {\n        BasePlugin.defineGetterOrSetter(this.player, {\n          url: {\n            get: function get() {\n              var _this2$hls, _this2$hls$media;\n              return (_this2$hls = _this2.hls) === null || _this2$hls === void 0 ? void 0 : (_this2$hls$media = _this2$hls.media) === null || _this2$hls$media === void 0 ? void 0 : _this2$hls$media.src;\n            },\n            configurable: true\n          }\n        });\n      }\n      if (this.softDecode) {\n        this.pluginExtension = new PluginExtension(_objectSpread2({\n          isLive: config.isLive,\n          media: mediaElem\n        }, hlsOpts), this);\n        this.player.forceDegradeToVideo = function() {\n          var _this2$pluginExtensio;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return (_this2$pluginExtensio = _this2.pluginExtension) === null || _this2$pluginExtensio === void 0 ? void 0 : _this2$pluginExtensio.forceDegradeToVideo.apply(_this2$pluginExtensio, args);\n        };\n      }\n      if (config.isLive) {\n        var _this$player2;\n        (_this$player2 = this.player) === null || _this$player2 === void 0 ? void 0 : _this$player2.useHooks(\"replay\", function() {\n          var _this2$hls2;\n          return (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.replay();\n        });\n      }\n      this.on(Events.URL_CHANGE, onSwitchUrl);\n      this.on(Events.SWITCH_SUBTITLE || \"switch_subtitle\", this._onSwitchSubtitle);\n      this.on(Events.DESTROY, this.destroy.bind(this));\n      this._transError();\n      this._transCoreEvent(EVENT.TTFB);\n      this._transCoreEvent(EVENT.LOAD_START);\n      this._transCoreEvent(EVENT.LOAD_RESPONSE_HEADERS);\n      this._transCoreEvent(EVENT.LOAD_COMPLETE);\n      this._transCoreEvent(EVENT.LOAD_RETRY);\n      this._transCoreEvent(EVENT.SOURCEBUFFER_CREATED);\n      this._transCoreEvent(EVENT.MEDIASOURCE_OPENED);\n      this._transCoreEvent(EVENT.APPEND_BUFFER);\n      this._transCoreEvent(EVENT.REMOVE_BUFFER);\n      this._transCoreEvent(EVENT.BUFFEREOS);\n      this._transCoreEvent(EVENT.KEYFRAME);\n      this._transCoreEvent(EVENT.METADATA_PARSED);\n      this._transCoreEvent(EVENT.DEMUXED_TRACK);\n      this._transCoreEvent(EVENT.SEI);\n      this._transCoreEvent(EVENT.SEI_IN_TIME);\n      this._transCoreEvent(EVENT.SPEED);\n      this._transCoreEvent(EVENT.HLS_MANIFEST_LOADED);\n      this._transCoreEvent(EVENT.HLS_LEVEL_LOADED);\n      this._transCoreEvent(EVENT.STREAM_EXCEPTION);\n      this._transCoreEvent(EVENT.SWITCH_URL_SUCCESS);\n      this._transCoreEvent(EVENT.SWITCH_URL_FAILED);\n      this._transCoreEvent(Event.NO_AUDIO_TRACK);\n      this._transCoreEvent(Event.STREAM_PARSED);\n      this._transCoreEvent(Event.SUBTITLE_SEGMENTS);\n      this._transCoreEvent(Event.SUBTITLE_PLAYLIST);\n      this._transCoreEvent(Event.APPEND_COST);\n      if (config.url) {\n        this.hls.load(config.url, {\n          reuseMse: true\n        }).catch(function(e) {\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$pluginExtension;\n      if (this.hls) {\n        this.hls.destroy();\n        this.hls = null;\n      }\n      (_this$pluginExtension = this.pluginExtension) === null || _this$pluginExtension === void 0 ? void 0 : _this$pluginExtension.destroy();\n      this.pluginExtension = null;\n    }\n  }, {\n    key: \"_transError\",\n    value: function _transError() {\n      var _this3 = this;\n      this.hls.on(Event.ERROR, function(err) {\n        if (_this3.player) {\n          _this3.player.emit(Events.ERROR, new Errors(_this3.player, err));\n        }\n      });\n    }\n  }, {\n    key: \"_transCoreEvent\",\n    value: function _transCoreEvent(eventName) {\n      var _this4 = this;\n      this.hls.on(eventName, function(e) {\n        if (_this4.player) {\n          _this4.player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, e), {}, {\n            eventName\n          }));\n          if (eventName === EVENT.SEI_IN_TIME && _this4.hls.hasSubtitle) {\n            _this4._emitSeiPaylodTime(e);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_emitSeiPaylodTime\",\n    value: function _emitSeiPaylodTime(e) {\n      try {\n        var seiJson = JSON.parse(Array.from(e.data.payload).map(function(x) {\n          return String.fromCharCode(x);\n        }).join(\"\").slice(0, -1));\n        if (!seiJson[\"rtmp_dts\"])\n          return;\n        this.player.emit(\"core_event\", {\n          eventName: Event.SEI_PAYLOAD_TIME,\n          time: seiJson[\"rtmp_dts\"]\n        });\n      } catch (e2) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"hls\";\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported(mediaType, codec) {\n      return Hls.isSupported(mediaType, codec);\n    }\n  }]);\n  return HlsPlugin2;\n}(BasePlugin);\n_defineProperty(HlsPlugin, \"Hls\", Hls);\n_defineProperty(HlsPlugin, \"EVENT\", Event);\nexport { HlsPlugin, parseSwitchUrlArgs };\n","import { render } from \"./index.vue?vue&type=template&id=2e5fcbfa&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=2e5fcbfa&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=2e5fcbfa&lang=scss&scoped=true\"\nimport \"./index.vue?vue&type=style&index=2&id=2e5fcbfa&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e5fcbfa\"]])\n\nexport default __exports__"],"names":["DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","module","exports","require","_delegate","type","callback","useCapture","listenerFn","listener","apply","this","arguments","addEventListener","destroy","removeEventListener","delegate","elements","bind","document","querySelectorAll","Array","map","call","e","delegateTarget","target","root","factory","define","download","data","strFileName","strMimeType","blob","reader","self","window","defaultMime","mimeType","payload","url","anchor","createElement","toString","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","length","split","pop","href","indexOf","ajax","XMLHttpRequest","open","responseType","onload","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","i","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","decoder","atob","decodeURIComponent","binData","uiArr","winMode","setAttribute","className","innerHTML","style","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","replace","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","has","Object","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","slice","getOwnPropertySymbols","concat","listeners","handlers","l","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","undefined","j","on","removeAllListeners","off","prefixed","class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","_ads","item","_hoisted_4","_createVNode","_component_van_image","onClick","$event","$options","goAd","link","fit","position","picUrl","loading","_withCtx","_component_van_loading","size","_","_hoisted_5","_cache","goHome","goCategory","classifyName","_createTextVNode","_toDisplayString","title","_hoisted_6","_hoisted_7","id","_hoisted_8","_ctx","language","_hoisted_9","_createCommentVNode","_hoisted_10","titleUs","_hoisted_11","titleCn","_hoisted_12","_hoisted_13","_imports_0","alt","watchTimes","_hoisted_14","_imports_1","formatTime","createdAt","titleChinese","_hoisted_15","_hoisted_16","_hoisted_17","videos","_hoisted_18","_createBlock","_component_Card","classifyId","specialId","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","moreRelatedMap","XG_DEBUG_OPEN","STYLE","info","error","warn","XGTAG","XG_DEBUG","config","debug","logInfo","message","optionalParams","console","log","logWarn","logError","_fun","bindDebug","player","XgplayerTimeRange","bufferedList","start","index","end","util","checkIsIn","list","isObject","value","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","requestAnimationFrame","invokeFunc","time","thisArg","startTimer","pendingFunc","wait2","cancelAnimationFrame","cancelTimer","clearTimeout","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","Math","min","shouldInvoke","Date","now","trailingEdge","cancel","flush","pending","debounced","isInvoking","max","throttle","getLang","lang","documentElement","getAttribute","toLocaleLowerCase","checkIsCurrentVideo","playerId","pid","tagName","createDom","el","tpl","attrs","cname","dom","keys","forEach","createDomFromHtml","html","classname","doc","children","addClass","err","hasClass","some","classList","orgClassName","match","RegExp","add","removeClass","remove","reg","toggleClass","classNames","typeOf","join","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","maxlen","ceil","chars","r","substring","format","isNaN","round","hour","floor","minute","second","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","obj","deepCopy","dst","Node","deepMerge","getBgImage","backgroundImage","copyDom","back","attributes","node","setInterval","eventName","intervalFunc","frequency","_interval","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","btn","w","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","styleArr","arr","filterStyleFromText","_cssText","cssText","ret","remain","getStyleFromCsstext","preloadImg","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","b","diff","buffered2","buf2len","buf2end","getEventPos","zoom","x","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","media","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","d","getTime","performance","uuid","c","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","stylesKeys","lastIndex","convertDeg","abs","getIndexByTime","segments","_len","_index","getOffsetCurrentTime","currentTime","cTime","offset","getCurrentTimeByOffset","offsetTime","VERSION_REG","android","ios","H264_MIMETYPES","sniffer","device","os","isPc","browser","ua","toLowerCase","ie","firefox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","osVersion","_match","exec","version","isWeixin","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","i18n","ended","readyState","networkState","_errc","code","playerVersion","stack","host","ex","msg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","LOADED_METADATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","LEAVE_PLAYER","ENTER_PLAYER","LOADING","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","emitVideoEvent","eventKey","errorHandler","getVideoEventHandler","_err","eData","originalEvent","detail","timeStamp","paused","isInternalOp","_internalOp","muted","volume","vtype","removeInnerOP","_currentTime","_rate","playbackRate","_duration","isMutedChange","_lastMuted","mediaEventMiddleware","MediaProxy","super","_hasStart","mediaConfig","assign","controls","autoplay","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","mediaType","videoAttributes","playerType","x5VideoPlayerType","loop","autoplayMuted","defaultPlaybackRate","attachVideoEvents","setEventsMiddleware","middlewares","removeEventsMiddleware","_evHandlers","funName","charAt","toUpperCase","detachVideoEvents","_attachSourceEvents","urls","removeAttribute","load","_c","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","_detachSourceEvents","_e","pause","k","play","getBufferedRange","range","isTrue","bufferedPoint","_buffered","crossOrigin","defaultMuted","errorNote","status","rate","Infinity","played","preload","seekable","seeking","onWaiting","vol","aspectRatio","videoWidth","videoHeight","addInnerOP","offAll","INDEXDB","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","openDB","request","onsuccess","onupgradeneeded","transaction","objectStoreNames","contains","createObjectStore","keyPath","deletedb","deleteDatabase","closeDB","close","addData","storename","store","objectStore","putData","put","getDataByKey","get","deleteData","delete","clearData","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","handler","next","then","args2","hook","hookName","preset","pre","__hooks","pluginName","preRet","isContinue","catch","useHooks","removeHooks","usePluginHooks","plugins","plugin","removePluginHooks","hooksDescriptor","instance","presetHooks","defineProperty","delHooksDescriptor","runHooks","showErrorMsg","BasePlugin","defineGetterOrSetter","Obj","defaultConfig","beforeCreate","__args","__events","__onceEvents","playerConfig","__init","afterCreate","beforePlayerInit","onPluginsReady","afterPlayerInit","logger","updateLang","i18nKeys","domEventType","isArray","res","emitUserAction","action","params","nParams","registerPlugin","getPlugin","__destroy","unRegisterPlugin","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","PLUGIN_STATE_CLASS","ICON_DISABLE","ICON_HIDE","isUrl","mergeIconClass","icon","mergeIconAttr","attr","createIcon","newIcon","key2","tag","registerIconsObj","iconsConfig","_icons","icons","orgIcon","registerTextObj","textConfig","langText","Plugin","insert","parent","insertIdx","Number","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","eventType","capture","dels","__delegates","_parent","_el","_orgicons","registerIcons","defaultTexConfig","registerLanguageTexts","renderStr","render","Error","setAttr","setStyle","__registerChildren","_children","_plugin","Plugin2","checkChildren","langKey","langTextShow","changeLangTextKey","disable","find","enable","qs","bindEL","unbind","unbindEL","setHtml","htmlStr","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","pdom","child","__defProp","__defNormalProp","enumerable","configurable","writable","__publicField","ResizeObserver","entries","t","__runHandler","__handlers","observer","__trigger","addObserver","observe","_pid","unObserver","unobserve","destroyObserver","disconnect","resizeObserver","pluginsManager","pluginGroup","init","cgid","_pluginInfoId","closeResizeObserver","resize","_originalOptions","_plugins","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","lazyRegister","lazyPlugin","timeout","race","loader","__esModule","default","register","reject","originalOptions","isSupported","codecType","unRegister","_instance","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","prevTask","_loadingPlugins","all","pluginsRet","pName","afterInit","setLang","reRender","_pList","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","BUILTIN_CLASS","MOBILE","MINI","getDefaultConfig","isNoRoot","isCustomRoot","nullUrlStart","fluid","fitVideoSize","videoFillMode","isLive","videoInit","poster","isMobileSimulateMode","execBeforePluginsCall","allowSeekAfterEnded","enableContextmenu","closeVideoClick","closeVideoDblclick","closePlayerBlur","closeDelayBlur","leavePlayerTime","closePlayVideoFocus","closePauseVideoFocus","closeFocusVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","miniprogress","disableSwipeHandler","enableSwipeHandler","preProcessUrl","ignores","whitelist","inactive","marginControls","fullscreenTarget","screenShot","pip","mini","cssFullscreen","keyShortcut","presets","definition","customDuration","timeOffset","thumbnail","isHideTips","minWaitDelay","commonStyle","progressColor","playedColor","cachedColor","sliderBtnStyle","volumeColor","usePreset","Preset","presetInst","_ci18n","EN","LANG","TEXT","network","mse","parse","runtime","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","extend","i18nTextList","i18nLangs","lang2","keyLang","use","langData","_clang","texts","pId","I18N","zh","STATES","INITIAL","ATTACHING","ATTACHED","NOTALLOW","RUNNING","DESTROYED","STATE_ARRAY","InstManager","getInstance","setActive","isUserActive","_iterate","endEarly","flag","findAll","isActive","inst","isInstNext","getActiveId","setNext","isNext","checkPlayerRoot","p","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","instManager","_Player","__startTime","_useAutoplay","mediaPlay","canPlayFunc","isFullScreen","delayResize","fullEl","_fullActionFrom","props","prop","from","to","isVideo","_fullscreenEl","focus","fullscreen","changeFullStyle","_fullScreenOffset","cssfullscreen","exitCssFullscreen","needFullscreenScroll","scrollTo","left","top","recoverFullStyle","onFullscreenChange","defaultPreset","defaultIdx","userTimer","waitTimer","handleSource","_state","isError","isSeeking","isCanplay","rotateDeg","isRotateFullscreen","timeSegments","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","pi","vy","vx","sizeInfo","_accPlayed","acc","loopAcc","_offsetInfo","innerContainer","topBar","__i18n","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","_initMedia","rootInit","_initDOM","defaultDefinitionObj","defaultDefinition","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","hasStart","state","debugger","getCurrentUserActivePlayerId","setCurrentUserActive","XgVideoProxy","_nVideo","vid","line","handle","_initBaseDoms","width2","height2","getBoundingClientRect","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","_unbindEvents","mousemoveFunc","_clearUserTimer","_startInit","_root","firstChild","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","_getRootByPosition","_retPlugin","exits","deregister","removedFromConfig","removePluginFromConfig","plugin2","_furl","_preProcessUrl","lineNumber","switchURL","_src","curTime","isPaused","_error","_canplay","videoPlay","playPromise","onError","_errorTimer","mediaPause","videoPause","seek","isSeekedPlay","_status","changeDefinition","bitrate","seamless","reload","reloadFunc","resetState","REPLAY2","ERROR2","LOADING2","clsList","cls","reset","unregisterPlugins","isResetConfig","pn","de","updateAcc","exitFullscreen","cList","isBuildIn","replay","onPlay","retry","cur","_srcRet","rootClass","pClassName","_orgPCss","getFullscreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","exitRotateFullscreen","webkitExitFullScreen","getCssFullscreen","_class","useCssFullscreen","getRotateFullscreen","setRotateDeg","_rootStyle","innerHeight","deg","orientation","autoHide","delay","onFocus","blur","ignorePaused","onBlur","isLock","onEmptied","onCanplay","onDurationchange","onLoadeddata","onLoadstart","onPause","onEnded","onSeeking","onSeeked","onPlaying","onTimeupdate","onVolumechange","onRatechange","endType","_at","checkBuffer","resizePosition","_pi","_pos","offsetWidth","offsetHeight","rHeight","rWidth","formStyle","transform","webkitTransform","setConfig","playNext","containerSize","controlsHeight","videoFit","_style","paddingTop","videoScale","vWidth","vHeight","cWidth","cHeight","updateObjectPosition","objectPosition","newState","isFullscreen","isCssfullScreen","bool","isPlaying","definitionList","curDef","targetDef","_a","videoFrameInfo","total","dropped","corrupted","droppedRate","droppedDuration","getVideoPlaybackQuality","_quality","droppedVideoFrames","totalVideoFrames","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","update","fullscreenChanging","videoRotateDeg","avgSpeed","realTimeSpeed","offsetCurrentTime","offsetDuration","setUserActive","isMuted","Boolean","install","descriptor","Player","Controls","initShow","center","right","innerRoot","isMini","onMouseEnter","onMouseLeave","focusAwhile","recoverAutoHide","pauseAutoHide","LOG_TYPES","FIRST_FRAME","WAIT_START","WAIT_END","SEEK_START","SEEK_END","XGLogger","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","_startWaitTimeout","waitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","costTime","_now","_cost","_fixedCost","fixedCostTime","ReplaySvg","DOMParser","parseFromString","Replay","__handleReplay","preventDefault","path","handleReplay","Poster","isEndedShow","hideCanplay","notHidden","fillMode","onTimeUpdate","getBgSize","_bg","PlaySvg","PauseSvg","AnimateMap","addAnimate","seconds","clearAnimation","Start","autoPlayStart","onPlayPause","isShowPause","isShowEnd","disableAnimate","initIcons","onAutoplayStart","onPlayerReset","clickHandler","switchPausePlay","cancelable","startPlay","startPause","focusHide","recover","switchStatus","isAnimate","animate","endShow","_animateId","endAnimate","Enter","innerHtml","logo","HTMLElement","barStr","xgIconTips","textKey","isShow","MiniScreenIcon","getMini","exitMini","getStyleSize","num","isValid","measurements","measurementsLength","getZeroSize","innerWidth","outerWidth","outerHeight","measurement","getStyle","elem","getSize","isBorderBox","boxSizing","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","START","MOVE","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","isEnabled","isDragging","isDown","downPoint","dragPoint","startPos","_handlerDom","_bindStartEvent","_startKey","_unbindStartEvent","_bindPostStartEvents","_boundPointerEvents","_unbindPostStartEvents","onUp","onDocUp","positionDrag","webKitTransform","setLeftTop","onmousedown","dragStart","onmousemove","dragMove","onmouseup","dragEnd","ontouchstart","touchIdentifier","pointerId","ontouchmove","ontouchend","ontouchcancel","dragCancel","pointer","_getPosition","maxY","maxX","dragRealStart","presetInfo","_dragPointerMove","moveVector","hasDragStarted","dragX","dragY","checkContain","axis","drag","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","isClose","scrollY","scrollHeight","lastStyle","isShowIcon","isScrollSwitch","disableDrag","onCancelClick","onCenterClick","_draggabilly","onScroll","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","switchPlayPause","initEvents","onVideoClick","onVideoDblClick","onContextmenu","returnValue","cancelBubble","PRESS","PRESS_END","DOUBlE_CLICK","CLICK","TOUCH_MOVE","TOUCH_START","TOUCH_END","TOUCHS","move","MOUSES","pressDelay","dbClickDelay","disablePress","disableDbClick","miniStep","needPreventDefault","Touche","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","moving","press","__setDb","diffx","diffy","pressIntrvalId","dbIntrvalId","_initEvent","onTouchStart","__clearDb","touchend","touchmove","SeekTipIcon","ACTIONS","AUTO","PLAYBACK","LIGHT","MobilePlugin","touche","getTouche","disableGesture","isStart","timer","rect","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","miniMoveStep","hideControlsActive","scope","checkScope","gestureY","gestureX","executeMove","resetSeekState","endLastMove","resetPos","changeAction","checkIsRootTarget","light","gradient","isTouchingSeek","miniYPer","pressRate","darkness","maxDarkness","disableActive","disableTimeProgress","hideControlsEnd","moveDuration","closedbClick","disableSeekIcon","focusVideoClick","seekTipIcon","xgMask","initCustomStyle","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","eventsMap","pressend","doubleclick","progressPlugin","progress","addCallBack","activeSeekNote","forward","usable","createThumbnail","timePreview","timePreviewStyle","curTimeColor","durationColor","backgroundColor","previewDom","curColor","durColor","color","startPlugin","mold","updateTime","updateBrightness","updateVolume","lastScope","toFixed","sendUseAction","dbClickHandler","onDbClick","onPress","onPressEnd","percent","updatePercent","isForward","updateThumbnails","enableGesture","isDisableTag","isContentEditable","Keyboard","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","seekStep","checkVisible","keyCodeMap","mergekeyCodeMap","extendkeyCodeMap","key1","space","noBodyTarget","up","down","pressAction","esc","isPress","tt","onKeydown","onBodyKeyDown","newConfig","rec","bottom","isBodyTarget","downVolume","upVolume","_time","_step","_seekTime","seekBack","changePlaybackRate","playPause","handleKeyCode","curKeyCode","_action","loadingIcon","Loading","TPL","styleKey","InnerList","fragments","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedIndex","playedIndex","focusIndex","updateDuration","updateProgress","newIndex","curIndex","millisecond","progressList","curPFrag","per","updateFocus","unHightLight","_data","preIndex","fragment","newPIndex","findIndex","setHightLight","cached","newCIndex","findHightLight","findFragment","newOptions","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","_ePos","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","isPauseMoving","closeMoveSeek","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","onMoveEnd","_mouseUpHandlerHook","isEnter","miniStartStep","_mouseMoveHandlerHook","unlock","useable","__dragCallBacks","direc","_disableBlur","isDragingSeek","isCloseClickSeek","endedDiff","changeState","_initInner","innerList","outer","isMobile","onCacheUpdate","onReset","onVideoResize","bindDomEvents","frags","boxShadow","removeCallBack","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","onMouseOver","onMouseOut","onBodyClick","disableBlur","enableBlur","realTime","rLeft","timeIcon","resetActive","notSeek","_end","thumbnailPlugin","controlsMode","Icon","_onMouseenter","_onMouseLeave","Play","btnClick","tipDom","BackSVG","TopBackIcon","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","rotateFullscreen","useScreenOrientation","lockOrientationType","switchCallback","needBackIcon","handleFullscreen","toggleFullScreen","tipsDom","topBackIcon","_onOrientationChange","unlockScreen","e2","lockScreen","screen","lock","Time","isActiving","constrolsMode","createCenterTime","durationDom","timeDom","centerCurDom","centerDurDom","current","minWidthTime","changeLiveState","timeStr","updateState","TimeSegmentsControls","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","getSeekTime","_onDurationChange","_onLoadedData","_onPlay","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","diff2","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isMoving","unFocus","showValueLabel","updateVolumeValue","miniVolume","volumeSmall","volumeLarge","volumeMuted","_timerId","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","$labelValue","innerText","isForce","isShowVolumeValue","RotateSvg","Rotate","innerRotate","clockwise","onBtnClick","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","_transform","_styles","transformOrigin","times","factor","PipIcon","PipIconExit","PresentationMode","INLINE","isPIPAvailable","isPip","exitPIP","requestPIP","showIcon","preferDocument","docPiPNode","docPiPStyle","checkWebkitSetPresentationMode","webkitSetPresentationMode","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","pipWindow","enterPIPCallback","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","copyStyleIntoPiPWindow","pipWin","textContent","styleSheets","style2","cssRules","rule","rel","head","isDocPIPAvailable","pipOptions","playerRect","documentPictureInPicture","requestWindow","pipRoot","parentElement","previousSibling","nextSibling","append","cssContent","requestPictureInPicture","reason","exitPictureInPicture","pictureInPictureElement","_isEnabled","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","protocol","Next","PlayNextIcon","idx","urlList","nextHandler","changeSrc","DownloadSvg","Download","dUrl","newUrl","getAbsoluteURL","downloadUtil","_handler","div","ScreenShot","quality","saveImg","fitVideo","screenshotIcon","initSize","onClickBtn","saveScreenShot","filename","saveLink","initMouseEvent","dispatchEvent","createCanvas","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","option","mediaRatio","canvasRatio","sx","sy","sw","sh","dx","dy","dw","dh","drawImage","toDataURL","OptionList","maxHeight","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","changeCallback","curSelected","getAttrObj","LIST_TYPES","SIDE","MIDDLE","TOGGLE_MODES","HOVER","getListClassName","listType","IS_MOBILE","OptionsIcon","switchActiveState","toggleMode","toggle","enterType","isIcons","curValue","listStyle","hidePortrait","isItemClickHide","heightLimit","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","getTextByLang","curItem","changeCurrentText","itemList","_maxH","DefinitionIcon","changeDefinitionList","initDefinition","items","showItem","PlaybackRate","curRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","handleCssFullscreen","contentIcon","switchTips","ErrorPlugin","errorRetry","handleError","Prompt","interval","highlight","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","updateDot","needShow","dot","showDot","deleteDot","del","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","_pop","pRect","rect1","_left","_diff","getAllDotsDom","getDotDom","initDotsAPI","ispots","progressDot","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","isHideThumbnailHover","isDrag","_curDot","onDotMouseLeave","blurDot","focusDot","videoPreview","videothumbnail","miniWidth","defaultText","isFocusDots","isShowThumbnail","isShowCoverPreview","handlerSpotClick","_event","transformTimeHook","setTimeContent","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","onProgressMove","updatePosition","onProgressDragStart","onProgressDragEnd","onProgressClick","updateLinePos","cwidth","isflex","lwidth","updateTimeText","showTips","hideTips","thumbnailConfig","tRoot","totalWidth","widthPerSeconds","_activeDotId","isDefault","Thumbnail","pic_num","col","row","ratio","_preloadMark","initThumbnail","getUrlByIndex","getPosition","containerWidth","containerHeight","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","backgroundPosition","customStyle","changeConfig","getBgColor","MiniProgress","stateClass","MODES","REAL_TIME","FRAME_RATE","POSTER","nowTime","checkIsSupportCanvas","ctx","isSupportCanvas","DynamicBg","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","isInnerRender","frameRate","addMask","multiple","maskBg","supportCanvasFilter","dynamicBg","rwidth","rheight","renderByPoster","onLoadedData","onVisibilitychange","canvasFilter","webkitFilter","mask","background","_p","_tVideo","HTMLVideoElement","flyVideo","_tagName","updateImg","image","sourcePI","ZH","INFO","Stats","actionData","_getTime","_stats","stats","getStats","JSON","stringify","downloadUrl","disabled","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","downloadStats","profile","_infoProfile","_info","startMs","endMs","dur","cat","ph","tid","ts","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","allStat","msgs","stat","traceEvents","GapJump","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","seekEnd","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","DEFAULT_SPEED_TYPE","SPEED_TYPE","TestSpeed","speedListCache","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","headers","Range","setRequestHeader","onreadystatechange","getResponseHeader","saveSpeedMax","shift","getSpeedName","updateSpeed","getSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","tick","stuckCount","reportFrame","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","_startTick","_stopTick","_timer","_checkDecodeFPS","_checkBuffer","enoughBuffer","buffers","_checkStuck","curDecodedFrames","checkInterval","hidden","_reset","currTime","curDecoded","DefaultPreset","simulateMode","basePlugin","vodPlugins","contolsIcons","layers","PresetPlayer","_iterableToArrayLimit","_i","Symbol","iterator","_r","_arr","_n","done","return","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_regeneratorRuntime","Op","hasOwn","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","value2","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","next2","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","async","iter","reverse","skipTempReset","prev","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_typeof","obj2","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_classCallCheck","Constructor","_defineProperties","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","o2","p2","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_slicedToArray","_arrayWithHoles","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","minLen","n","arr2","_toPrimitive","input","hint","prim","toPrimitive","_construct","Parent","Class","Parent2","Class2","Function","_isNativeFunction","_wrapNativeSuper","Map","set","Wrapper","_superPropBase","property","_get","receiver","base","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","step","_ERR_CODE","Buffer","Buffer2","buf","maxHole","buffers2","bufLen","lastEnd","reduce","nextStart","nextEnd","prevStart","prevEnd","behind","remaining","totalLength","isBrowser","ERR","MANIFEST","NETWORK","NETWORK_TIMEOUT","NETWORK_FORBIDDEN","NETWORK_NOTFOUND","NETWROK_RANGE_NOT_SATISFIABLE","DEMUX","REMUX","MEDIA","DRM","OTHER","RUNTIME","SUB_TYPES","FLV","HLS","MP4","FMP4","MSE_ADD_SB","MSE_APPEND_BUFFER","MSE_OTHER","MSE_FULL","MSE_CHANGE_TYPE","OPTION","DASH","LICENSE","CUSTOM_LICENSE","MSE_HIJACK","EME_HIJACK","SIDX","NO_CANPLAY_ERROR","BUFFERBREAK_ERROR","WAITING_TIMEOUT_ERROR","MEDIA_ERR_CODEC_NOT_SUPPORTED","MEDIA_ERR_URL_EMPTY","ERR_CODE","StreamingError","_Error","StreamingError2","_super","subType","origin","_this","_error$response","isTimeout","httpCode","LogCacheLevel","LOG_MAX_SIZE","SIMPLE_TYPE","Logger","Logger2","_prefix","logCacheLevel","logMaxSize","logSize","logTextArray","_console","_key","logCache","DEBUG","_console2","_len2","_key2","LOG","_console3","_len3","_key3","WARN","_console4","_len4","_key4","_len5","logText","_key5","finLogText","logable","delLog","_console5","group","table","groupEnd","toLocaleString","reduceDepth","objType","maxDepth","depth","includes","createPublicPromise","rej","promise","used","SafeJSON","getMediaSource","preferMMS","ManagedMediaSource","isMMS","mediaSource","getTimeRanges","ranges","TimeRanges","OP_NAME","APPEND","REMOVE","UPDATE_DURATION","MSE","MSE2","_this2","queue","_queue","op","opName","_this2$_sourceBuffer$","_op$context","costtime","_opst","_sourceBuffer","_startQueue","_config","bindMedia","openLog","_this$mediaSource","_this3","_url","_this$mediaSource2","streaming","_mseFullFlag","VIDEO","_this4","isReduceDuration","bufferEnd","_enqueueBlockingOp","_this5","_openPromise","isOpened","ms","onOpen","onOpen2","_st","_bindMedia","_callee","MediaSource2","useMMS","_this6","_context","unbindMedia","_onStartStreaming","_onEndStreaming","disableRemotePlayback","_unbindMedia","_callee2","hasMetadata","mseOpen","_this7","_context2","_x$promise","_x$promise$resolve","endOfStream","removeSourceBuffer","sb","addSourceBuffer","_onSBUpdateEnd","_onSBUpdateError","_this8","changeType","_enqueueOp","createSource","buffer","_this9","byteLength","_this9$_sourceBuffer$","appendBuffer","endTime","_this10","isInsertHead","_this11","_this12","allClear","_this$_queue$type","initQueue","isinit","_this13","setLiveSeekableRange","_this14","_enqueueBlockingOp2","_callee3","types","waiters","_this15","_context3","prom","updating","_x2","_x3","_x4","isFull","timestampOffset","_this16","_this17","abort","EVENT","TTFB","LOAD_RESPONSE_HEADERS","LOAD_COMPLETE","LOAD_RETRY","SOURCEBUFFER_CREATED","MEDIASOURCE_OPENED","ANALYZE_DURATION_EXCEEDED","APPEND_BUFFER","REMOVE_BUFFER","BUFFEREOS","KEYFRAME","CHASEFRAME","METADATA_PARSED","SEI","SEI_IN_TIME","FLV_SCRIPT_DATA","LOWDECODE","SWITCH_URL_SUCCESS","SWITCH_URL_FAILED","SPEED","HLS_MANIFEST_LOADED","HLS_LEVEL_LOADED","DEMUXED_TRACK","STREAM_EXCEPTION","LARGE_AV_FIRST_FRAME_GAP_DETECT","LARGE_VIDEO_DTS_GAP_DETECT","LARGE_AUDIO_DTS_GAP_DETECT","AUDIO_GAP_DETECT","AUDIO_OVERLAP_DETECT","MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT","isMediaPlaying","creationTime","webkitDroppedFrameCount","webkitDecodedFrameCount","concatUint8Array","prevLen","sleep","SeiService","SeiService2","Set","sei","_seiSet","toThrow","GapService","GapService2","maxJumpDistance","seekThreshold","_prevCurrentTime","Stats2","timescale","_timescale","encodeType","audioCodec","videoCodec","fps","samplerate","channelCount","gop","encode","_ref","_data$onMetaData","onMetaData","framerate","track","codec","fpsNum","fpsDen","sampleRate","responseUrl","samples","sample","_startGopId","gopId","_bitsAccumulateDuration","_bitsAccumulateSize","units","MediaStatsService","MediaStatsService2","core","_core","_this$_core","_this$_core2","_this$_core2$speedInf","_this$_core3","_this$_core3$speedInf","_this$_core4","_this$_core4$speedInf","_this$_core5","_this$_core5$speedInf","_this$_core6","_this$_core6$bufferIn","_ref2","_ref2$currentTime","_ref2$decodeFps","decodeFps","downloadSpeed","speedInfo","totalReceivedByte","totalSize","totalReceivedCost","totalCost","bufferInfo","_ref3","videoTrack","updateBitrate","setFpsFromScriptData","setVideoMeta","setAudioMeta","setDomain","_samples","TrackType","AUDIO","METADATA","VideoCodecType","AV1","AVC","HEVC","AudioCodecType","AAC","G711PCMA","G711PCMU","OPUS","WarningType","LARGE_AV_SHIFT","LARGE_VIDEO_GAP","LARGE_VIDEO_GAP_BETWEEN_CHUNK","LARGE_AUDIO_GAP","AUDIO_FILLED","AUDIO_DROPPED","AudioSample","AudioSample2","pts","sampleOffset","dependsOn","isNonSyncSample","originPts","dts","isFirefox","AAC2","FREQ","skip","frames","samplingFrequencyIndex","protectionSkipBytes","frameLength","objectType","_AAC$_getConfig","_getConfig","frameIndex","getFrameDuration","subarray","originCodec","_AAC$_getConfig2","samplingIndex","originObjectType","extensionSamplingIndex","LARGE_AV_FIRST_FRAME_GAP","AUDIO_GAP_OVERLAP_THRESHOLD_COUNT","MAX_SILENT_FRAME_DURATION","AUDIO_EXCETION_LOG_EMIT_DURATION","MAX_VIDEO_FRAME_DURATION","MAX_DTS_DELTA_WITH_NEXT_CHUNK","LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD","TsFixer","TsFixer2","audioTrack","metadataTrack","fixerConfig","_baseDts","_baseVideoDts","_baseAudioDts","_baseDtsInited","_audioNextPts","_videoNextDts","_audioTimestampBreak","_videoTimestampBreak","_lastAudioExceptionGapDot","_lastAudioExceptionOverlapDot","_lastAudioExceptionLargeGapDot","_needForceFixLargeGap","forceFixLargeGap","_largeGapThreshold","largeGapThreshold","discontinuity","contiguous","vSamples","aSamples","firstVideoSample","firstAudioSample","vaDelta","_calculateBaseDts","vDeltaToNextDts","aDeltaToNextDts","_resetBaseDtsWhenStreamBreaked","_fixAudio","_fixVideo","exist","seiSamples","baseMediaDecodeTime","samp0","_samples$","refSampleDurationInt","sampleDuration","firstSample","nextSample","vDelta","warnings","nextDts","firstSampleDts","nextSampleDts","i2","_samples$i","prevDts","first","_dts","_nextSample","expectFragEnd","originDts","refSampleDuration","_doFixAudioInternal","audioSamps","videoSamps","audioBasePts","videoBaseDts","baseDts","delta","largeGap","isFinite","calc","_audioLastSample","_videoLastSample","nextPts","silentFrame","getSilentFrame","count","silentSample","MAX_SIZE","pow","readBig16","readBig24","readBig32","readBig64","getAvcCodec","codecs","combineToFloat","integer","decimal","toDegree","matrix","scaled0","hypot","scaled1","atan2","PI","NALu","NALu2","dataLen","isHevc","uint","emulationPreventionBytesPositions","newLength","newData","sourceIndex","ExpGolomb","ExpGolomb2","_bytesAvailable","_loadWord","_bitsAvailable","availableBytes","workingBytes","_word","DataView","getUint32","skipBytes","bits","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","deltaScale","lastScale","nextScale","readEG","AVC2","spsParsed","spsSize","nalUnitSize","spsArr","ppsArr","spsCount","sps","parseSPS","removeEPB","ppsSize","ppsCount","eg","readUByte","profileIdc","profileCompatibility","levelIdc","skipUEG","chromaFormat","chromaFormatIdc","readBool","scalingListCount","skipScalingList","picOrderCntType","numRefFramesInPicOrderCntCycle","_i2","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","sarRatio","fixedFrame","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","aspectRatioIdc","numUnitsInTick","timeScale","HEVC2","hvcC","vpsParsed","nalUnitType","numNalus","nalSize","vpsArr","numOfArrays","vps","parseVPS","vpsMaxSubLayersMinus1","numTemporalLayers","_parseProfileTierLevel","spsMaxSubLayersMinus1","temporalIdNested","separateColourPlaneFlag","confWinLeftOffset","confWinRightOffset","confWinTopOffset","confWinBottomOffset","conformanceWindowFlag","bitDepthLumaMinus8","bitDepthChromaMinus8","subWidthC","subHeightC","maxSubLayersMinus1","generalTierFlag","generalProfileSpace","generalProfileIdc","generalProfileCompatibilityFlags","generalConstraintIndicatorFlags","generalLevelIdc","subLayerProfilePresentFlag","subLayerLevelPresentFlag","bitsAvailable","VideoTrack","VideoTrack2","sequenceNumber","present","pps","isVideoEncryption","AudioTrack","AudioTrack2","isAudioEncryption","VideoSample","VideoSample2","keyframe","Sample","Sample2","SeiSample","_Sample2","SeiSample2","_super2","MetadataTrack","MetadataTrack2","flvScriptSamples","TsDemuxer","TsDemuxer2","_fixer","_pmtId","_remainingPacketData","_videoPesData","_audioPesData","remainingLength","videoPid","audioPid","payloadUnitStartIndicator","adaptationFiledControl","tableEnd","programInfoLength","esPid","_parseVideoData","_parseAudioData","formatTimescale","fix","demux","pes","_parsePES","parseAnnexB","_createVideoSample","setToKeyframe","_gopId","parseSEI","spsInfo","ffByteFound","_pushVideoSample","lastSample","_parseAacData","_track$samples","parseADTS","sampleRateIndex","headerDataLen","startPrefix","pesLen","ptsDtsFlags","ByteReader","ByteReader2","dv","byteOffset","byteNum","getFloat32","getFloat64","getInt8","getInt16","getInt32","getUint8","getUint16","read","setUint8","setUint16","setUint32","uint8","unreadLength","fromCharCode","v","concatUint8s","BitReader","BitReader2","byte","MP4Parser","MP4Parser2","headerSize","subData","findBox","box","parseBox","trackId","baseDataOffsetPresent","flags","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","baseDataOffset","sampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","reference_ID","earliest_presentation_time","first_offset","references","ref","tmp32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","mvhd","trak","pssh","nextTrackId","tkhd","mdia","fromUint8","int32","caculatedMatrix","readInt","rotation","mdhd","hdlr","minf","handlerType","vmhd","smhd","stbl","graphicsmode","opcolor","balance","_ret$stsd$entries$","_ret$stsd$entries$$si","_ret$stsd$entries$$si2","stsd","stts","ctts","stsc","stsz","stco","co64","default_IV_size","sinf","schi","tenc","stss","senc","iv","sampleCount","InitializationVector","subsamples","subsampleCount","_j","subsample","BytesOfClearData","BytesOfProtectedData","keyIds","systemId","toHex","numKeyIds","keyId","dataSize","data_size","kid","system_id","entryCount","av01","avc1","hvc1","mp4a","alaw","ret2","data2","start2","samplesize","esds","horizresolution","vertresolution","avcC","pasp","default_IsEncrypted","default_KID","frma","data_format","colorType","readString","colorPrimaries","transferCharacteristics","matrixCoefficients","fullRangeFlag","iccProfile","readToUint8","bodyStart","parseVisualSampleEntry","bodyData","av1C","colr","bitdepth","bit","fromByte","marker","seqProfile","seqLevelIdx0","seqTier0","highBitdepth","twelveBit","monochrome","chromaSubsamplingX","chromaSubsamplingY","chromaSamplePosition","reserved","initialPresentationDelayPresent","initialPresentationDelayMinusOne","configOBUs","configurationVersion","AVCProfileIndication","AVCLevelIndication","lengthSizeMinusOne","spsLength","ppsLength","_i3","_size","tmp","generalProfileCompatibility","avgFrameRate","_ret$vps","nalus","_ret$sps","_ret$pps","hSpacing","vSpacing","parseAudioSampleEntry","byteRead","_i4","firstChunk","samplesPerChunk","sampleSize","entrySizes","mfhd","traf","tfhd","tfdt","trun","dataOffset","firstSampleFlags","cts","isLeading","isDependedOn","hasRedundancy","paddingValue","degradationPriority","moov","_e$esds","_e$esds2","tracks","vTrack","_t$mdia","_t$mdia$hdlr","aTrack","_t$mdia2","_t$mdia2$hdlr","_vTrack$tkhd","_vTrack$mdia","_vTrack$mdia$minf","_vTrack$mdia$minf$stb","_vTrack$mdia2","_vTrack$mdia2$minf","_vTrack$mdia2$minf$st","_vTrackId","tkhdDuration","mvhdDurtion","mvhdTimecale","_e1$sinf","_e1$sinf$schi","_e1$sinf2","_e1$sinf2$schi","_e1$sinf3","_e1$sinf3$schi","_e1$sinf4","_e1$sinf4$frma","e1","videoSenc","useEME","kidValue","encv","_aTrack$tkhd","_e$esds3","_e$esds4","_aTrack$mdia","_aTrack$mdia$minf","_aTrack$mdia$minf$stb","_aTrack$mdia2","_aTrack$mdia2$minf","_aTrack$mdia2$minf$st","_aTrackId","_e$sinf","_e$sinf$frma","_e$sinf2","_e$sinf2$schi","_e$sinf3","_e$sinf3$schi","_e$sinf4","_e$sinf4$schi","getRateIndexByRate","audioSenc","enca","_videoTrack$encv","_audioTrack$enca","vkid","akid","videoSampleCount","_audioTrack$samples","audioSampleCount","segmentDuration","moof","defaultSize","defaultDuration","evaluateDefaultDuration","_t$mdia3","_t$mdia3$hdlr","_t$mdia4","_t$mdia4$hdlr","videoSamples","audioSamples","_vTrack$mdia3","_vTrack$mdia3$minf","videoStbl","getSamples","_aTrack$mdia3","_aTrack$mdia3$minf","_aTrack$mdia$mdhd","audioStbl","_stts","_stsc","_stsz","_stco","keyframeMap","cttsArr","cttsEntries","stscEntries","stcoEntries","stszEntrySizes","stssEntries","chunkIndex","chunkRunIndex","offsetInChunk","lastSampleInChunk","lastChunkInRun","dataReferenceIndex","frameCount","isFullBox","Decryptor","Decryptor2","crypto","msCrypto","subtle","webkitSubtle","externalDecryptor","_this$externalDecrypt","_decryptSegment","_decryptSegment2","seg","_decryptData","keyIv","_decryptData2","aesKey","decrypt","importKey","t0","t1","_x5","_x6","_x7","FMP4Demuxer","FMP4Demuxer2","partData","partDataStart","videoExist","audioExist","isAV01","dataStart","__lastRemainData","lastRemainDataEnd","__lastRemainDataStart","continuous","noDuplicateData","__nextMoofStart","moovBox","dataEnd","moovToTrack","moofBoxes","moofBox","__loadedMoofWraps","nextMoofStart","_iterator","_loop","moofWrap","moofStart","moofToSamples","videoBaseMediaDecodeTime","audioBaseMediaDecodeTime","xStart","sampleData","videoData","audioData","baseOffset","_moovBox","_moofBox","_baseOffset","probe","Concat","ResultConstructor","arrays","UINT32_MAX","MP42","FTYPHEV1","FTYPAVC1","ftyp","content","mvex","mvhd2","trak2","tkhd2","mdia2","mdhd2","hdlr2","HDLR_TYPES","minf2","VMHD","SMHD","DINF","extBox","stbl2","STTS","STSC","STSZ","STCO","opus","avc1hev1","stsd2","_concat$concat","avcc","btrt","schm","typ","boxes","fiel","_concat$concat2","hvcC2","ArrayBuffer","pcf","cif","write","_ref4","esds2","opusAudioDescription","opusSpecificConfig","dOps","Opus","mvex2","trex","trex2","moof2","mfhd2","sencLength","videoSencLength","saiz","saio","trun1","traf2","_sbgp","sbgp","_saiz","_saio","_senc","_trun2","_traf","_trun","_trun3","_sbgp2","_saiz2","_saio2","_senc2","_trun4","_traf2","sdtp","extension","writeUint32","samplesLength","writeUint16","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","sampleLen","_samples$i$flag","_samples$i$cts","trackMP4","mdiaMP4","minfMP4","stblMP4","_ref5","_ref6","sampleDescIndex","samplesSizes","offsets","keyframeIndexes","_ref7","styp","durationCount","earliestTime","mdatSize","sidx","mdat2","mdat","dinf","dref","StblTable","FMP4Remuxer","FMP4Remuxer2","browserVersions","forceFirstIDR","videoInitSegment","audioInitSegment","initSegment","videoSegment","audioSegment","createInit","hasVideo","hasAudio","initMerge","hasSample","_remuxVideo","_remuxAudio","mdata","_sample","mdatView","_offset2","_sample2","u","_offset","STREAM_PARSED","NO_AUDIO_TRACK","SUBTITLE_SEGMENTS","SUBTITLE_PLAYLIST","SEI_PAYLOAD_TIME","APPEND_COST","Transmuxer","Transmuxer2","hls","isMP4","needRemux","_demuxer","_isMP4","_remuxer","videoChunk","audioChunk","needInit","demuxer","demuxAndFix","vParsed","firstDts","firstPts","samplesDuration","aParsed","newId","_initSegmentId","_fireEvents","mseLowLatency","totalDuration","_this$_remuxer$remux","remux","logCC","meta","_excluded","_excluded2","BufferService","BufferService2","softDecode","_softVideo","_mse","decryptor","_decryptor","_this$_transmuxer","_this$_transmuxer$_de","_this$_transmuxer$_de2","_transmuxer","_this$_mse","_this$_mse2","_this$_mse3","hasOpTasks","_this$_mse4","_updateDuration","_sourceCreated","chunk","_directAppend","mix","_createMseSource","_appendBuffer","segment","afterAppend","_this$_transmuxer$tra","_this$_transmuxer$tra2","isFirstAppend","videoRest","audioRest","_this2$hls","_this2$hls2","_needInitSegment","transmux","setTrackExist","_handleCodecChange","task","_x8","_removeBuffer","_args3","clearBuffer","removeEnd","removeBuffer","_evictBuffer","_callee4","bufferBehind","_context4","evictBuffer","_x9","_clearAllBuffer","_callee5","_context5","clearAllBuffer","_callee6","reuseMse","_args6","_context6","_endOfStream","_callee7","_context7","_setLiveSeekableRange","_callee8","_context8","_x10","_x11","_detachMedia","_callee9","_context9","detachMedia","_destroy","_callee10","_this$_decryptor","_context10","tasks","codecList","sourceBuffer","getSourceBuffer","_this$_mse5","getConfig","cfg","maxPlaylistSize","retryCount","retryDelay","pollRetryCount","loadTimeout","manifestLoadTimeout","preloadTime","useLowLatency","targetLatency","maxLatency","allowedStreamTrackChange","seiInTime","manifestList","minSegmentsStartPlay","preferMMSStreaming","LoaderType","FETCH","XHR","ResponseType","ARRAY_BUFFER","NetError","NetError2","isPlainObject","isDate","getRangeValue","setUrlParams","hashIndex","createResponse","contentLength","age","firstByteTime","priOptions","calculateSpeed","byteLen","milliSecond","CACHESIZE","FetchLoader","_EventEmitter","FetchLoader2","_this$_abortControlle","onProgress","onTimeout","onCancel","transformResponse","credentials","cache","redirect","referrer","referrerPolicy","onProcessMinLen","_aborted","_onProcessMinLen","_onCancel","_abortController","AbortController","_running","_range","_vid","_priOptions","signal","_timeoutTimer","rangeValue","Headers","fetch","_response","ok","json","_loadChunk","arrayBuffer","_cancel","_reader","st","getReader","_writeIdx","pump","_this3$_range","startRange","startByte","curLen","retData","temp","_receivedLength","loaderType","onRetryError","transformRequest","transformError","integrity","XhrLoader","XhrLoader2","req","_onProgress","_headers","_withCredentials","_body","_method","_timeout","_runing","_responseType","_firstRtt","_onTimeout","_request","_loadCompleteResolve","_loadCompleteReject","_startLoad","chunkSize","_currentChunkSizeKB","_internalOpen","_startTime","_xhr","withCredentials","_onLoad","_onReadyStatechange","errorEvent","_errorEvent$currentTa","_errorEvent$currentTa2","_errorEvent$currentTa3","currentTarget","statusText","ontimeout","_this$_range","byteStart","_this$_range2","responseURL","_getHeaders","_transformResponse","headerLines","getAllResponseHeaders","header","Task","Task2","alive","_loaderType","_loader","_retryCount","_retryTimer","_canceled","_retryCheckFunc","retryCheckFunc","_this$_config","rest","isRetry","running","NetLoader","NetLoader2","_currentTask","_processTask","cancels","_alive","finally","_this3$_currentTask","_this3$_alive","MasterPlaylist","MasterPlaylist2","MediaType","Audio","Video","SubTitle","ClosedCaptions","KeySystems","CLEAR_KEY","FAIRPLAY","WIDEVINE","PLAYREADY","flatArray","MediaStream","MediaStream2","AudioStream","_MediaStream","AudioStream2","SubTitleStream","_MediaStream3","SubTitleStream2","_super3","MasterStream","MasterStream2","MediaPlaylist","MediaPlaylist2","MediaSegment","MediaSegment2","parentUrl","prevSegment","byteRange","bytes","MediaSegmentKey","MediaSegmentKey2","segKey","keyFormat","keyFormatVersions","sn","setIVFromSN","isKeyFormatValid","isMethodValid","isSegmentEncrypted","isValidKeySystem","REGEXP_TAG","REGEXP_ATTR","REGEXP_ABSOLUTE_URL","REGEXP_URL_PAIR","getLines","parseTag","parseAttr","getAbsoluteUrl","pairs","CODECS_REGEXP","getCodecs","re","isValidDaterange","dateRangeWithSameId","_badValueForSameId","DURATION","_endDate","_startDate","cue","enumeratedStringList","CUE","post","ID","END_ON_NEXT","CLASS","attrValue","dict","parseMasterPlaylist","lines","master","audioStreams","subtitleStreams","_tag","stream","TYPE","URI","autoSelect","AUTOSELECT","NAME","LANGUAGE","CHANNELS","channels","_stream","_attr","BANDWIDTH","RESOLUTION","_attr$RESOLUTION$spli","_attr$RESOLUTION$spli2","CODECS","textCodec","audioGroup","subtitleGroup","SUBTITLES","streams","stream2","parseMediaPlaylist","curSegment","curInitSegment","curKey","curSN","curCC","endOfList","partSegmentIndex","targetDuration","lowLatency","partTargetDuration","canBlockReload","partHoldBack","canSkipUntil","canSkipDateRanges","startSN","startCC","setByteRange","_attr2","independent","cc","partIndex","clone","dataTime","_data$split","_data$split2","_attr3","METHOD","KEYFORMAT","KEYFORMATVERSIONS","IV","_attr4","BYTERANGE","isInitSegment","_attr5","skippedSegments","MAX_SAFE_INTEGER","_attr6","dateRanges","endDate","END_DATE","lastSegment","isLast","endSN","endPartIndex","live","endCC","M3U8Parser","M3U8Parser2","isMediaPlaylist","ManifestLoader","ManifestLoader2","elapsed","retryTime","_useLowLatency","_this$hls$config","fetchOptions","_onLoaderRetry","_audioLoader","_subtitleLoader","_load","audioUrl","subtitleUrl","toLoad","videoText","audioText","subtitleText","videoResUrl","audioResUrl","subtitleResUrl","_yield$Promise$all","_yield$Promise$all2","subtitle","_audio$response","_subtitle$response","_audio$response2","onPreM3U8Parse","playlist","audioPlaylist","subtitlePlaylist","_playlist","_emitOnLoaded","isMaster","_playlist2","cb","errorCb","clamp","Stream","Stream2","_setLLPlaybackPoint","_this$segments$","_this$lastSegment","lastSeg","_this$currentSubtitle","currentSubtitleStream","currentAudioStream","_clearSegments","snDiff","_updateSegments","newSegs","segs","toSwitch","maxStartPoint","usefulSegs","sliceStart","segObj","_endSeg$sn","endSeg","hasNew","toAppend","endTimeBeforeAppend","lastCC","Playlist","Playlist2","_this$currentStream","currentStream","_this$currentStream2","_this$currentSegments","currentSegments","_segmentPointer","_this$currentSegments2","_this$currentStream3","_this$currentStream4","currentSubtitleEndSn","_this$currentStream5","liveEdge","_this$currentStream6","_this$currentSegments3","_this$currentSegments4","_this$currentStream7","_this$currentStream8","_this$currentStream9","getAudioSegment","_this$currentSegments5","dvrWindow","_this$currentSegments6","_this$currentSegments7","setNextSegmentByIndex","newSubtitleSegs","updateSubtitle","_this$currentSegments8","_this$currentStream10","switchSubtitle","clearOldSegment","nbSb","findSegmentIndexByTime","getSegmentByIndex","updateSegmentsRanges","SKIP_SMALL_CHUNK","MAX_CHUNK_SAVE_SIZE","MAX_SEGMENT_SAVE_SIZE","LONGTIME_NO_RECEIVE","BandwidthService","BandwidthService2","opts","_opts","totalByte","_speeds","_this$_opts","_this$_opts2","skipChunkSize","_totalSize","_totalCost","_chunkSpeed","_chunkCache","chunkCountForSpeed","_this$_opts3","cost","longtimeNoReceived","SegmentLoader","SegmentLoader2","_bandwidthService","addRecord","_mapCache","_keyCache","_segmentLoader","_audioSegmentLoader","_keyLoader","getLatestSpeed","getAvgSpeed","audioSeg","loadInit","loadAudioInit","loadVideoSegment","loadAudioSegment","_loadSegment","_loadSegment2","segLoader","_seg$key","mapKey","mapKeyIv","_seg$initSegment$key","mapUrl","_keyUrl","keyUrl","Hls","Hls2","_cfg","_this$_playlist","nextSegment","_assertThisInitialize","minFrameDuration","maxBufferThroughout","bInfo","bufferThroughout","_segmentProcessing","_tryEos","_bufferService","msStreaming","_urlSwitching","_prevSegSn","_loadSegmentDirect","_disconnectTimer","_reloadOnPlay","disconnectTime","_clear","seekRange","newSeekTime","curSeg","segIndex","_onCheckQuotaExceeded","currentSegment","_this$_seiService","latency","_seiService","throw","_checkStreamTrackChange","segLoaderError","_isProcessQuotaExceeded","bufferMaxHoleTolerance","fatal","_emitError","_gapService","do","_manifestLoader","_onLoadeddata","_onPause","hasSubtitle","_this$_bufferService","targetSeg","_this$media","_args4","clearSwitchStatus","_switchUrlOpts","_loadData","_loadData2","manifest","_this$_switchUrlOpts","_this$_switchUrlOpts3","_this$_switchUrlOpts4","_this$_switchUrlOpts2","switchTimePoint","segIdx","nextSeg","bufferClearStartPoint","_this$_switchUrlOpts5","_loadM3U8","setNextSegmentBySN","_prevSegCc","_getSeamlessSwitchPoint","nbSegments","_pollM3U8","_replay","isPlayEmit","_switchURL","defaultOpts","_options","appended","_args7","t2","seamlessSwitch","_switchStream","force","curStream","curId","_args8","_refreshM3U8","switchStream","_switchAudioStream","audioStream","_args9","switchAudioStream","_switchSubtitleStream","stopPoll","switchSubtitleStream","_callee11","_context11","_callee12","_this$_seiService2","_context12","_loadM3U","_callee13","_this$config$manifest","_this$config$manifest2","_this$_playlist$curre","_context13","parseText","upsertPlaylist","_stream$currentAudioS","_stream$currentSubtit","mediaPlaylist","pollInterval","_this$_playlist$lastS","isEmpty","poll","p1","p3","switchToNoEmpty","hadSegmentLoaded","_loadSegmentDirect2","_callee14","loadOnce","cachedError","_this$_playlist$curre2","sameStream","_context14","_reqAndBufferSegment","feedbackLiveEdge","moveSegmentPointer","_reqAndBufferSegment2","_callee15","_this$_bufferService2","responses","before","segStart","_context15","decryptBuffer","_onCheckQuotaExceeded2","_callee16","inBuffered","mediaTime","_context16","changedSeg","checkSegmentTrackChange","_clear2","_callee17","_context17","_reset2","_callee18","_this$_seiService3","_args18","_context18","_tickTimer","_tick","_tickInterval","_error$originError","_this$media2","_this$media3","_this$_seiService4","nextLoadPoint","_this$_stats","latestKbps","_this$_bufferService3","_this$_bufferService4","_this$_playlist2","eosAllowed","isBuffered","msIsOpened","msHasOpTasks","WebAssembly","Logger$1","localStorage","getItem","enableLogger","disableLogger","PluginExtension","PluginExtension2","_this$_plugin","_this$_plugin$player","_this$_plugin2","_this$_plugin2$player","innerDegrade","degradeInfo","_degrade","originVideo","TAG","newVideo","degradeVideo","degrade","replaceChild","hlsPlugin","_init","setPlayMode","_onLowDecode","_this$_opts3$media","parseSwitchUrlArgs","HlsPlugin","_BasePlugin","HlsPlugin2","_this$hls","_this$hls2","_this$hls3","_this$player","_this$player$config","hlsOpts","__allowHlsEmptyUrl__","isMMSOnly","_this2$player$config","_this2$player$config$","keepStatusAfterSwitch","_keepPauseStatus","_this$player2","onSwitchUrl","_this2$hls$media","pluginExtension","forceDegradeToVideo","_this2$pluginExtensio","_onSwitchSubtitle","_transError","_transCoreEvent","_this$pluginExtension","_emitSeiPaylodTime","seiJson","components","Title","Card","relatedMap","computed","mapState","ads","common","menus","watch","nv","$route","query","initData","immediate","methods","mapActions","toggleLoading","moment","getVideoInfo","api","initPlayer","getMenuInfo","classifyInfo","getVideos","rows","pageNum","pageSize","$router","videoCover","dispose","$nextTick","beforeUnmount","__exports__"],"sourceRoot":""}